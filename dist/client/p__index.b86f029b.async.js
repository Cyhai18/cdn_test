!(function(){var qp=Object.defineProperty,e0=Object.defineProperties;var t0=Object.getOwnPropertyDescriptors;var Fl=Object.getOwnPropertySymbols;var bd=Object.prototype.hasOwnProperty,xd=Object.prototype.propertyIsEnumerable;var Cd=(se,j,e)=>j in se?qp(se,j,{enumerable:!0,configurable:!0,writable:!0,value:e}):se[j]=e,Qa=(se,j)=>{for(var e in j||(j={}))bd.call(j,e)&&Cd(se,e,j[e]);if(Fl)for(var e of Fl(j))xd.call(j,e)&&Cd(se,e,j[e]);return se},Ds=(se,j)=>e0(se,t0(j));var Sd=(se,j)=>{var e={};for(var v in se)bd.call(se,v)&&j.indexOf(v)<0&&(e[v]=se[v]);if(se!=null&&Fl)for(var v of Fl(se))j.indexOf(v)<0&&xd.call(se,v)&&(e[v]=se[v]);return e};var Rl=(se,j,e)=>new Promise((v,m)=>{var x=d=>{try{p(e.next(d))}catch(h){m(h)}},u=d=>{try{p(e.throw(d))}catch(h){m(h)}},p=d=>d.done?v(d.value):Promise.resolve(d.value).then(x,u);p((e=e.apply(se,j)).next())});(self.webpackChunknocode=self.webpackChunknocode||[]).push([[8866],{86500:function(se,j,e){"use strict";e.d(j,{T6:function(){return f},VD:function(){return l},WE:function(){return h},Yt:function(){return n},lC:function(){return x},py:function(){return d},rW:function(){return m},s:function(){return c},ve:function(){return p},vq:function(){return t}});var v=e(90279);function m(r,o,g){return{r:(0,v.sh)(r,255)*255,g:(0,v.sh)(o,255)*255,b:(0,v.sh)(g,255)*255}}function x(r,o,g){r=(0,v.sh)(r,255),o=(0,v.sh)(o,255),g=(0,v.sh)(g,255);var y=Math.max(r,o,g),D=Math.min(r,o,g),P=0,E=0,O=(y+D)/2;if(y===D)E=0,P=0;else{var T=y-D;switch(E=O>.5?T/(2-y-D):T/(y+D),y){case r:P=(o-g)/T+(o<g?6:0);break;case o:P=(g-r)/T+2;break;case g:P=(r-o)/T+4;break;default:break}P/=6}return{h:P,s:E,l:O}}function u(r,o,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?r+(o-r)*(6*g):g<1/2?o:g<2/3?r+(o-r)*(2/3-g)*6:r}function p(r,o,g){var y,D,P;if(r=(0,v.sh)(r,360),o=(0,v.sh)(o,100),g=(0,v.sh)(g,100),o===0)D=g,P=g,y=g;else{var E=g<.5?g*(1+o):g+o-g*o,O=2*g-E;y=u(O,E,r+1/3),D=u(O,E,r),P=u(O,E,r-1/3)}return{r:y*255,g:D*255,b:P*255}}function d(r,o,g){r=(0,v.sh)(r,255),o=(0,v.sh)(o,255),g=(0,v.sh)(g,255);var y=Math.max(r,o,g),D=Math.min(r,o,g),P=0,E=y,O=y-D,T=y===0?0:O/y;if(y===D)P=0;else{switch(y){case r:P=(o-g)/O+(o<g?6:0);break;case o:P=(g-r)/O+2;break;case g:P=(r-o)/O+4;break;default:break}P/=6}return{h:P,s:T,v:E}}function h(r,o,g){r=(0,v.sh)(r,360)*6,o=(0,v.sh)(o,100),g=(0,v.sh)(g,100);var y=Math.floor(r),D=r-y,P=g*(1-o),E=g*(1-D*o),O=g*(1-(1-D)*o),T=y%6,S=[g,E,P,P,O,g][T],$=[O,g,g,E,P,P][T],Z=[P,P,O,g,g,E][T];return{r:S*255,g:$*255,b:Z*255}}function t(r,o,g,y){var D=[(0,v.FZ)(Math.round(r).toString(16)),(0,v.FZ)(Math.round(o).toString(16)),(0,v.FZ)(Math.round(g).toString(16))];return y&&D[0].startsWith(D[0].charAt(1))&&D[1].startsWith(D[1].charAt(1))&&D[2].startsWith(D[2].charAt(1))?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0):D.join("")}function c(r,o,g,y,D){var P=[(0,v.FZ)(Math.round(r).toString(16)),(0,v.FZ)(Math.round(o).toString(16)),(0,v.FZ)(Math.round(g).toString(16)),(0,v.FZ)(a(y))];return D&&P[0].startsWith(P[0].charAt(1))&&P[1].startsWith(P[1].charAt(1))&&P[2].startsWith(P[2].charAt(1))&&P[3].startsWith(P[3].charAt(1))?P[0].charAt(0)+P[1].charAt(0)+P[2].charAt(0)+P[3].charAt(0):P.join("")}function i(r,o,g,y){var D=[pad2(a(y)),pad2(Math.round(r).toString(16)),pad2(Math.round(o).toString(16)),pad2(Math.round(g).toString(16))];return D.join("")}function a(r){return Math.round(parseFloat(r)*255).toString(16)}function f(r){return l(r)/255}function l(r){return parseInt(r,16)}function n(r){return{r:r>>16,g:(r&65280)>>8,b:r&255}}},48701:function(se,j,e){"use strict";e.d(j,{R:function(){return v}});var v={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},1350:function(se,j,e){"use strict";e.d(j,{uA:function(){return u}});var v=e(86500),m=e(48701),x=e(90279);function u(l){var n={r:0,g:0,b:0},r=1,o=null,g=null,y=null,D=!1,P=!1;return typeof l=="string"&&(l=a(l)),typeof l=="object"&&(f(l.r)&&f(l.g)&&f(l.b)?(n=(0,v.rW)(l.r,l.g,l.b),D=!0,P=String(l.r).substr(-1)==="%"?"prgb":"rgb"):f(l.h)&&f(l.s)&&f(l.v)?(o=(0,x.JX)(l.s),g=(0,x.JX)(l.v),n=(0,v.WE)(l.h,o,g),D=!0,P="hsv"):f(l.h)&&f(l.s)&&f(l.l)&&(o=(0,x.JX)(l.s),y=(0,x.JX)(l.l),n=(0,v.ve)(l.h,o,y),D=!0,P="hsl"),Object.prototype.hasOwnProperty.call(l,"a")&&(r=l.a)),r=(0,x.Yq)(r),{ok:D,format:l.format||P,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}var p="[-\\+]?\\d+%?",d="[-\\+]?\\d*\\.\\d+%?",h="(?:".concat(d,")|(?:").concat(p,")"),t="[\\s|\\(]+(".concat(h,")[,|\\s]+(").concat(h,")[,|\\s]+(").concat(h,")\\s*\\)?"),c="[\\s|\\(]+(".concat(h,")[,|\\s]+(").concat(h,")[,|\\s]+(").concat(h,")[,|\\s]+(").concat(h,")\\s*\\)?"),i={CSS_UNIT:new RegExp(h),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function a(l){if(l=l.trim().toLowerCase(),l.length===0)return!1;var n=!1;if(m.R[l])l=m.R[l],n=!0;else if(l==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=i.rgb.exec(l);return r?{r:r[1],g:r[2],b:r[3]}:(r=i.rgba.exec(l),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=i.hsl.exec(l),r?{h:r[1],s:r[2],l:r[3]}:(r=i.hsla.exec(l),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=i.hsv.exec(l),r?{h:r[1],s:r[2],v:r[3]}:(r=i.hsva.exec(l),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=i.hex8.exec(l),r?{r:(0,v.VD)(r[1]),g:(0,v.VD)(r[2]),b:(0,v.VD)(r[3]),a:(0,v.T6)(r[4]),format:n?"name":"hex8"}:(r=i.hex6.exec(l),r?{r:(0,v.VD)(r[1]),g:(0,v.VD)(r[2]),b:(0,v.VD)(r[3]),format:n?"name":"hex"}:(r=i.hex4.exec(l),r?{r:(0,v.VD)(r[1]+r[1]),g:(0,v.VD)(r[2]+r[2]),b:(0,v.VD)(r[3]+r[3]),a:(0,v.T6)(r[4]+r[4]),format:n?"name":"hex8"}:(r=i.hex3.exec(l),r?{r:(0,v.VD)(r[1]+r[1]),g:(0,v.VD)(r[2]+r[2]),b:(0,v.VD)(r[3]+r[3]),format:n?"name":"hex"}:!1)))))))))}function f(l){return!!i.CSS_UNIT.exec(String(l))}},10274:function(se,j,e){"use strict";e.d(j,{C:function(){return p}});var v=e(86500),m=e(48701),x=e(1350),u=e(90279),p=function(){function h(t,c){t===void 0&&(t=""),c===void 0&&(c={});var i;if(t instanceof h)return t;typeof t=="number"&&(t=(0,v.Yt)(t)),this.originalInput=t;var a=(0,x.uA)(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=c.format)!==null&&i!==void 0?i:a.format,this.gradientType=c.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return h.prototype.isDark=function(){return this.getBrightness()<128},h.prototype.isLight=function(){return!this.isDark()},h.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},h.prototype.getLuminance=function(){var t=this.toRgb(),c,i,a,f=t.r/255,l=t.g/255,n=t.b/255;return f<=.03928?c=f/12.92:c=Math.pow((f+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),.2126*c+.7152*i+.0722*a},h.prototype.getAlpha=function(){return this.a},h.prototype.setAlpha=function(t){return this.a=(0,u.Yq)(t),this.roundA=Math.round(100*this.a)/100,this},h.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},h.prototype.toHsv=function(){var t=(0,v.py)(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},h.prototype.toHsvString=function(){var t=(0,v.py)(this.r,this.g,this.b),c=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(c,", ").concat(i,"%, ").concat(a,"%)"):"hsva(".concat(c,", ").concat(i,"%, ").concat(a,"%, ").concat(this.roundA,")")},h.prototype.toHsl=function(){var t=(0,v.lC)(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},h.prototype.toHslString=function(){var t=(0,v.lC)(this.r,this.g,this.b),c=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(c,", ").concat(i,"%, ").concat(a,"%)"):"hsla(".concat(c,", ").concat(i,"%, ").concat(a,"%, ").concat(this.roundA,")")},h.prototype.toHex=function(t){return t===void 0&&(t=!1),(0,v.vq)(this.r,this.g,this.b,t)},h.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},h.prototype.toHex8=function(t){return t===void 0&&(t=!1),(0,v.s)(this.r,this.g,this.b,this.a,t)},h.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},h.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},h.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},h.prototype.toRgbString=function(){var t=Math.round(this.r),c=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(c,", ").concat(i,")"):"rgba(".concat(t,", ").concat(c,", ").concat(i,", ").concat(this.roundA,")")},h.prototype.toPercentageRgb=function(){var t=function(c){return"".concat(Math.round((0,u.sh)(c,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},h.prototype.toPercentageRgbString=function(){var t=function(c){return Math.round((0,u.sh)(c,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},h.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+(0,v.vq)(this.r,this.g,this.b,!1),c=0,i=Object.entries(m.R);c<i.length;c++){var a=i[c],f=a[0],l=a[1];if(t===l)return f}return!1},h.prototype.toString=function(t){var c=!!t;t=t!=null?t:this.format;var i=!1,a=this.a<1&&this.a>=0,f=!c&&a&&(t.startsWith("hex")||t==="name");return f?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},h.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},h.prototype.clone=function(){return new h(this.toString())},h.prototype.lighten=function(t){t===void 0&&(t=10);var c=this.toHsl();return c.l+=t/100,c.l=(0,u.V2)(c.l),new h(c)},h.prototype.brighten=function(t){t===void 0&&(t=10);var c=this.toRgb();return c.r=Math.max(0,Math.min(255,c.r-Math.round(255*-(t/100)))),c.g=Math.max(0,Math.min(255,c.g-Math.round(255*-(t/100)))),c.b=Math.max(0,Math.min(255,c.b-Math.round(255*-(t/100)))),new h(c)},h.prototype.darken=function(t){t===void 0&&(t=10);var c=this.toHsl();return c.l-=t/100,c.l=(0,u.V2)(c.l),new h(c)},h.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},h.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},h.prototype.desaturate=function(t){t===void 0&&(t=10);var c=this.toHsl();return c.s-=t/100,c.s=(0,u.V2)(c.s),new h(c)},h.prototype.saturate=function(t){t===void 0&&(t=10);var c=this.toHsl();return c.s+=t/100,c.s=(0,u.V2)(c.s),new h(c)},h.prototype.greyscale=function(){return this.desaturate(100)},h.prototype.spin=function(t){var c=this.toHsl(),i=(c.h+t)%360;return c.h=i<0?360+i:i,new h(c)},h.prototype.mix=function(t,c){c===void 0&&(c=50);var i=this.toRgb(),a=new h(t).toRgb(),f=c/100,l={r:(a.r-i.r)*f+i.r,g:(a.g-i.g)*f+i.g,b:(a.b-i.b)*f+i.b,a:(a.a-i.a)*f+i.a};return new h(l)},h.prototype.analogous=function(t,c){t===void 0&&(t=6),c===void 0&&(c=30);var i=this.toHsl(),a=360/c,f=[this];for(i.h=(i.h-(a*t>>1)+720)%360;--t;)i.h=(i.h+a)%360,f.push(new h(i));return f},h.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new h(t)},h.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var c=this.toHsv(),i=c.h,a=c.s,f=c.v,l=[],n=1/t;t--;)l.push(new h({h:i,s:a,v:f})),f=(f+n)%1;return l},h.prototype.splitcomplement=function(){var t=this.toHsl(),c=t.h;return[this,new h({h:(c+72)%360,s:t.s,l:t.l}),new h({h:(c+216)%360,s:t.s,l:t.l})]},h.prototype.onBackground=function(t){var c=this.toRgb(),i=new h(t).toRgb(),a=c.a+i.a*(1-c.a);return new h({r:(c.r*c.a+i.r*i.a*(1-c.a))/a,g:(c.g*c.a+i.g*i.a*(1-c.a))/a,b:(c.b*c.a+i.b*i.a*(1-c.a))/a,a})},h.prototype.triad=function(){return this.polyad(3)},h.prototype.tetrad=function(){return this.polyad(4)},h.prototype.polyad=function(t){for(var c=this.toHsl(),i=c.h,a=[this],f=360/t,l=1;l<t;l++)a.push(new h({h:(i+l*f)%360,s:c.s,l:c.l}));return a},h.prototype.equals=function(t){return this.toRgbString()===new h(t).toRgbString()},h}();function d(h,t){return h===void 0&&(h=""),t===void 0&&(t={}),new p(h,t)}},90279:function(se,j,e){"use strict";e.d(j,{FZ:function(){return h},JX:function(){return d},V2:function(){return m},Yq:function(){return p},sh:function(){return v}});function v(t,c){x(t)&&(t="100%");var i=u(t);return t=c===360?t:Math.min(c,Math.max(0,parseFloat(t))),i&&(t=parseInt(String(t*c),10)/100),Math.abs(t-c)<1e-6?1:(c===360?t=(t<0?t%c+c:t%c)/parseFloat(String(c)):t=t%c/parseFloat(String(c)),t)}function m(t){return Math.min(1,Math.max(0,t))}function x(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function u(t){return typeof t=="string"&&t.indexOf("%")!==-1}function p(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function d(t){return t<=1?"".concat(Number(t)*100,"%"):t}function h(t){return t.length===1?"0"+t:String(t)}},57182:function(se,j,e){"use strict";e.r(j),e.d(j,{app:function(){return O},default:function(){return T}});var v=e(21143),m=e(15009),x=e.n(m),u=e(99289),p=e.n(u),d=e(12444),h=e.n(d),t=e(72004),c=e.n(t),i=e(31996),a=e.n(i),f=e(26037),l=e.n(f);function n(S){var $=Math.floor(Math.abs(S)),Z=Math.abs(S%1*60),K=($<10?"0":"")+$,z=(Z<10?"0":"")+Z,w=S>=0?"+":"-";return w+K+":"+z}var r=function(){var $=new Date().getTimezoneOffset()/-60;return n($)};function o(S){var $=S.getPublicPath(),Z="^".concat($,"apps/([^/]*)/"),K=location.pathname.match(new RegExp(Z));return K?K[0]:$}var g=["/app/settings/","/app/apps","/app/notification","/app/my-account","/app/manage-my-apps"],y=["/applications:get","/applications:list","/applicationsGroup:list"],D=function($){var Z,K=$.headers,z=$.url,w=(Z=window)===null||Z===void 0||(Z=Z.location)===null||Z===void 0?void 0:Z.pathname;if(g.some(function(M){return w==null?void 0:w.startsWith(M)})||y.some(function(M){return z==null?void 0:z.startsWith(M)})||$.headers["X-Application"]===null)return"";if(K["X-Application"])return K["X-Application"];var A=w==null?void 0:w.match(/\/app\/([^/]*)/);return A?A[1]:""},P=function(S){a()(Z,S);var $=l()(Z);function Z(){return h()(this,Z),$.apply(this,arguments)}return c()(Z,[{key:"afterAdd",value:function(){var K=p()(x()().mark(function w(){return x()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return this.router.setType("browser"),this.router.setBasename(o(this.app)),this.app.apiClient.axios.interceptors.request.use(function(b){var R,L=D(b);return L&&(b.headers["X-Application"]=L),b.headers["X-Application"]===null&&delete b.headers["X-Application"],b.headers["X-Hostname"]=(R=window)===null||R===void 0||(R=R.location)===null||R===void 0?void 0:R.hostname,b.headers["X-Timezone"]=r(),b}),M.next=5,this.app.pm.add(v.NocoBaseBuildInPlugin);case 5:case"end":return M.stop()}},w,this)}));function z(){return K.apply(this,arguments)}return z}()}]),Z}(v.Plugin);function E(S){return Promise.resolve(null)}var O=new v.Application({apiClient:{baseURL:window.__nocobase_api_base_url__||"/api/"},publicPath:window.__nocobase_public_path__||"/",plugins:[P],ws:{url:window.__nocobase_ws_url__||void 0||"",basename:window.__nocobase_ws_path__||"/ws"},loadRemotePlugins:!0,devDynamicImport:E}),T=O.getRootComponent()},75667:function(se,j,e){"use strict";e.d(j,{Aj:function(){return N},Hh:function(){return M},Hq:function(){return b},Jn:function(){return R},R1:function(){return $},R3:function(){return D},TR:function(){return S},VV:function(){return O},Z5:function(){return P},fG:function(){return T},fJ:function(){return V},mE:function(){return L},ov:function(){return A},tq:function(){return B},xd:function(){return Z}});var v=e(5574),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(96486),h=e.n(d),t=e(67294),c=e(89250),i=e(72029),a=e(23782),f=e(6145),l=e(63250),n=e(44990),r=e(36586),o=e(98427),g=e(74614),y=e(85893),D=(0,t.createContext)({});D.displayName="ACLContext";var P=function(I){return(0,y.jsx)(o.G0E,{components:{ACLCollectionFieldProvider:B,ACLActionProvider:L,ACLMenuItemProvider:V,ACLCollectionProvider:M},children:I.children})},E=function U(I){var F;return I!=null&&I.match?I.match:I&&U(I==null||(F=I.children)===null||F===void 0?void 0:F.props)},O=function(I){var F=E(I.children.props),W=(0,o.ngQ)(),X=W.setDesignable,J=(0,i.LY)(),C=(0,g.qD)(),k=(0,i.QT)({url:"roles:check"},{onSuccess:function(te){var le,ne,ie;if(te!=null&&(le=te.data)!==null&&le!==void 0&&le.snippets.includes("ui.*")||X(!1),(te==null||(ne=te.data)===null||ne===void 0?void 0:ne.role)!==J.auth.role){var ee;J.auth.setRole(te==null||(ee=te.data)===null||ee===void 0?void 0:ee.role)}J.auth.setRoleAuth(JSON.stringify(te==null?void 0:te.data)),C.pluginSettingsManager.setAclSnippets((te==null||(ie=te.data)===null||ie===void 0?void 0:ie.snippets)||[])}});if(k.loading){var Y;return C==null||(Y=C.renderComponent)===null||Y===void 0?void 0:Y.call(C,"AppSkeleton")}return k.error?(0,y.jsx)(c.Navigate,{replace:!0,to:"/signin"}):(0,y.jsx)(D.Provider,{value:k,children:I.children})},T=function(){var I=(0,t.useContext)(D),F=A(),W=F.allowAll;return function(){W||I.refresh()}},S=function(){return(0,t.useContext)(D)},$=(0,t.createContext)({});$.displayName="ACLActionParamsContext";var Z=function(){var I,F,W=(0,t.useContext)(D),X=(0,n.FC)(),J=(W==null||(I=W.data)===null||I===void 0?void 0:I.meta)||{},C=J.dataSources,k=u()(u()({},W==null||(F=W.data)===null||F===void 0?void 0:F.data),(0,d.omit)(C==null?void 0:C[X],"snippets")),Y=function(te){var le,ne=te.split(":").pop();return(k==null||(le=k.actionAlias)===null||le===void 0?void 0:le[ne])||ne};return{data:k,getActionAlias:Y,inResources:function(te){var le,ne;return k==null||(le=k.resources)===null||le===void 0||(ne=le.includes)===null||ne===void 0?void 0:ne.call(le,te)},getResourceActionParams:function(te){var le,ne,ie=te.split(":"),ee=m()(ie,1),fe=ee[0],de=Y(te);return(k==null||(le=k.actions)===null||le===void 0?void 0:le["".concat(fe,":").concat(de)])||(k==null||(ne=k.actions)===null||ne===void 0?void 0:ne[te])},getStrategyActionParams:function(te){var le,ne=Y(te),ie=k==null||(le=k.strategy)===null||le===void 0||(le=le.actions)===null||le===void 0?void 0:le.find(function(ee){var fe=ee.split(":"),de=m()(fe,1),ue=de[0];return ue===ne});return ie?{}:null}}},K=function(){var I,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=F.schema,X=F.recordPkValue,J=!1;return F.ignoreScope&&(J=!0),W!=null&&W["x-acl-ignore-scope"]&&(J=!0),W!=null&&(I=W["x-acl-action-props"])!==null&&I!==void 0&&I.skipScopeCheck&&(J=!0),X||(J=!0),J},z=function(){var I,F,W=(0,l.u3)(),X=(0,a.BU)();return(I=X==null?void 0:X.allowedActions)!==null&&I!==void 0?I:W==null||(F=W.data)===null||F===void 0||(F=F.meta)===null||F===void 0?void 0:F.allowedActions},w=function(){var I,F,W,X,J=(0,l.u3)(),C=(0,a.BU)()||{service:J};return(C==null||(I=C.props)===null||I===void 0?void 0:I.resource)||(C==null||(F=C.props)===null||F===void 0?void 0:F.association)||(C==null||(W=C.props)===null||W===void 0?void 0:W.collection)||(C==null||(X=C.service)===null||X===void 0||(X=X.defaultRequest)===null||X===void 0?void 0:X.resource)};function A(){var U=Z(),I=U.data,F=U.getActionAlias,W=U.inResources,X=U.getResourceActionParams,J=U.getStrategyActionParams,C=z(),k=(0,f.useCollectionManager_deprecated)(),Y=k.getCollectionJoinField,H=function(le,ne){var ie=F(le);return Array.isArray(C==null?void 0:C[ie])?C[ie].includes(ne):null};return u()(u()({},I),{},{parseAction:function(le){var ne,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=le.split(":"),fe=m()(ee,2),de=fe[0],ue=fe[1],Se=(de==null?void 0:de.includes("."))&&((ne=Y(de))===null||ne===void 0?void 0:ne.target);if(!K(ie)){var ae=H(ue,ie.recordPkValue);if(ae!==null)return ae?{}:null}return I!=null&&I.allowAll?{}:W(Se)?X("".concat(Se,":").concat(ue)):W(de)?X(le):J(le)}})}var M=function(I){var F,W,X=A(),J=X.allowAll,C=X.parseAction,k=(0,g.qD)(),Y=(0,p.useFieldSchema)();if(J||k.disableAcl)return I.children;var H=(Y==null?void 0:Y["x-acl-action"])||I.actionPath,te=(Y==null||(F=Y["x-decorator-props"])===null||F===void 0?void 0:F.association)||(Y==null||(W=Y["x-decorator-props"])===null||W===void 0?void 0:W.collection);if(H==="undefined:list"&&te&&te!=="undefined"&&(H="".concat(te,":list")),!H)return I.children;var le=C(H,{schema:Y});if(!le)return null;var ne=H.split(":"),ie=m()(ne,2),ee=ie[0],fe=ie[1];return le.actionName=fe,(0,y.jsx)($.Provider,{value:le,children:I.children})},b=function(){return(0,t.useContext)($)},R=function(){var I=(0,f.useCollection_deprecated)(),F=I.getPrimaryKey,W=(0,r.a)(),X=F();return W==null?void 0:W[X]},L=function(I){var F,W,X=(0,f.useCollection_deprecated)(),J=X.template,C=X.writableView,k=R(),Y=w(),H=A(),te=H.parseAction,le=(0,p.useFieldSchema)(),ne=le["x-acl-action"],ie=["create","update","destroy","importXlsx"];if(!ne&&Y&&le["x-action"]&&(ne="".concat(Y,":").concat(le["x-action"])),(F=ne)!==null&&F!==void 0&&F.includes(":")||(ne="".concat(Y,":").concat(ne)),!ne)return(0,y.jsx)(y.Fragment,{children:I.children});if(!Y)return(0,y.jsx)(y.Fragment,{children:I.children});var ee=te(ne,{schema:le,recordPkValue:k});return ee?ie.includes(ne)||ie.includes((W=ne)===null||W===void 0?void 0:W.split(":")[1])?J!=="view"||C?(0,y.jsx)($.Provider,{value:ee,children:I.children}):null:(0,y.jsx)($.Provider,{value:ee,children:I.children}):(0,y.jsx)($.Provider,{value:ee,children:I.children})},N=function(){var I=(0,t.useContext)($),F=(0,t.useMemo)(function(){return[].concat((I==null?void 0:I.whitelist)||[]).concat((I==null?void 0:I.fields)||[]).concat((I==null?void 0:I.appends)||[])},[I==null?void 0:I.whitelist,I==null?void 0:I.fields,I==null?void 0:I.appends]);return{whitelist:F,schemaInWhitelist:(0,t.useCallback)(function(W,X){if(X||F.length===0||!W||!W["x-collection-field"])return!0;var J=W["x-collection-field"].split("."),C=m()(J,2),k=C[0],Y=C[1];return F==null?void 0:F.includes(Y||k)},[F])}},B=function(I){var F=(0,p.useFieldSchema)(),W=(0,p.useField)(),X=A(),J=X.allowAll,C=N(),k=C.whitelist,Y=F.name.split("."),H=m()(Y,1),te=H[0],le=!F["x-acl-ignore"]&&k.length>0&&F!==null&&F!==void 0&&F["x-collection-field"]?k.includes(te):!0;return(0,t.useEffect)(function(){le||(W.required=!1,W.display="hidden")},[le,W]),J?(0,y.jsx)(y.Fragment,{children:I.children}):F["x-collection-field"]?le?(0,y.jsx)(y.Fragment,{children:I.children}):null:(0,y.jsx)(y.Fragment,{children:I.children})},V=function(I){var F=A(),W=F.allowAll,X=F.allowMenuItemIds,J=X===void 0?[]:X,C=F.snippets,k=(0,p.useFieldSchema)();return W||C.includes("ui.*")||C.includes("apm.*")&&!C.includes("!apm.design")?(0,y.jsx)(y.Fragment,{children:I.children}):k["x-uid"]?J.includes(k["x-uid"])?(0,y.jsx)(y.Fragment,{children:I.children}):null:(0,y.jsx)(y.Fragment,{children:I.children})}},47646:function(se,j,e){"use strict";e.d(j,{R1:function(){return n.R1},mE:function(){return n.mE},tq:function(){return n.tq},Hh:function(){return n.Hh},R3:function(){return n.R3},fJ:function(){return n.fJ},$M:function(){return Kt},pz:function(){return Rt},Z5:function(){return n.Z5},VV:function(){return n.VV},dr:function(){return H},Bk:function(){return fe},Wx:function(){return de},XU:function(){return Se},O9:function(){return q},No:function(){return Ae},kF:function(){return pe},X$:function(){return ye},P2:function(){return ee},S3:function(){return vt},H3:function(){return _t},R6:function(){return Ve},Hq:function(){return n.Hq},TR:function(){return n.TR},Aj:function(){return n.Aj},ov:function(){return n.ov},xd:function(){return n.xd},Jn:function(){return n.Jn},fG:function(){return n.fG},cm:function(){return De}});var v={};e.r(v),e.d(v,{MenuConfigure:function(){return H},PermissionContext:function(){return fe},PermissionProvider:function(){return de},RoleConfigure:function(){return Se},RoleResourceCollectionContext:function(){return q},RoleTable:function(){return Ae},RolesResourcesActions:function(){return pe},ScopeSelect:function(){return ye},SettingCenterPermissionProvider:function(){return ee},SettingCenterProvider:function(){return vt},SettingsCenterConfigure:function(){return _t},StrategyActions:function(){return Ve},useRolesResourcesScopesSelectedRowKeys:function(){return De}});var m=e(15009),x=e.n(m),u=e(99289),p=e.n(u),d=e(12444),h=e.n(d),t=e(72004),c=e.n(t),i=e(31996),a=e.n(i),f=e(26037),l=e.n(f),n=e(75667),r=e(9783),o=e.n(r),g=e(84327),y=e(4393),D=e(67294),P=e(98427),E=e(97857),O=e.n(E),T=e(5574),S=e.n(T),$=e(19632),Z=e.n($),K=e(96695),z=e.n(K),w=e(45360),A=e(16455),M=e(84567),b=e(96486),R=e(26793),L=e(72029),N=e(36586),B=e(64930),V=e(57953),U=e(17958),I=e(85893),F=(0,D.createContext)(null);F.displayName="MenuItemsContext";var W=function Dt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Bt=[];for(var He in dt)if(Object.prototype.hasOwnProperty.call(dt,He)){var ct=dt[He],St={title:ct.title,uid:ct["x-uid"]};ct.properties&&(St.children=Dt(ct.properties)),Bt.push(St)}return Bt},X=function(){return(0,D.useContext)(F)},J=function(dt){var Bt,He=(0,U.Wd)(),ct={url:"uiSchemas:getProperties/".concat(He)},St=(0,L.QT)(ct);if(St.loading)return(0,I.jsx)(V.Z,{});var Tt=W((Bt=St.data)===null||Bt===void 0||(Bt=Bt.data)===null||Bt===void 0?void 0:Bt.properties);return(0,I.jsx)(F.Provider,{value:{service:St,items:Tt},children:dt.children})},C=function Dt(dt){if(!Array.isArray(dt))return[];var Bt=[],He=z()(dt),ct;try{for(He.s();!(ct=He.n()).done;){var St=ct.value;Bt.push(St.uid),Bt.push.apply(Bt,Z()(Dt(St.children)))}}catch(Tt){He.e(Tt)}finally{He.f()}return Bt},k=function Dt(dt,Bt){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(!dt)return[];var ct=z()(dt),St;try{for(ct.s();!(St=ct.n()).done;){var Tt=St.value;if(He.push(Tt.uid),Bt(Tt))return He;if(Tt.children){var Mt=Dt(Tt.children,Bt,He);if(Mt.length)return Mt}He.pop()}}catch(Zt){ct.e(Zt)}finally{ct.f()}return[]},Y=function Dt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],He=z()(dt),ct;try{for(He.s();!(ct=He.n()).done;){var St=ct.value;Bt.push(St.uid),St.children&&St.children.length&&Dt(St.children,Bt)}}catch(Tt){He.e(Tt)}finally{He.f()}return Bt},H=function(){var dt=(0,B.y)(),Bt=dt.styles,He=(0,N.a)(),ct=(0,L.LY)(),St=X(),Tt=St.items,Mt=(0,R.$)(),Zt=Mt.t,Je=C(Tt),et=(0,D.useState)([]),rt=S()(et,2),yt=rt[0],xt=rt[1],Ct=(0,L.QT)({resource:"roles.menuUiSchemas",resourceOf:He.name,action:"list",params:{paginate:!1}},{onSuccess:function(hn){var Dn;xt((hn==null||(Dn=hn.data)===null||Dn===void 0?void 0:Dn.map(function(Gt){return Gt["x-uid"]}))||[])}}),mt=Ct.loading,at=Ct.refresh,ht=ct.resource("roles.menuUiSchemas",He.name),ot=Je.length===yt.length,kt=function(){var Lt=p()(x()().mark(function hn(Dn,Gt){var mn,qt,$t,Pn,vn;return x()().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:if(mn=k(Tt,function(un){return un.uid===Gt.uid}),qt=Y(Gt==null?void 0:Gt.children,[]),!Dn){Rn.next=10;break}return $t=qt.concat(Gt.uid),Pn=yt.filter(function(un){return!$t.includes(un)}),xt(Z()(Pn)),Rn.next=8,ht.remove({values:$t});case 8:Rn.next=14;break;case 10:return vn=qt.concat(mn),xt(function(un){return(0,b.uniq)([].concat(Z()(un),Z()(vn)))}),Rn.next=14,ht.add({values:vn});case 14:w.ZP.success(Zt("Saved successfully"));case 15:case"end":return Rn.stop()}},hn)}));return function(Dn,Gt){return Lt.apply(this,arguments)}}(),nn=function Lt(hn){return hn.map(function(Dn){var Gt=Zt(Dn.title);return Dn.children?O()(O()({},Dn),{},{title:Gt,children:Lt(Dn.children)}):O()(O()({},Dn),{},{title:Gt})})};return(0,I.jsx)(A.Z,{className:Bt,loading:mt,rowKey:"uid",pagination:!1,expandable:{defaultExpandAllRows:!0},columns:[{dataIndex:"title",title:Zt("Menu item title")},{dataIndex:"accessible",title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(M.Z,{checked:ot,onChange:function(){var Lt=p()(x()().mark(function hn(Dn){return x()().wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:if(!ot){mn.next=5;break}return mn.next=3,ht.set({values:[]});case 3:mn.next=7;break;case 5:return mn.next=7,ht.set({values:Je});case 7:at(),w.ZP.success(Zt("Saved successfully"));case 9:case"end":return mn.stop()}},hn)}));return function(hn){return Lt.apply(this,arguments)}}()})," ",Zt("Accessible")]}),render:function(hn,Dn){var Gt=yt.includes(Dn.uid);return(0,I.jsx)(M.Z,{checked:Gt,onChange:function(){return kt(Gt,Dn)}})}}],dataSource:nn(Tt)})},te=e(86201),le=e(94350),ne=e(44908),ie=e.n(ne),ee=function(dt){var Bt,He=(0,D.useContext)(fe),ct=He.currentRecord;return ct!=null&&(Bt=ct.snippets)!==null&&Bt!==void 0&&Bt.includes("pm.*")?(0,I.jsx)("div",{children:dt.children}):null},fe=(0,D.createContext)(null);fe.displayName="PermissionContext";var de=function(dt){var Bt=(0,L.LY)(),He=(0,N.a)(),ct=(0,R.$)(),St=ct.t,Tt=He.snippets;Tt==null||Tt.forEach(function(rt){He[rt]=!0});var Mt=(0,D.useState)(He),Zt=S()(Mt,2),Je=Zt[0],et=Zt[1];return(0,I.jsx)(fe.Provider,{value:{currentRecord:Je,update:function(){var rt=p()(x()().mark(function xt(Ct,mt){var at,ht,ot,kt;return x()().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(at=Ct.getState(),ht=at.path,ot=at.value,!["ui.*","pm","pm.*"].includes(ht)){Lt.next=13;break}if(kt=Bt.resource("roles.snippets",He.name),!ot){Lt.next=8;break}return Lt.next=6,kt.add({values:[ht]});case 6:Lt.next=10;break;case 8:return Lt.next=10,kt.remove({values:[ht]});case 10:et(O()(O()(O()({},Je),mt.values),{},o()({},ht,ot))),Lt.next=16;break;case 13:return Lt.next=15,Bt.resource("roles").update({filterByTk:He.name,values:mt.values});case 15:et(O()(O()({},Je),mt.values));case 16:w.ZP.success(St("Saved successfully"));case 17:case"end":return Lt.stop()}},xt)}));function yt(xt,Ct){return rt.apply(this,arguments)}return yt}()},children:dt.children})},ue=(0,le.connect)(function(Dt){var dt=(0,R.$)(),Bt=dt.t;return(0,I.jsxs)(M.Z.Group,{style:{width:"100%",display:"block"},value:Dt.value,onChange:function(ct){for(var St=["ui.*","pm","pm.*","app"],Tt=St.map(function(rt){return"!".concat(rt)}),Mt=ie()([].concat(Z()(Dt.value||[]),Z()(ct))).filter(function(rt){return rt&&!Tt.includes(rt)}).map(function(rt){return!St.includes(rt)||ct!=null&&ct.includes(rt)?rt:"!".concat(rt)}),Zt=0,Je=St;Zt<Je.length;Zt++){var et=Je[Zt];!Mt.includes(et)&&!Mt.includes("!".concat(et))&&Mt.push("!".concat(et))}Dt.onChange(Mt)},children:[(0,I.jsx)("div",{style:{marginTop:16},children:(0,I.jsx)(M.Z,{value:"ui.*",children:Bt("Allows to configure interface")})}),(0,I.jsx)("div",{style:{marginTop:8},children:(0,I.jsx)(M.Z,{value:"pm",children:Bt("Allows to install, activate, disable plugins")})}),(0,I.jsx)("div",{style:{marginTop:8},children:(0,I.jsx)(M.Z,{value:"pm.*",children:Bt("Allows to configure plugins")})}),(0,I.jsx)("div",{style:{marginTop:8},children:(0,I.jsx)(M.Z,{value:"app",children:Bt("Allows to clear server cache, reboot application")})})]})}),Se=function(){var dt=(0,D.useContext)(fe),Bt=dt.update,He=dt.currentRecord,ct=(0,R.$)(),St=ct.t;return(0,I.jsx)(P.n6,{components:{SnippetCheckboxGroup:ue},schema:{type:"void",name:"form","x-component":"Form","x-component-props":{useValues:function(Mt){var Zt=(0,L.LY)();return(0,L.QT)(function(){return Zt.resource("roles").get({filterByTk:He.name}).then(function(Je){var et,rt,yt=Je==null||(et=Je.data)===null||et===void 0?void 0:et.data;return(rt=yt.snippets)===null||rt===void 0||rt.forEach(function(xt){yt[xt]=!0}),{data:yt}})},Mt)},effects:function(){(0,te.onFieldChange)("*",function(){var Mt=p()(x()().mark(function Zt(Je,et){return x()().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(et.modified){yt.next=2;break}return yt.abrupt("return");case 2:return yt.next=4,Bt(Je,et);case 4:case"end":return yt.stop()}},Zt)}));return function(Zt,Je){return Mt.apply(this,arguments)}}())}},properties:{snippets:{title:St("Configure permissions"),type:"boolean","x-decorator":"FormItem","x-component":"SnippetCheckboxGroup"},allowNewMenu:{title:St("Menu permissions"),"x-decorator":"FormItem","x-component":"Checkbox","x-content":St("New menu items are allowed to be accessed by default.")}}}})},ae=e(57134),G=e(66309),re=e(21143),oe=e(78718),ce=e.n(oe),be={name:"roles",filterTargetKey:"name",targetKey:"name",fields:[{type:"integer",name:"title",interface:"input",uiSchema:{title:'{{t("Role display name")}}',type:"number","x-component":"Input",required:!0}},{type:"string",name:"name",interface:"input",uiSchema:{title:'{{t("Role UID")}}',type:"string","x-component":"Input"}},{type:"boolean",name:"default",interface:"boolean",uiSchema:{title:'{{t("Default role")}}',type:"boolean","x-component":"Checkbox"}}]},xe={type:"object",properties:{block1:{type:"void","x-decorator":"ResourceActionProvider","x-decorator-props":{collection:be,resourceName:"roles",request:{resource:"roles",action:"list",params:{pageSize:50,filter:{"name.$ne":"root"},showAnonymous:!0,sort:["createdAt"],appends:[]}}},"x-component":"CollectionProvider_deprecated","x-component-props":{collection:be},properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{style:{marginBottom:16}},properties:{delete:{type:"void",title:'{{ t("Delete") }}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useBulkDestroyAction }}",confirm:{title:"{{t('Delete role')}}",content:"{{t('Are you sure you want to delete it?')}}"}}},create:{type:"void",title:'{{t("Add role")}}',"x-component":"Action","x-component-props":{type:"primary"},properties:{drawer:{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:function(dt){var Bt=(0,P.XCj)();return(0,L.QT)(function(){return Promise.resolve({data:{name:"r_".concat((0,g.uid)()),snippets:["!ui.*","!pm","!pm.*"]}})},O()(O()({},dt),{},{refreshDeps:[Bt.visible]}))}},title:'{{t("Add role")}}',properties:{title:{"x-component":"CollectionField","x-decorator":"FormItem"},name:{"x-component":"CollectionField","x-decorator":"FormItem",description:'{{t("Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.")}}'},default:{"x-component":"CollectionField","x-decorator":"FormItem",title:"","x-content":'{{t("Default role")}}'},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{cancel:{title:'{{t("Cancel")}}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ cm.useCreateAction }}"}}}}}}}}}},table:{type:"void","x-uid":"input","x-component":"Table.Void","x-component-props":{rowKey:"name",rowSelection:{type:"checkbox"},useDataSource:"{{ cm.useDataSourceFromRAC }}"},properties:{column1:{type:"void","x-decorator":"Table.Column.Decorator","x-component":"Table.Column",properties:{title:{type:"number","x-component":"CollectionField","x-read-pretty":!0}}},column2:{type:"void","x-decorator":"Table.Column.Decorator","x-component":"Table.Column",properties:{name:{type:"string","x-component":"CollectionField","x-read-pretty":!0}}},column3:{type:"void","x-decorator":"Table.Column.Decorator","x-component":"Table.Column",properties:{default:{type:"string","x-component":"CollectionField","x-read-pretty":!0}}},column4:{type:"void",title:'{{t("Actions")}}',"x-component":"Table.Column",properties:{actions:{type:"void","x-component":"Space","x-component-props":{split:"|"},properties:{view:{type:"void",title:'{{t("Configure")}}',"x-component":"Action.Link","x-decorator":"ACLActionProvider","x-acl-action":"roles:update","x-component-props":{},properties:{drawer:{type:"void","x-component":"Action.Drawer","x-decorator":"PermissionProvider",title:'{{t("Configure permissions")}}',properties:{tabs1:{type:"void","x-component":"Tabs","x-component-props":{},properties:{tab1:{type:"void",title:'{{t("General permissions")}}',"x-component":"Tabs.TabPane","x-component-props":{},properties:{role:{"x-component":"RoleConfigure"}}},tab3:{type:"void",title:'{{t("Menu permissions")}}',"x-component":"Tabs.TabPane","x-component-props":{},properties:{menu:{"x-decorator":"MenuItemsProvider","x-component":"MenuConfigure"}}},tab4:{type:"void",title:'{{t("Plugin settings permissions")}}',"x-decorator":"SettingCenterPermissionProvider","x-component":"Tabs.TabPane","x-component-props":{},properties:{menu:{"x-decorator":"SettingCenterProvider","x-component":"SettingsCenterConfigure"}}}}}}}}},update:{type:"void",title:'{{t("Edit")}}',"x-decorator":"ACLActionProvider","x-acl-action":"roles:update","x-component":"Action.Link","x-component-props":{type:"primary"},properties:{drawer:{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:function(dt){var Bt=(0,N.a)(),He=(0,L.QT)(function(){return Promise.resolve({data:ce()(Bt,["title","name","default"])})},O()(O()({},dt),{},{manual:!0})),ct=(0,P.XCj)();return(0,D.useEffect)(function(){ct.visible&&He.run()},[ct.visible]),He}},title:'{{t("Edit role")}}',properties:{title:{"x-component":"CollectionField","x-decorator":"FormItem"},name:{"x-component":"CollectionField","x-decorator":"FormItem","x-disabled":!0},default:{title:"","x-component":"CollectionField","x-decorator":"FormItem","x-content":'{{t("Default role")}}'},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{cancel:{title:'{{t("Cancel")}}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ cm.useUpdateAction }}"}}}}}}}},delete:{type:"void",title:'{{ t("Delete") }}',"x-acl-action":"roles:destroy","x-decorator":"ACLActionProvider","x-component":"Action.Link","x-component-props":{confirm:{title:"{{t('Delete role')}}",content:"{{t('Are you sure you want to delete it?')}}"},useAction:"{{cm.useDestroyAction}}"}}}}}}}}}}}},ge=(0,D.createContext)([]);ge.displayName="AvailableActionsContext";var he=function(dt){var Bt=(0,L.QT)({resource:"availableActions",action:"list"}),He=Bt.data,ct=Bt.loading;return ct?(0,I.jsx)(V.Z,{}):(0,I.jsx)(ge.Provider,{value:He==null?void 0:He.data,children:dt.children})},Pe=function(){return(0,D.useContext)(ge)},Ae=function(){return(0,I.jsx)("div",{children:(0,I.jsx)(P.DDd.Provider,{value:{designable:!1},children:(0,I.jsx)(he,{children:(0,I.jsx)(P.n6,{schema:xe,components:{MenuItemsProvider:J,SettingCenterPermissionProvider:ee,PermissionProvider:de}})})})})},Be=e(79531),Le=e(81560),Me={name:"rolesResourcesScopes",fields:[{type:"string",name:"name",interface:"input",uiSchema:{title:'{{t("Scope name")}}',type:"string","x-component":"Input",required:!0}}]},Te=function(){var dt=(0,D.useContext)(q),Bt=dt.name,He=(0,Be.bz)();return(0,D.useEffect)(function(){He.form.setInitialValues({resourceName:Bt})},[Bt]),{form:He.form}},we={type:"object",properties:{scope:{"x-component":"RecordPicker","x-component-props":{size:"small",fieldNames:{label:"name",value:"id"},multiple:!1,association:{target:"rolesResourcesScopes"},onChange:"{{ onChange }}"},properties:{selector:{type:"void",title:'{{ t("Select record") }}',"x-component":"RecordPicker.Selector","x-component-props":{className:"nb-record-picker-selector"},properties:{tableBlock:{type:"void","x-decorator":"TableSelectorProvider","x-decorator-props":{collection:Me,resource:"rolesResourcesScopes",action:"list",params:{pageSize:20},useParams:function(){var dt=(0,D.useContext)(q);return{filter:{$or:[{resourceName:dt.name},{resourceName:null}]}}},rowKey:"id"},"x-component":"BlockItem",properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{style:{marginBottom:16}},properties:{create:{type:"void",title:'{{ t("Add new") }}',"x-action":"create","x-component":"Action","x-component-props":{icon:"PlusOutlined",openMode:"drawer",type:"primary"},properties:{drawer:{type:"void",title:'{{ t("Add record") }}',"x-component":"Action.Container","x-component-props":{className:"nb-action-popup"},properties:{formBlock:{type:"void","x-decorator":"FormBlockProvider","x-decorator-props":{resource:"rolesResourcesScopes",collection:Me},"x-component":"CardItem",properties:{form:{type:"void","x-component":"FormV2","x-use-component-props":Te,properties:{name:{type:"string","x-component":"CollectionField","x-decorator":"FormItem"},scope:{type:"object",title:'{{t("Data scope")}}',name:"filter","x-decorator":"FormItem","x-component":"Filter","x-use-component-props":function(){var dt=(0,D.useContext)(q),Bt=(0,P.xQm)(dt.name);return{options:Bt}},"x-component-props":{dynamicComponent:Le.qj}},actions:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{marginTop:24}},properties:{create:{title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"useCreateActionProps","x-component-props":{type:"primary",htmlType:"submit"}}}}}}}}}}}}}},value:{type:"array","x-component":"TableV2.Selector","x-use-component-props":"useTableSelectorProps","x-component-props":{rowKey:"id",rowSelection:{type:"checkbox"}},properties:{column1:{type:"void","x-decorator":"TableV2.Column.Decorator","x-component":"TableV2.Column",properties:{name:{type:"string","x-component":"CollectionField","x-read-pretty":!0}}},actions:{type:"void",title:'{{ t("Actions") }}',"x-action-column":"actions","x-component":"TableV2.Column",properties:{actions:{type:"void","x-decorator":"DndContext","x-component":"Space","x-component-props":{split:"|"},properties:{edit:{type:"void",title:'{{ t("Edit") }}',"x-action":"update","x-decorator":"ACLActionProvider","x-component":"Action.Link","x-component-props":{openMode:"drawer",icon:"EditOutlined"},properties:{drawer:{type:"void",title:'{{ t("Edit record") }}',"x-component":"Action.Container","x-component-props":{className:"nb-action-popup"},properties:{formBlock:{type:"void","x-decorator":"FormBlockProvider","x-decorator-props":{resource:"rolesResourcesScopes",collection:Me,action:"get",useParams:"{{ useParamsFromRecord }}"},"x-component":"CardItem",properties:{form:{type:"void","x-component":"FormV2","x-use-component-props":"useFormBlockProps",properties:{name:{type:"string","x-component":"CollectionField","x-decorator":"FormItem"},scope:{type:"object",title:'{{t("Data scope")}}',name:"filter","x-decorator":"FormItem","x-component":"Filter","x-use-component-props":function(){var dt=(0,D.useContext)(q),Bt=(0,P.xQm)(dt.name);return{options:Bt}},"x-component-props":{dynamicComponent:Le.qj}},actions:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{marginTop:24}},properties:{update:{title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"useUpdateActionProps","x-component-props":{type:"primary",htmlType:"submit"}}}}}}}}}}}},destroy:{title:'{{ t("Delete") }}',"x-action":"destroy","x-decorator":"ACLActionProvider","x-component":"Action.Link","x-use-component-props":"useDestroyActionProps","x-component-props":{icon:"DeleteOutlined",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"}}}}}}}}}}},footer:{"x-component":"Action.Container.Footer","x-component-props":{},properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{},properties:{submit:{title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"usePickActionProps","x-component-props":{type:"primary",htmlType:"submit"}}}}}}}}}}}},Ue=(0,D.createContext)(null);Ue.displayName="RolesResourcesScopesSelectedRowKeysContext";var je=function(dt){var Bt=(0,D.useState)([]),He=S()(Bt,2),ct=He[0],St=He[1];return(0,I.jsx)(Ue.Provider,{value:[ct,St],children:dt.children})},De=function(){return(0,D.useContext)(Ue)},ye=function(dt){var Bt=(0,D.useMemo)(function(){return(0,te.createForm)({values:{scope:dt.value}})},[]);return(0,I.jsx)(P.RVL,{form:Bt,children:(0,I.jsx)(P.n6,{components:{RolesResourcesScopesSelectedRowKeysProvider:je},scope:{onChange:function(ct){var St;dt==null||(St=dt.onChange)===null||St===void 0||St.call(dt,ct)}},schema:we})})},_e=function(dt){var Bt,He={};return dt==null||(Bt=dt.forEach)===null||Bt===void 0||Bt.call(dt,function(ct){ct.name&&(He[ct.name]=ct,He[ct.name].scope=(0,b.isEmpty)(ct.scope)?null:ct.scope)}),He},q=(0,D.createContext)({});q.displayName="RoleResourceCollectionContext";var pe=(0,le.connect)(function(Dt){var dt,Bt=(0,B.y)(),He=Bt.styles,ct=function(sn){var Rn=sn.map(function(un){return O()(O()({},un),{},{scope:(0,b.isEmpty)(un.scope)?null:un.scope})});Dt.onChange(Rn)},St=(0,le.useForm)(),Tt=(0,re.useRecord)(),Mt=Pe(),Zt=(0,re.useCollectionManager_deprecated)(),Je=Zt.getCollection,et=Zt.getCollectionFields,rt=Je(Tt.collectionName),yt=et(Tt.collectionName),xt=(0,re.useCompile)(),Ct=(0,R.$)(),mt=Ct.t,at=(0,le.useField)(),ht=_e(at.value||[]),ot=function(sn,Rn){var un,jt=ht==null?void 0:ht[sn];return jt?jt==null||(un=jt.fields)===null||un===void 0?void 0:un.includes(Rn):!1},kt=Mt.filter(function(vn){return vn.allowConfigureFields}),nn=yt==null||(dt=yt.filter(function(vn){return vn.interface}))===null||dt===void 0?void 0:dt.map(function(vn){var sn=O()({},vn),Rn=z()(kt),un;try{for(Rn.s();!(un=Rn.n()).done;){var jt=un.value;sn[jt.name]=ot(jt.name,vn.name)}}catch(rn){Rn.e(rn)}finally{Rn.f()}return sn}),Lt=function(sn){if(ht[sn])delete ht[sn];else{var Rn,un;ht[sn]={name:sn,fields:yt==null||(Rn=yt.filter(function(jt){return jt.interface}))===null||Rn===void 0||(un=Rn.map)===null||un===void 0?void 0:un.call(Rn,function(jt){return jt.name})}}ct(Object.values(ht))},hn=function(sn,Rn){ht[sn]?(ht[sn].scope=Rn,ct(Object.values(ht))):(Lt(sn),ht[sn].scope=Rn)},Dn={},Gt=z()(kt),mn;try{for(Gt.s();!(mn=Gt.n()).done;){var qt,$t,Pn=mn.value;Dn[Pn.name]=(yt==null||(qt=yt.filter(function(vn){return vn.interface}))===null||qt===void 0?void 0:qt.length)===(ht==null||($t=ht[Pn.name])===null||$t===void 0||($t=$t.fields)===null||$t===void 0?void 0:$t.length)}}catch(vn){Gt.e(vn)}finally{Gt.f()}return(0,I.jsx)("div",{children:(0,I.jsx)(q.Provider,{value:rt,children:(0,I.jsxs)(ae.FormLayout,{layout:"vertical",children:[(0,I.jsx)(ae.FormItem,{label:mt("Action permission"),children:(0,I.jsx)(A.Z,{className:He,size:"small",pagination:!1,columns:[{dataIndex:"displayName",title:mt("Action display name"),render:function(sn){return xt(sn)}},{dataIndex:"onNewRecord",title:mt("Action type"),render:function(sn){return sn?(0,I.jsx)(G.Z,{color:"green",children:mt("Action on new records")}):(0,I.jsx)(G.Z,{color:"geekblue",children:mt("Action on existing records")})}},{dataIndex:"enabled",title:mt("Allow"),render:function(sn,Rn){return(0,I.jsx)(M.Z,{checked:sn,onChange:function(){Lt(Rn.name)}})}},{dataIndex:"scope",title:mt("Data scope"),render:function(sn,Rn){return!Rn.onNewRecord&&(0,I.jsx)(ye,{value:sn,onChange:function(jt){hn(Rn.name,jt)}})}}],dataSource:Mt==null?void 0:Mt.map(function(vn){var sn=!1,Rn=null;return ht[vn.name]&&(sn=!0,vn.onNewRecord||(Rn=ht[vn.name].scope)),O()(O()({},vn),{},{enabled:sn,scope:Rn})})})}),(0,I.jsx)(ae.FormItem,{label:mt("Field permission"),children:(0,I.jsx)(A.Z,{className:He,pagination:!1,dataSource:nn,columns:[{dataIndex:["uiSchema","title"],title:mt("Field display name"),render:function(sn){return xt(sn)}}].concat(Z()(kt.map(function(vn){var sn=Dn==null?void 0:Dn[vn.name];return{dataIndex:vn.name,title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(M.Z,{checked:sn,onChange:function(){var un=ht[vn.name]||{name:vn.name};if(sn)un.fields=[];else{var jt;un.fields=yt==null||(jt=yt.map)===null||jt===void 0?void 0:jt.call(yt,function(rn){return rn.name})}ht[vn.name]=un,ct(Object.values(ht))}})," ",xt(vn.displayName)]}),render:function(un,jt){return(0,I.jsx)(M.Z,{checked:un,"aria-label":"".concat(vn.name,"_checkbox"),onChange:function(){var An=ht[vn.name]||{name:vn.name},En=An.fields||[];if(un){var gn=En.indexOf(jt.name);En.splice(gn,1)}else En.push(jt.name);An.fields=En,ht[vn.name]=An,ct(Object.values(ht))}})}}})))})})]})})})}),Re=e(34041),Oe=function(dt){var Bt;if(!dt)return{};var He={};return dt==null||(Bt=dt.forEach)===null||Bt===void 0||Bt.call(dt,function(ct){var St=ct.split(":"),Tt=S()(St,2),Mt=Tt[0],Zt=Tt[1];He[Mt]=Zt||"all"}),He},$e=function(dt){var Bt=[];for(var He in dt)if(Object.prototype.hasOwnProperty.call(dt,He)){var ct=dt[He];ct==="all"?Bt.push(He):Bt.push("".concat(He,":").concat(ct))}return Bt},Ve=(0,le.connect)(function(Dt){var dt=Dt.onChange,Bt=Pe(),He=(0,re.useCompile)(),ct=(0,R.$)(),St=ct.t,Tt=(0,le.useField)(),Mt=Oe(Tt.value);return(0,I.jsx)("div",{children:(0,I.jsx)(A.Z,{size:"small",pagination:!1,columns:[{dataIndex:"displayName",title:St("Action display name"),render:function(Je){return He(Je)}},{dataIndex:"onNewRecord",title:St("Action type"),render:function(Je){return Je?(0,I.jsx)(G.Z,{color:"green",children:St("Action on new records")}):(0,I.jsx)(G.Z,{color:"geekblue",children:St("Action on existing records")})}},{dataIndex:"enabled",title:St("Allow"),render:function(Je,et){return(0,I.jsx)(M.Z,{checked:Je,"aria-label":"".concat(et.name,"_checkbox"),onChange:function(yt){Je?delete Mt[et.name]:Mt[et.name]="all",dt($e(Mt))}})}},{dataIndex:"scope",title:St("Data scope"),render:function(Je,et){return!et.onNewRecord&&(0,I.jsx)(Re.default,{"data-testid":"select-data-scope",popupMatchSelectWidth:!1,size:"small",value:Je,options:[{label:St("All records"),value:"all"},{label:St("Own records"),value:"own"}],onChange:function(yt){Mt[et.name]=yt,dt($e(Mt))}})}}],dataSource:Bt==null?void 0:Bt.map(function(Zt){var Je="all",et=!1;return Mt[Zt.name]&&(et=!0,Je=Mt[Zt.name]),O()(O()({},Zt),{},{enabled:et,scope:Je})})})})}),Ze=e(17627),qe=e(74614),Qe=function Dt(dt,Bt){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(!dt)return[];var ct=_createForOfIteratorHelper(dt),St;try{for(ct.s();!(St=ct.n()).done;){var Tt=St.value;if(He.push(Tt.key),Bt(Tt))return He;if(Tt.children){var Mt=Dt(Tt.children,Bt,He);if(Mt.length)return Mt}He.pop()}}catch(Zt){ct.e(Zt)}finally{ct.f()}return[]},ke=function Dt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],He=z()(dt),ct;try{for(He.s();!(ct=He.n()).done;){var St=ct.value;Bt.push(St.aclSnippet),St.children&&St.children.length&&Dt(St.children,Bt)}}catch(Tt){He.e(Tt)}finally{He.f()}return Bt},ft=(0,D.createContext)(null);ft.displayName="SettingMenuContext";var vt=function(dt){var Bt=(0,D.useContext)(Ze.EV);return(0,I.jsx)(ft.Provider,{value:Bt,children:dt.children})},_t=function(){var dt=(0,qe.qD)(),Bt=(0,B.y)(),He=Bt.styles,ct=(0,N.a)(),St=(0,L.LY)(),Tt=(0,P.eJW)(),Mt=dt.pluginSettingsManager.getList(!1);console.log(Mt);var Zt=dt.pluginSettingsManager.getAclSnippets(),Je=(0,D.useState)([]),et=S()(Je,2),rt=et[0],yt=et[1],xt=(0,D.useMemo)(function(){return rt.includes("pm.*")&&rt.every(function(Lt){return!Lt.startsWith("!pm.")})},[rt]),Ct=(0,R.$)(),mt=Ct.t,at=(0,L.QT)({resource:"roles.snippets",resourceOf:ct.name,action:"list",params:{paginate:!1}},{onSuccess:function(hn){yt((hn==null?void 0:hn.data)||[])}}),ht=at.loading,ot=at.refresh,kt=St.resource("roles.snippets",ct.name),nn=function(){var Lt=p()(x()().mark(function hn(Dn,Gt){var mn,qt;return x()().wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:if(mn=ke(Gt==null?void 0:Gt.children,[]),qt=mn.concat(Gt.aclSnippet),Dn){Pn.next=8;break}return Pn.next=5,kt.remove({values:qt.map(function(vn){return"!"+vn})});case 5:ot(),Pn.next=11;break;case 8:return Pn.next=10,kt.add({values:qt.map(function(vn){return"!"+vn})});case 10:ot();case 11:w.ZP.success(mt("Saved successfully"));case 12:case"end":return Pn.stop()}},hn)}));return function(Dn,Gt){return Lt.apply(this,arguments)}}();return(0,I.jsx)(A.Z,{className:He,loading:ht,rowKey:"key",pagination:!1,expandable:{defaultExpandAllRows:!0},columns:[{dataIndex:"title",title:mt("Plugin name"),render:function(hn){return Tt(hn)}},{dataIndex:"accessible",title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(M.Z,{checked:xt,onChange:p()(x()().mark(function Lt(){var hn;return x()().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:if(hn=Zt.map(function(mn){return"!"+mn}),xt){Gt.next=6;break}return Gt.next=4,kt.remove({values:hn});case 4:Gt.next=8;break;case 6:return Gt.next=8,kt.add({values:hn});case 8:ot(),w.ZP.success(mt("Saved successfully"));case 10:case"end":return Gt.stop()}},Lt)}))})," ",mt("Accessible")]}),render:function(hn,Dn){var Gt=!rt.includes("!"+Dn.aclSnippet);return(0,I.jsx)(M.Z,{checked:Gt,onChange:function(){return nn(Gt,Dn)}})}}],dataSource:Mt.filter(function(Lt){return Lt.isTopLevel!==!1}).map(function(Lt){return Lt.showTabs!==!1?Lt:(0,b.omit)(Lt,"children")})})},Nt={type:"object",properties:o()({},(0,g.uid)(),{"x-component":"RoleTable"})},Kt=function(){return(0,I.jsx)(y.Z,{"data-testid":"acl-pane-card",bordered:!1,children:(0,I.jsx)(P.n6,{components:v,schema:Nt})})},ut=e(31601),Rt=function(Dt){a()(Bt,Dt);var dt=l()(Bt);function Bt(){return h()(this,Bt),dt.apply(this,arguments)}return c()(Bt,[{key:"load",value:function(){var He=p()(x()().mark(function St(){return x()().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:this.app.addComponents({ACLCollectionFieldProvider:n.tq,ACLActionProvider:n.mE,ACLMenuItemProvider:n.fJ,ACLCollectionProvider:n.Hh});case 1:case"end":return Mt.stop()}},St,this)}));function ct(){return He.apply(this,arguments)}return ct}()}]),Bt}(ut.S)},64930:function(se,j,e){"use strict";e.d(j,{y:function(){return p}});var v=e(68400),m=e.n(v),x=e(59632),u,p=(0,x.kc)(function(d){var h=d.css;return h(u||(u=m()([`
    .ant-table-cell {
      > .ant-space-horizontal {
        .ant-space-item-split:has(+ .ant-space-item:empty) {
          display: none;
        }
      }
    }
  `])))})},75599:function(se,j,e){"use strict";e.d(j,{GW:function(){return K},UJ:function(){return Z},kT:function(){return w},zy:function(){return z}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(97857),n=e.n(l),r=e(13769),o=e.n(r),g=e(70173),y=e(28459),D=e(67294),P=e(26793),E=e(72029),O=e(31601),T=e(54579),S=e(85893),$=["remoteLocale"],Z=(0,D.createContext)({});Z.displayName="AppLangContext";var K=function(){return(0,D.useContext)(Z)};function z(A){var M,b=A.remoteLocale,R=o()(A,$),L=(0,E.LY)(),N=(0,P.$)(),B=N.i18n,V=(0,E.QT)({url:"app:getLang",params:{locale:L.auth.locale}},{onSuccess:function(W){var X,J,C,k,Y=L.auth.locale;if(W!=null&&(X=W.data)!==null&&X!==void 0&&X.lang&&!Y){var H,te;L.auth.setLocale(W==null||(H=W.data)===null||H===void 0?void 0:H.lang),B.changeLanguage(W==null||(te=W.data)===null||te===void 0?void 0:te.lang)}Object.keys((W==null||(J=W.data)===null||J===void 0?void 0:J.resources)||{}).forEach(function(le){var ne,ie;B.addResources(W==null||(ne=W.data)===null||ne===void 0?void 0:ne.lang,le,(W==null||(ie=W.data)===null||ie===void 0?void 0:ie.resources[le])||{})}),(0,T.L)(W==null?void 0:W.data),g.dayjs.locale(W==null||(C=W.data)===null||C===void 0?void 0:C.moment),window.cronLocale=W==null||(k=W.data)===null||k===void 0?void 0:k.cron},manual:!b}),U=V.data,I=V.loading;return I?null:(0,S.jsx)(Z.Provider,{value:U==null?void 0:U.data,children:(0,S.jsx)(y.ZP,n()(n()({popupMatchSelectWidth:!1},R),{},{locale:(U==null||(M=U.data)===null||M===void 0?void 0:M.antd)||{},children:A.children}))})}var w=function(A){i()(b,A);var M=f()(b);function b(){return d()(this,b),M.apply(this,arguments)}return t()(b,[{key:"load",value:function(){var R=u()(m()().mark(function N(){var B;return m()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:this.app.use(z,((B=this.options)===null||B===void 0?void 0:B.config)||{});case 1:case"end":return U.stop()}},N,this)}));function L(){return R.apply(this,arguments)}return L}()}]),b}(O.S)},54579:function(se,j,e){"use strict";e.d(j,{L:function(){return t}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(92458),d=e.n(p),h=function(){function c(i){m()(this,c),this.data=i}return u()(c,[{key:"atX0SecondsPastTheMinuteGt20",value:function(){return this.data.atX0SecondsPastTheMinuteGt20}},{key:"atX0MinutesPastTheHourGt20",value:function(){return this.data.atX0MinutesPastTheHourGt20}},{key:"commaMonthX0ThroughMonthX1",value:function(){return this.data.commaMonthX0ThroughMonthX1}},{key:"commaYearX0ThroughYearX1",value:function(){return this.data.commaYearX0ThroughYearX1}},{key:"use24HourTimeFormatByDefault",value:function(){return this.data.use24HourTimeFormatByDefault}},{key:"anErrorOccuredWhenGeneratingTheExpressionD",value:function(){return this.data.anErrorOccuredWhenGeneratingTheExpressionD}},{key:"everyMinute",value:function(){return this.data.everyMinute}},{key:"everyHour",value:function(){return this.data.everyHour}},{key:"atSpace",value:function(){return this.data.atSpace}},{key:"everyMinuteBetweenX0AndX1",value:function(){return this.data.everyMinuteBetweenX0AndX1}},{key:"at",value:function(){return this.data.at}},{key:"spaceAnd",value:function(){return this.data.spaceAnd}},{key:"everySecond",value:function(){return this.data.everySecond}},{key:"everyX0Seconds",value:function(){return this.data.everyX0Seconds}},{key:"secondsX0ThroughX1PastTheMinute",value:function(){return this.data.secondsX0ThroughX1PastTheMinute}},{key:"atX0SecondsPastTheMinute",value:function(){return this.data.atX0SecondsPastTheMinute}},{key:"everyX0Minutes",value:function(){return this.data.everyX0Minutes}},{key:"minutesX0ThroughX1PastTheHour",value:function(){return this.data.minutesX0ThroughX1PastTheHour}},{key:"atX0MinutesPastTheHour",value:function(){return this.data.atX0MinutesPastTheHour}},{key:"everyX0Hours",value:function(){return this.data.everyX0Hours}},{key:"betweenX0AndX1",value:function(){return this.data.betweenX0AndX1}},{key:"atX0",value:function(){return this.data.atX0}},{key:"commaEveryDay",value:function(){return this.data.commaEveryDay}},{key:"commaEveryX0DaysOfTheWeek",value:function(){return this.data.commaEveryX0DaysOfTheWeek}},{key:"commaX0ThroughX1",value:function(){return this.data.commaX0ThroughX1}},{key:"commaAndX0ThroughX1",value:function(){return this.data.commaAndX0ThroughX1}},{key:"first",value:function(){return this.data.first}},{key:"second",value:function(){return this.data.second}},{key:"third",value:function(){return this.data.third}},{key:"fourth",value:function(){return this.data.fourth}},{key:"fifth",value:function(){return this.data.fifth}},{key:"commaOnThe",value:function(){return this.data.commaOnThe}},{key:"spaceX0OfTheMonth",value:function(){return this.data.spaceX0OfTheMonth}},{key:"lastDay",value:function(){return this.data.lastDay}},{key:"commaOnTheLastX0OfTheMonth",value:function(){return this.data.commaOnTheLastX0OfTheMonth}},{key:"commaOnlyOnX0",value:function(){return this.data.commaOnlyOnX0}},{key:"commaAndOnX0",value:function(){return this.data.commaAndOnX0}},{key:"commaEveryX0Months",value:function(){return this.data.commaEveryX0Months}},{key:"commaOnlyInX0",value:function(){return this.data.commaOnlyInX0}},{key:"commaOnTheLastDayOfTheMonth",value:function(){return this.data.commaOnTheLastDayOfTheMonth}},{key:"commaOnTheLastWeekdayOfTheMonth",value:function(){return this.data.commaOnTheLastWeekdayOfTheMonth}},{key:"commaDaysBeforeTheLastDayOfTheMonth",value:function(){return this.data.commaDaysBeforeTheLastDayOfTheMonth}},{key:"firstWeekday",value:function(){return this.data.firstWeekday}},{key:"weekdayNearestDayX0",value:function(){return this.data.weekdayNearestDayX0}},{key:"commaOnTheX0OfTheMonth",value:function(){return this.data.commaOnTheX0OfTheMonth}},{key:"commaEveryX0Days",value:function(){return this.data.commaEveryX0Days}},{key:"commaBetweenDayX0AndX1OfTheMonth",value:function(){return this.data.commaBetweenDayX0AndX1OfTheMonth}},{key:"commaOnDayX0OfTheMonth",value:function(){return this.data.commaOnDayX0OfTheMonth}},{key:"commaEveryHour",value:function(){return this.data.commaEveryHour}},{key:"commaEveryX0Years",value:function(){return this.data.commaEveryX0Years}},{key:"commaStartingX0",value:function(){return this.data.commaStartingX0}},{key:"daysOfTheWeek",value:function(){return this.data.daysOfTheWeek}},{key:"monthsOfTheYear",value:function(){return this.data.monthsOfTheYear}}]),c}(),t=function(i){var a=d().default?d().default:d();a.initialize({load:function(l){l[i==null?void 0:i.lang]=new h(i==null?void 0:i.cronstrue)}})}},72029:function(se,j,e){"use strict";e.d(j,{lP:function(){return $},_Z:function(){return Z},Xb:function(){return fe},LY:function(){return K},QT:function(){return ne},Wf:function(){return ie}});var v=e(67294),m=e(12444),x=e.n(m),u=e(72004),p=e.n(u),d=e(25098),h=e.n(d),t=e(28785),c=e.n(t),i=e(48374),a=e.n(i),f=e(31996),l=e.n(f),n=e(26037),r=e.n(n),o=e(9783),g=e.n(o),y=e(84816),D=e(26855);function P(de,ue,Se){var ae;ue!=null&&ue.length&&Se[de]({message:(ae=ue.map)===null||ae===void 0?void 0:ae.call(ue,function(G,re){return v.createElement("div",{key:"".concat(re,"_").concat(G.message)},typeof G=="string"?G:G.message)})})}var E=function(ue,Se){var ae,G=new FileReader;G.readAsText(ue==null||(ae=ue.response)===null||ae===void 0?void 0:ae.data,"utf-8"),G.onload=function(){var re=JSON.parse(G.result).errors;P("error",re,Se)}};function O(de){var ue=Math.floor(Math.abs(de)),Se=Math.abs(de%1*60),ae=(ue<10?"0":"")+ue,G=(Se<10?"0":"")+Se,re=de>=0?"+":"-";return re+ae+":"+G}var T=function(){var ue=new Date().getTimezoneOffset()/-60;return O(ue)},S=new Map,$=function(de){l()(Se,de);var ue=r()(Se);function Se(){var ae;x()(this,Se);for(var G=arguments.length,re=new Array(G),oe=0;oe<G;oe++)re[oe]=arguments[oe];return ae=ue.call.apply(ue,[this].concat(re)),g()(h()(ae),"services",{}),g()(h()(ae),"silence",!1),g()(h()(ae),"app",void 0),g()(h()(ae),"notification",D.Z),ae}return p()(Se,[{key:"getHeaders",value:function(){var G,re=c()(a()(Se.prototype),"getHeaders",this).call(this),oe=this.app.getName();return oe&&(re["X-App"]=oe),re["X-Timezone"]=T(),re["X-Hostname"]=(G=window)===null||G===void 0||(G=G.location)===null||G===void 0?void 0:G.hostname,re}},{key:"service",value:function(G){return this.services[G]}},{key:"interceptors",value:function(){var G=this;this.axios.interceptors.request.use(function(re){re.headers["X-With-ACL-Meta"]=!0;var oe=G.app?(0,y.getSubAppName)(G.app.getPublicPath()):null;return oe&&(re.headers["X-App"]=oe),re}),c()(a()(Se.prototype),"interceptors",this).call(this),this.useNotificationMiddleware(),this.axios.interceptors.response.use(function(re){return re},function(re){var oe,ce=(re==null||(oe=re.response)===null||oe===void 0||(oe=oe.data)===null||oe===void 0?void 0:oe.errors)||[{message:G.app.offline?" Network unavailable":"Server error"}];return ce.find(function(be){return be.code==="ROLE_NOT_FOUND_ERR"})&&G.auth.setRole(null),ce.find(function(be){return be.message==="token is not available"})?(G.auth.setToken(""),location.reload()):Promise.reject(re)})}},{key:"useNotificationMiddleware",value:function(){var G=this;this.axios.interceptors.response.use(function(re){var oe;if((oe=re.data)!==null&&oe!==void 0&&(oe=oe.messages)!==null&&oe!==void 0&&oe.length){var ce=re.data.messages.filter(function(be){var xe=S.get(typeof be=="string"?be:be.message);return xe&&new Date().getTime()-xe<500?!1:(S.set(be.message,new Date().getTime()),!0)});P("success",ce,G.notification)}return re},function(re){var oe,ce,be,xe=(re==null||(oe=re.response)===null||oe===void 0||(oe=oe.data)===null||oe===void 0?void 0:oe.data)||{},ge=xe.needSecondaryConfirmation;if(G.silence||ge)return Promise.reject(re);var he=re==null||(ce=re.response)===null||ce===void 0||(ce=ce.data)===null||ce===void 0?void 0:ce.redirectTo;if(he)return window.location.href=he;if((re==null||(be=re.response)===null||be===void 0||(be=be.data)===null||be===void 0?void 0:be.type)==="application/json")E(re,G.notification);else{var Pe,Ae,Be;S.size>10&&S.clear();var Le=!!(re!=null&&(Pe=re.response)!==null&&Pe!==void 0&&(Pe=Pe.data)!==null&&Pe!==void 0&&(Pe=Pe.error)!==null&&Pe!==void 0&&Pe.maintaining);if(G.app.maintaining!==Le&&(G.app.maintaining=Le),G.app.maintaining){var Me;throw G.app.error=re==null||(Me=re.response)===null||Me===void 0||(Me=Me.data)===null||Me===void 0?void 0:Me.error,re}else G.app.error&&(G.app.error=null);var Te=(re==null||(Ae=re.response)===null||Ae===void 0||(Ae=Ae.data)===null||Ae===void 0?void 0:Ae.errors)||(re==null||(Be=re.response)===null||Be===void 0||(Be=Be.data)===null||Be===void 0?void 0:Be.messages)||[{message:G.app.offline?" Network unavailable":"Server error"}];if(Te=Te.filter(function(we){var Ue=S.get(we.message);return Ue&&new Date().getTime()-Ue<500?!1:(S.set(we.message,new Date().getTime()),!0)}),Te.length===0)throw re;P("error",Te,G.notification)}throw re})}},{key:"silent",value:function(){return this.silence=!0,this}}]),Se}(y.APIClient),Z=(0,v.createContext)(new $);Z.displayName="APIClientContext";function K(){return(0,v.useContext)(Z)}var z=e(97857),w=e.n(z),A=e(15009),M=e.n(A),b=e(99289),R=e.n(b),L=e(5574),N=e.n(L),B=e(84327),V=e(96638),U=e(20578),I=e(50361),F=e.n(I),W=e(70173),X=e(9996),J=e.n(X),C=e(44908),k=e.n(C);function Y(de){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(de).filter(function(ue){return de.propertyIsEnumerable(ue)}):[]}function H(de){return Object.keys(de).concat(Y(de))}var te=new Map;te.set("overwrite",function(de,ue){return ue}),te.set("andMerge",function(de,ue){if(!(!de&&!ue))return de?ue?{$and:[de,ue]}:de:ue}),te.set("orMerge",function(de,ue){if(!(!de&&!ue))return de?ue?{$or:[de,ue]}:de:ue}),te.set("deepMerge",function(de,ue){return(0,W.isPlainObject)(de)&&(0,W.isPlainObject)(ue)?J()(de,ue,{arrayMerge:function(ae,G){return G}}):ue}),te.set("merge",function(de,ue){return(0,W.isPlainObject)(de)&&(0,W.isPlainObject)(ue)?Object.assign(de,ue):ue}),te.set("union",function(de,ue){return typeof de=="string"&&(de=de.split(",")),typeof ue=="string"&&(ue=ue.split(",")),k()((de||[]).concat(ue||[]))}),te.set("intersect",function(de,ue){return typeof de=="string"&&(de=de.split(",")),typeof ue=="string"&&(ue=ue.split(",")),!Array.isArray(de)||de.length===0?ue||[]:!Array.isArray(ue)||ue.length===0?de||[]:de.filter(function(Se){return ue.includes(Se)})});function le(de,ue){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H(ue).forEach(function(ae){var G=Se[ae],re=te.get("deepMerge");typeof G=="function"?re=G:typeof G=="string"&&te.has(G)&&(re=te.get(G)),de[ae]=re(de[ae],ue[ae])}),de}function ne(de){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=(0,V.Z)({}),ae=N()(Se,2),G=ae[0],re=ae[1],oe=K(),ce;typeof de=="function"?ce=de:de?ce=function(){var ge=R()(M()().mark(function he(){var Pe,Ae,Be,Le,Me,Te,we=arguments;return M()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return Pe=we.length>0&&we[0]!==void 0?we[0]:{},Ae=de,Be=Ae.resource,Le=Ae.url,Me=F()(de),Be||Le?(Me.params=Me.params||{},le(Me.params,Pe)):Me=(0,B.merge)(Me,Pe),je.next=6,oe.request(Me);case 6:return Te=je.sent,je.abrupt("return",Te==null?void 0:Te.data);case 8:case"end":return je.stop()}},he)}));return function(){return ge.apply(this,arguments)}}():ce=function(){var ge=R()(M()().mark(function he(){return M()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:case"end":return Ae.stop()}},he)}));return function(){return ge.apply(this,arguments)}}();var be=w()(w()({},ue),{},{onSuccess:function(){for(var he,Pe=arguments.length,Ae=new Array(Pe),Be=0;Be<Pe;Be++)Ae[Be]=arguments[Be];(he=ue.onSuccess)===null||he===void 0||he.call.apply(he,[ue].concat(Ae)),ue.uid&&(oe.services[ue.uid]=xe)}}),xe=(0,U.Z)(ce,be);return w()(w()({},xe),{},{state:G,setState:re})}function ie(de,ue){var Se=K();return Se.resource(de,ue)}var ee=e(85893),fe=function(ue){var Se=ue.apiClient,ae=ue.children;return(0,ee.jsx)(Z.Provider,{value:Se,children:ae})}},8217:function(se,j,e){"use strict";e.d(j,{sM:function(){return N},Yd:function(){return I},R7:function(){return Z},mG:function(){return O},bp:function(){return $},Ky:function(){return T},sm:function(){return K},cZ:function(){return z},lW:function(){return S},oR:function(){return B},TH:function(){return M}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(5574),i=e.n(c),a=e(67294),f=e(89250),l=e(74614),n=e(72029),r=e(47646),o=e(17958),g=e(19632),y=e.n(g),D=e(96695),P=e.n(D),E=e(94350),O=function(W,X){var J=X.allowAll,C=X.allowMenuItemIds,k=C===void 0?[]:C,Y=X.snippets;if(J||Y.includes("ui.*")||Y.includes("apm.*")&&!Y.includes("!apm.design"))return W;var H=function te(le){if(le){for(var ne in le.properties)if(Object.prototype.hasOwnProperty.call(le.properties,ne)){var ie=le.properties[ne];ie["x-component"]==="Menu.Item"&&ie["x-uid"]&&!k.includes(ie["x-uid"])&&delete le.properties[ne],ie["x-uid"]&&te(ie)}}};return H(W),W},T=function F(W,X){return E.Schema.isSchemaInstance(W)||(W=new E.Schema(W)),W.reduceProperties(function(J,C){if(C["x-uid"]===X)return C;var k=F(C,X);return k||J},null)},S=function(W,X){if(!(W!=null&&W.length)||!X)return null;var J=P()(W),C;try{for(J.s();!(C=J.n()).done;){var k=C.value.keyApplications,Y=k===void 0?[]:k,H=Y.find(function(te){var le=te.name;return le===X});if(H)return H}}catch(te){J.e(te)}finally{J.f()}return null},$=function F(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Menu.Item";if(!(W!=null&&W.properties))return W;for(var J=0,C=Object.values(W.properties);J<C.length;J++){var k=C[J];if(k["x-component"]===X)return k;if(k.properties){var Y=F(k);if(Y)return Y}}return null},Z=function(W,X){return X.some(function(J){return J.keyApplications.some(function(C){return C.name===W&&C.allowAccessApp})})},K=function(W){return W.reduce(function(X,J){var C=J.keyApplications;return[].concat(y()(X),y()(C.map(function(k){return u()(u()({},k),{},{label:k.name,key:k.name})})))},[])},z=function(W){return W.map(function(X){return u()(u()({},X),{},{keyApplications:X.keyApplications.filter(function(J){var C=J.allowAccessApp,k=J.status;return C&&k})})})},w=e(21143),A="base",M=function(){var W=(0,a.useState)(null),X=i()(W,2),J=X[0],C=X[1],k=(0,w.useAPIClient)(),Y=function(){var le=t()(d()().mark(function ne(){var ie,ee,fe;return d()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,k.request({method:"GET",url:"/applicationSettings:get",params:{filter:{name:{$eq:"sortConfig"}}}});case 2:return ee=ue.sent,fe=((ie=ee.data.data)===null||ie===void 0?void 0:ie.options)||null,C(fe),ue.abrupt("return",fe);case 6:case"end":return ue.stop()}},ne)}));return function(){return le.apply(this,arguments)}}(),H=function(){var le=t()(d()().mark(function ne(ie){var ee,fe=arguments;return d()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ee=fe.length>1&&fe[1]!==void 0?fe[1]:!0,ue.next=3,k.request({method:"POST",url:"/applicationSettings:save",data:{name:"sortConfig",title:"sortConfig",options:ie}});case 3:if(!ee){ue.next=6;break}return ue.next=6,Y();case 6:case"end":return ue.stop()}},ne)}));return function(ie){return le.apply(this,arguments)}}(),te=(0,a.useCallback)(function(le){if(!Array.isArray(le))return[];if(Array.isArray(le)&&le.length===0)return[];var ne=le.find(function(fe){return fe.name===A}),ie=le.filter(function(fe){return fe.name!==A});if(!J)return[ne].concat(y()(ie)).filter(Boolean);var ee=J.groups.map(function(fe){var de=ie.find(function(ue){return ue.id===fe});return de?u()(u()({},de),{},{keyApplications:J.applications[fe].map(function(ue){var Se=de.keyApplications.find(function(ae){return ae.id===ue});return Se||null}).filter(Boolean)}):null}).filter(Boolean);return[ne].concat(y()(ee)).filter(Boolean)},[J]);return{sortConfig:J,setSortConfig:C,fetchSortConfig:Y,updateSortConfig:H,sortAppGroupList:te}},b=e(8985),R=e(70173),L=e(85893),N=(0,a.createContext)(null);N.displayName="AppMenuContext";var B=function(){return(0,a.useContext)(N)},V,U=function(W){var X,J=W.fetchAppsAndGroupsLoading,C=W.appGroupList,k=(0,a.useState)(!0),Y=i()(k,2),H=Y[0],te=Y[1],le=(0,a.useState)(null),ne=i()(le,2),ie=ne[0],ee=ne[1],fe=(0,a.useState)([]),de=i()(fe,2),ue=de[0],Se=de[1],ae=(0,f.useNavigate)(),G=(0,n.LY)(),re=(0,f.useParams)(),oe=re.appName,ce=(0,b.OP)(),be=(X=ce.data)===null||X===void 0||(X=X.data)===null||X===void 0?void 0:X.id,xe=(0,o.Pm)(),ge=(0,f.useMatch)("/app"),he=(0,f.useMatch)("/app/:appName/*"),Pe=(0,f.useMatch)("/app/:appName/console/*"),Ae=(0,r.ov)(),Be=(0,o.Ps)(),Le=function(){var Ue=t()(d()().mark(function je(De){var ye,_e;return d()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,G.request({method:"GET",url:"/uiSchemas:getJsonSchema/".concat(De)});case 2:return _e=pe.sent,pe.abrupt("return",O(_e==null||(ye=_e.data)===null||ye===void 0?void 0:ye.data,Ae));case 4:case"end":return pe.stop()}},je)}));return function(De){return Ue.apply(this,arguments)}}(),Me=function(){var Ue=t()(d()().mark(function je(De){var ye,_e;return d()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,G.request({method:"GET",url:"/roles:list",headers:{"X-Application":De.name},params:{filter:{"associatedApp.applicationsId":De.id}}});case 2:return _e=pe.sent,pe.abrupt("return",_e==null||(ye=_e.data)===null||ye===void 0?void 0:ye.data);case 4:case"end":return pe.stop()}},je)}));return function(De){return Ue.apply(this,arguments)}}(),Te=function(){var Ue=t()(d()().mark(function je(De){var ye,_e,q,pe,Re;return d()().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return ye=[],$e.prev=1,$e.next=4,Me(De);case 4:_e=$e.sent,ye=_e.map(function(Ve){var Ze=Ve.name;return Ze}),$e.next=10;break;case 8:$e.prev=8,$e.t0=$e.catch(1);case 10:q=De==null?void 0:De.manageRoleName,pe=De==null?void 0:De.accessRoleName,Re=q||pe,Re&&!ye.includes(G.auth.role)&&G.auth.role!=="root"&&(G.auth.setRole(Re),G.resource("users").setDefaultRole({values:{roleName:Re}}));case 14:case"end":return $e.stop()}},je,null,[[1,8]])}));return function(De){return Ue.apply(this,arguments)}}(),we=function(){var Ue=t()(d()().mark(function je(){var De,ye,_e;return d()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(te(!0),De=S(C,oe),De){pe.next=6;break}return console.error("Application [".concat(oe,"] may be not existed. Please check sort config.")),ae("/app"),pe.abrupt("return");case 6:if(!(typeof V=="undefined"||V===oe)){pe.next=25;break}if(V=oe,!(ie&&ue.length>0)){pe.next=13;break}Be(ie),te(!1),pe.next=23;break;case 13:return pe.next=15,Le(De.rootXUid);case 15:return ye=pe.sent,pe.next=18,Me(De);case 18:_e=pe.sent,ee(ye),Se(_e),Be(ye),te(!1);case 23:pe.next=31;break;case 25:return V=oe,pe.next=28,Te(De);case 28:return pe.next=30,ce.refresh();case 30:te(!1);case 31:case"end":return pe.stop()}},je)}));return function(){return Ue.apply(this,arguments)}}();return(0,a.useEffect)(function(){if(!J)if(xe)te(!1);else if(ge){var Ue=z(C),je=K(Ue).filter(function(q){return q.allowAccessApp&&q.status}),De=localStorage.getItem("NOCODE_APP_NAME_USER_".concat(be)),ye=je.find(function(q){return q.name===De})||je[0];if(!ye)return;var _e=ye.name;ae("/app/".concat(_e))}else(he||Pe)&&we()},[J,ge,xe,he,Pe]),{changeAppLoading:H,currentAppRoleList:ue,currentAppMenuSchema:he||Pe?ie:null}},I=function(W){var X,J=(0,a.useRef)(),C=(0,a.useRef)(),k=(0,l.qD)(),Y=(0,n.LY)(),H=(0,a.useState)(!0),te=i()(H,2),le=te[0],ne=te[1],ie=(0,a.useState)(null),ee=i()(ie,2),fe=ee[0],de=ee[1],ue=(0,a.useState)(null),Se=i()(ue,2),ae=Se[0],G=Se[1],re=M(),oe=re.fetchSortConfig,ce=re.sortAppGroupList,be=(0,b.OP)(),xe=function(){var Te=t()(d()().mark(function we(){var Ue,je,De,ye,_e,q,pe,Re;return d()().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.prev=0,$e.next=3,Promise.all([Y.request({method:"GET",url:"/applicationsGroup:list",params:{paginate:!1}}),Y.request({method:"GET",url:"/applications:list",params:{paginate:!1}}),oe()]);case 3:De=$e.sent,ye=i()(De,2),_e=ye[0],q=ye[1],pe=(_e==null||(Ue=_e.data)===null||Ue===void 0?void 0:Ue.data)||[],Re=pe.map(function(Ve){var Ze;return u()(u()({},Ve),{},{keyApplications:q==null||(Ze=q.data)===null||Ze===void 0||(Ze=Ze.data)===null||Ze===void 0?void 0:Ze.filter(function(qe){return qe.groupId===Ve.id&&qe.allowAccessApp})})}).filter(function(Ve){return Ve.keyApplications.length>0}),de(Re),G((q==null||(je=q.data)===null||je===void 0?void 0:je.data)||[]),ne(!1),$e.next=17;break;case 14:$e.prev=14,$e.t0=$e.catch(0),ne(!1);case 17:case"end":return $e.stop()}},we,null,[[0,14]])}));return function(){return Te.apply(this,arguments)}}();(0,a.useEffect)(function(){xe()},[]);var ge=(0,a.useMemo)(function(){return ce(fe)},[fe]),he=U({fetchAppsAndGroupsLoading:le,appGroupList:ge}),Pe=he.changeAppLoading,Ae=he.currentAppMenuSchema,Be=he.currentAppRoleList,Le=(0,a.useMemo)(function(){return C.current=Ae,Ae?{type:"void","x-designer":"Menu.Designer","x-component":"Menu","x-initializer":"MenuItemInitializers","x-component-props":{mode:"mix",theme:"dark",onSelect:"{{ onSelect }}",sideMenuRefScopeKey:"sideMenuRef"},name:"fake-menu-schema","x-uid":"xwork-app-menu","x-async":!1,properties:m()({},Ae.name,Ae)}:null},[Ae]);if(Pe){var Me;return k==null||(Me=k.renderComponent)===null||Me===void 0?void 0:Me.call(k,"AppSkeleton")}return(0,L.jsx)(N.Provider,{value:{menuSchema:Le,currentAppMenuSchema:Ae,currentAppMenuSchemaRef:C,appList:ae,appGroupList:ge,designModeSideMenuRef:J,refresh:xe},children:(0,L.jsx)(R.BlockPowerSettingDataContext.Provider,{value:{state:{roleList:Be.map(function(Te){return{label:Te.title,value:Te.name}}),currentAuth:be==null||(X=be.data)===null||X===void 0?void 0:X.data}},children:W.children})})}},38714:function(se,j,e){"use strict";e.d(j,{Gq:function(){return h},RQ:function(){return p},_S:function(){return d}});var v=e(67294),m=e(72029),x=e(74614),u=e(85893),p=(0,v.createContext)(null);p.displayName="CurrentAppInfoContext";var d=function(){return(0,v.useContext)(p)},h=function(c){var i=(0,x.qD)(),a=(0,m.QT)({url:"app:getInfo"});if(a.loading){var f;return i==null||(f=i.renderComponent)===null||f===void 0?void 0:f.call(i,"AppSkeleton")}return(0,u.jsx)(p.Provider,{value:a.data,children:c.children})}},80347:function(se,j,e){"use strict";e.d(j,{Gq:function(){return v.Gq},RQ:function(){return v.RQ},_S:function(){return v._S}});var v=e(38714)},85782:function(se,j,e){"use strict";e.d(j,{HU:function(){return f},O6:function(){return l},WO:function(){return i},bw:function(){return a},xJ:function(){return d}});var v=e(67294),m=e(89250),x=e(85893),u=v.createContext(null),p=v.createContext(null),d=v.createContext(""),h=function(r){var o=r.children,g=(0,m.useNavigate)(),y=v.useRef(g);y.current=g;var D=v.useCallback(function(P,E){y.current(P,E)},[]);return(0,x.jsx)(u.Provider,{value:D,children:o})},t=function(r){var o=r.children,g=(0,m.useLocation)(),y=v.useRef({});return(0,v.useEffect)(function(){Object.assign(y.current,g)},[g]),(0,x.jsx)(p.Provider,{value:y.current,children:o})},c=function(r){var o=r.children,g=(0,m.useLocation)();return(0,x.jsx)(d.Provider,{value:g.search,children:o})},i=function(){return v.useContext(u)},a=function(){return v.useContext(p)},f=function(){return v.useContext(d)},l=function(r){var o=r.children;return(0,x.jsx)(h,{children:(0,x.jsx)(t,{children:(0,x.jsx)(c,{children:o})})})}},31601:function(se,j,e){"use strict";e.d(j,{S:function(){return a}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(12444),t=e.n(h),c=e(72004),i=e.n(c),a=function(){function f(l,n){t()(this,f),this.options=l,this.app=n,this.options=l,this.app=n}return i()(f,[{key:"pluginManager",get:function(){return this.app.pluginManager}},{key:"pm",get:function(){return this.app.pm}},{key:"router",get:function(){return this.app.router}},{key:"pluginSettingsManager",get:function(){return this.app.pluginSettingsManager}},{key:"schemaInitializerManager",get:function(){return this.app.schemaInitializerManager}},{key:"schemaSettingsManager",get:function(){return this.app.schemaSettingsManager}},{key:"dataSourceManager",get:function(){return this.app.dataSourceManager}},{key:"afterAdd",value:function(){var l=d()(u()().mark(function r(){return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:case"end":return g.stop()}},r)}));function n(){return l.apply(this,arguments)}return n}()},{key:"beforeLoad",value:function(){var l=d()(u()().mark(function r(){return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:case"end":return g.stop()}},r)}));function n(){return l.apply(this,arguments)}return n}()},{key:"load",value:function(){var l=d()(u()().mark(function r(){return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:case"end":return g.stop()}},r)}));function n(){return l.apply(this,arguments)}return n}()},{key:"t",value:function(n){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.app.i18n.t(n,m()({ns:(r=this.options)===null||r===void 0?void 0:r.packageName},o))}}]),f}()},33285:function(se,j,e){"use strict";e.d(j,{Z:function(){return m}});var v=e(67294),m=(0,v.createContext)(null);m.displayName="ApplicationContext"},61178:function(se,j,e){"use strict";e.d(j,{M:function(){return v.M},t:function(){return v.t}});var v=e(90635)},90635:function(se,j,e){"use strict";e.d(j,{M:function(){return n},t:function(){return r}});var v=e(97857),m=e.n(v),x=e(96695),u=e.n(x),p=e(94350),d=e(96486),h=e.n(d),t=e(67294),c=e(98427),i=e(70173),a=e(85893),f=function(){},l=function(g,y,D){var P=void 0;return h().isFunction(g)?P=g:(P=y[g],P||(0,i.captureException)("".concat(D," is not registered"))),P||f};function n(o,g){var y=(0,p.useExpressionScope)(),D=(0,t.useMemo)(function(){if(!o)return f;if(h().isFunction(o))return o;var E=o.split("."),O,T=u()(E),S;try{for(T.s();!(S=T.n()).done;){var $=S.value;O=l($,O||y,o)}}catch(Z){T.e(Z)}finally{T.f()}return O},[o]),P=D(g);return P}function r(o){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.displayName||o.displayName||o.name,D=function P(E){var O=(0,c.ngQ)(),T=O.dn,S=O.findComponent,$=(0,t.useMemo)(function(){var z=T.getSchemaAttribute("x-component"),w=T.getSchemaAttribute("x-decorator"),A=T.getSchemaAttribute("x-use-component-props"),M=T.getSchemaAttribute("x-use-decorator-props");if(z&&A&&S(z)===P)return A;if(w&&M&&S(w)===P)return M},[T]),Z=n($,E),K=(0,t.useMemo)(function(){return m()(m()({},E),Z)},[Z,E]);return(0,a.jsx)(o,m()(m()({},K),{},{children:E.children}))};return o.displayName=y,D.displayName="withSchemaProps(".concat(y,")"),D}},43173:function(se,j,e){"use strict";e.d(j,{qD:function(){return v.q},rM:function(){return u.r},j7:function(){return m},tv:function(){return x}});var v=e(88482);function m(p){var d=(0,v.q)();return d.pm.get(p)}var x=function(){var d=(0,v.q)();return d.router},u=e(99501)},88482:function(se,j,e){"use strict";e.d(j,{q:function(){return x}});var v=e(67294),m=e(33285),x=function(){return(0,v.useContext)(m.Z)||{}}},99501:function(se,j,e){"use strict";e.d(j,{r:function(){return u}});var v=e(57953),m=e(67294),x=e(88482),u=function(){var d=(0,x.q)();return{render:function(){var t;return d!=null&&d.renderComponent?d==null||(t=d.renderComponent)===null||t===void 0?void 0:t.call(d,"AppSpin"):m.createElement(v.Z)}}}},74614:function(se,j,e){"use strict";e.d(j,{eB:function(){return ue},oz:function(){return Se},bT:function(){return ae},y$:function(){return Ae},Mx:function(){return Ir},Zz:function(){return xe.Z},X_:function(){return Be},nl:function(){return Qe.n},O6:function(){return oe.O6},xJ:function(){return oe.xJ},Sy:function(){return Sr.S},nS:function(){return re},OW:function(){return De},k2:function(){return q},MC:function(){return G},Ms:function(){return qe.e},HS:function(){return Ze.SchemaInitializerActionModal},IQ:function(){return Ze.SchemaInitializerActionModalInternal},yH:function(){return Ze.SchemaInitializerChild},E0:function(){return Ze.SchemaInitializerChildren},V4:function(){return Ve.V4},qU:function(){return Ze.SchemaInitializerDivider},lV:function(){return Ze.SchemaInitializerItem},Mm:function(){return Ve.Mm},iP:function(){return Ze.SchemaInitializerItemGroup},IY:function(){return Ze.SchemaInitializerItemGroupInternal},VG:function(){return Ze.SchemaInitializerItemInternal},LU:function(){return Ze.SchemaInitializerItems},eN:function(){return ke},tu:function(){return Ze.SchemaInitializerMenu},kw:function(){return Ze.SchemaInitializerMenuProvider},iW:function(){return Ze.SchemaInitializerSelect},ud:function(){return Ze.SchemaInitializerSelectInternal},eU:function(){return Ze.SchemaInitializerSubMenu},xv:function(){return Ze.SchemaInitializerSubMenuInternal},_n:function(){return Ze.SchemaInitializerSwitch},wH:function(){return Ze.SchemaInitializerSwitchInternal},A4:function(){return ft.A4},F5:function(){return ft.F5},kY:function(){return ft.kY},dk:function(){return ft.dk},XD:function(){return ft.XD},GC:function(){return ft.GC},J1:function(){return Mr.J1},V$:function(){return Mr.V$},qC:function(){return _t},w9:function(){return pe},FH:function(){return je},h6:function(){return Qe.h},pn:function(){return vt},qD:function(){return Le.qD},rM:function(){return Le.rM},ne:function(){return $e.ne},M0:function(){return Br.M},bw:function(){return $e.bw},fj:function(){return oe.bw},HU:function(){return oe.HU},WO:function(){return oe.WO},j7:function(){return Le.j7},tv:function(){return Le.tv},q_:function(){return Ve.q_},UR:function(){return Ve.UR},hL:function(){return $e.hL},IU:function(){return $e.IU},_$:function(){return Ze.useSchemaInitializerStyles},vH:function(){return Ze.useSchemaInitializerSubMenuContext},J$:function(){return ft.J$},mQ:function(){return ft.mQ},Po:function(){return Mr.Po},du:function(){return Mr.du},tl:function(){return Br.t},W_:function(){return Oe.W}});var v={};e.r(v),e.d(v,{I18nContext:function(){return Z.OO},I18nextProvider:function(){return K},Trans:function(){return kt.c},Translation:function(){return sn},composeInitialProps:function(){return Z.qi},date:function(){return En},getDefaults:function(){return Z.JP},getI18n:function(){return Z.nI},getInitialProps:function(){return Z.kK},initReactI18next:function(){return Z.Db},number:function(){return jn},plural:function(){return gt},select:function(){return Yt},selectOrdinal:function(){return wt},setDefaults:function(){return Z.j_},setI18n:function(){return Z.I6},time:function(){return gn},useSSR:function(){return Rn},useTranslation:function(){return nn.$},withSSR:function(){return An},withTranslation:function(){return Pn}});var m=e(15009),x=e.n(m),u=e(99289),p=e.n(u),d=e(19632),h=e.n(d),t=e(97857),c=e.n(t),i=e(12444),a=e.n(i),f=e(72004),l=e.n(f),n=e(9783),r=e.n(n),o=e(85667),g=e(84816),y=e(27361),D=e.n(y),P=e(82492),E=e.n(P),O=e(36968),T=e.n(O),S=e(67294),$=e(20745),Z=e(57715);function K(Mn){var Wt=Mn.i18n,Ft=Mn.defaultNS,an=Mn.children,Bn=(0,S.useMemo)(function(){return{i18n:Wt,defaultNS:Ft}},[Wt,Ft]);return(0,S.createElement)(Z.OO.Provider,{value:Bn},an)}var z=e(79655),w=e(89250),A=e(72029),M=e(20085),b=e(58809),R=e(58384),L=e(96695),N=e.n(L),B=e(5574),V=e.n(B),U=e(44987),I=e.n(U),F=e(70173);function W(Mn){Object.entries(Mn).forEach(function(Wt){var Ft=V()(Wt,2),an=Ft[0],Bn=Ft[1];window.define("".concat(an,"/client"),function(){return Bn})})}function X(Mn){window.define("".concat(Mn,"/client"),["exports",Mn],function(Wt,Ft){Object.defineProperty(Wt,"__esModule",{value:!0}),Object.keys(Ft).forEach(function(an){an!=="__esModule"&&(an in Wt&&Wt[an]===Ft[an]||Object.defineProperty(Wt,an,{enumerable:!0,get:function(){return Ft[an]}}))})})}function J(Mn,Wt){Mn.requirejs.config({waitSeconds:120,paths:Wt.reduce(function(Ft,an){return Ft[an.packageName]=an.url,Ft},{})})}function C(Mn,Wt){return function(){for(var Ft=arguments.length,an=new Array(Ft),Bn=0;Bn<Ft;Bn++)an[Bn]=arguments[Bn];var Un=an.map(function(mr,dr){return[Mn[dr].name,(mr==null?void 0:mr.default)||mr]}).filter(function(mr){return mr[1]});Wt(Un);var Gn=an.map(function(mr,dr){return mr?null:dr}).filter(function(mr){return mr!==null}).map(function(mr){return Mn[mr].packageName});Gn.length>0&&(0,F.captureException)("[nocobase load plugin error]: These plugins do not have an `export.default` exported content or there is an error in the plugins. error plugins: \r\n%s",Gn.join(`, \r
`))}}function k(Mn){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];J(Mn,Wt);var Ft=Wt.map(function(an){return an.packageName});return Ft.forEach(function(an){X(an)}),new Promise(function(an,Bn){Mn.requirejs(Ft,C(Wt,an),Bn)})}function Y(Mn){return H.apply(this,arguments)}function H(){return H=p()(x()().mark(function Mn(Wt){var Ft,an,Bn,Un,Gn,mr,dr,Hr,Lr,Zr,no,Jr,ho,eo;return x()().wrap(function(qr){for(;;)switch(qr.prev=qr.next){case 0:if(Ft=Wt.requirejs,an=Wt.pluginData,Bn=Wt.devDynamicImport,an.length!==0){qr.next=3;break}return qr.abrupt("return",[]);case 3:if(Un=[],Gn={},!Bn){qr.next=38;break}mr=!1,dr=!1,qr.prev=8,Lr=I()(an);case 10:return qr.next=12,Lr.next();case 12:if(!(mr=!(Zr=qr.sent).done)){qr.next=21;break}return no=Zr.value,qr.next=16,Bn(no.packageName);case 16:Jr=qr.sent,Jr&&(Un.push([no.name,Jr.default]),Gn[no.packageName]=Jr.default);case 18:mr=!1,qr.next=10;break;case 21:qr.next=27;break;case 23:qr.prev=23,qr.t0=qr.catch(8),dr=!0,Hr=qr.t0;case 27:if(qr.prev=27,qr.prev=28,!(mr&&Lr.return!=null)){qr.next=32;break}return qr.next=32,Lr.return();case 32:if(qr.prev=32,!dr){qr.next=35;break}throw Hr;case 35:return qr.finish(32);case 36:return qr.finish(27);case 37:W(Gn);case 38:if(ho=an.filter(function(ao){return!Gn[ao.packageName]}),ho.length!==0){qr.next=41;break}return qr.abrupt("return",Un);case 41:return qr.next=43,k(Ft,ho);case 43:return eo=qr.sent,Un.push.apply(Un,h()(eo)),qr.abrupt("return",Un);case 46:case"end":return qr.stop()}},Mn,null,[[8,23,27,37],[28,,32,36]])})),H.apply(this,arguments)}var te=function(){function Mn(Wt,Ft,an){a()(this,Mn),r()(this,"pluginInstances",new Map),r()(this,"pluginsAliases",{}),r()(this,"initPlugins",void 0),this._plugins=Wt,this.loadRemotePlugins=Ft,this.app=an,this.app=an,this.initPlugins=this.init(Wt)}return l()(Mn,[{key:"init",value:function(){var Wt=p()(x()().mark(function an(Bn){return x()().wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:return Gn.next=2,this.initStaticPlugins(Bn);case 2:if(!this.loadRemotePlugins){Gn.next=5;break}return Gn.next=5,this.initRemotePlugins();case 5:case"end":return Gn.stop()}},an,this)}));function Ft(an){return Wt.apply(this,arguments)}return Ft}()},{key:"initStaticPlugins",value:function(){var Wt=p()(x()().mark(function an(){var Bn,Un,Gn,mr,dr,Hr,Lr,Zr,no,Jr=arguments;return x()().wrap(function(eo){for(;;)switch(eo.prev=eo.next){case 0:Bn=Jr.length>0&&Jr[0]!==void 0?Jr[0]:[],Un=!1,Gn=!1,eo.prev=3,dr=I()(Bn);case 5:return eo.next=7,dr.next();case 7:if(!(Un=!(Hr=eo.sent).done)){eo.next=16;break}return Lr=Hr.value,Zr=Array.isArray(Lr)?Lr[0]:Lr,no=Array.isArray(Lr)?Lr[1]:void 0,eo.next=13,this.add(Zr,no);case 13:Un=!1,eo.next=5;break;case 16:eo.next=22;break;case 18:eo.prev=18,eo.t0=eo.catch(3),Gn=!0,mr=eo.t0;case 22:if(eo.prev=22,eo.prev=23,!(Un&&dr.return!=null)){eo.next=27;break}return eo.next=27,dr.return();case 27:if(eo.prev=27,!Gn){eo.next=30;break}throw mr;case 30:return eo.finish(27);case 31:return eo.finish(22);case 32:case"end":return eo.stop()}},an,this,[[3,18,22,32],[23,,27,31]])}));function Ft(){return Wt.apply(this,arguments)}return Ft}()},{key:"initRemotePlugins",value:function(){var Wt=p()(x()().mark(function an(){var Bn,Un=this,Gn,mr,dr,Hr,Lr,Zr,no,Jr,ho;return x()().wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:return ro.next=2,this.app.apiClient.request({url:"pm:listEnabled"});case 2:return Gn=ro.sent,mr=(Gn==null||(Bn=Gn.data)===null||Bn===void 0?void 0:Bn.data)||[],ro.next=6,Y({requirejs:this.app.requirejs,pluginData:mr,devDynamicImport:this.app.devDynamicImport});case 6:dr=ro.sent,Hr=!1,Lr=!1,ro.prev=9,no=x()().mark(function qr(){var ao,io,Eo,cn;return x()().wrap(function(ln){for(;;)switch(ln.prev=ln.next){case 0:return ao=V()(ho.value,2),io=ao[0],Eo=ao[1],cn=mr.find(function(Sn){return Sn.name===io}),ln.next=4,Un.add(Eo,cn);case 4:case"end":return ln.stop()}},qr)}),Jr=I()(dr);case 12:return ro.next=14,Jr.next();case 14:if(!(Hr=!(ho=ro.sent).done)){ro.next=19;break}return ro.delegateYield(no(),"t0",16);case 16:Hr=!1,ro.next=12;break;case 19:ro.next=25;break;case 21:ro.prev=21,ro.t1=ro.catch(9),Lr=!0,Zr=ro.t1;case 25:if(ro.prev=25,ro.prev=26,!(Hr&&Jr.return!=null)){ro.next=30;break}return ro.next=30,Jr.return();case 30:if(ro.prev=30,!Lr){ro.next=33;break}throw Zr;case 33:return ro.finish(30);case 34:return ro.finish(25);case 35:case"end":return ro.stop()}},an,this,[[9,21,25,35],[26,,30,34]])}));function Ft(){return Wt.apply(this,arguments)}return Ft}()},{key:"add",value:function(){var Wt=p()(x()().mark(function an(Bn){var Un,Gn,mr=arguments;return x()().wrap(function(Hr){for(;;)switch(Hr.prev=Hr.next){case 0:return Un=mr.length>1&&mr[1]!==void 0?mr[1]:{},Gn=this.getInstance(Bn,Un),this.pluginInstances.set(Bn,Gn),Un.name&&(this.pluginsAliases[Un.name]=Gn),Un.packageName&&(this.pluginsAliases[Un.packageName]=Gn),Hr.next=7,Gn.afterAdd();case 7:case"end":return Hr.stop()}},an,this)}));function Ft(an){return Wt.apply(this,arguments)}return Ft}()},{key:"get",value:function(Ft){return typeof Ft=="string"?this.pluginsAliases[Ft]:this.pluginInstances.get(Ft.default||Ft)}},{key:"getInstance",value:function(Ft,an){return new Ft(an,this.app)}},{key:"load",value:function(){var Wt=p()(x()().mark(function an(){var Bn,Un,Gn,mr,dr,Hr;return x()().wrap(function(Zr){for(;;)switch(Zr.prev=Zr.next){case 0:return Zr.next=2,this.initPlugins;case 2:Bn=N()(this.pluginInstances.values()),Zr.prev=3,Bn.s();case 5:if((Un=Bn.n()).done){Zr.next=11;break}return Gn=Un.value,Zr.next=9,Gn.beforeLoad();case 9:Zr.next=5;break;case 11:Zr.next=16;break;case 13:Zr.prev=13,Zr.t0=Zr.catch(3),Bn.e(Zr.t0);case 16:return Zr.prev=16,Bn.f(),Zr.finish(16);case 19:mr=N()(this.pluginInstances.values()),Zr.prev=20,mr.s();case 22:if((dr=mr.n()).done){Zr.next=28;break}return Hr=dr.value,Zr.next=26,Hr.load();case 26:Zr.next=22;break;case 28:Zr.next=33;break;case 30:Zr.prev=30,Zr.t1=Zr.catch(20),mr.e(Zr.t1);case 33:return Zr.prev=33,mr.f(),Zr.finish(33);case 36:case"end":return Zr.stop()}},an,this,[[3,13,16,19],[20,30,33,36]])}));function Ft(){return Wt.apply(this,arguments)}return Ft}()}]),Mn}(),le=e(13769),ne=e.n(le),ie=e(96486),ee=e.n(ie),fe=e(61933),de=["title","icon","aclSnippet"],ue="app.settings.",Se="/app/settings/",ae="Admin Settings",G="pm.",re=function(){function Mn(Wt,Ft){var an=this;a()(this,Mn),r()(this,"settings",{}),r()(this,"aclSnippets",[]),r()(this,"app",void 0),r()(this,"cachedList",{}),this.app=Ft,Object.entries(Wt||{}).forEach(function(Bn){var Un=V()(Bn,2),Gn=Un[0],mr=Un[1];an.add(Gn,mr)})}return l()(Mn,[{key:"setAclSnippets",value:function(Ft){this.aclSnippets=Ft}},{key:"getAclSnippet",value:function(Ft){var an=this.settings[Ft];return an!=null&&an.skipAclConfigure?null:an!=null&&an.aclSnippet?an.aclSnippet:"".concat(G).concat(Ft)}},{key:"getRouteName",value:function(Ft){return"".concat(ue).concat(Ft)}},{key:"getRoutePath",value:function(Ft){return"".concat(Se).concat(Ft.replaceAll(".","/"))}},{key:"add",value:function(Ft,an){var Bn=Ft.split("."),Un=Bn[0];this.settings[Ft]=c()(c()(c()({},this.settings[Ft]),{},{Component:w.Outlet},an),{},{name:Ft,topLevelName:an.topLevelName||Un}),Bn.length>1&&(0,ie.set)(this.settings,Bn.join(".children."),this.settings[Ft]),this.app.router.add(this.getRouteName(Ft),{path:this.getRoutePath(Ft),Component:this.settings[Ft].Component})}},{key:"remove",value:function(Ft){var an=this;Object.keys(this.settings).forEach(function(Bn){Bn.startsWith(Ft)&&(delete an.settings[Bn],an.app.router.remove("".concat(ue).concat(Bn)))})}},{key:"hasAuth",value:function(Ft){return this.aclSnippets.includes("!".concat(this.getAclSnippet("*")))?!1:this.aclSnippets.includes("!".concat(this.getAclSnippet(Ft)))===!1}},{key:"getSetting",value:function(Ft){return this.settings[Ft]}},{key:"has",value:function(Ft){var an=this.hasAuth(Ft);return an?!!this.getSetting(Ft):!1}},{key:"get",value:function(Ft){var an=this,Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Un=this.hasAuth(Ft),Gn=this.getSetting(Ft);if(Bn&&!Un||!Gn)return null;var mr=Object.keys(Gn.children||{}).sort(function(no,Jr){return no.localeCompare(Jr)}).map(function(no){return an.get(Gn.children[no].name,Bn)}).filter(Boolean).sort(function(no,Jr){return(no.sort||0)-(Jr.sort||0)}),dr=Gn.title,Hr=Gn.icon,Lr=Gn.aclSnippet,Zr=ne()(Gn,de);return c()(c()({},Zr),{},{aclSnippet:this.getAclSnippet(Ft),title:dr,isAllow:Un,label:dr,icon:typeof Hr=="string"?(0,S.createElement)(fe.JO,{type:Hr}):Hr,path:this.getRoutePath(Ft),key:Ft,children:mr.length?mr:void 0})}},{key:"getList",value:function(){var Ft=this,an=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Bn=JSON.stringify(an);return this.cachedList[Bn]=Array.from(new Set(Object.values(this.settings).map(function(Un){return Un.topLevelName}))).sort(function(Un,Gn){return Un.localeCompare(Gn)}).map(function(Un){return Ft.get(Un,an)}).filter(Boolean).sort(function(Un,Gn){return(Un.sort||0)-(Gn.sort||0)})}},{key:"getAclSnippets",value:function(){var Ft=this;return Object.keys(this.settings).map(function(an){return Ft.getAclSnippet(an)}).filter(Boolean)}}]),Mn}(),oe=e(85782),ce=e(22248),be=e(4511),xe=e(33285),ge=e(85893),he=["children"],Pe=function(Wt){(0,S.useEffect)(function(){var Ft=function(){document.visibilityState==="visible"&&!Wt.ws.connected&&Wt.ws.reconnect()},an=function(){Wt.offline=!1,Wt.notification.success({message:"Network available"}),document.visibilityState==="visible"&&!Wt.ws.connected&&Wt.ws.reconnect()},Bn=function(){Wt.offline=!0,Wt.notification.error({message:"Network unavailable"})};return document.addEventListener("click",Ft),document.addEventListener("touchstart",Ft),document.addEventListener("visibilitychange",Ft),window.addEventListener("online",an),window.addEventListener("offline",Bn),function(){document.removeEventListener("click",Ft),document.removeEventListener("touchstart",Ft),document.removeEventListener("visibilitychange",Ft),window.removeEventListener("online",an),window.removeEventListener("offline",Bn)}},[Wt])},Ae=(0,ce.observer)(function(Mn){var Wt,Ft,an,Bn,Un,Gn=Mn.children,mr=ne()(Mn,he),dr=mr.app,Hr=(0,S.useCallback)(function(Zr,no){(0,F.captureException)(Zr);var Jr=new Error;Jr.stack=no.componentStack.trim(),(0,F.captureException)(Jr)},[]);(0,S.useEffect)(function(){dr.load()},[dr]),Pe(dr);var Lr=dr.getComponent("AppError");return dr.loading?dr.renderComponent("AppSkeleton",{app:dr}):!dr.maintained&&dr.maintaining?dr.renderComponent("AppMaintaining",{app:dr}):((Wt=dr.error)===null||Wt===void 0?void 0:Wt.code)==="LOAD_ERROR"||((Ft=dr.error)===null||Ft===void 0?void 0:Ft.code)==="APP_ERROR"||((an=dr.error)===null||an===void 0?void 0:an.code)==="USER_HAS_NO_ROLES_ERR"||((Bn=dr.error)===null||Bn===void 0?void 0:Bn.code)==="APP_NOT_FOUND_ERR"||((Un=dr.error)===null||Un===void 0?void 0:Un.code)==="ROLE_NOT_FOUND_ERR"?(0,ge.jsx)(Lr,{app:dr,error:dr.error}):(0,ge.jsx)(be.SV,{FallbackComponent:function(no){return(0,ge.jsx)(Lr,c()({app:dr,error:dr.error},no))},onError:Hr,children:(0,ge.jsxs)(xe.Z.Provider,{value:dr,children:[dr.maintained&&dr.maintaining&&dr.renderComponent("AppMaintainingDialog",{app:dr}),dr.renderComponent("AppMain",void 0,Gn)]})})},{displayName:"AppComponent"}),Be=function(Wt){var Ft=Wt.children;return(0,ge.jsx)(ge.Fragment,{children:Ft})},Le=e(43173),Me=S.memo(function(Mn){var Wt=Mn.children,Ft=(0,Le.qD)(),an=(0,S.useMemo)(function(){return Ft.router.getRouterComponent(Wt)},[Ft]),Bn=(0,S.useMemo)(function(){return Ft.getComposeProviders()},[Ft]);return(0,ge.jsx)(an,{BaseLayout:Bn})});Me.displayName="MainComponent";var Te=function(){return(0,ge.jsx)("div",{children:"Loading..."})},we=function(Wt){var Ft=Wt.error;return(0,ge.jsxs)("div",{children:[(0,ge.jsx)("div",{children:"App Error"}),Ft==null?void 0:Ft.message,{NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.__TEST__&&(Ft==null?void 0:Ft.stack)]})},Ue=function(){return(0,ge.jsx)("div",{})},je={AppMain:Me,AppSpin:Te,AppError:we,AppNotFound:Ue},De=S.memo(function(Mn){return(0,ge.jsx)(w.UNSAFE_RouteContext.Provider,{value:{outlet:null,matches:[],isDataRoute:!1},children:(0,ge.jsx)(w.UNSAFE_LocationContext.Provider,{value:null,children:Mn.children})})});De.displayName="RouterContextCleaner";var ye=["Component","element","children"],_e=["type"],q=function(){function Mn(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft=arguments.length>1?arguments[1]:void 0;a()(this,Mn),r()(this,"routes",{}),r()(this,"options",void 0),r()(this,"app",void 0),this.options=Wt,this.app=Ft,this.routes=Wt.routes||{}}return l()(Mn,[{key:"getRoutesTree",value:function(){for(var Ft=this,an={},Bn=0,Un=Object.entries(this.routes);Bn<Un.length;Bn++){var Gn=V()(Un[Bn],2),mr=Gn[0],dr=Gn[1];(0,ie.set)(an,mr.split(".").join(".children."),c()(c()({},(0,ie.get)(an,mr.split(".").join(".children."))),dr))}var Hr=function Lr(Zr){return Object.values(Zr).reduce(function(no,Jr){if(Object.keys(Jr).length===1&&Jr.children)no.push.apply(no,h()(Lr(Jr.children)));else{var ho=Jr.Component,eo=Jr.element,ro=Jr.children,qr=ne()(Jr,ye),ao=eo;ho&&(typeof ho=="string"?ao=Ft.app.renderComponent(ho):ao=S.createElement(ho));var io=c()(c()({},qr),{},{element:ao,children:ro?Lr(ro):void 0});no.push(io)}return no},[])};return Hr(an)}},{key:"getRoutes",value:function(){return this.routes}},{key:"setType",value:function(Ft){this.options.type=Ft}},{key:"getBasename",value:function(){return this.options.basename}},{key:"setBasename",value:function(Ft){this.options.basename=Ft}},{key:"getRouterComponent",value:function(Ft){var an=this.options,Bn=an.type,Un=Bn===void 0?"browser":Bn,Gn=ne()(an,_e),mr={hash:z.HashRouter,browser:z.BrowserRouter,memory:w.MemoryRouter},dr=mr[Un],Hr=this.getRoutesTree(),Lr=function(){var Jr=(0,w.useRoutes)(Hr);return Jr},Zr=function(Jr){var ho=Jr.BaseLayout,eo=ho===void 0?Be:ho;return(0,ge.jsx)(De,{children:(0,ge.jsx)(dr,c()(c()({},Gn),{},{children:(0,ge.jsx)(oe.O6,{children:(0,ge.jsxs)(eo,{children:[(0,ge.jsx)(Lr,{}),Ft]})})}))})};return Zr}},{key:"add",value:function(Ft,an){this.routes[Ft]=an}},{key:"get",value:function(Ft){return this.routes[Ft]}},{key:"has",value:function(Ft){return!!this.get(Ft)}},{key:"remove",value:function(Ft){delete this.routes[Ft]}}]),Mn}();function pe(Mn,Wt){return new q(Mn,Wt)}var Re=function(){function Mn(Wt){if(a()(this,Mn),r()(this,"_ws",void 0),r()(this,"_reconnectTimes",0),r()(this,"events",[]),r()(this,"options",void 0),r()(this,"id",void 0),r()(this,"app",void 0),r()(this,"enabled",void 0),r()(this,"connected",!1),r()(this,"serverDown",!1),r()(this,"lastMessage",{}),!Wt){this.enabled=!1;return}this.options=Wt===!0?{}:Wt,this.enabled=!0,(0,o.define)(this,{serverDown:o.observable.ref,connected:o.observable.ref,lastMessage:o.observable.ref})}return l()(Mn,[{key:"getURL",value:function(){if(this.app){var Ft=this.app.getApiUrl();if(Ft){var an=(0,g.getSubAppName)(this.app.getPublicPath()),Bn=an?"?__appName=".concat(an):"",Un=this.options.basename||"/ws";if(this.options.url){var Gn=new URL(this.options.url);if(Gn.hostname==="localhost"){var mr=location.protocol==="https:"?"wss":"ws";return"".concat(mr,"://").concat(location.hostname,":").concat(Gn.port).concat(Un).concat(Bn)}return"".concat(this.options.url).concat(Bn)}try{var dr=new URL(Ft);return"".concat(dr.protocol==="https:"?"wss":"ws","://").concat(dr.host).concat(Un).concat(Bn)}catch(Hr){return"".concat(location.protocol==="https:"?"wss":"ws","://").concat(location.host).concat(Un).concat(Bn)}}}}},{key:"reconnectAttempts",get:function(){var Ft;return((Ft=this.options)===null||Ft===void 0?void 0:Ft.reconnectAttempts)||5}},{key:"reconnectInterval",get:function(){var Ft;return((Ft=this.options)===null||Ft===void 0?void 0:Ft.reconnectInterval)||1e3}},{key:"pingInterval",get:function(){var Ft;return((Ft=this.options)===null||Ft===void 0?void 0:Ft.pingInterval)||3e4}},{key:"readyState",get:function(){return this._ws?this._ws.readyState:-1}},{key:"connect",value:function(){var Ft=this;if(navigator.onLine&&this.enabled&&(this._reconnectTimes===0&&console.log("[ws]: connecting..."),!(this._reconnectTimes>=this.reconnectAttempts)&&this.readyState!==WebSocket.OPEN)){this._reconnectTimes++;var an=new WebSocket(this.getURL(),this.options.protocols),Bn;an.onopen=function(){console.log("[ws]: connected."),Ft.serverDown=!1,Ft._ws&&Ft.removeAllListeners(),Ft._reconnectTimes=0,Ft._ws=an;var Un=N()(Ft.events),Gn;try{for(Un.s();!(Gn=Un.n()).done;){var mr=Gn.value,dr=mr.type,Hr=mr.listener,Lr=mr.options;Ft._ws.addEventListener(dr,Hr,Lr)}}catch(Zr){Un.e(Zr)}finally{Un.f()}Bn=setInterval(function(){return Ft.send("ping")},Ft.pingInterval),Ft.connected=!0},an.onerror=p()(x()().mark(function Un(){return x()().wrap(function(mr){for(;;)switch(mr.prev=mr.next){case 0:console.log("onerror",Ft.readyState,Ft._reconnectTimes);case 1:case"end":return mr.stop()}},Un)})),an.onclose=function(){var Un=p()(x()().mark(function Gn(mr){return x()().wrap(function(Hr){for(;;)switch(Hr.prev=Hr.next){case 0:setTimeout(function(){return Ft.connect()},Ft.reconnectInterval),console.log("onclose",Ft.readyState,Ft._reconnectTimes,Ft.serverDown),Ft.connected=!1,clearInterval(Bn),Ft._reconnectTimes>=Math.min(Ft.reconnectAttempts,5)&&(Ft.serverDown=!0);case 5:case"end":return Hr.stop()}},Gn)}));return function(Gn){return Un.apply(this,arguments)}}()}}},{key:"reconnect",value:function(){this._reconnectTimes=0,this.connect()}},{key:"close",value:function(){if(this._ws)return this._reconnectTimes=this.reconnectAttempts,this._ws.close()}},{key:"send",value:function(Ft){if(this._ws)return this._ws.send(Ft)}},{key:"on",value:function(Ft,an,Bn){this.events.push({type:Ft,listener:an,options:Bn}),this._ws&&this._ws.addEventListener(Ft,an,Bn)}},{key:"emit",value:function(Ft,an){var Bn=N()(this.events),Un;try{for(Bn.s();!(Un=Bn.n()).done;){var Gn=Un.value;Gn.type===Ft&&Gn.listener(an)}}catch(mr){Bn.e(mr)}finally{Bn.f()}}},{key:"off",value:function(Ft,an,Bn){var Un=0,Gn=N()(this.events),mr;try{for(Gn.s();!(mr=Gn.n()).done;){var dr=mr.value;if(dr.type===Ft&&dr.listener===an){this.events.splice(Un,1);break}Un++}}catch(Hr){Gn.e(Hr)}finally{Gn.f()}this._ws&&this._ws.removeEventListener(Ft,an,Bn)}},{key:"removeAllListeners",value:function(){if(this._ws){var Ft=N()(this.events),an;try{for(Ft.s();!(an=Ft.n()).done;){var Bn=an.value,Un=Bn.type,Gn=Bn.listener,mr=Bn.options;this._ws.removeEventListener(Un,Gn,mr)}}catch(dr){Ft.e(dr)}finally{Ft.f()}}}}]),Mn}(),Oe=e(61024),$e=e(79143),Ve=e(47750),Ze=e(56390),qe=e(43868),Qe=e(3806),ke=function(){function Mn(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Ft=arguments.length>1?arguments[1]:void 0;a()(this,Mn),r()(this,"schemaInitializers",{}),r()(this,"actionList",{}),this._schemaInitializers=Wt,this.app=Ft,this.app=Ft,this.add.apply(this,h()(Wt))}return l()(Mn,[{key:"add",value:function(){for(var Ft=this,an=arguments.length,Bn=new Array(an),Un=0;Un<an;Un++)Bn[Un]=arguments[Un];Bn.forEach(function(Gn){Ft.schemaInitializers[Gn.name]=Gn,Array.isArray(Ft.actionList[Gn.name])&&(Ft.actionList[Gn.name].forEach(function(mr){Gn[mr.type](mr.itemName,mr.data)}),Ft.actionList[Gn.name]=void 0)})}},{key:"addItem",value:function(Ft,an,Bn){var Un=this.get(Ft);Un?Un.add(an,Bn):(this.actionList[Ft]||(this.actionList[Ft]=[]),this.actionList[Ft].push({type:"add",itemName:an,data:Bn}))}},{key:"get",value:function(Ft){return this.schemaInitializers[Ft]}},{key:"getAll",value:function(){return this.schemaInitializers}},{key:"has",value:function(Ft){return!!this.get(Ft)}},{key:"remove",value:function(Ft){delete this.schemaInitializers[Ft]}},{key:"removeItem",value:function(Ft,an){var Bn=this.get(Ft);Bn?Bn.remove(an):(this.actionList[Ft]||(this.actionList[Ft]=[]),this.actionList[Ft].push({type:"remove",itemName:an}))}}]),Mn}(),ft=e(5537);function vt(Mn){if(!Mn)return console.warn("Failed to mount app: mount target should not be null or undefined."),null;if(typeof Mn=="string"){var Wt=document.querySelector(Mn);return Wt||console.warn('Failed to mount app: mount target selector "'.concat(Mn,'" returned null.')),Wt}return window.ShadowRoot&&Mn instanceof window.ShadowRoot&&Mn.mode==="closed"&&console.warn('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),Mn}var _t=function(){for(var Wt=arguments.length,Ft=new Array(Wt),an=0;an<Wt;an++)Ft[an]=arguments[an];var Bn=Ft.reduce(function(Un,Gn){var mr=V()(Gn,2),dr=mr[0],Hr=mr[1],Lr=function(no){var Jr=no.children;return(0,ge.jsx)(Un,{children:(0,ge.jsx)(dr,c()(c()({},Hr),{},{children:Jr}))})};return Lr.displayName="compose(".concat(dr.displayName||dr.name,")"),Lr},Be);return function(Un){return function(Gn){return(0,ge.jsx)(Bn,{children:Un&&(0,ge.jsx)(Un,c()({},Gn))})}}},Nt=e(88422),Kt=e(82610),ut=e(42617),Rt=e(94697),Dt=e(32339),dt=e(45587),Bt=e(24285),He=e(97133),ct=e(57134),St=e(86201),Tt=e(33833),Mt=e(58011),Zt=e(94350),Je=e(84327),et=e(28853),rt=e(27655),yt=e(35757),xt=e(2008),Ct=e(83169),mt=e(9669),at=e.n(mt),ht=e(36609),ot=e(73935),kt=e(59251),nn=e(26793),Lt=e(4942),hn=e(97685),Dn=e(91),Gt=e(58236),mn=["forwardedRef"];function qt(Mn,Wt){var Ft=Object.keys(Mn);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(Mn);Wt&&(an=an.filter(function(Bn){return Object.getOwnPropertyDescriptor(Mn,Bn).enumerable})),Ft.push.apply(Ft,an)}return Ft}function $t(Mn){for(var Wt=1;Wt<arguments.length;Wt++){var Ft=arguments[Wt]!=null?arguments[Wt]:{};Wt%2?qt(Object(Ft),!0).forEach(function(an){(0,Lt.Z)(Mn,an,Ft[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mn,Object.getOwnPropertyDescriptors(Ft)):qt(Object(Ft)).forEach(function(an){Object.defineProperty(Mn,an,Object.getOwnPropertyDescriptor(Ft,an))})}return Mn}function Pn(Mn){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(an){function Bn(Gn){var mr=Gn.forwardedRef,dr=(0,Dn.Z)(Gn,mn),Hr=(0,nn.$)(Mn,$t($t({},dr),{},{keyPrefix:Wt.keyPrefix})),Lr=(0,hn.Z)(Hr,3),Zr=Lr[0],no=Lr[1],Jr=Lr[2],ho=$t($t({},dr),{},{t:Zr,i18n:no,tReady:Jr});return Wt.withRef&&mr?ho.ref=mr:!Wt.withRef&&mr&&(ho.forwardedRef=mr),(0,S.createElement)(an,ho)}Bn.displayName="withI18nextTranslation(".concat((0,Gt.Gf)(an),")"),Bn.WrappedComponent=an;var Un=function(mr,dr){return(0,S.createElement)(Bn,Object.assign({},mr,{forwardedRef:dr}))};return Wt.withRef?(0,S.forwardRef)(Un):Bn}}var vn=["ns","children"];function sn(Mn){var Wt=Mn.ns,Ft=Mn.children,an=(0,Dn.Z)(Mn,vn),Bn=(0,nn.$)(Wt,an),Un=(0,hn.Z)(Bn,3),Gn=Un[0],mr=Un[1],dr=Un[2];return Ft(Gn,{i18n:mr,lng:mr.language},dr)}function Rn(Mn,Wt){var Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},an=Ft.i18n,Bn=(0,S.useContext)(Z.OO)||{},Un=Bn.i18n,Gn=an||Un||(0,Z.nI)();Gn.options&&Gn.options.isClone||(Mn&&!Gn.initializedStoreOnce&&(Gn.services.resourceStore.data=Mn,Gn.options.ns=Object.values(Mn).reduce(function(mr,dr){return Object.keys(dr).forEach(function(Hr){mr.indexOf(Hr)<0&&mr.push(Hr)}),mr},Gn.options.ns),Gn.initializedStoreOnce=!0,Gn.isInitialized=!0),Wt&&!Gn.initializedLanguageOnce&&(Gn.changeLanguage(Wt),Gn.initializedLanguageOnce=!0))}var un=["initialI18nStore","initialLanguage"];function jt(Mn,Wt){var Ft=Object.keys(Mn);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(Mn);Wt&&(an=an.filter(function(Bn){return Object.getOwnPropertyDescriptor(Mn,Bn).enumerable})),Ft.push.apply(Ft,an)}return Ft}function rn(Mn){for(var Wt=1;Wt<arguments.length;Wt++){var Ft=arguments[Wt]!=null?arguments[Wt]:{};Wt%2?jt(Object(Ft),!0).forEach(function(an){(0,Lt.Z)(Mn,an,Ft[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mn,Object.getOwnPropertyDescriptors(Ft)):jt(Object(Ft)).forEach(function(an){Object.defineProperty(Mn,an,Object.getOwnPropertyDescriptor(Ft,an))})}return Mn}function An(){return function(Wt){function Ft(an){var Bn=an.initialI18nStore,Un=an.initialLanguage,Gn=(0,Dn.Z)(an,un);return Rn(Bn,Un),(0,S.createElement)(Wt,rn({},Gn))}return Ft.getInitialProps=(0,Z.qi)(Wt),Ft.displayName="withI18nextSSR(".concat((0,Gt.Gf)(Wt),")"),Ft.WrappedComponent=Wt,Ft}}var En=function(){return""},gn=function(){return""},jn=function(){return""},Yt=function(){return""},gt=function(){return""},wt=function(){return""},Vt=e(21143);function It(Mn){Mn.define("react",function(){return S}),Mn.define("react-dom",function(){return ot}),Mn.define("react/jsx-runtime",function(){return ge}),Mn.define("react-router",function(){return w}),Mn.define("react-router-dom",function(){return z}),Mn.define("antd",function(){return xt}),Mn.define("antd-style",function(){return Ct}),Mn.define("@ant-design/icons",function(){return Kt}),Mn.define("@ant-design/cssinjs",function(){return Nt}),Mn.define("i18next",function(){return ht}),Mn.define("react-i18next",function(){return v}),Mn.define("@formily/antd-v5",function(){return ct}),Mn.define("@formily/core",function(){return St}),Mn.define("@formily/react",function(){return Zt}),Mn.define("@formily/shared",function(){return Je}),Mn.define("@formily/json-schema",function(){return Tt}),Mn.define("@formily/reactive",function(){return o}),Mn.define("@formily/path",function(){return Mt}),Mn.define("@formily/validator",function(){return et}),Mn.define("@formily/reactive-react",function(){return ce}),Mn.define("@nocobase/utils",function(){return F}),Mn.define("@nocobase/utils/client",function(){return F}),Mn.define("@nocobase/client",function(){return Vt}),Mn.define("@nocobase/client/client",function(){return Vt}),Mn.define("@nocobase/evaluators",function(){return rt}),Mn.define("@nocobase/evaluators/client",function(){return rt}),Mn.define("@nocobase/sdk",function(){return g}),Mn.define("@dnd-kit/accessibility",function(){return ut}),Mn.define("@dnd-kit/core",function(){return Rt}),Mn.define("@dnd-kit/modifiers",function(){return Dt}),Mn.define("@dnd-kit/sortable",function(){return dt}),Mn.define("@dnd-kit/utilities",function(){return Bt}),Mn.define("axios",function(){return at()}),Mn.define("dayjs",function(){return F.dayjs}),Mn.define("lodash",function(){return ee()}),Mn.define("ahooks",function(){return yt}),Mn.define("@emotion/css",function(){return He}),Mn.define("dayjs",function(){return F.dayjs})}var zt=e(57780),In=e(52020),Tn=e(88996),en=e(87180),qn=e(57638),er=e(79268),ar=e(51283),nr=e(6574),rr=function(Wt){return Wt?"nocobase_".concat(Wt,"_designable").toUpperCase():"nocobase_designable".toUpperCase()},hr=function(Wt){var Ft=(0,ar.Z)(rr(Wt.appName),{defaultValue:!!Wt.designable}),an=V()(Ft,2),Bn=an[0],Un=an[1];return(0,ge.jsx)(nr.Tz,c()(c()({},Wt),{},{designable:Bn,onDesignableChange:function(mr){Un(mr)}}))},Ar=function(Wt){return typeof Wt.designable=="boolean"?(0,ge.jsx)(nr.Tz,c()({},Wt)):(0,ge.jsx)(hr,c()({},Wt))},_r=e(42371),Ir=function(){function Mn(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a()(this,Mn),r()(this,"providers",[]),r()(this,"router",void 0),r()(this,"scopes",{}),r()(this,"i18n",void 0),r()(this,"ws",void 0),r()(this,"apiClient",void 0),r()(this,"components",c()(c()(c()({DataBlockProvider:en.KY},je),Ze),{},{CollectionField:In.s})),r()(this,"pluginManager",void 0),r()(this,"pluginSettingsManager",void 0),r()(this,"devDynamicImport",void 0),r()(this,"requirejs",void 0),r()(this,"notification",void 0),r()(this,"schemaInitializerManager",void 0),r()(this,"schemaSettingsManager",void 0),r()(this,"dataSourceManager",void 0),r()(this,"name",void 0),r()(this,"loading",!0),r()(this,"maintained",!1),r()(this,"maintaining",!1),r()(this,"error",null),r()(this,"offline",!1),this.options=Wt,this.initRequireJs(),(0,o.define)(this,{maintained:o.observable.ref,loading:o.observable.ref,maintaining:o.observable.ref,error:o.observable.ref,offline:o.observable.ref}),this.devDynamicImport=Wt.devDynamicImport,this.scopes=E()(this.scopes,Wt.scopes),this.components=E()(this.components,Wt.components),this.apiClient=Wt.apiClient instanceof A.lP?Wt.apiClient:new A.lP(Wt.apiClient),this.apiClient.app=this,this.i18n=Wt.i18n||R.a,this.router=new q(Wt.router,this),this.schemaSettingsManager=new ft.XD(Wt.schemaSettings,this),this.pluginManager=new te(Wt.plugins,Wt.loadRemotePlugins,this),this.schemaInitializerManager=new ke(Wt.schemaInitializers,this),this.dataSourceManager=new qn.AK(Wt.dataSourceManager,this),this.addDefaultProviders(),this.addReactRouterComponents(),this.addProviders(Wt.providers||[]),this.ws=new Re(Wt.ws),this.ws.app=this,this.pluginSettingsManager=new re(Wt.pluginSettings,this),this.addRoutes(),this.name=this.options.name||(0,g.getSubAppName)(Wt.publicPath)||"main"}return l()(Mn,[{key:"pm",get:function(){return this.pluginManager}},{key:"disableAcl",get:function(){return this.options.disableAcl}},{key:"initRequireJs",value:function(){this.requirejs=(0,zt._)(),It(this.requirejs),window.define=this.requirejs.define}},{key:"addDefaultProviders",value:function(){this.use(A.Xb,{apiClient:this.apiClient}),this.use(K,{i18n:this.i18n}),this.use(b.YO),this.use(M.O),this.use(Ar,{designable:this.options.designable,appName:this.name,components:this.components,scope:this.scopes}),this.use(b.wI),this.use(Tn.i,{dataSourceManager:this.dataSourceManager}),this.use(er.W),this.use(_r._w)}},{key:"addReactRouterComponents",value:function(){this.addComponents({Link:z.Link,Navigate:w.Navigate,NavLink:z.NavLink})}},{key:"addRoutes",value:function(){this.router.add("not-found",{path:"*",Component:this.components.AppNotFound})}},{key:"getOptions",value:function(){return this.options}},{key:"getName",value:function(){return(0,g.getSubAppName)(this.getPublicPath())||null}},{key:"getPublicPath",value:function(){var Ft=this.options.publicPath||"/";return Ft.endsWith("/")||(Ft+="/"),Ft}},{key:"getApiUrl",value:function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",an=this.apiClient.axios.defaults.baseURL;if(!an.startsWith("http://")&&!an.startsWith("https://")){var Bn=window.location,Un=Bn.protocol,Gn=Bn.host;an="".concat(Un,"//").concat(Gn).concat(an)}return an.replace(/\/$/g,"")+"/"+Ft.replace(/^\//g,"")}},{key:"getRouteUrl",value:function(Ft){return this.getPublicPath()+Ft.replace(/^\//g,"")}},{key:"getCollectionManager",value:function(Ft){var an;return(an=this.dataSourceManager.getDataSource(Ft))===null||an===void 0?void 0:an.collectionManager}},{key:"getComposeProviders",value:function(){var Ft=_t.apply(void 0,h()(this.providers))(Be);return Ft.displayName="Providers",Ft}},{key:"use",value:function(Ft,an){return this.addProvider(Ft,an)}},{key:"addProvider",value:function(Ft,an){return this.providers.push([Ft,an])}},{key:"addProviders",value:function(Ft){var an=this;Ft.forEach(function(Bn){Array.isArray(Bn)?an.addProvider(Bn[0],Bn[1]):an.addProvider(Bn)})}},{key:"load",value:function(){var Wt=p()(x()().mark(function an(){var Bn=this,Un,Gn,mr,dr;return x()().wrap(function(Lr){for(;;)switch(Lr.prev=Lr.next){case 0:return Un=!1,this.ws.on("message",function(Zr){var no,Jr=JSON.parse(Zr.data);if(Jr!=null&&(no=Jr.payload)!==null&&no!==void 0&&no.refresh){window.location.reload();return}if(Jr.type==="notification"){var ho,eo;Bn.notification[((ho=Jr.payload)===null||ho===void 0?void 0:ho.type)||"info"]({message:(eo=Jr.payload)===null||eo===void 0?void 0:eo.message});return}var ro=Jr.type==="maintaining"&&Jr.payload.code!=="APP_RUNNING";if(ro)Bn.maintaining=!0,Bn.error=Jr.payload;else{if(Un){window.location.reload();return}Bn.maintaining=!1,Bn.maintained=!0,Bn.error=null}}),this.ws.connect(),Lr.prev=3,this.loading=!0,Lr.next=7,this.pm.load();case 7:Lr.next=18;break;case 9:if(Lr.prev=9,Lr.t0=Lr.catch(3),!this.ws.enabled){Lr.next=14;break}return Lr.next=14,new Promise(function(Zr){setTimeout(function(){return Zr(null)},1e3)});case 14:Un=!0,dr=(Lr.t0===null||Lr.t0===void 0||(Gn=Lr.t0.response)===null||Gn===void 0||(Gn=Gn.data)===null||Gn===void 0?void 0:Gn.error)||(Lr.t0===null||Lr.t0===void 0||(mr=Lr.t0.response)===null||mr===void 0||(mr=mr.data)===null||mr===void 0||(mr=mr.errors)===null||mr===void 0?void 0:mr[0])||{message:Lr.t0===null||Lr.t0===void 0?void 0:Lr.t0.message},this.error=c()({code:"LOAD_ERROR"},dr),(0,F.captureException)(Lr.t0,this.error);case 18:this.loading=!1;case 19:case"end":return Lr.stop()}},an,this,[[3,9]])}));function Ft(){return Wt.apply(this,arguments)}return Ft}()},{key:"getComponent",value:function(Ft){var an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Bn=function(mr){an&&(0,F.captureException)(mr)};if(!Ft){Bn("getComponent called with ".concat(Ft));return}if(typeof Ft=="function")return Ft;if(typeof Ft=="string"){var Un=D()(this.components,Ft);if(!Un){Bn("Component ".concat(Ft," not found"));return}return Un}Bn("Component ".concat(Ft," should be a string or a React component"))}},{key:"renderComponent",value:function(Ft,an,Bn){return S.createElement(this.getComponent(Ft),an,Bn)}},{key:"addComponent",value:function(Ft,an){var Bn=an||Ft.displayName||Ft.name;if(!Bn){(0,F.captureException)("Component must have a displayName or pass name as second argument");return}T()(this.components,Bn,Ft)}},{key:"addComponents",value:function(Ft){var an=this;Object.keys(Ft).forEach(function(Bn){an.addComponent(Ft[Bn],Bn)})}},{key:"addScopes",value:function(Ft){this.scopes=E()(this.scopes,Ft)}},{key:"getRootComponent",value:function(){var Ft=this,an=function(Un){var Gn=Un.children;return(0,ge.jsx)(Ae,{app:Ft,children:Gn})};return an}},{key:"mount",value:function(Ft){var an=vt(Ft);if(an){var Bn=this.getRootComponent(),Un=(0,$.createRoot)(an);return Un.render((0,ge.jsx)(Bn,{})),Un}}}]),Mn}(),Sr=e(31601),Mr=e(35097),Br=e(61178)},3806:function(se,j,e){"use strict";e.d(j,{h:function(){return P},n:function(){return y}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(25098),d=e.n(p),h=e(28785),t=e.n(h),c=e(48374),i=e.n(c),a=e(31996),f=e.n(a),l=e(26037),n=e.n(l),r=e(9783),o=e.n(r),g=e(43868),y=function(E){f()(T,E);var O=n()(T);function T(S,$){var Z;return m()(this,T),Z=O.call(this,S),o()(d()(Z),"otherInstance",null),$&&(Z.otherInstance=$,$.otherInstance=d()(Z)),Z}return u()(T,[{key:"add",value:function($,Z){t()(i()(T.prototype),"get",this).call(this,$)||(t()(i()(T.prototype),"add",this).call(this,$,Z),this.otherInstance&&this.otherInstance.add($,Z))}},{key:"remove",value:function($){t()(i()(T.prototype),"get",this).call(this,$)&&(t()(i()(T.prototype),"remove",this).call(this,$),this.otherInstance&&this.otherInstance.remove($))}}]),T}(g.e),D={BlockInitializers:"page:addBlock",MBlockInitializers:"mobilePage:addBlock",CreateFormBlockInitializers:"popup:addNew:addBlock",CusomeizeCreateFormBlockInitializers:"popup:addRecord:addBlock",RecordBlockInitializers:"popup:common:addBlock",BulkEditBlockInitializers:"popup:bulkEdit:addBlock",TableColumnInitializers:"table:configureColumns",TableActionColumnInitializers:"table:configureItemActions",TableActionInitializers:"table:configureActions",SubTableActionInitializers:"subTable:configureActions",FormItemInitializers:"form:configureFields",CreateFormActionInitializers:"createForm:configureActions",UpdateFormActionInitializers:"editForm:configureActions",ReadPrettyFormItemInitializers:"details:configureFields",DetailsActionInitializers:"detailsWithPaging:configureActions",ReadPrettyFormActionInitializers:"details:configureActions",KanbanCardInitializers:"kanban:configureItemFields",KanbanActionInitializers:"kanban:configureActions",GridCardActionInitializers:"gridCard:configureActions",GridCardItemActionInitializers:"gridCard:configureItemActions",ListActionInitializers:"list:configureActions",ListItemActionInitializers:"list:configureItemActions",CalendarActionInitializers:"calendar:configureActions",GanttActionInitializers:"gantt:configureActions",MapActionInitializers:"map:configureActions",TableSelectorInitializers:"popup:tableSelector:addBlock",ChartInitializers:"charts:addBlock",ChartFilterItemInitializers:"chartFilterForm:configureFields",ChartFilterActionInitializers:"chartFilterForm:configureActions",AssociationFilterInitializers:"filterCollapse:configureFields",FilterFormItemInitializers:"filterForm:configureFields",FilterFormActionInitializers:"filterForm:configureActions",CustomFormItemInitializers:"assignFieldValuesForm:configureFields",BulkEditFormItemInitializers:"bulkEditForm:configureFields",BulkEditFormActionInitializers:"bulkEditForm:configureActions",AuditLogsTableColumnInitializers:"auditLogsTable:configureColumns",AuditLogsTableActionColumnInitializers:"auditLogsTable:configureItemActions",AuditLogsTableActionInitializers:"auditLogsTable:configureActions",SnapshotBlockInitializers:"popup:snapshot:addBlock",AddBlockButton:"workflowManual:popup:configureUserInterface:addBlock",AddCustomFormField:"workflowManual:customForm:configureFields",AddActionButton:"workflowManual:form:configureActions"};function P(E,O){return E===O||D[E]===O}},43868:function(se,j,e){"use strict";e.d(j,{e:function(){return c}});var v=e(97857),m=e.n(v),x=e(12444),u=e.n(x),p=e(72004),d=e.n(p),h=e(9783),t=e.n(h),c=function(){function i(a){u()(this,i),t()(this,"options",void 0),t()(this,"name",void 0),this.options=Object.assign({items:[]},a),this.name=a.name}return d()(i,[{key:"items",get:function(){return this.options.items}},{key:"add",value:function(f,l){var n=f.split("."),r=m()(m()({},l),{},{name:n[n.length-1]});if(n.length===1){var o=this.items.findIndex(function(E){return E.name===f});o===-1?this.items.push(r):this.items[o]=r;return}var g=n.slice(0,-1).join("."),y=this.get(g);if(y){y.children||(y.children=[]);var D=f.replace("".concat(y.name,"."),""),P=y.children.findIndex(function(E){return E.name===D});P===-1?y.children.push(r):y.children[P]=r}}},{key:"get",value:function(f){if(f){for(var l=f.split("."),n=this.items,r=function(){var D=l[g];if(n=n.find(function(P){return P.name===D}),!n||g===l.length-1)return{v:n};if(n.children)n=n.children;else return{v:void 0}},o,g=0;g<l.length;g++)if(o=r(),o)return o.v}}},{key:"remove",value:function(f){var l=f.split(".");if(l.length===1){var n=this.items.findIndex(function(y){return y.name===l[0]});n!==-1&&this.items.splice(n,1);return}var r=this.get(l.slice(0,-1).join("."));if(r&&r.children){var o=l[l.length-1],g=r.children.findIndex(function(y){return y.name===o});g!==-1&&r.children.splice(g,1)}}}]),i}()},916:function(se,j,e){"use strict";e.d(j,{H:function(){return y},I:function(){return D}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(97857),d=e.n(p),h=e(13769),t=e.n(h),c=e(94350),i=e(67294),a=e(84327),f=e(98427),l=e(47750),n=e(7849),r=e(85893),o=["onClick","title"],g=i.forwardRef(function(P,E){var O=P.onClick,T=P.title,S=t()(P,o);return(0,r.jsx)(n.l,d()(d()({ref:E},S),{},{onClick:function(Z){O==null||O(Z.event)}}))}),y=function(E){var O=E.title,T=E.schema,S=E.buttonText,$=E.isItem,Z=E.component,K=E.onCancel,z=E.onSubmit,w=(0,i.useCallback)(function(){var b=(0,c.useForm)(),R=(0,f.XCj)();return{run:function(){return u()(m()().mark(function N(){return m()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,K==null?void 0:K();case 2:R.setVisible(!1),b.reset();case 4:case"end":return V.stop()}},N)}))()}}},[K]),A=(0,i.useCallback)(function(){var b=(0,c.useForm)(),R=(0,f.XCj)();return{run:function(){return u()(m()().mark(function N(){return m()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,b.validate();case 2:return V.next=4,z==null?void 0:z(b.values);case 4:R.setVisible(!1),b.reset();case 6:case"end":return V.stop()}},N)}))()}}},[z]),M=(0,i.useMemo)(function(){return{type:"void",properties:{action1:{type:"void","x-component":"Action","x-component-props":Z?{component:Z}:$?{title:S,component:g}:{icon:"PlusOutlined",style:{borderColor:"var(--colorSettings)",color:"var(--colorSettings)"},title:S,type:"dashed"},properties:{drawer1:{"x-decorator":"Form","x-component":"Action.Modal","x-component-props":{style:{maxWidth:"520px",width:"100%"}},type:"void",title:O,properties:d()(d()({},(T==null?void 0:T.properties)||T),{},{footer:{"x-component":"Action.Modal.Footer",type:"void",properties:{cancel:{title:'{{t("Cancel")}}',"x-component":"Action","x-component-props":{useAction:w}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",useAction:A}}}}})}}}}}},[S,Z,T,O,w,A]);return(0,r.jsx)(f.n6,{schema:M},(0,a.uid)())},D=function(){var E=(0,l.UR)();return(0,r.jsx)(y,d()({},E))}},45705:function(se,j,e){"use strict";e.d(j,{E:function(){return f},y:function(){return g}});var v=e(19632),m=e.n(v),x=e(13769),u=e.n(x),p=e(97857),d=e.n(p),h=e(67294),t=e(98427),c=e(47750),i=e(85893),a=["type","Component","component","children","useVisible","useChildren","useComponentProps","hideIfNoChildren","componentProps","sort"],f=function(D){var P=D.children;return P?(0,i.jsx)(i.Fragment,{children:P.sort(function(E,O){return(E.sort||0)-(O.sort||0)}).map(function(E,O){return(0,i.jsx)(g,d()({},E),E.name||E.key||O)})}):null},l={item:"SchemaInitializerItemInternal",itemGroup:"SchemaInitializerItemGroupInternal",divider:"SchemaInitializerDivider",switch:"SchemaInitializerSwitchInternal",subMenu:"SchemaInitializerSubMenuInternal",actionModal:"SchemaInitializerActionModalInternal"},n=function(){},r=function(){return!0},o=function(){},g=(0,h.memo)(function(y){var D=y,P=D.type,E=D.Component,O=D.component,T=D.children,S=D.useVisible,$=S===void 0?r:S,Z=D.useChildren,K=Z===void 0?n:Z,z=D.useComponentProps,w=z===void 0?o:z,A=D.hideIfNoChildren,M=D.componentProps,b=D.sort,R=u()(D,a),L=K(),N=w(),B=(0,t.sRe)(),V=E||O,U=!V&&P&&l[P],I=(0,h.useMemo)(function(){var J=[].concat(m()(L||[]),m()(T||[]));return J.length===0?void 0:J},[L,T]),F=(0,h.useMemo)(function(){return d()(d()(d()(d()({},R),U?N:{}),U?M:{}),{},{children:I})},[R,U,N,M,I]),W=$();if(!W||!P&&!V)return null;var X=B(U?l[P]:V);return!X||A&&!I?null:(0,i.jsx)(c.Mm.Provider,{value:F,children:(0,i.jsx)(X,d()(d()(d()({},M),N),{},{children:I}))})});g.displayName="SchemaInitializerChild"},7849:function(se,j,e){"use strict";e.d(j,{V:function(){return g},l:function(){return o}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(84327),d=e(94184),h=e.n(d),t=e(67294),c=e(61933),i=e(98427),a=e(47750),f=e(79143),l=e(70345),n=e(69960),r=e(85893),o=(0,t.memo)(t.forwardRef(function(y,D){var P=y.style,E=y.closeInitializerMenuWhenClick,O=E===void 0?!0:E,T=y.name,S=T===void 0?(0,p.uid)():T,$=y.applyMenuStyle,Z=$===void 0?!0:$,K=y.className,z=y.disabled,w=y.items,A=y.icon,M=y.title,b=y.onClick,R=y.children,L=(0,i.eJW)(),N=(0,f.hL)(w,S,b),B=(0,n._)(),V=B.componentCls,U=B.hashId,I=(0,f.ne)(),F=I.attribute,W=(0,a.q_)(),X=W.setVisible,J=(0,t.useMemo)(function(){if(w&&w.length>0)return[{key:S,style:P,className:K,label:R||L(M),onClick:function(k){k.key===S&&(O&&(X==null||X(!1)),b==null||b(u()(u()({},k),{},{item:y})))},icon:typeof A=="string"?(0,r.jsx)(c.JO,{type:A}):A,children:N}]},[S,P,K,R,M,b,A,N]);return w&&w.length>0?(0,r.jsx)(l.tu,{items:J}):(0,r.jsx)("div",{ref:D,onClick:function(k){k.stopPropagation(),O&&(X==null||X(!1)),b==null||b({event:k,item:y})},children:(0,r.jsx)("div",u()(u()({},F),{},{className:h()(m()({},"".concat(V,"-menu-item"),Z),K),style:P,children:R||(0,r.jsxs)(r.Fragment,{children:[A&&typeof A=="string"?(0,r.jsx)(c.JO,{type:A}):A,(0,r.jsx)("span",{className:h()(m()({},"".concat(U," ").concat(V,"-item-content"),A)),children:L(M)})]})}))})}));o.displayName="SchemaInitializerItem";var g=function(){var D=(0,a.UR)();return(0,r.jsx)(o,u()({},D))}},70345:function(se,j,e){"use strict";e.d(j,{eU:function(){return Z},kw:function(){return T},tu:function(){return $},vH:function(){return S},xv:function(){return K}});var v=e(68400),m=e.n(v),x=e(97857),u=e.n(x),p=e(13769),d=e.n(p),h=e(9001),t=e(9149),c=e(97133),i=e(84327),a=e(9361),f=e(68508),l=e(67294),n=e(98427),r=e(47750),o=e(79143),g=e(69960),y=e(85893),D,P=["items"],E=["children","items","title","name","onOpenChange","icon"],O=l.createContext({}),T=function(w){return(0,y.jsx)(O.Provider,{value:{isInMenu:!0},children:w.children})},S=function(){return l.useContext(O)},$=function(w){var A=(0,g._)(),M=A.componentCls,b=A.hashId,R=w.items,L=d()(w,P),N=a.Z.useToken(),B=N.token,V=(0,l.useMemo)(function(){return R.map(function(U){return u()(u()({},U),{},{popupClassName:"".concat(b," ").concat(M,"-menu-sub")})})},[M,b,R]);return(0,y.jsx)(T,{children:(0,y.jsx)(f.Z,u()({selectable:!1,expandIcon:(0,y.jsx)(h.Z,{style:{fontSize:B.fontSizeSM,color:B.colorTextDescription}}),rootClassName:(0,c.css)(D||(D=m()([`
          box-shadow: none !important;
          border-inline-end: 0 !important;
          .ant-menu-sub {
            height: 30vh;
            max-height: 50vh !important;
          }
          .ant-menu-item {
            margin-block: 0;
          }
          .ant-menu-root {
            margin: 0 -`,`px;
            .ant-menu-submenu-title,
            .ant-menu-item-only-child {
              margin-inline: 0;
              margin-block: 0;
              width: 100%;
            }
          }
        `])),B.margin),items:V},L))})},Z=function(w){var A,M=w.children,b=w.items,R=w.title,L=w.name,N=w.onOpenChange,B=w.icon,V=d()(w,E),U=(0,n.eJW)(),I=(0,r.UR)(),F=(0,l.useMemo)(function(){return L||(I==null?void 0:I.name)||(0,i.uid)()},[L,I]),W=(A=b||M)===null||A===void 0?void 0:A.filter(function(C){return C.useVisible?C.useVisible():!0}),X=(0,o.hL)(W,L),J=(0,l.useMemo)(function(){return[u()(u()({},V),{},{key:F,label:U(R),icon:typeof B=="string"?(0,y.jsx)(t.Z,{type:B}):B,children:X})]},[X,U,B,F,V,R]);return(0,y.jsx)($,{onOpenChange:N,items:J})},K=function(){var w=(0,r.UR)();return(0,y.jsx)(Z,u()({},w))}},56390:function(se,j,e){"use strict";e.r(j),e.d(j,{SchemaInitializerActionModal:function(){return T.H},SchemaInitializerActionModalInternal:function(){return T.I},SchemaInitializerChild:function(){return o.y},SchemaInitializerChildren:function(){return o.E},SchemaInitializerDivider:function(){return y},SchemaInitializerItem:function(){return m.l},SchemaInitializerItemGroup:function(){return P},SchemaInitializerItemGroupInternal:function(){return E},SchemaInitializerItemInternal:function(){return m.V},SchemaInitializerItems:function(){return O},SchemaInitializerMenu:function(){return v.tu},SchemaInitializerMenuProvider:function(){return v.kw},SchemaInitializerSelect:function(){return z},SchemaInitializerSelectInternal:function(){return w},SchemaInitializerSubMenu:function(){return v.eU},SchemaInitializerSubMenuInternal:function(){return v.xv},SchemaInitializerSwitch:function(){return l},SchemaInitializerSwitchInternal:function(){return n},useSchemaInitializerStyles:function(){return D._},useSchemaInitializerSubMenuContext:function(){return v.vH}});var v=e(70345),m=e(7849),x=e(97857),u=e.n(x),p=e(13769),d=e.n(p),h=e(59637),t=e(67294),c=e(98427),i=e(47750),a=e(85893),f=["title","checked"],l=function(M){var b=M.title,R=M.checked,L=d()(M,f),N=(0,c.eJW)();return(0,a.jsx)(m.l,u()(u()({},L),{},{closeInitializerMenuWhenClick:!1,children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[N(b),(0,a.jsx)(h.Z,{style:{marginLeft:20},size:"small",checked:R,disabled:M.disabled})]})}))},n=function(){var M=(0,i.UR)();return(0,a.jsx)(l,u()({},M))},r=e(9361),o=e(45705),g=e(96074),y=function(){var M=r.Z.useToken(),b=M.token;return(0,a.jsx)(g.Z,{style:{marginTop:b.marginXXS,marginBottom:b.marginXXS}})},D=e(69960),P=function(M){var b=M.children,R=M.items,L=M.title,N=M.divider,B=(0,c.eJW)(),V=(0,D._)(),U=V.componentCls,I=r.Z.useToken(),F=I.token;return(0,a.jsxs)("div",{style:{marginInline:F.marginXXS},children:[N&&(0,a.jsx)(y,{}),(0,a.jsx)("div",{className:"".concat(U,"-group-title"),children:B(L)}),(0,a.jsx)(o.E,{children:R||b})]})},E=function(){var M=(0,i.UR)();return(0,a.jsx)(P,u()({},M))},O=function(M){var b=M.items;return b.length===0?null:(0,a.jsx)(o.E,{children:b})},T=e(916),S=e(5574),$=e.n(S),Z=e(34041),K=["title","options","value","onChange","openOnHover","onClick"],z=function(M){var b=M.title,R=M.options,L=M.value,N=M.onChange,B=M.openOnHover,V=M.onClick,U=d()(M,K),I=(0,t.useState)(!1),F=$()(I,2),W=F[0],X=F[1],J=(0,t.useCallback)(function(){X(!1);for(var Y=arguments.length,H=new Array(Y),te=0;te<Y;te++)H[te]=arguments[te];V==null||V.apply(void 0,H)},[X,V]),C=(0,t.useCallback)(function(){return X(!0)},[]),k=(0,t.useMemo)(function(){return B?{onMouseEnter:C,open:W}:{}},[C,W,B]);return(0,a.jsx)(m.l,u()(u()({},U),{},{closeInitializerMenuWhenClick:!1,children:(0,a.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[b,(0,a.jsx)(Z.default,u()({"data-testid":"antd-select",popupMatchSelectWidth:!1,bordered:!1,defaultValue:L,onChange:function(){return X(!1),N.apply(void 0,arguments)},options:R,style:{textAlign:"right",minWidth:100},onClick:J},k))]})}))},w=function(){var M=(0,i.UR)();return(0,a.jsx)(z,u()({},M))}},69960:function(se,j,e){"use strict";e.d(j,{_:function(){return u}});var v=e(9783),m=e.n(v),x=e(60094),u=(0,x.l6)("nb-schema-initializer",function(p){var d,h,t=p.componentCls;return h={},m()(h,t,{".ant-menu":{background:"transparent",borderInlineEnd:"none !important"},":not(.ant-menu)":(d={},m()(d,"".concat(t,"-group-title"),{color:p.colorTextDescription,lineHeight:"40px",paddingLeft:p.padding,paddingRight:p.paddingSM}),m()(d,"".concat(t,"-menu-item"),{marginInline:p.marginXXS,paddingLeft:p.padding,paddingRight:p.paddingSM,lineHeight:"40px",color:p.colorText,cursor:"pointer","&:hover":{borderRadius:p.borderRadiusSM,backgroundColor:p.colorBgTextHover}}),d)}),m()(h,"".concat(t,"-menu-sub"),{ul:{maxHeight:"50vh !important"}}),m()(h,"".concat(t,"-item-content"),{marginLeft:p.marginXS}),h})},47750:function(se,j,e){"use strict";e.d(j,{Mm:function(){return u},UR:function(){return p},V4:function(){return m},q_:function(){return x}});var v=e(67294),m=(0,v.createContext)({});m.displayName="SchemaInitializerContext";var x=function(){return v.useContext(m)},u=(0,v.createContext)({});u.displayName="SchemaInitializerItemContext";var p=function(){return v.useContext(u)}},79143:function(se,j,e){"use strict";e.d(j,{ne:function(){return x},bw:function(){return T},hL:function(){return O},IU:function(){return P}});var v=e(67294),m=e(70345),x=function(){var $=(0,m.vH)(),Z=$.isInMenu,K=(0,v.useMemo)(function(){return Z?{}:{role:"menuitem"}},[Z]);return{attribute:K}},u=e(97857),p=e.n(u),d=e(43173),h=e(56390),t=e(13769),c=e.n(t),i=e(15867),a=e(61933),f=e(98427),l=e(96256),n=e(85893),r=["style","options"],o=v.memo(function(S){var $=S.style,Z=S.options,K=c()(S,r),z=(0,f.eJW)(),w=(0,l.d)(),A=w.getAriaLabel;return(0,n.jsx)(i.ZP,p()(p()({"data-testid":Z["data-testid"],"aria-label":A(),"aria-disabled":"false",type:"dashed",style:p()({borderColor:"var(--colorSettings)",color:"var(--colorSettings)"},$),icon:typeof Z.icon=="string"?(0,n.jsx)(a.JO,{type:Z.icon}):Z.icon},K),{},{children:(0,n.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-block",width:Z.icon?"calc(100% - 14px)":"100%",verticalAlign:"bottom"},children:z(Z.title)})}))});o.displayName="SchemaInitializerButton(memo)";var g=e(61024),y=e(70173),D=v.memo(function(S){var $=S.Component||o,Z=S.ItemsComponent||h.SchemaInitializerItems,K=p()(p()({},S.itemsComponentProps),{},{options:S,items:S.items,style:S.itemsComponentStyle}),z=(0,v.useMemo)(function(){return(0,g.W)($)},[$]);return v.createElement(z,S,v.createElement(Z,K))});D.displayName="InitializerComponent";function P(S,$){var Z=(0,d.qD)(),K=(0,v.useMemo)(function(){var w;return(w=Z.schemaInitializerManager)===null||w===void 0?void 0:w.get(S)},[Z.schemaInitializerManager,S]),z=(0,v.useMemo)(function(){return S?K?{exists:!0,render:function(A){return v.createElement(D,p()(p()(p()({},K.options),$),A))}}:((0,y.captureException)('[nocobase]: SchemaInitializer "'.concat(S,'" not found')),{exists:!1,render:function(){return null}}):{exists:!1,render:function(){return null}}},[K,S,$]);return z}var E=["isMenuType"];function O(S,$,Z){var K=T(Z);return(0,v.useMemo)(function(){return K(S,$)},[K,S,$])}function T(S){var $=(0,f.eJW)(),Z=(0,v.useCallback)(function(K,z){return K!=null&&K.length?K.map(function(w,A){var M=w.name,b=w.component||w.Component,R,L=w.title||w.label?$(w.title||w.label):void 0;if(b&&(R=v.createElement(h.SchemaInitializerChild,p()(p()({},w),{},{title:L}))),w.type==="divider")return{type:"divider",key:w.key||"divider-".concat(A)};if(w.type==="item"&&b)return w.key||(w.key="".concat(L,"-").concat(A)),w.associationField?{key:w.key,label:R,name:M,associationField:w.associationField}:{key:w.key,label:R,name:M};if(w.type==="itemGroup"){var N,B=typeof L=="string"?L:w.title,V=w.key||"".concat(z,"-item-group-").concat(A);return{type:"group",key:V,label:B,name:M,children:w!=null&&(N=w.children)!==null&&N!==void 0&&N.length?Z(w.children,V):[]}}if(w.type==="subMenu"){var U,I=L,F=w.key||w.name||"".concat(z,"-sub-menu-").concat(A);return{key:F,label:I,name:M,children:w!=null&&(U=w.children)!==null&&U!==void 0&&U.length?Z(w.children,F):[]}}if(w.isMenuType){var W=w.isMenuType,X=c()(w,E);return X}var J=R||L,C=w.key||"".concat(z,"-").concat(L,"-").concat(A),k=function(H){H.domEvent.stopPropagation(),H.key===C&&(w.onClick?w.onClick(p()(p()({},H),{},{item:w})):S==null||S(p()(p()({},H),{},{item:w})))};return w.associationField?{key:C,label:J,name:M,associationField:w.associationField,onClick:k}:{key:C,label:J,name:M,onClick:k}}):[]},[$,S]);return Z}},61024:function(se,j,e){"use strict";e.d(j,{W:function(){return E}});var v=e(68400),m=e.n(v),x=e(97857),u=e.n(x),p=e(5574),d=e.n(p),h=e(94350),t=e(9361),c=e(55241),i=e(28459),a=e(67294),f=e(97133),l=e(52967),n=e(53285),r=e(98427),o=e(69960),g=e(47750),y=e(85893),D,P=function(T){return T};function E(O){var T=(0,h.observer)(function(S){var $=(0,r.ngQ)(),Z=$.designable,K=$.insertAdjacent,z=(0,n.P5)()||{},w=z.isInSubTable,A=S.insert,M=S.useInsert,b=S.wrap,R=b===void 0?P:b,L=S.insertPosition,N=L===void 0?"beforeEnd":L,B=S.onSuccess,V=S.designable,U=S.popoverProps,I=S.children,F=S.popover,W=F===void 0?!0:F,X=S.style,J=S.componentProps,C=M?M():A,k=(0,a.useCallback)(function(re){return C?C(R(re,{isInSubTable:w})):K(N,R(re,{isInSubTable:w}),{onSuccess:B})},[C,R,K,N,B]),Y=(0,o._)(),H=Y.wrapSSR,te=Y.hashId,le=Y.componentCls,ne=(0,a.useState)(!1),ie=d()(ne,2),ee=ie[0],fe=ie[1],de=t.Z.useToken(),ue=de.token,Se=(0,l.e)([ee]),ae=(0,a.useMemo)(function(){return u()({options:S,style:X},J)},[J,S,X]),G=(0,a.useMemo)(function(){return(0,f.css)(D||(D=m()([`
          .ant-popover-inner {
            padding: `,`;
            .ant-menu-submenu-title {
              margin-block: 0;
            }
            .ant-popover-inner-content {
              padding: 0;
            }
          }
        `])),"".concat(ue.paddingXXS,"px 0"))},[ue.paddingXXS]);return!Z&&V!==!0?null:(0,y.jsx)(g.V4.Provider,{value:{visible:ee,setVisible:fe,insert:k,options:S},children:W===!1?a.createElement(O,ae):(0,y.jsx)(c.Z,u()(u()({placement:"bottomLeft"},U),{},{arrow:!1,overlayClassName:G,open:ee,onOpenChange:fe,content:H((0,y.jsx)("div",{className:"".concat(le," ").concat(te),style:{maxHeight:Se,overflowY:"auto"},children:(0,y.jsx)(i.ZP,{theme:{components:{Menu:{itemHeight:ue.marginXL,borderRadius:ue.borderRadiusSM,itemBorderRadius:ue.borderRadiusSM,subMenuItemBorderRadius:ue.borderRadiusSM}}},children:I})})),children:a.createElement(O,ae)}))})},{displayName:"WithInitializer(".concat(O.displayName||O.name,")")});return T}},91410:function(se,j,e){"use strict";e.d(j,{F:function(){return c}});var v=e(97857),m=e.n(v),x=e(12444),u=e.n(x),p=e(72004),d=e.n(p),h=e(9783),t=e.n(h),c=function(){function i(a){u()(this,i),t()(this,"options",void 0),t()(this,"name",void 0),this.options=Object.assign({items:[]},a),this.name=a.name}return d()(i,[{key:"items",get:function(){return this.options.items}},{key:"add",value:function(f,l){var n=f.split("."),r=m()(m()({},l),{},{name:n[n.length-1]});if(n.length===1){var o=this.items.findIndex(function(E){return E.name===f});o===-1?this.items.push(r):this.items[o]=r;return}var g=n.slice(0,-1).join("."),y=this.get(g);if(y){y.children||(y.children=[]);var D=f.replace("".concat(y.name,"."),""),P=y.children.findIndex(function(E){return E.name===D});P===-1?y.children.push(r):y.children[P]=r}}},{key:"get",value:function(f){if(f){for(var l=f.split("."),n=this.items,r=function(){var D=l[g];if(n=n.find(function(P){return P.name===D}),!n||g===l.length-1)return{v:n};if(n.children)n=n.children;else return{v:void 0}},o,g=0;g<l.length;g++)if(o=r(),o)return o.v}}},{key:"remove",value:function(f){var l=f.split(".");if(l.length===1){var n=this.items.findIndex(function(y){return y.name===l[0]});n!==-1&&this.items.splice(n,1);return}var r=this.get(l.slice(0,-1).join("."));if(r&&r.children){var o=l[l.length-1],g=r.children.findIndex(function(y){return y.name===o});g!==-1&&r.children.splice(g,1)}}}]),i}()},78807:function(se,j,e){"use strict";e.d(j,{kY:function(){return D},dk:function(){return r},GC:function(){return $}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(67294),d=e(81560),h=e(19632),t=e.n(h),c=e(98427),i=e(62662),a=e(70084),f=e(56318),l=e(85893),n={item:i.r2,itemGroup:i.bw,subMenu:i.m$,divider:i.Z5,remove:i.qx,select:i.Qf,cascader:i.ns,switch:i.hj,popup:i.D3,actionModal:i.Qh,modal:i.j0},r=function(K){var z=K.children,w=(0,i.DD)(),A=w.visible,M=(0,p.useRef)(!1),b=(0,f.W)();return(0,p.useEffect)(function(){A&&(M.current=!0)},[A]),!A&&!M.current||!z||z.length===0?null:(0,l.jsx)(l.Fragment,{children:z.sort(function(R,L){return(R.sort||0)-(L.sort||0)}).map(function(R){var L="".concat(b?b+"-":"").concat(R.name);return(0,l.jsx)(D,m()({},R),L)})})},o=function(){},g=function(){},y=function(){return!0},D=(0,p.memo)(function(Z){var K=Z,z=K.useVisible,w=z===void 0?y:z,A=K.useChildren,M=A===void 0?o:A,b=K.useComponentProps,R=b===void 0?g:b,L=K.type,N=K.Component,B=K.children,V=K.hideIfNoChildren,U=K.componentProps,I=M(),F=R(),W=(0,c.sRe)(),X=(0,p.useMemo)(function(){var Y=[].concat(t()(I||[]),t()(B||[]));return Y.length===0?void 0:Y},[I,B]),J=w(),C=(0,p.useMemo)(function(){return!N&&L&&n[L]?n[L]:N},[L,N]);if(!J||!L&&!N)return null;var k=W(C);return!k||V&&!X?null:(0,l.jsx)(a.A.Provider,{value:Z,children:(0,l.jsx)(k,m()(m()(m()({},U),F),{},{children:Array.isArray(X)&&X.length>0&&(0,l.jsx)(r,{children:X})}))})});D.displayName="SchemaSettingsChild";var P=e(6166),E=e(69054),O=p.memo(function(Z){var K=Z.name,z=(0,E.z)(),w=z.getAriaLabel,A=(0,p.useMemo)(function(){return{cursor:"pointer",fontSize:12}},[]);return(0,l.jsx)(P.Z,{role:"button",style:A,"aria-label":w("schema-settings",K)})});O.displayName="SchemaSettingsIcon";var T=e(94350),S=["items","Component","name","componentProps","style"],$=function(K){var z=K.items,w=K.Component,A=w===void 0?O:w,M=K.name,b=K.componentProps,R=K.style,L=u()(K,S),N=(0,c.ngQ)(),B=N.dn,V=(0,T.useField)(),U=(0,T.useFieldSchema)(),I=(0,p.useMemo)(function(){return m()({options:K,style:R},b)},[b,K,R]);return(0,l.jsx)(d.cM,m()(m()({title:p.createElement(A,I),dn:B,field:V,fieldSchema:U},L),{},{children:(0,l.jsx)(r,{children:z})}))}},70084:function(se,j,e){"use strict";e.d(j,{A:function(){return m},J:function(){return x}});var v=e(67294),m=(0,v.createContext)({});m.displayName="SchemaSettingItemContext";function x(){return(0,v.useContext)(m)}},95346:function(se,j,e){"use strict";e.d(j,{m:function(){return h}});var v=e(97857),m=e.n(v),x=e(67294),u=e(43173),p=e(78807),d=e(70173);function h(t,c){var i=(0,u.qD)(),a=(0,x.useMemo)(function(){return i.schemaSettingsManager.get(t)},[i.schemaSettingsManager,t]);return t?a?{exists:!0,render:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return x.createElement(p.GC,m()(m()(m()({},a.options),c),l))}}:((0,d.captureException)('[nocobase]: SchemaSettings "'.concat(t,'" not found')),{exists:!1,render:function(){return null}}):{exists:!1,render:function(){return null}}}},5537:function(se,j,e){"use strict";e.d(j,{A4:function(){return l.A},F5:function(){return v.F},kY:function(){return f.kY},dk:function(){return f.dk},XD:function(){return i},GC:function(){return f.GC},J$:function(){return l.J},mQ:function(){return a.m}});var v=e(91410),m=e(19632),x=e.n(m),u=e(12444),p=e.n(u),d=e(72004),h=e.n(d),t=e(9783),c=e.n(t),i=function(){function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;p()(this,n),c()(this,"schemaSettings",{}),c()(this,"actionList",{}),this._schemaSettings=r,this.app=o,this.app=o,this.add.apply(this,x()(r))}return h()(n,[{key:"add",value:function(){for(var o=this,g=arguments.length,y=new Array(g),D=0;D<g;D++)y[D]=arguments[D];y.forEach(function(P){o.schemaSettings[P.name]=P,Array.isArray(o.actionList[P.name])&&(o.actionList[P.name].forEach(function(E){P[E.type](E.itemName,E.data)}),o.actionList[P.name]=void 0)})}},{key:"addItem",value:function(o,g,y){var D=this.get(o);D?D.add(g,y):(this.actionList[o]||(this.actionList[o]=[]),this.actionList[o].push({type:"add",itemName:g,data:y}))}},{key:"get",value:function(o){return this.schemaSettings[o]}},{key:"getAll",value:function(){return this.schemaSettings}},{key:"has",value:function(o){return!!this.get(o)}},{key:"remove",value:function(o){delete this.schemaSettings[o]}},{key:"removeItem",value:function(o,g){var y=this.get(o);y?y.remove(g):(this.actionList[o]||(this.actionList[o]=[]),this.actionList[o].push({type:"remove",itemName:g}))}}]),n}(),a=e(95346),f=e(78807),l=e(70084)},1992:function(se,j,e){"use strict";e.d(j,{J1:function(){return d},Po:function(){return t},V$:function(){return h}});var v=e(13769),m=e.n(v),x=e(67294),u=e(85893),p=["children"],d=(0,x.createContext)({});d.displayName="SchemaToolbarContext";var h=function(i){var a=i.children,f=m()(i,p);return(0,u.jsx)(d.Provider,{value:f,children:a})};function t(){return(0,x.useContext)(d)}},65653:function(se,j,e){"use strict";e.d(j,{d:function(){return h}});var v=e(97857),m=e.n(v),x=e(67294),u=e(98427),p=e(50679),d=e(85893),h=function(c){var i=(0,u.ngQ)(),a=i.designable,f=(0,x.useMemo)(function(){if(c["x-toolbar"]||c["x-designer"])return c["x-toolbar"]||c["x-designer"];if(c["x-settings"])return p.M},[c]),l=(0,u.Cor)(f);return{render:function(r){return!a||!l?null:(0,d.jsx)(l,m()(m()({},c["x-toolbar-props"]),r))},exists:!!l}}},35097:function(se,j,e){"use strict";e.d(j,{J1:function(){return v.J1},Po:function(){return v.Po},V$:function(){return v.V$},du:function(){return m.d}});var v=e(1992),m=e(65653)},57780:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return getRequireJs}});var _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52677),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_0__);function getRequireJs(){var requirejs,require,define,req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!(typeof window!="undefined"&&typeof navigator!="undefined"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(se,j){return j||""}function isFunction(se){return ostring.call(se)==="[object Function]"}function isArray(se){return ostring.call(se)==="[object Array]"}function each(se,j){if(se){var e;for(e=0;e<se.length&&!(se[e]&&j(se[e],e,se));e+=1);}}function eachReverse(se,j){if(se){var e;for(e=se.length-1;e>-1&&!(se[e]&&j(se[e],e,se));e-=1);}}function hasProp(se,j){return hasOwn.call(se,j)}function getOwn(se,j){return hasProp(se,j)&&se[j]}function eachProp(se,j){var e;for(e in se)if(hasProp(se,e)&&j(se[e],e))break}function mixin(se,j,e,v){return j&&eachProp(j,function(m,x){(e||!hasProp(se,x))&&(v&&_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_0___default()(m)==="object"&&m&&!isArray(m)&&!isFunction(m)&&!(m instanceof RegExp)?(se[x]||(se[x]={}),mixin(se[x],m,e,v)):se[x]=m)}),se}function bind(se,j){return function(){return j.apply(se,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(se){throw se}function getGlobal(se){if(!se)return se;var j=__webpack_require__.g;return each(se.split("."),function(e){j=j[e]}),j}function makeError(se,j,e,v){var m=new Error(j+`
https://requirejs.org/docs/errors.html#`+se);return m.requireType=se,m.requireModules=v,e&&(m.originalError=e),m}if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=void 0);function newContext(se){var j,e,v,m,x,u={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},p={},d={},h={},t=[],c={},i={},a={},f=1,l=1;function n(M){var b,R;for(b=0;b<M.length;b++)if(R=M[b],R===".")M.splice(b,1),b-=1;else if(R===".."){if(b===0||b===1&&M[2]===".."||M[b-1]==="..")continue;b>0&&(M.splice(b-1,2),b-=2)}}function r(M,b,R){var L,N,B,V,U,I,F,W,X,J,C,k,Y=b&&b.split("/"),H=u.map,te=H&&H["*"];if(M&&(M=M.split("/"),F=M.length-1,u.nodeIdCompat&&jsSuffixRegExp.test(M[F])&&(M[F]=M[F].replace(jsSuffixRegExp,"")),M[0].charAt(0)==="."&&Y&&(k=Y.slice(0,Y.length-1),M=k.concat(M)),n(M),M=M.join("/")),R&&H&&(Y||te)){B=M.split("/");e:for(V=B.length;V>0;V-=1){if(I=B.slice(0,V).join("/"),Y){for(U=Y.length;U>0;U-=1)if(N=getOwn(H,Y.slice(0,U).join("/")),N&&(N=getOwn(N,I),N)){W=N,X=V;break e}}!J&&te&&getOwn(te,I)&&(J=getOwn(te,I),C=V)}!W&&J&&(W=J,X=C),W&&(B.splice(0,X,W),M=B.join("/"))}return L=getOwn(u.pkgs,M),L||M}function o(M){isBrowser&&each(scripts(),function(b){if(b.getAttribute("data-requiremodule")===M&&b.getAttribute("data-requirecontext")===v.contextName)return b.parentNode.removeChild(b),!0})}function g(M){var b=getOwn(u.paths,M);if(b&&isArray(b)&&b.length>1)return b.shift(),v.require.undef(M),v.makeRequire(null,{skipMap:!0})([M]),!0}function y(M){var b,R=M?M.indexOf("!"):-1;return R>-1&&(b=M.substring(0,R),M=M.substring(R+1,M.length)),[b,M]}function D(M,b,R,L){var N,B,V,U,I=null,F=b?b.name:null,W=M,X=!0,J="";return M||(X=!1,M="_@r"+(f+=1)),U=y(M),I=U[0],M=U[1],I&&(I=r(I,F,L),B=getOwn(c,I)),M&&(I?R?J=M:B&&B.normalize?J=B.normalize(M,function(C){return r(C,F,L)}):J=M.indexOf("!")===-1?r(M,F,L):M:(J=r(M,F,L),U=y(J),I=U[0],J=U[1],R=!0,N=v.nameToUrl(J))),V=I&&!B&&!R?"_unnormalized"+(l+=1):"",{prefix:I,name:J,parentMap:b,unnormalized:!!V,url:N,originalName:W,isDefine:X,id:(I?I+"!"+J:J)+V}}function P(M){var b=M.id,R=getOwn(p,b);return R||(R=p[b]=new v.Module(M)),R}function E(M,b,R){var L=M.id,N=getOwn(p,L);hasProp(c,L)&&(!N||N.defineEmitComplete)?b==="defined"&&R(c[L]):(N=P(M),N.error&&b==="error"?R(N.error):N.on(b,R))}function O(M,b){var R=M.requireModules,L=!1;b?b(M):(each(R,function(N){var B=getOwn(p,N);B&&(B.error=M,B.events.error&&(L=!0,B.emit("error",M)))}),L||req.onError(M))}function T(){globalDefQueue.length&&(each(globalDefQueue,function(M){var b=M[0];typeof b=="string"&&(v.defQueueMap[b]=!0),t.push(M)}),globalDefQueue=[])}m={require:function(b){return b.require?b.require:b.require=v.makeRequire(b.map)},exports:function(b){if(b.usingExports=!0,b.map.isDefine)return b.exports?c[b.map.id]=b.exports:b.exports=c[b.map.id]={}},module:function(b){return b.module?b.module:b.module={id:b.map.id,uri:b.map.url,config:function(){return getOwn(u.config,b.map.id)||{}},exports:b.exports||(b.exports={})}}};function S(M){delete p[M],delete d[M]}function $(M,b,R){var L=M.map.id;M.error?M.emit("error",M.error):(b[L]=!0,each(M.depMaps,function(N,B){var V=N.id,U=getOwn(p,V);U&&!M.depMatched[B]&&!R[V]&&(getOwn(b,V)?(M.defineDep(B,c[V]),M.check()):$(U,b,R))}),R[L]=!0)}function Z(){var M,b,R=u.waitSeconds*1e3,L=R&&v.startTime+R<new Date().getTime(),N=[],B=[],V=!1,U=!0;if(!j){if(j=!0,eachProp(d,function(I){var F=I.map,W=F.id;if(I.enabled&&(F.isDefine||B.push(I),!I.error)){if(!I.inited&&L)g(W)?(b=!0,V=!0):(N.push(W),o(W));else if(!I.inited&&I.fetched&&F.isDefine&&(V=!0,!F.prefix))return U=!1}}),L&&N.length)return M=makeError("timeout","Load timeout for modules: "+N,null,N),M.contextName=v.contextName,O(M);U&&each(B,function(I){$(I,{},{})}),(!L||b)&&V&&(isBrowser||isWebWorker)&&!x&&(x=setTimeout(function(){x=0,Z()},50)),j=!1}}e=function(b){this.events=getOwn(h,b.id)||{},this.map=b,this.shim=getOwn(u.shim,b.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},e.prototype={init:function(b,R,L,N){N=N||{},!this.inited&&(this.factory=R,L?this.on("error",L):this.events.error&&(L=bind(this,function(B){this.emit("error",B)})),this.depMaps=b&&b.slice(0),this.errback=L,this.inited=!0,this.ignore=N.ignore,N.enabled||this.enabled?this.enable():this.check())},defineDep:function(b,R){this.depMatched[b]||(this.depMatched[b]=!0,this.depCount-=1,this.depExports[b]=R)},fetch:function(){if(!this.fetched){this.fetched=!0,v.startTime=new Date().getTime();var b=this.map;if(this.shim)v.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return b.prefix?this.callPlugin():this.load()}));else return b.prefix?this.callPlugin():this.load()}},load:function(){var b=this.map.url;i[b]||(i[b]=!0,v.load(this.map.id,b))},check:function(){if(!(!this.enabled||this.enabling)){var b,R,L=this.map.id,N=this.depExports,B=this.exports,V=this.factory;if(!this.inited)hasProp(v.defQueueMap,L)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(V)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{B=v.execCb(L,V,N,B)}catch(I){b=I}else B=v.execCb(L,V,N,B);if(this.map.isDefine&&B===void 0&&(R=this.module,R?B=R.exports:this.usingExports&&(B=this.exports)),b)return b.requireMap=this.map,b.requireModules=this.map.isDefine?[this.map.id]:null,b.requireType=this.map.isDefine?"define":"require",O(this.error=b)}else B=V;if(this.exports=B,this.map.isDefine&&!this.ignore&&(c[L]=B,req.onResourceLoad)){var U=[];each(this.depMaps,function(I){U.push(I.normalizedMap||I)}),req.onResourceLoad(v,this.map,U)}S(L),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var b=this.map,R=b.id,L=D(b.prefix);this.depMaps.push(L),E(L,"defined",bind(this,function(N){var B,V,U,I=getOwn(a,this.map.id),F=this.map.name,W=this.map.parentMap?this.map.parentMap.name:null,X=v.makeRequire(b.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){N.normalize&&(F=N.normalize(F,function(J){return r(J,W,!0)})||""),V=D(b.prefix+"!"+F,this.map.parentMap,!0),E(V,"defined",bind(this,function(J){this.map.normalizedMap=V,this.init([],function(){return J},null,{enabled:!0,ignore:!0})})),U=getOwn(p,V.id),U&&(this.depMaps.push(V),this.events.error&&U.on("error",bind(this,function(J){this.emit("error",J)})),U.enable());return}if(I){this.map.url=v.nameToUrl(I),this.load();return}B=bind(this,function(J){this.init([],function(){return J},null,{enabled:!0})}),B.error=bind(this,function(J){this.inited=!0,this.error=J,J.requireModules=[R],eachProp(p,function(C){C.map.id.indexOf(R+"_unnormalized")===0&&S(C.map.id)}),O(J)}),B.fromText=bind(this,function(J,C){var k=b.name,Y=D(k),H=useInteractive;C&&(J=C),H&&(useInteractive=!1),P(Y),hasProp(u.config,R)&&(u.config[k]=u.config[R]);try{req.exec(J)}catch(te){return O(makeError("fromtexteval","fromText eval for "+R+" failed: "+te,te,[R]))}H&&(useInteractive=!0),this.depMaps.push(Y),v.completeLoad(k),X([k],B)}),N.load(b.name,X,B,u)})),v.enable(L,this),this.pluginMaps[L.id]=L},enable:function(){d[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(b,R){var L,N,B;if(typeof b=="string"){if(b=D(b,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[R]=b,B=getOwn(m,b.id),B){this.depExports[R]=B(this);return}this.depCount+=1,E(b,"defined",bind(this,function(V){this.undefed||(this.defineDep(R,V),this.check())})),this.errback?E(b,"error",bind(this,this.errback)):this.events.error&&E(b,"error",bind(this,function(V){this.emit("error",V)}))}L=b.id,N=p[L],!hasProp(m,L)&&N&&!N.enabled&&v.enable(b,this)})),eachProp(this.pluginMaps,bind(this,function(b){var R=getOwn(p,b.id);R&&!R.enabled&&v.enable(b,this)})),this.enabling=!1,this.check()},on:function(b,R){var L=this.events[b];L||(L=this.events[b]=[]),L.push(R)},emit:function(b,R){each(this.events[b],function(L){L(R)}),b==="error"&&delete this.events[b]}};function K(M){hasProp(c,M[0])||P(D(M[0],null,!0)).init(M[1],M[2])}function z(M,b,R,L){M.detachEvent&&!isOpera?L&&M.detachEvent(L,b):M.removeEventListener(R,b,!1)}function w(M){var b=M.currentTarget||M.srcElement;return z(b,v.onScriptLoad,"load","onreadystatechange"),z(b,v.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function A(){var M;for(T();t.length;){if(M=t.shift(),M[0]===null)return O(makeError("mismatch","Mismatched anonymous define() module: "+M[M.length-1]));K(M)}v.defQueueMap={}}return v={config:u,contextName:se,registry:p,defined:c,urlFetched:i,defQueue:t,defQueueMap:{},Module:e,makeModuleMap:D,nextTick:req.nextTick,onError:O,configure:function(b){if(b.baseUrl&&b.baseUrl.charAt(b.baseUrl.length-1)!=="/"&&(b.baseUrl+="/"),typeof b.urlArgs=="string"){var R=b.urlArgs;b.urlArgs=function(B,V){return(V.indexOf("?")===-1?"?":"&")+R}}var L=u.shim,N={paths:!0,bundles:!0,config:!0,map:!0};eachProp(b,function(B,V){N[V]?(u[V]||(u[V]={}),mixin(u[V],B,!0,!0)):u[V]=B}),b.bundles&&eachProp(b.bundles,function(B,V){each(B,function(U){U!==V&&(a[U]=V)})}),b.shim&&(eachProp(b.shim,function(B,V){isArray(B)&&(B={deps:B}),(B.exports||B.init)&&!B.exportsFn&&(B.exportsFn=v.makeShimExports(B)),L[V]=B}),u.shim=L),b.packages&&each(b.packages,function(B){var V,U;B=typeof B=="string"?{name:B}:B,U=B.name,V=B.location,V&&(u.paths[U]=B.location),u.pkgs[U]=B.name+"/"+(B.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(p,function(B,V){!B.inited&&!B.map.unnormalized&&(B.map=D(V,null,!0))}),(b.deps||b.callback)&&v.require(b.deps||[],b.callback)},makeShimExports:function(b){function R(){var L;return b.init&&(L=b.init.apply(__webpack_require__.g,arguments)),L||b.exports&&getGlobal(b.exports)}return R},makeRequire:function(b,R){R=R||{};function L(N,B,V){var U,I,F;return R.enableBuildCallback&&B&&isFunction(B)&&(B.__requireJsBuild=!0),typeof N=="string"?isFunction(B)?O(makeError("requireargs","Invalid require call"),V):b&&hasProp(m,N)?m[N](p[b.id]):req.get?req.get(v,N,b,L):(I=D(N,b,!1,!0),U=I.id,hasProp(c,U)?c[U]:O(makeError("notloaded",'Module name "'+U+'" has not been loaded yet for context: '+se+(b?"":". Use require([])")))):(A(),v.nextTick(function(){A(),F=P(D(null,b)),F.skipMap=R.skipMap,F.init(N,B,V,{enabled:!0}),Z()}),L)}return mixin(L,{isBrowser,toUrl:function(B){var V,U=B.lastIndexOf("."),I=B.split("/")[0],F=I==="."||I==="..";return U!==-1&&(!F||U>1)&&(V=B.substring(U,B.length),B=B.substring(0,U)),v.nameToUrl(r(B,b&&b.id,!0),V,!0)},defined:function(B){return hasProp(c,D(B,b,!1,!0).id)},specified:function(B){return B=D(B,b,!1,!0).id,hasProp(c,B)||hasProp(p,B)}}),b||(L.undef=function(N){T();var B=D(N,b,!0),V=getOwn(p,N);V.undefed=!0,o(N),delete c[N],delete i[B.url],delete h[N],eachReverse(t,function(U,I){U[0]===N&&t.splice(I,1)}),delete v.defQueueMap[N],V&&(V.events.defined&&(h[N]=V.events),S(N))}),L},enable:function(b){var R=getOwn(p,b.id);R&&P(b).enable()},completeLoad:function(b){var R,L,N,B=getOwn(u.shim,b)||{},V=B.exports;for(T();t.length;){if(L=t.shift(),L[0]===null){if(L[0]=b,R)break;R=!0}else L[0]===b&&(R=!0);K(L)}if(v.defQueueMap={},N=getOwn(p,b),!R&&!hasProp(c,b)&&N&&!N.inited){if(u.enforceDefine&&(!V||!getGlobal(V)))return g(b)?void 0:O(makeError("nodefine","No define call for "+b,null,[b]));K([b,B.deps||[],B.exportsFn])}Z()},nameToUrl:function(b,R,L){var N,B,V,U,I,F,W,X=getOwn(u.pkgs,b);if(X&&(b=X),W=getOwn(a,b),W)return v.nameToUrl(W,R,L);if(req.jsExtRegExp.test(b))I=b+(R||"");else{for(N=u.paths,B=b.split("/"),V=B.length;V>0;V-=1)if(U=B.slice(0,V).join("/"),F=getOwn(N,U),F){isArray(F)&&(F=F[0]),B.splice(0,V,F);break}I=B.join("/"),I+=R||(/^data\:|^blob\:|\?/.test(I)||L?"":".js"),I=(I.charAt(0)==="/"||I.match(/^[\w\+\.\-]+:/)?"":u.baseUrl)+I}return u.urlArgs&&!/^blob\:/.test(I)?I+u.urlArgs(b,I):I},load:function(b,R){req.load(v,b,R)},execCb:function(b,R,L,N){return R.apply(N,L)},onScriptLoad:function(b){if(b.type==="load"||readyRegExp.test((b.currentTarget||b.srcElement).readyState)){interactiveScript=null;var R=w(b);v.completeLoad(R.id)}},onScriptError:function(b){var R=w(b);if(!g(R.id)){var L=[];return eachProp(p,function(N,B){B.indexOf("_@r")!==0&&each(N.depMaps,function(V){if(V.id===R.id)return L.push(B),!0})}),O(makeError("scripterror",'Script error for "'+R.id+(L.length?'", needed by: '+L.join(", "):'"'),b,[R.id]))}}},v.require=v.makeRequire(),v}req=requirejs=function(j,e,v,m){var x,u,p=defContextName;return!isArray(j)&&typeof j!="string"&&(u=j,isArray(e)?(j=e,e=v,v=m):j=[]),u&&u.context&&(p=u.context),x=getOwn(contexts,p),x||(x=contexts[p]=req.s.newContext(p)),u&&x.configure(u),x.require(j,e,v)},req.config=function(se){return req(se)},req.nextTick=typeof setTimeout!="undefined"?function(se){setTimeout(se,4)}:function(se){se()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts,newContext},req({}),each(["toUrl","undef","defined","specified"],function(se){req[se]=function(){var j=contexts[defContextName];return j.require[se].apply(j,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(se,j,e){var v=se.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return v.type=se.scriptType||"text/javascript",v.charset="utf-8",v.async=!0,v},req.load=function(se,j,e){var v=se&&se.config||{},m;if(isBrowser)return m=req.createNode(v,j,e),m.setAttribute("data-requirecontext",se.contextName),m.setAttribute("data-requiremodule",j),m.attachEvent&&!(m.attachEvent.toString&&m.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,m.attachEvent("onreadystatechange",se.onScriptLoad)):(m.addEventListener("load",se.onScriptLoad,!1),m.addEventListener("error",se.onScriptError,!1)),m.src=e,v.onNodeCreated&&v.onNodeCreated(m,v,j,e),currentlyAddingScript=m,baseElement?head.insertBefore(m,baseElement):head.appendChild(m),currentlyAddingScript=null,m;if(isWebWorker)try{setTimeout(function(){},0),importScripts(e),se.completeLoad(j)}catch(x){se.onError(makeError("importscripts","importScripts failed for "+j+" at "+e,x,[j]))}};function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"||eachReverse(scripts(),function(se){if(se.readyState==="interactive")return interactiveScript=se}),interactiveScript}return isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(se){if(head||(head=se.parentNode),dataMain=se.getAttribute("data-main"),dataMain)return mainScript=dataMain,!cfg.baseUrl&&mainScript.indexOf("!")===-1&&(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(j,e,v){var m,x;typeof j!="string"&&(v=e,e=j,j=null),isArray(e)||(v=e,e=null),!e&&isFunction(v)&&(e=[],v.length&&(v.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(u,p){e.push(p)}),e=(v.length===1?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(m=currentlyAddingScript||getInteractiveScript(),m&&(j||(j=m.getAttribute("data-requiremodule")),x=contexts[m.getAttribute("data-requirecontext")])),x?(x.defQueue.push([j,e,v]),x.defQueueMap[j]=!0):globalDefQueue.push([j,e,v])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg),{requirejs,require,define}}},26124:function(se,j,e){"use strict";e.d(j,{pW:function(){return i},tO:function(){return c},w3:function(){return a}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(67294),d=e(72029),h=e(85893),t=["value","request","children"],c=(0,p.createContext)(null);c.displayName="AsyncDataContext";var i=function(l){var n=l.value,r=l.request,o=l.children,g=u()(l,t),y=(0,d.QT)(r,m()({},g));return n?(0,h.jsx)(c.Provider,{value:n,children:o}):(0,h.jsx)(c.Provider,{value:y,children:o})},a=function(){return(0,p.useContext)(c)}},23782:function(se,j,e){"use strict";e.d(j,{WJ:function(){return w},Qj:function(){return B},ZJ:function(){return I},br:function(){return A},M0:function(){return R},wH:function(){return z},bH:function(){return b},hD:function(){return k},gY:function(){return N},DD:function(){return F},VG:function(){return V},BU:function(){return L},lT:function(){return M},C:function(){return W},MM:function(){return C},m:function(){return J},e0:function(){return X}});var v=e(13769),m=e.n(v),x=e(97857),u=e.n(x),p=e(5574),d=e.n(p),h=e(94350),t=e(71230),c=e(15746),i=e(9996),a=e.n(i),f=e(41106),l=e.n(f),n=e(67294),r=e(79655),o=e(70173),g=e(21143),y=e(75667),D=e(6145),P=e(67205),E=e(94658),O=e(19530),T=function(){var H=(0,g.useDataBlockProps)()||{},te=H.sourceId,le=H.association,ne=(0,O.U)(le),ie=(0,E.M)({association:le});return te||(ie==null?void 0:ie[ne])},S=e(36586),$=e(19958),Z=e(85893),K=["title","to"],z=(0,n.createContext)(null);z.displayName="BlockResourceContext";var w=(0,n.createContext)(null);w.displayName="BlockAssociationContext";var A=(0,n.createContext)({});A.displayName="BlockRequestContext_deprecated";var M=function(){var H=(0,g.useDataBlockResource)();return(0,n.useContext)(z)||H},b=function(H){var te=H.collection;return te?(0,Z.jsx)(D.CollectionProvider_deprecated,{collection:te,children:(0,Z.jsx)(y.Hh,{children:H.children})}):H.children},R=function(H){var te,le=(0,h.useField)(),ne=(0,g.useDataBlockResource)(),ie=(0,n.useState)({}),ee=d()(ie,2),fe=ee[0],de=ee[1],ue=(0,g.useDataBlockRequest)(),Se=(0,g.useCollectionRecord)(),ae=(0,g.useCollectionParentRecord)(),G=ue==null||(te=ue.data)===null||te===void 0||(te=te.meta)===null||te===void 0?void 0:te.allowedActions;(0,n.useEffect)(function(){G&&de(function(oe){return a()(oe,G!=null?G:{})})},[G]);var re=L();return(0,Z.jsx)(A.Provider,{value:{allowedActions:fe,block:H.block,props:H,field:le,service:ue,resource:ne,__parent:re,updateAssociationValues:(H==null?void 0:H.updateAssociationValues)||[]},children:(0,Z.jsx)(S.HV,{isNew:Se==null?void 0:Se.isNew,record:Se==null?void 0:Se.data,parent:ae==null?void 0:ae.data,children:H.children})})},L=function(){return(0,n.useContext)(A)},N=function(H){var te,le=(0,h.useFieldSchema)(),ne=(0,g.useDesignable)(),ie=ne.findComponent,ee=(0,h.useField)(),fe=ie((te=ee.component)===null||te===void 0?void 0:te[0])||n.Fragment,de=le.reduceProperties(function(ue,Se){return Se["x-component"]==="AssociationFilter"?Se:ue},null);return de?(0,Z.jsx)(fe,u()(u()({},ee.componentProps),{},{children:(0,Z.jsxs)(t.Z,{style:{height:"100%"},gutter:16,wrap:!1,children:[(0,Z.jsx)(c.Z,{style:u()({width:200,flex:"0 0 auto"},H.associationFilterStyle||{}),children:(0,Z.jsx)(h.RecursionField,{schema:le,onlyRenderProperties:!0,filterProperties:function(Se){return Se["x-component"]==="AssociationFilter"}})}),(0,Z.jsx)(c.Z,{style:{flex:"1 1 auto",minWidth:0},children:(0,Z.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,Z.jsx)(h.RecursionField,{schema:le,onlyRenderProperties:!0,filterProperties:function(Se){return Se["x-component"]!=="AssociationFilter"}})})})]})})):H.children},B=(0,n.createContext)(null);B.displayName="BlockContext";var V=function(){return(0,n.useContext)(B)},U=function(H){var te=(0,h.useFieldSchema)();return te["x-use-decorator-props"]?H.parentRecord:(0,E.M)(H)},I=function(H){var te=H.name,le=H.dataSource,ne=H.useParams,ie=H.parentRecord,ee=U(H),fe=ne==null?void 0:ne(),de=(0,$.useAssociationNames)(le),ue=de.getAssociationAppends,Se=ue(),ae=Se.appends,G=Se.updateAssociationValues,re=(0,n.useMemo)(function(){var xe;return(xe=H.params)!==null&&xe!==void 0&&xe.appends?u()(u()({},H.params),fe):u()(u()({},H.params),{},{appends:ae},fe)},[ae,fe,H.params]),oe=(0,h.useFieldSchema)(),ce=(0,n.useMemo)(function(){var xe,ge=oe.mapProperties(function(Ae){return(Ae==null?void 0:Ae["x-component"])==="ActionBar"?Ae.mapProperties(function(Be){return(Be==null?void 0:Be["x-settings"])==="actionSettings:filterGroup"?Be:null}).filter(function(Be){return Be})[0]:null}).filter(function(Ae){return Ae})[0],he=ge&&((xe=(0,o.findSchema)(ge,function(Ae){var Be;return(Ae==null?void 0:Ae["x-component"])==="Radio.Button"&&(Ae==null||(Be=Ae["x-component-props"])===null||Be===void 0?void 0:Be.selected)}))===null||xe===void 0||(xe=xe["x-component-props"])===null||xe===void 0?void 0:xe.filter),Pe=(0,g.mergeFilter)([he||{},(re==null?void 0:re.filter)||{}]);return u()(u()({},re),{},{filter:Pe})},[re,JSON.stringify(oe.toJSON())]),be=(0,n.useMemo)(function(){return{name:te}},[te]);return(0,Z.jsx)(B.Provider,{value:be,children:(0,Z.jsx)(g.DataBlockProvider,u()(u()({},H),{},{params:ce,parentRecord:ie||ee,children:(0,Z.jsx)(R,u()(u()({},H),{},{updateAssociationValues:G,params:re,children:(0,Z.jsx)(P.vY,u()(u()({},H),{},{params:re,children:H.children}))}))}))})},F=function(){var H=(0,g.useDataBlockProps)()||{},te=H.association;return(0,n.useContext)(w)||te},W=function(){var H=L(),te=H.resource,le=H.__parent,ne=(0,S.pW)(),ie=(0,g.useCollectionRecordData)(),ee=(0,D.useCollection_deprecated)(),fe=(0,D.useCollectionManager_deprecated)(),de=fe.getCollectionField,ue=F(),Se=(0,n.useContext)(g.WithoutTableFieldResource);if(!Se&&(te instanceof g.TableFieldResource||(le==null?void 0:le.block)==="TableField"))return ne;if(ue){var ae=de(ue);return ie==null?void 0:ie[ae.targetKey||"id"]}return ie==null?void 0:ie[ee.filterTargetKey||"id"]},X=function(){var H=(0,g.useRecord)(),te=(0,D.useCollectionManager_deprecated)(),le=te.getCollectionField,ne=F();if(ne){var ie=le(ne);return H==null?void 0:H[ie.sourceKey||"id"]}},J=function(){return T()},C=function(){var H,te,le=W(),ne=(0,g.useRecord)(),ie=(0,D.useCollection_deprecated)(),ee=ie.fields,fe=(0,h.useFieldSchema)(),de=(0,D.useCollectionManager_deprecated)(),ue=de.getCollectionJoinField,Se=ue((fe==null||(H=fe["x-decorator-props"])===null||H===void 0?void 0:H.resource)||(fe==null||(te=fe["x-decorator-props"])===null||te===void 0?void 0:te.association)),ae=ee.filter(function(oe){return["boolean","date","integer","radio","sort","string","time","uid","uuid"].includes(oe.type)}).map(function(oe){return oe.name}),G=Object.keys(ne).filter(function(oe){return ae.includes(oe)}).reduce(function(oe,ce){return oe[ce]=ne[ce],oe},{}),re={filterByTk:le};return ne.__collection&&Se&&!["oho","m2o","obo"].includes(Se.interface)&&(re.targetCollection=ne.__collection),!le&&Object.keys(G).length>0&&(re.filter=G),re},k=function(H){var te=(0,h.useField)(),le=(0,g.useRecord)(),ne=H.title,ie=H.to,ee=m()(H,K),fe=l()(ie||"");return(0,Z.jsx)(r.Link,u()(u()({},ee),{},{to:fe({record:le||{}}),children:te.title}))}},29250:function(se,j,e){"use strict";e.d(j,{H:function(){return h},Q:function(){return t}});var v=e(97857),m=e.n(v),x=e(67294),u=e(85893),p=function(){},d=(0,x.createContext)(null),h=function(i){var a=(0,x.useRef)(i.defaultOperators||{}),f=(0,x.useCallback)(function(o,g){a.current[o]=g},[]),l=(0,x.useCallback)(function(){return m()({},a.current)},[]),n=(0,x.useCallback)(function(o){return a.current[o]},[]),r=(0,x.useCallback)(function(o){delete a.current[o]},[]);return(0,u.jsx)(d.Provider,{value:{collectOperator:f,getOperators:l,getOperator:n,removeOperator:r},children:i.children})},t=function(){var i=x.useContext(d)||{},a=i.getOperator,f=a===void 0?p:a,l=i.getOperators,n=l===void 0?p:l,r=i.collectOperator,o=r===void 0?p:r,g=i.removeOperator,y=g===void 0?p:g;return{getOperator:f,getOperators:n,collectOperator:o,removeOperator:y}}},35964:function(se,j,e){"use strict";e.d(j,{BX:function(){return T},LR:function(){return y},nT:function(){return O},nw:function(){return E}});var v=e(97857),m=e.n(v),x=e(86201),u=e(94350),p=e(57953),d=e(67294),h=e(90635),t=e(6145),c=e(72594),i=e(49834),a=e(86693),f=e(36586),l=e(98427),n=e(23782),r=e(31019),o=e(70173),g=e(85893),y=(0,d.createContext)({});y.displayName="DetailsBlockContext";var D=function($){var Z,K,z=$.action,w=$.readPretty,A=(0,u.useField)(),M=(0,d.useMemo)(function(){return(0,x.createForm)({readPretty:w})},[w]),b=(0,n.BU)(),R=b.resource,L=b.service,N=(0,i.RA)(),B=(z==="list"?L==null||(Z=L.data)===null||Z===void 0||(Z=Z.data)===null||Z===void 0?void 0:Z[0]:L==null||(K=L.data)===null||K===void 0?void 0:K.data)||{},V=(0,d.useRef)(),U=(0,d.useMemo)(function(){return{action:z,form:M,field:A,service:L,resource:R,formBlockRef:V}},[z,A,M,R,L]);return L.loading&&!A.loaded?(0,g.jsx)(p.Z,{}):(A.loaded=!0,(0,g.jsx)(y.Provider,{value:U,children:(0,g.jsx)("div",{ref:V,children:(0,g.jsx)(f.HV,{isNew:!1,record:B,parent:N==null?void 0:N.data,children:$.children})})}))},P=function($){var Z=(0,u.useFieldSchema)(),K,z=!1;if(Z["x-use-decorator-props"])K=$==null?void 0:$.params,z=$==null?void 0:$.parseVariableLoading;else{var w=(0,a.l)($);K=w.params,z=w.parseVariableLoading}return{params:K,parseVariableLoading:z}},E=(0,h.t)(function(S){var $=P(S),Z=$.params,K=$.parseVariableLoading,z=(0,c.nE)(),w=S.association,A=S.dataSource,M=(0,t.useCollectionManager_deprecated)(A),b=M.getCollection,R=z||{},L=R.__collection,N=(0,l.ngQ)(),B=N.designable,V=S.collection||b(w,A).name,U=!0;return!B&&L&&(U=L===V),!U||K?null:(0,g.jsx)(r.T,{children:(0,g.jsx)(n.ZJ,m()(m()({name:"details"},S),{},{params:Z,children:(0,g.jsx)(D,m()({},S))}))})}),O=function(){return(0,d.useContext)(y)},T=function(){var $,Z=O();return(0,d.useEffect)(function(){if(!Z.service.loading){var K,z,w=Z.action==="list"?(K=Z.service)===null||K===void 0||(K=K.data)===null||K===void 0||(K=K.data)===null||K===void 0?void 0:K[0]:(z=Z.service)===null||z===void 0||(z=z.data)===null||z===void 0?void 0:z.data;Z.form.reset().then(function(){Z.form.setValues(w||{})}).catch(function(A){(0,o.captureException)(A)})}},[Z.action,Z.form,($=Z.service)===null||$===void 0||($=$.data)===null||$===void 0?void 0:$.data,Z.service.loading]),{form:Z.form}}},7340:function(se,j,e){"use strict";e.d(j,{$R:function(){return O},Fi:function(){return $},TC:function(){return y},WG:function(){return E},_$:function(){return S},bz:function(){return T},th:function(){return P}});var v=e(97857),m=e.n(v),x=e(86201),u=e(94350),p=e(57953),d=e(67294),h=e(90635),t=e(6145),c=e(72594),i=e(67354),a=e(36586),f=e(98427),l=e(23782),n=e(31019),r=e(44899),o=e(21143),g=e(85893),y=(0,d.createContext)({});y.displayName="FormBlockContext";var D=function(K){var z,w,A=(0,c.d9)(),M=T(),b=K.action,R=K.readPretty,L=K.params,N=K.collection,B=K.association,V=(0,u.useField)(),U=(0,d.useMemo)(function(){return(0,x.createForm)({readPretty:R})},[R]),I=(0,l.BU)(),F=I.resource,W=I.service,X=I.updateAssociationValues,J=(0,d.useRef)(),C=(0,c.oV)(),k=(0,d.useMemo)(function(){var Y;return m()(m()({},M),{},{params:L,action:b,form:U,type:b==="get"?"update":"create",field:V,service:W,resource:F,updateAssociationValues:X,formBlockRef:J,collectionName:N||((Y=A.getCollectionField(B))===null||Y===void 0?void 0:Y.target),formRecord:C})},[b,B,A,N,M,V,U,L,C,F,W,X]);return W.loading&&((z=Object.keys(U==null?void 0:U.initialValues))===null||z===void 0?void 0:z.length)===0&&b?(0,g.jsx)(p.Z,{}):(0,g.jsx)(y.Provider,{value:k,children:(0,g.jsx)(a.HV,{isNew:C==null?void 0:C.isNew,parent:C==null||(w=C.parentRecord)===null||w===void 0?void 0:w.data,record:C==null?void 0:C.data,children:(0,g.jsx)("div",{ref:J,children:K.children})})})},P=function(){var K=T()||{},z=(0,d.useMemo)(function(){return{type:K.type}},[K.type]);return z},E=function(){var K=T(),z=(0,f.XCj)(),w=z.fieldSchema;return K.type!=="create"&&(w==null?void 0:w["x-acl-action"])!=="create"&&(w==null?void 0:w["x-action"])!=="create"},O=(0,h.t)(function(Z){var K=(0,a.a)(),z=(0,c.Kv)(),w=Z.collection,A=Z.isCusomeizeCreate,M=Z.parentRecord,b=K.__collection,R=(0,t.useCollection_deprecated)(),L=(0,f.ngQ)(),N=L.designable,B=E(),V=!1,U=function(k){return k.reduceProperties(function(Y,H){if(H["x-component"]==="FormV2"){var te=H.reduceProperties(function(le,ne){return ne["x-component"]==="Grid"||ne["x-component"]==="BlockTemplate"?ne:le},null);if(te)return te}return Y},null)},I=(0,u.useFieldSchema)(),F=(0,u.useField)(),W=U(I)||I,X=W["x-set-power"]?{power:W["x-set-power"]}:{};(0,o.useControlShowBlock)(X,F),B&&(V=!0,!N&&b&&(V=b===w));var J=R.name===((w==null?void 0:w.name)||w)&&!B||!R.name||!w;return!V&&!J&&!A?null:(0,g.jsx)(n.T,{children:(0,g.jsx)(l.ZJ,m()(m()({name:Z.name||"form"},Z),{},{block:"form",parentRecord:M||z,children:(0,g.jsx)(r.T,{name:"form",children:(0,g.jsx)(D,m()({},Z))})}))})}),T=function(){return(0,d.useContext)(y)},S=function(){var K,z,w=T(),A=(0,i.t)(),M=(0,f.XCj)(),b=M.fieldSchema,R=b==null||(K=b["x-component-props"])===null||K===void 0?void 0:K.addChild;return(0,d.useEffect)(function(){if(R){var L;(L=w.form)===null||L===void 0||L.query("parent").take(function(N){N.disabled=!0,N.value=A})}}),(0,d.useEffect)(function(){var L;if(!(w!=null&&(L=w.service)!==null&&L!==void 0&&L.loading)){var N,B;(N=w.form)===null||N===void 0||N.setInitialValues((B=w.service)===null||B===void 0||(B=B.data)===null||B===void 0?void 0:B.data)}},[w==null||(z=w.service)===null||z===void 0?void 0:z.loading]),{form:w.form}},$=function(K){for(;K;){if(K["x-decorator"]==="FormBlockProvider")return K;K=K.parent}return null}},71176:function(se,j,e){"use strict";e.d(j,{$1:function(){return g},$Y:function(){return o},GK:function(){return D},e$:function(){return y},uW:function(){return n}});var v=e(97857),m=e.n(v),x=e(86201),u=e(94350),p=e(85667),d=e(70173),h=e(57953),t=e(67294),c=e(49834),i=e(36586),a=e(23782),f=e(7340),l=e(85893),n=(0,t.createContext)({});n.displayName="FormFieldContext";var r=function(E){var O,T,S=E.action,$=E.readPretty,Z=E.fieldName,K=(0,f.bz)(),z=(0,c.Kv)();if(!(K!=null&&(O=K.updateAssociationValues)!==null&&O!==void 0&&O.includes(Z))){var w;K==null||(w=K.updateAssociationValues)===null||w===void 0||w.push(Z)}var A=(0,u.useField)(),M=(0,t.useMemo)(function(){return(0,x.createForm)({effects:function(){(0,x.onFormValuesChange)(function(B){var V;K==null||(V=K.form)===null||V===void 0||V.setValuesIn(Z,B.values)})},readPretty:$})},[]);(0,t.useEffect)(function(){var N=(0,p.autorun)(function(){var B,V=(K==null||(B=K.form)===null||B===void 0?void 0:B.values[Z])||{};M.reset(),(0,d.forEach)(V,function(U,I){U&&(M.values[I]=U)})});return N},[]);var b=(0,a.BU)(),R=b.resource,L=b.service;return L.loading?(0,l.jsx)(h.Z,{}):(0,l.jsx)(i.HV,{record:L==null||(T=L.data)===null||T===void 0?void 0:T.data,parent:z,children:(0,l.jsx)(n.Provider,{value:{action:S,form:M,field:A,service:L,resource:R,fieldName:Z},children:E.children})})},o=(0,t.createContext)(null);o.displayName="WithoutFormFieldResource";var g=function(E){return(0,l.jsx)(o.Provider,{value:!1,children:(0,l.jsx)(a.ZJ,m()(m()({name:"form-field",block:"FormField"},E),{},{children:(0,l.jsx)(r,m()({},E))}))})},y=function(){return(0,t.useContext)(n)},D=function(){var E=y();return(0,t.useEffect)(function(){var O,T;E==null||(O=E.form)===null||O===void 0||O.setInitialValues((T=E.service)===null||T===void 0||(T=T.data)===null||T===void 0?void 0:T.data)},[]),{form:E.form}}},1892:function(se,j,e){"use strict";e.d(j,{Hz:function(){return O},Ns:function(){return T},Si:function(){return K},_0:function(){return Z}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(13769),d=e.n(p),h=e(19632),t=e.n(h),c=e(96695),i=e.n(c),a=e(86201),f=e(94350),l=e(67294),n=e(90635),r=e(6145),o=e(77681),g=e(98427),y=e(23782),D=e(21143),P=e(85893),E=["params","showIndex","dragSort","rowKey","childrenColumnName","fieldNames"],O=(0,l.createContext)({});O.displayName="TableBlockContext";function T(z){var w=[];if(z){var A=i()(z),M;try{for(A.s();!(M=A.n()).done;){var b=M.value;b!=null&&b.children&&b.children.length>0&&(w.push(b.id),w.push.apply(w,t()(T(b==null?void 0:b.children))))}}catch(R){A.e(R)}finally{A.f()}}return w}var S=function(w){var A=w.params,M=w.showIndex,b=w.dragSort,R=w.rowKey,L=w.childrenColumnName,N=w.fieldNames,B=d()(w,E),V=(0,f.useField)(),U=(0,y.BU)(),I=U.resource,F=U.service,W=(0,f.useFieldSchema)(),X=(0,l.useState)(!!N),J=u()(X,2),C=J[0],k=J[1],Y=(0,l.useMemo)(function(){var te,le=(W==null?void 0:W["x-decorator-props"])||{},ne=le.treeTable,ie=F==null||(te=F.data)===null||te===void 0?void 0:te.data;if(ne){var ee=T(ie);return ee}},[F==null?void 0:F.loading,W]),H=(0,l.useCallback)(function(te){k(te||!C)},[C]);return(0,P.jsx)(g.m__,{children:(0,P.jsx)(O.Provider,{value:m()(m()({},B),{},{field:V,service:F,resource:I,params:A,showIndex:M,dragSort:b,rowKey:R,expandFlag:C,childrenColumnName:L,allIncludesChildren:Y,setExpandFlag:H}),children:w.children})})},$=function(w){var A=(0,f.useFieldSchema)(),M,b=!1;if(A["x-use-decorator-props"])M=w.params,b=w.parseVariableLoading;else{var R=(0,o.lo)(w);M=R.params,b=R.parseVariableLoading}return{params:M,parseVariableLoading:b}},Z=(0,n.t)(function(z){var w=z.resource||z.association,A=(0,f.useFieldSchema)(),M=(0,f.useField)(),b=(0,r.useCollectionManager_deprecated)(z.dataSource),R=b.getCollection,L=b.getCollectionField,N=R(z.collection,z.dataSource),B=(A==null?void 0:A["x-decorator-props"])||{},V=B.treeTable,U=$(z),I=U.params,F=U.parseVariableLoading;(0,D.useControlShowBlock)(I,M);var W="children";if(V)if(w!=null&&w.includes(".")){var X=L(w);X!=null&&X.treeChildren&&(W=X.name),I.tree=!0}else{var J,C=N==null||(J=N.fields)===null||J===void 0?void 0:J.find(function(Y){return Y.treeChildren});C&&(W=C.name),I.tree=!0}var k=(0,l.useMemo)(function(){return(0,a.createForm)()},[V]);return F?null:(0,P.jsx)(g.G0E,{scope:{treeTable:V},children:(0,P.jsx)(f.FormContext.Provider,{value:k,children:(0,P.jsx)(y.ZJ,m()(m()({name:z.name||"table"},z),{},{params:I,runWhenParamsChanged:!0,children:(0,P.jsx)(S,m()(m()({},z),{},{childrenColumnName:W,params:I}))}))})})}),K=function(){return(0,l.useContext)(O)}},23523:function(se,j,e){"use strict";e.d(j,{CB:function(){return T},Q6:function(){return D},Qy:function(){return E},Wx:function(){return S},oA:function(){return $},s:function(){return O}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(12444),t=e.n(h),c=e(72004),i=e.n(c),a=e(9783),f=e.n(a),l=e(94350),n=e(67294),r=e(23782),o=e(7340),g=e(71176),y=e(85893),D=(0,n.createContext)({});D.displayName="TableFieldContext";var P=function(K){var z,w=K.params,A=w===void 0?{}:w,M=K.showIndex,b=K.dragSort,R=K.fieldName,L=(0,l.useField)(),N=(0,l.useFieldSchema)(),B=(0,r.BU)(),V=B.resource,U=B.service,I=(0,o.bz)(),F=(0,g.e$)(),W=F&&F.fieldName?"".concat(F.fieldName,".").concat(R):R;if(!(I!=null&&(z=I.updateAssociationValues)!==null&&z!==void 0&&z.includes(W))){var X;I==null||(X=I.updateAssociationValues)===null||X===void 0||X.push(W)}return(0,y.jsx)(D.Provider,{value:{field:L,fieldSchema:N,service:U,resource:V,params:A,showIndex:M,dragSort:b},children:K.children})},E=function(){function Z(K){t()(this,Z),f()(this,"field",void 0),f()(this,"api",void 0),f()(this,"sourceId",void 0),f()(this,"resource",void 0),this.field=K.field,this.api=K.api,this.sourceId=K.sourceId,this.resource=this.api.resource(K.resource,this.sourceId)}return i()(Z,[{key:"list",value:function(){var K=d()(u()().mark(function w(A){var M;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(this.field.data=this.field.data||{},!this.field.data.changed){R.next=4;break}return console.log("list.dataSource",this.field.data.dataSource),R.abrupt("return",{data:{data:this.field.data.dataSource}});case 4:if(this.sourceId){R.next=8;break}return console.log("list.sourceId",this.field.data.dataSource),this.field.data.dataSource=[],R.abrupt("return",{data:{data:[]}});case 8:return R.next=10,this.resource.list(A);case 10:return M=R.sent,console.log("list",M),this.field.data.dataSource=M.data.data,R.abrupt("return",{data:{data:M.data.data}});case 14:case"end":return R.stop()}},w,this)}));function z(w){return K.apply(this,arguments)}return z}()},{key:"get",value:function(){var K=d()(u()().mark(function w(A){var M;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log("get",A),M=A.filterByTk,R.abrupt("return",{data:{data:this.field.data.dataSource[M]}});case 3:case"end":return R.stop()}},w,this)}));function z(w){return K.apply(this,arguments)}return z}()},{key:"create",value:function(){var K=d()(u()().mark(function w(A){var M;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:console.log("create",A),M=A.values,this.field.data.dataSource.push(M),this.field.data.changed=!0;case 4:case"end":return R.stop()}},w,this)}));function z(w){return K.apply(this,arguments)}return z}()},{key:"update",value:function(){var K=d()(u()().mark(function w(A){var M,b;return u()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:console.log("update",A),M=A.filterByTk,b=A.values,this.field.data.dataSource[M]=b,this.field.data.changed=!0;case 4:case"end":return L.stop()}},w,this)}));function z(w){return K.apply(this,arguments)}return z}()},{key:"destroy",value:function(){var K=d()(u()().mark(function w(A){var M;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:console.log("destroy",A),M=A.filterByTk,Array.isArray(M)||(M=[M]),this.field.data.dataSource=this.field.data.dataSource.filter(function(L,N){return!M.includes(N)}),this.field.data.changed=!0;case 5:case"end":return R.stop()}},w,this)}));function z(w){return K.apply(this,arguments)}return z}()}]),Z}(),O=(0,n.createContext)(null);O.displayName="WithoutTableFieldResource";var T=function(K){return(0,y.jsx)(O.Provider,{value:!1,children:(0,y.jsx)(r.ZJ,m()(m()({name:"table-field",block:"TableField"},K),{},{children:(0,y.jsx)(P,m()({},K))}))})},S=function(){return(0,n.useContext)(D)},$=function(){var K,z,w,A,M,b=(0,l.useField)(),R=S();return(0,n.useEffect)(function(){var L;if(!(R!=null&&(L=R.service)!==null&&L!==void 0&&L.loading)){var N,B;b.value=R==null||(N=R.service)===null||N===void 0||(N=N.data)===null||N===void 0?void 0:N.data,b.data=b.data||{},b.data.selectedRowKeys=R==null||(B=R.field)===null||B===void 0||(B=B.data)===null||B===void 0?void 0:B.selectedRowKeys}},[R==null||(K=R.field)===null||K===void 0||(K=K.data)===null||K===void 0?void 0:K.selectedRowKeys,R==null||(z=R.service)===null||z===void 0||(z=z.data)===null||z===void 0?void 0:z.data,R==null||(w=R.service)===null||w===void 0?void 0:w.loading,b]),{size:"middle",loading:R==null||(A=R.service)===null||A===void 0?void 0:A.loading,showIndex:R.showIndex,dragSort:R.dragSort,pagination:!1,required:R==null||(M=R.fieldSchema)===null||M===void 0||(M=M.parent)===null||M===void 0?void 0:M.required,rowKey:function(N){var B,V;return(B=b.value)===null||B===void 0||(V=B.indexOf)===null||V===void 0?void 0:V.call(B,N)},onRowSelectionChange:function(N){var B;R.field.data=(R==null||(B=R.field)===null||B===void 0?void 0:B.data)||{},R.field.data.selectedRowKeys=N},onChange:function(N){var B=N.current,V=N.pageSize;R.service.run({page:B,pageSize:V})}}}},78899:function(se,j,e){"use strict";e.d(j,{CL:function(){return F},RP:function(){return W},Vs:function(){return L},Yu:function(){return M},br:function(){return V},rL:function(){return I}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(9783),d=e.n(p),h=e(96695),t=e.n(h),c=e(5574),i=e.n(c),a=e(97857),f=e.n(a),l=e(94350),n=e(96486),r=e.n(n),o=e(44908),g=e.n(o),y=e(67294),D=e(6145),P=e(49834),E=e(18386),O=e(87714),T=e(36586),S=e(98427),$=e(23782),Z=e(19958),K=e(74614),z=e(70173),w=e(85893),A=function(J){for(;J;){var C;if((C=J["x-acl-action"])!==null&&C!==void 0&&C.includes(":create"))return!0;J=J.parent}return!1},M=(0,y.createContext)({});M.displayName="TableSelectorContext";var b=(0,y.createContext)({});b.displayName="TableSelectorParamsContext";var R=function(){return(0,y.useContext)(b)},L=function(J){var C=J.params,k=J.children,Y=R();try{C.filter=(0,O.EO)([Y.filter,C.filter]),C=f()(f()({},Y),C)}catch(H){(0,z.captureException)(H)}return(0,w.jsx)(b.Provider,{value:C,children:k})},N=function(J){var C=J.params,k=J.rowKey,Y=J.extraFilter,H=J.expandFlag,te=H===void 0?!1:H,le=(0,l.useField)(),ne=(0,$.BU)(),ie=ne.resource,ee=ne.service,fe=(0,y.useState)(te),de=i()(fe,2),ue=de[0],Se=de[1],ae=(0,P.Kv)();return(0,w.jsx)(T.HV,{record:{},parent:ae,children:(0,w.jsx)(M.Provider,{value:{field:le,service:ee,resource:ie,params:C,extraFilter:Y,rowKey:k,expandFlag:ue,setExpandFlag:function(){Se(!ue)}},children:J.children})})},B=function(J){var C,k=useCollectionManager_deprecated(),Y=k.getCollectionFields,H=(C=Y(J))===null||C===void 0?void 0:C.filter(function(te){return te.target}).map(function(te){return te.name});return H},V=function X(J,C){return J["x-component"]===C?J:J.parent?X(J.parent,C):null},U=function(J){var C=(0,D.useCollectionManager_deprecated)(),k=C.getCollectionFields,Y=k(J),H=new Set,te=t()(Y),le;try{for(te.s();!(le=te.n()).done;){var ne=le.value;if(ne.target){H.add(ne.name);var ie=k(ne.target),ee=t()(ie),fe;try{for(ee.s();!(fe=ee.n()).done;){var de=fe.value;de.target&&H.add("".concat(ne.name,".").concat(de.name))}}catch(ae){ee.e(ae)}finally{ee.f()}}}}catch(ae){te.e(ae)}finally{te.f()}var ue=(0,l.useFieldSchema)(),Se=ue.reduceProperties(function(ae,G){return G["x-component"]==="TableV2.Selector"?G:ae},new l.Schema({}));return g()(Se.reduceProperties(function(ae,G){if(G["x-component"]==="TableV2.Column"){var re=G.reduceProperties(function(xe,ge){var he=ge.name.split("."),Pe=i()(he,1),Ae=Pe[0];return ge["x-collection-field"]&&H.has(Ae)?ge:xe},null);if(re){var oe=re.name.split("."),ce=i()(oe,1),be=ce[0];H.has(re.name)?ae.push(re.name):H.has(be)&&ae.push(be)}}return ae},[]))},I=(0,K.tl)(function(X){var J,C,k,Y=R(),H=(0,l.useFieldSchema)(),te=(0,D.useCollectionManager_deprecated)(),le=te.getCollectionJoinField,ne=te.getCollectionFields,ie=(0,T.a)(),ee=(0,D.useCollectionManager_deprecated)(),fe=ee.getCollection,de=(H==null?void 0:H["x-decorator-props"])||{},ue=de.treeTable,Se=V(H,"CollectionField"),ae=le(Se==null?void 0:Se["x-collection-field"]),G=fe(ae==null?void 0:ae.collectionName),re=G==null?void 0:G.getPrimaryKey(),oe=U(X.collection),ce=f()({},X.params);if(X.dragSort&&(ce.sort=["sort"]),(ae==null?void 0:ae.target)===(ae==null?void 0:ae.collectionName)&&G!==null&&G!==void 0&&G.tree&&ue&&(ce.tree=!0,Se.name==="parent")){var be;ce.filter=f()(f()({},(be=ce.filter)!==null&&be!==void 0?be:{}),{},{id:ie[re]&&{$ne:ie[re]}})}Object.keys(ce).includes("appends")||(ce.appends=oe);var xe;if(ae&&(["oho","o2m"].includes(ae.interface)&&!(0,E.Op)(H)&&!A(H)&&(ie!=null&&ie[ae.sourceKey]?xe={$or:[d()({},ae.foreignKey,{$is:null}),d()({},ae.foreignKey,{$eq:ie==null?void 0:ie[ae.sourceKey]})]}:xe=d()({},ae.foreignKey,{$is:null})),["obo"].includes(ae.interface)&&!(0,E.Op)(H)&&!A(H))){var ge=ne(ae.target),he=ge.find(function(Me){return Me.foreignKey&&Me.foreignKey===ae.foreignKey});he&&(ie!=null&&ie[ae.foreignKey]?xe={$or:[d()({},"".concat(he.name,".").concat(he.foreignKey),{$is:null}),d()({},"".concat(he.name,".").concat(he.foreignKey),{$eq:ie==null?void 0:ie[ae.foreignKey]})]}:xe=d()({},"".concat(he.name,".").concat(he.foreignKey),{$is:null}))}if(xe){var Pe;(Pe=ce)!==null&&Pe!==void 0&&Pe.filter?ce.filter={$and:[xe,ce.filter]}:ce.filter=xe}try{ce.filter=(0,O.EO)([Y.filter,ce.filter]),ce=f()(f()({},Y),ce)}catch(Me){(0,z.captureException)(Me)}var Ae=(0,Z.useParsedFilter)({filterOption:(J=ce)===null||J===void 0?void 0:J.filter}),Be=Ae.filter,Le=Ae.parseVariableLoading;return!r().isEmpty((C=ce)===null||C===void 0?void 0:C.filter)&&r().isEmpty(Be)||Le?null:((k=ce)!==null&&k!==void 0&&k.filter&&(ce.filter=Be),(0,w.jsx)(S.G0E,{scope:{treeTable:ue},children:(0,w.jsx)($.ZJ,f()(f()({name:"table-selector"},X),{},{params:ce,children:(0,w.jsx)(N,f()(f()({},X),{},{params:ce,extraFilter:xe}))}))}))}),F=function(){return(0,y.useContext)(M)},W=function(){var J,C,k,Y,H,te,le,ne,ie=(0,l.useField)(),ee=F(),fe=(0,l.useFieldSchema)(),de=(0,D.useCollectionManager_deprecated)(),ue=de.getCollectionJoinField,Se=V(fe,"CollectionField"),ae=ue(Se==null?void 0:Se["x-collection-field"]);return(0,y.useEffect)(function(){var G;if(!(ee!=null&&(G=ee.service)!==null&&G!==void 0&&G.loading)){var re,oe,ce,be,xe,ge,he=ee==null||(re=ee.service)===null||re===void 0||(re=re.data)===null||re===void 0?void 0:re.data.map(function(Pe){return r().omit(Pe,ae==null?void 0:ae.foreignKey)});ie.value=he,ie==null||(oe=ie.setInitialValue)===null||oe===void 0||oe.call(ie,he),ie.data=ie.data||{},ie.data.selectedRowKeys=ee==null||(ce=ee.field)===null||ce===void 0||(ce=ce.data)===null||ce===void 0?void 0:ce.selectedRowKeys,ie.componentProps.pagination=ie.componentProps.pagination||{},ie.componentProps.pagination.pageSize=ee==null||(be=ee.service)===null||be===void 0||(be=be.data)===null||be===void 0||(be=be.meta)===null||be===void 0?void 0:be.pageSize,ie.componentProps.pagination.total=ee==null||(xe=ee.service)===null||xe===void 0||(xe=xe.data)===null||xe===void 0||(xe=xe.meta)===null||xe===void 0?void 0:xe.count,ie.componentProps.pagination.current=ee==null||(ge=ee.service)===null||ge===void 0||(ge=ge.data)===null||ge===void 0||(ge=ge.meta)===null||ge===void 0?void 0:ge.page}},[ae==null?void 0:ae.foreignKey,ee==null||(J=ee.field)===null||J===void 0||(J=J.data)===null||J===void 0?void 0:J.selectedRowKeys,ee==null||(C=ee.service)===null||C===void 0||(C=C.data)===null||C===void 0?void 0:C.data,ee==null||(k=ee.service)===null||k===void 0||(k=k.data)===null||k===void 0||(k=k.meta)===null||k===void 0?void 0:k.count,ee==null||(Y=ee.service)===null||Y===void 0||(Y=Y.data)===null||Y===void 0||(Y=Y.meta)===null||Y===void 0?void 0:Y.page,ee==null||(H=ee.service)===null||H===void 0||(H=H.data)===null||H===void 0||(H=H.meta)===null||H===void 0?void 0:H.pageSize,ee==null||(te=ee.service)===null||te===void 0?void 0:te.loading,ie]),{loading:ee==null||(le=ee.service)===null||le===void 0?void 0:le.loading,showIndex:!1,dragSort:!1,rowKey:ee.rowKey||"id",pagination:(fe==null||(ne=fe["x-component-props"])===null||ne===void 0?void 0:ne.pagination)===!1?!1:ie.componentProps.pagination,onRowSelectionChange:function(re,oe){var ce;ee.field.data=(ee==null||(ce=ee.field)===null||ce===void 0?void 0:ce.data)||{},ee.field.data.selectedRowKeys=re},onRowDragEnd:function(re){return u()(m()().mark(function oe(){var ce,be;return m()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ce=re.from,be=re.to,ge.next=3,ee.resource.move({sourceId:ce[ee.rowKey||"id"],targetId:be[ee.rowKey||"id"]});case 3:ee.service.refresh();case 4:case"end":return ge.stop()}},oe)}))()},onChange:function(re){var oe,ce=re.current,be=re.pageSize;ee.service.run(f()(f()({},(oe=ee.service.params)===null||oe===void 0?void 0:oe[0]),{},{page:ce,pageSize:be}))}}}},31019:function(se,j,e){"use strict";e.d(j,{T:function(){return h},u:function(){return d}});var v=e(5574),m=e.n(v),x=e(67294),u=e(85893),p=(0,x.createContext)({});p.displayName="TemplateBlockContext";var d=function(){return(0,x.useContext)(p)},h=function(c){var i=(0,x.useState)(!1),a=m()(i,2),f=a[0],l=a[1];return(0,u.jsx)(p.Provider,{value:{templateFinished:f,onTemplateSuccess:function(){return l(!0)}},children:c.children})}},44606:function(se,j,e){"use strict";e.d(j,{Z:function(){return d}});var v=e(96695),m=e.n(v),x=e(67294),u=e(21143),p=e(70173),d=function(t,c){var i=(0,u.useAPIClient)(),a=function(){var l,n;if(!(t!=null&&t.power)&&!(t!=null&&(l=t.params)!==null&&l!==void 0&&l.power))return!0;var r=(0,p.parseParamPowerUtils)(t.power||t.params.power);if(!r.length)return!0;var o=["root"],g=m()(r),y;try{for(g.s();!(y=g.n()).done;){var D=y.value;if(D!=null&&D.roleGroup){var P=m()(D.roleGroup),E;try{for(P.s();!(E=P.n()).done;){var O,T=E.value;if(T===(i==null||(O=i.auth)===null||O===void 0?void 0:O.role))return!0}}catch(S){P.e(S)}finally{P.f()}}}}catch(S){g.e(S)}finally{g.f()}return!!o.includes(i==null||(n=i.auth)===null||n===void 0?void 0:n.role)};(0,x.useEffect)(function(){a()||(c.visible=!1)},[t,c])}},19958:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FormActiveFieldsProvider:function(){return _useFormActiveFields__WEBPACK_IMPORTED_MODULE_41__.T},appendQueryStringToUrl:function(){return appendQueryStringToUrl},baseModalConfig:function(){return baseModalConfig},completeURL:function(){return completeURL},findFilterTargets:function(){return findFilterTargets},getAssociationPath:function(){return getAssociationPath},getFormValues:function(){return getFormValues},getSkipValidatePathRegex:function(){return getSkipValidatePathRegex},mobileModalMessageCss:function(){return mobileModalMessageCss},navigateWithinSelf:function(){return navigateWithinSelf},parseVariablesAndChangeParamsToQueryString:function(){return parseVariablesAndChangeParamsToQueryString},reduceValueSize:function(){return reduceValueSize},refreshBlockByIds:function(){return refreshBlockByIds},replaceVariableValue:function(){return replaceVariableValue},updateFilterTargets:function(){return updateFilterTargets},useAssociationCreateActionProps:function(){return useAssociationCreateActionProps},useAssociationFilterBlockProps:function(){return useAssociationFilterBlockProps},useAssociationFilterProps:function(){return useAssociationFilterProps},useAssociationNames:function(){return useAssociationNames},useBulkDestroyActionProps:function(){return useBulkDestroyActionProps},useCollectValuesToSubmit:function(){return useCollectValuesToSubmit},useControlShowBlock:function(){return _controlBlockPowerRange__WEBPACK_IMPORTED_MODULE_43__.Z},useCreateActionProps:function(){return useCreateActionProps},useCustomizeBulkUpdateActionProps:function(){return useCustomizeBulkUpdateActionProps},useCustomizeRequestActionProps:function(){return useCustomizeRequestActionProps},useCustomizeUpdateActionProps:function(){return useCustomizeUpdateActionProps},useDataBlockParentRecord:function(){return _useDataBlockParentRecord__WEBPACK_IMPORTED_MODULE_40__.M},useDestroyActionProps:function(){return useDestroyActionProps},useDetailPrintActionProps:function(){return useDetailPrintActionProps},useDetailsPaginationProps:function(){return useDetailsPaginationProps},useDisassociateActionProps:function(){return useDisassociateActionProps},useFilterBlockActionProps:function(){return useFilterBlockActionProps},useFormActiveFields:function(){return _useFormActiveFields__WEBPACK_IMPORTED_MODULE_41__.z},useLinkActionProps:function(){return useLinkActionProps},useOptionalFieldList:function(){return useOptionalFieldList},useParseURLAndParams:function(){return useParseURLAndParams},useParsedFilter:function(){return _useParsedFilter__WEBPACK_IMPORTED_MODULE_42__.v},usePickActionProps:function(){return usePickActionProps},useRefreshActionProps:function(){return useRefreshActionProps},useRemoveActionProps:function(){return useRemoveActionProps},useResetBlockActionProps:function(){return useResetBlockActionProps},useUpdateActionProps:function(){return useUpdateActionProps}});var _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96695),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19632),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9783),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(97857),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15009),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(99289),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(52677),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_6__),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(68400),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__),lodash__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(96486),lodash__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(67294),antd__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(3321),react_i18next__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(26793),react_router_dom__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(89250),react_to_print__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(47116),react_to_print__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_to_print__WEBPACK_IMPORTED_MODULE_10__),_emotion_css__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(97133),_formily_reactive__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(85667),_formily_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(94350),lodash_get__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(27361),lodash_get__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_14__),lodash_omit__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(57557),lodash_omit__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_15__),lodash_findIndex__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(30998),lodash_findIndex__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_16__),_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(70173),___WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(21143),_api_client__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(72029),_collection_manager__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(6145),_filter_provider_FilterProvider__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(67205),_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(87714),_modules_blocks_data_blocks_table_TreeRecordProvider__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(67354),_record_provider__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(36586),_schema_component__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(98427),_schema_component_antd_association_field_util__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(37696),_user__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(8985),_variables__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(25813),_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(76690),_variables_utils_transformVariableValue__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(65565),_BlockProvider__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(23782),_DetailsBlockProvider__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(35964),_TableFieldProvider__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(23523),_schema_settings_LinkageRules_type__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(77723),_icons_network_error__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(73463),qs__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(80129),qs__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_35__),_nocobase_evaluators_client__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(27655),_schema_settings_LinkageRules_bindLinkageRulesToFiled__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(22229),_useGetActiveAttachmentFields__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(51899),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(85893),_useDataBlockParentRecord__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(94658),_useFormActiveFields__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(44899),_useParsedFilter__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(12929),_controlBlockPowerRange__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(44606),_templateObject,mobileModalMessageCss=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_11__.css)(_templateObject||(_templateObject=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7___default()([`
  .ant-modal-content {
    padding: 0;
    font-family: Inter;
  }

  .ant-modal-confirm-paragraph {
    width: 100%;
    max-width: 100%;
    padding: 30px 16px 22px 16px;

    box-shadow: 0px -0.5px 0px 0px #e5e6eb inset;

    .ant-modal-confirm-title {
      text-align: center;
      font-size: 15px;
      font-weight: 700;
      color: #1d2129;
    }

    .ant-modal-confirm-content {
      color: #4e5969;
      font-size: 14px;
      line-height: 22px;
    }
  }

  .ant-modal-confirm-btns {
    text-align: center;
    margin: 10px 0 14px 0;
  }
`]))),baseModalConfig={icon:null,width:"72%",centered:!0,okButtonProps:{type:"link",style:{padding:0,fontSize:18}}},usePickActionProps=function(){var j=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)();return{onClick:function(){console.log("usePickActionProps",j.values)}}};function renderTemplate(se,j){var e=/\{\{\s*((\w+\.?)+)\s*\}\}/g;return se.replace(e,function(v,m){return lodash_get__WEBPACK_IMPORTED_MODULE_14___default()(j,m)||""})}var filterValue=function se(j){if(_typeof(j)!=="object"||!j)return j;if(Array.isArray(j))return j.map(function(x){return se(x)});var e={};for(var v in j)if(Object.prototype.hasOwnProperty.call(j,v)){var m=j[v];if(Array.isArray(m)||m&&_typeof(m)==="object")continue;e[v]=m}return e},handleCommonRedirectAfterSuccess=function(j){var e,v=j.actionSchema,m=j.navigate,x=(e=v==null?void 0:v["x-action-settings"])!==null&&e!==void 0?e:{},u=x.onSuccess,p=u===void 0?{}:u,d=p.redirecting,h=p.redirectTo;d&&h&&((0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(h)?window.location.href=h:m(h))},executeAction=function(){var se=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function j(e){var v,m,x,u,p,d,h;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return v=e.action,m=e.beforeAction,x=e.afterAction,u=e.onSuccess,p=e.onFail,d=e.onFinally,c.prev=1,c.next=4,m==null?void 0:m();case 4:return c.next=6,v==null?void 0:v();case 6:return h=c.sent,c.next=9,x==null?void 0:x();case 9:return c.next=11,u==null?void 0:u(h);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(1),c.next=17,p==null?void 0:p(c.t0);case 17:return c.prev=17,c.next=20,d==null?void 0:d();case 20:return c.finish(17);case 21:case"end":return c.stop()}},j,null,[[1,13,17,21]])}));return function(e){return se.apply(this,arguments)}}(),getFieldPathsByActionType=function se(j){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_schema_settings_LinkageRules_type__WEBPACK_IMPORTED_MODULE_33__.Us.Hidden;for(var x in j){var u,p=e?"".concat(e,".").concat(x):x;Array.isArray((u=j[x])===null||u===void 0?void 0:u.actions)&&j[x].actions.includes(m)&&v.push(p),_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_6___default()(j[x])==="object"&&j[x]!==null&&se(j[x],p,v,m)}return v},getSkipValidatePathRegex=function getSkipValidatePathRegex(values){var hiddenFieldPaths=getFieldPathsByActionType(values);if(!(hiddenFieldPaths!=null&&hiddenFieldPaths.length))return/^((?!-1).)*$/;var regexArr=hiddenFieldPaths.map(function(se){var j=se.replace(/\./g,"\\."),e=j.replace(/\d+/g,function(v){return"(".concat(v,")")});return e}),regexString="/^((?!".concat(regexArr.join("|"),"|(.-1.)).)*$/");return eval(regexString)},refreshBlockByIds=function(){var se=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function j(e,v){var m;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!(v!=null&&v.length)||!(e!=null&&e.length))){u.next=2;break}return u.abrupt("return");case 2:if(m=e.filter(function(p){var d=p.uid;return v.includes(d)}),m.length){u.next=5;break}return u.abrupt("return");case 5:m.forEach(function(p){var d,h=p.service;h==null||(d=h.refresh)===null||d===void 0||d.call(h)});case 6:case"end":return u.stop()}},j)}));return function(e,v){return se.apply(this,arguments)}}();function getFormValues(se){var j=se.filterByTk,e=se.field,v=se.form,m=se.fieldNames,x=se.getField,u=se.resource,p=se.actionFields;if(j&&p){var d=Object.keys(v.values).filter(function(h){var t=x(h);return!p.includes(h)&&["hasOne","hasMany","belongsTo","belongsToMany"].includes(t==null?void 0:t.type)});return lodash_omit__WEBPACK_IMPORTED_MODULE_15___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},v.values),d)}return v.values}function useCollectValuesToSubmit(){var se=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),j=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),e=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),v=e.field,m=e.resource,x=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),u=x.fields,p=x.getField,d=x.getTreeParentField,h=x.name,t=u.map(function(g){return g.name}),c=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),i=c.fieldSchema,a=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormActiveFields)()||{},f=a.getActiveFieldsName,l=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.OQ)(),n=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.Kp)({currentForm:se}),r=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),o=(0,_modules_blocks_data_blocks_table_TreeRecordProvider__WEBPACK_IMPORTED_MODULE_23__.t)();return(0,react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function g(){var y,D,P,E,O,T,S,$,Z,K,z,w,A;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return P=(y=r==null?void 0:r["x-action-settings"])!==null&&y!==void 0?y:{},E=P.assignedValues,O=E===void 0?{}:E,T=P.overwriteValues,S=getFormValues({filterByTk:j,field:v,form:se,fieldNames:t,getField:p,resource:m,actionFields:(f==null?void 0:f("form"))||[]}),$={},Z=Object.keys(O).map(function(){var R=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function L(N){var B,V,U,I;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:B=O[N],V=p(N),W.next=5;break;case 5:if(!(0,_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__.cG)(B)){W.next=16;break}return W.next=8,l==null?void 0:l.parseVariable(B,n);case 8:if(W.t0=W.sent,W.t0){W.next=11;break}W.t0={};case 11:U=W.t0,I=U.value,I&&($[N]=(0,_variables_utils_transformVariableValue__WEBPACK_IMPORTED_MODULE_29__.J)(I,{targetCollectionField:V})),W.next=17;break;case 16:B!=null&&B!==""&&($[N]=B);case 17:case"end":return W.stop()}},L)}));return function(L){return R.apply(this,arguments)}}()),b.next=6,Promise.all(Z);case 6:return K=i==null||(D=i["x-component-props"])===null||D===void 0?void 0:D.addChild,K&&(A=d(),S[(z=A==null?void 0:A.name)!==null&&z!==void 0?z:"parent"]=o,S[(w=A==null?void 0:A.foreignKey)!==null&&w!==void 0?w:"parentId"]=o==null?void 0:o.id),b.abrupt("return",_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},S),T),$));case 9:case"end":return b.stop()}},g)})),[r,v,t,i,j,se,f,p,d,n,h,m,o,l])}var useCreateActionProps=function se(){var j,e,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=v.customCollectValues,x=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),u=(0,___WEBPACK_IMPORTED_MODULE_18__.useCollectionRecord)(),p=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),d=(0,_api_client__WEBPACK_IMPORTED_MODULE_19__.LY)(),h=(0,___WEBPACK_IMPORTED_MODULE_18__.useOfflineMode)(),t=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),c=t.field,i=t.resource,a=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),f=a.setVisible,l=a.setSubmitted,n=a.setFormValueChanged,r=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_45__.useNavigate)(),o=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),g=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),y=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.eJW)(),D=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),P=D.modal,E=D.message,O=(0,react_i18next__WEBPACK_IMPORTED_MODULE_47__.$)(),T=O.t,S=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormBlockContext)(),$=S.updateAssociationValues,Z=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),K=Z.name,z=useCollectValuesToSubmit(),w=(0,_useGetActiveAttachmentFields__WEBPACK_IMPORTED_MODULE_38__.c)(),A=u.isNew?g.componentProps.saveMode||"create":"update",M=((j=g.componentProps.filterKeys)===null||j===void 0?void 0:j.checked)||[],b=(0,_filter_provider_FilterProvider__WEBPACK_IMPORTED_MODULE_21__.kO)(),R=b.getDataBlocks,L=R(),N=_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.DEVICE_TYPE==="pc",B=(e=o==null?void 0:o["x-action-settings"])!==null&&e!==void 0?e:{},V=B.onSuccess,U=V===void 0?{}:V,I=B.onFail,F=I===void 0?{}:I,W=B.skipValidator,X=B.triggerWorkflows,J=U.successTitle,C=U.successMessage,k=U.refreshBlockIds,Y=U.refreshWaitingTime,H=U.keepActionContainer,te=H===void 0?!1:H,le=!!J&&!!C,ne=F.failTitle,ie=F.failMessage,ee=function(){var Se=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ae(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(typeof m=="function"){re.next=3;break}return re.next=3,resetFormCorrectly(p);case 3:case"end":return re.stop()}},ae)}));return function(){return Se.apply(this,arguments)}}(),fe=function(){var Se=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ae(G){var re,oe,ce;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(oe=(G==null||(re=G.response)===null||re===void 0||(re=re.data)===null||re===void 0||(re=re.messages)===null||re===void 0?void 0:re.map(function(ge){return ge.message}))||y(ie||"".concat(G)),g.data.loading=!1,ie){xe.next=4;break}return xe.abrupt("return");case 4:N&&E.error(oe),N||(ce=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("p",{children:oe}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:33},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_icons_network_error__WEBPACK_IMPORTED_MODULE_34__.Z,{})})]}),P.error(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},baseModalConfig),{},{title:y(ne||T("Operation failed")),content:ce,okText:T("Confirm"),className:mobileModalMessageCss})));case 6:case"end":return xe.stop()}},ae)}));return function(G){return Se.apply(this,arguments)}}(),de=function(){var Se=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ae(G){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(!Y){oe.next=3;break}return oe.next=3,(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.delay)(Y);case 3:if(!te&&(f==null||f(!1)),l==null||l(!0),n==null||n(!1),g.data.loading=!1,g.data.data=G,refreshBlockByIds(L,k),!N){oe.next=16;break}return le&&E.success(C?y(C):T("Operation succeeded")),oe.next=13,ee();case 13:handleCommonRedirectAfterSuccess({actionSchema:o,navigate:r}),oe.next=23;break;case 16:if(!le){oe.next=20;break}P.success(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},baseModalConfig),{},{title:y(J),content:y(C?y(C):T("Operation succeeded")),className:mobileModalMessageCss,okText:T("Confirm"),onOk:function(){var ce=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function xe(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,ee();case 2:handleCommonRedirectAfterSuccess({actionSchema:o,navigate:r});case 3:case"end":return he.stop()}},xe)}));function be(){return ce.apply(this,arguments)}return be}()})),oe.next=23;break;case 20:return oe.next=22,ee();case 22:handleCommonRedirectAfterSuccess({actionSchema:o,navigate:r});case 23:case"end":return oe.stop()}},ae)}));return function(G){return Se.apply(this,arguments)}}(),ue=function(ae){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],oe=G.map(function(ce){var be=ce.message;return be}).join(`
`);P.confirm({title:T("Confirm"),content:oe,okText:T("Continue to Submit"),cancelText:T("Back to Modify"),onOk:function(){var ce=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function xe(){var ge;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.prev=0,Pe.next=3,i[A](_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},ae),{},{triggerWorkflowsFilter:re.join(",")}));case 3:return ge=Pe.sent,Pe.next=6,de(ge);case 6:Pe.next=11;break;case 8:Pe.prev=8,Pe.t0=Pe.catch(0),fe(Pe.t0);case 11:case"end":return Pe.stop()}},xe,null,[[0,8]])}));function be(){return ce.apply(this,arguments)}return be}()})};return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ae(){var G,re,oe,ce,be,xe,ge,he,Pe,Ae,Be,Le,Me,Te,we,Ue;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(W){De.next=3;break}return De.next=3,p.submit();case 3:if(typeof m!="function"){De.next=9;break}return De.next=6,m();case 6:De.t0=De.sent,De.next=12;break;case 9:return De.next=11,z();case 11:De.t0=De.sent;case 12:if(G=De.t0,g.data=c.data||{},g.data.loading=!0,re={values:G,filterKeys:M,filterByTk:x,triggerWorkflows:X!=null&&X.length?X.map(function(ye){return[ye.workflowKey,ye.context].filter(Boolean).join("!")}).join(","):void 0,updateAssociationValues:$},ie&&d.silent(),De.prev=17,ce=(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.getCreateFormBlockSchemaByChildSchema)(o),be=(ce==null||(oe=ce["x-data"])===null||oe===void 0?void 0:oe.enableFormOfflineSubmit)||!1,!(h.isOfflineMode&&be)){De.next=29;break}return xe=w(),De.next=24,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.OfflineFormServiceInstance.saveForm({formXuid:ce==null?void 0:ce["x-uid"],formData:lodash__WEBPACK_IMPORTED_MODULE_8___default().omitBy(G,lodash__WEBPACK_IMPORTED_MODULE_8___default().isUndefined),activeAttachmentFields:xe,submitConfig:{url:"/".concat(K,":").concat(A),method:"POST",params:lodash_omit__WEBPACK_IMPORTED_MODULE_15___default()(re,"values")}});case 24:resetFormCorrectly(p),h.getOfflineFormData(),E.success(T("Saved to the offline data list")),De.next=34;break;case 29:return De.next=31,i[A](re);case 31:return ge=De.sent,De.next=34,de(ge);case 34:De.next=44;break;case 36:if(De.prev=36,De.t1=De.catch(17),console.error("error: ",De.t1),Pe=(De.t1===null||De.t1===void 0||(he=De.t1.response)===null||he===void 0?void 0:he.data)||{},Ae=Pe.data,Be=Ae===void 0?{}:Ae,Le=Pe.messages,Me=Le===void 0?[]:Le,Te=Be.needSecondaryConfirmation,we=Be.secondaryConfirmationWorkflows,Ue=we===void 0?[]:we,!Te){De.next=43;break}return De.abrupt("return",ue(re,Me,Ue));case 43:fe(De.t1);case 44:return De.prev=44,d.silence=!1,De.finish(44);case 47:case"end":return De.stop()}},ae,null,[[17,36,44,47]])}))()}}},useUpdateActionProps=function se(){var j,e=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),v=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),m=(0,_api_client__WEBPACK_IMPORTED_MODULE_19__.LY)(),x=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),u=x.field,p=x.resource,d=x.__parent,h=x.service,t=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),c=t.setVisible,i=t.setSubmitted,a=t.setFormValueChanged,f=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),l=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),n=l.fields,r=l.getField,o=l.name,g=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.eJW)(),y=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),D=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormBlockContext)(),P=D.updateAssociationValues,E=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),O=E.modal,T=E.message,S=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.MM)(),$=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.OQ)(),Z=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.Kp)({currentForm:e}),K=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormActiveFields)()||{},z=K.getActiveFieldsName,w=(0,react_i18next__WEBPACK_IMPORTED_MODULE_47__.$)(),A=w.t,M=(0,_filter_provider_FilterProvider__WEBPACK_IMPORTED_MODULE_21__.kO)(),b=M.getDataBlocks,R=b(),L=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_45__.useNavigate)(),N=_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.DEVICE_TYPE==="pc",B=(j=f==null?void 0:f["x-action-settings"])!==null&&j!==void 0?j:{},V=B.onSuccess,U=V===void 0?{}:V,I=B.onFail,F=I===void 0?{}:I,W=U.successTitle,X=U.successMessage,J=U.refreshBlockIds,C=U.refreshWaitingTime,k=U.keepActionContainer,Y=k===void 0?!1:k,H=!!W&&!!X,te=F.failTitle,le=F.failMessage,ne=function(){var fe=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function de(ue){var Se,ae,G;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(ae=(ue==null||(Se=ue.response)===null||Se===void 0||(Se=Se.data)===null||Se===void 0||(Se=Se.messages)===null||Se===void 0?void 0:Se.map(function(ce){return ce.message}))||g(le||"".concat(ue)),y.data.loading=!1,!N){oe.next=5;break}return T.error(ae),oe.abrupt("return");case 5:G=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("p",{children:ae}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:33},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_icons_network_error__WEBPACK_IMPORTED_MODULE_34__.Z,{})})]}),O.error(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},baseModalConfig),{},{title:g(te||A("Operation failed")),content:G,okText:A("Confirm"),className:mobileModalMessageCss}));case 7:case"end":return oe.stop()}},de)}));return function(ue){return fe.apply(this,arguments)}}(),ie=function(){var fe=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function de(){var ue,Se,ae;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!C){re.next=3;break}return re.next=3,(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.delay)(C);case 3:y.data.loading=!1,d==null||(ue=d.service)===null||ue===void 0||(Se=ue.refresh)===null||Se===void 0||Se.call(ue),refreshBlockByIds(R,J),i==null||i(!0),a==null||a(!1),Y?h==null||(ae=h.refresh)===null||ae===void 0||ae.call(h):c==null||c(!1),N?(H&&T.success(X?g(X):A("Operation succeeded")),handleCommonRedirectAfterSuccess({actionSchema:f,navigate:L})):H?O.success(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},baseModalConfig),{},{title:g(W),content:g(X?g(X):A("Operation succeeded")),className:mobileModalMessageCss,okText:A("Confirm"),onOk:function(){var oe=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function be(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:handleCommonRedirectAfterSuccess({actionSchema:f,navigate:L});case 1:case"end":return ge.stop()}},be)}));function ce(){return oe.apply(this,arguments)}return ce}()})):handleCommonRedirectAfterSuccess({actionSchema:f,navigate:L});case 10:case"end":return re.stop()}},de)}));return function(){return fe.apply(this,arguments)}}(),ee=function(de,ue,Se){var ae=ue.map(function(G){var re=G.message;return re}).join(`
`);O.confirm({title:A("Confirm"),content:ae,okText:A("Continue to Submit"),cancelText:A("Back to Modify"),onOk:function(){var G=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function oe(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.prev=0,be.next=3,p.update(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},de),{},{triggerWorkflowsFilter:Se.join(",")}));case 3:return be.next=5,ie();case 5:be.next=10;break;case 7:be.prev=7,be.t0=be.catch(0),ne(be.t0);case 10:case"end":return be.stop()}},oe,null,[[0,7]])}));function re(){return G.apply(this,arguments)}return re}()})};return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function de(){var ue,Se,ae,G,re,oe,ce,be,xe,ge,he,Pe,Ae;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Se=(ue=f==null?void 0:f["x-action-settings"])!==null&&ue!==void 0?ue:{},ae=Se.assignedValues,G=ae===void 0?{}:ae,re=Se.overwriteValues,oe=Se.skipValidator,ce=Se.triggerWorkflows,be={},xe=Object.keys(G).map(function(){var Me=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function Te(we){var Ue,je,De,ye;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:Ue=G[we],je=r(we),q.next=5;break;case 5:if(!(0,_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__.cG)(Ue)){q.next=16;break}return q.next=8,$==null?void 0:$.parseVariable(Ue,Z);case 8:if(q.t0=q.sent,q.t0){q.next=11;break}q.t0={};case 11:De=q.t0,ye=De.value,ye&&(be[we]=(0,_variables_utils_transformVariableValue__WEBPACK_IMPORTED_MODULE_29__.J)(ye,{targetCollectionField:je})),q.next=17;break;case 16:Ue!=null&&Ue!==""&&(be[we]=Ue);case 17:case"end":return q.stop()}},Te)}));return function(Te){return Me.apply(this,arguments)}}()),Le.next=5,Promise.all(xe);case 5:if(oe){Le.next=11;break}return ge=getSkipValidatePathRegex(e.values),Le.next=9,e.clearErrors();case 9:return Le.next=11,e.validate(ge);case 11:return he=n.map(function(Me){return Me.name}),Pe=getFormValues({filterByTk:v,field:u,form:e,fieldNames:he,getField:r,resource:p,actionFields:(z==null?void 0:z("form"))||[]}),y.data=u.data||{},y.data.loading=!0,Ae=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({filterByTk:v,values:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},Pe),re),be)},S),{},{updateAssociationValues:P,triggerWorkflows:ce!=null&&ce.length?ce.map(function(Me){return[Me.workflowKey,Me.context].filter(Boolean).join("!")}).join(","):void 0}),Le.next=18,executeAction({beforeAction:function(){var Me=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function we(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:m.silent();case 1:case"end":return je.stop()}},we)}));function Te(){return Me.apply(this,arguments)}return Te}(),action:function(){var Me=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function we(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.next=2,p.update(Ae);case 2:case"end":return je.stop()}},we)}));function Te(){return Me.apply(this,arguments)}return Te}(),afterAction:function(){var Me=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function we(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:case"end":return je.stop()}},we)}));function Te(){return Me.apply(this,arguments)}return Te}(),onSuccess:ie,onFail:function(){var Me=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function we(Ue){var je,De,ye,_e,q,pe,Re,Oe,$e;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(De=(Ue==null||(je=Ue.response)===null||je===void 0?void 0:je.data)||{},ye=De.data,_e=ye===void 0?{}:ye,q=De.messages,pe=q===void 0?[]:q,Re=_e.needSecondaryConfirmation,Oe=_e.secondaryConfirmationWorkflows,$e=Oe===void 0?[]:Oe,!Re){Ze.next=4;break}return Ze.abrupt("return",ee(Ae,pe,$e));case 4:ne(Ue);case 5:case"end":return Ze.stop()}},we)}));function Te(we){return Me.apply(this,arguments)}return Te}(),onFinally:function(){var Me=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function we(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:m.silence=!1;case 1:case"end":return je.stop()}},we)}));function Te(){return Me.apply(this,arguments)}return Te}()});case 18:case"end":return Le.stop()}},de)}))()}}},useAssociationCreateActionProps=function se(){var j,e=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),v=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),m=v.field,x=v.resource,u=v.__parent,p=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),d=p.setVisible,h=p.fieldSchema,t=p.setSubmitted,c=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),i=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),a=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),f=a.fields,l=a.getField,n=a.getTreeParentField,r=a.name,o=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.eJW)(),g=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),y=(0,_record_provider__WEBPACK_IMPORTED_MODULE_24__.a)(),D=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.OQ)(),P=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),E=P.message,O=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.Kp)({currentForm:e}),T=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormActiveFields)()||{},S=T.getActiveFieldsName,$=i.componentProps.saveMode||"create",Z=((j=i.componentProps.filterKeys)===null||j===void 0?void 0:j.checked)||[];return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function z(){var w,A,M,b,R,L,N,B,V,U,I,F,W,X,J,C,k,Y,H,te,le,ne,ie;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return M=f.map(function(de){return de.name}),b=(w=c==null?void 0:c["x-action-settings"])!==null&&w!==void 0?w:{},R=b.assignedValues,L=R===void 0?{}:R,N=b.onSuccess,B=N===void 0?{}:N,V=b.overwriteValues,U=b.skipValidator,I=b.triggerWorkflows,F=B.keepActionContainer,W=F===void 0?!1:F,X=h==null||(A=h["x-component-props"])===null||A===void 0?void 0:A.addChild,J={},C=Object.keys(L).map(function(){var de=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ue(Se){var ae,G,re,oe;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:ae=L[Se],G=l(Se),be.next=5;break;case 5:if(!(0,_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__.cG)(ae)){be.next=16;break}return be.next=8,D==null?void 0:D.parseVariable(ae,O);case 8:if(be.t0=be.sent,be.t0){be.next=11;break}be.t0={};case 11:re=be.t0,oe=re.value,oe&&(J[Se]=(0,_variables_utils_transformVariableValue__WEBPACK_IMPORTED_MODULE_29__.J)(oe,{targetCollectionField:G})),be.next=17;break;case 16:ae!=null&&ae!==""&&(J[Se]=ae);case 17:case"end":return be.stop()}},ue)}));return function(ue){return de.apply(this,arguments)}}()),fe.next=8,Promise.all(C);case 8:if(U){fe.next=11;break}return fe.next=11,e.submit();case 11:return k=getFormValues({filterByTk:g,field:m,form:e,fieldNames:M,getField:l,resource:x,actionFields:(S==null?void 0:S("form"))||[]}),X&&(te=n(),k[(Y=te==null?void 0:te.name)!==null&&Y!==void 0?Y:"parent"]=y,k[(H=te==null?void 0:te.foreignKey)!==null&&H!==void 0?H:"parentId"]=y.id),i.data=m.data||{},i.data.loading=!0,fe.prev=15,fe.next=18,x[$]({values:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},k),V),J),filterKeys:Z,triggerWorkflows:I!=null&&I.length?I.map(function(de){return[de.workflowKey,de.context].filter(Boolean).join("!")}).join(","):void 0});case 18:if(ie=fe.sent,i.data.loading=!1,i.data.data=ie,u==null||(le=u.service)===null||le===void 0||(ne=le.refresh)===null||ne===void 0||ne.call(le),!W&&(d==null||d(!1)),t==null||t(!0),B!=null&&B.successMessage){fe.next=26;break}return fe.abrupt("return");case 26:E.success(o(B==null?void 0:B.successMessage)),fe.next=33;break;case 29:fe.prev=29,fe.t0=fe.catch(15),i.data.data=null,i.data.loading=!1;case 33:case"end":return fe.stop()}},z,null,[[15,29]])}))()}}},findFilterTargets=function se(j){for(;j;){if(j["x-filter-targets"])return{targets:j["x-filter-targets"],uid:j["x-uid"]};j=j.parent}return{}},updateFilterTargets=function se(j,e){for(;j;){if(j["x-filter-targets"]){j["x-filter-targets"]=e;return}j=j.parent}},useFilterBlockActionProps=function se(){var j=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),e=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),v=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),m=(0,_filter_provider_FilterProvider__WEBPACK_IMPORTED_MODULE_21__.kO)(),x=m.getDataBlocks,u=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),p=u.name,d=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollectionManager_deprecated)(),h=d.getCollectionJoinField;return e.data=e.data||{},{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function c(){var i,a,f,l;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=findFilterTargets(v),a=i.targets,f=a===void 0?[]:a,l=i.uid,e.data.loading=!0,r.prev=2,r.next=5,Promise.all(x().map(function(){var o=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function g(y){var D,P,E,O,T,S;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(E=f.find(function(K){return K.uid===y.uid}),E){Z.next=3;break}return Z.abrupt("return");case 3:if(O=((D=y.service.params)===null||D===void 0?void 0:D[0])||{},T=((P=y.service.params)===null||P===void 0||(P=P[1])===null||P===void 0?void 0:P.filters)||{},(0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.ZN)(y.collection)?(T[l]=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.WmO)((0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.jE)(j.values,v,h,p)),T[l].$and&&(T[l]={$and:T[l].$and.map(function(K){var z=K;return K=(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.transformAuditTodoListFilterFormat)(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default()({},p,z),[p]),K})})):T[l]=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.WmO)((0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.jE)(j.values,v,h,p)),S=(0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.EO)([].concat(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default()(Object.values(T).map(function(K){return(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.WmO)(K)})),[y.defaultFilter])),!(y.dataLoadingMode==="manual"&&lodash__WEBPACK_IMPORTED_MODULE_8___default().isEmpty(S))){Z.next=9;break}return Z.abrupt("return",y.clearData());case 9:return Z.abrupt("return",y.doFilter(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},O),{},{page:1,filter:S}),{filters:T}));case 10:case"end":return Z.stop()}},g)}));return function(g){return o.apply(this,arguments)}}()));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.captureException)(r.t0);case 10:e.data.loading=!1;case 11:case"end":return r.stop()}},c,null,[[2,7]])}))()}}},useResetBlockActionProps=function se(){var j=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),e=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),v=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),m=(0,_filter_provider_FilterProvider__WEBPACK_IMPORTED_MODULE_21__.kO)(),x=m.getDataBlocks;return e.data=e.data||{},{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function p(){var d,h,t;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return d=findFilterTargets(v),h=d.targets,t=d.uid,j.reset(),e.data.loading=!0,i.prev=3,i.next=6,Promise.all(x().map(function(){var a=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function f(l){var n,r,o,g,y,D;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(o=h.find(function(O){return O.uid===l.uid}),o){E.next=3;break}return E.abrupt("return");case 3:if(l.dataLoadingMode!=="manual"){E.next=5;break}return E.abrupt("return",l.clearData());case 5:return g=((n=l.service.params)===null||n===void 0?void 0:n[0])||{},y=((r=l.service.params)===null||r===void 0||(r=r[1])===null||r===void 0?void 0:r.filters)||{},delete y[t],D=(0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.EO)([].concat(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default()(Object.values(y)),[l.defaultFilter])),E.abrupt("return",l.doFilter(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},g),{},{page:1,filter:D}),{filters:y}));case 10:case"end":return E.stop()}},f)}));return function(f){return a.apply(this,arguments)}}()));case 6:e.data.loading=!1,i.next=12;break;case 9:i.prev=9,i.t0=i.catch(3),e.data.loading=!1;case 12:case"end":return i.stop()}},p,null,[[3,9]])}))()}}},useCustomizeUpdateActionProps=function se(){var j=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),e=j.resource,v=j.__parent,m=j.service,x=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),u=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),p=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_45__.useNavigate)(),d=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.eJW)(),h=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),t=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),c=t.modal,i=t.message,a=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.OQ)(),f=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.Kp)({currentForm:h}),l=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),n=l.name,r=l.getField;return{onClick:function(g,y){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function D(){var P,E,O,T,S,$,Z,K,z,w,A;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return E=(P=u==null?void 0:u["x-action-settings"])!==null&&P!==void 0?P:{},O=E.assignedValues,T=O===void 0?{}:O,S=E.onSuccess,$=E.skipValidator,Z=E.triggerWorkflows,K={},z=Object.keys(T).map(function(){var R=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function L(N){var B,V,U,I;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:B=T[N],V=r(N),W.next=5;break;case 5:if(!(0,_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__.cG)(B)){W.next=16;break}return W.next=8,a==null?void 0:a.parseVariable(B,f);case 8:if(W.t0=W.sent,W.t0){W.next=11;break}W.t0={};case 11:U=W.t0,I=U.value,I&&(K[N]=(0,_variables_utils_transformVariableValue__WEBPACK_IMPORTED_MODULE_29__.J)(I,{targetCollectionField:V})),W.next=17;break;case 16:B!=null&&B!==""&&(K[N]=B);case 17:case"end":return W.stop()}},L)}));return function(L){return R.apply(this,arguments)}}()),b.next=5,Promise.all(z);case 5:if($!==!1){b.next=8;break}return b.next=8,h.submit();case 8:return b.next=10,e.update({filterByTk:x,values:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},K),triggerWorkflows:Z!=null&&Z.length?Z.map(function(R){return[R.workflowKey,R.context].filter(Boolean).join("!")}).join(","):void 0});case 10:if(y&&(y==null||y()),e instanceof _TableFieldProvider__WEBPACK_IMPORTED_MODULE_32__.Qy||v==null||(w=v.service)===null||w===void 0||(A=w.refresh)===null||A===void 0||A.call(w),S!=null&&S.successMessage){b.next=14;break}return b.abrupt("return");case 14:S!=null&&S.manualClose?c.success({title:d(S==null?void 0:S.successMessage),onOk:function(){var R=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function N(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:S!=null&&S.redirecting&&S!==null&&S!==void 0&&S.redirectTo&&((0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(S.redirectTo)?window.location.href=S.redirectTo:p(S.redirectTo));case 1:case"end":return V.stop()}},N)}));function L(){return R.apply(this,arguments)}return L}()}):(i.success(d(S==null?void 0:S.successMessage)),S!=null&&S.redirecting&&S!==null&&S!==void 0&&S.redirectTo&&((0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(S.redirectTo)?window.location.href=S.redirectTo:p(S.redirectTo)));case 15:case"end":return b.stop()}},D)}))()}}},useCustomizeBulkUpdateActionProps=function se(){var j,e,v,m=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),x=m.field,u=m.resource,p=m.__parent,d=m.service,h=(0,react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_formily_react__WEBPACK_IMPORTED_MODULE_13__.SchemaExpressionScopeContext),t=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),c=(0,___WEBPACK_IMPORTED_MODULE_18__.useTableBlockContext)(),i=c.rowKey,a=(j=(e=(v=c.field)===null||v===void 0||(v=v.data)===null||v===void 0?void 0:v.selectedRowKeys)!==null&&e!==void 0?e:h==null?void 0:h.selectedRecordKeys)!==null&&j!==void 0?j:{},f=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_45__.useNavigate)(),l=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.eJW)(),n=(0,react_i18next__WEBPACK_IMPORTED_MODULE_47__.$)(),r=n.t,o=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),g=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),y=g.modal,D=g.message,P=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.OQ)(),E=(0,_record_provider__WEBPACK_IMPORTED_MODULE_24__.a)(),O=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),T=O.name,S=O.getField,$=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.Kp)();return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function K(){var z,w,A,M,b,R,L,N;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return w=(z=t==null?void 0:t["x-action-settings"])!==null&&z!==void 0?z:{},A=w.assignedValues,M=A===void 0?{}:A,b=w.onSuccess,R=w.updateMode,o.data=x.data||{},o.data.loading=!0,L={},N=Object.keys(M).map(function(){var U=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function I(F){var W,X,J,C;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:W=M[F],X=S(F),Y.next=5;break;case 5:if(!(0,_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__.cG)(W)){Y.next=16;break}return Y.next=8,P==null?void 0:P.parseVariable(W,$);case 8:if(Y.t0=Y.sent,Y.t0){Y.next=11;break}Y.t0={};case 11:J=Y.t0,C=J.value,C&&(L[F]=(0,_variables_utils_transformVariableValue__WEBPACK_IMPORTED_MODULE_29__.J)(C,{targetCollectionField:X})),Y.next=17;break;case 16:W!=null&&W!==""&&(L[F]=W);case 17:case"end":return Y.stop()}},I)}));return function(I){return U.apply(this,arguments)}}()),V.next=7,Promise.all(N);case 7:y.confirm({title:r("Bulk update"),content:r(R==="selected"?"Update selected data?":"Update all data?"),onOk:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function I(){var F,W,X,J,C,k,Y;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(X=(F=(W=d.params)===null||W===void 0?void 0:W[0])!==null&&F!==void 0?F:{},J=X.filter,C={values:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},L),filter:J,forceUpdate:!1},R!=="selected"){te.next=8;break}if(a!=null&&a.length){te.next=7;break}return D.error(r("Please select the records to be updated")),o.data.loading=!1,te.abrupt("return");case 7:C.filter={$and:[_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default()({},i||"id",{$in:a})]};case 8:return C.filter||(C.forceUpdate=!0),te.prev=9,te.next=12,u.update(C);case 12:te.next=16;break;case 14:te.prev=14,te.t0=te.catch(9);case 16:return te.prev=16,o.data.loading=!1,te.finish(16);case 19:if(u instanceof _TableFieldProvider__WEBPACK_IMPORTED_MODULE_32__.Qy||p==null||(k=p.service)===null||k===void 0||(Y=k.refresh)===null||Y===void 0||Y.call(k),b!=null&&b.successMessage){te.next=22;break}return te.abrupt("return");case 22:b!=null&&b.manualClose?y.success({title:l(b==null?void 0:b.successMessage),onOk:function(){var le=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ie(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:b!=null&&b.redirecting&&b!==null&&b!==void 0&&b.redirectTo&&((0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(b.redirectTo)?window.location.href=b.redirectTo:f(b.redirectTo));case 1:case"end":return fe.stop()}},ie)}));function ne(){return le.apply(this,arguments)}return ne}()}):(D.success(l(b==null?void 0:b.successMessage)),b!=null&&b.redirecting&&b!==null&&b!==void 0&&b.redirectTo&&((0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(b.redirectTo)?window.location.href=b.redirectTo:f(b.redirectTo)));case 23:case"end":return te.stop()}},I,null,[[9,14,16,19]])}))()},onCancel:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function I(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:o.data.loading=!1;case 1:case"end":return W.stop()}},I)}))()}});case 8:case"end":return V.stop()}},K)}))()}}},useCustomizeRequestActionProps=function se(){var j,e=(0,_api_client__WEBPACK_IMPORTED_MODULE_19__.LY)(),v=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_45__.useNavigate)(),m=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),x=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),u=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.eJW)(),p=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useForm)(),d=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),h=d.fields,t=d.getField,c=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),i=c.field,a=c.resource,f=c.__parent,l=c.service,n=(0,_record_provider__WEBPACK_IMPORTED_MODULE_24__.a)(),r=(0,_user__WEBPACK_IMPORTED_MODULE_27__.OP)(),o=r==null||(j=r.data)===null||j===void 0?void 0:j.data,g=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),y=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),D=y.setVisible,P=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),E=P.modal,O=P.message,T=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormActiveFields)()||{},S=T.getActiveFieldsName;return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function Z(){var K,z,w,A,M,b,R,L,N,B,V,U,I,F,W,X,J,C,k;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(z=(K=x==null?void 0:x["x-action-settings"])!==null&&K!==void 0?K:{},w=z.skipValidator,A=z.onSuccess,M=A===void 0?{}:A,b=z.requestSettings,R=M.keepActionContainer,L=R===void 0?!1:R,N=x==null?void 0:x["x-action"],b.url){H.next=5;break}return H.abrupt("return");case 5:if(!(w!==!0&&N==="customize:form:request")){H.next=8;break}return H.next=8,p.submit();case 8:return B=b.headers?JSON.parse(b.headers):{},V=b.params?JSON.parse(b.params):{},U=b.data?JSON.parse(b.data):{},I=["POST","PUT","PATCH"],N==="customize:form:request"&&I.includes(b.method)&&(F=h.map(function(te){return te.name}),W=getFormValues({filterByTk:m,field:i,form:p,fieldNames:F,getField:t,resource:a,actionFields:(S==null?void 0:S("form"))||[]}),Object.assign(U,W)),X={url:renderTemplate(b.url,{currentRecord:n,currentUser:o}),method:b.method,headers:(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.parse)(B)({currentRecord:n,currentUser:o}),params:(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.parse)(V)({currentRecord:n,currentUser:o}),data:(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.parse)(U)({currentRecord:n,currentUser:o})},g.data=i.data||{},g.data.loading=!0,H.prev=16,H.next=19,e.request(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},X));case 19:if(g.data.loading=!1,a instanceof _TableFieldProvider__WEBPACK_IMPORTED_MODULE_32__.Qy||f==null||(C=f.service)===null||C===void 0||(k=C.refresh)===null||k===void 0||k.call(C),l==null||(J=l.refresh)===null||J===void 0||J.call(l),N==="customize:form:request"&&!L&&(D==null||D(!1)),M!=null&&M.successMessage){H.next=25;break}return H.abrupt("return");case 25:M!=null&&M.manualClose?E.success({title:u(M==null?void 0:M.successMessage),onOk:function(){var te=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function ne(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:M!=null&&M.redirecting&&M!==null&&M!==void 0&&M.redirectTo&&((0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(M.redirectTo)?window.location.href=M.redirectTo:v(M.redirectTo));case 1:case"end":return ee.stop()}},ne)}));function le(){return te.apply(this,arguments)}return le}()}):O.success(u(M==null?void 0:M.successMessage));case 26:return H.prev=26,g.data.loading=!1,H.finish(26);case 29:case"end":return H.stop()}},Z,null,[[16,,26,29]])}))()}}},useDestroyActionProps=function se(){var j=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),e=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),v=e.resource,m=e.service,x=e.block,u=e.__parent,p=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),d=p.setVisible,h=p.setSubmitted,t=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.MM)(),c=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)();return{onClick:function(a,f){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function l(){var n,r,o,g,y,D,P,E,O,T,S,$,Z,K,z,w,A,M;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return o=(n=c==null?void 0:c["x-action-settings"])!==null&&n!==void 0?n:{},g=o.triggerWorkflows,y=o.onSuccess,D=y===void 0?{}:y,P=D.keepActionContainer,E=P===void 0?!1:P,R.next=4,v.destroy(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({filterByTk:j,triggerWorkflows:g!=null&&g.length?g.map(function(L){return[L.workflowKey,L.context].filter(Boolean).join("!")}).join(","):void 0},t));case 4:O=(m==null||(r=m.data)===null||r===void 0?void 0:r.meta)||{},T=O.count,S=T===void 0?0:T,$=O.page,Z=$===void 0?0:$,K=O.pageSize,z=K===void 0?0:K,S%z===1&&Z!==1&&m.run(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},m==null||(w=m.params)===null||w===void 0?void 0:w[0]),{},{page:Z-1})),f&&(f==null||f()),h==null||h(!0),x&&x!=="TableField"&&(u==null||(A=u.service)===null||A===void 0||(M=A.refresh)===null||M===void 0||M.call(A),!E&&(d==null||d(!1)),h==null||h(!0));case 9:case"end":return R.stop()}},l)}))()}}},useRemoveActionProps=function se(j){var e=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),v=(0,_api_client__WEBPACK_IMPORTED_MODULE_19__.LY)(),m=v.resource(j,e);return{onClick:function(u){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function p(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,m.remove({values:[u.id]});case 2:case"end":return h.stop()}},p)}))()}}},useDisassociateActionProps=function se(){var j=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.C)(),e=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),v=e.resource,m=e.service,x=e.block,u=e.__parent,p=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),d=p.setVisible,h=p.setSubmitted,t=p.setFormValueChanged,c=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)();return{onClick:function(a,f){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function l(){var n,r,o,g,y,D,P,E,O,T,S,$,Z,K,z,w,A;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=(n=c==null?void 0:c["x-action-settings"])!==null&&n!==void 0?n:{},g=o.onSuccess,y=g===void 0?{}:g,D=y.keepActionContainer,P=D===void 0?!1:D,b.next=4,v.remove({values:[j]});case 4:E=(m==null||(r=m.data)===null||r===void 0?void 0:r.meta)||{},O=E.count,T=O===void 0?0:O,S=E.page,$=S===void 0?0:S,Z=E.pageSize,K=Z===void 0?0:Z,T%K===1&&$!==1?m.run(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},m==null||(z=m.params)===null||z===void 0?void 0:z[0]),{},{page:$-1})):f&&(f==null||f()),h==null||h(!0),x&&x!=="TableField"&&(u==null||(w=u.service)===null||w===void 0||(A=w.refresh)===null||A===void 0||A.call(w),!P&&(d==null||d(!1)),t==null||t(!1));case 8:case"end":return b.stop()}},l)}))()}}},useDetailPrintActionProps=function se(){var j=(0,___WEBPACK_IMPORTED_MODULE_18__.useFormBlockContext)(),e=j.formBlockRef,v=(0,react_to_print__WEBPACK_IMPORTED_MODULE_10__.useReactToPrint)({content:function(){return e.current},pageStyle:`@media print {
      * {
        margin: 0;
      }
      :not(.ant-formily-item-control-content-component) > div.ant-formily-layout>div:first-child {
        overflow: hidden; height: 0;
      }
    }`});return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function x(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:v();case 1:case"end":return p.stop()}},x)}))()}}},useBulkDestroyActionProps=function se(){var j=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),e=j.field,v=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),m=v.resource,x=v.service,u=(0,_schema_component__WEBPACK_IMPORTED_MODULE_25__.XCj)(),p=u.setSubmitted;return{onClick:function(h,t){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function c(){var i,a,f,l,n,r;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(e!=null&&(i=e.data)!==null&&i!==void 0&&(i=i.selectedRowKeys)!==null&&i!==void 0&&i.length){g.next=2;break}return g.abrupt("return");case 2:return g.next=4,m.destroy({filterByTk:(a=e.data)===null||a===void 0?void 0:a.selectedRowKeys});case 4:e.data.selectedRowKeys=[],n=(f=x.params[0])===null||f===void 0?void 0:f.page,r=(l=x.data)===null||l===void 0||(l=l.meta)===null||l===void 0?void 0:l.totalPage,n===r&&(x.params[0].page=n-1),t&&(t==null||t()),p==null||p(!0);case 10:case"end":return g.stop()}},c)}))()}}},useRefreshActionProps=function se(){var j=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),e=j.service;return{onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function m(){var x;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:e==null||(x=e.refresh)===null||x===void 0||x.call(e);case 1:case"end":return p.stop()}},m)}))()}}},useDetailsPaginationProps=function se(){var j,e,v=(0,_DetailsBlockProvider__WEBPACK_IMPORTED_MODULE_31__.nT)(),m=((j=v.service)===null||j===void 0||(j=j.data)===null||j===void 0||(j=j.meta)===null||j===void 0?void 0:j.count)||0;return{simple:!0,hidden:m<=1,current:((e=v.service)===null||e===void 0||(e=e.data)===null||e===void 0||(e=e.meta)===null||e===void 0?void 0:e.page)||1,total:m,pageSize:1,showSizeChanger:!1,onChange:function(u){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function p(){var d,h;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:h=(d=v.service)===null||d===void 0||(d=d.params)===null||d===void 0?void 0:d[0],v.service.run(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},h),{},{page:u}));case 2:case"end":return c.stop()}},p)}))()},style:{marginTop:24,textAlign:"center"}}},useAssociationFilterProps=function se(){var j,e,v,m,x=___WEBPACK_IMPORTED_MODULE_18__.AssociationFilter.useAssociationField(),u=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),p=u.service,d=u.props,h=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),t=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollectionManager_deprecated)(),c=x!=null&&x.target?(j=t.getCollection(x.target))===null||j===void 0?void 0:j.getPrimaryKey():"id",i=((e=h["x-component-props"])===null||e===void 0||(e=e.fieldNames)===null||e===void 0?void 0:e.label)||c,a=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),f=x.name,l=(0,___WEBPACK_IMPORTED_MODULE_18__.useDataSourceHeaders)(d==null?void 0:d.dataSource),n=(0,_api_client__WEBPACK_IMPORTED_MODULE_19__.QT)({headers:l,resource:x.target,action:"list",params:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({fields:[i,c],pageSize:200,page:1},(v=a.componentProps)===null||v===void 0?void 0:v.params)},{refreshDeps:[i,c,JSON.stringify(((m=a.componentProps)===null||m===void 0?void 0:m.params)||{})],debounceWait:300}),r=n.data,o=n.params,g=n.run,y=(r==null?void 0:r.data)||[],D=function(O){var T,S,$,Z=((T=p.params)===null||T===void 0||(T=T[1])===null||T===void 0?void 0:T.filters)||{};O.length?Z["af.".concat(f)]=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default()({},"".concat(f,".").concat(c,".$in"),O):delete Z["af.".concat(f)],p.run(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},(S=p.params)===null||S===void 0?void 0:S[0]),{},{pageSize:200,page:1,filter:(0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.EO)([].concat(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default()(Object.values(Z)),[d==null||($=d.params)===null||$===void 0?void 0:$.filter]))}),{filters:Z})},P=function(O){g(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},o==null?void 0:o[0]),{},{filter:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default()({},"".concat(i,".$includes"),O.target.value)}))};return{list:y,onSelected:D,handleSearchInput:P,params:o,run:g}},useOptionalFieldList=function se(){var j=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollection_deprecated)(),e=j.currentFields,v=e===void 0?[]:e;return v.filter(function(m){return isOptionalField(m)})},isOptionalField=function se(j){var e=["select","multipleSelect","checkbox","checkboxGroup","chinaRegion"];return e.includes(j.interface)&&j.uiSchema.enum},useAssociationFilterBlockProps=function se(){var j,e,v,m,x,u,p=___WEBPACK_IMPORTED_MODULE_18__.AssociationFilter.useAssociationField(),d=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),h=useOptionalFieldList(),t=(0,_filter_provider_FilterProvider__WEBPACK_IMPORTED_MODULE_21__.kO)(),c=t.getDataBlocks,i=p==null?void 0:p.name,a=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useField)(),f=(0,_BlockProvider__WEBPACK_IMPORTED_MODULE_30__.BU)(),l=f.props,n=(0,___WEBPACK_IMPORTED_MODULE_18__.useDataSourceHeaders)(l==null?void 0:l.dataSource),r=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollectionManager_deprecated)(),o=(0,___WEBPACK_IMPORTED_MODULE_18__.useParsedFilter)({filterOption:(j=a.componentProps)===null||j===void 0||(j=j.params)===null||j===void 0?void 0:j.filter}),g=o.filter,y=o.parseVariableLoading,D,P,E,O,T,S,$,Z;S=p!=null&&p.target?(e=r.getCollection(p.target))===null||e===void 0?void 0:e.getPrimaryKey():"id",$=((v=d["x-component-props"])===null||v===void 0||(v=v.fieldNames)===null||v===void 0?void 0:v.label)||S;var K=(0,_api_client__WEBPACK_IMPORTED_MODULE_19__.QT)({headers:n,resource:p==null?void 0:p.target,action:"list",params:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({fields:[$,S],pageSize:200,page:1},(u=a.componentProps)===null||u===void 0?void 0:u.params),{},{filter:g})},{manual:!0,debounceWait:300});if(T=K.data,E=K.params,O=K.run,(0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function(){!isOptionalField(p)&&y===!1&&O()},[p,$,O,S,(m=a.componentProps)===null||m===void 0?void 0:m.params,(x=a.componentProps)===null||x===void 0||(x=x.params)===null||x===void 0?void 0:x.sort,y]),!p)return{};if(isOptionalField(p)){var z,w=h.find(function(L){return L.name===d.name}),A={select:"$in",multipleSelect:"$anyOf",checkbox:"$in",checkboxGroup:"$anyOf"},M=(w==null||(z=w.uiSchema)===null||z===void 0?void 0:z.enum)||[];S="value",$="label",D=M,E={},O=function(){},Z="".concat(w.name,".").concat(A[w.interface]),P=function(N){var B=N.target.value;if(!B){D=M;return}D=M.filter(function(V){return V.label.includes(B)})}}else{var b;Z="".concat(i,".").concat(S,".$in"),D=((b=T)===null||b===void 0?void 0:b.data)||[],P=function(N){var B;O(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},(B=E)===null||B===void 0?void 0:B[0]),{},{filter:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default()({},"".concat($,".$includes"),N.target.value)}))}}var R=function(N){var B=findFilterTargets(d),V=B.targets,U=B.uid;c().forEach(function(I){var F,W,X=V.find(function(H){return H.uid===I.uid});if(X){var J="".concat(U).concat(d.name),C=((F=I.service.params)===null||F===void 0?void 0:F[0])||{},k=((W=I.service.params)===null||W===void 0||(W=W[1])===null||W===void 0?void 0:W.filters)||{};if(N.length)k[J]=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_2___default()({},Z,N);else{if(I.dataLoadingMode==="manual")return I.clearData();delete k[J]}var Y=(0,_filter_provider_utils__WEBPACK_IMPORTED_MODULE_22__.EO)([].concat(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default()(Object.values(k)),[I.defaultFilter]));return I.doFilter(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({},C),{},{page:1,filter:Y}),{filters:k})}})};return{list:D,onSelected:R,handleSearchInput:P,params:E,run:O,valueKey:S,labelKey:$}};function getAssociationPath(se){var j=se.lastIndexOf(".");return j!==-1?se.substring(0,j):se}var useAssociationNames=function se(j){var e=new Set([]),v=new Set([]),m=(0,_collection_manager__WEBPACK_IMPORTED_MODULE_20__.useCollectionManager_deprecated)(j),x=m.getCollectionJoinField,u=m.getCollection,p=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),d=function t(c,i){c.reduceProperties(function(a,f){var l,n=a||i,r=f["x-collection-field"]&&x(f["x-collection-field"],j),o=f.name.includes("."),g=r&&["hasOne","hasMany","belongsTo","belongsToMany"].includes(r.type);if(f["x-linkage-rules"]){var y=function z(w){var A=Object.keys(w)[0]||"$and",M=w[A];M.forEach(function(b){if("$and"in b||"$or"in b)return z(b);var R=getTargetField(b);if(R.length>1){var L=R.join(".");if(f["x-collection-field"]){var N=n?"".concat(n,".").concat(f.name):f.name;v.add("".concat(N,".").concat(L))}else v.add(L)}})},D=f["x-linkage-rules"];D.forEach(function(z){var w=z.condition;y(w)})}var P=g&&((l=u(r.target,j))===null||l===void 0?void 0:l.template)==="tree";if(r&&(g||o)&&f["x-component"]!=="TableField"){var E,O=!g&&o?getAssociationPath(f.name):f.name,T=n===""||!n?O:n+"."+O;if(P)v.add(T),v.add("".concat(T,".parent")+"(recursively=true)");else{var S;if((S=f["x-component-props"])!==null&&S!==void 0&&S.sortArr){var $,Z=($=f["x-component-props"])===null||$===void 0?void 0:$.sortArr;v.add("".concat(T,"(sort=").concat(Z,")"))}else v.add(T)}if(["Nester","SubTable","PopoverNester"].includes((E=f["x-component-props"])===null||E===void 0?void 0:E.mode)){e.add(T);var K=n&&n!==""?n+"."+f.name:f.name;t(f,K)}}else["ActionBar","Action","Action.Link","Action.Modal","Selector","Viewer","AddNewer","AssociationField.Selector","AssociationField.AddNewer","TableField"].includes(f["x-component"])||t(f,i)},i)},h=function(){return e=new Set([]),v=new Set([]),d(p,""),{appends:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default()(v),updateAssociationValues:_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1___default()(e)}};return{getAssociationAppends:h}};function getTargetField(se){function j(x){var u=[];function p(d){Object.keys(d).sort().forEach(function(h){u.push(h),d[h]&&_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_typeof_js__WEBPACK_IMPORTED_MODULE_6___default()(d[h])==="object"&&p(d[h])})}return p(x),u}var e=j(se),v=lodash_findIndex__WEBPACK_IMPORTED_MODULE_16___default()(e,function(x,u){if(x.includes("$")&&u>0)return!0}),m=e.slice(0,v);return m}function resetFormCorrectly(se){return _resetFormCorrectly.apply(this,arguments)}function _resetFormCorrectly(){return _resetFormCorrectly=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function se(j){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return(0,_formily_reactive__WEBPACK_IMPORTED_MODULE_12__.untracked)(function(){Object.keys(j.fields).forEach(function(m){(0,_schema_component_antd_association_field_util__WEBPACK_IMPORTED_MODULE_26__.r$)(j.fields[m])&&(j.fields[m].initialValue=null)})}),v.next=3,j.reset();case 3:case"end":return v.stop()}},se)})),_resetFormCorrectly.apply(this,arguments)}function replaceVariableValue(se,j,e){return _replaceVariableValue.apply(this,arguments)}function _replaceVariableValue(){return _replaceVariableValue=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function se(j,e,v){var m,x,u,p,d,h;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(j){c.next=2;break}return c.abrupt("return");case 2:return m=_nocobase_evaluators_client__WEBPACK_IMPORTED_MODULE_36__.evaluators.get("string"),x=m.evaluate,c.next=5,(0,_schema_settings_LinkageRules_bindLinkageRulesToFiled__WEBPACK_IMPORTED_MODULE_37__.bU)(j,{variables:e,localVariables:v});case 5:return u=c.sent,p=u.exp,d=u.scope,c.prev=8,h=x(p,_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3___default()({now:function(){return new Date().toString()}},d)),c.abrupt("return",h);case 13:c.prev=13,c.t0=c.catch(8),(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.captureException)(c.t0);case 16:case"end":return c.stop()}},se,null,[[8,13]])})),_replaceVariableValue.apply(this,arguments)}function reduceValueSize(se){if(lodash__WEBPACK_IMPORTED_MODULE_8___default().isPlainObject(se)){var j={};return Object.keys(se).forEach(function(e){lodash__WEBPACK_IMPORTED_MODULE_8___default().isPlainObject(se[e])||lodash__WEBPACK_IMPORTED_MODULE_8___default().isArray(se[e])||lodash__WEBPACK_IMPORTED_MODULE_8___default().isString(se[e])&&se[e].length>100||(j[e]=se[e])}),j}return lodash__WEBPACK_IMPORTED_MODULE_8___default().isArray(se)?se.map(function(e){return lodash__WEBPACK_IMPORTED_MODULE_8___default().isPlainObject(e)||lodash__WEBPACK_IMPORTED_MODULE_8___default().isArray(e)?reduceValueSize(e):e}):se}function parseVariablesAndChangeParamsToQueryString(se){return _parseVariablesAndChangeParamsToQueryString.apply(this,arguments)}function _parseVariablesAndChangeParamsToQueryString(){return _parseVariablesAndChangeParamsToQueryString=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function se(j){var e,v,m,x,u,p,d,h,t,c,i;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return e=j.searchParams,v=j.variables,m=j.localVariables,x=j.replaceVariableValue,f.next=3,Promise.all(e.map(function(){var l=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function n(r){var o,g,y,D,P;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(o=r.name,g=r.value,typeof g!="string"){O.next=15;break}if(!(0,_variables_utils_isVariable__WEBPACK_IMPORTED_MODULE_44__.cG)(g)){O.next=11;break}return O.next=5,v.parseVariable(g,m);case 5:if(O.t0=O.sent,O.t0){O.next=8;break}O.t0={};case 8:return y=O.t0,D=y.value,O.abrupt("return",{name:o,value:D});case 11:return O.next=13,x(g,v,m);case 13:return P=O.sent,O.abrupt("return",{name:o,value:P});case 15:return O.abrupt("return",{name:o,value:g});case 16:case"end":return O.stop()}},n)}));return function(n){return l.apply(this,arguments)}}()));case 3:u=f.sent,p={},d=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0___default()(u);try{for(d.s();!(h=d.n()).done;)t=h.value,c=t.name,i=t.value,c&&i&&(p[c]=reduceValueSize(i))}catch(l){d.e(l)}finally{d.f()}return f.abrupt("return",qs__WEBPACK_IMPORTED_MODULE_35___default().stringify(p));case 8:case"end":return f.stop()}},se)})),_parseVariablesAndChangeParamsToQueryString.apply(this,arguments)}function appendQueryStringToUrl(se,j){return j?se+(se.includes("?")?"&":"?")+j:se}var useParseURLAndParams=function se(){var j=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.OQ)(),e=(0,_variables__WEBPACK_IMPORTED_MODULE_28__.Kp)(),v=(0,react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function(){var m=_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function x(u,p){var d,h,t;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,parseVariablesAndChangeParamsToQueryString({searchParams:p,variables:j,localVariables:e,replaceVariableValue});case 2:return d=i.sent,i.next=5,replaceVariableValue(u,j,e);case 5:return h=i.sent,t=appendQueryStringToUrl(h,d),i.abrupt("return",t);case 8:case"end":return i.stop()}},x)}));return function(x,u){return m.apply(this,arguments)}}(),[j,e]);return{parseURLAndParams:v}};function completeURL(se){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.origin;return se?(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(se)?se:se.startsWith("/")?"".concat(j).concat(se):"".concat(j,"/").concat(se):""}function navigateWithinSelf(se,j){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.location.origin;if(!lodash__WEBPACK_IMPORTED_MODULE_8___default().isString(se))return(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.captureException)("link should be a string");(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.isURL)(se)?se.startsWith(e)?j(se.replace(e,"")):window.open(se,"_self"):j(se.startsWith("/")?se:"/".concat(se))}function useLinkActionProps(){var se,j,e,v,m,x=(0,_formily_react__WEBPACK_IMPORTED_MODULE_13__.useFieldSchema)(),u=(0,react_i18next__WEBPACK_IMPORTED_MODULE_47__.$)(),p=u.t,d=x==null||(se=x["x-component-props"])===null||se===void 0?void 0:se.url,h=(x==null||(j=x["x-component-props"])===null||j===void 0?void 0:j.params)||[],t=x==null||(e=x["x-component-props"])===null||e===void 0?void 0:e.openInNewWindow,c=useParseURLAndParams(),i=c.parseURLAndParams,a=antd__WEBPACK_IMPORTED_MODULE_46__.Z.useApp(),f=a.message,l=(v=x==null||(m=x["x-component-props"])===null||m===void 0?void 0:m.type)!==null&&v!==void 0?v:"default",n=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_45__.useNavigate)();return{type:l,onClick:function(){return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5___default()(_Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().mark(function o(){var g;return _Users_leroy_Documents_nocode_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4___default()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(d){D.next=3;break}return f.warning(p("Please configure the URL")),D.abrupt("return");case 3:return D.next=5,i(d,h);case 5:g=D.sent,g?t?window.open(completeURL(g),"_blank"):navigateWithinSelf(g,n):(0,_nocobase_utils_client__WEBPACK_IMPORTED_MODULE_17__.captureException)("link should be a string");case 7:case"end":return D.stop()}},o)}))()}}}},94658:function(se,j,e){"use strict";e.d(j,{M:function(){return m}});var v=e(21143),m=function(u){var p,d=u.association,h=(0,v.useCollectionRecordData)(),t=(0,v.useCollectionParentRecordData)(),c=(0,v.useCollectionManager)(),i=(0,v.useCollection)();if(d){var a=c.getCollection(d.split(".")[0]);return i.name===a.name||(p=i.getParentCollectionsName)!==null&&p!==void 0&&p.call(i).includes(a.name)?h:t}}},44899:function(se,j,e){"use strict";e.d(j,{T:function(){return u},z:function(){return p}});var v=e(67294),m=e(85893),x=(0,v.createContext)(null),u=function(h){var t=h.children,c=h.name,i=h.getActiveFieldsName,a=h.addActiveFieldName,f=h.removeActiveFieldName,l=(0,v.useRef)(new Set),n=(0,v.useContext)(x),r=(0,v.useMemo)(function(){return{getActiveFieldsName:i||function(o){return!o||o===c?Array.from(l.current):n==null?void 0:n.getActiveFieldsName(o)},addActiveFieldName:a||function(o){l.current.add(o)},removeActiveFieldName:f||function(o){l.current.delete(o)},name:c,parent:n}},[a,i,c,f,n]);return(0,m.jsx)(x.Provider,{value:r,children:t})},p=function(){return(0,v.useContext)(x)}},51899:function(se,j,e){"use strict";e.d(j,{D:function(){return p},c:function(){return u}});var v=e(67294),m=e(6145),x=e(44899),u=function(){var h=(0,m.useCollection_deprecated)(),t=h.fields,c=(0,x.z)()||{},i=c.getActiveFieldsName;return(0,v.useCallback)(function(){var a=(i==null?void 0:i("form"))||[],f=t.filter(function(l){return l.interface==="attachment"});return f.filter(function(l){return a.includes(l.name)})},[t,i])},p=function(h){return typeof h!="string"?h:h.startsWith("/storage/uploads/")?"".concat(location.origin).concat(h):h}},12929:function(se,j,e){"use strict";e.d(j,{v:function(){return D}});var v=e(9783),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(5574),t=e.n(h),c=e(85667),i=e(70173),a=e(96486),f=e.n(a),l=e(67294),n=e(81560),r=e(25813),o=e(90615),g=e(44256),y=e(76690);function D(P){var E=P.filterOption,O=(0,n._Y)(),T=O.parseFilter,S=O.findVariable,$=(0,l.useState)({}),Z=t()($,2),K=Z[0],z=Z[1],w=(0,l.useState)(!!E),A=t()(w,2),M=A[0],b=A[1];return(0,l.useEffect)(function(){if(E){var R=function(){var N=d()(u()().mark(function B(){var V;return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return b(!0),I.next=3,T(E);case 3:V=I.sent,b(!1),z(V);case 6:case"end":return I.stop()}},B)}));return function(){return N.apply(this,arguments)}}();R();var L=f().debounce(R,r.on);(0,c.reaction)(function(){var N=(0,i.flatten)(E,{breakOn:function(V){var U=V.key;return U.startsWith("$")&&U!=="$and"&&U!=="$or"},transformValue:function(V){if(!(0,y.cG)(V))return V;var U=(0,g.H)(V),I=S(U),F=null,W=(0,o.D)(V),X=W.split(".");return X.forEach(function(J,C){var k=X.slice(0,C+1).join("."),Y=(0,i.getValuesByPath)(m()({},U,(I==null?void 0:I.ctx)||{}),k);f().isEmpty(Y)||(F=Y)}),F}});return N},L,{equals:f().isEqual})}},[JSON.stringify(E),T,S]),{filter:K,parseVariableLoading:M}}},73463:function(se,j,e){"use strict";var v=e(21143),m=e(67294),x=e(85893),u=function(){return(0,x.jsxs)("svg",{width:"156",height:"119",viewBox:"0 0 156 119",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,x.jsx)("path",{opacity:"0.5",d:"M77.9297 118.703C120.969 118.703 155.859 103.75 155.859 85.3047C155.859 66.8592 120.969 51.9062 77.9297 51.9062C34.8903 51.9062 0 66.8592 0 85.3047C0 103.75 34.8903 118.703 77.9297 118.703Z",fill:"url(#paint0_linear_10_2224)"}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.344 65.8676C127.709 66.8318 133.299 57.6781 137.739 43.2454C142.179 28.8128 142.477 19.3816 139.112 18.4174C135.747 17.4533 125.598 25.8169 121.713 39.3579C117.827 52.899 120.979 64.9034 124.344 65.8676Z",fill:"url(#paint1_linear_10_2224)"}),(0,x.jsxs)("g",{opacity:"0.8",children:[(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M136.109 25.1609C130.945 33.6115 127.624 40.3959 126.144 45.5143C124.665 50.6327 124.065 57.4171 124.344 65.8677",fill:"url(#paint2_linear_10_2224)"}),(0,x.jsx)("path",{d:"M136.109 25.1609C130.945 33.6115 127.624 40.3959 126.144 45.5143C124.665 50.6327 124.065 57.4171 124.344 65.8677",stroke:"white",strokeWidth:"2"})]}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.344 65.8676C122.356 64.5274 126.001 59.4664 132.81 51.7338C139.618 44.0013 143.363 42.661 145.352 44.0013C147.34 45.3415 146.239 52.9471 140.49 59.6001C134.741 66.2531 126.333 67.2078 124.344 65.8676Z",fill:"url(#paint3_linear_10_2224)"}),(0,x.jsxs)("g",{opacity:"0.8",children:[(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.359 50.5674C139.098 54.0456 136.602 57.1932 133.871 60.0101C131.139 62.8269 128.218 64.7795 125.108 65.8677",fill:"url(#paint4_linear_10_2224)"}),(0,x.jsx)("path",{d:"M141.359 50.5674C139.098 54.0456 136.602 57.1932 133.871 60.0101C131.139 62.8269 128.218 64.7795 125.108 65.8677",stroke:"white",strokeWidth:"2"})]}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.8018 76.502C30.2821 76.942 27.7577 72.7647 25.7525 66.1784C23.7473 59.592 23.613 55.2881 25.1327 54.8481C26.6524 54.4081 31.2354 58.2248 32.9903 64.4043C34.7451 70.5837 33.3215 76.0619 31.8018 76.502Z",fill:"url(#paint5_linear_10_2224)"}),(0,x.jsx)("path",{opacity:"0.8",d:"M26.4885 57.9255C28.8207 61.782 30.3208 64.878 30.9889 67.2138C31.657 69.5496 31.9279 72.6457 31.8018 76.5021",stroke:"white"}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.8018 76.502C32.6998 75.8904 31.0535 73.5808 27.9787 70.0521C24.9039 66.5233 23.2126 65.9117 22.3146 66.5233C21.4166 67.1349 21.914 70.6057 24.5102 73.6418C27.1063 76.6779 30.9038 77.1136 31.8018 76.502Z",fill:"url(#paint6_linear_10_2224)"}),(0,x.jsx)("path",{opacity:"0.8",d:"M24.1178 69.5198C25.1386 71.1071 26.2659 72.5435 27.4996 73.8289C28.7333 75.1144 30.0523 76.0055 31.4568 76.5021",stroke:"white"}),(0,x.jsx)("path",{d:"M73.2021 51.134C69.9186 54.4175 69.9186 59.5507 73.2021 62.8342C76.4857 66.1178 81.6188 66.1178 84.9023 62.8342C88.1859 59.5507 88.1859 54.4175 84.9023 51.134C81.411 47.84 76.2778 47.84 73.2021 51.134ZM54.4098 33.0321C52.0349 35.1329 52.0624 38.7432 54.1462 41.1331C56.6725 44.0306 61.16 43.9516 64.3219 41.7652C73.3858 35.4975 84.935 35.5012 93.996 41.7762C97.1479 43.959 101.623 44.0375 104.143 41.1478C106.231 38.7532 106.246 35.1334 103.857 33.0392C89.2105 20.2003 68.9184 20.198 54.4098 33.0321ZM39.8595 16.224C37.5118 18.4683 37.5278 22.152 39.6659 24.5967C42.2505 27.5518 46.8347 27.5061 49.8032 24.9367C67.1048 9.96145 90.987 9.95855 108.291 24.928C111.266 27.5012 115.858 27.5471 118.447 24.5866C120.583 22.1452 120.607 18.4682 118.27 16.219C95.7981 -5.40801 62.487 -5.40635 39.8595 16.224Z",fill:"url(#paint7_linear_10_2224)"}),(0,x.jsxs)("defs",{children:[(0,x.jsxs)("linearGradient",{id:"paint0_linear_10_2224",x1:"77.9297",y1:"51.9062",x2:"77.9297",y2:"94.0401",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FF5C00",stopOpacity:"0.397332"}),(0,x.jsx)("stop",{offset:"0.645833",stopColor:"#FF5C00",stopOpacity:"0.0661698"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FF5C00",stopOpacity:"0"})]}),(0,x.jsxs)("linearGradient",{id:"paint1_linear_10_2224",x1:"135.253",y1:"18.7466",x2:"125.097",y2:"61.6861",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FFF5F1"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FFC6AD"})]}),(0,x.jsxs)("linearGradient",{id:"paint2_linear_10_2224",x1:"129.536",y1:"26.2916",x2:"131.476",y2:"62.38",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FFF5F1"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FFC6AD"})]}),(0,x.jsxs)("linearGradient",{id:"paint3_linear_10_2224",x1:"144.546",y1:"44.4591",x2:"128.855",y2:"65.8661",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FFF5F1"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FFC6AD"})]}),(0,x.jsxs)("linearGradient",{id:"paint4_linear_10_2224",x1:"132.331",y1:"50.9924",x2:"132.531",y2:"64.593",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FFF5F1"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FFC6AD"})]}),(0,x.jsxs)("linearGradient",{id:"paint5_linear_10_2224",x1:"26.85",y1:"55.0103",x2:"31.472",y2:"74.5907",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FFF5F1"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FFC6AD"})]}),(0,x.jsxs)("linearGradient",{id:"paint6_linear_10_2224",x1:"22.6477",y1:"66.7536",x2:"29.7821",y2:"76.4804",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FFF5F1"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FFC6AD"})]}),(0,x.jsxs)("linearGradient",{id:"paint7_linear_10_2224",x1:"74.2608",y1:"1.8138",x2:"74.9475",y2:"59.8615",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#FF6D2F"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#FA9D75"})]})]})]})};j.Z=function(){return(0,x.jsx)(v.Icon,{component:u})}},79531:function(se,j,e){"use strict";e.d(j,{WJ:function(){return v.WJ},Qj:function(){return v.Qj},ZJ:function(){return v.ZJ},br:function(){return v.br},M0:function(){return v.M0},wH:function(){return v.wH},jF:function(){return oe},UC:function(){return re},LR:function(){return ie.LR},nw:function(){return ie.nw},WI:function(){return fe},T2:function(){return G.FormActiveFieldsProvider},TC:function(){return A.TC},$R:function(){return A.$R},uW:function(){return de.uW},$1:function(){return de.$1},bH:function(){return v.bH},hD:function(){return v.hD},gY:function(){return v.gY},Hz:function(){return ue.Hz},_0:function(){return ue._0},Q6:function(){return Se.Q6},CB:function(){return Se.CB},Qy:function(){return Se.Qy},Yu:function(){return ae.Yu},Vs:function(){return ae.Vs},rL:function(){return ae.rL},$Y:function(){return de.$Y},s:function(){return Se.s},HQ:function(){return G.appendQueryStringToUrl},h2:function(){return G.baseModalConfig},jR:function(){return G.completeURL},SK:function(){return G.findFilterTargets},Fi:function(){return A.Fi},dP:function(){return G.getAssociationPath},X7:function(){return G.getFormValues},Ns:function(){return ue.Ns},Xi:function(){return G.getSkipValidatePathRegex},PJ:function(){return G.mobileModalMessageCss},nl:function(){return G.navigateWithinSelf},_f:function(){return G.parseVariablesAndChangeParamsToQueryString},zA:function(){return ae.br},ID:function(){return G.reduceValueSize},NB:function(){return G.refreshBlockByIds},UY:function(){return G.replaceVariableValue},iJ:function(){return G.updateFilterTargets},Yo:function(){return G.useAssociationCreateActionProps},_S:function(){return G.useAssociationFilterBlockProps},rD:function(){return G.useAssociationFilterProps},P_:function(){return G.useAssociationNames},DD:function(){return v.DD},VG:function(){return v.VG},BU:function(){return v.BU},lT:function(){return v.lT},ns:function(){return G.useBulkDestroyActionProps},Xe:function(){return G.useCollectValuesToSubmit},Zx:function(){return G.useControlShowBlock},cD:function(){return G.useCreateActionProps},UQ:function(){return G.useCustomizeBulkUpdateActionProps},xx:function(){return G.useCustomizeRequestActionProps},X0:function(){return G.useCustomizeUpdateActionProps},M_:function(){return G.useDataBlockParentRecord},z2:function(){return G.useDestroyActionProps},wr:function(){return G.useDetailPrintActionProps},nT:function(){return ie.nT},BX:function(){return ie.BX},bF:function(){return G.useDetailsPaginationProps},ii:function(){return G.useDisassociateActionProps},Oy:function(){return G.useFilterBlockActionProps},C:function(){return v.C},zj:function(){return G.useFormActiveFields},bz:function(){return A.bz},_$:function(){return A._$},th:function(){return A.th},e$:function(){return de.e$},GK:function(){return de.GK},WG:function(){return A.WG},ee:function(){return G.useLinkActionProps},Lh:function(){return G.useOptionalFieldList},MM:function(){return v.MM},VC:function(){return G.useParseURLAndParams},vs:function(){return G.useParsedFilter},St:function(){return G.usePickActionProps},Xk:function(){return G.useRefreshActionProps},VR:function(){return G.useRemoveActionProps},NP:function(){return G.useResetBlockActionProps},m:function(){return v.m},e0:function(){return v.e0},Si:function(){return ue.Si},Wx:function(){return Se.Wx},oA:function(){return Se.oA},CL:function(){return ae.CL},RP:function(){return ae.RP},HD:function(){return G.useUpdateActionProps}});var v=e(23782),m=e(15009),x=e.n(m),u=e(99289),p=e.n(u),d=e(12444),h=e.n(d),t=e(72004),c=e.n(t),i=e(31996),a=e.n(i),f=e(26037),l=e.n(f),n=e(97857),r=e.n(n),o=e(15771),g=e(67294),y=e(31601),D=e(50679),P=e(85893),E=function(be){return(0,P.jsx)(D.M,r()({initializer:!1,showBorder:!1,showBackground:!0},be))},O=e(16966),T=e(21109),S=e(31793),$=e(80159),Z=e(95216),K=e(3169),z=e(92700);function w(ce){var be;return ce.association&&(be=(0,z._)(ce.association)),{parentRecord:be}}var A=e(7340);function M(){return(0,A._$)()}function b(ce){var be=R(),xe;return ce.association&&(xe=(0,$.j)(ce.association)),{params:be,parentRecord:xe}}function R(){return(0,v.MM)()}function L(){return(0,A._$)()}var N=e(96486),B=e(20046);function V(ce){var be=(0,B.s)(ce),xe=be.params,ge=be.parseVariableLoading,he;return ce.association&&(he=(0,z._)(ce.association)),{params:xe,parentRecord:he,parseVariableLoading:ge}}var U=N.noop,I=N.noop;function F(ce){var be;return ce.association&&(be=(0,z._)(ce.association)),{parentRecord:be}}function W(){}var X=e(31463),J=e(23639),C=e(44112),k=e(81560),Y=function(be){return(0,P.jsx)(k.Mf,r()({initializer:!1},be))};function H(){}function te(){}function le(){return(0,A._$)()}var ne=e(98427),ie=e(35964),ee=e(90635),fe=(0,ee.t)(function(ce){return(0,P.jsx)(ne.iNu,{value:{utc:!1},children:(0,P.jsx)(k.yT,{isAllowToSetDefaultValue:function(){return!1},children:(0,P.jsx)(A.$R,r()({name:"filter-form"},ce))})})}),de=e(71176),ue=e(1892),Se=e(23523),ae=e(78899),G=e(19958),re=function(be){return(0,P.jsx)(ne.G0E,{components:{TableFieldProvider:Se.CB,TableBlockProvider:ue._0,TableSelectorProvider:ae.rL,FormBlockProvider:A.$R,FilterFormBlockProvider:fe,FormFieldProvider:de.$1,DetailsBlockProvider:ie.nw,RecordLink:v.hD,Slider:o.Z},scope:r()(r()({},G),{},{useSourceIdFromRecord:v.e0,useSourceIdFromParentRecord:v.m,useParamsFromRecord:v.MM,useFormBlockProps:A._$,useCreateFormBlockProps:M,useCreateFormBlockDecoratorProps:w,useEditFormBlockDecoratorProps:b,useEditFormBlockProps:L,useFormFieldProps:de.GK,useDetailsBlockProps:ie.BX,useDetailsProps:Z.o,useDetailsWithPaginationProps:S.t,useDetailsDecoratorProps:$.d,useDetailsWithPaginationDecoratorProps:T.e,useTableFieldProps:Se.oA,useTableBlockProps:C.G,useTableSelectorProps:ae.RP,useTableBlockDecoratorProps:J.c,useListBlockDecoratorProps:F,useTableSelectorDecoratorProps:W,useCollapseBlockDecoratorProps:H,useFilterFormBlockProps:le,useFilterFormBlockDecoratorProps:te,useGridCardBlockDecoratorProps:V}),children:be.children})},oe=function(ce){a()(xe,ce);var be=l()(xe);function xe(){return h()(this,xe),be.apply(this,arguments)}return c()(xe,[{key:"load",value:function(){var ge=p()(x()().mark(function Pe(){return x()().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:this.addComponents(),this.addScopes();case 2:case"end":return Be.stop()}},Pe,this)}));function he(){return ge.apply(this,arguments)}return he}()},{key:"addComponents",value:function(){this.app.addComponents({TableFieldProvider:Se.CB,TableBlockProvider:ue._0,TableSelectorProvider:ae.rL,FormBlockProvider:A.$R,FilterFormBlockProvider:fe,FormFieldProvider:de.$1,DetailsBlockProvider:ie.nw,RecordLink:v.hD,BlockSchemaToolbar:O.G,ActionSchemaToolbar:E,FormItemSchemaToolbar:K.O,CollapseItemSchemaToolbar:Y,TableColumnSchemaToolbar:X.u,Slider:o.Z})}},{key:"addScopes",value:function(){this.app.addScopes(r()(r()({},G),{},{useSourceIdFromRecord:v.e0,useSourceIdFromParentRecord:v.m,useParamsFromRecord:v.MM,useFormBlockProps:A._$,useCreateFormBlockProps:M,useCreateFormBlockDecoratorProps:w,useEditFormBlockDecoratorProps:b,useEditFormBlockProps:L,useFormFieldProps:de.GK,useDetailsBlockProps:ie.BX,useDetailsProps:Z.o,useDetailsWithPaginationProps:S.t,useDetailsDecoratorProps:$.d,useDetailsWithPaginationDecoratorProps:T.e,useTableFieldProps:Se.oA,useTableBlockProps:C.G,useTableSelectorProps:ae.RP,useTableBlockDecoratorProps:J.c,useListBlockDecoratorProps:F,useTableSelectorDecoratorProps:W,useCollapseBlockDecoratorProps:H,useFilterFormBlockProps:le,useFilterFormBlockDecoratorProps:te,useGridCardBlockDecoratorProps:V,useGridCardBlockProps:U,useGridCardBlockItemProps:I}))}}]),xe}(y.S)},84257:function(se,j,e){"use strict";e.d(j,{m:function(){return l}});var v=e(19632),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(70173),h=e(67294),t=e(21143),c=e(72029),i=e(85893),a=function(r){var o=(0,p.useField)(),g=o.componentProps.maxLevel;return(0,c.QT)({resource:"chinaRegions",action:"list",params:{sort:"code",paginate:!1,filter:{level:1}}},u()(u()({},r),{},{onSuccess:function(D){var P;r==null||r.onSuccess({data:(D==null||(P=D.data)===null||P===void 0?void 0:P.map(function(E){return g!==1&&(E.isLeaf=!1),E}))||[]})}}))},f=function(){var r=(0,c.LY)(),o=(0,p.useField)(),g=o.componentProps.maxLevel;return function(y){var D,P=y[y.length-1];(P==null||(D=P.children)===null||D===void 0?void 0:D.length)>0||(P.loading=!0,r.resource("chinaRegions").list({sort:"code",paginate:!1,filter:{parentCode:P.code}}).then(function(E){var O,T=E.data;P.loading=!1,P.children=(T==null||(O=T.data)===null||O===void 0?void 0:O.map(function(S){return g>S.level&&(S.isLeaf=!1),S}))||[],o.dataSource=m()(o.dataSource)}).catch(function(E){(0,d.error)(E)}))}},l=function(r){return(0,i.jsx)(t.SchemaComponentOptions,{scope:{useChinaRegionDataSource:a,useChinaRegionLoadData:f},children:r.children})}},67574:function(se,j,e){"use strict";e.d(j,{LE:function(){return f},iJ:function(){return a},nh:function(){return l}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(67294),d=e(89250),h=e(72029),t=e(99501),c=e(85893),i=(0,p.createContext)({historyCollections:[],refreshCH:function(){}});i.displayName="CollectionHistoryContext";var a=function(r){var o,g=(0,h.LY)(),y={resource:"collectionsHistory",action:"list",params:{paginate:!1,appends:["fields"],filter:{},sort:["sort"]}},D=(0,d.useLocation)(),P=D.pathname.startsWith("/app"),E=g.auth.getToken()||"",O=(0,t.r)(),T=O.render,S=(0,h.QT)(y,{refreshDeps:[P,E],ready:!!(P&&E)}),$=function(){var Z=u()(m()().mark(function K(){var z,w;return m()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,g.request(y);case 2:return z=M.sent,w=z.data,S.mutate(w),M.abrupt("return",(w==null?void 0:w.data)||[]);case 6:case"end":return M.stop()}},K)}));return function(){return Z.apply(this,arguments)}}();return S.loading?T():(0,c.jsx)(i.Provider,{value:{historyCollections:(o=S.data)===null||o===void 0?void 0:o.data,refreshCH:$},children:r.children})},f=function(r){var o=(0,p.useContext)(i),g=o.historyCollections;return g.filter(function(y){return r.includes(y.name)})},l=function(){return(0,p.useContext)(i)}},54195:function(se,j,e){"use strict";e.d(j,{Bv:function(){return y},Fq:function(){return g},GP:function(){return o}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(67294),t=e(72029),c=e(76896),i=e(91970),a=e(35746),f=e(13511),l=e(67574),n=e(74614),r=e(85893),o=function(P){return(0,r.jsx)(a.xw,{children:(0,r.jsx)(c.E,{children:P.children})})},g=function(P){var E=(0,t.LY)(),O=(0,f.fp)(),T=(0,n.qD)(),S=(0,l.nh)(),$=S.refreshCH,Z={url:"collectionCategories:list",params:{paginate:!1,sort:["sort"]}},K=(0,t.QT)(function(){return O.reload().then($)}),z=(0,t.QT)(Z);if(K.loading){var w;return T==null||(w=T.renderComponent)===null||w===void 0?void 0:w.call(T,"AppSkeleton")}var A=function(){var M=d()(u()().mark(function b(){var R,L;return u()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,E.request(Z);case 2:return R=B.sent,L=R.data,z.mutate(L),B.abrupt("return",(L==null?void 0:L.data)||[]);case 6:case"end":return B.stop()}},b)}));return function(){return M.apply(this,arguments)}}();return(0,r.jsx)(y,{service:m()({},z),refreshCategory:A,children:(0,r.jsx)(o,m()({},P))})},y=function(P){var E,O=P.service,T=P.refreshCategory;return(0,r.jsx)(i.l.Provider,{value:m()({data:O==null||(E=O.data)===null||E===void 0?void 0:E.data,refresh:T},P),children:P.children})}},76896:function(se,j,e){"use strict";e.d(j,{E:function(){return c}});var v=e(97857),m=e.n(v),x=e(67294),u=e(21143),p=e(6145),d=e(44355),h=e(40802),t=e(85893),c=function(a){return(0,t.jsx)(u.SchemaComponentOptions,{scope:{cm:m()(m()({},d),{},{useDataSourceFromRAC:p.useDataSourceFromRAC}),ds:h.ds},components:{SubFieldDataSourceProvider_deprecated:h.m1,DataSourceProvider_deprecated:h.PI,CollectionProvider_deprecated:p.CollectionProvider_deprecated,ResourceActionProvider:p.ResourceActionProvider},children:a.children})}},52028:function(se,j,e){"use strict";e.d(j,{o:function(){return p}});var v=e(58837),m=e(35746),x=e(67294),u=e(85893),p=function(h){var t=h.children,c=h.allowNull,i=h.name,a=h.dataSource,f=h.collection;return a?(0,u.jsx)(m.xw,{dataSource:a,children:(0,u.jsx)(v.YQ,{allowNull:c,name:i||f,children:t})}):(0,u.jsx)(v.YQ,{allowNull:c,name:i||f,children:t})}},2759:function(se,j,e){"use strict";e.d(j,{b4:function(){return ft},F3:function(){return vt},rz:function(){return ne},eD:function(){return ie},WJ:function(){return sn},N8:function(){return jn},hU:function(){return En},Hr:function(){return An},CE:function(){return gn},fe:function(){return hn},_L:function(){return $t},Qb:function(){return Rt},g3:function(){return Dt},qF:function(){return he},b3:function(){return Pe},oq:function(){return jt},Np:function(){return rn},s9:function(){return W},kO:function(){return Le},DF:function(){return Te},c9:function(){return U},vw:function(){return N},sc:function(){return I},Tf:function(){return St},Z9:function(){return Tt},rs:function(){return yt},YE:function(){return V},_i:function(){return F},$E:function(){return Oe},JN:function(){return X},HO:function(){return B},xs:function(){return Ue},eu:function(){return je},x8:function(){return qt},tM:function(){return Gt},jI:function(){return te},RD:function(){return mn},aX:function(){return Dn},EB:function(){return ut},d8:function(){return Kt}});var v={};e.r(v),e.d(v,{ForeignKey:function(){return W},SourceCollection:function(){return U},SourceForeignKey:function(){return N},SourceKey:function(){return I},TargetForeignKey:function(){return V},TargetKey:function(){return F},ThroughCollection:function(){return X},ThroughForeignKey:function(){return B}});var m=e(86201),x=e(5574),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(9783),i=e.n(c),a=e(97857),f=e.n(a),l=e(72240),n=e(57134),r=e(94350),o=e(84327),g=e(85418),y=e(15867),D=e(96486),P=e(67294),E=e(26793),O=e(72029),T=e(36586),S=e(98427),$=e(63250),Z=e(44355),K=e(29796),z=e(80347),w=function(){var gt=(0,z._S)(),wt=gt.data.database,Vt=function(zt){return(wt==null?void 0:wt.dialect)===zt};return{isDialect:Vt,dialect:wt==null?void 0:wt.dialect}},A=w,M=e(34041),b=e(49288),R=e(85893),L=["string","bigInt","integer","uuid","uid"],N=(0,r.observer)(function(){var Yt=(0,T.a)(),gt=(0,K.Bu)(),wt=gt.getCollection,Vt=Yt!=null&&Yt.collectionName?wt(Yt.collectionName):Yt,It=(0,r.useField)(),zt=(0,r.useForm)(),In=(0,K.Bu)(),Tn=In.getCollectionFields;return(0,R.jsx)("div",{children:(0,R.jsx)(M.default,{allowClear:!0,placeholder:"\u7559\u7A7A\u65F6\uFF0C\u81EA\u52A8\u751F\u6210 FK \u5B57\u6BB5",disabled:It.disabled,value:It.value,options:Tn(Vt.name).filter(function(en){return en.type}).map(function(en){var qn;return{label:(en==null||(qn=en.uiSchema)===null||qn===void 0?void 0:qn.title)||en.name,value:en.name}})})})},{displayName:"SourceForeignKey"}),B=(0,r.observer)(function(){var Yt=(0,r.useField)(),gt=(0,r.useForm)(),wt=(0,K.Bu)(),Vt=wt.getCollectionFields;return(0,R.jsx)("div",{children:(0,R.jsx)(M.default,{allowClear:!0,popupMatchSelectWidth:!1,placeholder:"\u7559\u7A7A\u65F6\uFF0C\u81EA\u52A8\u751F\u6210 FK \u5B57\u6BB5",disabled:Yt.disabled,value:Yt.value,options:Vt(gt.values.through).filter(function(It){return It.type}).map(function(It){var zt;return{label:(It==null||(zt=It.uiSchema)===null||zt===void 0?void 0:zt.title)||It.name,value:It.name}})})})},{displayName:"ThroughForeignKey"}),V=(0,r.observer)(function(){var Yt=(0,r.useField)(),gt=(0,r.useForm)(),wt=(0,K.Bu)(),Vt=wt.getCollectionFields;return(0,R.jsx)("div",{children:(0,R.jsx)(M.default,{allowClear:!0,popupMatchSelectWidth:!1,placeholder:"\u7559\u7A7A\u65F6\uFF0C\u81EA\u52A8\u751F\u6210 FK \u5B57\u6BB5",disabled:Yt.disabled,value:Yt.value,options:Vt(gt.values.target).filter(function(It){return It.type}).map(function(It){var zt;return{label:(It==null||(zt=It.uiSchema)===null||zt===void 0?void 0:zt.title)||It.name,value:It.name}})})})},{displayName:"TargetForeignKey"}),U=(0,r.observer)(function(){var Yt=(0,T.a)(),gt=(0,K.Bu)(),wt=gt.getCollection,Vt=Yt!=null&&Yt.collectionName?wt(Yt.collectionName):Yt,It=(0,S.eJW)();return(0,R.jsx)("div",{children:(0,R.jsx)(M.default,{disabled:!0,popupMatchSelectWidth:!1,value:Vt.name,options:[{value:Vt.name,label:It(Vt.title)}]})})},{displayName:"SourceCollection"}),I=(0,r.observer)(function(Yt){var gt,wt,Vt=(0,T.a)(),It=Vt.sourceKey,zt=Vt.collectionName,In=Vt.name,Tn=(0,K.Bu)(),en=Tn.getCollection,qn=(0,r.useField)(),er=(0,S.eJW)(),ar=(gt=en(zt||In).fields)===null||gt===void 0?void 0:gt.filter(function(nr){return nr.primaryKey||nr.unique}).map(function(nr){var rr;return{value:nr.name,label:er(((rr=nr.uiSchema)===null||rr===void 0?void 0:rr.title)||nr.name)}});return(0,P.useEffect)(function(){var nr;qn.initialValue=(ar==null||(nr=ar[0])===null||nr===void 0?void 0:nr.value)||It},[]),(0,R.jsx)("div",{children:(0,R.jsx)(M.default,{disabled:It,options:ar,defaultValue:It||(ar==null||(wt=ar[0])===null||wt===void 0?void 0:wt.value),onChange:Yt==null?void 0:Yt.onChange,showSearch:!0})})},{displayName:"SourceKey"}),F=(0,r.observer)(function(Yt){var gt=Yt.value,wt=Yt.disabled,Vt=(0,T.a)(),It=Vt.targetKey,zt=Vt.target,In=Vt.type,Tn=(0,K.Bu)(),en=Tn.getCollection,qn=(0,P.useState)([]),er=u()(qn,2),ar=er[0],nr=er[1],rr=(0,P.useState)(gt||It),hr=u()(rr,2),Ar=hr[0],_r=hr[1],Ir=(0,r.useForm)(),Sr=(0,S.eJW)(),Mr=(0,r.useField)();return Mr.required=!0,(0,P.useEffect)(function(){if(zt){var Br;nr((Br=en(zt).fields)===null||Br===void 0?void 0:Br.filter(function(Mn){return In!=="hasMany"?Mn.primaryKey||Mn.unique:L.includes(Mn.type)}).map(function(Mn){var Wt;return{value:Mn.name,label:Sr((Mn==null||(Wt=Mn.uiSchema)===null||Wt===void 0?void 0:Wt.title)||Mn.title||Mn.name)}}))}},[]),(0,R.jsx)("div",{children:(0,R.jsx)(M.default,{showSearch:!0,options:ar,onDropdownVisibleChange:function(){var Br=t()(d()().mark(function Mn(Wt){var Ft,an,Bn,Un;return d()().wrap(function(mr){for(;;)switch(mr.prev=mr.next){case 0:Ft=Ir.values,an=Ft.target,Bn=Ft.type,an&&Wt&&nr((Un=en(an).fields)===null||Un===void 0?void 0:Un.filter(function(dr){return Bn!=="hasMany"?dr.primaryKey||dr.unique:L.includes(dr.type)}).map(function(dr){var Hr;return{value:dr.name,label:Sr((dr==null||(Hr=dr.uiSchema)===null||Hr===void 0?void 0:Hr.title)||dr.title||dr.name)}}));case 2:case"end":return mr.stop()}},Mn)}));return function(Mn){return Br.apply(this,arguments)}}(),onChange:function(Mn){var Wt;Yt==null||(Wt=Yt.onChange)===null||Wt===void 0||Wt.call(Yt,Mn),_r(Mn)},value:Ar,disabled:wt})})},{displayName:"TargetKey"}),W=(0,r.observer)(function(Yt){var gt=Yt.disabled,wt=(0,P.useState)([]),Vt=u()(wt,2),It=Vt[0],zt=Vt[1],In=(0,K.Bu)(),Tn=In.getCollection,en=(0,T.a)(),qn=(0,r.useField)(),er=en.collectionName,ar=en.target,nr=en.type,rr=en.through,hr=en.name,Ar=en.template,_r=en[qn.props.name],Ir=(0,S.eJW)(),Sr=(0,r.useForm)(),Mr=(0,P.useState)(_r||(Ar==="view"?null:qn.initialValue)),Br=u()(Mr,2),Mn=Br[0],Wt=Br[1];(0,P.useEffect)(function(){var an,Bn=["belongsTo"].includes(nr)?er:["belongsToMany"].includes(nr)?rr:ar,Un=(an=Tn(Bn))===null||an===void 0?void 0:an.fields;if(Un){var Gn=Un==null?void 0:Un.filter(function(dr){return L.includes(dr.type)}).map(function(dr){var Hr;return{value:dr.name,label:Ir(((Hr=dr.uiSchema)===null||Hr===void 0?void 0:Hr.title)||dr.name)}});if(zt(Gn),_r){var mr=Gn.find(function(dr){return dr.value===_r});Wt((mr==null?void 0:mr.label)||_r)}}},[nr]);var Ft=Ar==="view"?M.default:b.Z;return(0,R.jsx)("div",{children:(0,R.jsx)(Ft,{disabled:gt,value:Mn,options:It,showSearch:!0,onDropdownVisibleChange:function(){var an=t()(d()().mark(function Bn(Un){var Gn,mr,dr,Hr,Lr,Zr,no;return d()().wrap(function(ho){for(;;)switch(ho.prev=ho.next){case 0:Gn=Sr.values,mr=Gn.target,dr=Gn.type,Hr=Gn.through,Lr=["belongsTo"].includes(dr)?er||hr:["belongsToMany"].includes(dr)?Hr:mr,Lr&&Un&&(no=((Zr=Tn(Lr))===null||Zr===void 0?void 0:Zr.fields)||[],zt(no==null?void 0:no.filter(function(eo){return L.includes(eo.type)}).filter(function(eo){return!eo.primaryKey}).map(function(eo){var ro;return{value:eo.name,label:Ir(((ro=eo.uiSchema)===null||ro===void 0?void 0:ro.title)||eo.name)}})));case 3:case"end":return ho.stop()}},Bn)}));return function(Bn){return an.apply(this,arguments)}}(),onChange:function(Bn,Un){var Gn;Yt==null||(Gn=Yt.onChange)===null||Gn===void 0||Gn.call(Yt,Bn),Wt(Un.label||Bn)}})})},{displayName:"ForeignKey"}),X=(0,r.observer)(function(Yt){var gt=Yt.disabled,wt=(0,S.eJW)(),Vt=(0,K.Bu)(),It=Vt.getCollections,zt=(0,P.useState)([]),In=u()(zt,2),Tn=In[0],en=In[1],qn=(0,r.useField)(),er=(0,T.a)(),ar=er[qn.props.name],nr=(0,P.useState)(ar||qn.initialValue),rr=u()(nr,2),hr=rr[0],Ar=rr[1],_r=function(){var Mr=It().filter(function(Br){if(Br.type==="basic")return!1;var Mn=Br.autoCreate&&Br.isThrough;return!Mn});return Mr.map(function(Br){return{label:wt(Br.title),value:Br.name}})};(0,P.useEffect)(function(){var Sr=_r();if(en(Sr),ar){var Mr=Sr.find(function(Br){return Br.value===ar});Ar((Mr==null?void 0:Mr.label)||ar)}},[]);var Ir=function(Mr){var Br=_r();if(Mr){var Mn=Br.filter(function(Wt){return Wt.label.toLowerCase().includes(Mr.toLowerCase())});en(Mn)}else en(Br)};return(0,R.jsx)("div",{children:(0,R.jsx)(b.Z,{disabled:gt,showSearch:!0,popupMatchSelectWidth:!1,value:hr,options:Tn,onSearch:Ir,onChange:function(Mr,Br){var Mn;Yt==null||(Mn=Yt.onChange)===null||Mn===void 0||Mn.call(Yt,Mr),Ar(Br.label||Mr)}})})},{displayName:"ThroughCollection"}),J=e(47047),C=e(70173),k=(0,C.getTransformDisplayNameToNameFieldReactions)("name"),Y=(0,C.getTransformDisplayNameToNameFieldReactions)("reverseField.name"),H=function(gt,wt,Vt){if(gt){var It=(0,D.cloneDeep)(gt.properties);if(It["uiSchema.title"]&&(It["uiSchema.title"]["x-reactions"]=["{{useFieldDisplayNameReactions}}"]),It.reverse&&(It.reverse.properties["reverseField.uiSchema.title"]["x-reactions"]=["{{useReverseFieldFieldDisplayNameReactions}}"]),gt.hasDefaultValue===!0){var zt;It.defaultValue=(0,D.cloneDeep)(gt==null||(zt=gt.default)===null||zt===void 0?void 0:zt.uiSchema),It.defaultValue.required=!1,It.defaultValue.title=Vt('{{ t("Default value") }}'),It.defaultValue["x-decorator"]="FormItem",It.defaultValue["x-reactions"]=[{dependencies:["uiSchema.x-component-props.gmt","uiSchema.x-component-props.showTime","uiSchema.x-component-props.dateFormat","uiSchema.x-component-props.timeFormat"],fulfill:{state:{componentProps:{gmt:"{{$deps[0]}}",showTime:"{{$deps[1]}}",dateFormat:"{{$deps[2]}}",timeFormat:"{{$deps[3]}}"}}}},{dependencies:["uiSchema.x-component-props.format"],fulfill:{state:{componentProps:{format:"{{$deps[0]}}"}}}},{dependencies:["primaryKey","unique","autoIncrement"],when:"{{$deps[0]||$deps[1]||$deps[2]}}",fulfill:{state:{hidden:!0,value:null}},otherwise:{state:{hidden:!1}}}]}var In=f()(f()({name:""},(0,D.cloneDeep)(gt.default)),{},{interface:gt.name});return In.reverseField&&(In.reverseField.name=""),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-component-props":{getContainer:"{{ getContainer }}"},"x-decorator":"Form","x-decorator-props":{useValues:function(en){return(0,O.QT)(function(){return Promise.resolve({data:In})},en)}},title:"".concat(Vt(wt.title)," - ").concat(Vt('{{ t("Add field") }}')),properties:f()(f()({summary:{type:"void","x-component":"FieldSummary","x-component-props":{schemaKey:gt.name}}},It),{},{description:{type:"string",title:'{{t("Description")}}',"x-decorator":"FormItem","x-component":"Input.TextArea"},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useCreateCollectionField }}"}}}}})})}}},te=function(){var gt=(0,r.useForm)();return{getValues:function(){var Vt=(0,D.cloneDeep)(gt.values);return Vt.autoCreateReverseField||delete Vt.reverseField,delete Vt.autoCreateReverseField,Vt}}},le=function(){var gt=(0,r.useForm)(),wt=(0,K.Bu)(),Vt=wt.refreshCM,It=(0,S.XCj)(),zt=(0,$.u3)(),In=zt.refresh,Tn=(0,$.eS)(),en=Tn.resource,qn=(0,r.useField)(),er=(0,T.a)();return{run:function(){return t()(d()().mark(function nr(){var rr,hr;return d()().wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:return _r.next=2,gt.submit();case 2:return qn.data=qn.data||{},qn.data.loading=!0,rr=(0,D.cloneDeep)(gt.values),rr.autoCreateReverseField||delete rr.reverseField,delete rr.autoCreateReverseField,hr=er.name,rr.interface==="workflowCurrentStep"&&rr.name==="workflowCurrentStep"&&(rr.uiSchema["x-component-props"]=f()(f()({},rr.uiSchema["x-component-props"]),{},{collectionName:hr})),_r.prev=9,_r.next=12,en.create({values:rr});case 12:return It.setVisible(!1),_r.next=15,gt.reset();case 15:return qn.data.loading=!1,In(),_r.next=19,Vt();case 19:_r.next=24;break;case 21:_r.prev=21,_r.t0=_r.catch(9),qn.data.loading=!1;case 24:case"end":return _r.stop()}},nr,null,[[9,21]])}))()}}},ne=function(gt){var wt=(0,T.a)();return(0,R.jsx)(ie,f()({item:wt},gt))},ie=function(gt){var wt,Vt=gt.scope,It=gt.getContainer,zt=gt.item,In=gt.children,Tn=gt.trigger,en=gt.align,qn=gt.database,er=(0,K.Bu)(),ar=er.getInterface,nr=er.getTemplate,rr=er.collections,hr=er.getCollection,Ar=(0,P.useState)(!1),_r=u()(Ar,2),Ir=_r[0],Sr=_r[1],Mr=(0,P.useState)(),Br=u()(Mr,2),Mn=Br[0],Wt=Br[1],Ft=(0,P.useState)({}),an=u()(Ft,2),Bn=an[0],Un=an[1],Gn=(0,S.eJW)(),mr=(0,E.$)(),dr=mr.t,Hr=A(),Lr=Hr.isDialect,Zr=(0,J.r)(),no=((wt=hr(zt.name))===null||wt===void 0||(wt=wt.options)===null||wt===void 0?void 0:wt.fields)||zt.fields||[],Jr=(0,P.useMemo)(function(){return rr.map(function(ao){return{label:Gn(ao.title),value:ao.name}})},[]),ho=(0,P.useCallback)(function(){var ao=nr(zt.template)||{},io=ao.availableFieldInterfaces,Eo=io||{},cn=Eo.exclude,Ot=Eo.include,ln=[];return Zr.forEach(function(Sn){if(Sn.key==="systemInfo")ln.push(f()(f()({},Sn),{},{children:Sn.children.filter(function(ir){return ir.hidden?!1:ir.value==="tableoid"?Ot!=null&&Ot.length?Ot.includes(ir.value):(qn==null?void 0:qn.dialect)==="postgres":typeof zt[ir.value]=="boolean"?zt[ir.value]:!0})}));else{var Kn,tr=[];if(Ot!=null&&Ot.length)Ot.forEach(function(ir){var Rr,Tr=Sn==null||(Rr=Sn.children)===null||Rr===void 0?void 0:Rr.find(function(Xr){return[ir,ir.interface].includes(Xr.name)});Tr&&tr.push(f()(f()({},Tr),{},{targetScope:ir==null?void 0:ir.targetScope}))});else if(cn!=null&&cn.length){var fr;tr=Sn==null||(fr=Sn.children)===null||fr===void 0?void 0:fr.filter(function(ir){return!cn.includes(ir.name)})}else tr=Sn==null?void 0:Sn.children;!((Kn=tr)===null||Kn===void 0)&&Kn.length&&ln.push(f()(f()({},Sn),{},{children:tr}))}}),ln},[nr,zt]),eo=(0,P.useMemo)(function(){return ho().map(function(ao){var io;return(ao==null||(io=ao.children)===null||io===void 0?void 0:io.length)===0?null:zt.template==="view"?{type:"group",label:Gn(ao.label),title:Gn(ao.label),key:ao.label,children:ao.children.filter(function(Eo){return["m2o"].includes(Eo.name)}).map(function(Eo){return{label:Gn(Eo.title),title:Gn(Eo.title),key:Eo.name,dataTargetScope:Eo.targetScope}})}:{type:"group",label:Gn(ao.label),title:Gn(ao.label),key:ao.label,children:ao==null?void 0:ao.children.filter(function(Eo){return!["o2o","subTable","linkTo"].includes(Eo.name)}).map(function(Eo){return{label:Gn(Eo.title),title:Gn(Eo.title),key:Eo.name,dataTargetScope:Eo.targetScope}})}}).filter(function(ao){var io;return ao==null||(io=ao.children)===null||io===void 0?void 0:io.length})},[ho]),ro=(0,P.useMemo)(function(){return{style:{maxHeight:"60vh",overflow:"auto"},onClick:function(io){var Eo=io.item.props["data-targetScope"];Eo&&Wt(Eo);var cn=H(ar(io.key),zt,Gn);cn&&(Un(cn),Sr(!0))},items:eo}},[ar,eo,zt]),qr=(0,P.useMemo)(function(){return no.filter(function(ao){return["string","bigInt","integer"].includes(ao.type)}).map(function(ao){var io;return{value:ao.name,label:Gn((io=ao.uiSchema)===null||io===void 0?void 0:io.title)}})},[no==null?void 0:no.length]);return zt.template!=="sql"&&(0,R.jsx)(T.HV,{record:zt,children:(0,R.jsxs)(S.EIK,{value:{visible:Ir,setVisible:Sr},children:[(0,R.jsx)(g.Z,{getPopupContainer:It,trigger:Tn,align:en,menu:ro,children:In||(0,R.jsx)(y.ZP,{icon:(0,R.jsx)(l.Z,{}),type:"primary",children:dr("Add field")})}),(0,R.jsx)(S.n6,{schema:Bn,distributed:!1,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:f()({getContainer:It,useCancelAction:Z.useCancelAction,createOnly:!0,isOverride:!1,override:!1,useCreateCollectionField:le,record:zt,showReverseFieldConfig:!0,targetScope:Mn,collections:Jr,isDialect:Lr,disabledJSONB:!1,scopeKeyOptions:qr,createMainOnly:!0,editMainOnly:!0,useFieldDisplayNameReactions:k,useReverseFieldFieldDisplayNameReactions:Y},Vt)})]})})},ee=e(13769),fe=e.n(ee),de=e(50361),ue=e.n(de),Se=e(57557),ae=e.n(Se),G=e(36968),re=e.n(G),oe=e(49834),ce=e(68230),be=["scope","getContainer","item","parentItem","children"],xe=function(gt,wt,Vt,It){if(gt){var zt=ue()(gt.properties);return zt!=null&&zt.name&&(zt.name["x-disabled"]=!0),gt.hasDefaultValue===!0&&(zt.defaultValue=ue()(gt.default.uiSchema)||{},zt.defaultValue.required=!1,zt.defaultValue.title=Vt('{{ t("Default value") }}'),zt.defaultValue["x-decorator"]="FormItem",zt.defaultValue["x-reactions"]=[{dependencies:["uiSchema.x-component-props.gmt","uiSchema.x-component-props.showTime","uiSchema.x-component-props.dateFormat","uiSchema.x-component-props.timeFormat"],fulfill:{state:{componentProps:{gmt:"{{$deps[0]}}",showTime:"{{$deps[1]}}",dateFormat:"{{$deps[2]}}",timeFormat:"{{$deps[3]}}"}}}},{dependencies:["uiSchema.x-component-props.format"],fulfill:{state:{componentProps:{format:"{{$deps[0]}}"}}}},{dependencies:["primaryKey","unique","autoIncrement"],when:"{{$deps[0]||$deps[1]||$deps[2]}}",fulfill:{state:{hidden:!0,value:void 0}},otherwise:{state:{hidden:!1}}}]),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-component-props":{getContainer:"{{ getContainer }}"},"x-decorator":"Form","x-decorator-props":{useValues:function(Tn){return(0,O.QT)(function(){return Promise.resolve({data:ue()(ae()(gt.default,["uiSchema.rawTitle"]))})},Tn)}},title:"".concat(Vt('{{ t("Edit field") }}')),properties:f()(f()({summary:{type:"void","x-component":"FieldSummary","x-component-props":{schemaKey:gt.name}}},zt),{},{description:{type:"string",title:'{{t("Description")}}',"x-decorator":"FormItem","x-component":"Input.TextArea"},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useUpdateCollectionField }}"}}}}})})}}},ge=function(){var gt=(0,r.useForm)(),wt=(0,K.Bu)(),Vt=wt.refreshCM,It=(0,S.XCj)(),zt=(0,$.u3)(),In=zt.refresh,Tn=(0,$.eS)(),en=Tn.resource,qn=Tn.targetKey,er=(0,T.a)(),ar=er[qn];return{run:function(){return t()(d()().mark(function rr(){var hr;return d()().wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:return _r.next=2,gt.submit();case 2:return hr=ue()(gt.values),hr.autoCreateReverseField||delete hr.reverseField,delete hr.autoCreateReverseField,_r.next=7,en.update({filterByTk:ar,values:hr});case 7:return It.setVisible(!1),_r.next=10,gt.reset();case 10:return In(),_r.next=13,Vt();case 13:case"end":return _r.stop()}},rr)}))()}}},he=function(gt){var wt=(0,T.a)(),Vt=(0,oe.Kv)();return(0,R.jsx)(Pe,f()({item:wt,parentItem:Vt},gt))},Pe=function(gt){var wt=gt.scope,Vt=gt.getContainer,It=gt.item,zt=gt.parentItem,In=gt.children,Tn=fe()(gt,be),en=(0,K.Bu)(),qn=en.getInterface,er=en.collections,ar=en.getCollection,nr=(0,P.useState)(!1),rr=u()(nr,2),hr=rr[0],Ar=rr[1],_r=(0,P.useState)({}),Ir=u()(_r,2),Sr=Ir[0],Mr=Ir[1],Br=(0,O.LY)(),Mn=(0,E.$)(),Wt=Mn.t,Ft=(0,S.eJW)(),an=(0,P.useState)({}),Bn=u()(an,2),Un=Bn[0],Gn=Bn[1],mr=A(),dr=mr.isDialect,Hr=zt||{},Lr=Hr.template,Zr=(0,ce.d)(),no=Zr.token,Jr=(0,P.useMemo)(function(){var eo;return(It==null?void 0:It.fields)||((eo=ar(It.collectionName))===null||eo===void 0?void 0:eo.options.fields.filter(function(ro){return["string","bigInt","integer"].includes(ro.type)}).map(function(ro){var qr;return{value:ro.name,label:Ft((qr=ro.uiSchema)===null||qr===void 0?void 0:qr.title)}}))},[It.name]),ho=(0,P.useMemo)(function(){return er.map(function(eo){return{label:Ft(eo.title),value:eo.name}})},[]);return(0,R.jsx)(T.HV,{record:It,parent:zt,children:(0,R.jsxs)(S.EIK,{value:{visible:hr,setVisible:Ar},children:[(0,R.jsx)("a",f()(f()({},Tn),{},{onClick:t()(d()().mark(function eo(){var ro,qr,ao,io,Eo,cn,Ot;return d()().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.next=2,Br.resource("collections.fields",It.collectionName).get({filterByTk:It.name,appends:["reverseField"]});case 2:ro=Sn.sent,qr=ro.data,Gn(qr==null?void 0:qr.data),ao=qn(It.interface),io=ue()(qr==null?void 0:qr.data)||{},io!=null&&io.reverseField||(io.autoCreateReverseField=!1,io.reverseField=ao==null||(Eo=ao.default)===null||Eo===void 0?void 0:Eo.reverseField,re()(io.reverseField,"name","f_".concat((0,o.uid)())),re()(io.reverseField,"uiSchema.title",(cn=It.__parent)===null||cn===void 0?void 0:cn.title)),Ot=xe(f()(f()({},ao),{},{default:io}),It,Ft,Vt),Mr(Ot),Ar(!0);case 11:case"end":return Sn.stop()}},eo)})),style:{color:no.colorPrimary},children:In||Wt("Edit")})),(0,R.jsx)(S.n6,{schema:Sr,distributed:!1,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:f()({getContainer:Vt,useUpdateCollectionField:ge,useCancelAction:Z.useCancelAction,showReverseFieldConfig:!(Un!=null&&Un.reverseField),collections:ho,isDialect:dr,disabledJSONB:!0,scopeKeyOptions:Jr,createMainOnly:Lr!=="foreign"},wt)})]})})},Ae=e(72594),Be=function(gt,wt,Vt,It){var zt;if(gt){var In=ue()(gt.properties);return In.name["x-disabled"]=!0,gt.hasDefaultValue===!0&&(In.defaultValue=ue()(gt.default.uiSchema),In.defaultValue.title=Vt('{{ t("Default value") }}'),In.defaultValue["x-decorator"]="FormItem"),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:function(en){return(0,O.QT)(function(){return Promise.resolve({data:ue()(gt.default)})},en)}},title:"".concat(Vt((zt=wt.__parent)===null||zt===void 0?void 0:zt.title)," - ").concat(Vt('{{ t("Override field") }}')),properties:f()(f()({summary:{type:"void","x-component":"FieldSummary","x-component-props":{schemaKey:gt.name}}},In),{},{description:{type:"string",title:'{{t("Description")}}',"x-decorator":"FormItem","x-component":"Input.TextArea"},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useOverridingCollectionField }}"}}}}})})}}},Le=function(gt){var wt=(0,T.a)(),Vt=(0,Ae.Kv)();return(0,R.jsx)(Te,f()({item:wt,parentItem:Vt},gt))},Me=function(gt,wt){var Vt=gt.find(function(It){return It.name===wt.name});return Vt},Te=function(gt){var wt=gt.scope,Vt=gt.getContainer,It=gt.item,zt=gt.parentItem,In=gt.children,Tn=gt.currentCollection,en=It.target,qn=It.through,er=(0,K.Bu)(),ar=er.getInterface,nr=er.getCurrentCollectionFields,rr=er.getChildrenCollections,hr=er.collections,Ar=(0,P.useState)(!1),_r=u()(Ar,2),Ir=_r[0],Sr=_r[1],Mr=(0,P.useState)({}),Br=u()(Mr,2),Mn=Br[0],Wt=Br[1],Ft=(0,O.LY)(),an=(0,E.$)(),Bn=an.t,Un=(0,S.eJW)(),Gn=function(ro){var qr,ao=ro&&((qr=rr(ro))===null||qr===void 0?void 0:qr.map(function(io){return io.name}).concat([ro]));return ao},mr=(0,P.useState)({}),dr=u()(mr,2),Hr=dr[0],Lr=dr[1],Zr=nr(Tn),no=Me(Zr,It),Jr=(0,P.useMemo)(function(){return hr.map(function(eo){return{label:Un(eo.title),value:eo.name}})},[]),ho=function(){var ro=(0,r.useForm)(),qr=(0,$.u3)(),ao=qr.refresh,io=(0,K.Bu)(),Eo=io.refreshCM,cn=(0,S.XCj)(),Ot=(0,$.eS)(),ln=Ot.resource;return{run:function(){return t()(d()().mark(function Kn(){var tr,fr;return d()().wrap(function(Rr){for(;;)switch(Rr.prev=Rr.next){case 0:return Rr.next=2,ro.submit();case 2:return tr=ue()(ro.values),fr=(0,D.omit)(tr,["key","uiSchemaUid","collectionName","autoCreateReverseField","uiSchema.x-uid","reverseField","reverseKey","parentKey"]),Rr.next=6,ln.create({values:fr});case 6:return Rr.next=8,ro.reset();case 8:return Rr.next=10,Eo();case 10:return Rr.next=12,ao();case 12:cn.setVisible(!1);case 13:case"end":return Rr.stop()}},Kn)}))()}}};return(0,R.jsx)(T.HV,{record:f()(f()({},It),{},{collectionName:zt.name}),parent:zt,children:(0,R.jsxs)(S.EIK,{value:{visible:Ir,setVisible:Sr},children:[(0,R.jsx)("a",{disabled:no,onClick:t()(d()().mark(function eo(){var ro,qr,ao,io,Eo,cn;return d()().wrap(function(ln){for(;;)switch(ln.prev=ln.next){case 0:if(no){ln.next=12;break}return ln.next=3,Ft.resource("collections.fields",It.collectionName).get({filterByTk:It.name,appends:["reverseField"]});case 3:ro=ln.sent,qr=ro.data,Lr(qr==null?void 0:qr.data),ao=ar(It.interface),io=ue()(qr==null?void 0:qr.data)||{},io!=null&&io.reverseField||(io.autoCreateReverseField=!1,io.reverseField=(Eo=ao.default)===null||Eo===void 0?void 0:Eo.reverseField,(0,D.set)(io.reverseField,"name","f_".concat((0,o.uid)())),(0,D.set)(io.reverseField,"uiSchema.title",It.__parent.title)),cn=Be(f()(f()({},ao),{},{default:io}),It,Un,Vt),Wt(cn),Sr(!0);case 12:case"end":return ln.stop()}},eo)})),children:In||Bn("Override")}),(0,R.jsx)(S.n6,{schema:Mn,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:f()({getContainer:Vt,useOverridingCollectionField:ho,useCancelAction:Z.useCancelAction,showReverseFieldConfig:!(Hr!=null&&Hr.reverseField),createOnly:!0,override:!0,isOverride:!0,targetScope:{target:Gn(en),through:Gn(qn)},collections:Jr},wt)})]})})},we=function(gt,wt,Vt,It){var zt;if(gt){var In=ue()(gt.properties);return In.name["x-disabled"]=!0,gt.hasDefaultValue===!0&&(In.defaultValue=ue()(gt.default.uiSchema),In.defaultValue.title=Vt('{{ t("Default value") }}'),In.defaultValue["x-decorator"]="FormItem"),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-component-props":{getContainer:"{{ getContainer }}"},"x-decorator":"Form","x-decorator-props":{useValues:function(en){return(0,O.QT)(function(){return Promise.resolve({data:ue()(gt.default)})},en)}},title:"".concat(Vt((zt=wt.__parent)===null||zt===void 0?void 0:zt.title)," - ").concat(Vt('{{ t("View") }}')),properties:f()(f()({summary:{type:"void","x-component":"FieldSummary","x-component-props":{schemaKey:gt.name}}},In),{},{description:{type:"string",title:'{{t("Description")}}',"x-decorator":"FormItem","x-component":"Input.TextArea"}})})}}},Ue=function(gt){var wt=(0,T.a)(),Vt=(0,Ae.Kv)();return(0,R.jsx)(je,f()({item:wt,parentItem:Vt},gt))},je=function(gt){var wt=gt.scope,Vt=gt.getContainer,It=gt.item,zt=gt.parentItem,In=gt.children,Tn=(0,K.Bu)(),en=Tn.getInterface,qn=Tn.collections,er=(0,P.useState)(!1),ar=u()(er,2),nr=ar[0],rr=ar[1],hr=(0,P.useState)({}),Ar=u()(hr,2),_r=Ar[0],Ir=Ar[1],Sr=(0,O.LY)(),Mr=(0,E.$)(),Br=Mr.t,Mn=(0,S.eJW)(),Wt=(0,P.useState)({}),Ft=u()(Wt,2),an=Ft[0],Bn=Ft[1],Un=(0,P.useMemo)(function(){return qn.map(function(Gn){return{label:Mn(Gn.title),value:Gn.name}})},[]);return(0,R.jsx)(T.HV,{record:It,parent:zt,children:(0,R.jsxs)(S.EIK,{value:{visible:nr,setVisible:rr},children:[(0,R.jsx)("a",{onClick:t()(d()().mark(function Gn(){var mr,dr,Hr,Lr,Zr,no;return d()().wrap(function(ho){for(;;)switch(ho.prev=ho.next){case 0:return ho.next=2,Sr.resource("collections.fields",It.collectionName).get({filterByTk:It.name,appends:["reverseField"]});case 2:mr=ho.sent,dr=mr.data,Bn(dr==null?void 0:dr.data),Hr=en(It.interface),Lr=ue()(dr==null?void 0:dr.data)||{},Lr!=null&&Lr.reverseField||(Lr.autoCreateReverseField=!1,Lr.reverseField=(Zr=Hr.default)===null||Zr===void 0?void 0:Zr.reverseField,re()(Lr.reverseField,"name","f_".concat((0,o.uid)())),re()(Lr.reverseField,"uiSchema.title",It.__parent.title)),no=we(f()(f()({},Hr),{},{default:Lr}),It,Mn,Vt),Ir(no),rr(!0);case 11:case"end":return ho.stop()}},Gn)})),children:In||Br("View")}),(0,R.jsx)(S.n6,{schema:_r,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:f()({getContainer:Vt,showReverseFieldConfig:!(an!=null&&an.reverseField),createOnly:!1,collections:Un},wt)})]})})},De=e(13582),ye=e(89250),_e=e(66309),q=e(23497),pe=(0,r.observer)(function(Yt){var gt=Yt.schema,wt=Yt.label,Vt=(0,S.eJW)(),It=(0,q.S)(),zt=(0,P.useMemo)(function(){return{container:{backgroundColor:It.colorFillAlter,marginBottom:It.marginLG,padding:It.paddingSM+It.paddingXXS},title:{color:It.colorText},description:{marginTop:It.marginXS,color:It.colorTextDescription},tag:{background:"none"}}},[It.colorFillAlter,It.colorText,It.colorTextDescription,It.marginLG,It.marginXS,It.paddingSM,It.paddingXXS]);return gt?(0,R.jsxs)("div",{style:zt.container,children:[(0,R.jsxs)("div",{style:zt.title,children:[wt,": ",(0,R.jsx)(_e.Z,{style:zt.tag,children:Vt(gt.title)})]}),gt.description?(0,R.jsx)("div",{style:zt.description,children:Vt(gt.description)}):null]}):null},{displayName:"Summary"}),Re=pe,Oe=function(gt){var wt=(0,E.$)(),Vt=wt.t,It=(0,K.Bu)(),zt=It.getTemplate,In=(0,P.useMemo)(function(){return zt(gt.schemaKey)},[zt,gt.schemaKey]);return(0,R.jsx)(Re,{label:Vt("Collection template"),schema:In})};Oe.displayName="TemplateSummary";var $e=e(74614),Ve=(0,C.getTransformDisplayNameToNameFieldReactions)("name"),Ze=function(gt){var wt=gt.query("name").take();if(wt){var Vt;(Vt=gt.value)!==null&&Vt!==void 0&&Vt.name?wt.componentProps.addonBefore="".concat(gt.value.name,"_"):wt.componentProps.addonBefore=""}},qe=function(gt,wt,Vt){if(gt){var It=(0,D.cloneDeep)(gt.configurableProperties);gt.hasDefaultValue===!0&&(It.defaultValue=(0,D.cloneDeep)(gt.default.uiSchema),It.defaultValue.title=Vt('{{ t("Default value") }}'),It.defaultValue["x-decorator"]="FormItem"),It.title&&(It.title["x-reactions"]=["{{useCollectionDisplayNameReactions}}"]);var zt=f()({name:"",template:gt.name,view:gt.name==="view",category:wt},(0,D.cloneDeep)(gt.default));return zt.reverseField&&(zt.reverseField.name="f_".concat((0,o.uid)())),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-component-props":{getContainer:"{{ getContainer }}"},"x-decorator":"Form","x-decorator-props":{useValues:function(Tn){return(0,O.QT)(function(){return Promise.resolve({data:zt})},Tn)}},title:'{{ t("Create collection") }}',properties:f()(f()({summary:{type:"void","x-component":"TemplateSummay","x-component-props":{schemaKey:gt.name}}},It),{},{footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:function(){return ke(gt)}}}}}})})}}},Qe=function(gt){return gt.find(function(wt){return wt.name==="workflowCurrentStep"})},ke=function(gt){var wt=(0,r.useForm)(),Vt=(0,K.Bu)(),It=Vt.refreshCM,zt=(0,S.XCj)(),In=(0,$.u3)(),Tn=In.refresh,en=(0,$.eS)(),qn=en.resource,er=(0,r.useField)();return{run:function(){return t()(d()().mark(function nr(){var rr,hr,Ar;return d()().wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:return er.data=er.data||{},er.data.loading=!0,Ir.prev=2,Ir.next=5,wt.submit();case 5:return hr=(0,D.cloneDeep)(wt.values),gt!=null&&(rr=gt.events)!==null&&rr!==void 0&&rr.beforeSubmit&&gt.events.beforeSubmit(hr),hr.autoCreateReverseField||delete hr.reverseField,Ar=Qe(hr.fields),Ar&&(Ar.uiSchema["x-component-props"]=f()(f()({},Ar.uiSchema["x-component-props"]),{},{collectionName:hr.name})),delete hr.autoCreateReverseField,Ir.next=13,qn.create({values:f()({logging:!0},hr)});case 13:return zt.setVisible(!1),Ir.next=16,wt.reset();case 16:return er.data.loading=!1,Tn(),Ir.next=20,It();case 20:Ir.next=25;break;case 22:Ir.prev=22,Ir.t0=Ir.catch(2),er.data.loading=!1;case 25:case"end":return Ir.stop()}},nr,null,[[2,22]])}))()}}},ft=function(gt){var wt=(0,T.a)();return(0,R.jsx)(vt,f()({item:wt},gt))},vt=function(gt){var wt=(0,ye.useParams)(),Vt=gt.scope,It=gt.getContainer,zt=gt.item,In=gt.children,Tn=gt.trigger,en=gt.align,qn=(0,K.Bu)(),er=qn.getTemplate,ar=qn.templates,nr=(0,$e.qD)(),rr=nr.getComponent("AppSelect"),hr=(0,P.useState)(!1),Ar=u()(hr,2),_r=Ar[0],Ir=Ar[1],Sr=(0,P.useState)({}),Mr=u()(Sr,2),Br=Mr[0],Mn=Mr[1],Wt=(0,P.useState)(null),Ft=u()(Wt,2),an=Ft[0],Bn=Ft[1],Un=(0,S.eJW)(),Gn=(0,E.$)(),mr=Gn.t,dr=(0,P.useMemo)(function(){var no=[];return ar.forEach(function(Jr){Jr.divider&&no.push({type:"divider"}),no.push({label:Un(Jr.title),key:Jr.name})}),no},[ar]),Hr=(0,$.u3)(),Lr=Hr.state.category,Zr=(0,P.useMemo)(function(){return{style:{maxHeight:"60vh",overflow:"auto"},onClick:function(Jr){var ho=qe(er(Jr.key),Lr,Un);Bn(er(Jr.key)),Mn(ho),Ir(!0)},items:dr}},[Lr,dr]);return(0,R.jsx)(T.HV,{record:zt,children:(0,R.jsxs)(S.EIK,{value:{visible:_r,setVisible:Ir},children:[(0,R.jsx)(g.Z,{getPopupContainer:It,trigger:Tn,align:en,menu:Zr,children:In||(0,R.jsxs)(y.ZP,{icon:(0,R.jsx)(l.Z,{}),type:"primary",children:[mr("Create collection")," ",(0,R.jsx)(De.Z,{})]})}),(0,R.jsx)(S.n6,{schema:Br,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable,TemplateSummay:Oe,AppSelect:rr}),scope:f()({getContainer:It,useCancelAction:Z.useCancelAction,createOnly:!0,useCreateCollection:ke,record:zt,showReverseFieldConfig:!0,useCollectionDisplayNameReactions:Ve,useAssociatedAppReactions:Ze,presetFieldsDisabled:an==null?void 0:an.presetFieldsDisabled},Vt)})]})})},_t=["scope","getContainer","item","children"],Nt=function(gt,wt,Vt,It){if(gt){var zt=ue()(gt.configurableProperties)||{title:{"x-component":"CollectionField","x-decorator":"FormItem"},name:{"x-component":"CollectionField","x-decorator":"FormItem"}};return gt.hasDefaultValue===!0&&(zt.defaultValue=ue()(gt.default.uiSchema),zt.defaultValue.title=Vt('{{ t("Default value") }}'),zt.defaultValue["x-decorator"]="FormItem"),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:"{{ useValuesFromRecord }}"},title:'{{ t("Edit collection") }}',properties:f()(f()({},zt),{},{footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useUpdateCollectionActionAndRefreshCM }}"}}}}})})}}},Kt=function(gt){var wt=(0,T.a)(),Vt=(0,O.QT)(function(){return Promise.resolve({data:f()({},ae()(ue()(wt),["__parent","__collectionName"]))})},f()(f()({},gt),{},{manual:!0})),It=(0,S.XCj)();return(0,P.useEffect)(function(){It.visible&&Vt.run()},[It.visible]),Vt},ut=function(gt){var wt=(0,K.Bu)(),Vt=wt.refreshCM,It=(0,r.useForm)(),zt=(0,S.XCj)(),In=(0,$.u3)(),Tn=In.refresh,en=(0,$.eS)(),qn=en.resource,er=en.targetKey,ar=(0,T.a)(),nr=ar[er],rr=ar.template,hr=(0,O.LY)(),Ar=rr==="sql"?hr.resource("sqlCollection"):qn;return{run:function(){return t()(d()().mark(function Ir(){return d()().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:return Mr.next=2,It.submit();case 2:return Mr.next=4,Ar.update({filterByTk:nr,values:rr==="sql"?It.values:ae()(It.values,["fields"])});case 4:return zt.setVisible(!1),Mr.next=7,It.reset();case 7:return Tn(),Mr.next=10,Vt();case 10:case"end":return Mr.stop()}},Ir)}))()}}},Rt=function(gt){var wt=(0,T.a)();return(0,R.jsx)(Dt,f()({item:wt},gt))},Dt=function(gt){var wt=gt.scope,Vt=gt.getContainer,It=gt.item,zt=gt.children,In=fe()(gt,_t),Tn=(0,K.Bu)(),en=Tn.getTemplate,qn=(0,P.useState)(!1),er=u()(qn,2),ar=er[0],nr=er[1],rr=(0,P.useState)({}),hr=u()(rr,2),Ar=hr[0],_r=hr[1],Ir=(0,E.$)(),Sr=Ir.t,Mr=(0,S.eJW)(),Br=(0,ce.d)(),Mn=Br.token;return(0,R.jsx)(T.HV,{record:It,children:(0,R.jsxs)(S.EIK,{value:{visible:ar,setVisible:nr},children:[(0,R.jsx)("a",f()(f()({},In),{},{onClick:t()(d()().mark(function Wt(){var Ft,an;return d()().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:Ft=en(It.template),an=Nt(f()({},Ft),It,Mr,Vt),_r(an),nr(!0);case 4:case"end":return Un.stop()}},Wt)})),style:{color:Mn.colorPrimary},children:zt||Sr("Edit")})),(0,R.jsx)(S.n6,{schema:Ar,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:f()({getContainer:Vt,useValuesFromRecord:Kt,useUpdateCollectionActionAndRefreshCM:ut,useCancelAction:Z.useCancelAction,createOnly:!1},wt)})]})})},dt=e(41028),Bt=e(88962),He=function(gt,wt,Vt){if(gt){var It=(0,D.cloneDeep)(gt.properties);if(gt.hasDefaultValue===!0){var zt;It.defaultValue=(0,D.cloneDeep)(gt==null||(zt=gt.default)===null||zt===void 0?void 0:zt.uiSchema),It.defaultValue.title=Vt('{{ t("Default value") }}'),It.defaultValue["x-decorator"]="FormItem"}var In=f()(f()({name:"f_".concat((0,o.uid)())},(0,D.cloneDeep)(gt.default)),{},{interface:gt.name});return In.reverseField&&(In.reverseField.name="f_".concat((0,o.uid)())),{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-component-props":{getContainer:"{{ getContainer }}"},"x-decorator":"Form","x-decorator-props":{useValues:function(en){return(0,O.QT)(function(){return Promise.resolve({data:In})},en)}},title:"".concat(Vt('{{ t("Sync from database") }}')),properties:{schema:{type:"string","x-hidden":!0,default:wt==null?void 0:wt.schema},viewName:{type:"string","x-hidden":!0,default:wt==null?void 0:wt.viewName},fields:{type:"array","x-component":dt.f,"x-component-props":f()({},wt),default:wt.fields},preview:{type:"object","x-component":Bt.S,"x-component-props":f()({},wt),"x-reactions":{dependencies:["fields"],fulfill:{schema:{"x-component-props":"{{{...record,...$form.values}}}"}}}},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useSyncFromDatabase }}"}}}}}})}}},ct=function(){var gt=(0,r.useForm)(),wt=(0,K.Bu)(),Vt=wt.refreshCM,It=(0,S.XCj)(),zt=(0,$.u3)(),In=zt.refresh,Tn=(0,$.eS)(),en=Tn.targetKey,qn=(0,T.a)(),er=qn[en],ar=(0,O.LY)(),nr=(0,r.useField)();return{run:function(){return t()(d()().mark(function hr(){return d()().wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:return _r.next=2,gt.submit();case 2:return nr.data=nr.data||{},nr.data.loading=!0,_r.prev=4,_r.next=7,ar.resource("collections").setFields({filterByTk:er,values:(0,D.omit)(gt.values,"preview")});case 7:return It.setVisible(!1),_r.next=10,gt.reset();case 10:return nr.data.loading=!1,In(),_r.next=14,Vt();case 14:_r.next=19;break;case 16:_r.prev=16,_r.t0=_r.catch(4),nr.data.loading=!1;case 19:case"end":return _r.stop()}},hr,null,[[4,16]])}))()}}},St=function(gt){var wt=(0,T.a)();return(0,R.jsx)(Tt,f()({item:wt},gt))},Tt=function(gt){var wt=gt.scope,Vt=gt.getContainer,It=gt.item,zt=gt.children,In=(0,P.useState)(!1),Tn=u()(In,2),en=Tn[0],qn=Tn[1],er=(0,P.useState)({}),ar=u()(er,2),nr=ar[0],rr=ar[1],hr=(0,S.eJW)(),Ar=(0,E.$)(),_r=Ar.t;return It.template==="view"&&(0,R.jsx)(T.HV,{record:It,children:(0,R.jsxs)(S.EIK,{value:{visible:en,setVisible:qn,drawerProps:{width:900}},children:[zt||(0,R.jsx)(y.ZP,{icon:(0,R.jsx)(l.Z,{}),onClick:function(Sr){var Mr=He({},It,hr);Mr&&(rr(Mr),qn(!0))},children:_r("Sync from database")}),(0,R.jsx)(S.n6,{schema:nr,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:f()({getContainer:Vt,useCancelAction:Z.useCancelAction,createOnly:!0,isOverride:!1,useSyncFromDatabase:ct,record:It},wt)})]})})},Mt=e(87871),Zt=e(99986),Je=e(78317),et={type:"object",properties:i()({},(0,o.uid)(),{type:"void",title:'{{ t("Sync from database") }}',"x-component":"Action.Drawer","x-decorator":"FormLayout","x-decorator-props":{layout:"vertical"},properties:{config:{type:"void","x-decorator":Je._E,"x-decorator-props":{manual:!1},properties:{sql:{type:"string"},sources:{type:"array",title:'{{t("Source collections")}}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{multiple:!0},"x-reactions":["{{useAsyncDataSource(loadCollections)}}"]},fields:{type:"array",title:'{{t("Fields")}}',"x-decorator":"FormItem","x-component":Je.V0,required:!0},table:{type:"void",title:'{{t("Preview")}}',"x-decorator":"FormItem","x-component":Je.SN}}},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{cancel:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},submit:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useSyncFromDB }}"}}}}}})},rt=function(gt){var wt=(0,r.useForm)(),Vt=(0,S.XCj)(),It=(0,Zt.B)(),zt=It.refreshCM,In=(0,$.u3)(),Tn=In.refresh,en=(0,$.eS)(),qn=en.targetKey,er=(0,T.a)(),ar=er[qn],nr=(0,O.LY)(),rr=(0,r.useField)();return{run:function(){return t()(d()().mark(function Ar(){return d()().wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:return Ir.next=2,wt.submit();case 2:return rr.data=rr.data||{},rr.data.loading=!0,Ir.prev=4,Ir.next=7,nr.resource("sqlCollection").setFields({filterByTk:ar,values:{fields:wt.values.fields,sources:wt.values.sources}});case 7:return Vt.setVisible(!1),Ir.next=10,wt.reset();case 10:return rr.data.loading=!1,Tn(),Ir.next=14,zt();case 14:return Ir.next=16,gt==null?void 0:gt();case 16:Ir.next=21;break;case 18:Ir.prev=18,Ir.t0=Ir.catch(4),rr.data.loading=!1;case 21:case"end":return Ir.stop()}},Ar,null,[[4,18]])}))()}}},yt=function(gt){var wt=gt.refreshCMList,Vt=(0,T.a)(),It=(0,oe.Kv)(),zt=(0,E.$)(),In=zt.t,Tn=(0,P.useState)(!1),en=u()(Tn,2),qn=en[0],er=en[1],ar=(0,P.useMemo)(function(){return(0,m.createForm)({initialValues:Vt})},[Vt]);return Vt.template==="sql"&&(0,R.jsx)(T.HV,{record:Vt,parent:It,children:(0,R.jsx)(S.RVL,{form:ar,children:(0,R.jsxs)(S.EIK,{value:{visible:qn,setVisible:er},children:[(0,R.jsx)(y.ZP,{icon:(0,R.jsx)(Mt.Z,{}),onClick:function(rr){return er(!0)},children:In("Sync from database")}),(0,R.jsx)(S.n6,{schema:et,components:{FormLayout:n.FormLayout},scope:{useCancelAction:Z.useCancelAction,useSyncFromDB:function(){return rt(wt)}}})]})})})},xt=e(68400),Ct=e.n(xt),mt=e(47020),at=e(86615),ht=e(97133),ot=e(45360),kt=e(21143),nn,Lt=["scope","getContainer","item","children","isBulk","useAction"],hn=function(gt){var wt=(0,T.a)();return(0,R.jsx)($t,f()({item:wt},gt))},Dn=function(){var gt=mn(),wt=gt.run,Vt=(0,kt.useCollectionManager_deprecated)(),It=Vt.refreshCM;return{run:function(){return t()(d()().mark(function In(){return d()().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:return en.next=2,wt();case 2:return en.next=4,It();case 4:case"end":return en.stop()}},In)}))()}}},Gt=function(gt){var wt=qt(),Vt=wt.run,It=(0,kt.useCollectionManager_deprecated)(),zt=It.refreshCM;return{run:function(){return t()(d()().mark(function Tn(){return d()().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return qn.next=2,Vt(gt);case 2:return qn.next=4,zt();case 4:case"end":return qn.stop()}},Tn)}))()}}},mn=function(){var gt=(0,kt.useResourceActionContext)(),wt=gt.refresh,Vt=(0,kt.useResourceContext)(),It=Vt.resource,zt=Vt.targetKey,In=(0,T.a)(),Tn=In[zt],en=(0,r.useForm)(),qn=(en==null?void 0:en.values)||{},er=qn.cascade;return{run:function(){return t()(d()().mark(function nr(){return d()().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return hr.next=2,It.destroy({filterByTk:Tn,cascade:er});case 2:wt();case 3:case"end":return hr.stop()}},nr)}))()}}},qt=function(){var gt=(0,kt.useResourceActionContext)(),wt=gt.state,Vt=gt.setState,It=gt.refresh,zt=(0,kt.useResourceContext)(),In=zt.resource,Tn=(0,kt.useActionContext)(),en=(0,E.$)(),qn=en.t,er=(0,r.useForm)(),ar=(er==null?void 0:er.values)||{},nr=ar.cascade;return{run:function(hr){return t()(d()().mark(function Ar(){var _r,Ir;return d()().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:if(wt!=null&&(_r=wt.selectedRowKeys)!==null&&_r!==void 0&&_r.length){Mr.next=2;break}return Mr.abrupt("return",ot.ZP.error(qn("Please select the records you want to delete")));case 2:return Mr.next=4,In.destroy({filterByTk:(wt==null?void 0:wt.selectedRowKeys)||[],cascade:nr});case 4:er.reset(),!hr&&(Tn==null||(Ir=Tn.setVisible)===null||Ir===void 0||Ir.call(Tn,!1)),Vt==null||Vt({selectedRowKeys:[]}),It();case 8:case"end":return Mr.stop()}},Ar)}))()}}},$t=function(gt){var wt=gt.scope,Vt=gt.getContainer,It=gt.item,zt=gt.children,In=gt.isBulk,Tn=gt.useAction,en=fe()(gt,Lt),qn=(0,E.$)(),er=qn.t,ar=(0,P.useState)(!1),nr=u()(ar,2),rr=nr[0],hr=nr[1],Ar=(0,ce.d)(),_r=Ar.token,Ir=function(){return In?Gt:Tn||Dn},Sr=function(){return(0,R.jsxs)("span",{children:[(0,R.jsx)(mt.Z,{style:{color:"#faad14",marginRight:"12px",fontSize:"22px"}}),(0,R.jsx)("span",{style:{fontSize:"19px"},children:er("Delete collection")})]})};return(0,R.jsx)(T.HV,{record:It,children:(0,R.jsxs)(S.EIK,{value:{visible:rr,setVisible:hr},children:[In?(0,R.jsx)(y.ZP,{icon:(0,R.jsx)(at.Z,{}),onClick:function(){return hr(!0)},children:zt||er("Delete")}):(0,R.jsx)("a",f()(f()({onClick:function(){return hr(!0)}},en),{},{style:{color:_r.colorPrimary},children:zt||er("Delete")})),(0,R.jsx)(S.n6,{schema:{type:"object",properties:{deleteCollection:{type:"void","x-decorator":"Form","x-component":"Action.Modal",title:(0,R.jsx)(Sr,{}),"x-component-props":{width:520,getContainer:"{{ getContainer }}",className:(0,ht.css)(nn||(nn=Ct()([`
                    .ant-modal-body {
                      margin-left: 35px;
                      margin-bottom: 35px;
                      .ant-checkbox-wrapper {
                        height: 25px;
                      }
                    }
                  `])))},properties:{info:{type:"string","x-component":"div","x-content":"{{t('Are you sure you want to delete it?')}}"},cascade:{type:"boolean","x-decorator":"FormItem","x-component":"Checkbox",default:!1,"x-content":er("Automatically drop objects that depend on the collection (such as views), and in turn all objects that depend on those objects")},footer:{type:"void","x-component":"Action.Modal.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ useCancelAction }}"}},action2:{title:'{{ t("Ok") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useDestroyCollectionAction }}",style:{marginLeft:"8px"}}}}}}}}},components:f()({},v),scope:f()({getContainer:Vt,useDestroyCollectionAction:Ir(),useCancelAction:Z.useCancelAction},wt)})]})})};$t.displayName="DeleteCollectionAction";var Pn=function(gt){if(gt){var wt=(0,D.cloneDeep)(gt.properties),Vt=f()(f()({name:"f_".concat((0,o.uid)())},(0,D.cloneDeep)(gt.default)),{},{interface:gt.name});return{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:function(zt){return(0,O.QT)(function(){return Promise.resolve({data:Vt})},zt)}},title:'{{ t("Add field") }}',properties:f()(f()({},wt),{},{footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ ds.useCreateAction }}"}}}}})})}}},vn=function(){var gt=(0,S.XCj)();return{run:function(){return t()(d()().mark(function Vt(){return d()().wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:case"end":return zt.stop()}},Vt)}))()}}},sn=function(){var gt=(0,K.Bu)(),wt=gt.getInterface,Vt=(0,P.useState)(!1),It=u()(Vt,2),zt=It[0],In=It[1],Tn=(0,P.useState)({}),en=u()(Tn,2),qn=en[0],er=en[1],ar=(0,S.eJW)(),nr=(0,J.r)(),rr=(0,E.$)(),hr=rr.t,Ar=(0,P.useMemo)(function(){return nr.map(function(Sr){var Mr=Sr.children.map(function(Br){return{label:ar(Br.title),key:Br.name}});return{label:ar(Sr.label),key:Sr.key,children:Mr}})},[nr]),_r=(0,P.useMemo)(function(){return{style:{maxHeight:"60vh",overflow:"auto"},onClick:function(Mr){var Br=Pn(wt(Mr.key));er(Br),In(!0)},items:Ar}},[Ar]),Ir=(0,Ae.nE)();return(0,R.jsxs)(S.EIK,{value:{visible:zt,setVisible:In},children:[(0,R.jsx)(g.Z,{menu:_r,children:(0,R.jsx)(y.ZP,{icon:(0,R.jsx)(l.Z,{}),type:"primary",children:hr("Add field")})}),(0,R.jsx)(T.HV,{record:{},parent:Ir,children:(0,R.jsx)(S.n6,{schema:qn,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:{createOnly:!0,useCreateSubField:vn}})})]})},Rn=function(gt){if(gt){var wt=ue()(gt.properties);return wt.name["x-disabled"]=!0,{type:"object",properties:i()({},(0,o.uid)(),{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:function(It){return(0,O.QT)(function(){return Promise.resolve({data:ue()(gt.default)})},It)}},title:'{{ t("Edit field") }}',properties:f()(f()({},wt),{},{footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{action1:{title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},action2:{title:'{{ t("Submit") }}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ ds.useUpdateAction }}"}}}}})})}}},un=function(){var gt=(0,r.useForm)(),wt=(0,Z.useUpdateAction)(),Vt=wt.run,It=(0,K.Bu)(),zt=It.refreshCM;return{run:function(){return t()(d()().mark(function Tn(){var en,qn;return d()().wrap(function(ar){for(;;)switch(ar.prev=ar.next){case 0:return ar.next=2,gt.submit();case 2:return qn=(gt==null||(en=gt.values)===null||en===void 0||(en=en.uiSchema)===null||en===void 0||(en=en.enum)===null||en===void 0?void 0:en.slice())||[],gt.setValuesIn("uiSchema.enum",qn.map(function(nr){return f()({value:(0,o.uid)()},nr)})),ar.next=6,Vt();case 6:return ar.next=8,zt();case 8:case"end":return ar.stop()}},Tn)}))()}}},jt=function(gt){var wt=(0,T.a)(),Vt=(0,K.Bu)(),It=Vt.getInterface,zt=(0,P.useState)(!1),In=u()(zt,2),Tn=In[0],en=In[1],qn=(0,P.useState)({}),er=u()(qn,2),ar=er[0],nr=er[1],rr=(0,O.LY)(),hr=(0,E.$)(),Ar=hr.t;return(0,R.jsxs)(S.EIK,{value:{visible:Tn,setVisible:en},children:[(0,R.jsx)("a",{onClick:t()(d()().mark(function _r(){var Ir;return d()().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:Ir=Rn(f()(f()({},It(wt.interface)),{},{default:wt})),nr(Ir),en(!0);case 3:case"end":return Mr.stop()}},_r)})),children:Ar("Edit")}),(0,R.jsx)(S.n6,{schema:ar,components:f()(f()({},v),{},{ArrayTable:n.ArrayTable}),scope:{useUpdateCollectionField:un}})]})},rn=function(gt){var wt=(0,E.$)(),Vt=wt.t,It=(0,K.Bu)(),zt=It.getInterface,In=(0,P.useMemo)(function(){return zt(gt.schemaKey)},[zt,gt.schemaKey]);return(0,R.jsx)(Re,{label:Vt("Field interface"),schema:In})};rn.displayName="FieldSummary";var An=(0,r.observer)(function(Yt){var gt=Yt.value,wt=(0,K.Bu)(),Vt=wt.getInterface,It=(0,S.eJW)(),zt=Vt(gt);return zt?(0,R.jsx)(_e.Z,{children:It(zt.title)}):null},{displayName:"CollectionFieldInterfaceTag"}),En=(0,r.observer)(function(Yt){var gt=Yt.value,wt=(0,S.eJW)();return(0,R.jsx)(R.Fragment,{children:gt==null?void 0:gt.map(function(Vt){return(0,R.jsx)(_e.Z,{color:Vt.color,children:wt(Vt==null?void 0:Vt.name)},Vt.name)})})},{displayName:"CollectionCategory"}),gn=(0,r.observer)(function(Yt){var gt=Yt.value,wt=(0,K.Bu)(),Vt=wt.getTemplate,It=(0,S.eJW)(),zt=Vt(gt);return(0,R.jsx)(_e.Z,{children:It((zt==null?void 0:zt.title)||'{{t("General collection")}}')})},{displayName:"CollectionTemplateTag"}),jn=(0,r.observer)(function(Yt){var gt,wt=Yt.value,Vt=(0,S.eJW)();return wt?(0,R.jsx)(_e.Z,{children:Vt((gt=wt.applicationsRelationShip)===null||gt===void 0?void 0:gt.name)}):null},{displayName:"CollectionAssociatedApp"});(0,m.registerValidateFormats)({uid:/^[a-zA-Z][a-zA-Z0-9_-]*$/})},47047:function(se,j,e){"use strict";e.d(j,{r:function(){return d}});var v=e(97857),m=e.n(v),x=e(67294),u=e(13511),p=function(t,c){return Object.keys(c).map(function(i){var a=c[i];return m()(m()({},a),{},{key:i,children:Object.keys(t[i]||{}).map(function(f){var l=t[i][f];return m()({value:f,label:l.title,name:f},t[i][f])}).sort(function(f,l){return f.order-l.order})})}).sort(function(i,a){return i.order-a.order})},d=function(){var t=(0,u.fp)();return(0,x.useMemo)(function(){var c=t.collectionFieldInterfaceManager.getFieldInterfaces(),i=t.collectionFieldInterfaceManager.getFieldInterfaceGroups(),a=c.reduce(function(f,l){var n=l.group||"basic";return f[n]||(f[n]=[]),f[n].push(l),f},{});return p(a,i)},[t])}},63250:function(se,j,e){"use strict";e.d(j,{KD:function(){return g},eS:function(){return y},pv:function(){return r},rf:function(){return a},u3:function(){return o}});var v=e(19632),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(67294),h=e(6145),t=e(21143),c=e(72029),i=e(85893),a=(0,d.createContext)(null);a.displayName="ResourceActionContext";var f=(0,d.createContext)(null);f.displayName="ResourceContext";var l=function(P){var E,O,T,S,$=P.collection,Z=P.request,K=P.uid,z=P.dragSort,w=(0,c.LY)(),A=(0,t.useRecord)(),M=Z==null?void 0:Z.action,b={};M==="get"&&(b.filterByTk=A[$.targetKey||$.filterTargetKey||"id"]);var R=(Z==null||(E=Z.params)===null||E===void 0?void 0:E.appends)||[],L=(0,c.QT)(u()(u()({},Z),{},{params:u()(u()(u()({},b),Z==null?void 0:Z.params),{},{appends:[].concat(m()(($==null||(O=$.fields)===null||O===void 0||(T=O.filter)===null||T===void 0?void 0:T.call(O,function(B){return B.target}).map(function(B){return B.name}))||[]),m()(R)),sort:z?[$.sortable===!0?"sort":$.sortable]:Z==null||(S=Z.params)===null||S===void 0?void 0:S.sort})}),{uid:K}),N=w.resource(Z.resource);return(0,i.jsx)(f.Provider,{value:{type:"collection",resource:N,collection:$},children:(0,i.jsx)(a.Provider,{value:u()(u()({},L),{},{defaultRequest:Z,dragSort:z}),children:(0,i.jsx)(t.CollectionProvider_deprecated,{collection:$,children:P.children})})})},n=function(P){var E,O,T,S=P.collection,$=P.association,Z=P.request,K=P.uid,z=P.dragSort,w=(0,c.LY)(),A=(0,t.useRecord)(),M=A[$.sourceKey],b=(Z==null||(E=Z.params)===null||E===void 0?void 0:E.appends)||[],R=(0,c.QT)(u()(u()({resourceOf:M},Z),{},{params:u()(u()({},Z==null?void 0:Z.params),{},{appends:[].concat(m()((S==null||(O=S.fields)===null||O===void 0||(T=O.filter)===null||T===void 0?void 0:T.call(O,function(N){return N.target}).map(function(N){return N.name}))||[]),m()(b))})}),{uid:K}),L=w.resource(Z.resource,M);return(0,i.jsx)(f.Provider,{value:{type:"association",resource:L,association:$,collection:S},children:(0,i.jsx)(a.Provider,{value:u()(u()({},R),{},{defaultRequest:Z,dragSort:z}),children:(0,i.jsx)(t.CollectionProvider_deprecated,{collection:S,children:P.children})})})},r=function(P){var E,O=P.collection,T=P.request,S=(0,h.useCollectionManager_deprecated)(),$=S.getCollection;return typeof O=="string"&&(O=$(O)),O?T!=null&&(E=T.resource)!==null&&E!==void 0&&E.includes(".")?(0,i.jsx)(n,u()(u()({},P),{},{collection:O})):(0,i.jsx)(l,u()(u()({},P),{},{collection:O})):null},o=function(){return(0,d.useContext)(a)},g=function(P){var E=(0,d.useContext)(a),O=(0,p.useField)();return(0,d.useEffect)(function(){E.loading||(P==null||P.onSuccess(E.data),O.componentProps.dragSort=!!E.dragSort)},[E.loading]),E},y=function(){var P=(0,d.useContext)(f),E=P.type,O=P.resource,T=P.collection,S=P.association;return{type:E,resource:O,collection:T,association:S,targetKey:(S==null?void 0:S.targetKey)||(T==null?void 0:T.targetKey)||"id"}}},44355:function(se,j,e){"use strict";e.r(j),e.d(j,{isDeleteButtonDisabled:function(){return de},useBulkDestroyAction:function(){return te},useBulkDestroyActionAndRefreshCM:function(){return ue},useCancelAction:function(){return w},useChildrenCollections:function(){return L},useCollectionFieldsOptions:function(){return I},useCollectionFilterOptions:function(){return B},useCollectionFilterOptionsV2:function(){return V},useCreateAction:function(){return X},useCreateActionAndRefreshCM:function(){return ne},useCreateActionWithoutRefresh:function(){return J},useDeleteButtonDisabled:function(){return fe},useDestroyAction:function(){return H},useDestroyActionAndRefreshCM:function(){return ee},useFilterAction:function(){return W},useFilterActionProps:function(){return Se},useFilterDataSource:function(){return F},useKanbanEvents:function(){return b},useLinkageCollectionFilterOptions:function(){return U},useMoveAction:function(){return k},useResetFilterAction:function(){return M},useSelfAndChildrenCollections:function(){return N},useSortFields:function(){return R},useUpdateAction:function(){return Y},useUpdateActionAndRefreshCM:function(){return ie},useUpdateViewAction:function(){return C},useValuesFromRA:function(){return le},useValuesFromRecord:function(){return A}});var v=e(61227),m=e.n(v),x=e(19632),u=e.n(x),p=e(9783),d=e.n(p),h=e(97857),t=e.n(h),c=e(15009),i=e.n(c),a=e(99289),f=e.n(a),l=e(94350),n=e(45360),r=e(96486),o=e.n(r),g=e(50361),y=e.n(g),D=e(57557),P=e.n(D),E=e(67294),O=e(26793),T=e(6145),S=e(72029),$=e(36586),Z=e(98427),K=e(89127),z=e(63250),w=function(){var G=(0,l.useForm)(),re=(0,Z.XCj)();return{run:function(){return f()(i()().mark(function ce(){return i()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:re.setVisible(!1),G.reset();case 2:case"end":return xe.stop()}},ce)}))()}}},A=function(G){var re=(0,$.a)(),oe=(0,S.QT)(function(){return Promise.resolve({data:P()(y()(re),["__parent","__collectionName"])})},t()(t()({},G),{},{manual:!0})),ce=(0,Z.XCj)();return(0,E.useEffect)(function(){ce.visible&&oe.run()},[ce.visible]),oe},M=function(){var G=(0,z.u3)(),re=G.run,oe=(0,l.useForm)(),ce=(0,Z.XCj)();return{run:function(){return f()(i()().mark(function xe(){return i()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:oe.reset(),re(),ce.setVisible(!1);case 3:case"end":return he.stop()}},xe)}))()}}},b=function(){var G=(0,T.useCollection_deprecated)(),re=G.resource;return{onCardDragEnd:function(ce,be,xe){return f()(i()().mark(function ge(){var he,Pe,Ae,Be,Le,Me,Te,we,Ue,je,De,ye,_e;return i()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return Ae=ce.columns,Be=ce.groupField,Le=be.fromColumnId,Me=be.fromPosition,Te=xe.toColumnId,we=xe.toPosition,Ue=Ae.find(function(Re){return Re.id===Le}),je=Ae.find(function(Re){return Re.id===Te}),De=Ue==null||(he=Ue.cards)===null||he===void 0?void 0:he[Me],ye=je==null||(Pe=je.cards)===null||Pe===void 0?void 0:Pe[we],_e={sourceId:De.id,sortField:"".concat(Be.name,"_sort")},ye?_e.targetId=ye.id:_e.targetScope=d()({},Be.name,Te),pe.next=11,re.move(_e);case 11:case"end":return pe.stop()}},ge)}))()}}},R=function(G){var re=(0,T.useCollectionManager_deprecated)(),oe=re.getCollectionFields,ce=re.getInterface,be=oe(G);return be.filter(function(xe){if(!xe.interface)return!1;var ge=ce(xe.interface);return!!(ge!=null&&ge.sortable)}).map(function(xe){var ge;return{value:xe.name,label:(xe==null||(ge=xe.uiSchema)===null||ge===void 0?void 0:ge.title)||xe.name}})},L=function(G){var re=(0,T.useCollectionManager_deprecated)(),oe=re.getChildrenCollections,ce=oe(G);return ce.map(function(be){return{value:be.name,label:(be==null?void 0:be.title)||be.name}})},N=function(G){var re=(0,T.useCollectionManager_deprecated)(),oe=re.getChildrenCollections,ce=re.getCollection,be=oe(G),xe=ce(G);if(!G)return null;var ge=be.map(function(he){return{value:he.name,label:(he==null?void 0:he.title)||he.name}});return ge.unshift({value:xe.name,label:(xe==null?void 0:xe.title)||xe.name}),ge},B=function(G,re){var oe=(0,T.useCollectionManager_deprecated)(),ce=oe.getCollectionFields,be=oe.getInterface;return(0,E.useMemo)(function(){var xe=ce(G,re),ge=function(Be,Le){var Me,Te;if(Be.interface){var we=be(Be.interface);if(we!=null&&we.filterable){var Ue=we.filterable,je=Ue.nested,De=Ue.children,ye=Ue.operators,_e={name:Be.name,title:(Be==null||(Me=Be.uiSchema)===null||Me===void 0?void 0:Me.title)||Be.name,schema:Be==null?void 0:Be.uiSchema,operators:(ye==null||(Te=ye.filter)===null||Te===void 0?void 0:Te.call(ye,function(Oe){return!(Oe!=null&&Oe.visible)||Oe.visible(Be)}))||[],interface:Be.interface};if(!(Be.target&&Le>2)){if(Le>2)return _e;if(De!=null&&De.length&&(_e.children=De),je){var q,pe=ce(Be.target,re),Re=he(pe,Le+1).filter(Boolean);_e.children=_e.children||[],(q=_e.children).push.apply(q,u()(Re))}return _e}}}},he=function(Be,Le){var Me=[];return Be.forEach(function(Te){var we=ge(Te,Le);we&&Me.push(we)}),Me},Pe=he(xe,1);return Pe},[o().isString(G)?G:G==null?void 0:G.name,re])},V=function(G){var re=(0,T.useCollectionManager_deprecated)(),oe=re.getCollectionFields,ce=re.getInterface,be=(0,E.useCallback)(function(){var xe=oe(G),ge=function(Be,Le){var Me,Te;if(Be.interface){var we=ce(Be.interface);if(we!=null&&we.filterable){var Ue=we.filterable,je=Ue.nested,De=Ue.children,ye=Ue.operators,_e={name:Be.name,title:(Be==null||(Me=Be.uiSchema)===null||Me===void 0?void 0:Me.title)||Be.name,schema:Be==null?void 0:Be.uiSchema,operators:(ye==null||(Te=ye.filter)===null||Te===void 0?void 0:Te.call(ye,function(Oe){return!(Oe!=null&&Oe.visible)||Oe.visible(Be)}))||[],interface:Be.interface};if(!(Be.target&&Le>2)){if(Le>2)return _e;if(De!=null&&De.length&&(_e.children=De),je){var q,pe=oe(Be.target),Re=he(pe,Le+1).filter(Boolean);_e.children=_e.children||[],(q=_e.children).push.apply(q,u()(Re))}return _e}}}},he=function(Be,Le){var Me=[];return Be.forEach(function(Te){var we=ge(Te,Le);we&&Me.push(we)}),Me},Pe=he(xe,1);return Pe},[o().isString(G)?G:G==null?void 0:G.name]);return{getFields:be}},U=function(G){var re=(0,T.useCollectionManager_deprecated)(),oe=re.getCollectionFields,ce=re.getInterface,be=oe(G),xe=function(Ae,Be){var Le,Me;if(Ae.interface){var Te=ce(Ae.interface);if(Te!=null&&Te.filterable){var we=Te.filterable,Ue=we.nested,je=we.children,De=we.operators,ye={name:Ae.name,title:(Ae==null||(Le=Ae.uiSchema)===null||Le===void 0?void 0:Le.title)||Ae.name,schema:Ae==null?void 0:Ae.uiSchema,operators:(De==null||(Me=De.filter)===null||Me===void 0?void 0:Me.call(De,function(Re){return!(Re!=null&&Re.visible)||Re.visible(Ae)}))||[],interface:Ae.interface};if(!(Ae.target&&Be>2)){if(Be>2)return ye;if(je!=null&&je.length&&(ye.children=je),Ue){var _e,q=oe(Ae.target).filter(function(Re){return["hasMany","belongsToMany"].includes(Ae.type)?!["hasOne","hasMany","belongsToMany"].includes(Re.type):!["hasMany","belongsToMany"].includes(Re.type)}),pe=ge(q,Be+1).filter(Boolean);ye.children=ye.children||[],(_e=ye.children).push.apply(_e,u()(pe))}return ye}}}},ge=function(Ae,Be){var Le=[];return Ae.forEach(function(Me){var Te=xe(Me,Be);Te&&Le.push(Te)}),Le},he=ge(be,1);return he},I=function(G){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ce=(0,T.useCollectionManager_deprecated)(),be=ce.getCollectionFields,xe=ce.getInterface,ge=be(G).filter(function(Be){return!oe.includes(Be.interface)}),he=function(Le,Me,Te){var we;if(Le.interface){var Ue=xe(Le.interface);if(Ue!=null&&Ue.filterable){var je=Ue.filterable,De=je.nested,ye=je.children,_e=Te?"".concat(Te,".").concat(Le.name):Le.name,q=t()(t()({},Le),{},{name:Le.name,title:(Le==null||(we=Le.uiSchema)===null||we===void 0?void 0:we.title)||Le.name,schema:Le==null?void 0:Le.uiSchema,key:_e});if(!(Le.target&&Me>re)){if(Me>re)return q;if(ye!=null&&ye.length&&(q.children=ye.map(function($e){return t()(t()({},$e),{},{key:"".concat(Le.name,".").concat($e.name)})})),De){var pe,Re=be(Le.target).filter(function($e){return!oe.includes($e.interface)}),Oe=Pe(Re,Me+1,Le.name).filter(Boolean);q.children=q.children||[],(pe=q.children).push.apply(pe,u()(Oe))}return q}}}},Pe=function(Le,Me,Te){var we=[];return Le.forEach(function(Ue){var je=he(Ue,Me,Te);je&&we.push(je)}),we},Ae=Pe(ge,1);return Ae},F=function(G){var re=(0,T.useCollection_deprecated)(),oe=re.name,ce=B(oe);return(0,S.QT)(function(){return Promise.resolve({data:ce})},G)},W=function(){var G=(0,z.u3)(),re=G.run,oe=G.params,ce=G.defaultRequest,be=(0,l.useForm)(),xe=(0,Z.XCj)(),ge=m()(oe),he=ge[0],Pe=ge.slice(1);return{run:function(){return f()(i()().mark(function Be(){var Le,Me,Te;return i()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:Me=ce==null||(Le=ce.params)===null||Le===void 0?void 0:Le.filter,Te=Me?{$and:[Me,be.values.filter]}:be.values.filter,re.apply(void 0,[t()(t()({},he),{},{filter:Te})].concat(u()(Pe))),xe.setVisible(!1);case 4:case"end":return Ue.stop()}},Be)}))()}}},X=function(G){var re=(0,l.useForm)(),oe=(0,l.useField)(),ce=(0,Z.XCj)(),be=(0,z.u3)(),xe=be.refresh,ge=(0,z.eS)(),he=ge.resource;return{run:function(){return f()(i()().mark(function Ae(){var Be,Le;return i()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.prev=0,Te.next=3,re.submit();case 3:return oe.data=oe.data||{},oe.data.loading=!0,Te.next=7,he.create({values:re.values});case 7:return Le=Te.sent,ce.setVisible(!1),G==null||G(Le==null||(Be=Le.data)===null||Be===void 0?void 0:Be.data),Te.next=12,re.reset();case 12:oe.data.loading=!1,xe(),Te.next=19;break;case 16:Te.prev=16,Te.t0=Te.catch(0),oe.data&&(oe.data.loading=!1);case 19:case"end":return Te.stop()}},Ae,null,[[0,16]])}))()}}},J=function(G){var re=(0,l.useForm)(),oe=(0,z.eS)(),ce=oe.resource;return{run:function(){return f()(i()().mark(function xe(){var ge,he;return i()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,re.submit();case 2:return Ae.next=4,ce.create({values:re.values});case 4:return he=Ae.sent,G==null||G(he==null||(ge=he.data)===null||ge===void 0?void 0:ge.data),Ae.next=8,re.reset();case 8:case"end":return Ae.stop()}},xe)}))()}}},C=function(G){var re=(0,l.useForm)(),oe=(0,Z.XCj)(),ce=(0,z.eS)(),be=ce.resource,xe=ce.targetKey,ge=(0,$.a)(),he=ge[xe];return{run:function(){return f()(i()().mark(function Ae(){var Be,Le;return i()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.next=2,re.submit();case 2:return Te.next=4,be.update({filterByTk:he,values:re.values});case 4:Le=Te.sent,G==null||G(he,Le==null||(Be=Le.data)===null||Be===void 0?void 0:Be.data),n.ZP.success("\u4FDD\u5B58\u6210\u529F");case 7:case"end":return Te.stop()}},Ae)}))()}}},k=function(){var G=(0,z.eS)(),re=G.resource,oe=(0,z.u3)(),ce=oe.refresh;return{move:function(xe,ge){return f()(i()().mark(function he(){return i()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,re.move({sourceId:xe.id,targetId:ge.id});case 2:ce();case 3:case"end":return Ae.stop()}},he)}))()}}},Y=function(G){var re=(0,l.useField)(),oe=(0,l.useForm)(),ce=(0,Z.XCj)(),be=(0,z.u3)(),xe=be.refresh,ge=(0,z.eS)(),he=ge.resource,Pe=ge.targetKey,Ae=(0,$.a)(),Be=Ae[Pe];return{run:function(){return f()(i()().mark(function Me(){var Te,we;return i()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.next=2,oe.submit();case 2:return re.data=re.data||{},re.data.loading=!0,je.prev=4,je.next=7,he.update({filterByTk:Be,values:oe.values});case 7:return we=je.sent,ce.setVisible(!1),G==null||G(Be,we==null||(Te=we.data)===null||Te===void 0?void 0:Te.data),je.next=12,oe.reset();case 12:xe(),je.next=18;break;case 15:je.prev=15,je.t0=je.catch(4),console.log(je.t0);case 18:return je.prev=18,re.data.loading=!1,je.finish(18);case 21:case"end":return je.stop()}},Me,null,[[4,15,18,21]])}))()}}},H=function(G){var re=(0,z.u3)(),oe=re.refresh,ce=(0,z.eS)(),be=ce.resource,xe=ce.targetKey,ge=(0,$.a)(),he=ge[xe];return{run:function(){return f()(i()().mark(function Ae(){return i()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,be.destroy({filterByTk:he});case 2:G==null||G(he),oe();case 4:case"end":return Le.stop()}},Ae)}))()}}},te=function(G){var re=(0,z.u3)(),oe=re.state,ce=re.setState,be=re.refresh,xe=(0,z.eS)(),ge=xe.resource,he=(0,O.$)(),Pe=he.t;return{run:function(){return f()(i()().mark(function Be(){var Le;return i()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(oe!=null&&(Le=oe.selectedRowKeys)!==null&&Le!==void 0&&Le.length){Te.next=2;break}return Te.abrupt("return",n.ZP.error(Pe("Please select the records you want to delete")));case 2:return Te.next=4,ge.destroy({filterByTk:(oe==null?void 0:oe.selectedRowKeys)||[]});case 4:G==null||G(oe==null?void 0:oe.selectedRowKeys),ce==null||ce({selectedRowKeys:[]}),be();case 7:case"end":return Te.stop()}},Be)}))()}}},le=function(G){var re=(0,z.u3)();return(0,S.QT)(function(){return Promise.resolve(re.data)},t()(t()({},G),{},{refreshDeps:[re.data]}))},ne=function(){var G=X(),re=G.run,oe=(0,T.useCollectionManager_deprecated)(),ce=oe.refreshCM;return{run:function(){return f()(i()().mark(function xe(){return i()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,re();case 2:return he.next=4,ce();case 4:case"end":return he.stop()}},xe)}))()}}},ie=function(){var G=Y(),re=G.run,oe=(0,T.useCollectionManager_deprecated)(),ce=oe.refreshCM;return{run:function(){return f()(i()().mark(function xe(){return i()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,re();case 2:return he.next=4,ce();case 4:case"end":return he.stop()}},xe)}))()}}},ee=function(){var G=H(),re=G.run,oe=(0,T.useCollectionManager_deprecated)(),ce=oe.refreshCM;return{run:function(){return f()(i()().mark(function xe(){return i()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,re();case 2:return he.next=4,ce();case 4:case"end":return he.stop()}},xe)}))()}}},fe=function(G){var re=(0,$.a)();return de(G||re)},de=function(G){var re=G||{},oe=re.interface,ce=re.deletable,be=ce===void 0?!0:ce;return!be||oe==="id"},ue=function(){var G=te(),re=G.run,oe=(0,T.useCollectionManager_deprecated)(),ce=oe.refreshCM;return{run:function(){return f()(i()().mark(function xe(){return i()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,re();case 2:return he.next=4,ce();case 4:case"end":return he.stop()}},xe)}))()}}},Se=function(){var G,re=(0,z.eS)(),oe=re.collection,ce=(0,K.V8)(oe.fields),be=(0,z.u3)();return(0,K.tM)({options:ce.filter(function(xe){return["title","name","hidden"].includes(xe.name)}),params:((G=be.state)===null||G===void 0||(G=G.params)===null||G===void 0?void 0:G[0])||be.params,service:be})}},73085:function(se,j,e){"use strict";e.d(j,{w:function(){return X}});var v=e(15009),m=e.n(v),x=e(19632),u=e.n(x),p=e(99289),d=e.n(p),h=e(12444),t=e.n(h),c=e(72004),i=e.n(c),a=e(31996),f=e.n(a),l=e(26037),n=e.n(l),r=e(31601),o=e(88049),g=e(45590),y=e(25098),D=e.n(y),P=e(9783),E=e.n(P),O=e(34096),T=e(66704),S=function(J){f()(k,J);var C=n()(k);function k(){var Y;t()(this,k);for(var H=arguments.length,te=new Array(H),le=0;le<H;le++)te[le]=arguments[le];return Y=C.call.apply(C,[this].concat(te)),E()(D()(Y),"name","general"),E()(D()(Y),"title",'{{t("General collection")}}'),E()(D()(Y),"order",1),E()(D()(Y),"color","blue"),E()(D()(Y),"default",{fields:[]}),E()(D()(Y),"configurableProperties",(0,T.p)("associatedApp","title","name","inherits","description","presetFields")),Y}return i()(k)}(O.P),$=function(J){f()(k,J);var C=n()(k);function k(){var Y;t()(this,k);for(var H=arguments.length,te=new Array(H),le=0;le<H;le++)te[le]=arguments[le];return Y=C.call.apply(C,[this].concat(te)),E()(D()(Y),"name","comment"),E()(D()(Y),"title",'{{t("Comment collection")}}'),E()(D()(Y),"order",1),E()(D()(Y),"color","blue"),E()(D()(Y),"default",{fields:[{name:"content",uiSchema:{"x-component-props":{fileCollection:"",toolbar:["headings","bold","italic","strike","link","list","ordered-list","check","quote","line","code","inline-code","upload","fullscreen"]},type:"string","x-component":"MarkdownVditor",title:'{{t("Comment Content", {"ns":"comments"})}}'},type:"text",length:"long",interface:"vditor",deletable:!1}]}),E()(D()(Y),"configurableProperties",(0,T.p)("associatedApp","title","name","inherits","category","description","presetFields")),Y}return i()(k)}(O.P),Z=function(J){f()(k,J);var C=n()(k);function k(){var Y;t()(this,k);for(var H=arguments.length,te=new Array(H),le=0;le<H;le++)te[le]=arguments[le];return Y=C.call.apply(C,[this].concat(te)),E()(D()(Y),"name","tree"),E()(D()(Y),"title",'{{t("Tree collection")}}'),E()(D()(Y),"order",3),E()(D()(Y),"color","blue"),E()(D()(Y),"default",{tree:"adjacencyList",fields:[{interface:"integer",name:"parentId",type:"bigInt",isForeignKey:!0,uiSchema:{type:"number",title:'{{t("Parent ID")}}',"x-component":"InputNumber","x-read-pretty":!0}},{interface:"m2o",type:"belongsTo",name:"parent",foreignKey:"parentId",treeParent:!0,onDelete:"CASCADE",uiSchema:{title:'{{t("Parent")}}',"x-component":"AssociationField","x-component-props":{multiple:!1,fieldNames:{label:"id",value:"id"}}}},{interface:"o2m",type:"hasMany",name:"children",foreignKey:"parentId",treeChildren:!0,onDelete:"CASCADE",uiSchema:{title:'{{t("Children")}}',"x-component":"AssociationField","x-component-props":{multiple:!0,fieldNames:{label:"id",value:"id"}}}}]}),E()(D()(Y),"presetFieldsDisabledIncludes",["id"]),E()(D()(Y),"events",{beforeSubmit:function(ie){Array.isArray(ie==null?void 0:ie.fields)&&(ie==null||ie.fields.map(function(ee){!ee.target&&["belongsToMany","belongsTo","hasMany","hasOne"].includes(ee.type)&&(ee.target=ie.name)}))}}),E()(D()(Y),"configurableProperties",(0,T.p)("associatedApp","title","name","inherits","category","description","presetFields")),Y}return i()(k)}(O.P),K=e(27655),z=function(J){f()(k,J);var C=n()(k);function k(){var Y;t()(this,k);for(var H=arguments.length,te=new Array(H),le=0;le<H;le++)te[le]=arguments[le];return Y=C.call.apply(C,[this].concat(te)),E()(D()(Y),"name","expression"),E()(D()(Y),"title",'{{t("Expression collection")}}'),E()(D()(Y),"order",4),E()(D()(Y),"color","orange"),E()(D()(Y),"default",{createdBy:!0,updatedBy:!0,createdAt:!0,updatedAt:!0,sortable:!0,fields:[{name:"engine",type:"string",interface:"radioGroup",uiSchema:{type:"string",title:'{{t("Calculation engine")}}',"x-component":"Radio.Group",enum:(0,K.getOptions)(),default:"formula.js"}},{name:"sourceCollection",type:"string",interface:"select",uiSchema:{type:"string",title:'{{t("Collection")}}',"x-component":"CollectionSelect","x-component-props":{}}},{name:"expression",type:"text",interface:"expression",uiSchema:{type:"string",title:'{{t("Expression")}}',"x-component":"DynamicExpression"}}]}),E()(D()(Y),"availableFieldInterfaces",{include:[]}),E()(D()(Y),"configurableProperties",(0,T.p)("associatedApp","title","name","inherits","description","presetFields")),Y}return i()(k)}(O.P),w=e(97857),A=e.n(w),M=e(41028),b=e(88962),R=function(J){f()(k,J);var C=n()(k);function k(){var Y;t()(this,k);for(var H=arguments.length,te=new Array(H),le=0;le<H;le++)te[le]=arguments[le];return Y=C.call.apply(C,[this].concat(te)),E()(D()(Y),"name","view"),E()(D()(Y),"title",'{{t("Connect to database view")}}'),E()(D()(Y),"order",4),E()(D()(Y),"color","yellow"),E()(D()(Y),"default",{fields:[]}),E()(D()(Y),"divider",!0),E()(D()(Y),"configurableProperties",A()(A()({},(0,T.p)("associatedApp","title")),{},{name:{type:"string",title:'{{t("Collection name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input","x-validator":"uid",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-reactions":{dependencies:["databaseView"],when:"{{isPG}}",fulfill:{state:{initialValue:"{{$deps[0]&&$deps[0].match(/^([^_]+)_(.*)$/)?.[2]}}"}},otherwise:{state:{value:null}}}},databaseView:{title:'{{t("Connect to database view")}}',type:"single",required:!0,"x-decorator":"FormItem","x-component":"Select","x-reactions":["{{useAsyncDataSource(loadDBViews)}}"],"x-disabled":"{{ !createOnly }}"},schema:{type:"string","x-hidden":!0,"x-reactions":{dependencies:["databaseView"],when:"{{isPG}}",fulfill:{state:{value:"{{$deps[0].split('_')?.[0]}}"}},otherwise:{state:{value:null}}}},viewName:{type:"string","x-hidden":!0,"x-reactions":{dependencies:["databaseView"],when:"{{isPG}}",fulfill:{state:{value:"{{$deps[0].match(/^([^_]+)_(.*)$/)?.[2]}}"}},otherwise:{state:{value:"{{$deps[0]}}"}}}},writableView:{type:"boolean","x-content":'{{t("Allow add new, update and delete actions")}}',"x-decorator":"FormItem","x-component":"Checkbox",default:!1},sources:{type:"array",title:'{{ t("Source collections") }}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{multiple:!0},"x-reactions":["{{useAsyncDataSource(loadCollections)}}"],"x-disabled":!0},fields:{type:"array","x-component":M.f,"x-hidden":"{{ !createOnly }}","x-reactions":{dependencies:["name"],fulfill:{schema:{"x-component-props":"{{$form.values}}"}}}},preview:{type:"void","x-visible":"{{ createOnly }}","x-component":b.S,"x-reactions":{dependencies:["name","fields"],fulfill:{schema:{"x-component-props":"{{$form.values}}"}}}},filterTargetKey:{title:'{{ t("Filter target key")}}',type:"single",description:'{{t( "Filter data based on the specific field, with the requirement that the field value must be unique.")}}',"x-decorator":"FormItem","x-component":"Select","x-reactions":["{{useAsyncDataSource(loadFilterTargetKeys)}}"]}},(0,T.p)("category","description"))),Y}return i()(k)}(O.P),L=e(58384),N=e(78317),B=function(J){f()(k,J);var C=n()(k);function k(){var Y;t()(this,k);for(var H=arguments.length,te=new Array(H),le=0;le<H;le++)te[le]=arguments[le];return Y=C.call.apply(C,[this].concat(te)),E()(D()(Y),"name","sql"),E()(D()(Y),"title",'{{t("SQL collection")}}'),E()(D()(Y),"order",4),E()(D()(Y),"color","yellow"),E()(D()(Y),"default",{fields:[]}),E()(D()(Y),"configurableProperties",A()(A()(A()({},(0,T.p)("associatedApp","title","name")),{},{config:{type:"void","x-decorator":N._E,properties:{sql:{type:"string",title:'{{t("SQL")}}',"x-decorator":"FormItem","x-component":N.sv,required:!0,"x-validator":function(ie,ee,fe){var de=fe.form,ue=de.query("sql").take();return ue.componentProps.disabled?"":L.a.t("Please confirm the SQL statement first")}},sources:{type:"array",title:'{{t("Source collections")}}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{multiple:!0},"x-reactions":["{{useAsyncDataSource(loadCollections)}}"]},fields:{type:"array",title:'{{t("Fields")}}',"x-decorator":"FormItem","x-component":N.V0,required:!0},table:{type:"void",title:'{{t("Preview")}}',"x-decorator":"FormItem","x-component":N.SN}}}},(0,T.p)("category")),{},{filterTargetKey:{title:'{{ t("Filter target key")}}',type:"single",description:'{{t( "Filter data based on the specific field, with the requirement that the field value must be unique.")}}',"x-decorator":"FormItem","x-component":"Select","x-reactions":["{{useAsyncDataSource(loadFilterTargetKeys)}}"]}})),Y}return i()(k)}(O.P),V=e(57638),U=e(35519),I=e(96486),F=e.n(I),W=function(J){f()(k,J);var C=n()(k);function k(){return t()(this,k),C.apply(this,arguments)}return i()(k,[{key:"getDataSource",value:function(){var Y=d()(m()().mark(function te(){var le,ne,ie,ee,fe,de,ue,Se,ae;return m()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,this.app.apiClient.request({resource:"collections",action:"list",params:{paginate:!1,appends:["fields","category","associatedApp","referenceApp","associatedApp.applicationsRelationShip"],filter:{},sort:["sort"]}});case 2:return ne=re.sent,ie=(ne==null||(le=ne.data)===null||le===void 0?void 0:le.data)||[],ee=JSON.parse(this.app.apiClient.auth.getRoleAuth())||null,fe=this.app.apiClient.auth.getRole(),ee?(ue=ee.role=="root"?!0:ee==null||(de=ee.strategy)===null||de===void 0||(de=de.actions)===null||de===void 0?void 0:de.includes("view"),ie=ie.filter(function(oe){return!ue&&F().get(ee.actions,oe.name+":view",[]).length==0?!1:!(ue&&ee.resources.includes(oe.name)&&F().get(ee.actions,oe.name+":view",[]).length==0)}),Se=["hasOne","hasMany","belongsTo","belongsToMany"],ae=ie.map(function(oe){return oe.name}),ae.push("attachments"),ie.map(function(oe){var ce=[];F().has(ee.actions,oe.name+":view")?ce=[].concat(u()(F().get(ee.actions,oe.name+":view.fields",[])),u()(F().get(ee.actions,oe.name+":view.appends",[]))):ce=oe.fields.map(function(xe){return xe.name});var be=oe.fields.filter(function(xe){return Se.includes(xe.type)&&ce.includes(xe.name)&&!ae.includes(xe.target)?!1:!!ce.includes(xe.name)});return oe.fields=be,oe})):ie=[],re.abrupt("return",{collections:ie});case 8:case"end":return re.stop()}},te,this)}));function H(){return Y.apply(this,arguments)}return H}()}]),k}(U.o),X=function(J){f()(k,J);var C=n()(k);function k(){return t()(this,k),C.apply(this,arguments)}return i()(k,[{key:"load",value:function(){var Y=d()(m()().mark(function te(){return m()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:this.dataSourceManager.addCollectionMixins([o.d]),this.addFieldInterfaces(),this.addCollectionTemplates(),this.addFieldInterfaces(),this.addFieldInterfaceGroups(),this.addMainDataSource();case 6:case"end":return ne.stop()}},te,this)}));function H(){return Y.apply(this,arguments)}return H}()},{key:"addMainDataSource",value:function(){var H;((H=this.options)===null||H===void 0||(H=H.config)===null||H===void 0?void 0:H.enableRemoteDataSource)!==!1&&this.dataSourceManager.addDataSource(W,{key:V.ym,displayName:V.UC})}},{key:"addFieldInterfaceGroups",value:function(){this.dataSourceManager.addFieldInterfaceGroups({basic:{label:'{{t("Basic")}}'},choices:{label:'{{t("Choices")}}'},media:{label:'{{t("Media")}}'},datetime:{label:'{{t("Date & Time")}}'},relation:{label:'{{t("Relation")}}'},advanced:{label:'{{t("Advanced type")}}'},systemInfo:{label:'{{t("System info")}}'},others:{label:'{{t("Others")}}'}})}},{key:"addFieldInterfaces",value:function(){this.dataSourceManager.addFieldInterfaces([g.gV,g.kN,g.oB,g.fe,g.uK,g.O6,g.M6,g.kE,g.mb,g.hF,g.Op,g.MF,g.E$,g.V1,g.ck,g.MU,g.mc,g.Rh,g.AU,g.hy,g.zG,g.Yj,g.Ax,g.sy,g.sG,g.GK,g.Hz,g.yN,g.UZ,g.ti,g.xo,g.g3,g.zp,g.Hw,g.Sw,g.rb,g.lS,g.xP,g.B7,g.rB,g.Dr,g.r,g.Qh,g.KQ,g.nd,g.Os,g.dX])}},{key:"addCollectionTemplates",value:function(){this.dataSourceManager.addCollectionTemplates([S,$,z,B,Z,R])}}]),k}(r.S)},91970:function(se,j,e){"use strict";e.d(j,{l:function(){return m}});var v=e(67294),m=(0,v.createContext)({data:[],refresh:function(){}});m.displayName="CollectionCategroriesContext"},29796:function(se,j,e){"use strict";e.d(j,{s7:function(){return a},Wm:function(){return t},Bu:function(){return c.B},UJ:function(){return v.U}});var v=e(7939),m=e(97857),x=e.n(m),u=e(72029),p=e(67668),d=e(36586),h=e(98427),t=function(){var l=(0,v.U)(),n=(0,d.a)(),r=(0,u.LY)(),o=(0,h.eJW)(),g=(0,p.Hy)();if(!g)return{};var y="".concat((g==null?void 0:g.collectionName)||(l==null?void 0:l.name),".").concat(g.name),D=r==null?void 0:r.resource(y,n[g.sourceKey]);return x()(x()({},g),{},{uiSchema:o(g.uiSchema),resource:D})},c=e(99986),i=e(85667);function a(f){var l=(0,h.eJW)(),n=(0,c.B)(),r=n.collections,o=r===void 0?[]:r;return function(g){i.action.bound(function(y){var D=typeof f=="function"?y.filter(f):y;g.dataSource=D.map(function(P){return{label:l(P.title),value:P.name}})})(o)}}},99986:function(se,j,e){"use strict";e.d(j,{B:function(){return o}});var v=e(19632),m=e.n(v),x=e(97857),u=e.n(x),p=e(5574),d=e.n(p),h=e(96486),t=e.n(h),c=e(67294),i=e(98427),a=e(84327),f=e(13511),l=e(44990),n=e(57638),r=e(35746),o=function(y){var D=(0,f.fp)(),P=(0,l.wl)(),E=(0,r.d9)(),O=y||(P==null?void 0:P.key)||void 0,T=(0,c.useState)((0,a.uid)()),S=d()(T,2),$=S[0],Z=S[1],K=(0,i.Dmu)(),z=K.refresh,w=(0,c.useMemo)(function(){var ie;return D==null||(ie=D.collectionFieldInterfaceManager)===null||ie===void 0?void 0:ie.getFieldInterfaces().reduce(function(ee,fe){return ee[fe.name]=fe,ee},{})},[D,$]),A=(0,c.useMemo)(function(){return D==null?void 0:D.collectionTemplateManager.getCollectionTemplates()},[D,$]),M=(0,c.useCallback)(function(){var ie;return D==null||(ie=D.getDataSource(O))===null||ie===void 0||(ie=ie.collectionManager)===null||ie===void 0?void 0:ie.getCollections().map(function(ee){return ee.getOptions()})},[D,P]),b=(0,c.useCallback)(function(ie){var ee;return E&&!ie?E:D==null||(ee=D.getDataSource(ie||O))===null||ee===void 0?void 0:ee.collectionManager},[E,D,O]),R=(0,c.useMemo)(function(){var ie;return D==null||(ie=D.getDataSource(n.ym))===null||ie===void 0||(ie=ie.collectionManager)===null||ie===void 0?void 0:ie.getCollections()},[D,$]),L=(0,c.useCallback)(function(){return D==null?void 0:D.getDataSource(n.ym).reload().then(function(){z(),Z((0,a.uid)())})},[D]),N=(0,c.useCallback)(function(){return D==null?void 0:D.getDataSource(n.ym).reload().then(function(){z(),Z((0,a.uid)())})},[D]),B=(0,i.eJW)(),V=(0,c.useCallback)(function(ie,ee){var fe;return((fe=b(ee))===null||fe===void 0||(fe=fe.getCollection(ie))===null||fe===void 0?void 0:fe.getInheritedFields())||[]},[D,b]),U=(0,c.useCallback)(function(ie,ee){var fe,de;if(!ie)return[];var ue=(fe=b(ee))===null||fe===void 0?void 0:fe.getCollection(ie);return(ue==null||(de=ue.getAllFields)===null||de===void 0?void 0:de.call(ue))||(ue==null?void 0:ue.getFields())||[]},[D,b]),I=(0,c.useCallback)(function(ie,ee){var fe;if(!(!ie||ie.split(".").length<2))return(fe=b(ee))===null||fe===void 0?void 0:fe.getCollectionField(ie)},[D,b]),F=(0,c.useCallback)(function(ie,ee){var fe;return ie?((fe=b(ee))===null||fe===void 0||(fe=fe.getCollection(ie))===null||fe===void 0?void 0:fe.getParentCollectionsName())||[]:[]},[D,b]),W=(0,c.useCallback)(function(ie){var ee,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,de=arguments.length>2?arguments[2]:void 0;if(!ie)return[];var ue=(ee=b(de))===null||ee===void 0?void 0:ee.getCollection(ie),Se=ue==null?void 0:ue.getChildrenCollections(fe);return Se||[]},[D,b]),X=(0,c.useCallback)(function(ie,ee){var fe;return ie?((fe=b(ee))===null||fe===void 0||(fe=fe.getCollection(ie))===null||fe===void 0?void 0:fe.getCurrentFields())||[]:[]},[D,b]),J=(0,c.useCallback)(function(ie){var ee,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"string",de=arguments.length>2?arguments[2]:void 0,ue=de||{},Se=ue.association,ae=Se===void 0?!1:Se,G=ue.cached,re=G===void 0?{}:G,oe=ue.collectionNames,ce=oe===void 0?[ie]:oe,be=ue.maxDepth,xe=be===void 0?1:be,ge=ue.allowAllTypes,he=ge===void 0?!1:ge,Pe=ue.exceptInterfaces,Ae=Pe===void 0?[]:Pe,Be=ue.prefixFieldValue,Le=Be===void 0?"":Be,Me=ue.usePrefix,Te=Me===void 0?!1:Me,we=ue.dataSource;if(!(ce.length-1>xe)){if(re[ie])return t().cloneDeep(re[ie]);typeof fe=="string"&&(fe=[fe]);var Ue=U(ie,we),je=Ue==null||(ee=Ue.filter(function(De){return De.interface&&!Ae.includes(De.interface)&&(he||fe.includes(De.type)||(ae&&De.target&&De.target!==ie&&Array.isArray(ae)?ae.includes(De.interface):!1))}))===null||ee===void 0?void 0:ee.map(function(De){var ye,_e=u()({value:Te&&Le?"".concat(Le,".").concat(De.name):De.name,label:B(De==null||(ye=De.uiSchema)===null||ye===void 0?void 0:ye.title)||De.name},De);if(ae&&De.target){var q;if(_e.children=ce.includes(De.target)?[]:J(De.target,fe,u()(u()({},de),{},{cached:re,dataSource:we,collectionNames:[].concat(m()(ce),[De.target]),prefixFieldValue:Te?Le?"".concat(Le,".").concat(De.name):De.name:"",usePrefix:Te})),!((q=_e.children)!==null&&q!==void 0&&q.length))return null}return _e}).filter(Boolean);return re[ie]=je,je}},[U]),C=(0,c.useCallback)(function(ie,ee){var fe;return(fe=b(ee))===null||fe===void 0?void 0:fe.getCollection(ie)},[D,b]),k=(0,c.useCallback)(function(ie,ee){var fe;return(fe=b(ee))===null||fe===void 0||(fe=fe.getCollection(ie))===null||fe===void 0?void 0:fe.getAllCollectionsInheritChain()},[D,b]),Y=(0,c.useCallback)(function(ie,ee){return function(){var fe;return(fe=b(ee))===null||fe===void 0||(fe=fe.getCollection(ie))===null||fe===void 0?void 0:fe.getInheritCollectionsChain()}},[D,b]),H=(0,c.useCallback)(function(ie){return D==null?void 0:D.collectionFieldInterfaceManager.getFieldInterface(ie)},[D]),te=function(ee){var fe;return(fe=H(ee.interface))===null||fe===void 0?void 0:fe.titleUsable},le=(0,c.useCallback)(function(ie,ee,fe){var de;return(de=b(fe))===null||de===void 0||(de=de.getCollection(ee))===null||de===void 0?void 0:de.getParentCollectionFields(ie)},[D,b]),ne=(0,c.useCallback)(function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"general";return D==null?void 0:D.collectionTemplateManager.getCollectionTemplate(ie)},[D]);return{service:L,interfaces:w,collections:R,templates:A,getTemplate:ne,getInterface:H,getCollections:M,getParentCollectionFields:le,getInheritCollections:F,getChildrenCollections:W,refreshCM:N,get:C,getInheritedFields:V,getCollectionField:I,getCollectionFields:U,getCollectionFieldsOptions:J,getCurrentCollectionFields:X,getCollection:C,getCollectionJoinField:I,getAllCollectionsInheritChain:k,getInheritCollectionsChain:Y,isTitleField:te}}},7939:function(se,j,e){"use strict";e.d(j,{U:function(){return d}});var v=e(97857),m=e.n(v),x=e(72029),u=e(67294),p=e(58837),d=function(){var t,c=(0,p.Kx)(),i=(0,x.LY)(),a=i==null?void 0:i.resource(c==null?void 0:c.name),f=(0,u.useMemo)(function(){return(c==null?void 0:c.fields)||[]},[c]),l=(0,u.useMemo)(function(){var D;return(c==null||(D=c.getInheritedFields)===null||D===void 0?void 0:D.call(c))||[]},[c]),n=(0,u.useMemo)(function(){var D,P;return(c==null||(D=c.getAllFields)===null||D===void 0?void 0:D.call(c))||(c==null||(P=c.getFields)===null||P===void 0?void 0:P.call(c))||[]},[c]),r=(0,u.useMemo)(function(){var D;return(c==null||(D=c.getForeignKeyFields)===null||D===void 0?void 0:D.call(c))||[]},[c]),o=(0,u.useCallback)(function(){return n==null?void 0:n.find(function(D){return D.treeParent})},[n]),g=(0,u.useCallback)(function(D){var P;return c==null||(P=c.getField)===null||P===void 0?void 0:P.call(c,D)},[c]),y=(0,u.useCallback)(function(){return c==null?void 0:c.getPrimaryKey()},[c]);return m()(m()({},c==null||(t=c.getOptions)===null||t===void 0?void 0:t.call(c)),{},{resource:a,getTreeParentField:o,fields:n,getField:g,getPrimaryKey:y,currentFields:f,inheritedFields:l,foreignKeyFields:r})}},6145:function(se,j,e){"use strict";e.r(j),e.d(j,{AddCollection:function(){return p.b4},AddCollectionAction:function(){return p.F3},AddCollectionField:function(){return p.rz},AddFieldAction:function(){return p.eD},AddSubFieldAction:function(){return p.WJ},CheckboxFieldInterface:function(){return y.gV},CheckboxGroupFieldInterface:function(){return y.kN},ChinaRegionFieldInterface:function(){return y.oB},CollectionAssociatedApp:function(){return p.N8},CollectionCategory:function(){return p.hU},CollectionCategroriesContext:function(){return h.l},CollectionCategroriesProvider:function(){return m.Bv},CollectionFieldInterfaceTag:function(){return p.Hr},CollectionHistoryProvider:function(){return O.iJ},CollectionManagerProvider_deprecated:function(){return m.GP},CollectionManagerSchemaComponentProvider:function(){return x.E},CollectionPlugin:function(){return D.w},CollectionProvider_deprecated:function(){return u.o},CollectionSelectFieldInterface:function(){return y.fe},CollectionTemplateTag:function(){return p.CE},ColorFieldInterface:function(){return y.uK},CreatedAtFieldInterface:function(){return y.O6},CreatedByFieldInterface:function(){return y.M6},DataSourceContext_deprecated:function(){return E.Nz},DataSourceProvider_deprecated:function(){return E.PI},DatetimeFieldInterface:function(){return y.kE},DeleteCollection:function(){return p.fe},DeleteCollectionAction:function(){return p._L},DeletedAtFieldInterface:function(){return y.Os},EditCollection:function(){return p.Qb},EditCollectionAction:function(){return p.g3},EditCollectionField:function(){return p.qF},EditFieldAction:function(){return p.b3},EditSubFieldAction:function(){return p.oq},EmailFieldInterface:function(){return y.mb},FieldSummary:function(){return p.Np},ForeignKey:function(){return p.s9},IconFieldInterface:function(){return y.hF},IdFieldInterface:function(){return y.Op},InheritanceCollectionMixin:function(){return P.d},InputFieldInterface:function(){return y.MF},IntegerFieldInterface:function(){return y.E$},JsonFieldInterface:function(){return y.V1},LinkToFieldInterface:function(){return y.ck},M2MFieldInterface:function(){return y.MU},M2OFieldInterface:function(){return y.mc},MarkdownFieldInterface:function(){return y.Rh},MultipleSelectFieldInterface:function(){return y.AU},NanoidFieldInterface:function(){return y.rB},NumberFieldInterface:function(){return y.hy},O2MFieldInterface:function(){return y.zG},O2OFieldInterface:function(){return y.Yj},OBOFieldInterface:function(){return y.sy},OHOFieldInterface:function(){return y.Ax},OverridingCollectionField:function(){return p.kO},OverridingFieldAction:function(){return p.DF},PasswordFieldInterface:function(){return y.sG},PercentFieldInterface:function(){return y.GK},PhoneFieldInterface:function(){return y.Hz},RadioGroupFieldInterface:function(){return y.yN},RateInterface:function(){return y.dX},RemoteCollectionManagerProvider:function(){return m.Fq},ResourceActionContext:function(){return i.rf},ResourceActionProvider:function(){return i.pv},RichTextFieldInterface:function(){return y.UZ},ScanInputInterface:function(){return y.Qh},ScanInterface:function(){return y.r},SelectFieldInterface:function(){return y.ti},SortFieldInterface:function(){return y.xP},SourceCollection:function(){return p.c9},SourceForeignKey:function(){return p.vw},SourceKey:function(){return p.sc},SubFieldDataSourceProvider_deprecated:function(){return E.m1},SubTableFieldInterface:function(){return y.xo},SyncFieldsAction:function(){return p.Tf},SyncFieldsActionCom:function(){return p.Z9},SyncSQLFieldsAction:function(){return p.rs},TableoidFieldInterface:function(){return y.g3},TargetForeignKey:function(){return p.YE},TargetKey:function(){return p._i},TemplateSummary:function(){return p.$E},TextareaFieldInterface:function(){return y.zp},ThroughCollection:function(){return p.JN},ThroughForeignKey:function(){return p.HO},TimeFieldInterface:function(){return y.Hw},UUIDFieldInterface:function(){return y.B7},UnixTimestampFieldInterface:function(){return y.Dr},UpdatedAtFieldInterface:function(){return y.Sw},UpdatedByFieldInterface:function(){return y.rb},UrlFieldInterface:function(){return y.lS},ViewCollectionField:function(){return p.xs},ViewFieldAction:function(){return p.eu},WorkflowCurrentStepFieldInterface:function(){return y.KQ},WorkflowStatusFieldInterface:function(){return y.nd},autoFill:function(){return c.autoFill},autoIncrement:function(){return c.autoIncrement},collectionDataSource:function(){return c.collectionDataSource},constraintsProps:function(){return c.constraintsProps},dataSource:function(){return c.dataSource},dateTimeProps:function(){return c.dateTimeProps},defaultProps:function(){return c.defaultProps},ds:function(){return E.ds},getConfigurableProperties:function(){return a.p},getUniqueKeyFromCollection:function(){return y.in},interfacesProperties:function(){return c},isDeleteButtonDisabled:function(){return v.isDeleteButtonDisabled},joinCollectionName:function(){return T.l},operators:function(){return c.operators},parseCollectionName:function(){return T.U},primaryKey:function(){return c.primaryKey},recordPickerViewer:function(){return c.recordPickerViewer},relationshipType:function(){return c.relationshipType},reverseFieldProperties:function(){return c.reverseFieldProperties},type:function(){return c.type},unique:function(){return c.unique},useBulkDestroyAction:function(){return p.x8},useBulkDestroyActionAndRefreshCM:function(){return p.tM},useCancelAction:function(){return v.useCancelAction},useCollectionDataSource:function(){return t.s7},useCollectionFieldFormValues:function(){return p.jI},useCollectionField_deprecated:function(){return t.Wm},useCollectionFieldsOptions:function(){return v.useCollectionFieldsOptions},useCollectionFilterOptions:function(){return v.useCollectionFilterOptions},useCollectionHistory:function(){return O.nh},useCollectionManager_deprecated:function(){return t.Bu},useCollection_deprecated:function(){return t.UJ},useDataSourceFromRAC:function(){return i.KD},useDestroyAction:function(){return p.RD},useDestroyActionAndRefreshCM:function(){return p.aX},useFieldInterfaceOptions:function(){return d.r},useHistoryCollectionsByNames:function(){return O.LE},useLinkageCollectionFilterOptions:function(){return v.useLinkageCollectionFilterOptions},useResourceActionContext:function(){return i.u3},useResourceContext:function(){return i.eS},useSortFields:function(){return v.useSortFields},useUpdateCollectionActionAndRefreshCM:function(){return p.EB},useValuesFromRecord:function(){return p.d8}});var v=e(44355),m=e(54195),x=e(76896),u=e(52028),p=e(2759),d=e(47047),h=e(91970),t=e(29796),c=e(65375),i=e(63250),a=e(66704),f=e(44605),l=e.n(f),g={};for(var n in f)["default","useCancelAction","useCollectionFilterOptions","useSortFields","useLinkageCollectionFilterOptions","useCollectionFieldsOptions","isDeleteButtonDisabled","useFieldInterfaceOptions","interfacesProperties","getConfigurableProperties","CollectionCategroriesProvider","CollectionManagerProvider_deprecated","RemoteCollectionManagerProvider","CollectionManagerSchemaComponentProvider","CollectionProvider_deprecated","AddCollection","AddCollectionAction","AddCollectionField","AddFieldAction","AddSubFieldAction","CollectionAssociatedApp","CollectionCategory","CollectionFieldInterfaceTag","CollectionTemplateTag","DeleteCollection","DeleteCollectionAction","EditCollection","EditCollectionAction","EditCollectionField","EditFieldAction","EditSubFieldAction","FieldSummary","ForeignKey","OverridingCollectionField","OverridingFieldAction","SourceCollection","SourceForeignKey","SourceKey","SyncFieldsAction","SyncFieldsActionCom","SyncSQLFieldsAction","TargetForeignKey","TargetKey","TemplateSummary","ThroughCollection","ThroughForeignKey","ViewCollectionField","ViewFieldAction","useBulkDestroyAction","useBulkDestroyActionAndRefreshCM","useCollectionFieldFormValues","useDestroyAction","useDestroyActionAndRefreshCM","useUpdateCollectionActionAndRefreshCM","useValuesFromRecord","CollectionCategroriesContext","useCollectionDataSource","useCollectionField_deprecated","useCollectionManager_deprecated","useCollection_deprecated","ResourceActionContext","ResourceActionProvider","useDataSourceFromRAC","useResourceActionContext","useResourceContext"].indexOf(n)<0&&(g[n]=function(S){return f[S]}.bind(0,n));e.d(j,g);var r=e(53772),o=e.n(r),g={};for(var n in r)["default","useCancelAction","useCollectionFilterOptions","useSortFields","useLinkageCollectionFilterOptions","useCollectionFieldsOptions","isDeleteButtonDisabled","useFieldInterfaceOptions","interfacesProperties","getConfigurableProperties","CollectionCategroriesProvider","CollectionManagerProvider_deprecated","RemoteCollectionManagerProvider","CollectionManagerSchemaComponentProvider","CollectionProvider_deprecated","AddCollection","AddCollectionAction","AddCollectionField","AddFieldAction","AddSubFieldAction","CollectionAssociatedApp","CollectionCategory","CollectionFieldInterfaceTag","CollectionTemplateTag","DeleteCollection","DeleteCollectionAction","EditCollection","EditCollectionAction","EditCollectionField","EditFieldAction","EditSubFieldAction","FieldSummary","ForeignKey","OverridingCollectionField","OverridingFieldAction","SourceCollection","SourceForeignKey","SourceKey","SyncFieldsAction","SyncFieldsActionCom","SyncSQLFieldsAction","TargetForeignKey","TargetKey","TemplateSummary","ThroughCollection","ThroughForeignKey","ViewCollectionField","ViewFieldAction","useBulkDestroyAction","useBulkDestroyActionAndRefreshCM","useCollectionFieldFormValues","useDestroyAction","useDestroyActionAndRefreshCM","useUpdateCollectionActionAndRefreshCM","useValuesFromRecord","CollectionCategroriesContext","useCollectionDataSource","useCollectionField_deprecated","useCollectionManager_deprecated","useCollection_deprecated","ResourceActionContext","ResourceActionProvider","useDataSourceFromRAC","useResourceActionContext","useResourceContext"].indexOf(n)<0&&(g[n]=function($){return r[$]}.bind(0,n));e.d(j,g);var y=e(45590),D=e(73085),P=e(88049),E=e(40802),O=e(67574),T=e(99899)},45590:function(se,j,e){"use strict";e.d(j,{gV:function(){return g},kN:function(){return D},oB:function(){return E},fe:function(){return O},uK:function(){return T},O6:function(){return S},M6:function(){return Z},kE:function(){return K},Os:function(){return Ue},mb:function(){return z},hF:function(){return w},Op:function(){return A},MF:function(){return R},E$:function(){return N},V1:function(){return I},ck:function(){return F},MU:function(){return J},mc:function(){return C},Rh:function(){return k},AU:function(){return Y},rB:function(){return Ae},hy:function(){return H},zG:function(){return W},Yj:function(){return te},sy:function(){return ne},Ax:function(){return le},sG:function(){return ie},GK:function(){return fe},Hz:function(){return de},yN:function(){return ue},dX:function(){return je},UZ:function(){return Se},Qh:function(){return Me},r:function(){return Le},ti:function(){return ae},xP:function(){return he},xo:function(){return G},g3:function(){return re},zp:function(){return oe},Hw:function(){return ce},B7:function(){return Pe},Dr:function(){return Be},Sw:function(){return be},rb:function(){return xe},lS:function(){return ge},KQ:function(){return Te},nd:function(){return we},in:function(){return X}});var v=e(97857),m=e.n(v),x=e(12444),u=e.n(x),p=e(72004),d=e.n(p),h=e(25098),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(9783),n=e.n(l),r=e(6145),o=e(31959),g=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","checkbox"),n()(t()(q),"type","object"),n()(t()(q),"group","choices"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Checkbox")}}'),n()(t()(q),"default",{type:"boolean",uiSchema:{type:"boolean","x-component":"Checkbox"}}),n()(t()(q),"availableTypes",["boolean","integer","bigInt"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()({},r.defaultProps)),n()(t()(q),"filterable",{operators:r.operators.boolean}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),y=e(65375),D=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","checkboxGroup"),n()(t()(q),"type","object"),n()(t()(q),"group","choices"),n()(t()(q),"order",5),n()(t()(q),"title",'{{t("Checkbox group")}}'),n()(t()(q),"default",{interface:"checkboxGroup",type:"array",defaultValue:[],uiSchema:{type:"string","x-component":"Checkbox.Group"}}),n()(t()(q),"availableTypes",["array"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.enum":y.dataSource})),n()(t()(q),"filterable",{operators:y.operators.array}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),P=e(84327),E=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","chinaRegion"),n()(t()(q),"type","object"),n()(t()(q),"group","choices"),n()(t()(q),"order",7),n()(t()(q),"title",'{{t("China region")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{interface:"chinaRegion",type:"belongsToMany",target:"chinaRegions",targetKey:"code",sortBy:"level",uiSchema:{type:"array","x-component":"Cascader","x-component-props":{useDataSource:"{{ useChinaRegionDataSource }}",useLoadData:"{{ useChinaRegionLoadData }}",changeOnSelectLast:!1,labelInValue:!0,maxLevel:3,fieldNames:{label:"name",value:"code",children:"children"}}}}),n()(t()(q),"availableTypes",["belongsToMany"]),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.x-component-props.maxLevel":{type:"number","x-component":"Radio.Group","x-decorator":"FormItem",title:'{{t("Select level")}}',default:3,enum:[{value:1,label:'{{t("Province")}}'},{value:2,label:'{{t("City")}}'},{value:3,label:'{{t("Area")}}'},{value:4,label:'{{t("Street")}}',disabled:!0},{value:5,label:'{{t("Village")}}',disabled:!0}]},"uiSchema.x-component-props.changeOnSelectLast":{type:"boolean","x-component":"Checkbox","x-content":'{{t("Must select to the last level")}}',"x-decorator":"FormItem"}})),n()(t()(q),"filterable",{children:[{name:"name",title:'{{t("Province/city/area name")}}',operators:y.operators.string,schema:{title:'{{t("Province/city/area name")}}',type:"string","x-component":"Input"}}]}),q}return d()(_e,[{key:"initialize",value:function(pe){pe.through||(pe.through="t_".concat((0,P.uid)())),pe.foreignKey||(pe.foreignKey="f_".concat((0,P.uid)())),pe.otherKey||(pe.otherKey="f_".concat((0,P.uid)())),pe.sourceKey||(pe.sourceKey="id"),pe.targetKey||(pe.targetKey="id")}}]),_e}(o.S),O=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","collection"),n()(t()(q),"type","string"),n()(t()(q),"group","advanced"),n()(t()(q),"order",5),n()(t()(q),"title",'{{t("Collection selector")}}'),n()(t()(q),"description",'{{t("Providing certain collections as options for users, typically used in polymorphic or inheritance scenarios")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"CollectionSelect"}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"hasDefaultValue",!1),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.enum":y.collectionDataSource})),n()(t()(q),"filterable",{operators:y.operators.collection}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block,$e=pe["x-component-props"]=pe["x-component-props"]||{};$e.style=m()(m()({},$e.style||{}),{},{width:"100%"}),["Table","Kanban"].includes(Oe)&&($e.ellipsis=!0)}}]),_e}(o.S),T=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","color"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",10),n()(t()(q),"title",'{{t("Color")}}'),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"ColorPicker",default:"#1677FF"}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e)}(o.S),S=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","createdAt"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Created at")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"date",field:"createdAt",uiSchema:{type:"datetime",title:'{{t("Created at")}}',"x-component":"DatePicker","x-component-props":{},"x-read-pretty":!0}}),n()(t()(q),"availableTypes",["date"]),n()(t()(q),"properties",m()(m()({},y.defaultProps),y.dateTimeProps)),n()(t()(q),"filterable",{operators:y.operators.datetime}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),$=e(96486),Z=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","createdBy"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",3),n()(t()(q),"title",'{{t("Created by")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"belongsTo",target:"users",foreignKey:"createdById",uiSchema:{type:"object",title:'{{t("Created by")}}',"x-component":"AssociationField","x-component-props":{fieldNames:{value:"id",label:"nickname"}},"x-read-pretty":!0}}),n()(t()(q),"availableTypes",["belongsTo"]),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;pe.properties={viewer:(0,$.cloneDeep)(y.recordPickerViewer)},["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),K=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","datetime"),n()(t()(q),"type","object"),n()(t()(q),"group","datetime"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Datetime")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"date",uiSchema:{type:"string","x-component":"DatePicker","x-component-props":{showTime:!1}}}),n()(t()(q),"availableTypes",["date","dateOnly","string"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()(m()({},y.defaultProps),y.dateTimeProps),{},{"uiSchema.x-component-props.gmt":{type:"boolean",title:'{{t("GMT")}}',"x-hidden":!0,"x-component":"Checkbox","x-content":'{{t("Use the same time zone (GMT) for all users")}}',"x-decorator":"FormItem",default:!1}})),n()(t()(q),"filterable",{operators:y.operators.datetime}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),z=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","email"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",4),n()(t()(q),"title",'{{t("Email")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"Input","x-validator":"email"}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{unique:y.unique})),n()(t()(q),"filterable",{operators:y.operators.string}),n()(t()(q),"titleUsable",!0),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),w=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","icon"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",10),n()(t()(q),"title",'{{t("Icon")}}'),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"IconPicker"}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()({},y.defaultProps)),q}return d()(_e)}(o.S),A=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","id"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",0),n()(t()(q),"title",'{{t("ID")}}'),n()(t()(q),"hidden",!0),n()(t()(q),"sortable",!0),n()(t()(q),"default",{name:"id",type:"bigInt",autoIncrement:!0,primaryKey:!0,allowNull:!1,uiSchema:{type:"number",title:'{{t("ID")}}',"x-component":"InputNumber","x-read-pretty":!0}}),n()(t()(q),"availableTypes",["bigInt","integer","string"]),n()(t()(q),"properties",{"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,default:"ID","x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"}}),n()(t()(q),"filterable",{operators:y.operators.id}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),M=e(58384),b=e(28853);(0,b.registerValidateRules)({username:function(ye){return/^[^@.<>"'/]{2,50}$/.test(ye)||M.a.t(`Must be 2-50 characters in length (excluding @.<>"'/)`)}});var R=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","input"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Single line text")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{interface:"input",type:"string",uiSchema:{type:"string","x-component":"Input"}}),n()(t()(q),"availableTypes",["string","uid"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{layout:{type:"void",title:'{{t("Index")}}',"x-component":"Space","x-decorator":"FormItem","x-decorator-props":{style:{marginBottom:"0px"}},properties:{primaryKey:y.primaryKey,unique:y.unique}}})),n()(t()(q),"filterable",{operators:y.operators.string}),n()(t()(q),"titleUsable",!0),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}},{key:"validateSchema",value:function(pe){return{max:{type:"number",title:'{{ t("Max length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.min').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Max length must greater than min length"),`' : ''
        }}}`)},min:{type:"number",title:'{{ t("Min length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".max"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Min length must less than max length"),"' : ''}}")}}}},len:{type:"number",title:'{{ t("Length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0}},format:{type:"string",title:'{{ t("Format") }}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{allowClear:!0},enum:[{label:'{{ t("url") }}',value:"url"},{label:'{{ t("email") }}',value:"email"},{label:'{{ t("ipv6") }}',value:"ipv6"},{label:'{{ t("ipv4") }}',value:"ipv4"},{label:'{{ t("number") }}',value:"number"},{label:'{{ t("integer") }}',value:"integer"},{label:'{{ t("idcard") }}',value:"idcard"},{label:'{{ t("qq") }}',value:"qq"},{label:'{{ t("phone") }}',value:"phone"},{label:'{{ t("money") }}',value:"money"},{label:'{{ t("zh") }}',value:"zh"},{label:'{{ t("date") }}',value:"date"},{label:'{{ t("zip") }}',value:"zip"}]},pattern:{type:"string",title:'{{ t("Regular expression") }}',"x-decorator":"FormItem","x-component":"Input","x-component-props":{prefix:"/",suffix:"/"}}}}}]),_e}(o.S),L=e(86201);(0,L.registerValidateFormats)({odd:/^-?\d*[13579]$/,even:/^-?\d*[02468]$/});var N=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","integer"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",6),n()(t()(q),"title",'{{t("Integer")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"bigInt",uiSchema:{type:"number","x-component":"InputNumber","x-component-props":{stringMode:!0,step:"1"},"x-validator":"integer"}}),n()(t()(q),"availableTypes",["bigInt","integer","sort"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{layout:{type:"void",title:'{{t("Index")}}',"x-component":"Space","x-decorator":"FormItem","x-decorator-props":{style:{marginBottom:"0px"}},properties:{primaryKey:y.primaryKey,unique:y.unique}},autoIncrement:y.autoIncrement})),n()(t()(q),"filterable",{operators:y.operators.number}),n()(t()(q),"titleUsable",!0),n()(t()(q),"validateSchema",function($e){return{maximum:{type:"number",title:'{{ t("Maximum") }}',"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.minimum').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Maximum must greater than minimum"),`' : ''
        }}}`)},minimum:{type:"number",title:'{{ t("Minimum") }}',"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".maximum"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Minimum must less than maximum"),"' : ''}}")}}}},format:{type:"string",title:'{{ t("Format") }}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{allowClear:!0},enum:[{label:'{{ t("Odd") }}',value:"odd"},{label:'{{ t("Even") }}',value:"even"}]},pattern:{type:"string",title:'{{ t("Regular expression") }}',"x-decorator":"FormItem","x-component":"Input","x-component-props":{prefix:"/",suffix:"/"}}}}),q}return d()(_e)}(o.S),B=e(57134),V=e(67294),U=e(85893);(0,L.registerValidateRules)({json:function(ye){try{return JSON.parse(ye),!0}catch(_e){return{type:"error",message:_e.message}}}});var I=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","json"),n()(t()(q),"type","object"),n()(t()(q),"group","advanced"),n()(t()(q),"order",4),n()(t()(q),"title",'{{t("JSON")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"json",uiSchema:{type:"object","x-component":"Input.JSON","x-component-props":{autoSize:{minRows:5}},default:null}}),n()(t()(q),"availableTypes",["json","array","jsonb","text","circle","lineString","point","polygon"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{jsonb:{type:"boolean",title:"JSONB","x-decorator":function(Ve){var Ze=Ve.children;return(0,U.jsx)(B.FormLayout,{children:(0,U.jsx)(B.FormItem,{children:Ze})})},"x-component":"Checkbox","x-hidden":"{{ !isDialect('postgres') }}","x-disabled":"{{ disabledJSONB }}"}})),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e)}(o.S),F=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","linkTo"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Link to")}}'),n()(t()(q),"description",'{{t("Link to description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"belongsToMany",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!0,fieldNames:{label:"id",value:"id"}}},reverseField:{interface:"linkTo",type:"belongsToMany",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!0,fieldNames:{label:"id",value:"id"}}}}}),n()(t()(q),"initialize",function($e){$e.type==="belongsToMany"&&($e.through||($e.through="t_".concat((0,P.uid)())),$e.foreignKey||($e.foreignKey="f_".concat((0,P.uid)())),$e.otherKey||($e.otherKey="f_".concat((0,P.uid)())),$e.sourceKey||($e.sourceKey="id"),$e.targetKey||($e.targetKey="id"))}),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{target:{type:"string",title:'{{t("Related collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections)}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"},"uiSchema.x-component-props.multiple":{type:"boolean","x-content":'{{t("Allow linking to multiple records")}}',"x-decorator":"FormItem","x-component":"Checkbox"}})),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.readPretty,$e=Re.block,Ve=Re.targetCollection;Ve!=null&&Ve.titleField&&pe["x-component-props"]&&(pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:Ve.filterTargetKey||"id"},pe["x-component-props"].fieldNames.label=Ve.titleField),["Table","Kanban"].includes($e)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small")}}]),_e}(o.S),W=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","o2m"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",4),n()(t()(q),"title",'{{t("One to many")}}'),n()(t()(q),"description",'{{t("One to many description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"hasMany",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!0}},reverseField:{interface:"m2o",type:"belongsTo",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}}}}),n()(t()(q),"availableTypes",["hasMany"]),n()(t()(q),"properties",m()(m()({"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},type:y.relationshipType,grid:{type:"void","x-component":"Grid",properties:{row1:{type:"void","x-component":"Grid.Row",properties:{col11:{type:"void","x-component":"Grid.Col",properties:{source:{type:"void",title:'{{t("Source collection")}}',"x-decorator":"FormItem","x-component":"SourceCollection"}}},col12:{type:"void","x-component":"Grid.Col",properties:{target:{type:"string",title:'{{t("Target collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections, ['file'], ['audits_jobs','jobs','users_jobs','flow_nodes','workflows','workflow_audit_logs','workflow_extend'])}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"}}}}},row2:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{sourceKey:{type:"string",title:'{{t("Source key")}}',description:"{{t('Field values must be unique.')}}",default:"id",enum:[{label:"ID",value:"id"}],"x-decorator":"FormItem","x-component":"SourceKey"}}},col22:{type:"void","x-component":"Grid.Col",properties:{foreignKey:{type:"string",title:'{{t("Foreign key")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly }}"}}}}},row3:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{}},col22:{type:"void","x-component":"Grid.Col",properties:{targetKey:{type:"string",title:'{{t("Target key")}}',"x-decorator":"FormItem","x-component":"TargetKey","x-disabled":"{{ !createOnly }}",description:"{{t('Field values must be unique.')}}"}}}}}}}},y.constraintsProps),y.reverseFieldProperties)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe,$e=Re.field,Ve=Re.block,Ze=Re.readPretty,qe=Re.targetCollection;pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:X(qe)},pe["x-component-props"].fieldNames.label=((Oe=pe["x-component-props"].fieldNames)===null||Oe===void 0?void 0:Oe.label)||(qe==null?void 0:qe.titleField)||X(qe),["Table","Kanban"].includes(Ve)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small")}}]),_e}(o.S);function X(De){return(De==null?void 0:De.filterTargetKey)||(De==null?void 0:De.getPrimaryKey())||"id"}var J=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","m2m"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",6),n()(t()(q),"title",'{{t("Many to many")}}'),n()(t()(q),"description",'{{t("Many to many description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"belongsToMany",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!0}},reverseField:{interface:"m2m",type:"belongsToMany",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!0}}}}),n()(t()(q),"availableTypes",["belongsToMany"]),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{type:y.relationshipType,grid:{type:"void","x-component":"Grid",properties:{row1:{type:"void","x-component":"Grid.Row",properties:{col11:{type:"void","x-component":"Grid.Col",properties:{source:{type:"string",title:'{{t("Source collection")}}',"x-decorator":"FormItem","x-component":"SourceCollection","x-disabled":!0}}},col12:{type:"void","x-component":"Grid.Col",properties:{through:{type:"string",title:'{{t("Through collection")}}',description:'{{ t("Generated automatically if left blank") }}',"x-decorator":"FormItem","x-disabled":"{{ !createOnly }}","x-component":"ThroughCollection","x-component-props":{allowClear:!0}}}},col13:{type:"void","x-component":"Grid.Col",properties:{target:{type:"string",title:'{{t("Target collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections, undefined, ['audits_jobs','jobs','users_jobs','flow_nodes','workflows','workflow_audit_logs','workflow_extend'])}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"}}}}},row2:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{sourceKey:{type:"string",title:'{{t("Source key")}}',description:"{{t('Field values must be unique.')}}","x-decorator":"FormItem","x-component":"SourceKey","x-disabled":"{{ !createOnly }}"}}},col22:{type:"void","x-component":"Grid.Col",properties:{foreignKey:{type:"string",title:'{{t("Foreign key 1")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly||override }}"}}},col23:{type:"void","x-component":"Grid.Col",properties:{}}}},row3:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{}},col22:{type:"void","x-component":"Grid.Col",properties:{otherKey:{type:"string",title:'{{t("Foreign key 2")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly||override }}"}}},col23:{type:"void","x-component":"Grid.Col",properties:{targetKey:{type:"string",title:'{{t("Target key")}}',"x-decorator":"FormItem","x-component":"TargetKey","x-disabled":"{{ !createOnly }}",description:"{{t('Field values must be unique.')}}"}}}}}}}},y.reverseFieldProperties)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe,$e=Re.field,Ve=Re.readPretty,Ze=Re.block,qe=Re.targetCollection;pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:X(qe)},pe["x-component-props"].fieldNames.label=((Oe=pe["x-component-props"].fieldNames)===null||Oe===void 0?void 0:Oe.label)||(qe==null?void 0:qe.titleField)||X(qe),["Table","Kanban"].includes(Ze)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small")}},{key:"initialize",value:function(pe){pe.type==="belongsToMany"&&(pe.through||(pe.through="t_".concat((0,P.uid)())),pe.foreignKey||(pe.foreignKey="f_".concat((0,P.uid)())),pe.otherKey||(pe.otherKey="f_".concat((0,P.uid)())),pe.sourceKey||(pe.sourceKey="id"),pe.targetKey||(pe.targetKey="id"))}}]),_e}(o.S),C=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","m2o"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",5),n()(t()(q),"title",'{{t("Many to one")}}'),n()(t()(q),"description",'{{t("Many to one description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"belongsTo",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}},reverseField:{interface:"o2m",type:"hasMany",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!0}}}}),n()(t()(q),"availableTypes",["belongsTo"]),n()(t()(q),"properties",m()(m()({"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},type:y.relationshipType,grid:{type:"void","x-component":"Grid",properties:{row1:{type:"void","x-component":"Grid.Row",properties:{col11:{type:"void","x-component":"Grid.Col",properties:{source:{type:"void",title:'{{t("Source collection")}}',"x-decorator":"FormItem","x-component":"SourceCollection","x-disabled":!0}}},col12:{type:"void","x-component":"Grid.Col",properties:{target:{type:"string",title:'{{t("Target collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections, undefined, ['audits_jobs','jobs','users_jobs','flow_nodes','workflows','workflow_audit_logs','workflow_extend'])}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"}}}}},row2:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{foreignKey:{type:"string",title:'{{t("Foreign key")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly }}"}}},col22:{type:"void","x-component":"Grid.Col",properties:{targetKey:{type:"string",title:'{{t("Target key")}}',description:"{{t('Field values must be unique.')}}","x-decorator":"FormItem","x-component":"TargetKey","x-disabled":"{{ !createOnly }}"}}}}}}}},y.constraintsProps),y.reverseFieldProperties)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe,$e=Re.field,Ve=Re.block,Ze=Re.readPretty,qe=Re.targetCollection;pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:X(qe)},pe["x-component-props"].fieldNames.label=((Oe=pe["x-component-props"].fieldNames)===null||Oe===void 0?void 0:Oe.label)||(qe==null?void 0:qe.titleField)||X(qe),["Table","Kanban"].includes(Ve)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small")}}]),_e}(o.S),k=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","markdown"),n()(t()(q),"type","object"),n()(t()(q),"title",'{{t("Markdown")}}'),n()(t()(q),"group","media"),n()(t()(q),"default",{type:"text",uiSchema:{type:"string","x-component":"Markdown"}}),n()(t()(q),"availableTypes",["text","json"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}},{key:"validateSchema",value:function(pe){return{max:{type:"number",title:'{{ t("Max length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.min').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Max length must greater than min length"),`' : ''
        }}}`)},min:{type:"number",title:'{{ t("Min length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".max"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Min length must less than max length"),"' : ''}}")}}}}}}}]),_e}(o.S),Y=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","multipleSelect"),n()(t()(q),"type","object"),n()(t()(q),"group","choices"),n()(t()(q),"order",3),n()(t()(q),"title",'{{t("Multiple select")}}'),n()(t()(q),"default",{type:"array",defaultValue:[],uiSchema:{type:"array","x-component":"Select","x-component-props":{mode:"multiple"},enum:[]}}),n()(t()(q),"availableTypes",["array"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.enum":y.dataSource})),n()(t()(q),"filterable",{operators:y.operators.array}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block,$e=pe["x-component-props"]=pe["x-component-props"]||{};$e.style=m()(m()({},$e.style||{}),{},{width:"100%"}),["Table","Kanban"].includes(Oe)&&($e.ellipsis=!0)}}]),_e}(o.S),H=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","number"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",7),n()(t()(q),"title",'{{t("Number")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"double",uiSchema:{type:"number","x-component":"InputNumber","x-component-props":{stringMode:!0,step:"1"}}}),n()(t()(q),"availableTypes",["double","float","decimal"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{unique:y.unique,"uiSchema.x-component-props.step":{type:"string",title:'{{t("Precision")}}',"x-component":"Select","x-decorator":"FormItem",default:"1",enum:[{value:"1",label:"1"},{value:"0.1",label:"1.0"},{value:"0.01",label:"1.00"},{value:"0.001",label:"1.000"},{value:"0.0001",label:"1.0000"},{value:"0.00001",label:"1.00000"},{value:"0.000001",label:"1.000000"}]}})),n()(t()(q),"filterable",{operators:y.operators.number}),n()(t()(q),"titleUsable",!0),q}return d()(_e,[{key:"validateSchema",value:function(pe){return{maximum:{type:"number",title:'{{ t("Maximum") }}',"x-decorator":"FormItem","x-component":"InputNumber","x-reactions":`{{(field) => {
          const targetValue = field.query('.minimum').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Maximum must greater than minimum"),`' : ''
        }}}`)},minimum:{type:"number",title:'{{ t("Minimum") }}',"x-decorator":"FormItem","x-component":"InputNumber","x-reactions":{dependencies:[".maximum"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Minimum must less than maximum"),"' : ''}}")}}}},format:{type:"string",title:'{{ t("Format") }}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{allowClear:!0},enum:[{label:'{{ t("Integer") }}',value:"integer"},{label:'{{ t("Odd") }}',value:"odd"},{label:'{{ t("Even") }}',value:"even"}]},pattern:{type:"string",title:'{{ t("Regular expression") }}',"x-decorator":"FormItem","x-component":"Input","x-component-props":{prefix:"/",suffix:"/"}}}}}]),_e}(o.S),te=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","o2o"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",3),n()(t()(q),"title",'{{t("One to one")}}'),n()(t()(q),"description",'{{t("One to one description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"hasOne",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}},reverseField:{interface:"obo",type:"belongsTo",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}}}}),n()(t()(q),"availableTypes",["hasOne"]),n()(t()(q),"properties",{"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},type:y.relationshipType,grid:{type:"void","x-component":"Grid",properties:{row1:{type:"void","x-component":"Grid.Row",properties:{col11:{type:"void","x-component":"Grid.Col",properties:{source:{type:"void",title:'{{t("Source collection")}}',"x-decorator":"FormItem","x-component":"SourceCollection","x-disabled":!0}}},col12:{type:"void","x-component":"Grid.Col",properties:{target:{type:"string",title:'{{t("Target collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections, ['file'], ['audits_jobs','jobs','users_jobs','flow_nodes','workflows','workflow_audit_logs','workflow_extend'])}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"}}}}},row2:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{sourceKey:{type:"string",title:'{{t("Source key")}}',description:"{{t('Field values must be unique.')}}","x-decorator":"FormItem","x-component":"SourceKey"}}},col22:{type:"void","x-component":"Grid.Col",properties:{foreignKey:{type:"string",title:'{{t("Foreign key")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly }}"}}}}}}},"reverseField.name":{type:"string",title:'{{t("Inverse field name")}}',"x-hidden":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"}}),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.field,$e=Re.block,Ve=Re.readPretty,Ze=Re.action,qe=Re.targetCollection;["Table","Kanban"].includes($e)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small"),pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:X(qe)},pe["x-component-props"].fieldNames.label=(qe==null?void 0:qe.titleField)||X(qe)}}]),_e}(o.S),le=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","oho"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",3),n()(t()(q),"title",'{{t("One to one (has one)")}}'),n()(t()(q),"description",'{{t("One to one description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"hasOne",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}},reverseField:{interface:"obo",type:"belongsTo",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}}}}),n()(t()(q),"availableTypes",["hasOne"]),n()(t()(q),"properties",m()(m()({"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},type:y.relationshipType,grid:{type:"void","x-component":"Grid",properties:{row1:{type:"void","x-component":"Grid.Row",properties:{col11:{type:"void","x-component":"Grid.Col",properties:{source:{type:"void",title:'{{t("Source collection")}}',"x-decorator":"FormItem","x-component":"SourceCollection","x-disabled":!0}}},col12:{type:"void","x-component":"Grid.Col",properties:{target:{type:"string",title:'{{t("Target collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections, ['file'], ['audits_jobs','jobs','users_jobs','flow_nodes','workflows','workflow_audit_logs','workflow_extend'])}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"}}}}},row2:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{sourceKey:{type:"string",title:'{{t("Source key")}}',description:"{{t('Field values must be unique.')}}","x-decorator":"FormItem","x-component":"SourceKey"}}},col22:{type:"void","x-component":"Grid.Col",properties:{foreignKey:{type:"string",title:'{{t("Foreign key")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly }}"}}}}}}}},y.constraintsProps),y.reverseFieldProperties)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe,$e=Re.field,Ve=Re.block,Ze=Re.readPretty,qe=Re.action,Qe=Re.targetCollection;["Table","Kanban"].includes(Ve)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small"),pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:X(Qe)},pe["x-component-props"].fieldNames.label=((Oe=pe["x-component-props"].fieldNames)===null||Oe===void 0?void 0:Oe.label)||(Qe==null?void 0:Qe.titleField)||X(Qe)}}]),_e}(o.S),ne=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","obo"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",3),n()(t()(q),"title",'{{t("One to one (belongs to)")}}'),n()(t()(q),"description",'{{t("One to one description")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"belongsTo",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}},reverseField:{interface:"oho",type:"hasOne",uiSchema:{"x-component":"AssociationField","x-component-props":{multiple:!1}}}}),n()(t()(q),"availableTypes",["hasOne"]),n()(t()(q),"properties",m()(m()({"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},type:y.relationshipType,grid:{type:"void","x-component":"Grid",properties:{row1:{type:"void","x-component":"Grid.Row",properties:{col11:{type:"void","x-component":"Grid.Col",properties:{source:{type:"void",title:'{{t("Source collection")}}',"x-decorator":"FormItem","x-component":"SourceCollection","x-disabled":!0}}},col12:{type:"void","x-component":"Grid.Col",properties:{target:{type:"string",title:'{{t("Target collection")}}',required:!0,"x-reactions":["{{useAsyncDataSource(loadCollections, undefined, ['audits_jobs','jobs','users_jobs','flow_nodes','workflows','workflow_audit_logs','workflow_extend'])}}"],"x-decorator":"FormItem","x-component":"Select","x-disabled":"{{ !createOnly }}"}}}}},row2:{type:"void","x-component":"Grid.Row",properties:{col21:{type:"void","x-component":"Grid.Col",properties:{foreignKey:{type:"string",title:'{{t("Foreign key")}}',required:!0,default:'{{ useNewId("f_") }}',description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}","x-decorator":"FormItem","x-component":"ForeignKey","x-validator":"uid","x-disabled":"{{ !createOnly }}"}}},col22:{type:"void","x-component":"Grid.Col",properties:{targetKey:{type:"string",title:'{{t("Target key")}}',description:"{{t('Field values must be unique.')}}","x-decorator":"FormItem","x-component":"TargetKey","x-disabled":"{{ !createOnly }}"}}}}}}}},y.constraintsProps),y.reverseFieldProperties)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe,$e=Re.field,Ve=Re.block,Ze=Re.readPretty,qe=Re.action,Qe=Re.targetCollection;["Table","Kanban"].includes(Ve)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0,pe["x-component-props"].size="small"),pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].fieldNames=pe["x-component-props"].fieldNames||{value:X(Qe)},pe["x-component-props"].fieldNames.label=((Oe=pe["x-component-props"].fieldNames)===null||Oe===void 0?void 0:Oe.label)||(Qe==null?void 0:Qe.titleField)||X(Qe)}}]),_e}(o.S),ie=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","password"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",9),n()(t()(q),"title",'{{t("Password")}}'),n()(t()(q),"default",{type:"password",hidden:!0,uiSchema:{type:"string","x-component":"Password"}}),n()(t()(q),"availableTypes",["password","string"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{unique:y.unique})),n()(t()(q),"validateSchema",function($e){return{max:{type:"number",title:'{{ t("Max length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.min').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Max length must greater than min length"),`' : ''
        }}}`)},min:{type:"number",title:'{{ t("Min length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".max"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Min length must less than max length"),"' : ''}}")}}}}}}),q}return d()(_e)}(o.S),ee=e(90482);(0,L.registerValidateRules)({percentMode:function(ye,_e){var q=_e.maxValue,pe=_e.minValue;return(q||q===0)&&ye>q?{type:"error",message:"".concat(M.a.t("The field value cannot be greater than ")).concat(new ee.Z(q).mul(100),"%")}:(pe||pe===0)&&ye<pe?{type:"error",message:"".concat(M.a.t("The field value cannot be less than ")).concat(new ee.Z(pe).mul(100),"%")}:!0},percentFormats:function(ye,_e){var q=_e.percentFormat;return ye&&q==="Integer"&&/^-?[1-9]\d*$/.test(new ee.Z(ye).mul(100).toString())===!1?{type:"error",message:"".concat(M.a.t("The field value is not an integer number"))}:!0}});var fe=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","percent"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",8),n()(t()(q),"title",'{{t("Percent")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"float",uiSchema:{type:"string","x-component":"Percent","x-component-props":{stringMode:!0,step:"1",addonAfter:"%"}}}),n()(t()(q),"availableTypes",["float","double","decimal"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{unique:y.unique,"uiSchema.x-component-props.step":{type:"string",title:'{{t("Precision")}}',"x-component":"Select","x-decorator":"FormItem",default:"1",enum:[{value:"1",label:"1%"},{value:"0.1",label:"1.0%"},{value:"0.01",label:"1.00%"},{value:"0.001",label:"1.000%"},{value:"0.0001",label:"1.0000%"},{value:"0.00001",label:"1.00000%"},{value:"0.000001",label:"1.000000%"}]}})),n()(t()(q),"filterable",{operators:y.operators.number}),n()(t()(q),"titleUsable",!0),n()(t()(q),"validateSchema",function($e){return{maxValue:{type:"number",title:'{{ t("Maximum") }}',"x-decorator":"FormItem","x-component":"Percent","x-component-props":{addonAfter:"%"},"x-reactions":`{{(field) => {
          const targetValue = field.query('.minimum').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Maximum must greater than minimum"),`' : ''
        }}}`)},minValue:{type:"number",title:'{{ t("Minimum") }}',"x-decorator":"FormItem","x-component":"Percent","x-component-props":{addonAfter:"%"},"x-reactions":{dependencies:[".maximum"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Minimum must less than maximum"),"' : ''}}")}}}},percentFormat:{type:"string",title:'{{ t("Format") }}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{allowClear:!0},enum:[{label:'{{ t("Integer") }}',value:"Integer"}]},pattern:{type:"string",title:'{{ t("Regular expression") }}',"x-decorator":"FormItem","x-component":"Input","x-component-props":{prefix:"/",suffix:"/"}}}}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.field,$e=Re.block,Ve=Re.readPretty,Ze=Re.action,qe=pe["x-component-props"]=pe["x-component-props"]||{};pe["x-component-props"].style=m()(m()({},qe.style||{}),{},{width:"100%"})}}]),_e}(o.S),de=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","phone"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",3),n()(t()(q),"title",'{{t("Phone")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"Input","x-component-props":{type:"tel"}}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{unique:y.unique})),n()(t()(q),"filterable",{operators:y.operators.string}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),ue=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","radioGroup"),n()(t()(q),"type","object"),n()(t()(q),"group","choices"),n()(t()(q),"order",4),n()(t()(q),"title",'{{t("Radio group")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"Radio.Group"}}),n()(t()(q),"availableTypes",["string","integer","boolean","integer"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.enum":y.dataSource})),n()(t()(q),"filterable",{operators:y.operators.enumType}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),Se=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","richText"),n()(t()(q),"type","object"),n()(t()(q),"group","media"),n()(t()(q),"order",2),n()(t()(q),"title",'{{t("Rich Text")}}'),n()(t()(q),"default",{interface:"richText",type:"text",uiSchema:{type:"string","x-component":"RichText"}}),n()(t()(q),"availableTypes",["text","json"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"validateSchema",function($e){return{max:{type:"number",title:'{{ t("Max length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.min').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Max length must greater than min length"),`' : ''
        }}}`)},min:{type:"number",title:'{{ t("Min length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".max"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Min length must less than max length"),"' : ''}}")}}}}}}),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),ae=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","select"),n()(t()(q),"type","object"),n()(t()(q),"group","choices"),n()(t()(q),"order",2),n()(t()(q),"title",'{{t("Single select")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"Select",enum:[]}}),n()(t()(q),"availableTypes",["string","bigInt","boolean"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.enum":y.dataSource})),n()(t()(q),"filterable",{operators:y.operators.enumType}),n()(t()(q),"titleUsable",!0),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block,$e=pe["x-component-props"]=pe["x-component-props"]||{};$e.style=m()(m()({},$e.style||{}),{},{width:"100%"}),["Table","Kanban"].includes(Oe)&&($e.ellipsis=!0)}}]),_e}(o.S),G=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","subTable"),n()(t()(q),"type","object"),n()(t()(q),"group","relation"),n()(t()(q),"order",2),n()(t()(q),"title",'{{t("Sub-table")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"hasMany",uiSchema:{type:"void","x-component":"TableField","x-component-props":{}}}),n()(t()(q),"availableTypes",["hasMany"]),n()(t()(q),"initialize",function($e){$e.target||($e.target="t_".concat((0,P.uid)())),$e.foreignKey||($e.foreignKey="f_".concat((0,P.uid)()))}),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{subtable:{type:"void","x-component":"SubFieldDataSourceProvider",properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{},properties:{delete:{type:"void",title:'{{ t("Delete") }}',"x-component":"Action","x-component-props":{useAction:"{{ ds.useBulkDestroyAction }}",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"}}},create:{type:"void",title:'{{ t("Add new") }}',"x-component":"AddSubFieldAction","x-component-props":{type:"primary"}}}},children:{type:"array",title:'{{t("Fields")}}',"x-decorator":"FormItem","x-component":"Table.Array","x-component-props":{pagination:!1,expandable:{childrenColumnName:"__nochildren__"},rowKey:"name",rowSelection:{type:"checkbox"},useSelectedRowKeys:"{{ ds.useSelectedRowKeys }}",useDataSource:"{{ ds.useDataSource }}"},properties:{column1:{type:"void",title:'{{ t("Field display name") }}',"x-component":"Table.Column",properties:{"uiSchema.title":{type:"number","x-component":"Input","x-read-pretty":!0}}},column2:{type:"void",title:'{{ t("Field name") }}',"x-component":"Table.Column",properties:{name:{"x-component":"Input","x-read-pretty":!0}}},column3:{type:"void",title:'{{ t("Field interface") }}',"x-component":"Table.Column",properties:{interface:{"x-component":"Input","x-read-pretty":!0}}},column4:{type:"void",title:'{{ t("Actions") }}',"x-component":"Table.Column",properties:{actions:{type:"void","x-component":"Space","x-component-props":{split:"|"},properties:{update:{type:"void",title:'{{ t("Edit") }}',"x-component":"EditSubFieldAction","x-component-props":{}},delete:{type:"void",title:'{{ t("Delete") }}',"x-component":"Action.Link","x-component-props":{useAction:"{{ ds.useDestroyAction }}",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"}}}}}}}}}}}})),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.field,$e=Re.readPretty,Ve="".concat(Oe.collectionName,".").concat(Oe.name);pe.type="void",pe["x-component"]="TableField",pe.properties={block:{type:"void","x-decorator":"TableFieldProvider","x-acl-action":"".concat(Oe.target,":list"),"x-decorator-props":{collection:Oe.target,association:Ve,resource:Ve,action:"list",params:{paginate:!1},showIndex:!0,dragSort:!1},properties:n()({actions:{type:"void","x-initializer":"subTable:configureActions","x-component":"TableField.ActionBar","x-component-props":{}}},Oe.name,{type:"array","x-initializer":"table:configureColumns","x-component":"TableV2","x-use-component-props":"useTableFieldProps","x-component-props":{rowSelection:{type:"checkbox"}}})}}}}]),_e}(o.S),re=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","tableoid"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",0),n()(t()(q),"title",'{{t("Table OID")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{name:"__collection",type:"virtual",uiSchema:{type:"string",title:'{{t("Table OID")}}',"x-component":"CollectionSelect","x-component-props":{isTableOid:!0},"x-read-pretty":!0}}),n()(t()(q),"properties",{"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Input"}}),n()(t()(q),"filterable",{operators:y.operators.tableoid}),q}return d()(_e)}(o.S),oe=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","textarea"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",2),n()(t()(q),"title",'{{t("Long text")}}'),n()(t()(q),"default",{interface:"textarea",type:"text",uiSchema:{type:"string","x-component":"Input.TextArea"}}),n()(t()(q),"availableTypes",["text","json"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"validateSchema",function($e){return{max:{type:"number",title:'{{ t("Max length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.min').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Max length must greater than min length"),`' : ''
        }}}`)},min:{type:"number",title:'{{ t("Min length") }}',minimum:0,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".max"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Min length must less than max length"),"' : ''}}")}}}}}}),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),ce=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","time"),n()(t()(q),"type","object"),n()(t()(q),"group","datetime"),n()(t()(q),"order",2),n()(t()(q),"title",'{{t("Time")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"time",uiSchema:{type:"string","x-component":"TimePicker"}}),n()(t()(q),"availableTypes",["time"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.x-component-props.format":{type:"string",title:'{{t("Time format")}}',"x-component":"Radio.Group","x-decorator":"FormItem",default:"HH:mm:ss",enum:[{label:'{{t("12 hour")}}',value:"hh:mm:ss a"},{label:'{{t("24 hour")}}',value:"HH:mm:ss"}]}})),n()(t()(q),"filterable",{operators:y.operators.time}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),be=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","updatedAt"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",2),n()(t()(q),"title",'{{t("Last updated at")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"date",field:"updatedAt",uiSchema:{type:"string",title:'{{t("Last updated at")}}',"x-component":"DatePicker","x-component-props":{},"x-read-pretty":!0}}),n()(t()(q),"availableTypes",["date"]),n()(t()(q),"properties",m()(m()({},y.defaultProps),y.dateTimeProps)),n()(t()(q),"filterable",{operators:y.operators.datetime}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),xe=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","updatedBy"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",4),n()(t()(q),"title",'{{t("Last updated by")}}'),n()(t()(q),"isAssociation",!0),n()(t()(q),"default",{type:"belongsTo",target:"users",foreignKey:"updatedById",uiSchema:{type:"object",title:'{{t("Last updated by")}}',"x-component":"AssociationField","x-component-props":{fieldNames:{value:"id",label:"nickname"}},"x-read-pretty":!0}}),n()(t()(q),"availableTypes",["belongsTo"]),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"filterable",{nested:!0,children:[]}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;pe.properties={viewer:(0,$.cloneDeep)(y.recordPickerViewer)},["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),ge=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","url"),n()(t()(q),"type","string"),n()(t()(q),"group","basic"),n()(t()(q),"order",5),n()(t()(q),"title",'{{t("URL")}}'),n()(t()(q),"default",{type:"text",uiSchema:{type:"string","x-component":"Input.URL"}}),n()(t()(q),"availableTypes",["string","text"]),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"titleUsable",!0),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block}}]),_e}(o.S),he=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","sort"),n()(t()(q),"type","object"),n()(t()(q),"group","advanced"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Sort")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"titleUsable",!0),n()(t()(q),"description",'{{t("Used for drag and drop sorting scenarios, supporting grouping sorting")}}'),n()(t()(q),"default",{type:"sort",uiSchema:{type:"number","x-component":"InputNumber","x-component-props":{stringMode:!0,step:"1"},"x-validator":"integer"}}),n()(t()(q),"availableTypes",["sort"]),n()(t()(q),"hasDefaultValue",!1),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{scopeKey:{type:"string",title:'{{t("Grouped sorting")}}',"x-disabled":"{{ !editMainOnly}}","x-decorator":"FormItem","x-component":"Select",enum:"{{scopeKeyOptions}}",description:"{{t('When a field is selected for grouping, it will be grouped first before sorting.')}}"}})),n()(t()(q),"filterable",{operators:y.operators.number}),n()(t()(q),"validateSchema",function($e){return{maximum:{type:"number",title:'{{ t("Maximum") }}',"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":`{{(field) => {
          const targetValue = field.query('.minimum').value();
          field.selfErrors =
            !!targetValue && !!field.value && targetValue > field.value ? '`.concat(M.a.t("Maximum must greater than minimum"),`' : ''
        }}}`)},minimum:{type:"number",title:'{{ t("Minimum") }}',"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{precision:0},"x-reactions":{dependencies:[".maximum"],fulfill:{state:{selfErrors:"{{!!$deps[0] && !!$self.value && $deps[0] < $self.value ? '".concat(M.a.t("Minimum must less than maximum"),"' : ''}}")}}}},format:{type:"string",title:'{{ t("Format") }}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{allowClear:!0},enum:[{label:'{{ t("Odd") }}',value:"odd"},{label:'{{ t("Even") }}',value:"even"}]},pattern:{type:"string",title:'{{ t("Regular expression") }}',"x-decorator":"FormItem","x-component":"Input","x-component-props":{prefix:"/",suffix:"/"}}}}),q}return d()(_e)}(o.S),Pe=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","uuid"),n()(t()(q),"type","object"),n()(t()(q),"group","advanced"),n()(t()(q),"order",0),n()(t()(q),"title",'{{t("UUID")}}'),n()(t()(q),"hidden",!1),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"uuid",uiSchema:{type:"string","x-component":"Input","x-validator":"uuid"}}),n()(t()(q),"availableTypes",["string","uid","uuid"]),n()(t()(q),"properties",{"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input","x-disabled":"{{ !createOnly }}",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},autoFill:y.autoFill,layout:{type:"void",title:'{{t("Index")}}',"x-component":"Space","x-decorator":"FormItem","x-decorator-props":{style:{marginBottom:"0px"}},properties:{primaryKey:y.primaryKey,unique:y.unique}}}),n()(t()(q),"filterable",{operators:y.operators.string}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),Ae=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","nanoid"),n()(t()(q),"type","object"),n()(t()(q),"group","advanced"),n()(t()(q),"order",0),n()(t()(q),"title",'{{t("Nano ID")}}'),n()(t()(q),"hidden",!1),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"nanoid",uiSchema:{type:"string","x-component":"NanoIDInput"}}),n()(t()(q),"availableTypes",["string","nanoid"]),n()(t()(q),"properties",{"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input","x-disabled":"{{ !createOnly }}",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},customAlphabet:{type:"string",title:'{{t("Alphabet")}}',default:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz","x-decorator":"FormItem","x-component":"Input"},size:{type:"number",title:'{{t("Length")}}',default:21,"x-decorator":"FormItem","x-component":"InputNumber"},autoFill:y.autoFill,layout:{type:"void",title:'{{t("Index")}}',"x-component":"Space","x-decorator":"FormItem","x-decorator-props":{style:{marginBottom:"0px"}},properties:{primaryKey:y.primaryKey,unique:y.unique}}}),n()(t()(q),"filterable",{operators:y.operators.string}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),Be=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","unixTimestamp"),n()(t()(q),"type","object"),n()(t()(q),"group","datetime"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Unix Timestamp")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{type:"bigInt",uiSchema:{type:"number","x-component":"UnixTimestamp","x-component-props":{accuracy:"millisecond",showTime:!0}}}),n()(t()(q),"availableTypes",["integet","bigInt"]),n()(t()(q),"hasDefaultValue",!0),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{"uiSchema.x-component-props.accuracy":{type:"string",title:'{{t("Accuracy")}}',"x-component":"Radio.Group","x-decorator":"FormItem",default:"millisecond",enum:[{value:"millisecond",label:'{{t("Millisecond")}}'},{value:"second",label:'{{t("Second")}}'}]}})),n()(t()(q),"filterable",{operators:y.operators.number}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),Le=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","scan"),n()(t()(q),"type","string"),n()(t()(q),"group","basic"),n()(t()(q),"order",100),n()(t()(q),"title",'{{t("ScanCode")}}'),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"ScanCode"}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"properties",m()({},y.defaultProps)),n()(t()(q),"titleUsable",!0),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S),Me=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","scanInput"),n()(t()(q),"type","string"),n()(t()(q),"group","basic"),n()(t()(q),"order",101),n()(t()(q),"title",'{{t("ScanInput")}}'),n()(t()(q),"default",{type:"string",uiSchema:{type:"string","x-component":"ScanInput"}}),n()(t()(q),"availableTypes",["string"]),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{relateScanKey:{type:"string",title:'{{t("Relate scan key")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},fetchUrl:{type:"string",title:'{{t("Api scan url")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},reqKey:{type:"string",title:'{{t("Req param key")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},resKey:{type:"string",title:'{{t("Res param key")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"}})),n()(t()(q),"titleUsable",!0),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block}}]),_e}(o.S),Te=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","workflowCurrentStep"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",0),n()(t()(q),"title",'{{t("Workflow Current Step")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{name:"workflowCurrentStep",type:"string",uiSchema:{type:"string",title:'{{t("Workflow Current Step")}}',"x-component":"WorkflowCurrentStepSelect","x-component-props":{collectionName:""},"x-read-pretty":!0}}),n()(t()(q),"properties",{"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Input"}}),n()(t()(q),"filterable",{operators:y.operators.string}),q}return d()(_e)}(o.S),we=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","workflowStatus"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",0),n()(t()(q),"title",'{{t("Workflow Status")}}'),n()(t()(q),"description","\u6570\u503C\u5BF9\u5E94\u72B6\u6001 0: in progress; 1: resolve; 2: reject;"),n()(t()(q),"sortable",!0),n()(t()(q),"default",{name:"workflowStatus",type:"integer",uiSchema:{type:"integer",title:'{{t("Workflow Status")}}',"x-component":"Input","x-component-props":{},"x-read-pretty":!0}}),n()(t()(q),"properties",{"uiSchema.title":{type:"integer",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"integer",title:'{{t("Field name")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Input"}}),n()(t()(q),"filterable",{operators:y.operators.number}),q}return d()(_e)}(o.S),Ue=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","deletedAt"),n()(t()(q),"type","object"),n()(t()(q),"group","systemInfo"),n()(t()(q),"order",1),n()(t()(q),"title",'{{t("Deleted at")}}'),n()(t()(q),"sortable",!0),n()(t()(q),"default",{name:"deletedAt",type:"date",field:"deletedAt",uiSchema:{type:"datetime",title:'{{t("Deleted at")}}',"x-component":"DatePicker","x-component-props":{},"x-read-pretty":!1}}),n()(t()(q),"availableTypes",["date"]),n()(t()(q),"properties",m()(m()(m()({},y.defaultProps),y.dateTimeProps),{},{name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Input"}})),n()(t()(q),"filterable",{operators:y.operators.datetime}),n()(t()(q),"titleUsable",!0),q}return d()(_e)}(o.S),je=function(De){i()(_e,De);var ye=f()(_e);function _e(){var q;u()(this,_e);for(var pe=arguments.length,Re=new Array(pe),Oe=0;Oe<pe;Oe++)Re[Oe]=arguments[Oe];return q=ye.call.apply(ye,[this].concat(Re)),n()(t()(q),"name","RateField"),n()(t()(q),"type","object"),n()(t()(q),"group","basic"),n()(t()(q),"order",102),n()(t()(q),"title",'{{t("Rate field")}}'),n()(t()(q),"default",{type:"double",uiSchema:{type:"number","x-component":"DefinedRate"}}),n()(t()(q),"availableTypes",["double","float","decimal"]),n()(t()(q),"properties",m()(m()({},y.defaultProps),{},{rateCount:{type:"number",title:'{{t("Rating count")}}',"x-decorator":"FormItem","x-component":"Radio.Group","x-disabled":"{{ !createOnly }}","x-component-props":{options:[{label:"3",value:3},{label:"5",value:5},{label:"10",value:10}]},default:5},rateLabel:{type:"string",title:'{{t("Rating labels")}}',"x-decorator":"FormItem","x-component":"Input",description:'{{t("Labels are used to indicate the current selected rating level to the user. Please separate labels with ,")}}'}})),n()(t()(q),"titleUsable",!0),n()(t()(q),"filterable",{operators:y.operators.number}),q}return d()(_e,[{key:"schemaInitialize",value:function(pe,Re){var Oe=Re.block;["Table","Kanban"].includes(Oe)&&(pe["x-component-props"]=pe["x-component-props"]||{},pe["x-component-props"].ellipsis=!0)}}]),_e}(o.S)},65375:function(se,j,e){"use strict";e.r(j),e.d(j,{autoFill:function(){return P},autoIncrement:function(){return D},collectionDataSource:function(){return z},constraintsProps:function(){return O},dataSource:function(){return $},dateTimeProps:function(){return S},defaultProps:function(){return Z},operators:function(){return v},primaryKey:function(){return y},recordPickerViewer:function(){return K},relationshipType:function(){return E},reverseFieldProperties:function(){return T},type:function(){return o},unique:function(){return g}});var v={};e.r(v),e.d(v,{array:function(){return d},boolean:function(){return l},collection:function(){return r},datetime:function(){return t},enumType:function(){return a},id:function(){return i},number:function(){return c},object:function(){return h},string:function(){return p},tableoid:function(){return n},time:function(){return f}});var m=e(97857),x=e.n(m),u=e(84327),p=[{label:'{{t("is")}}',value:"$eq"},{label:'{{t("contains")}}',value:"$includes",selected:!0},{label:'{{t("does not contain")}}',value:"$notIncludes"},{label:'{{t("is not")}}',value:"$ne"},{label:'{{t("is empty")}}',value:"$empty",noValue:!0},{label:'{{t("is not empty")}}',value:"$notEmpty",noValue:!0},{label:'{{t("has intersection")}}',value:"$hasIntersection"},{label:'{{t("not has intersection")}}',value:"$notHasIntersection"}],d=[{label:'{{t("is")}}',value:"$match",selected:!0,schema:{"x-component":"Select","x-component-props":{mode:"tags"}}},{label:'{{t("is not")}}',value:"$notMatch",schema:{"x-component":"Select","x-component-props":{mode:"tags"}}},{label:'{{t("contains")}}',value:"$anyOf",schema:{"x-component":"Select","x-component-props":{mode:"tags"}}},{label:'{{t("does not contain")}}',value:"$noneOf",schema:{"x-component":"Select","x-component-props":{mode:"tags"}}},{label:'{{t("is empty")}}',value:"$empty",noValue:!0},{label:'{{t("is not empty")}}',value:"$notEmpty",noValue:!0}],h=[{label:'{{t("is")}}',value:"$eq",selected:!0},{label:'{{t("is not")}}',value:"$ne"}],t=[{label:"{{ t('is') }}",value:"$dateOn",selected:!0},{label:"{{ t('is not') }}",value:"$dateNotOn"},{label:"{{ t('is before') }}",value:"$dateBefore"},{label:"{{ t('is after') }}",value:"$dateAfter"},{label:"{{ t('is on or after') }}",value:"$dateNotBefore"},{label:"{{ t('is on or before') }}",value:"$dateNotAfter"},{label:"{{ t('is between') }}",value:"$dateBetween",schema:{"x-component":"DatePicker.RangePicker"}},{label:"{{ t('is empty') }}",value:"$empty",noValue:!0},{label:"{{ t('is not empty') }}",value:"$notEmpty",noValue:!0}],c=[{label:'{{t("=")}}',value:"$eq",selected:!0},{label:'{{t("\u2260")}}',value:"$ne"},{label:'{{t(">")}}',value:"$gt"},{label:'{{t("\u2265")}}',value:"$gte"},{label:'{{t("<")}}',value:"$lt"},{label:'{{t("\u2264")}}',value:"$lte"},{label:'{{t("is empty")}}',value:"$empty",noValue:!0},{label:'{{t("is not empty")}}',value:"$notEmpty",noValue:!0},{label:'{{t("has intersection")}}',value:"$hasIntersection"},{label:'{{t("not has intersection")}}',value:"$notHasIntersection"}],i=[{label:'{{t("is")}}',value:"$eq",selected:!0},{label:'{{t("is not")}}',value:"$ne"},{label:'{{t("exists")}}',value:"$exists",noValue:!0},{label:'{{t("not exists")}}',value:"$notExists",noValue:!0}],a=[{label:'{{t("is")}}',value:"$eq",selected:!0,schema:{"x-component":"Select"}},{label:'{{t("is not")}}',value:"$ne",schema:{"x-component":"Select"}},{label:'{{t("contains")}}',value:"$in",schema:{"x-component":"Select","x-component-props":{mode:"tags"}}},{label:'{{t("does not contain")}}',value:"$notIn",schema:{"x-component":"Select","x-component-props":{mode:"tags"}}},{label:'{{t("is empty")}}',value:"$empty",noValue:!0},{label:'{{t("is not empty")}}',value:"$notEmpty",noValue:!0}],f=[{label:'{{t("is")}}',value:"$eq",selected:!0},{label:'{{t("is not")}}',value:"$neq"},{label:'{{t("is empty")}}',value:"$empty",noValue:!0},{label:'{{t("is not empty")}}',value:"$notEmpty",noValue:!0}],l=[{label:'{{t("Yes")}}',value:"$isTruly",selected:!0,noValue:!0},{label:'{{t("No")}}',value:"$isFalsy",noValue:!0}],n=[{label:'{{t("contains")}}',value:"$childIn",schema:{"x-component":"CollectionSelect","x-component-props":{mode:"tags"}}},{label:'{{t("does not contain")}}',value:"$childNotIn",schema:{"x-component":"CollectionSelect","x-component-props":{mode:"tags"}}}],r=[{label:'{{t("is")}}',value:"$eq",selected:!0,schema:{"x-component":"CollectionSelect"}},{label:'{{t("is not")}}',value:"$ne",schema:{"x-component":"CollectionSelect"}},{label:'{{t("contains")}}',value:"$in",schema:{"x-component":"CollectionSelect","x-component-props":{mode:"tags"}}},{label:'{{t("does not contain")}}',value:"$notIn",schema:{"x-component":"CollectionSelect","x-component-props":{mode:"tags"}}},{label:'{{t("is empty")}}',value:"$empty",noValue:!0},{label:'{{t("is not empty")}}',value:"$notEmpty",noValue:!0}],o={type:"string",title:'{{t("Storage type")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Select",enum:[{label:"Boolean",value:"boolean"},{label:"String",value:"string"},{label:"Text",value:"text"},{label:"Integer",value:"integer"},{label:"BigInteger",value:"bigInt"},{label:"Float",value:"float"},{label:"Double",value:"double"},{label:"Decimal",value:"decimal"},{label:"Date",value:"date"},{label:"DateOnly",value:"dateonly"},{label:"Time",value:"time"},{label:"Virtual",value:"virtual"},{label:"JSON",value:"json"},{label:"Password",value:"password"},{label:"One to one",value:"hasOne"},{label:"One to many",value:"hasMany"},{label:"Many to one",value:"belongsTo"},{label:"Many to many",value:"belongsToMany"},{label:"Snapshot",value:"snapshot"}]},g={type:"boolean","x-content":'{{t("Unique")}}',"x-decorator":"FormItem","x-component":"Checkbox","x-disabled":"{{ !createMainOnly }}","x-reactions":[{dependencies:["primaryKey"],when:"{{$deps[0]}}",fulfill:{state:{value:!1}}}]},y={type:"boolean","x-content":'{{t("Primary")}}',"x-decorator":"FormItem","x-component":"Checkbox","x-disabled":"{{ !createMainOnly }}","x-reactions":[{dependencies:["unique"],when:"{{$deps[0]&&createMainOnly}}",fulfill:{state:{value:!1}}}]},D={type:"boolean",title:'{{t("Auto increment")}}',"x-content":'{{t("Auto increment")}}',"x-decorator":"FormItem","x-component":"Checkbox","x-disabled":"{{ !createMainOnly }}"},P={type:"boolean",title:'{{t("Default value")}}',"x-content":'{{t("Automatically generate default values")}}',"x-decorator":"FormItem","x-component":"Checkbox",default:!0},E={type:"string",title:'{{t("Relationship type")}}',required:!0,"x-disabled":!0,"x-decorator":"FormItem","x-component":"Select",enum:[{label:"{{t('HasOne')}}",value:"hasOne"},{label:"{{t('HasMany')}}",value:"hasMany"},{label:"{{t('BelongsTo')}}",value:"belongsTo"},{label:"{{t('BelongsToMany')}}",value:"belongsToMany"}]},O={onDelete:{type:"string",title:'{{t("ON DELETE")}}',required:!0,default:"SET NULL","x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Select",enum:[{label:"{{t('SET NULL')}}",value:"SET NULL"},{label:"{{t('RESTRICT')}}",value:"RESTRICT"},{label:"{{t('CASCADE')}}",value:"CASCADE"},{label:"{{t('NO ACTION')}}",value:"NO ACTION"}]}},T={reverse:{type:"void","x-component":"div","x-hidden":"{{ !showReverseFieldConfig }}",properties:{autoCreateReverseField:{type:"boolean",default:!1,"x-decorator":"FormItem","x-component":"Checkbox","x-content":'{{t("Create inverse field in the target collection")}}',"x-reactions":[{target:"reverseField.type",when:"{{!!$self.value}}",fulfill:{state:{hidden:!1}},otherwise:{state:{hidden:!0}}},{target:"reverseField.uiSchema.title",when:"{{!!$self.value}}",fulfill:{state:{hidden:!1}},otherwise:{state:{hidden:!0}}},{target:"reverseField.name",when:"{{!!$self.value}}",fulfill:{state:{hidden:!1}},otherwise:{state:{hidden:!0}}}]},"reverseField.type":x()(x()({},E),{},{title:'{{t("Inverse relationship type")}}'}),"reverseField.uiSchema.title":{type:"string",title:'{{t("Inverse field display name")}}',default:"{{record.title}}",required:!0,"x-decorator":"FormItem","x-component":"Input"},"reverseField.name":{type:"string",title:'{{t("Inverse field name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input","x-validator":"uid",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"}}}},S={"uiSchema.x-component-props.dateFormat":{type:"string",title:'{{t("Date format")}}',"x-component":"Radio.Group","x-decorator":"FormItem",default:"YYYY-MM-DD",enum:[{label:'{{t("Year/Month/Day")}}',value:"YYYY/MM/DD"},{label:'{{t("Year-Month-Day")}}',value:"YYYY-MM-DD"},{label:'{{t("Day/Month/Year")}}',value:"DD/MM/YYYY"}]},"uiSchema.x-component-props.showTime":{type:"boolean","x-decorator":"FormItem","x-component":"Checkbox","x-content":'{{t("Show time")}}',"x-reactions":[`{{(field) => {
        field.query('..[].timeFormat').take(f => {
          f.display = field.value ? 'visible' : 'none';
        });
      }}}`]},"uiSchema.x-component-props.timeFormat":{type:"string",title:'{{t("Time format")}}',"x-component":"Radio.Group","x-decorator":"FormItem",default:"HH:mm:ss",enum:[{label:'{{t("12 hour")}}',value:"hh:mm:ss a"},{label:'{{t("24 hour")}}',value:"HH:mm:ss"}]}},$={type:"array",title:'{{t("Options")}}',"x-decorator":"FormItem","x-component":"ArrayTable","x-component-props":{pagination:{pageSize:1e3}},items:{type:"object",properties:{column1:{type:"void","x-component":"ArrayTable.Column","x-component-props":{width:50,title:"",align:"center"},properties:{sort:{type:"void","x-component":"ArrayTable.SortHandle"}}},column2:{type:"void","x-component":"ArrayTable.Column","x-component-props":{title:'{{t("Option value")}}'},properties:{value:{type:"string",required:!0,"x-decorator":"FormItem","x-component":"Input","x-reactions":function(A){!A.initialValue&&!A.initialized&&(A.initialValue=(0,u.uid)(),A.setValue((0,u.uid)()))}}}},column3:{type:"void","x-component":"ArrayTable.Column","x-component-props":{title:'{{t("Option label")}}'},properties:{label:{type:"string",required:!0,"x-decorator":"FormItem","x-component":"Input"}}},column4:{type:"void","x-component":"ArrayTable.Column","x-component-props":{title:'{{t("Color")}}'},properties:{color:{type:"string","x-decorator":"FormItem","x-component":"ColorSelect"}}},column5:{type:"void","x-component":"ArrayTable.Column","x-component-props":{title:"",dataIndex:"operations",fixed:"right"},properties:{item:{type:"void","x-component":"FormItem",properties:{remove:{type:"void","x-component":"ArrayTable.Remove"}}}}}}},properties:{add:{type:"void","x-component":"ArrayTable.Addition","x-component-props":{randomValue:!0},title:"{{t('Add option')}}"}}},Z={"uiSchema.title":{type:"string",title:'{{t("Field display name")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Field name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input","x-validator":"uid",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"}},K={type:"void",title:'{{ t("View record") }}',"x-component":"RecordPicker.Viewer","x-component-props":{className:"nb-action-popup"},properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab",properties:{tab1:{type:"void",title:'{{t("Details")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock",properties:{}}}}}}}},z={type:"string",title:'{{t("Options")}}',"x-decorator":"FormItem","x-component":"Select","x-component-props":{multiple:!0},enum:"{{collections}}"}},88049:function(se,j,e){"use strict";e.d(j,{d:function(){return P}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(25098),d=e.n(p),h=e(28785),t=e.n(h),c=e(48374),i=e.n(c),a=e(31996),f=e.n(a),l=e(26037),n=e.n(l),r=e(9783),o=e.n(r),g=e(5282),y=e(96486),D=e.n(y),P=function(E){f()(T,E);var O=n()(T);function T(){var S;m()(this,T);for(var $=arguments.length,Z=new Array($),K=0;K<$;K++)Z[K]=arguments[K];return S=O.call.apply(O,[this].concat(Z)),o()(d()(S),"parentCollectionsName",void 0),o()(d()(S),"parentCollections",void 0),o()(d()(S),"childrenCollections",{}),o()(d()(S),"childrenCollectionsName",{}),o()(d()(S),"inheritsFields",void 0),o()(d()(S),"currentFields",void 0),o()(d()(S),"allFields",void 0),o()(d()(S),"parentCollectionFields",{}),o()(d()(S),"allCollectionsInheritChain",void 0),o()(d()(S),"inheritCollectionsChain",void 0),o()(d()(S),"foreignKeyFields",void 0),S}return u()(T,[{key:"getParentCollectionsName",value:function(){var $=this;if(this.parentCollectionsName)return this.parentCollectionsName.slice();var Z=[],K=function z(w){var A=$.collectionManager.getCollection(w);if(A){var M=A.inherits;if(M)for(var b=0;b<M.length;b++){var R=M[b];Z.push(R),z(R)}}return(0,y.uniq)(Z)};return this.parentCollectionsName=K(this.name),this.parentCollectionsName}},{key:"getParentCollections",value:function(){var $=this;return this.parentCollections?this.parentCollections.slice():(this.parentCollections=this.getParentCollectionsName().map(function(Z){return $.collectionManager.getCollection(Z)}),this.parentCollections)}},{key:"getChildrenCollectionsName",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=$?"supportView":"notSupportView";if(this.childrenCollectionsName[Z])return this.childrenCollectionsName[Z].slice();var K=[],z=this.collectionManager.getCollections(),w=function A(M){var b=z.filter(function(L){var N;return(N=L.inherits)===null||N===void 0?void 0:N.includes(M)});if(b.forEach(function(L){var N=L.name;return K.push(N),A(N)}),$){var R=z.filter(function(L){var N;return((N=L.sources)===null||N===void 0?void 0:N.length)===1&&(L==null?void 0:L.sources[0])===M});R.forEach(function(L){var N=L.name;return K.push(L.name),A(N)})}return(0,y.uniq)(K)};return this.childrenCollectionsName[Z]=w(this.name),this.childrenCollectionsName[Z]}},{key:"getChildrenCollections",value:function(){var $=this,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,K=Z?"supportView":"notSupportView";return this.childrenCollections[K]?this.childrenCollections[K].slice():(this.childrenCollections[K]=this.getChildrenCollectionsName(Z).map(function(z){return $.collectionManager.getCollection(z)}),this.childrenCollections[K])}},{key:"getInheritedFields",value:function(){var $=this;if(this.inheritsFields)return this.inheritsFields.slice();var Z=this.getParentCollectionsName();return this.inheritsFields=Z.map(function(K){var z;return(z=$.collectionManager.getCollection(K))===null||z===void 0?void 0:z.getFields()}).flat().filter(Boolean),this.inheritsFields}},{key:"getFieldsMap",value:function(){return this.fieldsMap?this.fieldsMap:(this.fieldsMap=this.getAllFields().reduce(function($,Z){return $[Z.name]=Z,$},{}),this.fieldsMap)}},{key:"getCurrentFields",value:function($){return t()(i()(T.prototype),"getFields",this).call(this,$)}},{key:"getParentCollectionFields",value:function($){var Z=this;if(this.parentCollectionFields||(this.parentCollectionFields={}),this.parentCollectionFields[$])return this.parentCollectionFields[$];var K=this.getCurrentFields(),z=this.getParentCollectionsName(),w=this.collectionManager.getCollection($),A=w.getCurrentFields(),M=z.indexOf($),b=K;return M>0&&(z.splice(M),z.forEach(function(R){var L=Z.collectionManager.getCollection(R);b=b.concat(L.getCurrentFields())})),this.parentCollectionFields[$]=A.filter(function(R){return!b.find(function(L){return L.name===R.name})}),this.parentCollectionFields[$]}},{key:"getAllCollectionsInheritChain",value:function(){var $=this;if(this.allCollectionsInheritChain)return this.allCollectionsInheritChain.slice();var Z=[this.name],K=function z(w){var A=$.collectionManager.getCollection(w);if(A){var M=A.inherits,b=A.getChildrenCollectionsName();if(M)for(var R=0;R<M.length;R++){var L=M[R];Z.includes(L)||(Z.push(L),z(L))}if(b)for(var N=0;N<b.length;N++){var B=$.collectionManager.getCollection(b[N]),V=B.name;Z.includes(V)||(Z.push(V),z(V))}}return Z};return this.allCollectionsInheritChain=K(this.name),this.allCollectionsInheritChain||[]}},{key:"getInheritCollectionsChain",value:function(){var $=this;if(this.inheritCollectionsChain)return this.inheritCollectionsChain.slice();var Z=[this.name],K=function z(w){var A=$.collectionManager.getCollection(w);if(A){var M=A.inherits;if(M)for(var b=0;b<M.length;b++){var R=M[b];Z.includes(R)||(Z.push(R),z(R))}}return Z};return this.inheritCollectionsChain=K(this.name),this.inheritCollectionsChain}},{key:"getAllFields",value:function($){if(this.allFields)return this.allFields.slice();var Z=this.getCurrentFields(),K=this.getInheritedFields(),z=(0,y.unionBy)((Z==null?void 0:Z.concat(K))||[],"name");return this.allFields=z,$?(0,y.filter)(z,$):z}},{key:"getForeignKeyFields",value:function(){if(this.foreignKeyFields)return this.foreignKeyFields.slice();var $=this.getCurrentFields(),Z=this.getInheritedFields(),K=(0,y.unionBy)(($==null?void 0:$.concat(Z))||[],"name");return K}}]),T}(g.F)},40802:function(se,j,e){"use strict";e.d(j,{Nz:function(){return D},PI:function(){return z},ds:function(){return Z},m1:function(){return K}});var v=e(5574),m=e.n(v),x=e(15009),u=e.n(x),p=e(19632),d=e.n(p),h=e(99289),t=e.n(h),c=e(97857),i=e.n(c),a=e(94350),f=e(96486),l=e.n(f),n=e(67294),r=e(21143),o=e(72029),g=e(85893),y={name:"fields",targetKey:"name",fields:[{type:"string",name:"type",interface:"input",uiSchema:{title:'{{ t("Storage type") }}',type:"string","x-component":"Select",enum:[{label:"String",value:"string"}],required:!0}},{type:"string",name:"interface",interface:"input",uiSchema:{title:'{{ t("Field interface") }}',type:"string","x-component":"Select",enum:"{{interfaces}}"}},{type:"string",name:"title",interface:"input",uiSchema:{title:'{{ t("Field display name") }}',type:"string","x-component":"Input",required:!0}},{type:"string",name:"name",interface:"input",uiSchema:{title:'{{ t("Field name") }}',type:"string","x-component":"Input"}}]},D=(0,n.createContext)(null);D.displayName="DataSourceContext_deprecated";var P=function(){var A=(0,n.useContext)(D);return[A.selectedRowKeys,A.setSelectedRowKeys]},E=function(A){var M=(0,n.useContext)(D);return(0,r.useRequest)(function(){return Promise.resolve({data:M.dataSource})},i()(i()({},A),{},{refreshDeps:[JSON.stringify(M.dataSource)]}))},O=function(){var A=(0,n.useContext)(D),M=(0,a.useForm)(),b=(0,r.useActionContext)(),R=b.setVisible;return{run:function(){return t()(u()().mark(function N(){var B;return u()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return console.log("form.values",M.values),B=A.dataSource||[],B.push((0,f.cloneDeep)(M.values)),A.setDataSource(d()(B)),R(!1),U.next=7,M.reset();case 7:case"end":return U.stop()}},N)}))()}}},T=function(){var A=(0,n.useContext)(D),M=A.selectedRowKeys,b=A.setSelectedRowKeys;return{run:function(){return t()(u()().mark(function L(){var N;return u()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:N=A.dataSource||[],A.setDataSource(N.filter(function(U,I){return!M.includes(I)})),b([]);case 3:case"end":return V.stop()}},L)}))()}}},S=function(){var A=(0,r.useRecordIndex)(),M=(0,a.useForm)(),b=(0,r.useActionContext)(),R=b.setVisible,L=(0,n.useContext)(D);return{run:function(){return t()(u()().mark(function B(){var V,U;return u()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:V=(L==null?void 0:L.dataSource)||[],U=V.map(function(W,X){return X===A?i()({},M.values):W}),L.setDataSource(d()(U)),R(!1);case 4:case"end":return F.stop()}},B)}))()}}},$=function(){var A=(0,r.useRecordIndex)(),M=(0,n.useContext)(D);return{run:function(){return t()(u()().mark(function R(){var L;return u()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:L=M.dataSource||[],M.setDataSource(L.filter(function(V,U){return A!==U}));case 2:case"end":return B.stop()}},R)}))()}}},Z={useSelectedRowKeys:P,useDataSource_deprecated:E,useCreateAction:O,useBulkDestroyAction:T,useUpdateAction:S,useDestroyAction:$},K=(0,a.observer)(function(w){var A=(0,n.useState)([]),M=m()(A,2),b=M[0],R=M[1],L=(0,n.useState)([]),N=m()(L,2),B=N[0],V=N[1],U=(0,r.useRecord)(),I=(0,o.LY)(),F=(0,r.useRequest)(function(){if(U.interface==="subTable"){var W;return U!=null&&(W=U.children)!==null&&W!==void 0&&W.length?Promise.resolve({data:(U==null?void 0:U.children)||[]}):I.resource("fields").list({paginate:!1,sort:"sort",filter:{parentKey:U.key}}).then(function(X){return X==null?void 0:X.data})}return Promise.resolve({data:[]})},{onSuccess:function(X){console.log("dataSource1",X==null?void 0:X.data),V(X==null?void 0:X.data)}});return(0,g.jsx)(r.CollectionProvider_deprecated,{collection:y,children:(0,g.jsx)(D.Provider,{value:{rowKey:"name",service:F,dataSource:B,setDataSource:V,selectedRowKeys:b,setSelectedRowKeys:R},children:w.children})})},{displayName:"SubFieldDataSourceProvider_deprecated"}),z=(0,a.observer)(function(w){var A=w.rowKey,M=w.collection,b=w.association,R=(0,n.useState)([]),L=m()(R,2),N=L[0],B=L[1],V=(0,n.useState)([]),U=m()(V,2),I=U[0],F=U[1],W=(0,r.useRecord)(),X=(0,o.LY)(),J=(0,r.useCollectionManager_deprecated)(),C=J.getCollection,k=C(M),Y=W==null?void 0:W[b.targetKey||"id"],H=(0,r.useRequest)(function(){if(Y){var te;return X.request({resource:"".concat(b.collectionName,".").concat(b.name),resourceOf:Y,action:"list",params:{appends:k==null||(te=k.fields)===null||te===void 0||(te=te.filter(function(le){return le.target}))===null||te===void 0?void 0:te.map(function(le){return le.name})}}).then(function(le){return le.data})}return Promise.resolve({data:(W==null?void 0:W[b.name])||[]})},{onSuccess:function(le){F(le==null?void 0:le.data)}});return(0,g.jsx)(r.CollectionProvider_deprecated,{collection:k,children:(0,g.jsx)(D.Provider,{value:{rowKey:A,service:H,dataSource:I,setDataSource:F,selectedRowKeys:N,setSelectedRowKeys:B},children:w.children})})},{displayName:"DataSourceProvider_deprecated"})},41028:function(se,j,e){"use strict";e.d(j,{f:function(){return $}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(94350),d=e(38089),h=e(66309),t=e(34041),c=e(69677),i=e(57953),a=e(16455),f=e(96486),l=e(67294),n=e(26793),r=e(21143),o=e(72029),g=e(47047),y=e(99986),D=e(96074),P=e(85893),E=function(K){var z=K.dataSource,w=(0,n.$)(),A=w.t,M=[{title:A("Field name"),dataIndex:"name",key:"name"},{title:A("Field database type"),dataIndex:"rawType",key:"rawType"}];return(z==null?void 0:z.length)>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(D.Z,{plain:!0,orientation:"left",orientationMargin:"0",children:(0,P.jsx)("h3",{children:A("Unknown field type")})}),(0,P.jsx)("div",{style:{marginBottom:"15px"},children:A("The following field types are not compatible and do not support output and display")}),(0,P.jsx)(a.Z,{columns:M,dataSource:z,pagination:!1})]})},O=function(K,z){var w=[];return K.forEach(function(A){var M=A.children.filter(function(b){var R;return b==null||(R=b.availableTypes)===null||R===void 0?void 0:R.includes(z)});w.push({label:A.label,key:A.key,children:M})}),w.filter(function(A){return A.children.length>0})},T=function(K){var z=K.databaseView,w=K.viewName,A=K.sources,M=K.schema,b=(0,l.useContext)(r.ResourceActionContext),R=b.data,L=(0,o.LY)(),N=(0,n.$)(),B=N.t,V=(0,l.useState)(!1),U=u()(V,2),I=U[0],F=U[1],W=(0,l.useState)([]),X=u()(W,2),J=X[0],C=X[1],k=(0,l.useState)([]),Y=u()(k,2),H=Y[0],te=Y[1],le=(0,l.useState)(A),ne=u()(le,2),ie=ne[0],ee=ne[1],fe=(0,l.useState)([]),de=u()(fe,2),ue=de[0],Se=de[1],ae=(0,p.useField)(),G=(0,p.useForm)(),re=(0,y.B)(),oe=re.getCollection,ce=re.getInterface,be=re.getCollectionFields,xe=re.getInheritCollections,ge=re.getParentCollectionFields,he=(0,r.useCompile)(),Pe=(0,g.r)(),Ae=Pe.filter(function(Me){return!["relation","systemInfo"].includes(Me.key)});(0,l.useEffect)(function(){var Me=[];ie.forEach(function(Te){var we,Ue=oe(Te),je=xe(Te),De=je.map(function(_e){var q=ge(_e,Te);return{type:"group",key:_e,label:B("Parent collection fields")+B("(".concat(oe(_e).title,")")),children:q.filter(function(pe){return!["hasOne","hasMany","belongsToMany"].includes(pe==null?void 0:pe.type)}).map(function(pe){var Re;return{value:pe.name,label:B((Re=pe.uiSchema)===null||Re===void 0?void 0:Re.title)}})}}),ye=(we=Ue.fields.filter(function(_e){return!["hasOne","hasMany","belongsToMany"].includes(_e==null?void 0:_e.type)}))===null||we===void 0?void 0:we.map(function(_e){var q;return{value:_e.name,key:_e.name,label:B(((q=_e.uiSchema)===null||q===void 0?void 0:q.title)||_e.name)}}).concat(De);Me.push({value:Te,label:B(Ue.title||Ue.name),children:ye})}),te(Me)},[ie,z]),(0,l.useEffect)(function(){z&&(F(!0),L.resource("dbViews").get({filterByTk:w,schema:M}).then(function(Me){var Te=Me.data;if(Te){var we,Ue;F(!1),C([]);var je=(we=Object.values(Te==null||(Ue=Te.data)===null||Ue===void 0?void 0:Ue.fields))===null||we===void 0?void 0:we.map(function(De){if(De.source){var ye,_e=(R==null?void 0:R.data.find(function(Re){return Re.name===De.name}))||De;return m()(m()({},De),{},{uiSchema:m()(m()({},(0,f.omit)(_e.uiSchema,"rawTitle")),{},{title:((ye=_e.uiSchema)===null||ye===void 0?void 0:ye.title)||_e.name})})}else{var q,pe=(R==null?void 0:R.data.find(function(Re){return Re.name===De.name}))||De;return m()(m()({},pe),{},{uiSchema:m()(m()({},(0,f.omit)(pe.uiSchema,"rawTitle")),{},{title:((q=pe.uiSchema)===null||q===void 0?void 0:q.title)||pe.name})})}});ae.value=je,setTimeout(function(){var De,ye,_e;C(je),G.setValuesIn("sources",(De=Te.data)===null||De===void 0?void 0:De.sources),ee((ye=Te.data)===null||ye===void 0?void 0:ye.sources),Se(Te==null||(_e=Te.data)===null||_e===void 0?void 0:_e.unsupportedFields)})}}).catch)},[z]);var Be=function(Te,we){J.splice(we,1,Te),C(J),ae.value=J.map(function(Ue){var je,De,ye=typeof Ue.source=="string"?Ue.source:(je=Ue.source)===null||je===void 0||(De=je.filter)===null||De===void 0||(De=De.call(je,Boolean))===null||De===void 0?void 0:De.join(".");return m()(m()({},Ue),{},{source:ye})})},Le=[{title:B("Field name"),dataIndex:"name",key:"name",width:130},{title:B("Field source"),dataIndex:"source",key:"source",width:200,render:function(Te,we,Ue){return(0,P.jsx)(d.Z,{defaultValue:typeof Te=="string"?Te==null?void 0:Te.split("."):Te,allowClear:!0,style:{width:"100%"},options:he(H),onChange:function(De,ye){var _e,q=(_e=be(De==null?void 0:De[0]))===null||_e===void 0?void 0:_e.find(function(pe){return pe.name===(0,f.last)(De)});Be(m()(m()({},we),{},{source:De,uiSchema:q==null?void 0:q.uiSchema}),Ue)},placeholder:B("Select field source")})}},{title:B("Field type"),dataIndex:"type",width:140,key:"type",render:function(Te,we,Ue){var je=J[Ue];return je!=null&&je.source||!(je!=null&&je.possibleTypes)?(0,P.jsx)(h.Z,{children:Te}):(0,P.jsx)(t.default,{defaultValue:Te,popupMatchSelectWidth:!1,style:{width:"100%"},options:(je==null?void 0:je.possibleTypes.map(function(De){return{label:De,value:De}}))||[],onChange:function(ye){return Be(m()(m()({},je),{},{type:ye}),Ue)}})}},{title:B("Field interface"),dataIndex:"interface",key:"interface",width:150,render:function(Te,we,Ue){var je=J[Ue],De=O(Ae,je.type);return je.source?Te:(0,P.jsx)(t.default,{defaultValue:Te,style:{width:"100%"},popupMatchSelectWidth:!1,onChange:function(_e){var q,pe=ce(_e);Be(m()(m()({},je),{},{interface:_e,uiSchema:pe==null||(q=pe.default)===null||q===void 0?void 0:q.uiSchema}),Ue)},children:De.map(function(ye){return(0,P.jsx)(t.default.OptGroup,{label:he(ye.label),children:ye.children.map(function(_e){return(0,P.jsx)(t.default.Option,{value:_e.name,children:he(_e.label)},_e.value)})},ye.key)})})}},{title:B("Field display name"),dataIndex:"title",key:"title",width:180,render:function(Te,we,Ue){var je,De=J[Ue];return(0,P.jsx)(c.Z,{defaultValue:(De==null||(je=De.uiSchema)===null||je===void 0?void 0:je.title)||Te,onChange:function(_e){return Be(m()(m()({},De),{},{uiSchema:m()(m()({},(0,f.omit)(De==null?void 0:De.uiSchema,"rawTitle")),{},{title:_e.target.value})}),Ue)}})}}];return(0,P.jsxs)(i.Z,{spinning:I,children:[J.length>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"ant-formily-item-label",style:{display:"flex",padding:"0 0 8px"},children:[(0,P.jsx)("div",{className:"ant-formily-item-label-content",children:(0,P.jsx)("span",{children:(0,P.jsx)("label",{children:B("Fields")})})}),(0,P.jsx)("span",{className:"ant-formily-item-colon",children:":"})]}),(0,P.jsx)(a.Z,{bordered:!0,size:"middle",columns:Le,dataSource:J,scroll:{y:300},pagination:!1,rowClassName:"editable-row"},w)]}),(0,P.jsx)(E,{dataSource:ue})]})};function S(Z,K){return K.name===Z.name&&K.sources===Z.sources}var $=l.memo(T,S);$.displayName="PreviewFields"},88962:function(se,j,e){"use strict";e.d(j,{S:function(){return r}});var v=e(9783),m=e.n(v),x=e(5574),u=e.n(x),p=e(94350),d=e(57953),h=e(16455),t=e(67294),c=e(26793),i=e(21143),a=e(72029),f=e(99986),l=e(85893),n=["lineString","point","circle","polygon"],r=function(g){var y=g.databaseView,D=g.schema,P=g.viewName,E=g.fields,O=(0,t.useState)([]),T=u()(O,2),S=T[0],$=T[1],Z=(0,t.useState)([]),K=u()(Z,2),z=K[0],w=K[1],A=(0,i.useCompile)(),M=(0,t.useState)(!1),b=u()(M,2),R=b[0],L=b[1],N=(0,f.B)(),B=N.getInterface,V=N.getCollectionFields,U=(0,a.LY)(),I=(0,c.$)(),F=I.t,W=(0,p.useForm)();(0,t.useEffect)(function(){y&&X()},[P,D]),(0,t.useEffect)(function(){var C=J(E);$(C)},[W.values.fields]);var X=function(){var k={};W.values.fields.map(function(Y){n.includes(Y.type)&&(k[Y.name]=Y.type)}),L(!0),U.resource("dbViews").query({filterByTk:P,schema:D,fieldTypes:k}).then(function(Y){var H=Y.data;H&&(L(!1),w((H==null?void 0:H.data)||[]))}).catch},J=function(k){var Y;return(Y=k.filter(function(H){return H.source||H.interface}))===null||Y===void 0?void 0:Y.map(function(H){var te,le,ne,ie,ee=typeof(H==null?void 0:H.source)=="string"?H==null||(te=H.source)===null||te===void 0?void 0:te.split("."):H==null?void 0:H.source,fe=(le=V(ee==null?void 0:ee[0]))===null||le===void 0||(le=le.find(function(Se){return Se.name===(ee==null?void 0:ee[1])}))===null||le===void 0?void 0:le.uiSchema,de=(H==null||(ne=H.uiSchema)===null||ne===void 0?void 0:ne.title)||(fe==null?void 0:fe.title)||H.name,ue=H.source?fe:(ie=B(H.interface))===null||ie===void 0||(ie=ie.default)===null||ie===void 0?void 0:ie.uiSchema;return{title:A(de),dataIndex:H.name,key:H.name,width:200,render:function(ae,G,re){var oe=G[H.name],ce={type:"object",properties:m()({},H.name,{name:"".concat(H.name),"x-component":ue&&ee?"CollectionField":"Input","x-read-pretty":!0,"x-collection-field":ee==null?void 0:ee.join("."),default:H.interface==="json"?JSON.stringify(oe):oe})};return(0,l.jsx)(i.EllipsisWithTooltip,{ellipsis:!0,children:(0,l.jsx)(p.RecursionField,{schema:ce,name:re,onlyRenderProperties:!0})})}}})};return(0,l.jsx)(d.Z,{spinning:R,children:(0,l.jsxs)("div",{style:{marginBottom:22},children:[(0,l.jsxs)("div",{className:"ant-formily-item-label",style:{marginTop:24,display:"flex",padding:"0 0 8px"},children:[(0,l.jsx)("div",{className:"ant-formily-item-label-content",children:(0,l.jsx)("span",{children:(0,l.jsx)("label",{children:F("Preview")})})}),(0,l.jsx)("span",{className:"ant-formily-item-colon",children:":"})]},P),(S==null?void 0:S.length)>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h.Z,{size:"middle",pagination:!1,bordered:!0,columns:S,dataSource:z,scroll:{x:1e3,y:300}},"".concat(P,"-preview"))})]})},"preview")}},78317:function(se,j,e){"use strict";e.d(j,{V0:function(){return K},SN:function(){return z},sv:function(){return I},_E:function(){return M}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(19632),d=e.n(p),h=e(26793),t=e(26124),c=e(67294),i=e(57953),a=e(38925),f=e(38089),l=e(66309),n=e(34041),r=e(69677),o=e(16455),g=e(94350),y=e(47047),D=e(98427),P=e(29796),E=e(27484),O=e.n(E),T=e(63250),S=e(85893),$=function(W,X){return W.toLowerCase().includes("id")?"id":typeof X=="number"?Number.isInteger(X)?"integer":"number":typeof X=="boolean"?"checkbox":O()(X).isValid()?"datetime":"input"},Z=function(){var W=(0,g.useForm)(),X=W.values.sources,J=X===void 0?[]:X,C=(0,h.$)(),k=C.t,Y=(0,P.Bu)(),H=Y.getCollection,te=Y.getInheritCollections,le=Y.getParentCollectionFields,ne=[];return J.forEach(function(ie){var ee,fe=H(ie),de=te(ie),ue=de.map(function(ae){var G=le(ae,ie);return{type:"group",key:ae,label:k("Parent collection fields")+k("(".concat(H(ae).title,")")),children:G.filter(function(re){return!["hasOne","hasMany","belongsToMany"].includes(re==null?void 0:re.type)}).map(function(re){var oe;return{value:re.name,label:k((oe=re.uiSchema)===null||oe===void 0?void 0:oe.title)}})}});if(fe){var Se=(ee=fe.fields.filter(function(ae){return!["hasOne","hasMany","belongsToMany"].includes(ae==null?void 0:ae.type)}))===null||ee===void 0?void 0:ee.map(function(ae){var G;return{value:ae.name,label:k((G=ae.uiSchema)===null||G===void 0?void 0:G.title)}});ne.push({value:ie,label:k(fe.title),children:[].concat(d()(Se),d()(ue))})}}),ne},K=(0,g.observer)(function(){var F=(0,h.$)(),W=F.t,X=(0,c.useState)([]),J=u()(X,2),C=J[0],k=J[1],Y=(0,t.w3)(),H=Y.data,te=Y.error,le=Y.loading,ne=H||{},ie=ne.data,ee=ne.fields,fe=(0,g.useField)(),de=(0,c.useContext)(T.rf),ue=de.data,Se=(0,D.eJW)(),ae=(0,P.Bu)(),G=ae.getInterface,re=ae.getCollectionField,oe=(0,y.r)(),ce=(0,c.useMemo)(function(){return oe.filter(function(Me){return!["relation"].includes(Me.key)}).map(function(Me,Te){return{key:Te,label:Se(Me.label),options:Me.children.map(function(we,Ue){return{value:we.name,key:"".concat(Te,"-").concat(Ue),label:Se(we.label)}})}})},[Se]),be=Z(),xe=(0,c.useRef)(G);if((0,c.useEffect)(function(){var Me,Te=new Map;le||(ie&&ie.length?Object.entries((ie==null?void 0:ie[0])||{}).forEach(function(Ue){var je,De=u()(Ue,2),ye=De[0],_e=De[1],q=ee[ye],pe=$(ye,_e),Re=(je=xe.current(pe))===null||je===void 0?void 0:je.default,Oe=(q==null?void 0:q.uiSchema)||(Re==null?void 0:Re.uiSchema)||{};Te.set(ye,{name:ye,interface:(q==null?void 0:q.interface)||pe,type:(q==null?void 0:q.type)||(Re==null?void 0:Re.type),source:q==null?void 0:q.source,uiSchema:m()({title:ye},Oe)})}):Object.entries(ee||{}).forEach(function(Ue){var je=u()(Ue,2),De=je[0],ye=je[1];return Te.set(De,m()(m()({name:De},ye),{},{uiSchema:m()({title:De},(ye==null?void 0:ye.uiSchema)||{})}))})),(Me=fe.value)!==null&&Me!==void 0&&Me.length&&fe.value.forEach(function(Ue){Te.has(Ue.name)&&Te.set(Ue.name,Ue)});var we=Array.from(Te.values());we.length&&(k(we),fe.setValue(we))},[le,ie,fe,ee,ue]),le)return(0,S.jsx)(i.Z,{});if(!ie&&!te)return(0,S.jsx)(a.Z,{showIcon:!0,message:W("Please use a valid SELECT or WITH AS statement")});var ge=te;if(ge){var he,Pe,Ae=(ge==null||(he=ge.response)===null||he===void 0||(he=he.data)===null||he===void 0||(he=he.errors)===null||he===void 0||(Pe=he.map)===null||Pe===void 0?void 0:Pe.call(he,function(Me){return Me.message}).join(`
`))||ge.message;return(0,S.jsx)(a.Z,{showIcon:!0,message:"".concat(W("SQL error: ")).concat(Ae),type:"error"})}var Be=function(Te,we){var Ue=d()(C);Ue.splice(we,1,Te),k(Ue),fe.setValue(Ue.map(function(je){var De,ye;return m()(m()({},je),{},{source:typeof je.source=="string"?je.source:((De=je.source)===null||De===void 0||(ye=De.filter)===null||ye===void 0||(ye=ye.call(De,Boolean))===null||ye===void 0?void 0:ye.join("."))||null})}))},Le=[{title:W("Field name"),dataIndex:"name",key:"name",width:130},{title:W("Field source"),dataIndex:"source",key:"source",width:200,render:function(Te,we,Ue){var je=C[Ue];return(0,S.jsx)(f.Z,{defaultValue:typeof Te=="string"?Te==null?void 0:Te.split("."):Te,allowClear:!0,options:Se(be),placeholder:W("Select field source"),onChange:function(ye){var _e,q,pe,Re=ee[ye==null?void 0:ye[1]];Re||(Re=re((ye==null?void 0:ye.join("."))||"")),Be(m()(m()({},je),{},{source:ye,interface:(_e=Re)===null||_e===void 0?void 0:_e.interface,type:(q=Re)===null||q===void 0?void 0:q.type,uiSchema:(pe=Re)===null||pe===void 0?void 0:pe.uiSchema}),Ue)}})}},{title:W("Field interface"),dataIndex:"interface",key:"interface",width:150,render:function(Te,we,Ue){var je,De=C[Ue];return De.source?(0,S.jsx)(l.Z,{children:Se((je=G(Te))===null||je===void 0?void 0:je.title)||Te}):(0,S.jsx)(n.default,{defaultValue:De.interface||"input",style:{width:"100%"},popupMatchSelectWidth:!1,onChange:function(_e){var q,pe,Re,Oe,$e=G(_e);Be(m()(m()({},De),{},{interface:_e||null,uiSchema:m()(m()({},$e==null||(q=$e.default)===null||q===void 0?void 0:q.uiSchema),{},{title:($e==null||(pe=$e.default)===null||pe===void 0||(pe=pe.uiSchema)===null||pe===void 0?void 0:pe.title)||((Re=De.uiSchema)===null||Re===void 0?void 0:Re.title)}),type:$e==null||(Oe=$e.default)===null||Oe===void 0?void 0:Oe.type}),Ue)},allowClear:!0,options:ce})}},{title:W("Field display name"),dataIndex:"title",key:"title",width:180,render:function(Te,we,Ue){var je,De,ye=C[Ue];return(0,S.jsx)(r.Z,{value:((je=ye.uiSchema)===null||je===void 0?void 0:je.title)||Te,defaultValue:((De=ye.uiSchema)===null||De===void 0?void 0:De.title)!==void 0?ye.uiSchema.title:ye==null?void 0:ye.name,onChange:function(q){return Be(m()(m()({},ye),{},{uiSchema:m()(m()({},ye==null?void 0:ye.uiSchema),{},{title:q.target.value})}),Ue)}})}}];return(0,S.jsx)(o.Z,{bordered:!0,size:"small",columns:Le,dataSource:C,scroll:{y:300},pagination:!1,rowClassName:"editable-row",rowKey:"name"})},{displayName:"FieldsConfigure"}),z=(0,g.observer)(function(){var F=(0,t.w3)(),W=F.data,X=F.loading,J=F.error,C=W||{},k=C.data,Y=(0,h.$)(),H=Y.t,te=(0,g.useForm)(),le=te.values.fields||[],ne=le.reduce(function(fe,de){var ue;return fe[de.name]=de==null||(ue=de.uiSchema)===null||ue===void 0?void 0:ue.title,fe},{}),ie=J?[]:Object.keys((k==null?void 0:k[0])||{}).map(function(fe){var de=ne[fe];return{title:g.Schema.compile(de||fe,{t:H}),dataIndex:fe,key:fe}}),ee=J?[]:k==null?void 0:k.map(function(fe,de){var ue=Object.entries(fe).reduce(function(Se,ae){var G=u()(ae,2),re=G[0],oe=G[1];if(typeof oe!="string")return Se[re]=oe,Se;var ce=g.Schema.compile(oe,{t:H});return Se[re]=H(ce),Se},{});return m()(m()({},ue),{},{key:de})});return(0,S.jsx)(o.Z,{bordered:!0,dataSource:ee,columns:ie,scroll:{x:ie.length*150,y:300},loading:X,rowKey:"key"})},{displayName:"PreviewTable"}),w=e(72029),A=e(36586),M=function(W){var X=(0,w.LY)(),J=(0,g.useForm)(),C=(0,A.a)(),k=W.manual;k=k===void 0?!0:k;var Y=(0,w.QT)(function(ne){return X.resource("sqlCollection").execute({values:{sql:ne}}).then(function(ie){var ee;return(ie==null||(ee=ie.data)===null||ee===void 0?void 0:ee.data)||{data:[],fields:[],sources:[]}})},{manual:!0,onSuccess:function(ie){var ee=ie.sources,fe=J.values.sources||[];J.setValuesIn("sources",Array.from(new Set([].concat(d()(fe),d()(ee)))))}}),H=Y.run,te=J.values.sql||C.sql,le=(0,c.useRef)(!0);return(0,c.useEffect)(function(){te&&le.current&&H(te),le.current=!1},[k,H,te]),(0,S.jsx)(t.pW,{value:Y,children:W.children})},b=e(68400),R=e.n(b),L=e(97133),N=e(15867),B=e(17535),V=e(53661),U,I=function(W){var X=W.disabled,J=(0,h.$)(),C=J.t,k=(0,t.w3)(),Y=k.run,H=k.loading,te=k.error,le=(0,g.useField)(),ne=function(){le.value&&Y(le.value)},ie=function(){!X&&!le.value||(X||Y(le.value),le.setComponentProps({disabled:!X}))};return(0,c.useEffect)(function(){te&&le.setComponentProps({disabled:!1})},[le,te]),(0,S.jsxs)("div",{className:(0,L.css)(U||(U=R()([`
        position: relative;
        .ant-input {
          width: 100%;
        }
      `]))),children:[(0,S.jsx)(D.IIB.TextArea,{value:le.value,disabled:X,onChange:function(fe){return le.value=fe.target.value}}),(0,S.jsxs)(N.ZP.Group,{children:[(0,S.jsx)(N.ZP,{onClick:ie,ghost:!0,size:"small",type:"primary",icon:(0,S.jsx)(B.Z,{}),children:C(X?"Edit":"Confirm")}),(0,S.jsx)(N.ZP,{onClick:function(){return ne()},loading:H,ghost:!0,size:"small",type:"primary",icon:(0,S.jsx)(V.Z,{}),children:C("Execute")})]})]})}},66704:function(se,j,e){"use strict";e.d(j,{p:function(){return O}});var v=e(68400),m=e.n(v),x=e(97133),u=e(97857),p=e.n(u),d=e(5574),h=e.n(d),t=e(19632),c=e.n(t),i=e(94350),a=e(66309),f=e(16455),l=e(67294),n=e(26793),r=e(6145),o=e(21143),g=e(85893),y=function(S,$){if(($==null?void 0:$.template)==="view"||($==null?void 0:$.template)==="sql")return $.fields;var Z=$.fields?c()($.fields).filter(function(K){return!["id","createdBy","updatedAt","createdAt","updatedBy","workflowCurrentStep","workflowStatus","deletedAt"].includes(K.name)}):[];return S.find(function(K){return K.name==="id"})&&Z.push({name:"id",type:"bigInt",autoIncrement:!0,primaryKey:!0,allowNull:!1,uiSchema:{type:"number",title:'{{t("ID")}}',"x-component":"InputNumber","x-read-pretty":!0},interface:"integer"}),S.find(function(K){return K.name==="createdAt"})&&Z.push({name:"createdAt",interface:"createdAt",type:"date",field:"createdAt",uiSchema:{type:"datetime",title:'{{t("Created at")}}',"x-component":"DatePicker","x-component-props":{},"x-read-pretty":!0}}),S.find(function(K){return K.name==="createdBy"})&&Z.push({name:"createdBy",interface:"createdBy",type:"belongsTo",target:"users",foreignKey:"createdById",uiSchema:{type:"object",title:'{{t("Created by")}}',"x-component":"AssociationField","x-component-props":{fieldNames:{value:"id",label:"nickname"}},"x-read-pretty":!0}}),S.find(function(K){return K.name==="updatedAt"})&&Z.push({type:"date",field:"updatedAt",name:"updatedAt",interface:"updatedAt",uiSchema:{type:"string",title:'{{t("Last updated at")}}',"x-component":"DatePicker","x-component-props":{},"x-read-pretty":!0}}),S.find(function(K){return K.name==="updatedBy"})&&Z.push({type:"belongsTo",target:"users",foreignKey:"updatedById",name:"updatedBy",interface:"updatedBy",uiSchema:{type:"object",title:'{{t("Last updated by")}}',"x-component":"AssociationField","x-component-props":{fieldNames:{value:"id",label:"nickname"}},"x-read-pretty":!0}}),S.find(function(K){return K.name==="workflowCurrentStep"})&&Z.push({name:"workflowCurrentStep",interface:"workflowCurrentStep",type:"string",field:"workflowCurrentStep",uiSchema:{type:"string",title:'{{t("Workflow Current Step")}}',"x-component":"WorkflowCurrentStepSelect","x-component-props":{collectionName:""},"x-read-pretty":!0}}),S.find(function(K){return K.name==="workflowStatus"})&&Z.push({name:"workflowStatus",interface:"workflowStatus",type:"string",field:"workflowStatus",uiSchema:{type:"string",title:'{{t("Workflow Status")}}',"x-component":"Input","x-component-props":{},"x-read-pretty":!0}}),S.find(function(K){return K.name==="deletedAt"})&&Z.push({type:"date",field:"deletedAt",name:"deletedAt",interface:"deletedAt",uiSchema:{type:"string",title:'{{t("Deleted at")}}',"x-component":"DatePicker","x-component-props":{},"x-read-pretty":!0}}),Z},D=(0,i.observer)(function(T){var S=(0,r.useCollectionManager_deprecated)(),$=S.getInterface,Z=(0,i.useForm)(),K=(0,o.useCompile)(),z=(0,l.useState)([]),w=h()(z,2),A=w[0],M=w[1],b=(0,n.$)(),R=b.t,L=[{title:R("Field"),dataIndex:"field",key:"field"},{title:R("Interface"),dataIndex:"interface",key:"interface",render:function(V){var U;return(0,g.jsx)(a.Z,{children:K((U=$(V))===null||U===void 0?void 0:U.title)})}},{title:R("Description"),dataIndex:"description",key:"description"}],N=[{field:R("ID"),interface:"integer",description:R("Primary key, unique identifier, self growth"),name:"id"},{field:R("Created at"),interface:"createdAt",description:R("Store the creation time of each record"),name:"createdAt"},{field:R("Last updated at"),interface:"updatedAt",description:R("Store the last update time of each record"),name:"updatedAt"},{field:R("Created by"),interface:"createdBy",description:R("Store the creation user of each record"),name:"createdBy"},{field:R("Last updated by"),interface:"updatedBy",description:R("Store the last update user of each record"),name:"updatedBy"},{field:R("Workflow Current Step"),interface:"workflowCurrentStep",description:R("Store the workflow current step"),name:"workflowCurrentStep"},{field:R("Workflow Status"),interface:"workflowStatus",description:R("Store the workflow status"),name:"workflowStatus"},{field:R("Deleted at"),interface:"deletedAt",description:R("Store the delete time of each record"),name:"deletedAt"}];return(0,l.useEffect)(function(){var B={autoGenId:!0,createdAt:!0,createdBy:!0,updatedAt:!0,updatedBy:!0,workflowCurrentStep:!0,workflowStatus:!0,deletedAt:!0},V=["id","createdAt","createdBy","updatedAt","updatedBy","deletedAt"];M(V),Z.setValues(p()(p()({},Z.values),B))},[]),(0,l.useEffect)(function(){var B=y(A.map(function(V){return{name:V}}),Z.values);Z.setValuesIn("fields",B)},[A]),(0,g.jsx)(f.Z,{size:"small",pagination:!1,rowKey:"name",bordered:!0,scroll:{x:600},dataSource:N,columns:L,rowSelection:{type:"checkbox",selectedRowKeys:A,getCheckboxProps:function(V){return{name:V.name,disabled:T==null?void 0:T.disabled}},onChange:function(V,U){var I,F=y(U,Z.values),W={autoGenId:!!F.find(function(X){return X.name==="id"}),createdAt:!!F.find(function(X){return X.name==="createdAt"}),createdBy:!!F.find(function(X){return X.name==="createdBy"}),updatedAt:!!F.find(function(X){return X.name==="updatedAt"}),updatedBy:!!F.find(function(X){return X.name==="updatedBy"}),deletedAt:!!F.find(function(X){return X.name==="deletedAt"})};M(F==null||(I=F.map)===null||I===void 0?void 0:I.call(F,function(X){return X.name})),Z.setValues(p()(p()({},Z.values),{},{fields:F},W))}}})},{displayName:"PresetFields"}),P,E={title:{type:"string",title:'{{ t("Collection display name") }}',required:!0,"x-decorator":"FormItem","x-component":"Input"},name:{type:"string",title:'{{t("Collection name")}}',required:!0,"x-disabled":"{{ !createOnly }}","x-decorator":"FormItem","x-component":"Input","x-validator":"uid",description:"{{t('Randomly generated and can be modified. Support letters, numbers and underscores, must start with an letter.')}}"},inherits:{title:'{{t("Inherits")}}',type:"hasMany",name:"inherits","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},"x-disabled":"{{ !createOnly }}","x-visible":"{{ enableInherits}}","x-reactions":['{{useAsyncDataSource(loadCollections, ["file"])}}']},description:{title:'{{t("Description")}}',type:"string",name:"description","x-decorator":"FormItem","x-component":"Input.TextArea"},presetFields:{title:'{{t("Preset fields")}}',type:"void","x-decorator":"FormItem","x-visible":"{{ createOnly }}","x-decorator-props":{className:(0,x.css)(P||(P=m()([`
        .ant-formily-item {
          margin-bottom: 0;
        }
      `])))},"x-component":D,"x-component-props":{disabled:"{{ presetFieldsDisabled }}"}}},O=function(){for(var S={},$=arguments.length,Z=new Array($),K=0;K<$;K++)Z[K]=arguments[K];for(var z=0,w=Z;z<w.length;z++){var A=w[z];E[A]&&(S[A]=E[A])}return S}},44605:function(){},53772:function(){},99899:function(se,j,e){"use strict";e.d(j,{U:function(){return v},l:function(){return m}});function v(x){var u;if(!x)return[];var p=x.split(":"),d=p.pop(),h=(u=p[0])!==null&&u!==void 0?u:"main";return h==="basic"&&(h="main"),[h,d]}function m(x,u){return!x||x==="main"?u:"".concat(x,":").concat(u)}},5346:function(se,j,e){"use strict";e.d(j,{T:function(){return d}});var v=e(5574),m=e.n(v),x=e(34041),u=e(67294),p=e(85893);function d(h){var t=h.title,c=h.defaultValue,i=h.onChange,a=h.options,f=h.fieldNames,l=h.disabled,n=(0,u.useState)(!1),r=m()(n,2),o=r[0],g=r[1],y=(0,u.useRef)(null);return(0,p.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},onClick:function(P){P.stopPropagation(),g(function(E){return!E})},onMouseLeave:function(){y.current=setTimeout(function(){g(!1)},200)},children:[t,(0,p.jsx)(x.default,{disabled:l,open:o,"data-testid":"select-".concat(t),popupMatchSelectWidth:!1,bordered:!1,defaultValue:c,onChange:i,popupClassName:"select-popup-".concat(t.replaceAll(" ","-")),fieldNames:f,options:a,style:{textAlign:"right",minWidth:100},onMouseEnter:function(){clearTimeout(y.current)}})]})}},7737:function(se,j,e){"use strict";e.d(j,{T:function(){return v.T},W:function(){return m.W}});var v=e(5346),m=e(56318)},86087:function(se,j,e){"use strict";e.d(j,{Z:function(){return r}});var v=e(68400),m=e.n(v),x=e(67294),u=e(5914),p=e(15867),d=e(70173),h=e(93162),t=e.n(h),c=e(26793),i=e(21143),a=e(97133),f=e(85893),l,n=function(g){return typeof g!="string"||g.startsWith("http")||g.startsWith("blob:")?g:"".concat(window.location.origin).concat(g)};function r(o){var g=o.open,y=o.file,D=o.setOpen,P=o.isAttachment,E=o.hideDownload,O=E===void 0?!1:E,T=o.zIndex,S=T===void 0?void 0:T,$=(0,c.$)(),Z=$.t,K=(0,i.useAPIClient)();(0,x.useEffect)(function(){return function(){!P&&URL.revokeObjectURL(y==null?void 0:y.url)}},[]);function z(M){if(M.preventDefault(),M.stopPropagation(),d.isInFlutter){P?(0,d.handleNativeMobileDownloadFile)(y):(0,d.definedUploadFileHandle)(K,y==null?void 0:y.blob,"".concat(y==null?void 0:y.name,".pdf"));return}P?(0,h.saveAs)(y.url,"".concat(y.title).concat(y.extname)):(0,h.saveAs)(y.url,"".concat(y==null?void 0:y.name,".pdf"))}function w(M){M.preventDefault(),M.stopPropagation(),D(!1)}var A=(0,x.useMemo)(function(){return(0,a.css)(l||(l=m()([`
      &.ant-modal-wrap {
        z-index: `,`;
      }
    `])),S)},[S]);return(0,f.jsx)(u.Z,{open:g,title:"PDF - ".concat((y==null?void 0:y.name)||(y==null?void 0:y.title)),wrapClassName:S?A:void 0,wrapProps:{onClick:function(b){b.stopPropagation()}},styles:S?{mask:{zIndex:S}}:void 0,onCancel:function(){return D(!1)},footer:[!O&&(0,f.jsx)(p.ZP,{style:{textTransform:"capitalize"},onClick:z,children:Z("Download")},"download"),(0,f.jsx)(p.ZP,{onClick:w,style:{textTransform:"capitalize"},children:Z("Close")},"close")],width:"85vw",centered:!0,children:(0,f.jsx)("div",{style:{padding:"8px",maxWidth:"100%",maxHeight:"calc(100vh - 256px)",height:"90vh",width:"100%",background:"white",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto"},children:(0,f.jsx)("iframe",{src:n(y==null?void 0:y.url),style:{width:"100%",maxHeight:"90vh",flex:"1 1 auto"}})})})}},56318:function(se,j,e){"use strict";e.d(j,{W:function(){return p}});var v=e(94350),m=e(67668),x=e(38752),u=e(81230);function p(){var d,h,t,c=(0,u.z)(),i=c.fieldSchema,a=c.collectionField,f=(0,v.useField)(),l=(0,x.G5)(),n=(0,v.useFieldSchema)(),r=(0,m.Hy)(),o=i||n,g=a||r,y={AssociationField:"Select"},D=(o==null||(d=o["x-component-props"])===null||d===void 0?void 0:d.mode)||(f==null||(h=f.componentProps)===null||h===void 0?void 0:h.mode)||(l?"FileManager":"")||(g==null||(t=g.uiSchema)===null||t===void 0?void 0:t["x-component"]);return y[D]||D}},52967:function(se,j,e){"use strict";e.d(j,{e:function(){return m}});var v=e(67294),m=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=(0,v.useRef)(0);return(0,v.useEffect)(function(){var d=function(t){var c=t.clientY,i=Math.max(c,window.innerHeight-c);p.current=i};return window.addEventListener("mousemove",d),function(){window.removeEventListener("mousemove",d)}},[]),(0,v.useMemo)(function(){return p.current-40},u)}},20085:function(se,j,e){"use strict";e.d(j,{O:function(){return d}});var v=e(10274),m=e(67294),x=e(70173),u=e(68230),p=function(t){var c=t.children,i=(0,u.d)(),a=i.token,f=a.colorFillTertiary,l=new v.C(a.colorFill).onBackground(a.colorFillSecondary).toHexShortString(),n=new v.C(a.colorFill).onBackground(a.colorFill).toHexShortString(),r=new v.C(a.colorFill).onBackground(a.colorFill).onBackground(a.colorFill).toHexShortString();return(0,m.useEffect)(function(){document.body.style.setProperty("--nb-spacing",x.isMobile?"".concat(a.margin,"px"):"".concat(a.marginLG,"px")),document.body.style.setProperty("--nb-designer-offset","".concat(a.marginXS,"px")),document.body.style.setProperty("--nb-header-height","".concat(a.sizeXXL+8,"px")),document.body.style.setProperty("--nb-box-bg",a.colorBgLayout),document.body.style.setProperty("--nb-box-bg",a.colorBgLayout),document.body.style.setProperty("--controlHeightLG","".concat(a.controlHeightLG,"px")),document.body.style.setProperty("--paddingContentVerticalSM","".concat(a.paddingContentVerticalSM,"px")),document.body.style.setProperty("--marginSM","".concat(a.marginSM,"px")),document.body.style.setProperty("--colorInfoBg",a.colorInfoBg),document.body.style.setProperty("--colorInfoBorder",a.colorInfoBorder),document.body.style.setProperty("--colorWarningBg",a.colorWarningBg),document.body.style.setProperty("--colorWarningBorder",a.colorWarningBorder),document.body.style.setProperty("--colorText",a.colorText),document.body.style.setProperty("--ant-color-primary",a.colorPrimary),document.body.style.setProperty("--colorPrimaryText",a.colorPrimaryText),document.body.style.setProperty("--colorPrimaryTextActive",a.colorPrimaryTextActive),document.body.style.setProperty("--colorPrimaryTextHover",a.colorPrimaryTextHover),document.body.style.setProperty("--colorBgScrollTrack",f),document.body.style.setProperty("--colorBgScrollBar",l),document.body.style.setProperty("--colorBgScrollBarHover",n),document.body.style.setProperty("--colorBgScrollBarActive",r),document.body.style.setProperty("--colorSettings",a.colorPrimary),document.body.style.setProperty("--colorBgSettingsHover",new v.C(a.colorPrimary).setAlpha(.1).toHex8String()),document.body.style.setProperty("--colorBorderSettingsHover",new v.C(a.colorPrimary).setAlpha(.3).toHex8String()),document.body.style.setProperty("--xwColorFormItemLabel",a.xwColorFormItemLabel),document.body.style.setProperty("--xwColorCardListFormItemLabel",a.xwColorCardListFormItemLabel),document.body.style.setProperty("background-color",a.colorBgContainer)},[l,r,n,f,a.colorBgContainer,a.colorBgLayout,a.colorBgSettingsHover,a.colorBorderSettingsHover,a.colorInfoBg,a.colorInfoBorder,a.colorPrimaryText,a.colorPrimaryTextActive,a.colorPrimaryTextHover,a.colorSettings,a.colorText,a.colorWarningBg,a.colorWarningBorder,a.controlHeightLG,a.marginLG,a.marginSM,a.marginXS,a.paddingContentVerticalSM,a.sizeXXL,a.colorPrimary,a.xwColorFormItemLabel,a.xwColorCardListFormItemLabel]),c};p.displayName="CSSVariableProvider";var d=p},31959:function(se,j,e){"use strict";e.d(j,{S:function(){return h}});var v=e(72004),m=e.n(v),x=e(12444),u=e.n(x),p=e(9783),d=e.n(p),h=m()(function t(c){u()(this,t),d()(this,"name",void 0),d()(this,"group",void 0),d()(this,"title",void 0),d()(this,"description",void 0),d()(this,"order",void 0),d()(this,"default",void 0),d()(this,"sortable",void 0),d()(this,"availableTypes",void 0),d()(this,"supportDataSourceType",void 0),d()(this,"notSupportDataSourceType",void 0),d()(this,"hasDefaultValue",void 0),d()(this,"isAssociation",void 0),d()(this,"operators",void 0),d()(this,"filterable",void 0),d()(this,"titleUsable",void 0),this.collectionFieldInterfaceManager=c})},65050:function(se,j,e){"use strict";e.d(j,{S:function(){return v.S},Z:function(){return t}});var v=e(31959),m=e(12444),x=e.n(m),u=e(72004),p=e.n(u),d=e(9783),h=e.n(d),t=function(){function c(i,a,f){x()(this,c),h()(this,"collectionFieldInterfaceInstances",{}),h()(this,"collectionFieldGroups",{}),this.dataSourceManager=f,this.addFieldInterfaces(i),this.addFieldInterfaceGroups(a)}return p()(c,[{key:"addFieldInterfaces",value:function(){var a=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=f.reduce(function(n,r){var o=new r(a);return n[o.name]=o,n},{});Object.assign(this.collectionFieldInterfaceInstances,l)}},{key:"getFieldInterface",value:function(a){return this.collectionFieldInterfaceInstances[a]}},{key:"getFieldInterfaces",value:function(a){return Object.values(this.collectionFieldInterfaceInstances).filter(function(f){if(!a||!f.supportDataSourceType&&!f.notSupportDataSourceType)return!0;if(f.supportDataSourceType){var l;return(l=f.supportDataSourceType)===null||l===void 0?void 0:l.includes(a)}if(f.notSupportDataSourceType){var n;return!((n=f.notSupportDataSourceType)!==null&&n!==void 0&&n.includes(a))}})}},{key:"addFieldInterfaceGroups",value:function(a){Object.assign(this.collectionFieldGroups,a)}},{key:"getFieldInterfaceGroups",value:function(){return this.collectionFieldGroups}},{key:"getFieldInterfaceGroup",value:function(a){return this.collectionFieldGroups[a]}}]),c}()},52020:function(se,j,e){"use strict";e.d(j,{q:function(){return D},s:function(){return P}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(94350),d=e(84327),h=e(96486),t=e.n(h),c=e(67294),i=e(7340),a=e(98427),f=e(29124),l=e(67668),n=e(74614),r=e(25519),o=e(48054),g=e(7686),y=e(85893),D=function(O){var T,S=O.component,$=(0,a.eJW)(),Z=(0,p.useField)(),K=(0,p.useFieldSchema)(),z=(0,l.Hy)(),w=(0,c.useState)(!1),A=u()(w,2),M=A[0],b=A[1],R=z.uiSchema,L=z.defaultValue,N=(0,f.SF)(),B=N.isAllowToSetDefaultValue,V=(0,g.P)()||{},U=V.isInSubTable,I=(0,c.useMemo)(function(){return $(R)},[JSON.stringify(R)]),F=(0,a.Cor)(((T=K["x-component-props"])===null||T===void 0?void 0:T.component)||(I==null?void 0:I["x-component"])||"Input"),W=(0,c.useCallback)(function(k,Y){Z[k]=typeof Z[k]=="undefined"?Y:Z[k]},[Z]),X=(0,c.useCallback)(function(){typeof K.required=="undefined"&&(Z.required=!!I.required)},[K,I]),J=(0,i.bz)(),C=(0,n.M0)(I==null?void 0:I["x-use-component-props"],O);return(0,c.useEffect)(function(){J!=null&&J.field&&(J.field.added=J.field.added||new Set,J.field.added.add(K.name))}),(0,c.useEffect)(function(){if(I){if(W("content",I["x-content"]),W("title",I.title),W("description",I.description),J!=null&&J.form){var k=B()?K.default||L:void 0;k!=null&&W("initialValue",k)}if(!Z.validator&&(I["x-validator"]||K["x-validator"])){var Y=(0,h.concat)([],I["x-validator"]||[],K["x-validator"]||[]);Z.validator=Y}K["x-disabled"]===!0&&(Z.disabled=!0),K["x-read-pretty"]===!0&&(Z.readPretty=!0),X(),Z.dataSource=I.enum;var H=$(I["x-component-props"])||{};Z.componentProps=(0,d.merge)(H,Z.componentProps||{},C||{}),b(!0)}},[I]),!I||!M?U?null:(0,y.jsx)(o.Z,{paragraph:{rows:1}}):(0,y.jsx)(F,m()(m()({},O),C))},P=(0,p.connect)(function(E){var O=(0,p.useFieldSchema)();return(0,y.jsx)(r.W,{children:(0,y.jsx)(l.YT,{name:O.name,children:(0,y.jsx)(D,m()({},E))})})});P.displayName="CollectionField"},67668:function(se,j,e){"use strict";e.d(j,{Hy:function(){return c},YT:function(){return h},m9:function(){return t},v_:function(){return d}});var v=e(67294),m=e(94350),x=e(1836),u=e(36032),p=e(85893),d=(0,v.createContext)(null);d.displayName="CollectionFieldContext";var h=function(a){var f=a.name,l=a.children,n=a.allowNull,r=(0,m.useFieldSchema)(),o=(0,x.Kx)(),g=(0,x.d9)(),y=(0,v.useMemo)(function(){var D;if(!o)return null;var P=r==null||(D=r["x-component-props"])===null||D===void 0?void 0:D.field;return g.getCollectionField(r==null?void 0:r["x-collection-field"])||P||o.getField((P==null?void 0:P.name)||f)},[o,r,f,g]);return!y&&n?(0,p.jsx)(p.Fragment,{children:l}):y?(0,p.jsx)(d.Provider,{value:y,children:l}):(0,p.jsx)(u.z,{type:"Field",name:f})},t=function(a){return(0,p.jsx)(d.Provider,{value:null,children:a.children})},c=function(){var a=(0,v.useContext)(d);return a}},58530:function(se,j,e){"use strict";e.d(j,{D:function(){return h}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(9783),d=e.n(p),h=function(){function t(c){m()(this,t),d()(this,"data",void 0),d()(this,"parentRecord",void 0),d()(this,"isNew",void 0);var i=c.data,a=c.parentRecord,f=c.isNew;this.isNew=f,this.data=i,this.parentRecord=a}return u()(t,[{key:"setData",value:function(i){this.data=i}},{key:"setParentRecord",value:function(i){this.parentRecord=i}}]),t}()},49834:function(se,j,e){"use strict";e.d(j,{E0:function(){return p},Kv:function(){return c},RA:function(){return t},nE:function(){return h},oV:function(){return d},vI:function(){return u}});var v=e(67294),m=e(58530),x=e(85893),u=(0,v.createContext)(null);u.displayName="CollectionRecordContext";var p=function(a){var f=a.isNew,l=a.record,n=a.parentRecord,r=a.children,o=(0,v.useMemo)(function(){if(n)return n instanceof m.D?n:new m.D({data:n});if(l instanceof m.D)return l.parentRecord},[n,l]),g=(0,v.useMemo)(function(){var y;return l?l instanceof m.D?(y=l,y.isNew=l.isNew||f):y=new m.D({data:l,isNew:f}):y=new m.D({isNew:f}),y.setParentRecord(o),y},[l,o,f]);return(0,x.jsx)(u.Provider,{value:g,children:r})};function d(){var i=(0,v.useContext)(u);return i}function h(){var i=d();return i==null?void 0:i.data}function t(){var i=d();return i==null?void 0:i.parentRecord}function c(){var i,a=d();return a==null||(i=a.parentRecord)===null||i===void 0?void 0:i.data}},88496:function(se,j,e){"use strict";e.d(j,{DI:function(){return v.D},E0:function(){return m.E0},Kv:function(){return m.Kv},RA:function(){return m.RA},nE:function(){return m.nE},oV:function(){return m.oV},vI:function(){return m.vI}});var v=e(58530),m=e(49834)},373:function(se,j,e){"use strict";e.d(j,{d:function(){return p},k:function(){return u}});var v=e(96486),m=e.n(v),x=Symbol("isNewRecord"),u=function(h){return!!(h!=null&&h[x])},p=function(h){if(!(0,v.isObject)(h))throw new Error("markRecordAsNew: record must be an object");return h[x]=!0,h}},34096:function(se,j,e){"use strict";e.d(j,{P:function(){return h}});var v=e(72004),m=e.n(v),x=e(12444),u=e.n(x),p=e(9783),d=e.n(p),h=m()(function t(c){u()(this,t),d()(this,"name",void 0),d()(this,"Collection",void 0),d()(this,"title",void 0),d()(this,"color",void 0),d()(this,"order",void 0),d()(this,"default",void 0),d()(this,"events",void 0),d()(this,"configurableProperties",void 0),d()(this,"availableFieldInterfaces",void 0),d()(this,"divider",void 0),d()(this,"description",void 0),d()(this,"configureActions",void 0),d()(this,"forbidDeletion",void 0),d()(this,"supportDataSourceType",void 0),d()(this,"notSupportDataSourceType",void 0),this.collectionTemplateManager=c})},67836:function(se,j,e){"use strict";e.d(j,{P:function(){return v.P},y:function(){return t}});var v=e(34096),m=e(12444),x=e.n(m),u=e(72004),p=e.n(u),d=e(9783),h=e.n(d),t=function(){function c(i,a){x()(this,c),h()(this,"collectionTemplateInstances",{}),this.dataSourceManager=a,this.addCollectionTemplates(i)}return p()(c,[{key:"addCollectionTemplates",value:function(){var a=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=f.reduce(function(n,r){var o=new r(a);return n[o.name]=o,n},{});return Object.assign(this.collectionTemplateInstances,l),this.dataSourceManager.getDataSources().forEach(function(n){var r=n.collectionManager.getCollections(function(o){return l[o.template]});n.collectionManager.reAddCollections(r)}),l}},{key:"getCollectionTemplate",value:function(a){return this.collectionTemplateInstances[a]}},{key:"getCollectionTemplates",value:function(a){return Object.values(this.collectionTemplateInstances).filter(function(f){if(!a||!f.supportDataSourceType&&!f.notSupportDataSourceType)return!0;if(f.supportDataSourceType){var l;return(l=f.supportDataSourceType)===null||l===void 0?void 0:l.includes(a)}if(f.notSupportDataSourceType){var n;return!((n=f.notSupportDataSourceType)!==null&&n!==void 0&&n.includes(a))}}).sort(function(f,l){return(f.order||0)-(l.order||0)})}}]),c}()},19271:function(se,j,e){"use strict";e.d(j,{Xo:function(){return a},lb:function(){return c},ym:function(){return i}});var v=e(67294),m=e(67668),x=e(36032),u=e(35746),p=e(58837),d=e(85893),h=(0,v.createContext)(null);h.displayName="ParentCollectionContext";var t=function(l){var n=(0,p.Kx)();return(0,d.jsx)(h.Provider,{value:n,children:l.children})},c=function(){return(0,v.useContext)(h)},i=function(l){var n=l.name,r=l.children,o=(0,u.d9)(),g=o.getCollectionName(n);return g?(0,d.jsx)(p.YQ,{name:String(n).split(".")[0],children:(0,d.jsx)(t,{children:(0,d.jsx)(m.YT,{name:n,children:(0,d.jsx)(p.YQ,{name:g,children:r})})})}):(0,d.jsx)(x.z,{type:"Collection",name:n})},a=function(){var l=(0,m.Hy)();return l?"".concat(l.collectionName,".").concat(l.name):null}},5282:function(se,j,e){"use strict";e.d(j,{F:function(){return a}});var v=e(61227),m=e.n(v),x=e(12444),u=e.n(x),p=e(72004),d=e.n(p),h=e(9783),t=e.n(h),c=e(96486),i=e.n(c),a=function(){function f(l,n){u()(this,f),t()(this,"fieldsMap",void 0),t()(this,"primaryKey",void 0),this.options=l,this.collectionManager=n}return d()(f,[{key:"fields",get:function(){return this.options.fields||[]}},{key:"app",get:function(){return this.collectionManager.app}},{key:"dataSource",get:function(){return this.options.dataSource}},{key:"sourceKey",get:function(){return this.options.sourceKey}},{key:"name",get:function(){return this.options.name}},{key:"key",get:function(){return this.options.key}},{key:"title",get:function(){return this.options.title}},{key:"inherit",get:function(){return this.options.inherit}},{key:"hidden",get:function(){return this.options.hidden}},{key:"description",get:function(){return this.options.description}},{key:"duplicator",get:function(){return this.options.duplicator}},{key:"category",get:function(){return this.options.category}},{key:"targetKey",get:function(){return this.options.targetKey}},{key:"model",get:function(){return this.options.model}},{key:"createdBy",get:function(){return this.options.createdBy}},{key:"updatedBy",get:function(){return this.options.updatedBy}},{key:"logging",get:function(){return this.options.logging}},{key:"from",get:function(){return this.options.from}},{key:"rawTitle",get:function(){return this.options.rawTitle}},{key:"getPrimaryKey",value:function(){if(this.primaryKey)return this.primaryKey;if(this.options.targetKey)return this.options.targetKey;var n=this.getFields({primaryKey:!0})[0];return this.primaryKey=n==null?void 0:n.name,this.primaryKey}},{key:"inherits",get:function(){return this.options.inherits||[]}},{key:"titleField",get:function(){return this.hasField(this.options.titleField)?this.options.titleField:this.getPrimaryKey()}},{key:"sources",get:function(){return this.options.sources||[]}},{key:"template",get:function(){return this.options.template}},{key:"tableName",get:function(){return this.options.tableName}},{key:"viewName",get:function(){return this.options.viewName}},{key:"writableView",get:function(){return this.options.writableView}},{key:"filterTargetKey",get:function(){return this.options.filterTargetKey}},{key:"sortable",get:function(){return this.options.sortable}},{key:"autoGenId",get:function(){return this.options.autoGenId}},{key:"magicAttribute",get:function(){return this.options.magicAttribute}},{key:"tree",get:function(){return this.options.tree}},{key:"isThrough",get:function(){return this.options.isThrough}},{key:"autoCreate",get:function(){return this.options.autoCreate}},{key:"resource",get:function(){return this.options.resource}},{key:"type",get:function(){return this.options.type}},{key:"setOption",value:function(n,r){return this.options[n]=r,this}},{key:"getOptions",value:function(){return this.options}},{key:"getOption",value:function(n){return this.options[n]}},{key:"getFields",value:function(n){return n?(0,c.filter)(this.fields,n):this.fields}},{key:"getAllFields",value:function(n){return this.getFields(n)}},{key:"getFieldsMap",value:function(){return this.fieldsMap||(this.fieldsMap=this.getFields().reduce(function(n,r){return n[r.name]=r,n},{})),this.fieldsMap}},{key:"getFieldByAssociationName",value:function(n){var r=this.getFieldsMap(),o=String(n).split("."),g=m()(o),y=g[0],D=g.slice(1),P=r[y];if(P){var E=P==null?void 0:P.target;if(E){var O=this.collectionManager.getCollection(E);if(O)return O.getField(D.join("."))}}}},{key:"getField",value:function(n){if(n){var r=this.getFieldsMap();if(String(n).split(".").length>1){var o=this.getFieldByAssociationName(n);return o||(typeof n=="string"&&n.startsWith("".concat(this.name,"."))?(n=n.replace("".concat(this.name,"."),""),this.getField(n)):void 0)}return r[n]}}},{key:"hasField",value:function(n){return!!this.getField(n)}},{key:"isTitleField",value:function(n){var r;return(r=this.app.dataSourceManager.collectionFieldInterfaceManager.getFieldInterface(n.interface))===null||r===void 0?void 0:r.titleUsable}},{key:"isInherited",value:function(){return this.inherits.length>0}}]),f}()},35746:function(se,j,e){"use strict";e.d(j,{IX:function(){return p},bX:function(){return c},d9:function(){return t},xw:function(){return h}});var v=e(67294),m=e(44990),x=e(58861),u=e(85893),p=(0,v.createContext)(null);p.displayName="CollectionManagerContext";var d=function(a){var f=a.instance,l=a.children,n=(0,m.wl)(),r=(0,x.P5)(),o=(0,v.useMemo)(function(){var g=f||(n==null?void 0:n.collectionManager);return r!=null&&r.length?g.clone(r):g},[f,r,n]);return(0,u.jsx)(p.Provider,{value:o,children:l})},h=function(a){var f=a.instance,l=a.dataSource,n=a.children;return(0,u.jsx)(m.LX,{dataSource:l,children:(0,u.jsx)(d,{instance:f,children:n})})};function t(){var i=(0,v.useContext)(p);return i}var c=function(a){var f=t(),l=(0,v.useMemo)(function(){return f.getCollections(a)},[f,a]);return l}},58837:function(se,j,e){"use strict";e.d(j,{Kx:function(){return a},Pd:function(){return i},WH:function(){return t},YQ:function(){return c},ge:function(){return f}});var v=e(97857),m=e.n(v),x=e(67294),u=e(67668),p=e(36032),d=e(35746),h=e(85893),t=(0,x.createContext)(null);t.displayName="CollectionContext";var c=function(n){var r=n.name,o=n.children,g=n.allowNull,y=(0,d.d9)(),D=(0,x.useMemo)(function(){return y==null?void 0:y.getCollection(r)},[y,r]);return!D&&g?(0,h.jsx)(h.Fragment,{children:n.children}):!D&&!g?(0,h.jsx)(p.z,{type:"Collection",name:r}):(0,h.jsx)(t.Provider,{value:D,children:o})},i=function(n){return(0,h.jsx)(u.v_.Provider,{value:null,children:(0,h.jsx)(c,m()({},n))})};function a(){var l=(0,x.useContext)(t);return l}var f=function(n){var r=a(),o=(0,x.useMemo)(function(){return r.getFields(n)},[r,n]);return o}},58861:function(se,j,e){"use strict";e.d(j,{P5:function(){return c},Xc:function(){return h},j5:function(){return t}});var v=e(19632),m=e.n(v),x=e(67294),u=e(44990),p=e(35746),d=e(85893),h=(0,x.createContext)(null);h.displayName="ExtendCollectionsContext";var t=function(a){var f=a.children,l=a.collections,n=c(),r=(0,x.useMemo)(function(){return n?[].concat(m()(n),m()(l)):l},[n,l]),o=(0,u.FC)();return(0,d.jsx)(h.Provider,{value:r,children:(0,d.jsx)(p.xw,{dataSource:o,children:f})})};function c(){var i=(0,x.useContext)(h);return i}},1836:function(se,j,e){"use strict";e.d(j,{ym:function(){return x.ym},FE:function(){return v.F},WH:function(){return m.WH},w4:function(){return T},IX:function(){return S.IX},xw:function(){return S.xw},YQ:function(){return m.YQ},Xc:function(){return $.Xc},j5:function(){return $.j5},Pd:function(){return m.Pd},Xo:function(){return x.Xo},Kx:function(){return m.Kx},ge:function(){return m.ge},d9:function(){return S.d9},bX:function(){return S.bX},P5:function(){return $.P5},lb:function(){return x.lb}});var v=e(5282),m=e(58837),x=e(19271),u=e(61227),p=e.n(u),d=e(52677),h=e.n(d),t=e(97857),c=e.n(t),i=e(12444),a=e.n(i),f=e(72004),l=e.n(f),n=e(9783),r=e.n(n),o=e(13769),g=e.n(o),y=["rawTitle","title","fields"],D=["uiSchema"],P=function(K,z){var w=K.rawTitle,A=K.title,M=K.fields,b=M===void 0?[]:M,R=g()(K,y);return c()(c()({},R),{},{title:w?A:z.i18n.t(A),rawTitle:w||A,fields:b==null?void 0:b.map(function(L){var N=L.uiSchema,B=g()(L,D);if(N!=null&&N.title){var V=N.title;N.title=N.rawTitle?V:z.i18n.t(V,{ns:"lm-collections"}),N.rawTitle=N.rawTitle||V}return Array.isArray(N==null?void 0:N.enum)&&(N.enum=N.enum.map(function(U){return c()(c()({},U),{},{value:(U==null?void 0:U.value)===void 0?U:U.value,label:U.rawLabel?U.label:z.i18n.t(U.label,{ns:"lm-collections"}),rawLabel:U.rawLabel||U.label})})),c()({uiSchema:N},B)})})};function E(Z,K,z,w){var A=new Z(z,w);return K.forEach(function(M){var b=new M(z,w);Object.getOwnPropertyNames(b).forEach(function(R){var L=Object.getOwnPropertyDescriptor(b,R);L?Object.defineProperty(A,R,L):A[R]=b[R]}),Object.getOwnPropertyNames(M.prototype).forEach(function(R){R!=="constructor"&&(A.__proto__[R]=M.prototype[R])})}),A}var O=e(70173),T=function(){function Z(K,z){a()(this,Z),r()(this,"collectionInstancesMap",{}),r()(this,"collectionInstancesArr",[]),this.dataSource=z,this.addCollections(K)}return l()(Z,[{key:"dataSourceManager",get:function(){return this.dataSource.dataSourceManager}},{key:"app",get:function(){return this.dataSourceManager.app}},{key:"getCollectionInstance",value:function(z){var w=this.dataSource.dataSourceManager.collectionTemplateManager.getCollectionTemplate(z.template),A=(w==null?void 0:w.Collection)||v.F,M=w==null?void 0:w.transform,b=M?M(P(z,this.app),this.app):P(z,this.dataSource.dataSourceManager.app),R=c()(c()({},b),{},{dataSource:this.dataSource.key}),L=E(A,this.dataSourceManager.collectionMixins,R,this);return L}},{key:"getInstancesMap",value:function(){var z=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=w.map(function(M){return z.getCollectionInstance(M)});return A.reduce(function(M,b){return M[b.name]=b,M},{})}},{key:"addCollections",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=this.getInstancesMap(z);this.collectionInstancesMap=c()(c()({},this.collectionInstancesMap),w),this.collectionInstancesArr=Object.values(this.collectionInstancesMap)}},{key:"setCollections",value:function(z){this.collectionInstancesMap=this.getInstancesMap(z),this.collectionInstancesArr=Object.values(this.collectionInstancesMap)}},{key:"reAddCollections",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.collectionInstancesArr,w=z.map(function(A){return A.getOptions()});this.addCollections(w)}},{key:"getCollection",value:function(z){if(z){if(h()(z)==="object")return this.getCollectionInstance(z);if(String(z).split(".").length>1){var w=this.getCollectionField(z);return w?this.getCollection(w.target):void 0}return this.collectionInstancesMap[z]}}},{key:"getCollections",value:function(z){return z?this.collectionInstancesArr.filter(z):this.collectionInstancesArr}},{key:"getCollectionName",value:function(z){var w=this.getCollection(z);return w==null?void 0:w.name}},{key:"getCollectionField",value:function(z){if(z){if(h()(z)==="object")return z;if(String(z).split(".").length<2){(0,O.captureException)('[@nocobase/client]: CollectionManager.getField() path "'.concat(z,'" is invalid'));return}var w=String(z).split("."),A=p()(w),M=A[0],b=A.slice(1),R=this.getCollection(M);if(R)return R.getField(b.join("."))}}},{key:"getCollectionFields",value:function(z,w){var A;return((A=this.getCollection(z))===null||A===void 0?void 0:A.getFields(w))||[]}},{key:"getCollectionAllFields",value:function(z,w){var A;return((A=this.getCollection(z))===null||A===void 0?void 0:A.getAllFields(w))||[]}},{key:"getFilterByTK",value:function(z,w){if(!z||!w){console.error("@nocobase/client]: CollectionManager.getFilterByTK() collectionOrAssociation or collectionRecordOrAssociationRecord is invalid");return}if(z instanceof v.F){var A=z.filterTargetKey||z.getPrimaryKey()||"id";return w[A]}if(z.includes(".")){var M=this.getCollectionField(z);if(!M){console.error('[@nocobase/client]: CollectionManager.getFilterByTK() field "'.concat(z,'" is invalid'));return}if(M.targetKey)return w[M.targetKey]}var b=this.getCollection(z);if(!b){console.error('[@nocobase/client]: CollectionManager.getFilterByTK() collection "'.concat(z,'" is invalid'));return}var R=(b==null?void 0:b.filterTargetKey)||(b==null?void 0:b.getPrimaryKey())||"id";return w[R]}},{key:"getSourceKeyByAssociation",value:function(z){if(z){var w=this.getCollectionField(z);if(w){if(w.sourceKey)return w.sourceKey;var A=this.getCollection(z.split(".")[0]);if(A)return A.filterTargetKey||A.getPrimaryKey()||"id"}}}},{key:"clone",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=new Z([],this.dataSource);return w.collectionInstancesArr=this.collectionInstancesArr,w.collectionInstancesMap=this.collectionInstancesMap,w.addCollections(z),w}}]),Z}(),S=e(35746),$=e(58861)},36032:function(se,j,e){"use strict";e.d(j,{z:function(){return g}});var v=e(97857),m=e.n(v),x=e(48997),u=e(3321),p=e(59720),d=e(15867),h=e(67294),t=e(26793),c=e(98427),i=e(44990),a=e(49453),f=e(57638),l=e(1836),n=e(17797),r=e(85893),o=x.Z.Text,g=function(D){var P=D.type,E=D.name,O=D.message,T=(0,c.ngQ)(),S=T.designable,$=T.dn,Z=u.Z.useApp(),K=Z.modal,z=(0,t.$)(),w=z.t,A=(0,i.wl)(),M=(0,c.eJW)(),b=(0,l.Kx)(),R=(0,a.fp)(),L=(0,h.useMemo)(function(){if(P==="Data Source")return E;var V=(R==null?void 0:R.getDataSources().length)>=1&&A&&A.key!==f.ym?"".concat(M(A.displayName||A.key)," > "):"";if(P==="Collection")return"".concat(V).concat(E);var U=b?"".concat(M(b.title)||b.name||b.tableName," > "):"";return"".concat(V).concat(U).concat(E)},[]),N=(0,h.useMemo)(function(){return P==="Field"?"Field":"Block"},[P]),B=(0,h.useMemo)(function(){return E?O?"".concat(w(P),' "').concat(L,'" ').concat(O):w('The {{type}} "{{name}}" may have been deleted. Please remove this {{blockType}}.',{type:w(P).toLocaleLowerCase(),name:L,blockType:w(N).toLocaleLowerCase()}).replaceAll("&gt;",">"):"".concat(w(P)," ","name is required")},[O,L,P,w,N]);return S?P==="Field"?(0,r.jsx)(c.BQs,{ellipsis:!0,children:(0,r.jsx)(o,{type:"secondary",children:B})}):(0,r.jsx)(n.P,{children:(0,r.jsx)(p.ZP,{status:"404",subTitle:B,extra:(0,r.jsx)(d.ZP,{onClick:function(){return K.confirm(m()(m()({title:w("Delete block"),content:w("Are you sure you want to delete it?")},confirm),{},{onOk:function(){$.remove(null,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})}}))},children:w("Delete")},"Delete")})}):null}},88996:function(se,j,e){"use strict";e.d(j,{i:function(){return i}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(67294),d=e(13511),h=e(35746),t=e(85893),c=["children","dataSourceManager"],i=function(f){var l=f.children,n=f.dataSourceManager,r=u()(f,c);return(0,t.jsx)(d.kv,{dataSourceManager:n,children:(0,t.jsx)(h.xw,m()(m()({},r),{},{children:l}))})}},87180:function(se,j,e){"use strict";e.d(j,{KY:function(){return o},dq:function(){return r},eS:function(){return g},hZ:function(){return n},zh:function(){return y}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(67294),d=e(75667),h=e(61178),t=e(98427),c=e(1836),i=e(39742),a=e(14310),f=e(85893),l=["collection","association","dataSource","children"],n=(0,p.createContext)({});n.displayName="DataBlockContext";var r=function(P){var E=P.collection,O=P.association,T=P.allowNull,S=T===void 0?!1:T,$=(0,p.useMemo)(function(){return O?{Component:c.ym,name:O}:{Component:c.Pd,name:E}},[E,O]);return(0,f.jsx)($.Component,{name:$.name,allowNull:S,children:P.children})},o=(0,h.t)(function(D){var P=D,E=P.collection,O=P.association,T=P.dataSource,S=P.children,$=u()(P,l),Z=(0,t.ngQ)(),K=Z.dn;return(0,f.jsx)(n.Provider,{value:{dn:K,props:m()(m()({},$),{},{collection:E,association:O,dataSource:T})},children:(0,f.jsx)(c.xw,{dataSource:T,children:(0,f.jsx)(r,{collection:E,association:O,children:(0,f.jsx)(d.Hh,{children:(0,f.jsx)(a.eh,{children:(0,f.jsx)(i.N4,{children:S})})})})})})},{displayName:"DataBlockProvider"}),g=function(){var P=(0,p.useContext)(n);if(!P)throw new Error("useDataBlock() must be used within a DataBlockProvider");return P},y=function(){var P=g();return P.props}},39742:function(se,j,e){"use strict";e.d(j,{H0:function(){return P},N4:function(){return T},do:function(){return y},hS:function(){return S}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(97857),d=e.n(p),h=e(67294),t=e(96486),c=e.n(t),i=e(72029),a=e(4277),f=e(19530),l=e(88496),n=e(8341),r=e(87180),o=e(14310),g=e(85893),y=(0,h.createContext)(null);y.displayName="BlockRequestContext";function D($){var Z=(0,a.tU)(),K=(0,o.wb)(),z=$.action,w=$.params,A=w===void 0?{}:w,M=$.record,b=$.requestService,R=$.requestOptions,L=(0,h.useMemo)(function(){return b||function(B){if(M)return Promise.resolve({data:M});if(!z)throw new Error("[nocobase]: The 'action' parameter is missing in the 'DataBlockRequestProvider' component");var V=A.filterByTk===void 0?c().omit(A,"filterByTk"):A;return K[z](d()(d()({},V),B)).then(function(U){return U.data})}},[K,z,JSON.stringify(A),JSON.stringify(M),b]),N=(0,i.QT)(L,d()(d()({},R),{},{manual:Z==="manual",ready:!!z,refreshDeps:[z,JSON.stringify(A),JSON.stringify(M),K]}));return N}function P($){return E.apply(this,arguments)}function E(){return E=u()(m()().mark(function $(Z){var K,z,w,A,M,b,R,L,N;return m()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(K=Z.sourceId,z=Z.association,w=Z.parentRecord,A=Z.api,M=Z.headers,b=Z.sourceKey,!w){V.next=3;break}return V.abrupt("return",Promise.resolve({data:w}));case 3:if(!(!z||!b||!K)){V.next=5;break}return V.abrupt("return",Promise.resolve({data:void 0}));case 5:return R=z.split("."),L="".concat(R[0],":get?filter[").concat(b,"]=").concat(K),V.next=9,A.request({url:L,headers:M});case 9:return N=V.sent,V.abrupt("return",N.data);case 11:case"end":return V.stop()}},$)})),E.apply(this,arguments)}function O($){var Z=$.sourceId,K=$.association,z=$.parentRecord,w=(0,i.LY)(),A=(0,r.zh)(),M=(0,n.FE)(A.dataSource),b=(0,f.U)(K);return(0,i.QT)(function(){return P({sourceId:Z,association:K,parentRecord:z,api:w,headers:M,sourceKey:b})},{refreshDeps:[K,z,Z]})}var T=function(Z){var K,z,w=Z.children,A=(0,r.zh)(),M=A.action,b=A.filterByTk,R=A.sourceId,L=A.params,N=L===void 0?{}:L,B=A.association,V=A.collection,U=A.record,I=A.parentRecord,F=A.requestOptions,W=A.requestService,X=D({action:M,sourceId:R,record:U,association:B,collection:V,requestOptions:F,requestService:W,params:d()(d()({},N),{},{filterByTk:b||N.filterByTk})}),J=O({sourceId:R,association:B,parentRecord:I}),C=(0,h.useMemo)(function(){var k,Y,H,te;return((k=J.data)===null||k===void 0?void 0:k.data)&&new l.DI({isNew:!1,data:((Y=J.data)===null||Y===void 0?void 0:Y.data)instanceof l.DI?(H=J.data)===null||H===void 0?void 0:H.data.data:(te=J.data)===null||te===void 0?void 0:te.data})},[(K=J.data)===null||K===void 0?void 0:K.data]);return(0,g.jsx)(y.Provider,{value:X,children:M!=="list"?(0,g.jsx)(l.E0,{isNew:M==null,record:((z=X.data)===null||z===void 0?void 0:z.data)||U,parentRecord:C||I,children:w}):(0,g.jsx)(l.E0,{isNew:!1,record:null,parentRecord:C||I,children:w})})},S=function(){var Z=(0,h.useContext)(y);return Z}},14310:function(se,j,e){"use strict";e.d(j,{T1:function(){return t},eh:function(){return c},wb:function(){return i}});var v=e(67294),m=e(72029),x=e(1836),u=e(88496),p=e(8341),d=e(87180),h=e(85893),t=(0,v.createContext)(null);t.displayName="DataBlockResourceContext";var c=function(f){var l=f.children,n=(0,d.zh)(),r=(0,x.d9)(),o=n.association,g=n.collection,y=n.dataSource,D=n.sourceId,P=n.parentRecord,E=(0,m.LY)(),O=(0,p.FE)(y),T=(0,v.useMemo)(function(){return typeof g=="string"?g:g==null?void 0:g.name},[g]),S=(0,v.useMemo)(function(){if(D)return D;if(o&&P){var Z=r.getSourceKeyByAssociation(o),K=P instanceof u.DI?P.data:P;return K[Z]}},[o,D,P]),$=(0,v.useMemo)(function(){return o?E.resource(o,S,O):E.resource(T,void 0,O)},[E,o,g,S,O]);return(0,h.jsx)(t.Provider,{value:$,children:l})};function i(){var a=(0,v.useContext)(t);if(!a)throw new Error("useDataBlockResource() must be used within a DataBlockResourceProvider");return a}},35519:function(se,j,e){"use strict";e.d(j,{n:function(){return g},o:function(){return o}});var v=e(31996),m=e.n(v),x=e(26037),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(12444),i=e.n(c),a=e(72004),f=e.n(a),l=e(9783),n=e.n(l),r=e(1836),o=function(){function y(D,P){i()(this,y),n()(this,"collectionManager",void 0),n()(this,"reloadCallbacks",[]),this.options=D,this.dataSourceManager=P,this.collectionManager=new r.w4(D.collections,this)}return f()(y,[{key:"app",get:function(){return this.dataSourceManager.app}},{key:"key",get:function(){return this.options.key}},{key:"displayName",get:function(){return this.options.displayName}},{key:"status",get:function(){return this.options.status}},{key:"errorMessage",get:function(){return this.options.errorMessage}},{key:"collections",get:function(){return this.collectionManager.getCollections()||[]}},{key:"getOptions",value:function(){return this.options}},{key:"setOptions",value:function(P){Object.assign(this.options,P)}},{key:"getOption",value:function(P){return this.options[P]}},{key:"addReloadCallback",value:function(P){this.reloadCallbacks.includes(P)||this.reloadCallbacks.push(P)}},{key:"removeReloadCallback",value:function(P){this.reloadCallbacks=this.reloadCallbacks.filter(function(E){return E!==P})}},{key:"reload",value:function(){var D=t()(d()().mark(function E(){var O;return d()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,this.getDataSource();case 2:return O=S.sent,this.setOptions(O),this.collectionManager.setCollections(O.collections||[]),this.reloadCallbacks.forEach(function($){return $(O.collections)}),S.abrupt("return",this.options);case 7:case"end":return S.stop()}},E,this)}));function P(){return D.apply(this,arguments)}return P}()}]),y}(),g=function(y){m()(P,y);var D=u()(P);function P(){return i()(this,P),D.apply(this,arguments)}return f()(P,[{key:"getDataSource",value:function(){return{collections:this.collections}}}]),P}(o)},57638:function(se,j,e){"use strict";e.d(j,{AK:function(){return S},UC:function(){return T},ym:function(){return O}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(5574),d=e.n(p),h=e(99289),t=e.n(h),c=e(19632),i=e.n(c),a=e(12444),f=e.n(a),l=e(72004),n=e.n(l),r=e(9783),o=e.n(r),g=e(35519),y=e(67836),D=e(65050),P=e(96486),E=e.n(P),O="main",T='{{t("Main")}}',S=function(){function $(){var Z,K=this,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1?arguments[1]:void 0;f()(this,$),o()(this,"dataSourceInstancesMap",{}),o()(this,"multiDataSources",[]),o()(this,"collectionMixins",[]),o()(this,"collectionTemplateManager",void 0),o()(this,"collectionFieldInterfaceManager",void 0),this.options=z,this.app=w,this.collectionTemplateManager=new y.y(z.collectionTemplates,this),this.collectionFieldInterfaceManager=new D.Z(z.fieldInterfaces,z.fieldInterfaceGroups,this),(Z=this.collectionMixins).push.apply(Z,i()(z.collectionMixins||[])),this.addDataSource(g.n,{key:O,displayName:T,collections:z.collections||[]}),(z.dataSources||[]).forEach(function(A){K.addDataSource(g.n,A)})}return n()($,[{key:"addCollectionMixins",value:function(){var K=this,z,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=w.filter(function(M){return!K.collectionMixins.includes(M)});A.length&&((z=this.collectionMixins).push.apply(z,i()(A)),this.getDataSources().forEach(function(M){return M.collectionManager.reAddCollections()}))}},{key:"getDataSources",value:function(K){var z=Object.values(this.dataSourceInstancesMap);return K?E().filter(z,K):z}},{key:"getDataSource",value:function(K){return K?this.dataSourceInstancesMap[K]:this.dataSourceInstancesMap[O]}},{key:"removeDataSources",value:function(K){var z=this;K.forEach(function(w){delete z.dataSourceInstancesMap[w]})}},{key:"addDataSource",value:function(K,z){var w=new K(z,this);return this.dataSourceInstancesMap[w.key]=w,w}},{key:"addDataSources",value:function(){var Z=t()(u()().mark(function z(w,A){return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.multiDataSources.some(function(R){var L=d()(R,2),N=L[0],B=L[1];return N===w&&B===A})){b.next=2;break}return b.abrupt("return");case 2:this.multiDataSources.push([w,A]);case 3:case"end":return b.stop()}},z,this)}));function K(z,w){return Z.apply(this,arguments)}return K}()},{key:"getAllCollections",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=K.filterCollection,w=K.filterDataSource;return this.getDataSources(w).reduce(function(A,M){return A.push(m()(m()({},M.getOptions()),{},{collections:M.collectionManager.getCollections(z)})),A},[])}},{key:"addFieldInterfaceGroups",value:function(K){this.collectionFieldInterfaceManager.addFieldInterfaceGroups(K)}},{key:"addCollectionTemplates",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.collectionTemplateManager.addCollectionTemplates(K)}},{key:"addFieldInterfaces",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.collectionFieldInterfaceManager.addFieldInterfaces(K)}},{key:"reload",value:function(){var Z=t()(u()().mark(function z(){return u()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Promise.all(this.getDataSources().map(function(M){return M.reload()})));case 1:case"end":return A.stop()}},z,this)}));function K(){return Z.apply(this,arguments)}return K}()}]),$}()},13511:function(se,j,e){"use strict";e.d(j,{fp:function(){return p},kv:function(){return u},up:function(){return x}});var v=e(67294),m=e(85893),x=(0,v.createContext)(null);x.displayName="DataSourceManagerContext";var u=function(h){var t=h.children,c=h.dataSourceManager;return(0,m.jsx)(x.Provider,{value:c,children:t})};function p(){var d=(0,v.useContext)(x);return d}},44990:function(se,j,e){"use strict";e.d(j,{FC:function(){return r},LX:function(){return l},NT:function(){return f},wl:function(){return n}});var v=e(5574),m=e.n(v),x=e(67294),u=e(13511),p=e(36032),d=e(98427),h=e(59720),t=e(15867),c=e(54494),i=e(26793),a=e(85893),f=(0,x.createContext)(null);f.displayName="DataSourceContext";var l=function(g){var y=g.children,D=g.dataSource,P=(0,u.fp)(),E=(0,i.$)(),O=E.t,T=(0,d.Dmu)(),S=T.refresh,$=x.useState(0),Z=m()($,2),K=Z[0],z=Z[1],w=P==null?void 0:P.getDataSource(D);return w?w.status==="loading-failed"?(0,a.jsx)(p.z,{type:"Data Source",name:w.displayName||D,message:w.errorMessage||"loading failed"}):w.status==="loading"||w.status==="reloading"?(0,a.jsx)(d.Ssf,{children:(0,a.jsx)(h.ZP,{icon:(0,a.jsx)(c.Z,{}),title:"".concat(w.displayName||D," ").concat(O("data source")," ").concat(O("loading"),"..."),extra:(0,a.jsx)(t.ZP,{type:"primary",onClick:function(){return w.reload().then(function(){S(),z(Math.random())})},children:O("Refresh")})})}):(0,a.jsx)(f.Provider,{value:w,children:y}):(0,a.jsx)(p.z,{type:"Data Source",name:D})};function n(){var o=(0,x.useContext)(f);return o}function r(){var o=(0,x.useContext)(f);return o==null?void 0:o.key}},49453:function(se,j,e){"use strict";e.d(j,{AK:function(){return m.AK},FC:function(){return x.FC},LX:function(){return x.LX},NT:function(){return x.NT},UC:function(){return m.UC},fp:function(){return u.fp},kv:function(){return u.kv},nC:function(){return v.n},o2:function(){return v.o},up:function(){return u.up},wl:function(){return x.wl},ym:function(){return m.ym}});var v=e(35519),m=e(57638),x=e(44990),u=e(13511)},72594:function(se,j,e){"use strict";e.d(j,{dq:function(){return i.dq},ym:function(){return v.ym},do:function(){return c.do},N4:function(){return c.N4},m9:function(){return x.m9},FE:function(){return v.FE},WH:function(){return v.WH},zW:function(){return d.z},sb:function(){return m.s},v_:function(){return x.v_},SY:function(){return u.S},Z:function(){return u.Z},qL:function(){return m.q},YT:function(){return x.YT},w4:function(){return v.w4},IX:function(){return v.IX},xw:function(){return v.xw},YQ:function(){return v.YQ},DI:function(){return f.DI},vI:function(){return f.vI},E0:function(){return f.E0},Pl:function(){return p.P},yM:function(){return p.y},Ip:function(){return a.ym},UC:function(){return a.UC},hZ:function(){return i.hZ},KY:function(){return i.KY},T1:function(){return t.T1},eh:function(){return t.eh},o2:function(){return a.o2},i:function(){return h.i},NT:function(){return a.NT},AK:function(){return a.AK},up:function(){return a.up},kv:function(){return a.kv},LX:function(){return a.LX},Xc:function(){return v.Xc},j5:function(){return v.j5},nC:function(){return a.nC},Pd:function(){return v.Pd},GX:function(){return l.GX},Yj:function(){return l.Yj},H0:function(){return c.H0},Xo:function(){return v.Xo},Kx:function(){return v.Kx},Hy:function(){return x.Hy},ge:function(){return v.ge},d9:function(){return v.d9},RA:function(){return f.RA},Kv:function(){return f.Kv},oV:function(){return f.oV},nE:function(){return f.nE},bX:function(){return v.bX},eS:function(){return i.eS},zh:function(){return i.zh},hS:function(){return c.hS},wb:function(){return t.wb},wl:function(){return a.wl},on:function(){return l.FE},FC:function(){return a.FC},fp:function(){return a.fp},P5:function(){return v.P5},lb:function(){return v.lb}});var v=e(1836),m=e(52020),x=e(67668),u=e(65050),p=e(67836),d=e(36032),h=e(88996),t=e(14310),c=e(39742),i=e(87180),a=e(49453),f=e(88496),l=e(8341)},8341:function(se,j,e){"use strict";e.d(j,{FE:function(){return h},GX:function(){return t},Yj:function(){return d}});var v=e(9783),m=e.n(v),x=e(67294),u=e(57638),p="x-data-source",d=function(i,a){var f;return(f=i.collectionFieldInterfaceManager.getFieldInterface(a.interface))===null||f===void 0?void 0:f.titleUsable},h=function(i){var a=(0,x.useMemo)(function(){if(i&&i!==u.ym)return m()({},p,i)},[i]);return a},t=function(i){return i&&i!==u.ym?m()({},p,i):{}}},14230:function(se,j,e){"use strict";e.d(j,{PE:function(){return Re},C$:function(){return Oe},uN:function(){return qe},yq:function(){return $e},AL:function(){return Ze},jr:function(){return Ve}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(5574),n=e.n(l),r=e(67294),o=e(45697),g=e.n(o),y=e(83524),D=e.n(y),P=e(69590),E=e.n(P),O=e(27418),T=e.n(O),S={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},$={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Z=Object.keys($).map(function(Qe){return $[Qe]}),K={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},z={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},w={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},A=Object.keys(z).reduce(function(Qe,ke){return Qe[z[ke]]=ke,Qe},{}),M=[$.NOSCRIPT,$.SCRIPT,$.STYLE],b="data-react-helmet",R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qe){return typeof Qe}:function(Qe){return Qe&&typeof Symbol=="function"&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe},L=function(Qe,ke){if(!(Qe instanceof ke))throw new TypeError("Cannot call a class as a function")},N=function(){function Qe(ke,ft){for(var vt=0;vt<ft.length;vt++){var _t=ft[vt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(ke,_t.key,_t)}}return function(ke,ft,vt){return ft&&Qe(ke.prototype,ft),vt&&Qe(ke,vt),ke}}(),B=Object.assign||function(Qe){for(var ke=1;ke<arguments.length;ke++){var ft=arguments[ke];for(var vt in ft)Object.prototype.hasOwnProperty.call(ft,vt)&&(Qe[vt]=ft[vt])}return Qe},V=function(Qe,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ke);Qe.prototype=Object.create(ke&&ke.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),ke&&(Object.setPrototypeOf?Object.setPrototypeOf(Qe,ke):Qe.__proto__=ke)},U=function(Qe,ke){var ft={};for(var vt in Qe)ke.indexOf(vt)>=0||Object.prototype.hasOwnProperty.call(Qe,vt)&&(ft[vt]=Qe[vt]);return ft},I=function(Qe,ke){if(!Qe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ke&&(typeof ke=="object"||typeof ke=="function")?ke:Qe},F=function(ke){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ft===!1?String(ke):String(ke).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},W=function(ke){var ft=Y(ke,$.TITLE),vt=Y(ke,w.TITLE_TEMPLATE);if(vt&&ft)return vt.replace(/%s/g,function(){return Array.isArray(ft)?ft.join(""):ft});var _t=Y(ke,w.DEFAULT_TITLE);return ft||_t||void 0},X=function(ke){return Y(ke,w.ON_CHANGE_CLIENT_STATE)||function(){}},J=function(ke,ft){return ft.filter(function(vt){return typeof vt[ke]!="undefined"}).map(function(vt){return vt[ke]}).reduce(function(vt,_t){return B({},vt,_t)},{})},C=function(ke,ft){return ft.filter(function(vt){return typeof vt[$.BASE]!="undefined"}).map(function(vt){return vt[$.BASE]}).reverse().reduce(function(vt,_t){if(!vt.length)for(var Nt=Object.keys(_t),Kt=0;Kt<Nt.length;Kt++){var ut=Nt[Kt],Rt=ut.toLowerCase();if(ke.indexOf(Rt)!==-1&&_t[Rt])return vt.concat(_t)}return vt},[])},k=function(ke,ft,vt){var _t={};return vt.filter(function(Nt){return Array.isArray(Nt[ke])?!0:(typeof Nt[ke]!="undefined"&&ee("Helmet: "+ke+' should be of type "Array". Instead found type "'+R(Nt[ke])+'"'),!1)}).map(function(Nt){return Nt[ke]}).reverse().reduce(function(Nt,Kt){var ut={};Kt.filter(function(He){for(var ct=void 0,St=Object.keys(He),Tt=0;Tt<St.length;Tt++){var Mt=St[Tt],Zt=Mt.toLowerCase();ft.indexOf(Zt)!==-1&&!(ct===K.REL&&He[ct].toLowerCase()==="canonical")&&!(Zt===K.REL&&He[Zt].toLowerCase()==="stylesheet")&&(ct=Zt),ft.indexOf(Mt)!==-1&&(Mt===K.INNER_HTML||Mt===K.CSS_TEXT||Mt===K.ITEM_PROP)&&(ct=Mt)}if(!ct||!He[ct])return!1;var Je=He[ct].toLowerCase();return _t[ct]||(_t[ct]={}),ut[ct]||(ut[ct]={}),_t[ct][Je]?!1:(ut[ct][Je]=!0,!0)}).reverse().forEach(function(He){return Nt.push(He)});for(var Rt=Object.keys(ut),Dt=0;Dt<Rt.length;Dt++){var dt=Rt[Dt],Bt=T()({},_t[dt],ut[dt]);_t[dt]=Bt}return Nt},[]).reverse()},Y=function(ke,ft){for(var vt=ke.length-1;vt>=0;vt--){var _t=ke[vt];if(_t.hasOwnProperty(ft))return _t[ft]}return null},H=function(ke){return{baseTag:C([K.HREF,K.TARGET],ke),bodyAttributes:J(S.BODY,ke),defer:Y(ke,w.DEFER),encode:Y(ke,w.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:J(S.HTML,ke),linkTags:k($.LINK,[K.REL,K.HREF],ke),metaTags:k($.META,[K.NAME,K.CHARSET,K.HTTPEQUIV,K.PROPERTY,K.ITEM_PROP],ke),noscriptTags:k($.NOSCRIPT,[K.INNER_HTML],ke),onChangeClientState:X(ke),scriptTags:k($.SCRIPT,[K.SRC,K.INNER_HTML],ke),styleTags:k($.STYLE,[K.CSS_TEXT],ke),title:W(ke),titleAttributes:J(S.TITLE,ke)}},te=function(){var Qe=Date.now();return function(ke){var ft=Date.now();ft-Qe>16?(Qe=ft,ke(ft)):setTimeout(function(){te(ke)},0)}}(),le=function(ke){return clearTimeout(ke)},ne=typeof window!="undefined"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||te:e.g.requestAnimationFrame||te,ie=typeof window!="undefined"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||le:e.g.cancelAnimationFrame||le,ee=function(ke){return console&&typeof console.warn=="function"&&console.warn(ke)},fe=null,de=function(ke){fe&&ie(fe),ke.defer?fe=ne(function(){ue(ke,function(){fe=null})}):(ue(ke),fe=null)},ue=function(ke,ft){var vt=ke.baseTag,_t=ke.bodyAttributes,Nt=ke.htmlAttributes,Kt=ke.linkTags,ut=ke.metaTags,Rt=ke.noscriptTags,Dt=ke.onChangeClientState,dt=ke.scriptTags,Bt=ke.styleTags,He=ke.title,ct=ke.titleAttributes;G($.BODY,_t),G($.HTML,Nt),ae(He,ct);var St={baseTag:re($.BASE,vt),linkTags:re($.LINK,Kt),metaTags:re($.META,ut),noscriptTags:re($.NOSCRIPT,Rt),scriptTags:re($.SCRIPT,dt),styleTags:re($.STYLE,Bt)},Tt={},Mt={};Object.keys(St).forEach(function(Zt){var Je=St[Zt],et=Je.newTags,rt=Je.oldTags;et.length&&(Tt[Zt]=et),rt.length&&(Mt[Zt]=St[Zt].oldTags)}),ft&&ft(),Dt(ke,Tt,Mt)},Se=function(ke){return Array.isArray(ke)?ke.join(""):ke},ae=function(ke,ft){typeof ke!="undefined"&&document.title!==ke&&(document.title=Se(ke)),G($.TITLE,ft)},G=function(ke,ft){var vt=document.getElementsByTagName(ke)[0];if(vt){for(var _t=vt.getAttribute(b),Nt=_t?_t.split(","):[],Kt=[].concat(Nt),ut=Object.keys(ft),Rt=0;Rt<ut.length;Rt++){var Dt=ut[Rt],dt=ft[Dt]||"";vt.getAttribute(Dt)!==dt&&vt.setAttribute(Dt,dt),Nt.indexOf(Dt)===-1&&Nt.push(Dt);var Bt=Kt.indexOf(Dt);Bt!==-1&&Kt.splice(Bt,1)}for(var He=Kt.length-1;He>=0;He--)vt.removeAttribute(Kt[He]);Nt.length===Kt.length?vt.removeAttribute(b):vt.getAttribute(b)!==ut.join(",")&&vt.setAttribute(b,ut.join(","))}},re=function(ke,ft){var vt=document.head||document.querySelector($.HEAD),_t=vt.querySelectorAll(ke+"["+b+"]"),Nt=Array.prototype.slice.call(_t),Kt=[],ut=void 0;return ft&&ft.length&&ft.forEach(function(Rt){var Dt=document.createElement(ke);for(var dt in Rt)if(Rt.hasOwnProperty(dt))if(dt===K.INNER_HTML)Dt.innerHTML=Rt.innerHTML;else if(dt===K.CSS_TEXT)Dt.styleSheet?Dt.styleSheet.cssText=Rt.cssText:Dt.appendChild(document.createTextNode(Rt.cssText));else{var Bt=typeof Rt[dt]=="undefined"?"":Rt[dt];Dt.setAttribute(dt,Bt)}Dt.setAttribute(b,"true"),Nt.some(function(He,ct){return ut=ct,Dt.isEqualNode(He)})?Nt.splice(ut,1):Kt.push(Dt)}),Nt.forEach(function(Rt){return Rt.parentNode.removeChild(Rt)}),Kt.forEach(function(Rt){return vt.appendChild(Rt)}),{oldTags:Nt,newTags:Kt}},oe=function(ke){return Object.keys(ke).reduce(function(ft,vt){var _t=typeof ke[vt]!="undefined"?vt+'="'+ke[vt]+'"':""+vt;return ft?ft+" "+_t:_t},"")},ce=function(ke,ft,vt,_t){var Nt=oe(vt),Kt=Se(ft);return Nt?"<"+ke+" "+b+'="true" '+Nt+">"+F(Kt,_t)+"</"+ke+">":"<"+ke+" "+b+'="true">'+F(Kt,_t)+"</"+ke+">"},be=function(ke,ft,vt){return ft.reduce(function(_t,Nt){var Kt=Object.keys(Nt).filter(function(Dt){return!(Dt===K.INNER_HTML||Dt===K.CSS_TEXT)}).reduce(function(Dt,dt){var Bt=typeof Nt[dt]=="undefined"?dt:dt+'="'+F(Nt[dt],vt)+'"';return Dt?Dt+" "+Bt:Bt},""),ut=Nt.innerHTML||Nt.cssText||"",Rt=M.indexOf(ke)===-1;return _t+"<"+ke+" "+b+'="true" '+Kt+(Rt?"/>":">"+ut+"</"+ke+">")},"")},xe=function(ke){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(ke).reduce(function(vt,_t){return vt[z[_t]||_t]=ke[_t],vt},ft)},ge=function(ke){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(ke).reduce(function(vt,_t){return vt[A[_t]||_t]=ke[_t],vt},ft)},he=function(ke,ft,vt){var _t,Nt=(_t={key:ft},_t[b]=!0,_t),Kt=xe(vt,Nt);return[r.createElement($.TITLE,Kt,ft)]},Pe=function(ke,ft){return ft.map(function(vt,_t){var Nt,Kt=(Nt={key:_t},Nt[b]=!0,Nt);return Object.keys(vt).forEach(function(ut){var Rt=z[ut]||ut;if(Rt===K.INNER_HTML||Rt===K.CSS_TEXT){var Dt=vt.innerHTML||vt.cssText;Kt.dangerouslySetInnerHTML={__html:Dt}}else Kt[Rt]=vt[ut]}),r.createElement(ke,Kt)})},Ae=function(ke,ft,vt){switch(ke){case $.TITLE:return{toComponent:function(){return he(ke,ft.title,ft.titleAttributes,vt)},toString:function(){return ce(ke,ft.title,ft.titleAttributes,vt)}};case S.BODY:case S.HTML:return{toComponent:function(){return xe(ft)},toString:function(){return oe(ft)}};default:return{toComponent:function(){return Pe(ke,ft)},toString:function(){return be(ke,ft,vt)}}}},Be=function(ke){var ft=ke.baseTag,vt=ke.bodyAttributes,_t=ke.encode,Nt=ke.htmlAttributes,Kt=ke.linkTags,ut=ke.metaTags,Rt=ke.noscriptTags,Dt=ke.scriptTags,dt=ke.styleTags,Bt=ke.title,He=Bt===void 0?"":Bt,ct=ke.titleAttributes;return{base:Ae($.BASE,ft,_t),bodyAttributes:Ae(S.BODY,vt,_t),htmlAttributes:Ae(S.HTML,Nt,_t),link:Ae($.LINK,Kt,_t),meta:Ae($.META,ut,_t),noscript:Ae($.NOSCRIPT,Rt,_t),script:Ae($.SCRIPT,Dt,_t),style:Ae($.STYLE,dt,_t),title:Ae($.TITLE,{title:He,titleAttributes:ct},_t)}},Le=function(ke){var ft,vt;return vt=ft=function(_t){V(Nt,_t);function Nt(){return L(this,Nt),I(this,_t.apply(this,arguments))}return Nt.prototype.shouldComponentUpdate=function(ut){return!E()(this.props,ut)},Nt.prototype.mapNestedChildrenToProps=function(ut,Rt){if(!Rt)return null;switch(ut.type){case $.SCRIPT:case $.NOSCRIPT:return{innerHTML:Rt};case $.STYLE:return{cssText:Rt}}throw new Error("<"+ut.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},Nt.prototype.flattenArrayTypeChildren=function(ut){var Rt,Dt=ut.child,dt=ut.arrayTypeChildren,Bt=ut.newChildProps,He=ut.nestedChildren;return B({},dt,(Rt={},Rt[Dt.type]=[].concat(dt[Dt.type]||[],[B({},Bt,this.mapNestedChildrenToProps(Dt,He))]),Rt))},Nt.prototype.mapObjectTypeChildren=function(ut){var Rt,Dt,dt=ut.child,Bt=ut.newProps,He=ut.newChildProps,ct=ut.nestedChildren;switch(dt.type){case $.TITLE:return B({},Bt,(Rt={},Rt[dt.type]=ct,Rt.titleAttributes=B({},He),Rt));case $.BODY:return B({},Bt,{bodyAttributes:B({},He)});case $.HTML:return B({},Bt,{htmlAttributes:B({},He)})}return B({},Bt,(Dt={},Dt[dt.type]=B({},He),Dt))},Nt.prototype.mapArrayTypeChildrenToProps=function(ut,Rt){var Dt=B({},Rt);return Object.keys(ut).forEach(function(dt){var Bt;Dt=B({},Dt,(Bt={},Bt[dt]=ut[dt],Bt))}),Dt},Nt.prototype.warnOnInvalidChildren=function(ut,Rt){return!0},Nt.prototype.mapChildrenToProps=function(ut,Rt){var Dt=this,dt={};return r.Children.forEach(ut,function(Bt){if(!(!Bt||!Bt.props)){var He=Bt.props,ct=He.children,St=U(He,["children"]),Tt=ge(St);switch(Dt.warnOnInvalidChildren(Bt,ct),Bt.type){case $.LINK:case $.META:case $.NOSCRIPT:case $.SCRIPT:case $.STYLE:dt=Dt.flattenArrayTypeChildren({child:Bt,arrayTypeChildren:dt,newChildProps:Tt,nestedChildren:ct});break;default:Rt=Dt.mapObjectTypeChildren({child:Bt,newProps:Rt,newChildProps:Tt,nestedChildren:ct});break}}}),Rt=this.mapArrayTypeChildrenToProps(dt,Rt),Rt},Nt.prototype.render=function(){var ut=this.props,Rt=ut.children,Dt=U(ut,["children"]),dt=B({},Dt);return Rt&&(dt=this.mapChildrenToProps(Rt,dt)),r.createElement(ke,dt)},N(Nt,null,[{key:"canUseDOM",set:function(ut){ke.canUseDOM=ut}}]),Nt}(r.Component),ft.propTypes={base:g().object,bodyAttributes:g().object,children:g().oneOfType([g().arrayOf(g().node),g().node]),defaultTitle:g().string,defer:g().bool,encodeSpecialCharacters:g().bool,htmlAttributes:g().object,link:g().arrayOf(g().object),meta:g().arrayOf(g().object),noscript:g().arrayOf(g().object),onChangeClientState:g().func,script:g().arrayOf(g().object),style:g().arrayOf(g().object),title:g().string,titleAttributes:g().object,titleTemplate:g().string},ft.defaultProps={defer:!0,encodeSpecialCharacters:!0},ft.peek=ke.peek,ft.rewind=function(){var _t=ke.rewind();return _t||(_t=Be({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),_t},vt},Me=function(){return null},Te=D()(H,de,Be)(Me),we=Le(Te);we.renderStatic=we.rewind;var Ue=null,je=e(26793),De=e(89250),ye=e(31601),_e=e(14518),q=e(74614),pe=e(85893),Re=(0,r.createContext)({title:null,setTitle:function(){}});Re.displayName="DocumentTitleContext";var Oe=function(ke){var ft=ke.addonBefore,vt=ke.addonAfter,_t=(0,je.$)(),Nt=_t.t,Kt=(0,r.useState)(""),ut=n()(Kt,2),Rt=ut[0],Dt=ut[1],dt=Nt(Rt||"");ft&&(dt="".concat(Nt(ft)).concat(dt?" - ".concat(dt):"")),vt&&(dt="".concat(dt).concat(dt?" - ".concat(Nt(vt)):"".concat(Nt(vt))));var Bt=(0,De.useLocation)();return(0,r.useEffect)(function(){var He=Bt.pathname;He.startsWith(q.oz)&&Dt(q.bT),He.startsWith("/app/myworkspace")&&Dt("My WorkSpace")},[Bt]),(0,pe.jsxs)(Re.Provider,{value:{title:Rt,setTitle:Dt},children:[(0,pe.jsx)(we,{children:(0,pe.jsx)("title",{children:dt})}),ke.children]})},$e=function(ke){var ft,vt=(0,_e.HX)();return(0,pe.jsx)(Oe,{addonAfter:vt==null||(ft=vt.data)===null||ft===void 0||(ft=ft.data)===null||ft===void 0?void 0:ft.title,children:ke.children})},Ve=function(){return(0,r.useContext)(Re)},Ze=function(ke){var ft=Ve(),vt=ft.setTitle;(0,r.useEffect)(function(){vt(ke)},[])},qe=function(Qe){i()(ft,Qe);var ke=f()(ft);function ft(){return d()(this,ft),ke.apply(this,arguments)}return t()(ft,[{key:"load",value:function(){var vt=u()(m()().mark(function Nt(){return m()().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:this.app.use($e,this.options);case 1:case"end":return ut.stop()}},Nt,this)}));function _t(){return vt.apply(this,arguments)}return _t}()}]),ft}(ye.S)},67205:function(se,j,e){"use strict";e.d(j,{XA:function(){return D},kO:function(){return E},vY:function(){return P}});var v=e(97857),m=e.n(v),x=e(19632),u=e.n(x),p=e(5574),d=e.n(p),h=e(94350),t=e(96486),c=e.n(t),i=e(67294),a=e(23782),f=e(6145),l=e(4277),n=e(98427),r=e(87714),o=e(85893),g=function(O){return O.AND="$and",O.OR="$or",O}(g||{}),y=(0,i.createContext)(null);y.displayName="FilterContext";var D=function(T){var S=T.children,$=i.useState([]),Z=d()($,2),K=Z[0],z=Z[1];return(0,o.jsx)(y.Provider,{value:{dataBlocks:K,setDataBlocks:z},children:S})},P=function(T){var S=T.children,$=T.params,Z=(0,f.useCollection_deprecated)(),K=E(),z=K.recordDataBlocks,w=(0,a.BU)(),A=w.service,M=(0,h.useField)(),b=(0,h.useFieldSchema)(),R=(0,r.Fp)(),L=(0,i.useRef)(null),N=(0,l.tU)(),B=M.decoratorType!=="FilterFormBlockProvider"&&M.decoratorType!=="FormBlockProvider"&&M.decoratorProps.blockType!=="filter",V=(0,i.useCallback)(function(){z({uid:b["x-uid"],title:M.componentProps.title,doFilter:A.runAsync,collection:Z,associatedFields:R,foreignKeyFields:Z.foreignKeyFields,defaultFilter:($==null?void 0:$.filter)||{},service:A,dom:L.current,dataLoadingMode:N,clearFilter:function(I){var F,W,X=((F=this.service.params)===null||F===void 0?void 0:F[0])||{},J=((W=this.service.params)===null||W===void 0||(W=W[1])===null||W===void 0?void 0:W.filters)||{};delete J[I];var C=(0,r.EO)([].concat(u()(Object.values(J).map(function(k){return(0,n.WmO)(k)})),[($==null?void 0:$.filter)||{}]));this.service.run(m()(m()({},X),{},{page:1,filter:C}),{filters:J})},clearData:function(){this.service.mutate(void 0)}})},[R,Z,N,M.componentProps.title,b,$==null?void 0:$.filter,z,A]);return(0,i.useEffect)(function(){B&&V()},[V,B]),(0,o.jsx)("div",{ref:L,children:S})},E=function(){var T=i.useContext(y),S=(0,i.useCallback)(function(){return(T==null?void 0:T.dataBlocks)||[]},[T==null?void 0:T.dataBlocks]);if(!T)return{inProvider:!1,recordDataBlocks:function(){},getDataBlocks:S,removeDataBlock:function(){}};var $=T.dataBlocks,Z=T.setDataBlocks,K=function(A){var M=$.find(function(b){return b.uid===A.uid});if(M){Object.assign(M,A);return}Z(function(b){return(0,t.uniqBy)([].concat(u()(b),[A]),"uid")})},z=function(A){$.every(function(M){return M.uid!==A})||Z(function(M){return M.filter(function(b){return b.uid!==A})})};return{recordDataBlocks:K,getDataBlocks:S,removeDataBlock:z,inProvider:!0}}},18386:function(se,j,e){"use strict";e.d(j,{$f:function(){return m.$f},EO:function(){return m.EO},Fp:function(){return m.Fp},Op:function(){return m.Op},Um:function(){return m.Um},XA:function(){return v.XA},ZN:function(){return m.ZN},hi:function(){return m.hi},jE:function(){return m.jE},kO:function(){return v.kO},vC:function(){return m.vC},vY:function(){return v.vY},x5:function(){return m.x5},yr:function(){return m.yr},zv:function(){return m.zv}});var v=e(67205),m=e(87714)},87714:function(se,j,e){"use strict";e.d(j,{$f:function(){return z},EO:function(){return O},Fp:function(){return K},Op:function(){return b},Um:function(){return $},ZN:function(){return A},hi:function(){return M},jE:function(){return Z},vC:function(){return E},x5:function(){return T},yr:function(){return w},zv:function(){return S}});var v=e(97857),m=e.n(v),x=e(19632),u=e.n(x),p=e(5574),d=e.n(p),h=e(9783),t=e.n(h),c=e(52677),i=e.n(c),a=e(94350),f=e(70173),l=e(96486),n=e.n(l),r=e(67294),o=e(19958),g=e(6145),y=e(98427),D=e(14432),P=e(67205),E=function(R){return R[R.FORM=0]="FORM",R[R.TABLE=1]="TABLE",R[R.TREE=2]="TREE",R[R.COLLAPSE=3]="COLLAPSE",R}({}),O=function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$and",B=L.filter(function(V){if(V&&i()(V)==="object"&&!Array.isArray(V))return Object.values(V).filter(function(U){return U!==void 0}).length});return B.length===0?{}:B.length===1?B[0]:t()({},N,B)},T=function(L,N){var B;return(B=N.associatedFields)===null||B===void 0?void 0:B.filter(function(V){return L==null?void 0:L.some(function(U){return U===V.target})})},S=function(L,N){var B;return(B=N.foreignKeyFields)===null||B===void 0?void 0:B.filter(function(V){return L.fields.some(function(U){return U.type!=="belongsTo"&&U.foreignKey===V.name})})},$=function(L){var N=(0,P.kO)(),B=N.getDataBlocks,V=(0,a.useFieldSchema)(),U=(0,g.useCollection_deprecated)(),I=(0,g.useCollectionManager_deprecated)(),F=I.getAllCollectionsInheritChain;if(L===E.FORM||L===E.COLLAPSE)return B().filter(function(W){return w(W.collection,U)||A(W.collection)});if(L===E.TABLE||L===E.TREE)return B().filter(function(W){var X,J;return V["x-uid"]!==W.uid&&(w(W.collection,U)||((X=T(F(U.name,U.dataSource),W))===null||X===void 0?void 0:X.length)||((J=S(U,W))===null||J===void 0?void 0:J.length))})},Z=function(L,N,B,V){var U=(0,D.mn)(N),I=U.operators;L=(0,f.flatten)(L,{breakOn:function(X){var J=X.value,C=X.path;if(["$match","$notMatch","$anyOf","$noneOf","$childIn","$childNotIn","$dateBetween","$in","$notIn"].includes(I[C]))return!0;var k=B("".concat(V,".").concat(C));if(k!=null&&k.target){if(Array.isArray(J))return!0;var Y=k.targetKey||"id";if(J&&J[Y]!=null)return!0}return!1}});var F={$and:Object.keys(L).map(function(W){var X=n().get(L,W);if(Array.isArray(X)&&X.length){var J=Object.keys(X[0]);return{$or:X.map(function(k){return{$and:J.map(function(Y){var H=B("".concat(V,".").concat(W,".").concat(Y));if(H!=null&&H.target)if(["m2m","o2m"].includes(H==null?void 0:H.interface)){var te="".concat(W,".").concat(Y,".").concat(H.targetKey||"id"),le=k[Y];return le?t()({},te,{$in:Array.isArray(le)?le.map(function(ee){return ee[H.targetKey||"id"]}):[]}):null}else{var ne="".concat(W,".").concat(Y,".").concat(H.targetKey||"id"),ie=k[Y]?k[Y][H.targetKey||"id"]:null;return!ie&&ie!==0&&ie!==!1?null:t()({},ne,{$eq:ie})}return t()({},"".concat(W,".").concat(Y),t()({},I[Y]||"$eq",k[Y]))}).filter(Boolean)}}).filter(Boolean)}}var C=B("".concat(V,".").concat(W));return C!=null&&C.target&&(X=(0,f.getValuesByPath)(X,C.targetKey||"id"),W="".concat(W,".").concat(C.targetKey||"id")),!X&&X!==0&&X!==!1?null:t()({},W,t()({},I[W]||"$eq",X))}).filter(Boolean)};return F},K=function(){var L=(0,g.useCollection_deprecated)(),N=L.fields;return N.filter(function(B){return z(B)})||[]},z=function(L){return["o2o","oho","obo","m2o","createdBy","updatedBy","o2m","m2m","linkTo","chinaRegion"].includes(L==null?void 0:L.interface)},w=function(L,N){return L.name===N.name&&L.dataSource===N.dataSource},A=function(L){return L.name==="audits_jobs"&&L.dataSource==="main"},M=function(){var L=(0,a.useFieldSchema)(),N=(0,P.kO)(),B=N.getDataBlocks,V=(0,o.findFilterTargets)(L),U=V.targets,I=V.uid,F=B(),W=(0,r.useState)(function(){return U&&U.some(function(H){return F.some(function(te){return te.uid===H.uid})})}),X=d()(W,2),J=X[0],C=X[1],k=Object.keys(U||{});(0,r.useEffect)(function(){C(U&&U.some(function(H){return F.some(function(te){return te.uid===H.uid})}))},[k.length,F]);var Y=(0,r.useCallback)(function(H){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"id",le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$eq";F.forEach(function(ne){var ie,ee,fe=U.find(function(ae){return ae.uid===ne.uid});if(fe){n().isFunction(te)&&(te=te(fe)),n().isFunction(le)&&(le=le(fe));var de=((ie=ne.service.params)===null||ie===void 0?void 0:ie[0])||{},ue=((ee=ne.service.params)===null||ee===void 0||(ee=ee[1])===null||ee===void 0?void 0:ee.filters)||{};H!==void 0?ue[I]={$and:[t()({},te,t()({},le,H))]}:delete ue[I];var Se=O([].concat(u()(Object.values(ue).map(function(ae){return(0,y.WmO)(ae)})),[ne.defaultFilter]));ne.doFilter(m()(m()({},de),{},{page:1,filter:Se}),{filters:ue})}})},[F]);return{isConnected:J,doFilter:Y}},b=function(L){for(;L;){if(L["x-filter-targets"])return L["x-decorator"]==="FilterFormBlockProvider";L=L.parent}return!1}},5772:function(se,j,e){"use strict";e.d(j,{C:function(){return u},z:function(){return x}});var v=e(67294),m=e(85893),x=v.createContext(null),u=function(d){return(0,m.jsx)(x.Provider,{value:d,children:d.children})}},7686:function(se,j,e){"use strict";e.d(j,{P:function(){return x}});var v=e(67294),m=e(5772),x=function(){return(0,v.useContext)(m.z)||{}}},53285:function(se,j,e){"use strict";e.d(j,{Cm:function(){return v.C},P5:function(){return m.P},z_:function(){return v.z}});var v=e(5772),m=e(7686)},51976:function(se,j,e){"use strict";e.d(j,{PK:function(){return x},Zj:function(){return p}});var v=e(97857),m=e.n(v),x=function(h){return h.LakeGreen="Lake Green",h.TwilightPurple="Twilight Purple",h.LavenderPink="Lavender Pink",h.SunsetOrange="Sunset Orange",h.AshleyMinimalist="Ashley Minimalist",h.BusinessBlack="Business Black",h}({}),u={xwColorFormItemLabel:"#1E1E1E",xwColorCardListFormItemLabel:"#6A6A6A",xwColorTertiaryBtnBackground:"#fff",xwColorTertiaryBtnHoverBackground:"#fff",xwColorTertiaryBtnBorder:"#A3AED0",xwColorTertiaryBtnText:"#4B5563"},p=[{name:x.LakeGreen,token:m()(m()({colorPrimary:"#1BA5D2",colorPrimaryBgHover:"#ECF5F9",colorBorder:"#D1D5DB",xwColorPrimary:"linear-gradient(90deg, #36CEBF 0%, #169DD4 100%)",xwColorPrimaryBackgroud:"linear-gradient(90deg, rgba(54, 206, 191, 0.1) 0%, rgba(22, 157, 212, 0.1) 100%)",xwColorPrimaryHighlight:"#1BA5D2",xwColorPrimaryRegular:"#B9EDE9",xwColorPrimaryLight:"#DFF6F5",xwColorPrimaryBtnBackground:"linear-gradient(90deg, #36CEBF 0%, #169DD4 100%)",xwColorPrimaryBtnHoverBackground:"#26B5C9",xwColorPrimaryBtnText:"#fff",xwColorSecondaryBtnBackground:"#35CCC14D",xwColorSecondaryBtnHoverBackground:"#35CCC199",xwColorSecondaryBtnBorder:"#19A2D3",xwColorSecondaryBtnText:"#086D95"},u),{},{xwColorTertiaryBtnHoverBorder:"#1BA5D2",xwColorTertiaryBtnHoverText:"#1BA5D2"})},{name:x.TwilightPurple,token:m()(m()({colorPrimary:"#8575E6",colorPrimaryBgHover:"#F2F1FC",colorBorder:"#A3AED0",xwColorPrimary:"linear-gradient(90deg, rgba(138, 115, 232, 1) 0%, rgba(51, 131, 194, 1) 100%)",xwColorPrimaryBackgroud:"linear-gradient(90deg, rgba(138, 115, 232, 0.1) 0%, rgba(51, 131, 194, 0.1) 100%)",xwColorPrimaryHighlight:"#8575E6",xwColorPrimaryRegular:"#DBD6F3",xwColorPrimaryLight:"#D8E6FF",xwColorPrimaryBtnBackground:"linear-gradient(90deg, #8A73E8 0%, #3383C2 100%)",xwColorPrimaryBtnHoverBackground:"#5F7BD5",xwColorPrimaryBtnText:"#fff",xwColorSecondaryBtnBackground:"#D8E6FF",xwColorSecondaryBtnHoverBackground:"#A4C4FF",xwColorSecondaryBtnBorder:"#006CCD",xwColorSecondaryBtnText:"#006CCD"},u),{},{xwColorTertiaryBtnHoverBorder:"#8575E6",xwColorTertiaryBtnHoverText:"#8575E6"})},{name:x.LavenderPink,token:m()(m()({colorPrimary:"#EB6DBB",colorPrimaryBgHover:"#FBF0F7",colorBorder:"#A3AED0",xwColorPrimary:"linear-gradient(90deg, #FE8864 0%, #FF68AF 100%)",xwColorPrimaryBackgroud:"linear-gradient(90deg, rgba(254, 136, 100, 0.1) 0%, rgba(255, 104, 175, 0.1) 100%)",xwColorPrimaryHighlight:"#EB6DBB",xwColorPrimaryRegular:"#FFE8F2",xwColorPrimaryLight:"rgba(255, 135, 105, 0.30)",xwColorPrimaryBtnBackground:"linear-gradient(90deg, #FE8864 0%, #FF68AF 100%)",xwColorPrimaryBtnHoverBackground:"#FF788A",xwColorPrimaryBtnText:"#fff",xwColorSecondaryBtnBackground:"#FF87694D",xwColorSecondaryBtnHoverBackground:"#FF876999",xwColorSecondaryBtnBorder:"#DF3681",xwColorSecondaryBtnText:"#DF3681"},u),{},{xwColorTertiaryBtnHoverBorder:"#EB6DBB",xwColorTertiaryBtnHoverText:"#EB6DBB"})},{name:x.SunsetOrange,token:m()(m()({colorPrimary:"#F59D24",colorPrimaryBgHover:"#FCF4EB",colorBorder:"#A3AED0",xwColorPrimary:"linear-gradient(90deg, #F3CC20 0%, #F68C2C 100%)",xwColorPrimaryBackgroud:"linear-gradient(90deg, rgba(243, 204, 32, 0.1) 0%, rgba(246, 140, 44, 0.1) 100%)",xwColorPrimaryHighlight:"#F59D24",xwColorPrimaryRegular:"#FFECBD",xwColorPrimaryLight:"#FCF0D2",xwColorPrimaryBtnBackground:"linear-gradient(68.82deg, #F4DF83 13.96%, #F58B0A 86.04%)",xwColorPrimaryBtnHoverBackground:"#F4B547",xwColorPrimaryBtnText:"#fff",xwColorSecondaryBtnBackground:"#F5CE6A4D",xwColorSecondaryBtnHoverBackground:"#F5CE6A99",xwColorSecondaryBtnBorder:"#F68C0B",xwColorSecondaryBtnText:"#E07B00"},u),{},{xwColorTertiaryBtnHoverBorder:"#F59D24",xwColorTertiaryBtnHoverText:"#F59D24"})},{name:x.BusinessBlack,token:m()(m()({colorPrimary:"#8B8E9D",colorPrimaryBgHover:"#F2F2F4",colorBorder:"#A3AED0",xwColorPrimary:"linear-gradient(90deg, #6A6E84 0%, #434762 100%)",xwColorPrimaryBackgroud:"linear-gradient(90deg, #6A6E841A 0%, #4347621A 100%)",xwColorPrimaryHighlight:"#8B8E9D",xwColorPrimaryRegular:"#D8D8D8",xwColorPrimaryLight:"#D8D8D8",xwColorPrimaryBtnBackground:"linear-gradient(90deg, #6A6E84 0%, #434762 100%)",xwColorPrimaryBtnHoverBackground:"#6A6E84",xwColorPrimaryBtnText:"#fff",xwColorSecondaryBtnBackground:"#D8D8D8",xwColorSecondaryBtnHoverBackground:"#B7B7B7",xwColorSecondaryBtnBorder:"#6D7385",xwColorSecondaryBtnText:"#4B5563"},u),{},{xwColorTertiaryBtnHoverBorder:"#8B8E9D",xwColorTertiaryBtnHoverText:"#8B8E9D"})},{name:x.AshleyMinimalist,token:m()(m()({colorPrimary:"#ECA27A",colorPrimaryBgHover:"#FCF5F1",colorBorder:"#A3AED0",xwColorPrimary:"#F68C2C",xwColorPrimaryBackgroud:"linear-gradient(92.03deg, #FBD0161A 0.34%, #F58B0A1A 91.95%)",xwColorPrimaryHighlight:"#ECA27A",xwColorPrimaryRegular:"#FFDDBB",xwColorPrimaryLight:"#FFDDBB",xwColorPrimaryBtnBackground:"#F68C2C",xwColorPrimaryBtnHoverBackground:"#DA6B07",xwColorPrimaryBtnText:"#fff",xwColorSecondaryBtnBackground:"#F9DDC4",xwColorSecondaryBtnHoverBackground:"#F9DDC4",xwColorSecondaryBtnBorder:"#F68C0B",xwColorSecondaryBtnText:"#E07B00"},u),{},{xwColorTertiaryBtnHoverBorder:"#ECA27A",xwColorTertiaryBtnHoverText:"#ECA27A"})}],d={name:"",token:m()(m()({},p.filter(function(h){return h.name===x.TwilightPurple})[0].token),{},{fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',colorPrimaryHeader:"#001529",colorBgHeader:"#fff",colorBgHeaderMenuHover:"#fff",colorBgHeaderMenuActive:"#fff",colorTextHeaderMenu:"#999",colorTextHeaderMenuHover:"#000",colorTextHeaderMenuActive:"#000",colorTextBase:"#6B7280",colorTextPrimary:"#000",xwColorPageBg:"#F4F7FE",colorSettings:"#F18B62",colorBgSettingsHover:"rgba(241, 139, 98, 0.06)",colorBorderSettingsHover:"rgba(241, 139, 98, 0.3)",motionUnit:.03,motion:!0,xwBoxShadowTable:"4px 15px 20px 0px rgba(120, 120, 120, 0.12)",xwTableLeftBorderRadius:16,xwColorBgPivotTable:"#f9fafb",xwTableHeaderColor:"#6B7280",xwTableColorText:"#111928",xwTableBorderColor:"#E5E7EB",xwSubTableHeaderColor:"#2D2D2D",xwSubTableColorText:"#6A6A6A",xwSubTableBorderColor:"#A7A8B5",boxShadowTertiary:"0px 6px 24.6px 0px rgba(235, 231, 249, 0.79)",xwCardHeaderFontSize:18,xwTagColorSuccessBg:"#DEF7EC",xwTagColorSuccessText:"#03543F",xwTagColorErrorBg:"#FDE8E8",xwTagColorErrorText:"#9B1C1C",xwTagColorProcessingBg:"#EDEBFE",xwTagColorProcessingText:"#5521B5",xwTagColorWarningBg:"#FFE4BA",xwTagColorWarningText:"#8E4B10"})};j.ZP=d},58809:function(se,j,e){"use strict";e.d(j,{wI:function(){return g},YO:function(){return P},Zj:function(){return i.Zj},PK:function(){return i.PK},uH:function(){return i.ZP},mg:function(){return D}});var v=e(5574),m=e.n(v),x=e(9361),u=e(28459),p=e(96486),d=e.n(p),h=e(67294),t=function(O,T){var S=T||x.Z.defaultAlgorithm(O);return S.paddingPageHorizontal===void 0&&(S.paddingPageHorizontal=S.sizeLG),S.paddingPageVertical===void 0&&(S.paddingPageVertical=S.sizeLG),S.paddingPopupHorizontal===void 0&&(S.paddingPopupHorizontal=S.sizeLG),S.paddingPopupVertical===void 0&&(S.paddingPopupVertical=S.size),S.marginBlock===void 0&&(S.marginBlock=S.sizeLG),S.borderRadiusBlock===void 0&&(S.borderRadiusBlock=S.borderRadiusLG),S},c=function(O){return Array.isArray(O==null?void 0:O.algorithm)?O!=null&&O.algorithm.includes(t)||O.algorithm.push(t):O.algorithm=[O==null?void 0:O.algorithm,t].filter(Boolean),O.algorithm=O==null?void 0:O.algorithm.filter(Boolean),O},i=e(51976),a=e(85893),f=e(3321),l=e(72029),n=e(74614),r=(0,h.memo)(function(E){var O=E.children,T=(0,n.qD)(),S=f.Z.useApp(),$=S.notification,Z=(0,l.LY)();return(0,h.useEffect)(function(){Z.notification=$,T.notification=$},[$]),(0,a.jsx)(a.Fragment,{children:O})});r.displayName="AppInner";var o=function(O){var T=O.children;return(0,a.jsx)(f.Z,{style:{height:"100%"},children:(0,a.jsx)(r,{children:T})})};o.displayName="AntdAppProvider";var g=o,y=(0,h.createContext)(null);y.displayName="GlobalThemeContext";var D=function(){return h.useContext(y)||{theme:{},isDarkTheme:!1}},P=function(O){var T=O.children,S=O.theme,$=h.useState(S||i.ZP),Z=m()($,2),K=Z[0],z=Z[1],w=(0,h.useRef)(null),A=(0,h.useRef)(null),M=(0,h.useMemo)(function(){var V=K==null?void 0:K.algorithm;return Array.isArray(V)?V.includes(x.Z.darkAlgorithm):V===x.Z.darkAlgorithm},[K==null?void 0:K.algorithm]),b=(0,h.useCallback)(function(V){A.current=V&&d().cloneDeep(V)},[]),R=(0,h.useCallback)(function(){return A.current},[]),L=(0,h.useCallback)(function(V){w.current=V&&d().cloneDeep(V)},[]),N=(0,h.useCallback)(function(){return w.current},[]),B=(0,h.useMemo)(function(){return{theme:c(K),setTheme:z,setCurrentSettingTheme:L,getCurrentSettingTheme:N,setCurrentEditingTheme:b,getCurrentEditingTheme:R,isDarkTheme:M}},[R,N,M,b,L,K]);return(0,a.jsx)(y.Provider,{value:B,children:(0,a.jsx)(u.ZP,{theme:B.theme,children:T})})}},17958:function(se,j,e){"use strict";e.d(j,{ab:function(){return h.ab},fo:function(){return h.fo},Wd:function(){return v},Ps:function(){return n},d5:function(){return h.d5},nu:function(){return h.nu},Dv:function(){return d},Pm:function(){return l},iX:function(){return h.iX},H3:function(){return f},Sj:function(){return u}});var v=function(){return"xwork-app-menu"},m=e(67294),x=function(){var o=(0,m.useRef)("initial-scale=0.1"),g=(0,m.useRef)();(0,m.useEffect)(function(){var D=document.querySelector('meta[name="viewport"]');D?o.current=D.content:(D=document.createElement("meta"),D.name="viewport"),D&&(D.content="width=device-width, initial-scale=1, user-scalable=0",g.current=D)},[]);var y=function(){g.current&&(g.current.content=o.current)};return{metaRef:g,restore:y}};function u(){var r=x(),o=r.metaRef,g=r.restore;(0,m.useEffect)(function(){if(o.current)return document.head.insertBefore(o.current,document.head.firstChild),function(){g()}},[])}var p=e(21143),d=function(){var o=(0,p.useAPIClient)(),g=o.auth.getOption("share_mode"),y=o.auth.getOption("share_status");return g==="true"&&y==="open"},h=e(74820),t=e(89250),c=e(14230),i=e(8217),a=e(8985),f=function(){var o=(0,t.useNavigate)();return function(g,y){o(g&&y?"/app/".concat(g,"/").concat(y):"/app")}},l=function(){var o=(0,t.useMatch)("/app/apps"),g=(0,t.useMatch)("/app/notification"),y=(0,t.useMatch)("/app/my-account"),D=(0,t.useMatch)("/app/myworkspace"),P=(0,t.useMatch)("/app/manage-my-apps"),E=(0,t.useMatch)("/app/settings/*");return D||o||E||P||g||y},n=function(){var o,g=(0,t.useParams)(),y=(0,t.useNavigate)(),D=(0,c.jr)(),P=D.setTitle,E=f(),O=(0,a.OP)(),T=(o=O.data)===null||o===void 0||(o=o.data)===null||o===void 0?void 0:o.id,S=(0,t.useMatch)("/app"),$=(0,t.useMatch)("/app/:appName"),Z=(0,t.useMatch)("/app/:appName/:name?"),K=l();return(0,m.useCallback)(function(z){if(z){if($){localStorage.setItem("NOCODE_APP_NAME_USER_".concat(T),g.appName);var w=(0,i.bp)(z),A=(w==null?void 0:w["x-uid"])||(z==null?void 0:z["x-uid"]);E(g.appName,A);return}if(Z){var M,b=(0,i.Ky)(z,g.name);if(!b&&g.name!==z["x-uid"]){y("/404");return}localStorage.setItem("NOCODE_APP_NAME_USER_".concat(T),g.appName),P((b==null?void 0:b.title)||(b==null||(M=b.parent)===null||M===void 0?void 0:M.title));return}}},[T,K,S,$,Z])}},74820:function(se,j,e){"use strict";e.d(j,{ab:function(){return h},d5:function(){return c},fo:function(){return t},iX:function(){return a},nu:function(){return i}});var v=e(19632),m=e.n(v),x=e(96486),u=e.n(x),p=e(67294),d=e(85893),h=(0,p.createContext)(null);h.displayName="GetMenuItemContext";var t=(0,p.createContext)(null);t.displayName="GetMenuItemsContext";var c=function(){return(0,p.useContext)(h)||{}},i=function(){return(0,p.useContext)(t)||{}},a=function(){var l=(0,p.useRef)([]),n=(0,p.useRef)(null),r=(0,p.useRef)(!1),o=(0,p.useCallback)(function(P){var E=P.limitCount;return r.current?(r.current=!1,n.current?n.current():E&&l.current.length>E?(0,d.jsx)(d.Fragment,{children:l.current.slice(0,E).map(function(O,T){return(0,d.jsx)(O,{},T)})}):(0,d.jsx)(d.Fragment,{children:l.current.map(function(O,T){return(0,d.jsx)(O,{},T)})})):null},[]),g=(0,p.useCallback)(function(P){var E=[],O=function(S){E.push(S),E.sort(function($,Z){return($.order||0)-(Z.order||0)})};return r.current=!0,n.current=function(){var T=E.filter(function(S){return S.notdelete}).map(function(S){return u().omit(S,"notdelete")});return E.length=0,E.push.apply(E,m()(T)),(0,d.jsx)(t.Provider,{value:{pushMenuItem:O},children:P()})},E},[]),y=(0,p.useCallback)(function(P){var E={},O=function(S){Object.assign(E,S)};return r.current=!0,l.current.push(function(){return(0,d.jsx)(h.Provider,{value:{collectMenuItem:O},children:P()})}),E},[]),D=(0,p.useCallback)(function(){l.current=[]},[]);return{Component:o,getMenuItems:g,getMenuItem:y,clean:D}}},58384:function(se,j,e){"use strict";e.d(j,{a:function(){return p},v:function(){return u}});var v=e(36609),m=e(57715),x=e(35310);function u(h,t){return t?"{{t(".concat(JSON.stringify(h),", ").concat(JSON.stringify(t),")}}"):"{{t(".concat(JSON.stringify(h),")}}")}var p=v.default.createInstance(),d={};Object.keys(x.Z).forEach(function(h){d[h]=x.Z[h].resources}),p.use(m.Db).init({lng:localStorage.getItem("NOCODE_LOCALE")||"en-US",defaultNS:"client",resources:{},keySeparator:!1,nsSeparator:!1}),p.on("languageChanged",function(h){localStorage.setItem("NOCODE_LOCALE",h)})},94627:function(se,j,e){"use strict";e.d(j,{JO:function(){return y},OL:function(){return o},Qx:function(){return n},ci:function(){return l},fm:function(){return g},q5:function(){return r}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(82610),d=e(9149),h=e(74337),t=e(67294),c=e(85893),i=["type","component"],a,f=["ali","amazon","apple","android","AntDesign","google","github","ie","zhihu","twitter","weibo","wechat","taobao","qq","build","instagram","html5","whatsapp","Windows","chrome","dingding","youtube","dingtalk","Skype","MediumWorkmark","Gitlab","Medium","Linkedin","Dropbox","Facebook","Codepen","CodeSandbox","AntCloud","Slack","Behance","Dribbble","Yuque","Yahoo","Reddit","Sketch","OpenAI","Discord","XOutlined","Bilibili","Pinterest","TikTok","Spotify","Twitch","Linux","Java","JavaScript","Python","Ruby","DotNet","Kubernetes","Docker","Baidu","HarmonyOS"],l=new Map,n=new Map;function r(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,O=arguments.length>2?arguments[2]:void 0,T=f.filter(function(S){return P.toLowerCase().includes(S.toLowerCase())}).length>0;T||(O?n.set(P.toLowerCase(),E):l.set(P.toLowerCase(),E))}function o(P,E){return P?E?n.has(P.toLowerCase()):l.has(P.toLowerCase()):!1}function g(P){Object.keys(P).forEach(function(E){r(E,P[E],!1)})}Object.keys(p).forEach(function(P){P.endsWith("Filled")&&r(P,p[P],!0),P.endsWith("Outlined")&&r(P,p[P],!1)});var y=function(E){var O=E.type,T=O===void 0?"":O,S=E.component,$=u()(E,i);if(S)return(0,c.jsx)(d.Z,m()({component:S},$));if(T&&l.has(T.toLowerCase())){var Z=l.get(T.toLowerCase());return(0,c.jsx)(Z,m()({},$))}if(T&&n.has(T.toLowerCase())){var K=n.get(T.toLowerCase());return(0,c.jsx)(K,m()({},$))}return T&&a?(0,c.jsx)(a,{type:T}):null};y.createFromIconfontCN=function(P){a=(0,h.Z)(P)},y.register=function(P){g(P)};var D=null},61933:function(se,j,e){"use strict";e.d(j,{JO:function(){return v.JO},OL:function(){return v.OL},Qx:function(){return v.Qx},ci:function(){return v.ci},fm:function(){return v.fm},q5:function(){return v.q5}});var v=e(94627)},21143:function(se,j,e){"use strict";e.r(j),e.d(j,{ACLActionParamsContext:function(){return S.R1},ACLActionProvider:function(){return S.mE},ACLCollectionFieldProvider:function(){return S.tq},ACLCollectionProvider:function(){return S.Hh},ACLContext:function(){return S.R3},ACLMenuItemProvider:function(){return S.fJ},ACLPane:function(){return S.$M},ACLPlugin:function(){return S.pz},ACLProvider:function(){return S.Z5},ACLRolesCheckProvider:function(){return S.VV},ADMIN_SETTINGS_KEY:function(){return z.eB},ADMIN_SETTINGS_PATH:function(){return z.oz},ADMIN_SETTINGS_TAB_TITLE:function(){return z.bT},APIClient:function(){return Z.lP},APIClientContext:function(){return Z._Z},APIClientProvider:function(){return Z.Xb},Action:function(){return ee.aUM},ActionBar:function(){return ee.olz},ActionBarAssociationFilterAction:function(){return fe.cm},ActionBarProvider:function(){return ee.N0i},ActionContext:function(){return ee.fWn},ActionContextProvider:function(){return ee.EIK},ActionDesigner:function(){return ee.$Lt},ActionInitializer:function(){return fe.$M},AdminLayout:function(){return ie.lq},AdminLayoutPlugin:function(){return ie.r3},AdminProvider:function(){return ie.IA},AdminSettingsLayout:function(){return le.i9},AfterFailure:function(){return ee.pE_},AfterSuccess:function(){return ee.$b8},AlignMode:function(){return ue.$M},AntdAppProvider:function(){return W.wI},AntdConfigPlugin:function(){return $.kT},AntdConfigProvider:function(){return $.zy},AntdSchemaComponentPlugin:function(){return ee.HTy},AntdSchemaComponentProvider:function(){return ee.lkv},AppComponent:function(){return z.y$},AppLangContext:function(){return $.UJ},AppMenuContext:function(){return be.sM},AppMenuProvider:function(){return be.Yd},AppendsTreeSelect:function(){return ee.rDu},Application:function(){return z.Mx},ApplicationContext:function(){return z.Zz},AssignedFieldValues:function(){return ee.eYL},AssociatedFields:function(){return fe.Pg},AssociationField:function(){return ee.Rat},AssociationFilter:function(){return fe.tr},AssociationFilterDesignerDelete:function(){return fe.nr},AssociationFilterDesignerDisplayField:function(){return fe.N2},AssociationFilterPlugin:function(){return fe.Ys},AssociationOrCollectionProvider:function(){return V.dq},AssociationProvider:function(){return V.ym},AssociationSelect:function(){return ee.$SD},AsyncDataContext:function(){return w.tO},AsyncDataProvider:function(){return w.pW},AutoComplete:function(){return ee.QcG},BackButtonUsedInSubPage:function(){return ee.MLy},BaseVariableProvider:function(){return ue.Nx},BlankComponent:function(){return z.X_},Block:function(){return ee.gOu},BlockAssociationContext:function(){return A.WJ},BlockComponentType:function(){return Le.sR},BlockContext:function(){return A.Qj},BlockInitializer:function(){return fe.bn},BlockItem:function(){return ee.jYG},BlockItemInitializer:function(){return fe.VD},BlockProvider:function(){return A.ZJ},BlockRequestContext:function(){return V.do},BlockRequestContext_deprecated:function(){return A.br},BlockRequestProvider:function(){return V.N4},BlockRequestProvider_deprecated:function(){return A.M0},BlockResourceContext:function(){return A.wH},BlockSchemaComponentPlugin:function(){return A.jF},BlockSchemaComponentProvider:function(){return A.UC},BlockSchemaToolbar:function(){return ge.G},BlockTemplateDetails:function(){return Se.bs},BlockTemplatePage:function(){return Se.EF},BlockTemplatesPane:function(){return Se.L},ButtonEditor:function(){return ee.C1I},CHART_TEMPLATE_COLLECTION_DISPLAY_NAME:function(){return Le.Mq},CHART_TEMPLATE_COLLECTION_NAME:function(){return Le.d4},CSSVariableProvider:function(){return B.O},CardItem:function(){return ee.Ssf},Cascader:function(){return ee.vTp},Checkbox:function(){return ee.XZJ},ChinaRegionProvider:function(){return M.m},ClearCollectionFieldContext:function(){return V.m9},Collection:function(){return V.FE},CollectionContext:function(){return V.WH},CollectionDeletedPlaceholder:function(){return V.zW},CollectionField:function(){return V.sb},CollectionFieldContext:function(){return V.v_},CollectionFieldInterface:function(){return V.SY},CollectionFieldInterfaceManager:function(){return V.Z},CollectionFieldInternalField:function(){return V.qL},CollectionFieldProvider:function(){return V.YT},CollectionManager:function(){return V.w4},CollectionManagerContext:function(){return V.IX},CollectionManagerProvider:function(){return V.xw},CollectionProvider:function(){return V.YQ},CollectionRecord:function(){return V.DI},CollectionRecordContext:function(){return V.vI},CollectionRecordProvider:function(){return V.E0},CollectionSelect:function(){return ee.Tt2},CollectionTemplate:function(){return V.Pl},CollectionTemplateManager:function(){return V.yM},ColorPicker:function(){return ee.zH8},ColorSelect:function(){return ee.Q5L},CompatibleSchemaInitializer:function(){return z.nl},CreateFilterActionInitializer:function(){return fe.nl},CreateFormBlockInitializer:function(){return he.KE},CreateResetActionInitializer:function(){return fe.cz},Cron:function(){return ee.Pok},CronSet:function(){return ee.Vm0},CurrentAppInfoContext:function(){return K.RQ},CurrentAppInfoProvider:function(){return K.Gq},CurrentUser:function(){return oe.Ih},CurrentUserContext:function(){return oe.Ec},CurrentUserProvider:function(){return oe.MF},CurrentUserSettingsMenuProvider:function(){return oe.mY},CustomRouterContextProvider:function(){return z.O6},CustomizeActionInitializer:function(){return fe.yE},DEBOUNCE_WAIT:function(){return ce.on},DEFAULT_DATA_SOURCE_KEY:function(){return V.Ip},DEFAULT_DATA_SOURCE_TITLE:function(){return V.UC},DEFAULT_FLUTTER_FILE_SOURCE_TYPES:function(){return ee.xE},DataBlockCollector:function(){return I.vY},DataBlockContext:function(){return V.hZ},DataBlockInitializer:function(){return fe.dn},DataBlockProvider:function(){return V.KY},DataBlockResourceContext:function(){return V.T1},DataBlockResourceProvider:function(){return V.eh},DataSource:function(){return V.o2},DataSourceApplicationProvider:function(){return V.i},DataSourceCollectionCascader:function(){return ee.xI_},DataSourceContext:function(){return V.NT},DataSourceManager:function(){return V.AK},DataSourceManagerContext:function(){return V.up},DataSourceManagerProvider:function(){return V.kv},DataSourceProvider:function(){return V.LX},DataSourceSelect:function(){return ee.Lip},DatePicker:function(){return ee.Mtg},DatePickerProvider:function(){return ee.iNu},DefaultValueProvider:function(){return ue.yT},DeleteEventActionInitializer:function(){return fe.BS},Designable:function(){return ee.zzt},DesignableSwitch:function(){return ee._bl},Details:function(){return ee.POi},DetailsBlockContext:function(){return A.LR},DetailsBlockProvider:function(){return A.nw},DetailsDesigner:function(){return ee.AOY},DisplayMode:function(){return ue.d1},DndContext:function(){return ee.LBT},DocumentTitleContext:function(){return U.PE},DocumentTitleProvider:function(){return U.C$},DragHandler:function(){return ee.IWB},DraggableContext:function(){return ee.LCt},DropdownVisibleContext:function(){return oe.yI},EditComponent:function(){return ee.FyH},EditDefaultValue:function(){return ee.Nir},EditDescription:function(){return ee.q8U},EditOperator:function(){return ee.HGA},EditPattern:function(){return ee.QTe},EditRequired:function(){return ee.JEX},EditSortField:function(){return ee.fAH},EditTheme:function(){return ee.UxO},EditTitle:function(){return ee.$w$},EditTitleField:function(){return ee.nBj},EditTooltip:function(){return ee.Oct},EditValidationRules:function(){return ee.zdw},Editable:function(){return ee.CXR},EllipsisWithTooltip:function(){return ee.BQs},Empty:function(){return ee.HYy},ErrorFallback:function(){return ee.Hj5},Expand:function(){return ee.M0b},ExtendCollectionsContext:function(){return V.Xc},ExtendCollectionsProvider:function(){return V.j5},FLUTTER_FILE_SOURCE_TYPE:function(){return ee.j2Y},FileSelector:function(){return ee.F5R},Filter:function(){return ee.wn$},FilterAction:function(){return ee.GzZ},FilterActionContext:function(){return ee.tJZ},FilterAssociatedFields:function(){return fe.EC},FilterBlockProvider:function(){return I.XA},FilterBlockType:function(){return I.vC},FilterFormBlockProvider:function(){return A.WI},FilterParentCollectionFields:function(){return fe.d6},FixedBlock:function(){return ee.AsW},FixedBlockDesignerItem:function(){return ee.cLM},FixedBlockWrapper:function(){return ee.m__},FlagContext:function(){return F.z_},FlagProvider:function(){return F.Cm},Form:function(){return ee.l09},FormActiveFieldsProvider:function(){return A.T2},FormBlockContext:function(){return A.TC},FormBlockInitializer:function(){return he.Jo},FormBlockProvider:function(){return A.$R},FormDialog:function(){return ee.D_t},FormField:function(){return ee.WiK},FormFieldContext:function(){return A.uW},FormFieldProvider:function(){return A.$1},FormItem:function(){return ee.xJW},FormItemSchemaToolbar:function(){return he.Oo},FormLinkageRules:function(){return ue.U$},FormProvider:function(){return ee.RVL},FormV2:function(){return ee.Bc8},G2Plot:function(){return ee.hG9},G2PlotInitializer:function(){return fe.oY},G2PlotRenderer:function(){return ee.DCh},GeneralSchemaDesigner:function(){return ue.aN},GeneralSchemaItems:function(){return de.Mj},GetMenuItemContext:function(){return J.ab},GetMenuItemsContext:function(){return J.fo},GlobalThemeProvider:function(){return W.YO},GoogleReCaptcha:function(){return ee.mPw},Grid:function(){return ee.rjZ},GridCard:function(){return ee.Cqo},HTMLEncode:function(){return ee.gsn},HeightMode:function(){return ue.j0},Icon:function(){return k.JO},IconPicker:function(){return ee.$18},InitializerWithSwitch:function(){return fe.sp},Input:function(){return ee.IIB},InputNumber:function(){return ee.RnZ},InputReadPretty:function(){return ee.mX2},InputRecordPicker:function(){return ee.zDC},InternalAdminLayout:function(){return ie.Me},Json:function(){return ee.Phs},List:function(){return ee.aVo},LocalDataSource:function(){return V.nC},LocationSearchContext:function(){return z.xJ},Markdown:function(){return ee.UGj},MarkdownReadPretty:function(){return ee.yq5},MaybeCollectionProvider:function(){return A.bH},Menu:function(){return ee.v2r},MenuConfigure:function(){return S.dr},MultipleLineEllipsisWithTooltip:function(){return ee.prg},NOCODE_IS_OFFLINE_MODE_KEY:function(){return G.vU},NanoIDInput:function(){return ee.HIW},NavigateIfNotSignIn:function(){return oe.vo},NocoBaseBuildInPlugin:function(){return H.q},OfflineModeContext:function(){return G.bN},OfflineModeProvider:function(){return G.UP},PMPlugin:function(){return le.Np},Page:function(){return ee.T3C},PageEventEmitterContext:function(){return ee.IKQ},PagePopups:function(){return ee.d97},PageTabs:function(){return ee.hGv},Pagination:function(){return ee.tlE},ParentCollectionFields:function(){return fe.cd},Password:function(){return ee.rop},Percent:function(){return ee.gGi},PermissionContext:function(){return S.Bk},PermissionProvider:function(){return S.Wx},PinnedListPlugin:function(){return te.r1},PinnedPluginList:function(){return te.B$},PinnedPluginListContext:function(){return te.uv},PinnedPluginListProvider:function(){return te.tc},Plugin:function(){return z.Sy},PluginManager:function(){return le.Q$},PluginManagerLink:function(){return le.s0},PluginSettingsManager:function(){return z.nS},PopupSettingsProvider:function(){return ee.DBW},Preview:function(){return ee.MBS},QuickEdit:function(){return ee.pGO},REGEX_OF_VARIABLE:function(){return ce.ts},REGEX_OF_VARIABLE_IN_EXPRESSION:function(){return ce.Bj},Radio:function(){return ee.Y8K},RadioWithTooltip:function(){return he.W5},ReadPretty:function(){return ee.iVT},ReadPrettyRecordPicker:function(){return ee.ODP},RecordAssociationBlockInitializer:function(){return fe.$i},RecordAssociationDetailsBlockInitializer:function(){return fe.Mr},RecordAssociationFormBlockInitializer:function(){return fe.EK},RecordAssociationGridCardBlockInitializer:function(){return fe.zb},RecordAssociationListBlockInitializer:function(){return fe.Ok},RecordContext_deprecated:function(){return ne.rY},RecordFormBlockInitializer:function(){return he.se},RecordIndexContext:function(){return ne.Pc},RecordIndexProvider:function(){return ne.li},RecordLink:function(){return A.hD},RecordPicker:function(){return ee.lbb},RecordPickerContext:function(){return ee.b7w},RecordPickerProvider:function(){return ee.sUk},RecordProvider:function(){return ne.HV},RecordReadPrettyAssociationFormBlockInitializer:function(){return fe.CC},RecordSimpleProvider:function(){return ne.Qh},RefreshDataBlockRequest:function(){return ee.x1j},RemoteDocumentTitlePlugin:function(){return U.uN},RemoteDocumentTitleProvider:function(){return U.yq},RemoteSchemaComponent:function(){return ee.m1v},RemoteSchemaTemplateManagerPlugin:function(){return Se.Wc},RemoteSchemaTemplateManagerProvider:function(){return Se.Jv},RemoteSelect:function(){return ee.glM},RemoveButton:function(){return ee.xZD},RenderChildrenWithAssociationFilter:function(){return A.gY},RequestSettings:function(){return ee.MkN},Resizable:function(){return Pe.ez},RichText:function(){return ee.Hof},RoleConfigure:function(){return S.XU},RoleResourceCollectionContext:function(){return S.O9},RoleTable:function(){return S.No},RolesResourcesActions:function(){return S.kF},RouteSchemaComponent:function(){return ie.GX},RouteSchemaComponentSkeleton:function(){return ie.LH},RouterContextCleaner:function(){return z.OW},RouterManager:function(){return z.k2},SNIPPET_PREFIX:function(){return z.MC},SanitizedCollectionProvider:function(){return V.Pd},SaveMode:function(){return ee.JV7},SchemaComponent:function(){return ee.n6},SchemaComponentContext:function(){return ee.DDd},SchemaComponentOptions:function(){return ee.G0E},SchemaComponentPlugin:function(){return ee.a$w},SchemaComponentProvider:function(){return ee.TzZ},SchemaInitializer:function(){return z.Ms},SchemaInitializerActionModal:function(){return z.HS},SchemaInitializerActionModalInternal:function(){return z.IQ},SchemaInitializerChild:function(){return z.yH},SchemaInitializerChildren:function(){return z.E0},SchemaInitializerContext:function(){return z.V4},SchemaInitializerDivider:function(){return z.qU},SchemaInitializerItem:function(){return z.lV},SchemaInitializerItemContext:function(){return z.Mm},SchemaInitializerItemGroup:function(){return z.iP},SchemaInitializerItemGroupInternal:function(){return z.IY},SchemaInitializerItemInternal:function(){return z.VG},SchemaInitializerItems:function(){return z.LU},SchemaInitializerManager:function(){return z.eN},SchemaInitializerMenu:function(){return z.tu},SchemaInitializerMenuProvider:function(){return z.kw},SchemaInitializerOpenModeSchemaItems:function(){return de.EU},SchemaInitializerPlugin:function(){return fe.dH},SchemaInitializerSelect:function(){return z.iW},SchemaInitializerSelectInternal:function(){return z.ud},SchemaInitializerSubMenu:function(){return z.eU},SchemaInitializerSubMenuInternal:function(){return z.xv},SchemaInitializerSwitch:function(){return z._n},SchemaInitializerSwitchInternal:function(){return z.wH},SchemaSettingItemContext:function(){return z.A4},SchemaSettingOpenModeSchemaItems:function(){return de.HA},SchemaSettings:function(){return z.F5},SchemaSettingsActionLinkItem:function(){return Me.s},SchemaSettingsActionModalItem:function(){return ue.Qh},SchemaSettingsBlockLayoutItem:function(){return ue.WB},SchemaSettingsBlockTitleItem:function(){return ue._E},SchemaSettingsCascaderItem:function(){return ue.ns},SchemaSettingsChild:function(){return z.kY},SchemaSettingsChildren:function(){return z.dk},SchemaSettingsConnectDataBlocks:function(){return ue.FE},SchemaSettingsDataScope:function(){return ue.HF},SchemaSettingsDataTemplates:function(){return ue.ON},SchemaSettingsDateFormat:function(){return ue.yu},SchemaSettingsDefaultSortingRules:function(){return ue.y5},SchemaSettingsDefaultValue:function(){return ue.Nn},SchemaSettingsDisplayModeItem:function(){return ue.Vx},SchemaSettingsDivider:function(){return ue.Z5},SchemaSettingsDropdown:function(){return ue.cM},SchemaSettingsEnableChildCollections:function(){return ue.L3},SchemaSettingsFormItemTemplate:function(){return ue.vC},SchemaSettingsFormPower:function(){return ue.UD},SchemaSettingsItem:function(){return ue.r2},SchemaSettingsItemGroup:function(){return ue.bw},SchemaSettingsLinkageRules:function(){return ue.lc},SchemaSettingsManager:function(){return z.XD},SchemaSettingsMobileAdaptation:function(){return ue._z},SchemaSettingsModalItem:function(){return ue.B0},SchemaSettingsNumberFormat:function(){return ue.wH},SchemaSettingsPlugin:function(){return ue.zM},SchemaSettingsPopupItem:function(){return ue.D3},SchemaSettingsProvider:function(){return ue.Rh},SchemaSettingsRemove:function(){return ue.qx},SchemaSettingsSelectItem:function(){return ue.Qf},SchemaSettingsSortingRule:function(){return ue.wL},SchemaSettingsSubMenu:function(){return ue.m$},SchemaSettingsSwitchItem:function(){return ue.hj},SchemaSettingsTablePower:function(){return ue.d3},SchemaSettingsTemplate:function(){return ue.Gk},SchemaSettingsThemeEditItem:function(){return ue.sM},SchemaSettingsWrapper:function(){return z.GC},SchemaTemplateManagerContext:function(){return Se.Kb},SchemaTemplateManagerProvider:function(){return Se.ns},SchemaToolbar:function(){return ue.Mf},SchemaToolbarContext:function(){return z.J1},SchemaToolbarProvider:function(){return z.V$},ScopeSelect:function(){return S.X$},ScopeThemeProvider:function(){return X._w},SearchCollections:function(){return fe.zH},SecondConFirm:function(){return ee.y00},Select:function(){return ee.PhF},SelectActionInitializer:function(){return fe.w_},SelectAllInitializerWithSwitch:function(){return fe.E$},SelectWithTitle:function(){return N.T},SetDataLoadingMode:function(){return Le.jI},SetTheCountOfColumnsDisplayedInARow:function(){return Le.XB},SettingCenterPermissionProvider:function(){return S.P2},SettingCenterProvider:function(){return S.S3},SettingsCenterConfigure:function(){return S.H3},SettingsCenterContext:function(){return le.EV},SettingsCenterDropdown:function(){return le.zK},SettingsMenu:function(){return oe.Tx},SkipValidation:function(){return ee.cof},Sortable:function(){return ee.bts},SortableContext:function(){return ee.Fop},SortableItem:function(){return ee.TRI},SortableProvider:function(){return ee.ORg},Space:function(){return ee.TaI},StablePopover:function(){return ee.qHe},StrategyActions:function(){return S.R6},SubmitActionInitializer:function(){return fe.ss},SystemSettingsContext:function(){return G.YO},SystemSettingsPane:function(){return G.a$},SystemSettingsPlugin:function(){return G.j8},SystemSettingsProvider:function(){return G.C6},Table:function(){return ee.iA_},TableActionColumnInitializer:function(){return fe.VU},TableBlockContext:function(){return A.Hz},TableBlockDesigner:function(){return ee.gvM},TableBlockInitializer:function(){return Pe.kD},TableBlockProvider:function(){return A._0},TableColumnSchemaToolbar:function(){return Pe.u6},TableField:function(){return ee.SnY},TableFieldContext:function(){return A.Q6},TableFieldProvider:function(){return A.CB},TableFieldResource:function(){return A.Qy},TableSelectorContext:function(){return A.Yu},TableSelectorDesigner:function(){return ee.ASv},TableSelectorInitializer:function(){return Ae.S},TableSelectorParamsProvider:function(){return A.Vs},TableSelectorProvider:function(){return A.rL},TableV2:function(){return ee.bwk},Tabs:function(){return ee.mQc},TabsContextProvider:function(){return ee.c__},Templates:function(){return ee.QZ3},TestDesigner:function(){return ee.L39},ThemeMode:function(){return ue.hY},TimePicker:function(){return ee.jII},TreeSelect:function(){return ee.mPs},UnixTimestamp:function(){return ee.tgM},Upload:function(){return ee.gqx},Variable:function(){return ee._wD},VariableInput:function(){return ue.qj},VariablePopupRecordProvider:function(){return we.Rm},VariableScopeProvider:function(){return ee.rjl},VariablesContext:function(){return ce.cB},VariablesProvider:function(){return ce.Uj},WithoutFormFieldResource:function(){return A.$Y},WithoutTableFieldResource:function(){return A.s},WorkflowConfig:function(){return ee.Fjw},XPopup:function(){return ee.wKF},XSwiper:function(){return ee.Fy_},XWORK_THEME_LIST:function(){return W.Zj},XWorkThemeType:function(){return W.PK},actionSettings:function(){return ee.SLL},actionSettingsItems:function(){return ee.sBv},allowAddNew:function(){return ee.iTm},appendQueryStringToUrl:function(){return A.HQ},baseModalConfig:function(){return A.h2},beforeUploadHandler:function(){return ee.EBS},cache:function(){return T.cache},canMakeAssociationBlock:function(){return fe.Tc},checkAppAccessible:function(){return be.R7},checkThemeType:function(){return ee.I1X},completeURL:function(){return A.jR},compose:function(){return z.qC},conditionAnalyses:function(){return ee.jCg},convertTableSchemaToListSchema:function(){return ue.Zr},createCreateFormBlockUISchema:function(){return he.lJ},createDesignable:function(){return ee.Pls},createDetailsBlockSchema:function(){return fe.e6},createFormActionInitializers:function(){return he.nr},createFormActionInitializers_deprecated:function(){return he.$G},createFormBlockSchema:function(){return fe.NH},createFormBlockSettings:function(){return he.K9},createReadPrettyFormBlockSchema:function(){return fe.Uc},createRouterManager:function(){return z.w9},createStyles:function(){return ae.k},createTableBlockSchema:function(){return fe.BU},createTableBlockUISchema:function(){return Pe.OO},css:function(){return T.css},customFormItemInitializers:function(){return fe.Ic},customFormItemInitializers_deprecated:function(){return fe.Jn},cx:function(){return T.cx},defaultAppComponents:function(){return z.FH},defaultFieldNames:function(){return ee.Oxq},defaultInputStyle:function(){return ue.ZL},defaultTheme:function(){return W.uH},editFormBlockSettings:function(){return he.rB},fetchTemplateData:function(){return ee.WLi},fieldSettingsFormItem:function(){return he.dV},filterByACL:function(){return be.mG},filterFormItemSettings:function(){return ee.$9M},findByUid:function(){return ee.nCn},findFilterOperators:function(){return ee.mn3},findFilterTargets:function(){return A.SK},findFirstMenuItem:function(){return be.bp},findFormBlock:function(){return A.Fi},findGridSchema:function(){return ue.Dz},findKeys:function(){return ee.DDN},findKeysByUid:function(){return ee.iNG},findMenuItem:function(){return ee.tD8},findParentFieldSchema:function(){return ue.PO},findSchemaByUid:function(){return be.Ky},findSubMenu:function(){return ee.yni},flattenAppGroupList:function(){return be.sm},flush:function(){return T.flush},formActionInitializers:function(){return he.vR},formDetailsSettings:function(){return ee.pg9},formItemInitializers:function(){return he.ex},formItemInitializers_deprecated:function(){return he.eh},formItemSettings:function(){return ee.Ofb},formSettings:function(){return ee.ibf},formV1Settings:function(){return ee.WyG},genStyleHook:function(){return ee.l6$},getAccessibleAppGroupList:function(){return be.cZ},getAppInfoByName:function(){return be.lW},getAssociationPath:function(){return A.dP},getCollectionTitle:function(){return ge.A},getCurrentOptions:function(){return ee.WGR},getDataSourceHeaders:function(){return V.GX},getDatePickerLabels:function(){return ee.C$H},getFieldDefaultValue:function(){return ue.os},getFormValues:function(){return A.X7},getIdsWithChildren:function(){return A.Ns},getInnermostKeyAndValue:function(){return ee.odx},getLabelFormatValue:function(){return ee.cNQ},getLabelWithTooltip:function(){return ue.rB},getPageSchema:function(){return ee.tjY},getRegisteredStyles:function(){return T.getRegisteredStyles},getRenderContent:function(){return ee.I9l},getShouldChange:function(){return ue.Vc},getSkipValidatePathRegex:function(){return A.Xi},getSupportFieldsByAssociation:function(){return I.x5},getSupportFieldsByForeignKey:function(){return I.zv},getTargetField:function(){return ee.RqK},getTopSubMenuTitle:function(){return ee.w7j},getVariablesFromExpression:function(){return ce.fN},gridRowColWrap:function(){return fe.BM},handleScroll:function(){return ee.rdB},hasIcon:function(){return k.OL},hydrate:function(){return T.hydrate},i18n:function(){return C.a},icons:function(){return k.ci},iconsFilled:function(){return k.Qx},injectGlobal:function(){return T.injectGlobal},interfacesOfUnsupportedDefaultValue:function(){return ue.TU},isAssocField:function(){return I.$f},isAuditsJobsCollection:function(){return I.ZN},isFileCollection:function(){return ee.ZZb},isInFilterFormBlock:function(){return I.Op},isInitializersSame:function(){return z.h6},isPatternDisabled:function(){return ue.VZ},isSameCollection:function(){return I.yr},isShowFilePicker:function(){return ee.elO},isSystemField:function(){return ue.Mq},isTitleField:function(){return V.Yj},isVariable:function(){return ce.cG},itemsMerge:function(){return fe.Z_},keyframes:function(){return T.keyframes},locale:function(){return Y.Z},merge:function(){return T.merge},mergeFilter:function(){return I.EO},mobileModalMessageCss:function(){return A.PJ},mockAPIClient:function(){return re.G},navigateWithinSelf:function(){return A.nl},normalizeContainer:function(){return z.pn},pageSettings:function(){return ee._Ko},pageTabSettings:function(){return ee.Mev},parseVariables:function(){return ee.e7N},parseVariablesAndChangeParamsToQueryString:function(){return A._f},readPrettyFormSettings:function(){return ee.i2K},recordBlockInitializers:function(){return fe.vV},recordBlockInitializers_deprecated:function(){return fe.Sq},recursiveParent:function(){return A.zA},reduceValueSize:function(){return A.ID},refreshBlockByIds:function(){return A.NB},registerIcon:function(){return k.q5},registerIcons:function(){return k.fm},removeNullCondition:function(){return ee.WmO},renderEngineReference:function(){return he.$W},renderShowFields:function(){return ue.sK},replaceVariableValue:function(){return A.UY},requestParentRecordData:function(){return V.H0},setDataLoadingModeSettingsItem:function(){return Le.wq},sheet:function(){return T.sheet},splitWrapSchema:function(){return ee.oBi},storePopupContext:function(){return ee.hKP},subTableActionInitializers:function(){return fe.U2},subTableActionInitializers_deprecated:function(){return fe.o_},systemKeys:function(){return ue.ob},tabPaneInitializers:function(){return fe.$T},tabPaneInitializersForBulkEditFormBlock:function(){return fe.zg},tabPaneInitializersForRecordBlock:function(){return fe.d4},tabPaneInitializers_deprecated:function(){return fe.xc},tableActionColumnInitializers:function(){return Pe.Rp},tableActionColumnInitializers_deprecated:function(){return Pe.Xe},tableActionInitializers:function(){return Pe.H1},tableActionInitializers_deprecated:function(){return Pe.EG},tableBlockSettings:function(){return Pe.Oe},tableColumnInitializers:function(){return Pe.Ug},tableColumnInitializers_deprecated:function(){return Pe.T$},tableColumnSettings:function(){return Pe.FY},tableSelectorBlockSettings:function(){return Ae.v},targetFieldToVariableString:function(){return ee.qfB},transformToFilter:function(){return I.jE},transformVariableValue:function(){return ce.J8},tval:function(){return C.v},updateFilterTargets:function(){return A.iJ},updateFormActionInitializers:function(){return he.SW},updateFormActionInitializers_deprecated:function(){return he.Cw},useA:function(){return ee.igR},useACLActionParamsContext:function(){return S.Hq},useACLContext:function(){return S.TR},useACLFieldWhitelist:function(){return S.Aj},useACLRoleContext:function(){return S.ov},useACLRolesCheck:function(){return S.xd},useAPIClient:function(){return Z.LY},useActionBarContext:function(){return ee.DU1},useActionContext:function(){return ee.XCj},useAdminSchemaUid:function(){return J.Wd},useApp:function(){return z.qD},useAppLangContext:function(){return $.GW},useAppMenu:function(){return be.oR},useAppSpin:function(){return z.rM},useAriaAttributeOfMenuItem:function(){return z.ne},useAssociatedFields:function(){return I.Fp},useAssociatedFormItemInitializerFields:function(){return fe.hg},useAssociatedTableColumnInitializerFields:function(){return fe.V0},useAssociationCreateActionProps:function(){return A.Yo},useAssociationFilterBlockProps:function(){return A._S},useAssociationFilterProps:function(){return A.rD},useAssociationName:function(){return V.Xo},useAssociationNames:function(){return A.P_},useAsyncData:function(){return w.w3},useAttach:function(){return ee.lIL},useBackButton:function(){return ee.KxP},useBaseVariable:function(){return ue.zI},useBlockAssociationContext:function(){return A.DD},useBlockCollection:function(){return ue.J4},useBlockContext:function(){return A.VG},useBlockHeight:function(){return ee.hi9},useBlockHeightProps:function(){return ee.gpC},useBlockRequestContext:function(){return A.BU},useBlockResource:function(){return A.lT},useBlockWidth:function(){return ee.jpu},useBuiltinVariables:function(){return ce.L7},useBulkDestroyActionProps:function(){return A.ns},useChangeAppRouterRedirect:function(){return J.Ps},useCloseAction:function(){return ee.p27},useCollectMenuItem:function(){return J.d5},useCollectMenuItems:function(){return J.nu},useCollectValuesToSubmit:function(){return A.Xe},useCollection:function(){return V.Kx},useCollectionDataSourceItems:function(){return fe.HD},useCollectionField:function(){return V.Hy},useCollectionFields:function(){return V.ge},useCollectionManager:function(){return V.d9},useCollectionParentRecord:function(){return V.RA},useCollectionParentRecordData:function(){return V.Kv},useCollectionRecord:function(){return V.oV},useCollectionRecordData:function(){return V.nE},useCollectionState:function(){return ue.IO},useCollections:function(){return V.bX},useColumnSchema:function(){return ee.z9d},useCompatOldVariables:function(){return ue.b1},useCompile:function(){return ee.eJW},useComponent:function(){return ee.Cor},useContextVariable:function(){return ce.Ym},useControlShowBlock:function(){return A.Zx},useCreateActionProps:function(){return A.cD},useCreateAssociationDetailsBlock:function(){return fe.Dc},useCreateAssociationDetailsWithoutPagination:function(){return fe.yZ},useCreateAssociationFormBlock:function(){return fe.Qr},useCreateAssociationGridCardBlock:function(){return fe.yG},useCreateAssociationListBlock:function(){return fe.R_},useCreateAssociationTableBlock:function(){return fe.Rm},useCreateEditFormBlock:function(){return he.$R},useCreateFormBlock:function(){return he.kQ},useCreateTableBlock:function(){return Pe.Ez},useCurrentAppInfo:function(){return K._S},useCurrentDocumentTitle:function(){return U.AL},useCurrentFormContext:function(){return ue.bU},useCurrentFormVariable:function(){return ue.DA},useCurrentParentRecordVariable:function(){return ue.SU},useCurrentRecordVariable:function(){return ue.ad},useCurrentRoleVariable:function(){return ue.KR},useCurrentRoles:function(){return oe.ih},useCurrentSchema:function(){return fe.pZ},useCurrentUserContext:function(){return oe.OP},useCurrentUserSettingsMenu:function(){return oe.t$},useCurrentUserVariable:function(){return ue.AO},useCustomizeBulkUpdateActionProps:function(){return A.UQ},useCustomizeRequestActionProps:function(){return A.xx},useCustomizeUpdateActionProps:function(){return A.X0},useDataBlock:function(){return V.eS},useDataBlockHeight:function(){return ee.aZq},useDataBlockParentRecord:function(){return A.M_},useDataBlockProps:function(){return V.zh},useDataBlockRequest:function(){return V.hS},useDataBlockResource:function(){return V.wb},useDataLoadingMode:function(){return Le.tU},useDataSource:function(){return V.wl},useDataSourceHeaders:function(){return V.on},useDataSourceKey:function(){return V.FC},useDataSourceManager:function(){return V.fp},useDataTemplates:function(){return ee.dDF},useDatePickerContext:function(){return ee.P1D},useDateVariable:function(){return ue.ds},useDatetimeVariable:function(){return ue.Ld},useDesignable:function(){return ee.ngQ},useDesigner:function(){return ee.ett},useDestroyActionProps:function(){return A.z2},useDetailPrintActionProps:function(){return A.wr},useDetailsBlockContext:function(){return A.nT},useDetailsBlockProps:function(){return A.BX},useDetailsDecoratorProps:function(){return Le.dS},useDetailsPaginationProps:function(){return A.bF},useDetailsParentRecord:function(){return Le.jM},useDetailsProps:function(){return Le.os},useDetailsWithPaginationBlockParams:function(){return Le.ln},useDetailsWithPaginationDecoratorProps:function(){return Le.ec},useDetailsWithPaginationProps:function(){return Le.tm},useDisassociateActionProps:function(){return A.ii},useDocumentTitle:function(){return U.jr},useDownloadXlsxTemplateAction:function(){return ee.ki9},useDynamicComponentProps:function(){return z.M0},useEnsureOperatorsValid:function(){return ee.Zd$},useExtendCollections:function(){return V.P5},useFieldComponentName:function(){return N.W},useFieldComponentOptions:function(){return ee.cLh},useFieldMode:function(){return ee.baz},useFieldModeOptions:function(){return ee.fde},useFieldNames:function(){return ee.Xdt},useFieldProps:function(){return ee.Cld},useFieldTitle:function(){return ee.vH8},useFields:function(){return ee.jfA},useFilterAPI:function(){return I.hi},useFilterActionProps:function(){return ee.PLH},useFilterBlock:function(){return I.kO},useFilterBlockActionProps:function(){return A.Oy},useFilterByTk:function(){return A.C},useFilterFieldOptions:function(){return ee.V8t},useFilterFieldProps:function(){return ee.tMk},useFilterOptions:function(){return ee.xQm},useFindComponent:function(){return ee.sRe},useFixedBlock:function(){return ee.frb},useFixedSchema:function(){return ee.$N2},useFlag:function(){return F.P5},useFormActiveFields:function(){return A.zj},useFormBlockContext:function(){return A.bz},useFormBlockProps:function(){return A._$},useFormBlockType:function(){return A.th},useFormFieldContext:function(){return A.e$},useFormFieldProps:function(){return A.GK},useFormItemInitializerFields:function(){return fe.I_},useFormVariable:function(){return ue.qK},useGetAriaLabelOfAction:function(){return ee.HS$},useGetAriaLabelOfDesigner:function(){return ue.zf},useGetAriaLabelOfDrawer:function(){return ee.vBu},useGetAriaLabelOfModal:function(){return ee.QYZ},useGetAriaLabelOfPopover:function(){return ee.t9d},useGetFilterFieldOptions:function(){return ee.Kgy},useGetFilterOptions:function(){return ee.aJ2},useGetSchemaInitializerMenuItems:function(){return z.bw},useGlobalTheme:function(){return W.mg},useGridContext:function(){return ee.n14},useGridRowContext:function(){return ee.DiB},useGroupAndAppSortConfig:function(){return be.TH},useImportStartAction:function(){return ee.w$u},useInheritsTableColumnInitializerFields:function(){return fe.yi},useIsAddNewForm:function(){return ee.l1O},useIsAllowToSetDefaultValue:function(){return ue.SF},useIsAssociationField:function(){return ee.w5o},useIsDetailBlock:function(){return A.WG},useIsFieldOnlyModify:function(){return ee.Kup},useIsFieldReadOnly:function(){return ee.kJM},useIsFieldReadPretty:function(){return ee.p3Q},useIsFileField:function(){return ee.G5e},useIsFormReadPretty:function(){return ee.xj2},useIsGuest:function(){return J.Dv},useIsNotExactAppPage:function(){return J.Pm},useIsSelectFieldMode:function(){return ee.rxY},useLabelUiSchema:function(){return ee.Ils},useLinkActionProps:function(){return A.ee},useLinkageAction:function(){return ee.zCB},useLocalVariables:function(){return ce.Kp},useLocationNoUpdate:function(){return z.fj},useLocationSearch:function(){return z.HU},useMenuItem:function(){return J.iX},useMenuSearch:function(){return fe.jA},useNavigateNoUpdate:function(){return z.WO},useNavigateToPage:function(){return J.H3},useOfflineMode:function(){return G.t_},useOptionalFieldList:function(){return A.Lh},useParamsFromRecord:function(){return A.MM},useParentCollection:function(){return V.lb},useParentRecordCommon:function(){return Be._},useParentRecordVariable:function(){return ue.j_},useParseDataScopeFilter:function(){return ue._Y},useParseURLAndParams:function(){return A.VC},useParsedFilter:function(){return A.vs},usePickActionProps:function(){return A.St},usePlugin:function(){return z.j7},useProps:function(){return ee.wNf},useRecord:function(){return ne.a},useRecordCollectionDataSourceItems:function(){return fe.bQ},useRecordIndex:function(){return ne.pW},useRecordIsOwn:function(){return ne.Px},useRecordPkValue:function(){return S.Jn},useRecordVariable:function(){return ue.td},useRefreshActionProps:function(){return A.Xk},useRemoveActionProps:function(){return A.VR},useRemoveGridFormItem:function(){return fe.EY},useRequest:function(){return Z.QT},useResetBlockActionProps:function(){return A.NP},useResource:function(){return Z.Wf},useRoleRecheck:function(){return S.fG},useRoleVariable:function(){return ue.bs},useRolesResourcesScopesSelectedRowKeys:function(){return S.cm},useRouter:function(){return z.tv},useSchemaComponentContext:function(){return ee.Dmu},useSchemaInitializer:function(){return z.q_},useSchemaInitializerItem:function(){return z.UR},useSchemaInitializerMenuItems:function(){return z.hL},useSchemaInitializerRender:function(){return z.IU},useSchemaInitializerStyles:function(){return z._$},useSchemaInitializerSubMenuContext:function(){return z.vH},useSchemaOptionsContext:function(){return ee.Bsl},useSchemaSettings:function(){return ue.DD},useSchemaSettingsItem:function(){return z.J$},useSchemaSettingsRender:function(){return z.mQ},useSchemaTemplate:function(){return Se.zy},useSchemaTemplateManager:function(){return Se.$t},useSchemaToolbar:function(){return z.Po},useSchemaToolbarRender:function(){return z.du},useScopeTheme:function(){return X.uH},useSourceIdFromParentRecord:function(){return A.m},useSourceIdFromRecord:function(){return A.e0},useStyles:function(){return ee.yKv},useSubTableDownloadAction:function(){return ee.zYX},useSupportedBlocks:function(){return I.Um},useSyncFromForm:function(){return ue.F1},useSystemSettings:function(){return G.HX},useTableBlockContext:function(){return A.Si},useTableBlockDecoratorProps:function(){return Pe.cL},useTableBlockParams:function(){return Pe.lo},useTableBlockProps:function(){return Pe.GK},useTableColumnInitializerFields:function(){return fe.bJ},useTableFieldContext:function(){return A.Wx},useTableFieldProps:function(){return A.oA},useTableSelectorContext:function(){return A.CL},useTableSelectorProps:function(){return A.RP},useTableSize:function(){return ee.fMB},useTabsContext:function(){return ee.gCg},useTitleFieldOptions:function(){return ee.eT6},useToken:function(){return ae.d},useURLAndHTMLSchema:function(){return Te.R},useUpdateActionProps:function(){return A.HD},useUploadValidator:function(){return ee.zr3},useUserVariable:function(){return ue.KD},useValidateSchema:function(){return ee.q4O},useVariableOptions:function(){return ue.Y5},useVariableScope:function(){return ee.ymE},useVariables:function(){return ce.OQ},useViewport:function(){return J.Sj},validateUpload:function(){return ee.OcP},withDynamicSchemaProps:function(){return xe.t},withInitializer:function(){return z.W_},withScopeThemeProvider:function(){return X.aW}});var v=e(66607),m=e.n(v),x=e(79212),u=e.n(x),p=e(37412),d=e.n(p),h=e(59542),t=e.n(h),c=e(96036),i=e.n(c),a=e(96671),f=e.n(a),l=e(70178),n=e.n(l),r=e(72540),o=e.n(r),g=e(75663),y=e(75782),D=e(36393),P=e(51231),E=e(79398),O=e(81556),T=e(97133),S=e(47646),$=e(75599),Z=e(72029),K=e(80347),z=e(74614),w=e(26124),A=e(79531),M=e(84257),b=e(6145),R={};for(var L in b)["default","locale","withDynamicSchemaProps","SchemaSettingsActionLinkItem","useURLAndHTMLSchema","VariablePopupRecordProvider","cache","css","cx","flush","getRegisteredStyles","hydrate","injectGlobal","keyframes","merge","sheet","ACLActionParamsContext","ACLActionProvider","ACLCollectionFieldProvider","ACLCollectionProvider","ACLContext","ACLMenuItemProvider","ACLPane","ACLPlugin","ACLProvider","ACLRolesCheckProvider","MenuConfigure","PermissionContext","PermissionProvider","RoleConfigure","RoleResourceCollectionContext","RoleTable","RolesResourcesActions","ScopeSelect","SettingCenterPermissionProvider","SettingCenterProvider","SettingsCenterConfigure","StrategyActions","useACLActionParamsContext","useACLContext","useACLFieldWhitelist","useACLRoleContext","useACLRolesCheck","useRecordPkValue","useRoleRecheck","useRolesResourcesScopesSelectedRowKeys","AntdConfigPlugin","AntdConfigProvider","AppLangContext","useAppLangContext","APIClient","APIClientContext","APIClientProvider","useAPIClient","useRequest","useResource","CurrentAppInfoContext","CurrentAppInfoProvider","useCurrentAppInfo","ADMIN_SETTINGS_KEY","ADMIN_SETTINGS_PATH","ADMIN_SETTINGS_TAB_TITLE","AppComponent","Application","ApplicationContext","BlankComponent","CompatibleSchemaInitializer","CustomRouterContextProvider","LocationSearchContext","Plugin","PluginSettingsManager","RouterContextCleaner","RouterManager","SNIPPET_PREFIX","SchemaInitializer","SchemaInitializerActionModal","SchemaInitializerActionModalInternal","SchemaInitializerChild","SchemaInitializerChildren","SchemaInitializerContext","SchemaInitializerDivider","SchemaInitializerItem","SchemaInitializerItemContext","SchemaInitializerItemGroup","SchemaInitializerItemGroupInternal","SchemaInitializerItemInternal","SchemaInitializerItems","SchemaInitializerManager","SchemaInitializerMenu","SchemaInitializerMenuProvider","SchemaInitializerSelect","SchemaInitializerSelectInternal","SchemaInitializerSubMenu","SchemaInitializerSubMenuInternal","SchemaInitializerSwitch","SchemaInitializerSwitchInternal","SchemaSettingItemContext","SchemaSettings","SchemaSettingsChild","SchemaSettingsChildren","SchemaSettingsManager","SchemaSettingsWrapper","SchemaToolbarContext","SchemaToolbarProvider","compose","createRouterManager","defaultAppComponents","isInitializersSame","normalizeContainer","useApp","useAppSpin","useAriaAttributeOfMenuItem","useDynamicComponentProps","useGetSchemaInitializerMenuItems","useLocationNoUpdate","useLocationSearch","useNavigateNoUpdate","usePlugin","useRouter","useSchemaInitializer","useSchemaInitializerItem","useSchemaInitializerMenuItems","useSchemaInitializerRender","useSchemaInitializerStyles","useSchemaInitializerSubMenuContext","useSchemaSettingsItem","useSchemaSettingsRender","useSchemaToolbar","useSchemaToolbarRender","withInitializer","AsyncDataContext","AsyncDataProvider","useAsyncData","BlockAssociationContext","BlockContext","BlockProvider","BlockRequestContext_deprecated","BlockRequestProvider_deprecated","BlockResourceContext","BlockSchemaComponentPlugin","BlockSchemaComponentProvider","DetailsBlockContext","DetailsBlockProvider","FilterFormBlockProvider","FormActiveFieldsProvider","FormBlockContext","FormBlockProvider","FormFieldContext","FormFieldProvider","MaybeCollectionProvider","RecordLink","RenderChildrenWithAssociationFilter","TableBlockContext","TableBlockProvider","TableFieldContext","TableFieldProvider","TableFieldResource","TableSelectorContext","TableSelectorParamsProvider","TableSelectorProvider","WithoutFormFieldResource","WithoutTableFieldResource","appendQueryStringToUrl","baseModalConfig","completeURL","findFilterTargets","findFormBlock","getAssociationPath","getFormValues","getIdsWithChildren","getSkipValidatePathRegex","mobileModalMessageCss","navigateWithinSelf","parseVariablesAndChangeParamsToQueryString","recursiveParent","reduceValueSize","refreshBlockByIds","replaceVariableValue","updateFilterTargets","useAssociationCreateActionProps","useAssociationFilterBlockProps","useAssociationFilterProps","useAssociationNames","useBlockAssociationContext","useBlockContext","useBlockRequestContext","useBlockResource","useBulkDestroyActionProps","useCollectValuesToSubmit","useControlShowBlock","useCreateActionProps","useCustomizeBulkUpdateActionProps","useCustomizeRequestActionProps","useCustomizeUpdateActionProps","useDataBlockParentRecord","useDestroyActionProps","useDetailPrintActionProps","useDetailsBlockContext","useDetailsBlockProps","useDetailsPaginationProps","useDisassociateActionProps","useFilterBlockActionProps","useFilterByTk","useFormActiveFields","useFormBlockContext","useFormBlockProps","useFormBlockType","useFormFieldContext","useFormFieldProps","useIsDetailBlock","useLinkActionProps","useOptionalFieldList","useParamsFromRecord","useParseURLAndParams","useParsedFilter","usePickActionProps","useRefreshActionProps","useRemoveActionProps","useResetBlockActionProps","useSourceIdFromParentRecord","useSourceIdFromRecord","useTableBlockContext","useTableFieldContext","useTableFieldProps","useTableSelectorContext","useTableSelectorProps","useUpdateActionProps","ChinaRegionProvider"].indexOf(L)<0&&(R[L]=function(Ue){return b[Ue]}.bind(0,L));e.d(j,R);var N=e(7737),B=e(20085),V=e(72594),U=e(14230),I=e(18386),F=e(53285),W=e(58809),X=e(42371),J=e(17958),C=e(58384),k=e(61933),Y=e(35310),H=e(6504),te=e(52817),le=e(17627),ne=e(36586),ie=e(52242),ee=e(98427),fe=e(46167),de=e(90810),ue=e(81560),Se=e(95354),ae=e(39863),G=e(14518),re=e(16779),oe=e(8985),ce=e(25813),be=e(8217),xe=e(90635),ge=e(16966),he=e(30607),Pe=e(77681),Ae=e(75145),Be=e(92700),Le=e(16097),Me=e(29245),Te=e(83954),we=e(73691)},35310:function(se,j,e){"use strict";e.d(j,{y:function(){return v}});var v={"ar-EG":"ar","az-AZ":"az","bg-BG":"bg","bn-BD":"bn-bd","by-BY":"en","ca-ES":"ca","cs-CZ":"cs","da-DK":"da","de-DE":"de","el-GR":"el","en-GB":"en-gb","en-US":"en","es-ES":"es","et-EE":"et","fa-IR":"fa","fi-FI":"fi","fr-BE":"fr","fr-CA":"fr","fr-FR":"fr","ga-IE":"ga","gl-ES":"gl","he-IL":"he","hi-IN":"hi","hr-HR":"hr","hu-HU":"hu","hy-AM":"hy-am","id-ID":"id","is-IS":"is","it-IT":"it","ja-JP":"ja","ka-GE":"ka","kk-KZ":"kk","km-KH":"km","kn-IN":"kn","ko-KR":"ko","ku-IQ":"ku","lt-LT":"lt","lv-LV":"lv","mk-MK":"mk","ml-IN":"ml","mn-MN":"mn","ms-MY":"ms","nb-NO":"nb","ne-NP":"ne","nl-BE":"nl-be","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt-br","pt-PT":"pt","ro-RO":"ro","ru-RU":"ru","si-LK":"si","sk-SK":"sk","sl-SI":"sl","sr-RS":"sr","sv-SE":"sv","ta-IN":"ta","th-TH":"th","tk-TK":"tk","tr-TR":"tr","uk-UA":"uk","ur-PK":"ur","vi-VN":"vi","zh-CN":"zh-cn","zh-HK":"zh-hk","zh-TW":"zh-tw"};j.Z={"ar-EG":{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"},"az-AZ":{label:"Az\u0259rbaycan dili"},"bg-BG":{label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},"bn-BD":{label:"Bengali"},"by-BY":{label:"\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0456"},"ca-ES":{label:"\u0421atal\xE0/Espanya"},"cs-CZ":{label:"\u010Cesky"},"da-DK":{label:"Dansk"},"de-DE":{label:"Deutsch"},"el-GR":{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},"en-GB":{label:"English(GB)"},"en-US":{label:"English"},"es-ES":{label:"Espa\xF1ol"},"et-EE":{label:"Estonian (Eesti)"},"fa-IR":{label:"\u0641\u0627\u0631\u0633\u06CC"},"fi-FI":{label:"Suomi"},"fr-BE":{label:"Fran\xE7ais(BE)"},"fr-CA":{label:"Fran\xE7ais(CA)"},"fr-FR":{label:"Fran\xE7ais"},"ga-IE":{label:"Gaeilge"},"gl-ES":{label:"Galego"},"he-IL":{label:"\u05E2\u05D1\u05E8\u05D9\u05EA"},"hi-IN":{label:"\u0939\u093F\u0928\u094D\u0926\u0940"},"hr-HR":{label:"Hrvatski jezik"},"hu-HU":{label:"Magyar"},"hy-AM":{label:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},"id-ID":{label:"Bahasa Indonesia"},"is-IS":{label:"\xCDslenska"},"it-IT":{label:"Italiano"},"ja-JP":{label:"\u65E5\u672C\u8A9E"},"ka-GE":{label:"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8"},"kk-KZ":{label:"\u049A\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456"},"km-KH":{label:"\u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A"},"kn-IN":{label:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1"},"ko-KR":{label:"\uD55C\uAD6D\uC5B4"},"ku-IQ":{label:"\u06A9\u0648\u0631\u062F\u06CC"},"lt-LT":{label:"lietuvi\u0173"},"lv-LV":{label:"Latvie\u0161u valoda"},"mk-MK":{label:"\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A"},"ml-IN":{label:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02"},"mn-MN":{label:"\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B"},"ms-MY":{label:"\u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648"},"nb-NO":{label:"Norsk bokm\xE5l"},"ne-NP":{label:"\u0928\u0947\u092A\u093E\u0932\u0940"},"nl-BE":{label:"Vlaams"},"nl-NL":{label:"Nederlands"},"pl-PL":{label:"Polski"},"pt-BR":{label:"Portugu\xEAs brasileiro"},"pt-PT":{label:"Portugu\xEAs"},"ro-RO":{label:"Rom\xE2nia"},"ru-RU":{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},"si-LK":{label:"\u0DC3\u0DD2\u0D82\u0DC4\u0DBD"},"sk-SK":{label:"Sloven\u010Dina"},"sl-SI":{label:"Sloven\u0161\u010Dina"},"sr-RS":{label:"\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A"},"sv-SE":{label:"Svenska"},"ta-IN":{label:"Tamil"},"th-TH":{label:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22"},"tk-TK":{label:"Turkmen"},"tr-TR":{label:"T\xFCrk\xE7e"},"uk-UA":{label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},"ur-PK":{label:"O\u02BBzbekcha"},"vi-VN":{label:"Ti\u1EBFng Vi\u1EC7t"},"zh-CN":{label:"\u7B80\u4F53\u4E2D\u6587"},"zh-HK":{label:"\u7E41\u9AD4\u4E2D\u6587\uFF08\u9999\u6E2F\uFF09"},"zh-TW":{label:"\u7E41\u9AD4\u4E2D\u6587\uFF08\u53F0\u6E7E\uFF09"}}},68392:function(se,j,e){"use strict";e.d(j,{y:function(){return v}});var v=function(x,u){for(;x;){if(x["x-uid"]===u)return!0;x=x.parent}return!1}},29245:function(se,j,e){"use strict";e.d(j,{s:function(){return D}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(57134),d=e(94350),h=e(96486),t=e.n(h),c=e(67294),i=e(26793),a=e(21143),f=e(74614),l=e(91410),n=e(6145),r=e(55642),o=e(81560),g=e(83954),y=e(85893);function D(){var E=(0,d.useField)(),O=(0,d.useFieldSchema)(),T=(0,a.useDesignable)(),S=T.dn,$=(0,i.$)(),Z=$.t,K=(0,g.R)(),z=K.urlSchema,w=K.paramsSchema,A=K.openInNewWindowSchema,M={url:E.componentProps.url,params:E.componentProps.params||[{}],openInNewWindow:E.componentProps.openInNewWindow};return(0,y.jsx)(o.B0,{title:Z("Edit link"),components:{ArrayItems:p.ArrayItems},schema:{type:"object",title:Z("Edit link"),properties:{url:u()(u()({},z),{},{required:!0}),params:w,openInNewWindow:A}},onSubmit:function(R){var L,N=R.url,B=R.params,V=R.openInNewWindow,U=O["x-component-props"]||{};U.url=N,U.params=B,U.openInNewWindow=V,O["x-component-props"]=U,E.componentProps.url=N,E.componentProps.params=B,E.componentProps.openInNewWindow=V,S.emit("patch",{schema:(L={},m()(L,"x-uid",O["x-uid"]),m()(L,"x-component-props",U),L)}),S.refresh()},initialValues:M})}var P=new l.F({name:"actionSettings:link",items:[{name:"editButton",Component:r.C1,useComponentProps:function(){var O=(0,f.Po)(),T=O.buttonEditorProps;return T}},{name:"editLink",Component:D},{name:"linkageRules",Component:o.lc,useVisible:function(){var O=(0,a.useCollectionRecord)();return!t().isEmpty(O==null?void 0:O.data)},useComponentProps:function(){var O=(0,n.useCollection_deprecated)(),T=O.name,S=(0,f.Po)(),$=S.linkageRulesProps;return u()(u()({},$),{},{collectionName:T})}},{name:"remove",sort:100,Component:r.xZ,useComponentProps:function(){var O=(0,f.Po)(),T=O.removeButtonProps;return T}}]})},83954:function(se,j,e){"use strict";e.d(j,{R:function(){return o}});var v=e(68400),m=e.n(v),x=e(97857),u=e.n(x),p=e(97133),d=e(94350),h=e(67294),t=e(26793),c=e(7340),i=e(36586),a=e(95276),f=e(54885),l=e(85893),n,r=function(y){return function(D){var P=(0,d.useFieldSchema)(),E=(0,c.bz)(),O=E.form,T=(0,i.a)(),S=(0,f.Y)({collectionField:{uiSchema:P},form:O,record:T,uiSchema:P,noDisabled:!0}),$=P!=null&&P.workflowScope?P==null?void 0:P.workflowScope:S;return(0,l.jsx)(y,u()(u()({},D),{},{scope:$,style:{width:"200px"}}))}},o=function(){var y=(0,t.$)(),D=y.t,P=(0,h.useMemo)(function(){return r(a._w.TextArea)},[]),E=(0,h.useMemo)(function(){return{title:D("URL"),type:"string","x-decorator":"FormItem","x-component":P,description:D("Do not concatenate search params in the URL"),"x-reactions":{dependencies:["mode"],fulfill:{state:{hidden:'{{$deps[0] === "html"}}'}}}}},[D,P]),O=(0,h.useMemo)(function(){return{title:'{{t("Mode")}}',"x-component":"Radio.Group","x-decorator":"FormItem",default:"url",enum:[{value:"url",label:D("URL")},{value:"html",label:D("HTML")}]}},[D]),T=(0,h.useMemo)(function(){return{title:D("html"),type:"string","x-decorator":"FormItem","x-component":r(a._w.RawTextArea),"x-component-props":{rows:10},"x-reactions":{dependencies:["mode"],fulfill:{state:{hidden:'{{$deps[0] === "url"}}'}}}}},[D]),S=(0,h.useMemo)(function(){return{type:"array","x-component":"ArrayItems","x-decorator":"FormItem",title:'{{t("Search parameters")}}',items:{type:"object",properties:{space:{type:"void","x-component":"Space","x-component-props":{style:{flexWrap:"nowrap",maxWidth:"100%"},className:(0,p.css)(n||(n=m()([`
                & > .ant-space-item:first-child,
                & > .ant-space-item:last-child {
                  flex-shrink: 0;
                }
              `])))},properties:{name:{type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:'{{t("Name")}}'}},value:{type:"string","x-decorator":"FormItem","x-component":P,"x-component-props":{placeholder:'{{t("Value")}}',useTypedConstant:!0,changeOnSelect:!0}},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},"x-reactions":{dependencies:["mode"],fulfill:{state:{hidden:'{{$deps[0] === "html"}}'}}},properties:{add:{type:"void",title:'{{t("Add parameter")}}',"x-component":"ArrayItems.Addition"}}}},[P]),$=(0,h.useMemo)(function(){return{type:"boolean","x-content":D("Open in new window"),"x-decorator":"FormItem","x-component":"Checkbox","x-reactions":{dependencies:["mode"],fulfill:{state:{hidden:'{{$deps[0] === "html"}}'}}}}},[D]);return{urlSchema:E,paramsSchema:S,openInNewWindowSchema:$,modeSchema:O,htmlSchema:T}}},16966:function(se,j,e){"use strict";e.d(j,{A:function(){return n},G:function(){return l}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(67294),d=e(26793),h=e(72594),t=e(58837),c=e(98427),i=e(50679),a=e(95354),f=e(85893),l=function(o){var g=(0,d.$)(),y=g.t,D=(0,h.d9)(),P=(0,t.Kx)()||{},E=P.name,O=P.title,T=(0,a.zy)(),S=(0,h.zh)()||{},$=S.association,Z=(0,c.eJW)();if($){var K=$.split("."),z=u()(K,1),w=z[0],A=D.getCollection(w),M=A.name,b=A.title;E=M,O=b}var R=D.getCollectionField($),L=D.getCollection(R==null?void 0:R.target),N=["FormItem","ReadPrettyFormItem"].includes(T==null?void 0:T.componentName)?"".concat(T==null?void 0:T.name," ").concat(y("(Fields only)")):T==null?void 0:T.name,B=(0,p.useMemo)(function(){return[n({collectionTitle:O,collectionName:E,associationField:R,associationCollection:L,compile:Z}),N].filter(Boolean)},[O,E,R,L,Z,N]);return(0,f.jsx)(i.M,m()({title:B},o))};function n(r){var o=r.collectionTitle,g=r.collectionName,y=r.associationField,D=r.compile,P=r.associationCollection;if(y){var E;return"".concat(D(o||g)," > ").concat(D(((E=y.uiSchema)===null||E===void 0?void 0:E.title)||y.name)," (").concat(D((P==null?void 0:P.title)||(P==null?void 0:P.name)),")")}return D(o||g)}},86693:function(se,j,e){"use strict";e.d(j,{l:function(){return p}});var v=e(97857),m=e.n(v),x=e(67294),u=e(12929),p=function(h){var t=h.params,c=(0,u.v)({filterOption:t==null?void 0:t.filter}),i=c.filter,a=c.parseVariableLoading,f=(0,x.useMemo)(function(){return m()(m()({},t),{},{filter:i})},[JSON.stringify(i)]);return{params:f,parseVariableLoading:a}}},21109:function(se,j,e){"use strict";e.d(j,{e:function(){return x}});var v=e(92700),m=e(86693);function x(u){var p,d=(0,m.l)(u),h=d.params,t=d.parseVariableLoading;return u.association&&(p=(0,v._)(u.association)),{parentRecord:p,params:h,parseVariableLoading:t}}},31793:function(se,j,e){"use strict";e.d(j,{t:function(){return m}});var v=e(35964);function m(){return(0,v.BX)()}},4277:function(se,j,e){"use strict";e.d(j,{jI:function(){return g},tU:function(){return o},wq:function(){return r}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(96486),h=e.n(d),t=e(67294),c=e(26793),i=e(98427),a=e(81560),f=e(7939),l=e(72594),n=e(85893),r={name:"setDataLoadingMode",Component:g};function o(){var y=(0,l.zh)()||{},D=y.dataLoadingMode;return D||"auto"}function g(){var y,D=(0,i.ngQ)(),P=D.dn,E=(0,c.$)(),O=E.t,T=(0,p.useField)(),S=(0,p.useFieldSchema)(),$=(0,f.U)(),Z=$.name,K=(0,a.IO)(Z),z=K.getEnableFieldTree,w=K.getOnLoadData,A=(0,l.hS)();return(0,n.jsx)(a.B0,{title:O("Set data loading mode"),scope:{getEnableFieldTree:z,name:Z,getOnLoadData:w},schema:{type:"object",title:O("Data loading mode"),properties:{dataLoadingMode:{"x-decorator":"FormItem","x-component":"Radio.Group",default:((y=S["x-decorator-props"])===null||y===void 0?void 0:y.dataLoadingMode)||"auto",enum:[{value:"auto",label:O("Automatically load data")},{value:"manual",label:O("Load data after filtering")}]}}},onSubmit:function(b){var R,L=b.dataLoadingMode;h().set(S,"x-decorator-props.dataLoadingMode",L),T.decoratorProps.dataLoadingMode=L,P.emit("patch",{schema:(R={},m()(R,"x-uid",S["x-uid"]),m()(R,"x-decorator-props",u()({},S["x-decorator-props"])),R)}),P.refresh(),L==="auto"?A.run():A.mutate(void 0)}})}},80159:function(se,j,e){"use strict";e.d(j,{d:function(){return u},j:function(){return p}});var v=e(94350),m=e(23782),x=e(49834);function u(d){var h=(0,m.MM)(),t;return d.association&&(t=p(d.association)),{params:h,parentRecord:t}}function p(d){var h=(0,v.useFieldSchema)(),t=(0,x.nE)(),c=(0,x.Kv)();if(d)return h["x-is-current"]?c:t}},95216:function(se,j,e){"use strict";e.d(j,{o:function(){return m}});var v=e(35964);function m(){return(0,v.BX)()}},26392:function(se,j,e){"use strict";e.d(j,{K:function(){return D}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(13769),t=e.n(h),c=e(84779),i=e(67294),a=e(74614),f=e(6145),l=e(40341),n=e(95354),r=e(58590),o=e(72594),g=e(85893),y=["onCreateBlockSchema","componentType","createBlockSchema"],D=function(){var E=(0,a.UR)(),O=E.onCreateBlockSchema,T=E.componentType,S=E.createBlockSchema,$=t()(E,y),Z=(0,n.$t)(),K=Z.getTemplateSchemaByMode,z=(0,a.q_)(),w=z.insert,A=(0,o.Xo)(),M=(0,f.useCollection_deprecated)();return(0,g.jsx)(a.lV,m()(m()({icon:(0,g.jsx)(c.Z,{})},$),{},{onClick:function(){var b=d()(u()().mark(function R(L){var N,B,V;return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(N=L.item,!N.template){I.next=8;break}return I.next=4,K(N);case 4:B=I.sent,N.template.componentName==="FormItem"?(V=(0,r.l)(A?{association:A,collectionName:M.name,dataSource:M.dataSource,templateSchema:B}:{collectionName:M.name,dataSource:M.dataSource,templateSchema:B}),N.mode==="reference"&&(V["x-template-key"]=N.template.key),w(V)):w(B),I.next=9;break;case 8:w((0,r.l)(A?{association:A,collectionName:M.name,dataSource:M.dataSource}:{collectionName:M.name,dataSource:M.dataSource}));case 9:case"end":return I.stop()}},R)}));return function(R){return b.apply(this,arguments)}}(),items:(0,l.bQ)("FormItem")}))}},12445:function(se,j,e){"use strict";e.d(j,{J:function(){return c},k:function(){return i}});var v=e(97857),m=e.n(v),x=e(84779),u=e(67294),p=e(74614),d=e(61818),h=e(58590),t=e(85893),c=function(f){var l=f.filterCollections,n=f.onlyCurrentDataSource,r=f.hideSearch,o=f.createBlockSchema,g=f.componentType,y=g===void 0?"FormItem":g,D=f.templateWrap,P=f.showAssociationFields,E=f.hideChildrenIfSingleCollection,O=f.hideOtherRecordsInPopup,T=(0,p.UR)(),S=i(),$=S.createFormBlock,Z=S.templateWrap,K=(0,u.useCallback)(function(w){if(o)return o(w);$(w)},[o,$]),z=(0,u.useCallback)(function(w,A){return D?D(w,A):Z(w,A)},[D,Z]);return(0,t.jsx)(d.dn,m()(m()({},T),{},{icon:(0,t.jsx)(x.Z,{}),componentType:y,templateWrap:z,onCreateBlockSchema:K,filter:l,onlyCurrentDataSource:n,hideSearch:r,showAssociationFields:P,hideChildrenIfSingleCollection:E,hideOtherRecordsInPopup:O}))},i=function(){var f=(0,p.q_)(),l=f.insert,n=(0,p.UR)(),r=n.isCusomeizeCreate,o=(0,u.useCallback)(function(y){var D=y.item;l((0,h.l)({collectionName:D.collectionName||D.name,dataSource:D.dataSource,isCusomeizeCreate:r}))},[l,r]),g=(0,u.useCallback)(function(y,D){var P=D.item,E=(0,h.l)({isCusomeizeCreate:r,dataSource:P.dataSource,templateSchema:y,collectionName:P.name});return P.template&&P.mode==="reference"&&(E["x-template-key"]=P.template.key),E},[r]);return{createFormBlock:o,templateWrap:g}}},3169:function(se,j,e){"use strict";e.d(j,{O:function(){return d}});var v=e(97857),m=e.n(v),x=e(67294),u=e(81560),p=e(85893),d=function(t){return(0,p.jsx)(u.Mf,m()({showBorder:!1,showBackground:!0},t))}},12002:function(se,j,e){"use strict";e.d(j,{s:function(){return O},$:function(){return T}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(13769),t=e.n(h),c=e(84779),i=e(67294),a=e(74614),f=e(72594),l=e(6145),n=e(40341),r=e(95354),o=e(9783),g=e.n(o),y=e(84327);function D(S){var $=S.collectionName,Z=S.dataSource,K=S.association,z=S.templateSchema,w=K||$,A=S.isCurrent?{"x-is-current":!0}:{};if(!Z)throw new Error("dataSource are required");return m()(m()({type:"void","x-acl-action-props":{skipScopeCheck:!1},"x-acl-action":"".concat(w,":update"),"x-decorator":"FormBlockProvider","x-use-decorator-props":"useEditFormBlockDecoratorProps","x-decorator-props":{action:"get",dataSource:Z,collection:$,association:K},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:editForm","x-component":"CardItem"},A),{},{properties:g()({},(0,y.uid)(),{type:"void","x-component":"FormV2","x-use-component-props":"useEditFormBlockProps",properties:g()({grid:z||{type:"void","x-component":"Grid","x-initializer":"form:configureFields",properties:{}}},(0,y.uid)(),{type:"void","x-initializer":"editForm:configureActions","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{marginTop:24}}})})})}var P=e(85893),E=["targetCollection"],O=function(){var $=(0,a.UR)(),Z=$.targetCollection,K=t()($,E),z=(0,a.q_)(),w=z.insert,A=(0,r.$t)(),M=A.getTemplateSchemaByMode,b=(0,l.useCollection_deprecated)(),R=Z||b,L=T(),N=L.createEditFormBlock,B=L.templateWrap;return(0,P.jsx)(a.lV,m()(m()({icon:(0,P.jsx)(c.Z,{})},K),{},{onClick:function(){var V=d()(u()().mark(function U(I){var F,W;return u()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(F=I.item,!F.template){J.next=8;break}return J.next=4,M(F);case 4:W=J.sent,w(B(W,{item:F})),J.next=9;break;case 8:N({item:F});case 9:case"end":return J.stop()}},U)}));return function(U){return V.apply(this,arguments)}}(),items:(0,n.bQ)("FormItem",null,R==null?void 0:R.name)}))};function T(){var S=(0,a.q_)(),$=S.insert,Z=(0,f.Xo)(),K=(0,i.useCallback)(function(w){var A=w.item;$(D(Z?{association:Z,collectionName:A.collectionName||A.name,dataSource:A.dataSource,isCurrent:!0}:{collectionName:A.collectionName||A.name,dataSource:A.dataSource}))},[Z,$]),z=(0,i.useCallback)(function(w,A){var M=A.item;if(M.template.componentName==="FormItem"){var b=D(Z?{association:Z,dataSource:M.dataSource,templateSchema:w,isCurrent:!0}:{collectionName:M.collectionName||M.name,dataSource:M.dataSource,templateSchema:w});return M.mode==="reference"&&(b["x-template-key"]=M.template.key),b}else return w},[Z]);return{createEditFormBlock:K,templateWrap:z}}},11370:function(se,j,e){"use strict";e.d(j,{W:function(){return o}});var v=e(97857),m=e.n(v),x=e(68400),u=e.n(x),p=e(13769),d=e.n(p),h=e(58697),t=e(21143),c=e(55742),i=e(42075),a=e(83062),f=e(67294),l=e(85893),n,r=["options","direction"];function o(g){var y=g.options,D=y===void 0?[]:y,P=g.direction,E=d()(g,r),O=(0,t.useCompile)();return(0,l.jsx)(c.ZP.Group,m()(m()({},E),{},{children:(0,l.jsx)(i.Z,{direction:P,children:D.map(function(T){return(0,l.jsxs)(c.ZP,{value:T.value,children:[(0,l.jsx)("span",{className:(0,t.css)(n||(n=u()([`
                & + .anticon {
                  margin-left: 0.25em;
                }
              `]))),children:O(T.label)}),T.tooltip&&(0,l.jsx)(a.Z,{title:O(T.tooltip),children:(0,l.jsx)(h.Z,{style:{color:"#666"}})})]},T.value)})})}))}},63360:function(se,j,e){"use strict";e.d(j,{$:function(){return t}});var v=e(68400),m=e.n(v),x=e(21143),u=e(27655),p=e(67294),d=e(85893),h,t=function(i){var a=u.evaluators.get(i);return a&&a.link?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:(0,x.css)(h||(h=m()([`
          &:after {
            content: ':';
          }
          & + a {
            margin-left: 0.25em;
          }
        `]))),children:x.i18n.t("Syntax references")}),(0,d.jsx)("a",{href:a.link,target:"_blank",rel:"noreferrer",children:a.label})]}):null}},58590:function(se,j,e){"use strict";e.d(j,{l:function(){return u}});var v=e(9783),m=e.n(v),x=e(84327);function u(p){var d=p.collectionName,h=p.association,t=p.dataSource,c=p.templateSchema,i=p.isCusomeizeCreate,a=h||d;if(!t)throw new Error("dataSource are required");var f={type:"void","x-acl-action-props":{skipScopeCheck:!0},"x-acl-action":"".concat(a,":create"),"x-decorator":"FormBlockProvider","x-use-decorator-props":"useCreateFormBlockDecoratorProps","x-decorator-props":{dataSource:t,collection:d,association:h,isCusomeizeCreate:i},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:createForm","x-component":"CardItem",properties:m()({},(0,x.uid)(),{type:"void","x-component":"FormV2","x-use-component-props":"useCreateFormBlockProps",properties:m()({grid:c||{type:"void","x-component":"Grid","x-initializer":"form:configureFields",properties:{}}},(0,x.uid)(),{type:"void","x-initializer":"createForm:configureActions","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{marginTop:24}}})})};return f}},73377:function(se,j,e){"use strict";e.d(j,{$:function(){return m},n:function(){return x}});var v=e(3806),m=new v.n({name:"CreateFormActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"submit",title:'{{t("Submit")}}',Component:"CreateSubmitActionInitializer",schema:{"x-action-settings":{}}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"saveRecord",title:'{{t("Save record")}}',Component:"SaveRecordActionInitializer"},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer"}]}]}),x=new v.n({name:"createForm:configureActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"submit",title:'{{t("Submit")}}',Component:"CreateSubmitActionInitializer",schema:{"x-action-settings":{}}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"saveRecord",title:'{{t("Save record")}}',Component:"SaveRecordActionInitializer"},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer"}]}]},m)},19298:function(se,j,e){"use strict";e.d(j,{K:function(){return a}});var v=e(9783),m=e.n(v),x=e(94350),u=e(26793),p=e(91410),d=e(79531),h=e(6145),t=e(81560),c=e(25750),i=e(98427),a=new p.F({name:"blockSettings:createForm",items:[{name:"title",Component:c._},{name:"layout",Component:t.WB},{name:"linkageRules",Component:t.lc,useComponentProps:function(){var l=(0,h.useCollection_deprecated)(),n=l.name;return{collectionName:n}}},{name:"SetTheDataPower",Component:t.UD,useComponentProps:function(){var l=(0,h.useCollection_deprecated)(),n=l.name;return{collectionName:n}}},{name:"dataTemplates",Component:t.ON,useVisible:function(){var l=(0,d.bz)(),n=l.action;return!n},useComponentProps:function(){var l=(0,h.useCollection_deprecated)(),n=l.name;return{collectionName:n}}},{name:"divider",type:"divider"},{name:"formItemTemplate",Component:t.vC,useComponentProps:function(){var l,n,r=(0,h.useCollection_deprecated)(),o=r.name,g=(0,x.useFieldSchema)(),y=(g==null||(l=g["x-decorator-props"])===null||l===void 0?void 0:l.resource)||(g==null||(n=g["x-decorator-props"])===null||n===void 0?void 0:n.association);return{componentName:"FormItem",collectionName:o,resourceName:y}}},{name:"divider2",type:"divider"},{name:"editTheme",Component:t.sM,useComponentProps:function(){var l=(0,u.$)(),n=l.t;return{title:n("Block theme")}}},{name:"enableFormOfflineSubmit",type:"switch",useComponentProps:function(){var l,n=(0,x.useFieldSchema)(),r=(0,i.ngQ)(),o=r.dn,g=r.patch,y=(0,u.$)(),D=y.t;return{checked:((l=n["x-data"])===null||l===void 0?void 0:l.enableFormOfflineSubmit)||!1,title:D("Enable form offline submit"),onChange:function(E){var O,T=(O={},m()(O,"x-uid",n["x-uid"]),m()(O,"x-data",{enableFormOfflineSubmit:E}),O);g(T),o.emit("patch",{schema:T})}}}},{name:"divider3",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]})},35441:function(se,j,e){"use strict";e.d(j,{r:function(){return h}});var v=e(94350),m=e(91410),x=e(79531),u=e(6145),p=e(81560),d=e(25750),h=new m.F({name:"blockSettings:editForm",items:[{name:"title",Component:d._},{name:"linkageRules",Component:p.lc,useComponentProps:function(){var c=(0,u.useCollection_deprecated)(),i=c.name;return{collectionName:i}}},{name:"dataTemplates",Component:p.ON,useVisible:function(){var c=(0,x.bz)(),i=c.action;return!i},useComponentProps:function(){var c=(0,u.useCollection_deprecated)(),i=c.name;return{collectionName:i}}},{name:"divider",type:"divider"},{name:"formItemTemplate",Component:p.vC,useComponentProps:function(){var c,i,a=(0,u.useCollection_deprecated)(),f=a.name,l=(0,v.useFieldSchema)(),n=(l==null||(c=l["x-decorator-props"])===null||c===void 0?void 0:c.resource)||(l==null||(i=l["x-decorator-props"])===null||i===void 0?void 0:i.association);return{componentName:"FormItem",collectionName:f,resourceName:n}}},{name:"divider2",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]})},29760:function(se,j,e){"use strict";e.d(j,{d:function(){return S}});var v=e(19632),m=e.n(v),x=e(9783),u=e.n(x),p=e(97857),d=e.n(p),h=e(94350),t=e(96486),c=e.n(t),i=e(26793),a=e(74614),f=e(91410),l=e(79531),n=e(6145),r=e(56318),o=e(98427),g=e(22229),y=e(81560),D=e(77723),P=e(21774),E=e(29124),O=e(32827),T=e(21143),S=new f.F({name:"fieldSettings:FormItem",items:[{name:"decoratorOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var Z=(0,i.$)(),K=Z.t;return{title:K("Generic properties")}},useChildren:function(){return[{name:"editFieldTitle",type:"modal",useComponentProps:function(){var K,z=(0,i.$)(),w=z.t,A=(0,o.ngQ)(),M=A.dn,b=(0,h.useField)(),R=(0,h.useFieldSchema)(),L=(0,n.useCollectionManager_deprecated)(),N=L.getCollectionJoinField,B=(0,n.useCollection_deprecated)(),V=B.getField,U=V(R.name)||N(R["x-collection-field"]);return{title:w("Edit field title"),schema:{type:"object",title:w("Edit field title"),properties:{title:{title:w("Field title"),default:b==null?void 0:b.title,description:"".concat(w("Original field title: ")).concat(U==null||(K=U.uiSchema)===null||K===void 0?void 0:K.title),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(F){var W=F.title;W&&(b.title=W,R.title=W,M.emit("patch",{schema:{"x-uid":R["x-uid"],title:R.title}})),M.refresh()}}}},{name:"displayTitle",type:"switch",useComponentProps:function(){var K,z,w=(0,i.$)(),A=w.t,M=(0,o.ngQ)(),b=M.dn,R=(0,h.useField)(),L=(0,h.useFieldSchema)();return{title:A("Display title"),checked:(K=(z=L["x-decorator-props"])===null||z===void 0?void 0:z.showTitle)!==null&&K!==void 0?K:!0,onChange:function(B){L["x-decorator-props"]=L["x-decorator-props"]||{},L["x-decorator-props"].showTitle=B,R.decoratorProps.showTitle=B,b.emit("patch",{schema:{"x-uid":L["x-uid"],"x-decorator-props":d()(d()({},L["x-decorator-props"]),{},{showTitle:B})}}),b.refresh()}}}},{name:"editDescription",type:"modal",useComponentProps:function(){var K=(0,i.$)(),z=K.t,w=(0,o.ngQ)(),A=w.dn,M=(0,h.useField)(),b=(0,h.useFieldSchema)();return{title:z("Edit description"),schema:{type:"object",title:z("Edit description"),properties:{description:{default:M==null?void 0:M.description,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(L){var N=L.description;M.description=N,b.description=N,A.emit("patch",{schema:{"x-uid":b["x-uid"],description:b.description}}),A.refresh()}}}},{name:"editTooltip",type:"modal",useComponentProps:function(){var K,z=(0,i.$)(),w=z.t,A=(0,o.ngQ)(),M=A.dn,b=(0,h.useField)(),R=(0,h.useFieldSchema)();return{title:w("Edit tooltip"),schema:{type:"object",title:w("Edit tooltip"),properties:{tooltip:{default:R==null||(K=R["x-decorator-props"])===null||K===void 0?void 0:K.tooltip,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(N){var B=N.tooltip;b.decoratorProps.tooltip=B,R["x-decorator-props"]=R["x-decorator-props"]||{},R["x-decorator-props"].tooltip=B,M.emit("patch",{schema:{"x-uid":R["x-uid"],"x-decorator-props":R["x-decorator-props"]}}),M.refresh()}}}},{name:"required",type:"switch",useVisible:function(){var K=(0,h.useField)(),z=(0,h.useFieldSchema)(),w=(0,a.Po)(),A=w.required,M=A===void 0?!0:A;return!K.readPretty&&z["x-component"]!=="FormField"&&M},useComponentProps:function(){var K=(0,i.$)(),z=K.t,w=(0,h.useField)(),A=(0,h.useFieldSchema)(),M=(0,o.ngQ)(),b=M.dn,R=M.refresh;return{title:z("Required"),checked:A.required,onChange:function(N){var B=u()({},"x-uid",A["x-uid"]);w.required=N,A.required=N,B.required=N,b.emit("patch",{schema:B}),R()}}}},{name:"setDefaultValue",useVisible:function(){var K=(0,T.useCollectionField)();if((K==null?void 0:K.interface)==="RateField")return!1;var z=(0,E.SF)(),w=z.isAllowToSetDefaultValue;return w()},Component:P.N},{name:"pattern",type:"select",useVisible:function(){var K=(0,l.bz)(),z=K.form,w=(0,h.useFieldSchema)();return z&&!(z!=null&&z.readPretty)&&!(0,y.VZ)(w)},useComponentProps:function(){var K,z,w=(0,i.$)(),A=w.t,M=(0,h.useField)(),b=(0,h.useFieldSchema)(),R=(0,o.ngQ)(),L=R.dn,N=["Nester","PopoverNester","SubTable"].includes((K=b["x-component-props"])===null||K===void 0?void 0:K.mode),B="editable";return b["x-disabled"]===!0&&(B="readonly"),b["x-read-pretty"]===!0&&(B="read-pretty"),N&&((z=b["x-component-props"])===null||z===void 0?void 0:z.modifyOnly)===!0&&(B="only-modify"),{title:A("Pattern"),options:[{label:A("Editable"),value:"editable"}].concat(m()(N?[{label:A("Modify only"),value:"only-modify"}]:[]),[{label:A("Readonly"),value:"readonly"},{label:A("Easy-reading"),value:"read-pretty"}]),value:B,onChange:function(U){var I,F=(I={},u()(I,"x-uid",b["x-uid"]),u()(I,"x-component-props",b["x-component-props"]),I);switch(U){case"readonly":{b["x-read-pretty"]=!1,b["x-disabled"]=!0,b["x-component-props"]=d()(d()({},b["x-component-props"]),{},{modifyOnly:!1}),F["x-read-pretty"]=!1,F["x-disabled"]=!0,F["x-component-props"]=d()(d()({},F["x-component-props"]),{},{modifyOnly:!1}),M.readPretty=!1,M.disabled=!0,M.setData({modifyOnly:!1}),c().set(M,"initStateOfLinkageRules.pattern",(0,g.TF)(!0,D.Us.ReadOnly));break}case"read-pretty":{b["x-read-pretty"]=!0,b["x-disabled"]=!1,b["x-component-props"]=d()(d()({},b["x-component-props"]),{},{modifyOnly:!1}),F["x-read-pretty"]=!0,F["x-disabled"]=!1,F["x-component-props"]=d()(d()({},F["x-component-props"]),{},{modifyOnly:!1}),M.readPretty=!0,M.setData({modifyOnly:!1}),c().set(M,"initStateOfLinkageRules.pattern",(0,g.TF)(!0,D.Us.ReadPretty));break}case"only-modify":{b["x-read-pretty"]=!1,b["x-disabled"]=!1,F["x-read-pretty"]=!1,F["x-disabled"]=!1,M.readPretty=!1,M.disabled=!1,b["x-component-props"]=d()(d()({},b["x-component-props"]),{},{modifyOnly:!0}),F["x-component-props"]=d()(d()({},F["x-component-props"]),{},{modifyOnly:!0}),M.setData({modifyOnly:!0}),c().set(M,"initStateOfLinkageRules.pattern",(0,g.TF)(!0,D.Us.Editable));break}default:{b["x-read-pretty"]=!1,b["x-disabled"]=!1,F["x-read-pretty"]=!1,F["x-disabled"]=!1,b["x-component-props"]=d()(d()({},b["x-component-props"]),{},{modifyOnly:!1}),F["x-component-props"]=d()(d()({},F["x-component-props"]),{},{modifyOnly:!1}),M.readPretty=!1,M.disabled=!1,M.setData({modifyOnly:!1}),c().set(M,"initStateOfLinkageRules.pattern",(0,g.TF)(!0,D.Us.Editable));break}}L.emit("patch",{schema:F}),L.refresh()}}}},(0,O.KA)({}),{name:"Permutation Layout",type:"select",useComponentProps:function(){var K,z,w=(0,i.$)(),A=w.t,M=(0,h.useFieldSchema)(),b=(0,o.ngQ)(),R=b.dn,L=(0,T.useCollectionField)(),N=(K=(z=M["x-component-props"])===null||z===void 0?void 0:z.layout)!==null&&K!==void 0?K:"vertical";return{title:A("Permutation Layout"),options:[{label:A("Horizontal Layout Left"),value:"horizontal left"},{label:A("Horizontal Layout Right"),value:"horizontal right"},{label:A("Vertical Layout"),value:"vertical"}],value:N,onChange:function(V){var U=u()({},"x-uid",M["x-uid"]);M["x-component-props"]=d()(d()({},M["x-component-props"]),{},{layout:V,isRate:(L==null?void 0:L.interface)==="RateField"}),U["x-component-props"]=d()(d()({},M["x-component-props"]),{},{layout:V,isRate:(L==null?void 0:L.interface)==="RateField"}),R.emit("patch",{schema:U}),R.refresh()}}}},{name:"enableOverflow",type:"switch",useVisible:function(){var K=(0,T.useCollectionField)();return(K==null?void 0:K.interface)!=="RateField"},useComponentProps:function(){var K,z=(0,i.$)(),w=z.t,A=(0,h.useField)(),M=(0,h.useFieldSchema)(),b=(0,o.ngQ)(),R=b.dn;return{title:w("Enable Overflow"),checked:((K=M["x-component-props"])===null||K===void 0?void 0:K.enableOverflow)===!0,onChange:function(N){M["x-component-props"]=d()(d()({},M==null?void 0:M["x-component-props"]),{},{enableOverflow:N}),A.componentProps.enableOverflow=N,R.emit("patch",{schema:{"x-uid":M["x-uid"],"x-component-props":d()({},M==null?void 0:M["x-component-props"])}}),R.refresh()}}}}]}},{name:"componentOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var Z=(0,i.$)(),K=Z.t;return{title:K("Specific properties")}},useChildren:function(){var Z=(0,a.qD)(),K=(0,r.W)(),z=Z.schemaSettingsManager.get("fieldSettings:component:".concat(K));return(z==null?void 0:z.items)||[]}},{name:"divider",type:"divider"},{name:"delete",type:"remove",sort:100,useComponentProps:function(){var Z=(0,i.$)(),K=Z.t;return{removeParentsIfNoChildren:!0,confirm:{title:K("Delete field")},breakRemoveOn:{"x-component":"Grid"}}}}]})},68942:function(se,j,e){"use strict";e.d(j,{v:function(){return m}});var v=e(43868),m=new v.e({name:"FormActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",name:"enableActions",title:'{{t("Enable actions")}}',children:[{name:"submit",title:'{{t("Submit")}}',Component:"CreateSubmitActionInitializer",schema:{"x-action-settings":{}}}]},{name:"divider",type:"divider"},{name:"customize",type:"subMenu",title:'{{t("Customize")}}',children:[{name:"saveRecord",title:'{{t("Save record")}}',Component:"SaveRecordActionInitializer"},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer"}]}]})},25616:function(se,j,e){"use strict";e.d(j,{A:function(){return h},e:function(){return d}});var v=e(3806),m=e(76326),x=e(40341),u=e(72029),p=e(74614),d=new v.n({name:"FormItemInitializers",wrap:x.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"displayFields",title:'{{t("Display fields")}}',useChildren:x.I_},{name:"parentCollectionFields",Component:m.cd},{name:"associationFields",Component:m.Pg},{name:"divider",type:"divider"},{name:"googleReCaptcha",title:'{{t("reCAPTCHA")}}',Component:"GoogleReCaptchaFormItemInitializer",useVisible:function(){var c,i=(0,p.j7)("@ashley/plugin-google-recaptcha"),a=i==null?void 0:i.options.enabled,f=(0,u.QT)({url:"googleRecaptcha:get"},{manual:!a}),l=f==null||(c=f.data)===null||c===void 0||(c=c.data)===null||c===void 0?void 0:c.status;return!!l}},{name:"addText",title:'{{t("Add text")}}',Component:"MarkdownFormItemInitializer"}]}),h=new v.n({name:"form:configureFields",wrap:x.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"displayFields",title:'{{t("Display fields")}}',useChildren:x.I_},{name:"parentCollectionFields",Component:m.cd},{name:"associationFields",Component:m.Pg},{name:"divider",type:"divider"},{name:"googleReCaptcha",title:'{{t("reCAPTCHA")}}',Component:"GoogleReCaptchaFormItemInitializer",useVisible:function(){var c,i=(0,p.j7)("@ashley/plugin-google-recaptcha"),a=i==null?void 0:i.options.enabled,f=(0,u.QT)({url:"googleRecaptcha:get"},{manual:!a}),l=f==null||(c=f.data)===null||c===void 0||(c=c.data)===null||c===void 0?void 0:c.status;return!!l}},{name:"addText",title:'{{t("Add text")}}',Component:"MarkdownFormItemInitializer"}]},d)},32827:function(se,j,e){"use strict";e.d(j,{re:function(){return be},KA:function(){return ge}});var v=e(96695),m=e.n(v),x=e(9783),u=e.n(x),p=e(5574),d=e.n(p),h=e(19632),t=e.n(h),c=e(97857),i=e.n(c),a=e(26793),f=e(96486),l=e.n(f),n=e(27655),r=e(94350),o=e(57134),g=e(79531),y=e(98427),D=e(6145),P=e(81230),E=e(38752),O=e(49677),T=e.n(O),S=e(67294),$=e(21143),Z=e(85893);function K(he){var Pe=Object.assign({},(T()(he),he)),Ae=(0,$.useCurrentFormVariable)(),Be=Ae.currentFormSettings,Le=[Be];return(0,Z.jsx)($.Variable.TextArea,i()({scope:Le},Pe))}for(var z=e(68400),w=e.n(z),A=e(59251),M=e(15867),b=e(34041),R=e(19553),L=e(70173),N=new L.Registry,B=[{name:"=",key:"equal"},{name:"\u2260",key:"notEqual"},{name:">",key:"gt"},{name:"\u2265",key:"gte"},{name:"<",key:"lt"},{name:"\u2264",key:"lte"}],V=[{name:'{{t("contains")}}',key:"includes"},{name:'{{t("does not contain")}}',key:"notIncludes"},{name:'{{t("starts with")}}',key:"startsWith"},{name:'{{t("not starts with")}}',key:"notStartsWith"},{name:'{{t("ends with")}}',key:"endsWith"},{name:'{{t("not ends with")}}',key:"notEndsWith"}],U=0,I=B;U<I.length;U++){var F=I[U],W=F.name,X=F.key;N.register(X,{name:W,type:"boolean",group:"boolean"})}for(var J=0,C=V;J<C.length;J++){var k=C[J],Y=k.name,H=k.key;N.register(H,{name:Y,type:"boolean",group:"string"})}var te,le,ne,ie,ee,fe=[{value:"boolean",title:'{{t("Comparision")}}'},{value:"number",title:'{{t("Arithmetic calculation")}}'},{value:"string",title:'{{t("String operation")}}'},{value:"date",title:'{{t("Date")}}'}];function de(he){var Pe=he.value,Ae=he.onChange,Be=he.onRemove;if(!Pe)return null;var Le=Pe.calculator,Me=Pe.operands,Te=Me===void 0?[]:Me;return(0,Z.jsxs)("div",{className:(0,$.css)(te||(te=w()([`
        display: flex;
        position: relative;
        margin: 0.5em 0;
      `]))),children:[Pe.group?(0,Z.jsx)(ae,{value:Pe.group,onChange:function(Ue){return Ae(i()(i()({},Pe),{},{group:Ue}))}}):(0,Z.jsx)(Se,{operands:Te,calculator:Le,onChange:Ae}),(0,Z.jsx)(M.ZP,{"aria-label":"icon-close",onClick:Be,type:"link",icon:(0,Z.jsx)(R.Z,{})})]})}function ue(he){return Array.from(N.getEntities()).filter(function(Pe){var Ae=d()(Pe,2),Be=Ae[0],Le=Ae[1];return Le.group===he})}function Se(he){var Pe=he.calculator,Ae=he.operands,Be=Ae===void 0?[]:Ae,Le=he.onChange,Me=(0,$.useCompile)(),Te=(0,$.useCurrentFormVariable)(),we=Te.currentFormSettings,Ue=[we];return(0,Z.jsxs)("fieldset",{className:(0,$.css)(le||(le=w()([`
        display: flex;
        gap: 0.5em;
        align-items: center;
        flex-wrap: wrap;
      `]))),children:[(0,Z.jsx)($.Variable.Input,{value:Be[0],onChange:function(De){return Le({calculator:Pe,operands:[De,Be[1]]})},scope:Ue,useTypedConstant:!0}),(0,Z.jsx)(b.default,{role:"button","aria-label":"select-operator-calc",value:Pe,onChange:function(De){return Le({operands:Be,calculator:De})},placeholder:$.i18n.t("Operator"),popupMatchSelectWidth:!1,style:{width:"120px"},children:fe.filter(function(je){return!!ue(je.value).length}).map(function(je){return(0,Z.jsx)(b.default.OptGroup,{label:Me(je.title),children:ue(je.value).map(function(De){var ye=d()(De,2),_e=ye[0],q=ye[1].name;return(0,Z.jsx)(b.default.Option,{value:_e,children:Me(q)},_e)})},je.value)})}),(0,Z.jsx)($.Variable.Input,{value:Be[1],onChange:function(De){return Le({calculator:Pe,operands:[Be[0],De]})},scope:Ue,useTypedConstant:!0})]})}function ae(he){var Pe=this,Ae=he.value,Be=he.onChange,Le=$.i18n.t,Me=Ae.type,Te=Me===void 0?"and":Me,we=Ae.calculations,Ue=we===void 0?[]:we;function je(){Be(i()(i()({},Ae),{},{calculations:[].concat(t()(Ue),[{not:!1,calculator:"equal"}])}))}function De(){Be(i()(i()({},Ae),{},{calculations:[].concat(t()(Ue),[{not:!1,group:{type:"and",calculations:[]}}])}))}function ye(q){Ue.splice(q,1),Be(i()(i()({},Ae),{},{calculations:t()(Ue)}))}function _e(q,pe){Ue.splice(q,1,pe),Be(i()(i()({},Ae),{},{calculations:t()(Ue)}))}return(0,Z.jsxs)("div",{className:(0,$.cx)("node-type-condition-group",(0,$.css)(ne||(ne=w()([`
          position: relative;
          width: 100%;
          .node-type-condition-group {
            padding: 0.5em 1em;
            border: 1px dashed #ddd;
          }
          + button {
            position: absolute;
            right: 0;
          }
        `])))),children:[(0,Z.jsx)("div",{className:(0,$.css)(ie||(ie=w()([`
          display: flex;
          align-items: center;
          gap: 0.5em;
          .ant-select {
            width: auto;
            min-width: 6em;
          }
        `]))),children:(0,Z.jsxs)(A.c,{children:["Meet ",(0,Z.jsxs)(b.default,{role:"button","data-testid":"filter-select-all-or-any",value:Te,onChange:function(pe){return Be(i()(i()({},Ae),{},{type:pe}))},children:[(0,Z.jsx)(b.default.Option,{value:"and",children:"All"}),(0,Z.jsx)(b.default.Option,{value:"or",children:"Any"})]})," conditions in the group"]})}),(0,Z.jsx)("div",{className:"calculation-items",children:Ue.map(function(q,pe){return(0,Z.jsx)(de,{value:q,onChange:_e.bind(Pe,pe),onRemove:function(){return ye(pe)}},"".concat(q.calculator,"_").concat(pe))})}),(0,Z.jsxs)("div",{className:(0,$.css)(ee||(ee=w()([`
          button {
            padding: 0;
            &:not(:last-child) {
              margin-right: 1em;
            }
          }
        `]))),children:[(0,Z.jsx)(M.ZP,{type:"link",onClick:je,children:Le("Add condition")}),(0,Z.jsx)(M.ZP,{type:"link",onClick:De,children:Le("Add condition group")})]})]})}function G(he){var Pe=he.value,Ae=he.onChange,Be=Pe&&Object.keys(Pe).length?Pe:{group:{type:"and",calculations:[]}};return(0,Z.jsx)(ae,{value:Be.group,onChange:function(Me){return Ae(i()(i()({},Be),{},{group:Me}))}})}var re=e(63360),oe=e(11370),ce=function(he){return he[he.basic=1]="basic",he[he.expression=2]="expression",he}({}),be=function(he){return he.form="form",he.table="table",he}({}),xe=function(he){return he.basic="basic",he.math="math.js",he.formula="formula.js",he}({});function ge(he){var Pe=he.componentType,Ae=Pe===void 0?be.form:Pe;return{name:"setValidationRules",type:"modal",useComponentProps:function(){var Le,Me,Te=(0,a.$)(),we=Te.t,Ue=(0,r.useField)(),je=(0,r.useFieldSchema)(),De=(0,P.z)(),ye=De.fieldSchema,_e=De.collectionField,q=(0,y.ngQ)(),pe=q.dn,Re=q.refresh,Oe=(0,y.q4O)(),$e=(0,D.useCollectionManager_deprecated)(),Ve=$e.getCollectionJoinField,Ze=(0,D.useCollection_deprecated)(),qe=Ze.getField,Qe=qe(je.name)||Ve(je["x-collection-field"]),ke={type:"object",title:we("Set validation rules"),properties:{rules:{type:"array",default:Ae===be.table?ye==null?void 0:ye["x-validator"]:je==null?void 0:je["x-validator"],"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},maxItems:3,items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{header:'{{ t("Validation rule") }}'},properties:{index:{type:"void","x-component":"ArrayCollapse.Index"},layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:6,wrapperCol:16,layout:"vertical"},properties:{validationType:{type:"number","x-decorator":"FormItem","x-component":"Radio.Group",enum:[{label:"Basic Validation",value:ce.basic},{label:"Expression Validation",value:ce.expression}],default:ce.basic},base:{type:"void","x-reactions":{dependencies:[".validationType"],fulfill:{state:{visible:"{{$deps[0] === 1}}"}}},properties:i()({},Oe)},expression:{type:"void","x-reactions":{dependencies:[".validationType"],fulfill:{state:{visible:"{{$deps[0] === 2}}"}}},properties:{engine:{type:"string",title:'{{t("Calculation engine")}}',"x-decorator":"FormItem","x-component":"RadioWithTooltip","x-component-props":{options:[["basic",{label:'{{t("Basic")}}'}]].concat(t()(Array.from(n.evaluators.getEntities()).filter(function(Kt){var ut=d()(Kt,1),Rt=ut[0];return["math.js","formula.js"].includes(Rt)}))).reduce(function(Kt,ut){var Rt=d()(ut,2),Dt=Rt[0],dt=Rt[1];return Kt.concat(i()({value:Dt},dt))},[])},default:"basic"},calculation:{type:"string",title:'{{t("Condition")}}',"x-decorator":"FormItem","x-component":"CalculationConfig","x-reactions":{dependencies:[".engine"],fulfill:{state:{visible:'{{$deps[0] === "basic"}}'}}},required:!0},mathExpression:(Le={type:"string",title:'{{t("Condition expression")}}',"x-decorator":"FormItem","x-component":"VariableTextArea"},u()(Le,"x-validator",function(ut){var Rt=n.evaluators.get("math.js"),Dt=Rt.evaluate,dt=ut.trim().replace(/{{([^{}]+)}}/g," 1 ");try{return Dt(dt),""}catch(Bt){return we("Expression syntax error")}}),u()(Le,"x-reactions",{dependencies:[".engine"],fulfill:{state:{visible:'{{$deps[0] === "math.js"}}'},schema:{description:"{{renderEngineReference($deps[0])}}"}}}),Le),formulaExpression:(Me={type:"string",title:'{{t("Condition expression")}}',"x-decorator":"FormItem","x-component":"VariableTextArea"},u()(Me,"x-validator",function(ut){var Rt=n.evaluators.get("formula.js"),Dt=Rt.evaluate,dt=ut.trim().replace(/{{([^{}]+)}}/g," 1 ");try{return Dt(dt),""}catch(Bt){return we("Expression syntax error")}}),u()(Me,"x-reactions",{dependencies:[".engine"],fulfill:{state:{visible:'{{$deps[0] === "formula.js"}}'},schema:{description:"{{renderEngineReference($deps[0])}}"}}}),Me)}},message:{type:"string",title:'{{ t("Error message") }}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:2,maxRows:2}}}}},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add validation rule") }}',"x-component":"ArrayCollapse.Addition","x-reactions":{dependencies:["rules"],fulfill:{state:{disabled:"{{$deps[0].length >= 3}}"}}}}}}}},ft=(0,g.bz)(),vt=ft.form,_t=function(ut,Rt){var Dt=ut.map(function(dt){return dt.validationType===ce.expression?i()(i()({},dt),{},u()({},Rt,!0)):dt}).filter(Boolean);return Dt},Nt=function(ut){var Rt,Dt=[],dt=m()(ut.rules),Bt;try{for(dt.s();!(Bt=dt.n()).done;){var He=Bt.value;Dt.push(l().pickBy(He,function(at){return at!=null}))}}catch(at){dt.e(at)}finally{dt.f()}var ct=Ae===be.table,St=ct?_e:Qe,Tt=ct?ye:je;if(["percent"].includes(St==null?void 0:St.interface)){var Mt=m()(Dt),Zt;try{for(Mt.s();!(Zt=Mt.n()).done;){var Je=Zt.value;(Je.maxValue||Je.minValue)&&(Je.percentMode=!0),Je.percentFormat&&(Je.percentFormats=!0)}}catch(at){Mt.e(at)}finally{Mt.f()}}var et=_t(Dt,Tt["x-uid"]),rt=l().concat([],(St==null||(Rt=St.uiSchema)===null||Rt===void 0?void 0:Rt["x-validator"])||[],et);if(ct){var yt,xt,Ct=(yt=Ue.path)===null||yt===void 0?void 0:yt.splice(((xt=Ue.path)===null||xt===void 0?void 0:xt.length)-1,1);Ue.form.query("".concat(Ct.concat("*."+ye.name))).forEach(function(at,ht){at["x-validator"]=rt.map(function(ot){return i()(i()({},ot),{},{index:ht})})})}var mt=u()({},"x-uid",Tt["x-uid"]);Tt["x-validator"]=et,mt["x-validator"]=et,pe.emit("patch",{schema:mt}),Re()};return{title:we("Set validation rules"),components:{ArrayCollapse:o.ArrayCollapse,FormLayout:o.FormLayout,Radio:o.Radio,RadioWithTooltip:oe.W,VariableTextArea:K,CalculationConfig:G},scope:{form:vt,field:Ue,renderEngineReference:re.$},schema:ke,onSubmit:Nt}},useVisible:function(){var Le=(0,g.bz)(),Me=Le.form,Te=(0,E.xj)(),we=(0,y.q4O)();return Me&&!Te&&we}}}},30607:function(se,j,e){"use strict";e.d(j,{KE:function(){return v.K},Jo:function(){return m.J},Oo:function(){return x.O},W5:function(){return l.W},se:function(){return u.s},lJ:function(){return p.l},nr:function(){return d.n},$G:function(){return d.$},K9:function(){return h.K},rB:function(){return t.r},dV:function(){return c.d},vR:function(){return i.v},ex:function(){return a.A},eh:function(){return a.e},$W:function(){return n.$},SW:function(){return f.S},Cw:function(){return f.C},$R:function(){return u.$},kQ:function(){return m.k}});var v=e(26392),m=e(12445),x=e(3169),u=e(12002),p=e(58590),d=e(73377),h=e(19298),t=e(35441),c=e(29760),i=e(68942),a=e(25616),f=e(56994),l=e(11370),n=e(63360)},56994:function(se,j,e){"use strict";e.d(j,{C:function(){return m},S:function(){return x}});var v=e(3806),m=new v.n({name:"UpdateFormActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"submit",title:'{{t("Submit")}}',Component:"UpdateSubmitActionInitializer",schema:{"x-action-settings":{}}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action"}}},{name:"saveRecord",title:'{{t("Save record")}}',Component:"SaveRecordActionInitializer"},{type:"item",name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer"}]}]}),x=new v.n({name:"editForm:configureActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"submit",title:'{{t("Submit")}}',Component:"UpdateSubmitActionInitializer",schema:{"x-action-settings":{}}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action"}}},{name:"saveRecord",title:'{{t("Save record")}}',Component:"SaveRecordActionInitializer"},{type:"item",name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer"}]}]},m)},89265:function(se,j,e){"use strict";e.d(j,{X:function(){return r}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(96486),h=e.n(d),t=e(67294),c=e(26793),i=e(21305),a=e(43759),f=e(3329),l=e(81560),n=e(85893);function r(){var o=(0,c.$)(),g=o.t,y=(0,p.useFieldSchema)(),D=(0,p.useField)(),P=(0,f.ng)(),E=P.dn,O=D.decoratorProps.columnCount||a.he,T=(0,t.useMemo)(function(){return{"x-component":"Slider","x-decorator":"FormItem","x-component-props":{min:1,max:24,marks:i.V,tooltip:{formatter:function(Z){return"".concat(Z).concat(g("Column"))}},step:null}}},[g]),S=(0,t.useMemo)(function(){return a.FR.reduce(function($,Z){return $[Z]=u()(u()({},T),{},{title:g(a.wl[Z]),description:"".concat(g("Screen size")," ").concat(a.UY[Z]," ").concat(g("pixels"))}),$},{})},[T,g]);return(0,n.jsx)(l.B0,{title:g("Set the count of columns displayed in a row"),initialValues:O,schema:{type:"object",title:g("Set the count of columns displayed in a row"),properties:S},onSubmit:function(Z){var K;h().set(y,"x-decorator-props.columnCount",Z),D.decoratorProps.columnCount=Z,E.emit("patch",{schema:(K={},m()(K,"x-uid",y["x-uid"]),m()(K,"x-decorator-props",y["x-decorator-props"]),K)})}})}},20046:function(se,j,e){"use strict";e.d(j,{s:function(){return p}});var v=e(97857),m=e.n(v),x=e(12929),u=e(67294);function p(d){var h=d.params,t=(0,x.v)({filterOption:h==null?void 0:h.filter}),c=t.filter,i=t.parseVariableLoading,a=(0,u.useMemo)(function(){return m()(m()({},h),{},{filter:c})},[c,h]);return{params:a,parseVariableLoading:i}}},38889:function(se,j,e){"use strict";e.d(j,{S:function(){return D}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(13769),t=e.n(h),c=e(84779),i=e(67294),a=e(6145),f=e(9783),l=e.n(f),n=e(84327),r=function(E){var O,T=E.collectionName,S=E.dataSource,$=E.rowKey;if(!T||!S||!$)throw new Error("collectionName, dataSource, rowKey is required");return{type:"void","x-acl-action":"".concat(T,":list"),"x-decorator":"TableSelectorProvider","x-use-decorator-props":"useTableSelectorDecoratorProps","x-decorator-props":{collection:T,dataSource:S,action:"list",params:{pageSize:20},rowKey:$},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:tableSelector","x-component":"CardItem",properties:(O={},l()(O,(0,n.uid)(),{type:"void","x-initializer":"table:configureActions","x-component":"ActionBar","x-component-props":{style:{marginBottom:"var(--nb-spacing)"}}}),l()(O,"value",{type:"array","x-initializer":"table:configureColumns","x-component":"TableV2.Selector","x-use-component-props":"useTableSelectorProps","x-component-props":{rowSelection:{type:"checkbox"}}}),O)}},o=e(74614),g=e(85893),y=["onCreateBlockSchema","componentType","createBlockSchema"],D=function(){var E=(0,o.UR)(),O=E.onCreateBlockSchema,T=E.componentType,S=E.createBlockSchema,$=t()(E,y),Z=(0,o.q_)(),K=Z.insert,z=(0,a.useCollection_deprecated)();return(0,g.jsx)(o.lV,m()(m()({icon:(0,g.jsx)(c.Z,{})},$),{},{onClick:d()(u()().mark(function w(){return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:K(r({rowKey:z.filterTargetKey,collectionName:z.name,dataSource:z.dataSource}));case 1:case"end":return M.stop()}},w)}))}))}},75145:function(se,j,e){"use strict";e.d(j,{S:function(){return v.S},v:function(){return m.v}});var v=e(38889),m=e(67718)},67718:function(se,j,e){"use strict";e.d(j,{v:function(){return g}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(57134),d=e(94350),h=e(96486),t=e.n(h),c=e(67294),i=e(26793),a=e(91410),f=e(79531),l=e(6145),n=e(98427),r=e(43319),o=e(4277),g=new a.F({name:"blockSettings:tableSelector",items:[{name:"SetTheDataScope",Component:r.H,useComponentProps:function(){var D,P=(0,l.useCollection_deprecated)(),E=P.name,O=(0,d.useField)(),T=(0,d.useFieldSchema)(),S=(0,f.bz)(),$=S.form,Z=(0,f.CL)(),K=Z.service,z=Z.extraFilter,w=(0,n.ngQ)(),A=w.dn,M=(0,o.tU)(),b=(0,c.useCallback)(function(R){var L,N=R.filter;N=(0,n.WmO)(N);var B=O.decoratorProps.params||{};B.filter=N,O.decoratorProps.params=B,T["x-decorator-props"].params=B;var V=(0,h.cloneDeep)(N);z&&(V?V={$and:[z,V]}:V=z),A.emit("patch",{schema:(L={},u()(L,"x-uid",T["x-uid"]),u()(L,"x-decorator-props",T["x-decorator-props"]),L)})},[O.decoratorProps,T,z,M,A,K]);return{collectionName:E,defaultFilter:(T==null||(D=T["x-decorator-props"])===null||D===void 0||(D=D.params)===null||D===void 0?void 0:D.filter)||{},form:$,onSubmit:b}}},{name:"treeTable",type:"switch",useComponentProps:function(){var D=(0,d.useField)(),P=(0,d.useFieldSchema)(),E=(0,f.CL)(),O=E.service,T=(0,i.$)(),S=T.t,$=(0,n.ngQ)(),Z=$.dn;return{title:S("Tree table"),defaultChecked:!0,checked:D.decoratorProps.treeTable,onChange:function(z){var w;D.form.clearFormGraph("".concat(D.address,".*")),D.decoratorProps.treeTable=z,P["x-decorator-props"].treeTable=z;var A=m()(m()({},(w=O.params)===null||w===void 0?void 0:w[0]),{},{tree:z?!0:null});Z.emit("patch",{schema:P}),Z.refresh(),O.run(A)}}},useVisible:function(){var D=(0,l.useCollectionManager_deprecated)(),P=D.getCollectionJoinField,E=(0,d.useFieldSchema)(),O=(0,l.useCollection_deprecated)(),T=(0,f.zA)(E,"CollectionField"),S=P(T==null?void 0:T["x-collection-field"]);return(O==null?void 0:O.tree)&&(S==null?void 0:S.target)===(S==null?void 0:S.collectionName)}},{name:"SetDefaultSortingRules",type:"modal",useComponentProps:function(){var D,P=(0,l.useCollection_deprecated)(),E=P.name,O=(0,d.useField)(),T=(0,d.useFieldSchema)(),S=(0,l.useSortFields)(E),$=(0,f.CL)(),Z=$.service,K=(0,i.$)(),z=K.t,w=(0,n.ngQ)(),A=w.dn,M=(T==null||(D=T["x-decorator-props"])===null||D===void 0||(D=D.params)===null||D===void 0?void 0:D.sort)||[],b=M==null?void 0:M.map(function(R){return R.startsWith("-")?{field:R.substring(1),direction:"desc"}:{field:R,direction:"asc"}});return{title:z("Set default sorting rules"),components:{ArrayItems:p.ArrayItems},schema:{type:"object",title:z("Set default sorting rules"),properties:{sort:{type:"array",default:b,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:S,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:z("ASC"),value:"asc"},{label:z("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:z("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(L){var N,B,V=L.sort,U=V.map(function(F){return F.direction==="desc"?"-".concat(F.field):F.field}),I=O.decoratorProps.params||{};I.sort=U,O.decoratorProps.params=I,T["x-decorator-props"].params=I,A.emit("patch",{schema:(N={},u()(N,"x-uid",T["x-uid"]),u()(N,"x-decorator-props",T["x-decorator-props"]),N)}),Z.run(m()(m()({},(B=Z.params)===null||B===void 0?void 0:B[0]),{},{sort:U}))}}},useVisible:function(){var D=(0,d.useField)(),P=D.decoratorProps.dragSort;return!P}},o.wq,{name:"RecordsPerPage",type:"select",useComponentProps:function(){var D,P=(0,d.useField)(),E=(0,d.useFieldSchema)(),O=(0,f.CL)(),T=O.service,S=(0,i.$)(),$=S.t,Z=(0,n.ngQ)(),K=Z.dn;return{title:$("Records per page"),value:((D=P.decoratorProps)===null||D===void 0||(D=D.params)===null||D===void 0?void 0:D.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],onChange:function(w){var A,M,b=P.decoratorProps.params||{};b.pageSize=w,P.decoratorProps.params=b,E["x-decorator-props"].params=b,T.run(m()(m()({},(A=T.params)===null||A===void 0?void 0:A[0]),{},{pageSize:w,page:1})),K.emit("patch",{schema:(M={},u()(M,"x-uid",E["x-uid"]),u()(M,"x-decorator-props",E["x-decorator-props"]),M)})}}}},{name:"divider",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]})},61403:function(se,j,e){"use strict";e.d(j,{Rp:function(){return w},Xe:function(){return z},ez:function(){return $}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(13769),d=e.n(p),h=e(6166),t=e(94350),c=e(96486),i=e.n(c),a=e(67294),f=e(26793),l=e(72029),n=e(3806),r=e(916),o=e(7849),g=e(47750),y=e(6145),D=e(72594),P=e(98427),E=e(69054),O=e(21143),T=e(85893),S=["children","onClick"],$=function(){var M,b=(0,f.$)(),R=b.t,L=(0,P.ngQ)(),N=L.dn,B=(0,t.useFieldSchema)();return(0,T.jsx)(r.H,{title:R("Column width"),component:a.forwardRef(function(V,U){var I=V.children,F=V.onClick,W=d()(V,S),X=(0,g.q_)(),J=X.setVisible;return(0,T.jsx)(o.l,u()(u()({ref:U,onClick:function(k){var Y=k.event;J(!1),F(Y)}},W),{},{title:R("Column width")}))}),schema:{type:"object",title:R("Column width"),properties:{width:{"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{},default:(B==null||(M=B["x-component-props"])===null||M===void 0?void 0:M.width)||200}}},onSubmit:function(U){var I=U.width,F=B["x-component-props"]||{};F.width=I;var W=m()({},"x-uid",B["x-uid"]);W["x-component-props"]=F,B["x-component-props"]=F,N.emit("patch",{schema:W}),N.refresh()}})};function Z(A,M,b){var R=(0,f.$)(),L=R.t,N=(0,t.useField)(),B=(0,O.useColumnSchema)(),V=B.fieldSchema,U=(0,t.useFieldSchema)(),I=V||U,F=(0,P.ngQ)(),W=F.dn,X=function(){var C=m()({},"x-uid",I["x-uid"]);I["x-component-props"]=I["x-component-props"]||{},I["x-component-props"][M]=A,C["x-component-props"]=I["x-component-props"],N.componentProps=N.componentProps||{},N.componentProps[M]=A,W.emit("patch",{schema:C}),W.refresh()};return(0,T.jsx)("div",{onClick:X,children:L(b)})}var K={insertPosition:"beforeEnd",useInsert:function(){var M=(0,P.ngQ)(),b=M.refresh,R=(0,t.useFieldSchema)(),L=(0,l.LY)(),N=(0,f.$)(),B=N.t;return function(U){var I=R.reduceProperties(function(W,X){return X["x-component"]==="Space"?X:W},null);if(I){i().set(U,"x-designer-props.linkageAction",!0);var F=(0,P.Pls)({t:B,api:L,refresh:b,current:I});F.loadAPIClientEvents(),F.insertBeforeEnd(U)}}},Component:function(M){var b=(0,E.z)(),R=b.getAriaLabel;return(0,T.jsx)(h.Z,u()(u()({},M),{},{role:"button","aria-label":R("schema-settings"),style:{cursor:"pointer"}}))},items:[{type:"itemGroup",name:"actions",title:'{{t("Enable actions")}}',children:[{type:"item",title:'{{t("View")}}',name:"view",Component:"ViewActionInitializer",schema:{"x-component":"Action.Link","x-action":"view","x-decorator":"ACLActionProvider"}},{type:"item",name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action.Link","x-action":"update","x-decorator":"ACLActionProvider"},useVisible:function(){var M=(0,y.useCollection_deprecated)();return(M.template!=="view"||(M==null?void 0:M.writableView))&&M.template!=="sql"}},{type:"item",title:'{{t("Delete")}}',name:"delete",Component:"DestroyActionInitializer",schema:{"x-component":"Action.Link","x-action":"destroy","x-decorator":"ACLActionProvider"},useVisible:function(){var M=(0,y.useCollection_deprecated)();return(M.template!=="view"||(M==null?void 0:M.writableView))&&M.template!=="sql"}},{type:"item",title:'{{t("Disassociate")}}',name:"disassociate",Component:"DisassociateActionInitializer",schema:{"x-component":"Action.Link","x-action":"disassociate","x-acl-action":"destroy","x-decorator":"ACLActionProvider"},useVisible:function(){var M=(0,D.zh)(),b=(0,y.useCollection_deprecated)();return!!(M!=null&&M.association)&&(b.template!=="view"||(b==null?void 0:b.writableView))&&b.template!=="sql"}},{type:"item",title:'{{t("Add child")}}',name:"addChildren",Component:"CreateChildInitializer",schema:{"x-component":"Action.Link","x-action":"create","x-decorator":"ACLActionProvider"},useVisible:function(){var M,b=(0,t.useFieldSchema)(),R=(0,y.useCollection_deprecated)(),L=(b==null||(M=b.parent)===null||M===void 0?void 0:M.parent["x-decorator-props"])||{},N=L.treeTable;return R.tree&&N}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{type:"item",title:'{{t("Popup")}}',name:"popup",Component:"PopupActionInitializer"},{type:"item",title:'{{t("Update record")}}',name:"updateRecord",Component:"UpdateRecordActionInitializer",useVisible:function(){var M=(0,y.useCollection_deprecated)();return(M.template!=="view"||(M==null?void 0:M.writableView))&&M.template!=="sql"}},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",schema:{"x-action":"customize:table:request"},useVisible:function(){var M=(0,y.useCollection_deprecated)();return(M.template!=="view"||(M==null?void 0:M.writableView))&&M.template!=="sql"}}],useVisible:function(){var M=(0,y.useCollection_deprecated)();return(M.template!=="view"||(M==null?void 0:M.writableView))&&M.template!=="sql"}},{name:"divider2",type:"divider"},{name:"columnWidth",type:"item",title:'{{t("Column width")}}',useComponentProps:function(){var M,b=(0,t.useFieldSchema)(),R=(b==null||(M=b["x-component-props"])===null||M===void 0?void 0:M.width)||200;return{width:R}},Component:$},{name:"fieldComponentFixed",type:"subMenu",title:'{{t("Fixed Column")}}',children:[{type:"item",title:'{{t("Not Fixed")}}',name:"Not Fixed",Component:function(){return Z(!1,"fixed","Not Fixed")}},{type:"item",title:'{{t("Left Fixed")}}',name:"Left Fixed",Component:function(){return Z("left","fixed","Left Fixed")}},{type:"item",title:'{{t("Right Fixed")}}',name:"Right Fixed",Component:function(){return Z("right","fixed","Right Fixed")}}]},{name:"fieldComponentAlign",type:"subMenu",title:'{{t("Column Align")}}',children:[{type:"item",title:'{{t("Center Align")}}',name:"Center Align",Component:function(){return Z("center","align","Center Align")}},{type:"item",title:'{{t("Left Align")}}',name:"Left Align",Component:function(){return Z("left","align","Left Align")}},{type:"item",title:'{{t("Right Align")}}',name:"Right Align",Component:function(){return Z("right","align","Right Align")}}]}]},z=new n.n(u()({name:"TableActionColumnInitializers"},K)),w=new n.n(u()({name:"table:configureItemActions"},K),z)},93355:function(se,j,e){"use strict";e.d(j,{E:function(){return u},H:function(){return p}});var v=e(94350),m=e(3806),x=e(7939),u=new m.n({name:"TableActionInitializers",title:"{{t('Configure actions')}}",icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",name:"enableActions",title:"{{t('Enable actions')}}",children:[{name:"search",title:"{{t('Search')}}",Component:"SearchActionInitializer",schema:{"x-align":"left"}},{type:"item",name:"filter",title:"{{t('Filter')}}",Component:"FilterActionInitializer",schema:{"x-align":"left"}},{type:"item",title:"{{t('Add new')}}",name:"addNew",Component:"CreateActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var h=(0,x.U)();return!["view","file","sql"].includes(h.template)||(h==null?void 0:h.writableView)}},{type:"item",title:"{{t('Delete')}}",name:"delete",Component:"BulkDestroyActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider"},useVisible:function(){var h=(0,x.U)();return!["view","sql"].includes(h.template)||(h==null?void 0:h.writableView)}},{type:"item",title:"{{t('Refresh')}}",name:"refresh",Component:"RefreshActionInitializer",schema:{"x-align":"right"}},{name:"toggle",title:"{{t('Expand/Collapse')}}",Component:"ExpandableActionInitializer",schema:{"x-align":"right"},useVisible:function(){var h,t=(0,v.useFieldSchema)(),c=(0,x.U)(),i=(t==null||(h=t.parent)===null||h===void 0?void 0:h["x-decorator-props"])||{},a=i.treeTable;return c.tree&&a}}]},{name:"divider",type:"divider",useVisible:function(){var h=(0,x.U)();return!["view","sql"].includes(h.template)||(h==null?void 0:h.writableView)}},{type:"subMenu",name:"customize",title:'{{t("Customize")}}',children:[{type:"item",title:'{{t("Add record")}}',name:"addRecord",Component:"CustomizeAddRecordActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action":"create","x-acl-action-props":{skipScopeCheck:!0}}}],useVisible:function(){var h=(0,x.U)();return!["view","sql"].includes(h.template)||(h==null?void 0:h.writableView)}}]}),p=new m.n({name:"table:configureActions",title:"{{t('Configure actions')}}",icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",name:"enableActions",title:"{{t('Enable actions')}}",children:[{type:"item",name:"filter",title:"{{t('Filter')}}",Component:"FilterActionInitializer",schema:{"x-align":"left"}},{name:"filterGroup",title:'{{t("Filter group")}}',Component:"FilterGroupActionInitializer",schema:{"x-align":"left"}},{type:"item",title:"{{t('Add new')}}",name:"addNew",Component:"CreateActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var h=(0,x.U)();return!["view","file","sql"].includes(h.template)||(h==null?void 0:h.writableView)}},{type:"item",title:"{{t('Delete')}}",name:"delete",Component:"BulkDestroyActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider"},useVisible:function(){var h=(0,x.U)();return!["view","sql"].includes(h.template)||(h==null?void 0:h.writableView)}},{type:"item",title:"{{t('Refresh')}}",name:"refresh",Component:"RefreshActionInitializer",schema:{"x-align":"right"}},{name:"toggle",title:"{{t('Expand/Collapse')}}",Component:"ExpandableActionInitializer",schema:{"x-align":"right"},useVisible:function(){var h,t=(0,v.useFieldSchema)(),c=(0,x.U)(),i=(t==null||(h=t.parent)===null||h===void 0?void 0:h["x-decorator-props"])||{},a=i.treeTable;return c.tree&&a}}]},{name:"divider",type:"divider",useVisible:function(){var h=(0,x.U)();return!["view","sql"].includes(h.template)||(h==null?void 0:h.writableView)}},{type:"subMenu",name:"customize",title:'{{t("Customize")}}',children:[{type:"item",title:'{{t("Add record")}}',name:"addRecord",Component:"CustomizeAddRecordActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action":"create","x-acl-action-props":{skipScopeCheck:!0}}}],useVisible:function(){var h=(0,x.U)();return!["view","sql"].includes(h.template)||(h==null?void 0:h.writableView)}}]},u)},7497:function(se,j,e){"use strict";e.d(j,{E:function(){return o},k:function(){return r}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(31356),t=e(67294),c=e(47750),i=e(99986),a=e(61818),f=e(54961),l=e(98427),n=e(85893),r=function(y){var D=y.filterCollections,P=y.onlyCurrentDataSource,E=y.hideSearch,O=y.createBlockSchema,T=y.templateWrap,S=y.showAssociationFields,$=(0,c.UR)(),Z=o(),K=Z.createTableBlock,z=(0,l.Dmu)();return(0,n.jsx)(a.dn,m()(m()({},$),{},{icon:(0,n.jsx)(h.Z,{}),componentType:"Table",onCreateBlockSchema:function(){var w=d()(u()().mark(function A(M){return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!O){R.next=2;break}return R.abrupt("return",O(M));case 2:K(M,z);case 3:case"end":return R.stop()}},A)}));return function(A){return w.apply(this,arguments)}}(),onlyCurrentDataSource:P,hideSearch:E,filter:D,showAssociationFields:S}))},o=function(){var y=(0,c.q_)(),D=y.insert,P=(0,i.B)(),E=P.getCollection,O=function(S,$){var Z=S.item,K=E(Z.name,Z.dataSource),z=(0,f.O)({collectionName:Z.name,dataSource:Z.dataSource,rowKey:K.filterTargetKey||"id"});$!=null&&$.filter&&(z["x-decorator-props"].params=m()(m()({},z["x-decorator-props"].params),{},{filter:$.filter})),D(z)};return{createTableBlock:O}}},26105:function(se,j,e){"use strict";e.d(j,{T:function(){return o},U:function(){return g}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(67294),h=e(26793),t=e(3806),c=e(45705),i=e(98427),a=e(40341),f=e(85893),l=function(){var D=(0,a.yi)(),P=(0,h.$)(),E=P.t,O=(0,i.eJW)();if(!(D!=null&&D.length))return null;var T=[];return D.forEach(function(S){Object.values(S)[0].length&&T.push({type:"itemGroup",divider:!0,title:E("Parent collection fields")+"("+O("".concat(Object.keys(S)[0]))+")",children:Object.values(S)[0]})}),(0,f.jsx)(c.E,{children:T})},n=function(){var D=(0,a.V0)(),P=(0,p.useFieldSchema)(),E=(0,h.$)(),O=E.t,T=(0,d.useMemo)(function(){return[{type:"itemGroup",title:O("Display association fields"),children:D}]},[D,O]);return!(D!=null&&D.length)||P["x-component"]==="AssociationField.SubTable"?null:(0,f.jsx)(c.E,{children:T})},r={insertPosition:"beforeEnd",icon:"SettingOutlined",title:'{{t("Configure columns")}}',wrap:function(D,P){var E=P.isInSubTable;return D["x-action-column"]?D:{type:"void","x-decorator":"TableV2.Column.Decorator","x-toolbar":"TableColumnSchemaToolbar","x-settings":"fieldSettings:TableColumn","x-component":"TableV2.Column",properties:m()({},D.name,u()({},D))}},items:[{name:"displayFields",type:"itemGroup",title:'{{t("Display fields")}}',useChildren:a.bJ},{name:"parentCollectionFields",Component:l},{name:"associationFields",Component:n},{name:"divider",type:"divider",useVisible:function(){var D=(0,p.useFieldSchema)();return D["x-component"]!=="AssociationField.SubTable"}},{type:"item",name:"add",title:'{{t("Action column")}}',Component:"TableActionColumnInitializer",useVisible:function(){var D=(0,p.useFieldSchema)();return D["x-component"]!=="AssociationField.SubTable"}}]},o=new t.n(u()({name:"TableColumnInitializers"},r)),g=new t.n(u()({name:"table:configureColumns"},r),o)},31463:function(se,j,e){"use strict";e.d(j,{u:function(){return d}});var v=e(97857),m=e.n(v),x=e(67294),u=e(81560),p=e(85893),d=function(t){return(0,p.jsx)(u.Mf,m()({initializer:!1,showBorder:!1,showBackground:!0},t))}},67354:function(se,j,e){"use strict";e.d(j,{q:function(){return u},t:function(){return p}});var v=e(67294),m=e(85893),x=(0,v.createContext)(null),u=function(h){var t=h.children,c=h.parent;return(0,m.jsx)(x.Provider,{value:{parent:c},children:t})},p=function(){var h=v.useContext(x);return h==null?void 0:h.parent}},54961:function(se,j,e){"use strict";e.d(j,{O:function(){return d}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(84327),d=function(t){var c=t.collectionName,i=t.dataSource,a=t.rowKey,f=t.association;if(!i)throw new Error("dataSource is required");return{type:"void","x-decorator":"TableBlockProvider","x-acl-action":"".concat(f||c,":list"),"x-use-decorator-props":"useTableBlockDecoratorProps","x-decorator-props":{collection:c,association:f,dataSource:i,action:"list",params:u()(u()({},a==="id"?{sort:["-id"]}:{}),{},{pageSize:20}),rowKey:a,showIndex:!0,dragSort:!1},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:table","x-component":"CardItem","x-filter-targets":[],properties:m()({actions:{type:"void","x-initializer":"table:configureActions","x-component":"ActionBar","x-component-props":{style:{marginBottom:"var(--nb-spacing)"}},properties:{}}},(0,p.uid)(),{type:"array","x-initializer":"table:configureColumns","x-component":"TableV2","x-use-component-props":"useTableBlockProps","x-component-props":{rowKey:"id",rowSelection:{type:"checkbox"}},properties:{actions:{type:"void",title:'{{ t("Actions") }}',"x-action-column":"actions","x-decorator":"TableV2.Column.ActionBar","x-component":"TableV2.Column","x-designer":"TableV2.ActionColumnDesigner","x-initializer":"table:configureItemActions",properties:m()({},(0,p.uid)(),{type:"void","x-decorator":"DndContext","x-component":"Space","x-component-props":{split:"|"}})}}})}}},23639:function(se,j,e){"use strict";e.d(j,{c:function(){return h},l:function(){return t}});var v=e(97857),m=e.n(v),x=e(94350),u=e(67294),p=e(12929),d=e(92700),h=function(i){var a=t(i),f=a.params,l=a.parseVariableLoading,n=(0,d._)(i.association);return{params:f,parentRecord:n,parseVariableLoading:l}};function t(c){var i,a=(0,x.useFieldSchema)(),f=(0,p.v)({filterOption:(i=c.params)===null||i===void 0?void 0:i.filter}),l=f.filter,n=f.parseVariableLoading,r=(0,u.useMemo)(function(){var o=c.params||{},g=(a==null?void 0:a["x-decorator-props"])||{},y=g.dragSortBy;c.dragSort&&y&&(o.sort=y);var D=m()(m()({},o),{},{filter:l});return D},[a,l,c.dragSort,c.params]);return{params:r,parseVariableLoading:n}}},44112:function(se,j,e){"use strict";e.d(j,{G:function(){return P}});var v=e(19632),m=e.n(v),x=e(9783),u=e.n(x),p=e(97857),d=e.n(p),h=e(15009),t=e.n(h),c=e(99289),i=e.n(c),a=e(94350),f=e(96486),l=e.n(f),n=e(67294),r=e(1892),o=e(19958),g=e(67205),y=e(87714),D=e(98427),P=function(){var O,T,S,$,Z,K,z,w=(0,a.useField)(),A=(0,a.useFieldSchema)(),M=(0,r.Si)(),b=(O=A.parent)===null||O===void 0||(O=O["x-decorator-props"])===null||O===void 0||(O=O.params)===null||O===void 0?void 0:O.sort,R=(0,g.kO)(),L=R.getDataBlocks,N=M==null||(T=M.service)===null||T===void 0?void 0:T.loading,B=(0,n.useMemo)(function(){var V;return M==null||(V=M.service)===null||V===void 0?void 0:V.params},[JSON.stringify(M==null||(S=M.service)===null||S===void 0?void 0:S.params)]);return(0,n.useEffect)(function(){if(!N){var V,U,I=M==null||(V=M.service)===null||V===void 0?void 0:V.data,F=(I==null?void 0:I.data)||[],W=(I==null?void 0:I.meta)||{},X=M==null||(U=M.field)===null||U===void 0||(U=U.data)===null||U===void 0?void 0:U.selectedRowKeys;(0,f.isEqual)(w.value,F)||(w.value=F,w==null||w.setInitialValue(F)),w.data=w.data||{},(0,f.isEqual)(w.data.selectedRowKeys,X)||(w.data.selectedRowKeys=X),w.componentProps.pagination=w.componentProps.pagination||{},w.componentProps.pagination.pageSize=W==null?void 0:W.pageSize,w.componentProps.pagination.total=W==null?void 0:W.count,w.componentProps.pagination.current=W==null?void 0:W.page}},[w,M==null||($=M.service)===null||$===void 0?void 0:$.data,N,M==null||(Z=M.field)===null||Z===void 0||(Z=Z.data)===null||Z===void 0?void 0:Z.selectedRowKeys]),{childrenColumnName:M.childrenColumnName,loading:M==null||(K=M.service)===null||K===void 0?void 0:K.loading,showIndex:M.showIndex,dragSort:M.dragSort&&M.dragSortBy,rowKey:M.rowKey||"id",pagination:(A==null||(z=A["x-component-props"])===null||z===void 0?void 0:z.pagination)===!1?!1:w.componentProps.pagination,onRowSelectionChange:(0,n.useCallback)(function(V){var U,I,F;M.field.data=(M==null||(U=M.field)===null||U===void 0?void 0:U.data)||{},M.field.data.selectedRowKeys=V,M==null||(I=M.field)===null||I===void 0||(F=I.onRowSelect)===null||F===void 0||F.call(I,V)},[]),onRowDragEnd:(0,n.useCallback)(function(){var V=i()(t()().mark(function U(I){var F,W;return t()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return F=I.from,W=I.to,J.next=3,M.resource.move({sourceId:F[M.rowKey||"id"],targetId:W[M.rowKey||"id"],sortField:M.dragSort&&M.dragSortBy});case 3:M.service.refresh();case 4:case"end":return J.stop()}},U)}));return function(U){return V.apply(this,arguments)}}(),[M.rowKey,M.dragSort,M.dragSortBy]),onChange:(0,n.useCallback)(function(V,U,I){var F,W=V.current,X=V.pageSize,J=M.dragSort?M.dragSortBy:I.order?I.order==="ascend"?[I.field]:["-".concat(I.field)]:b||M.dragSortBy,C=X||((F=A.parent)===null||F===void 0||(F=F["x-decorator-props"])===null||F===void 0||(F=F.params)===null||F===void 0?void 0:F.pageSize);M.service.run(d()(d()({},B==null?void 0:B[0]),{},{page:W||1,pageSize:C,sort:J}))},[b,B]),onClickRow:(0,n.useCallback)(function(V,U,I){var F=(0,o.findFilterTargets)(A),W=F.targets,X=F.uid,J=L();if(!W||!W.some(function(k){return J.some(function(Y){return Y.uid===k.uid})})){U(function(k){return k.length?[]:k});return}var C=[V[M.rowKey]];J.forEach(function(k){var Y,H,te=W.find(function(ee){return ee.uid===k.uid});if(te){var le=((Y=k.service.params)===null||Y===void 0?void 0:Y[0])||{},ne=((H=k.service.params)===null||H===void 0||(H=H[1])===null||H===void 0?void 0:H.filters)||{};if(I.includes(V[M.rowKey])){if(k.dataLoadingMode==="manual")return k.clearData();delete ne[X]}else ne[X]={$and:[u()({},te.field||M.rowKey,u()({},te.field?"$in":"$eq",C))]};var ie=(0,y.EO)([].concat(m()(Object.values(ne).map(function(ee){return(0,D.WmO)(ee)})),[k.defaultFilter]));return k.doFilter(d()(d()({},le),{},{page:1,filter:ie}),{filters:ne})}}),U(function(k){return k!=null&&k.includes(V[M.rowKey])?[]:[].concat(C)})},[M.rowKey,A,L]),onExpand:(0,n.useCallback)(function(V,U){var I,F;M==null||(I=(F=M.field).onExpandClick)===null||I===void 0||I.call(F,V,U)},[])}}},77681:function(se,j,e){"use strict";e.d(j,{EG:function(){return m.E},Ez:function(){return x.E},FY:function(){return d.F},GK:function(){return i.G},H1:function(){return m.H},OO:function(){return t.O},Oe:function(){return p.O},Rp:function(){return v.Rp},T$:function(){return h.T},Ug:function(){return h.U},Xe:function(){return v.Xe},cL:function(){return c.c},ez:function(){return v.ez},kD:function(){return x.k},lo:function(){return c.l},u6:function(){return u.u}});var v=e(61403),m=e(93355),x=e(7497),u=e(31463),p=e(23568),d=e(23450),h=e(26105),t=e(54961),c=e(23639),i=e(44112)},23568:function(se,j,e){"use strict";e.d(j,{O:function(){return N}});var v=e(19632),m=e.n(v),x=e(15009),u=e.n(x),p=e(9783),d=e.n(p),h=e(99289),t=e.n(h),c=e(97857),i=e.n(c),a=e(94350),f=e(72029),l=e(79531),n=e(6145),r=e(87714),o=e(98427),g=e(43319),y=e(52301),D=e(93130),P=e(67294),E=e(26793),O=e(57134),T=e(91410),S=e(4277),$=e(25750),Z=e(99986),K=e(7939),z=e(96365),w=e(94516),A=e(62662),M=e(85893);function b(){var B=(0,K.U)(),V=B.fields,U=(0,a.useField)(),I=(0,a.useFieldSchema)(),F=(0,E.$)(),W=F.t,X=(0,w.ng)(),J=X.dn,C=(0,z.e)(),k=(0,l.Si)(),Y=k.service,H=k.association,te=(0,Z.B)(),le=te.getCollectionJoinField,ne=le(H),ie=V.filter(function(ee){return!(ee!=null&&ee.target)&&ee.interface==="sort"}).map(function(ee){var fe;return{value:ee==null?void 0:ee.name,label:C(ee==null||(fe=ee.uiSchema)===null||fe===void 0?void 0:fe.title)||(ee==null?void 0:ee.name),disabled:(ee==null?void 0:ee.scopeKey)&&(ne==null?void 0:ne.foreignKey)!==ee.scopeKey}});return(0,M.jsx)(A.Qf,{title:W("Drag and drop sorting field"),options:ie,value:U.decoratorProps.dragSortBy,onChange:function(fe){var de,ue;I["x-decorator-props"].dragSortBy=fe,Y.run(i()(i()({},(de=Y.params)===null||de===void 0?void 0:de[0]),{},{sort:fe})),U.decoratorProps.dragSortBy=fe,J.emit("patch",{schema:(ue={},d()(ue,"x-uid",I["x-uid"]),d()(ue,"x-decorator-props",I["x-decorator-props"]),ue)}),J.refresh()}},"sort-field")}var R=e(13845),L=e(64016),N=new T.F({name:"blockSettings:table",items:[{name:"editBlockTitle",Component:$._},{name:"treeTable",type:"switch",useComponentProps:function(){var V,U=(0,n.useCollectionManager_deprecated)(),I=U.getCollectionField,F=U.getCollection,W=(0,a.useField)(),X=(0,a.useFieldSchema)(),J=(0,l.Si)(),C=J.service,k=(0,E.$)(),Y=k.t,H=(0,o.ngQ)(),te=H.dn,le=(0,n.useCollection_deprecated)(),ne=W.decoratorProps.resource,ie=ne&&I(ne),ee=ne!=null&&ne.includes(".")?(V=F(ie==null?void 0:ie.target))===null||V===void 0?void 0:V.tree:!!(le!=null&&le.tree);return{title:Y("Tree table"),defaultChecked:!0,checked:ee?W.decoratorProps.treeTable:!1,onChange:function(de){var ue;W.decoratorProps.treeTable=de,X["x-decorator-props"].treeTable=de,de===!1&&(X["x-decorator-props"].expandFlag=!1);var Se=i()(i()({},(ue=C.params)===null||ue===void 0?void 0:ue[0]),{},{tree:de?!0:null});te.emit("patch",{schema:X}),te.refresh(),C.run(Se)}}},useVisible:function(){var V=(0,n.useCollectionManager_deprecated)(),U=V.getCollectionField,I=(0,a.useField)(),F=(0,n.useCollection_deprecated)(),W=I.decoratorProps.resource,X=W&&U(W);return(F==null?void 0:F.tree)&&(X==null?void 0:X.collectionName)===(X==null?void 0:X.target)}},{name:"enableDragAndDropSorting",type:"switch",useComponentProps:function(){var V=(0,n.useCollectionManager_deprecated)(),U=V.getCollectionField,I=(0,a.useField)(),F=(0,a.useFieldSchema)(),W=(0,l.Si)(),X=W.service,J=(0,E.$)(),C=J.t,k=(0,o.ngQ)(),Y=k.dn,H=I.decoratorProps.resource,te=H&&U(H),le=(0,f.LY)();return{title:C("Enable drag and drop sorting"),checked:I.decoratorProps.dragSort,onChange:function(){var ne=t()(u()().mark(function ee(fe){var de,ue,Se,ae,G,re;return u()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!(fe&&te)){ce.next=7;break}return ce.next=3,le.resource("collections.fields",te.collectionName).update({filterByTk:te.name,values:{sortable:!0}});case 3:ae=ce.sent,G=ae.data,re=G==null||(Se=G.data)===null||Se===void 0||(Se=Se[0])===null||Se===void 0?void 0:Se.sortBy,F["x-decorator-props"].dragSortBy=re;case 7:I.decoratorProps.dragSort=fe,F["x-decorator-props"].dragSort=fe,X.run(i()(i()({},(de=X.params)===null||de===void 0?void 0:de[0]),{},{sort:F["x-decorator-props"].dragSortBy})),Y.emit("patch",{schema:(ue={},d()(ue,"x-uid",F["x-uid"]),d()(ue,"x-decorator-props",F["x-decorator-props"]),ue)});case 11:case"end":return ce.stop()}},ee)}));function ie(ee){return ne.apply(this,arguments)}return ie}()}}},{name:"SortField",Component:b,useVisible:function(){var V=(0,a.useField)();return V.decoratorProps.dragSort}},{name:"SetTheDataScope",Component:g.H,useComponentProps:function(){var V,U=(0,n.useCollection_deprecated)(),I=U.name,F=(0,a.useField)(),W=(0,a.useFieldSchema)(),X=(0,l.bz)(),J=X.form,C=(0,l.Si)(),k=C.service,Y=(0,o.ngQ)(),H=Y.dn,te=(0,P.useCallback)(function(le){var ne,ie=le.filter;ie=(0,o.WmO)(ie);var ee=F.decoratorProps.params||{};ee.filter=ie,F.decoratorProps.params=ee,W["x-decorator-props"].params=ee,H.emit("patch",{schema:(ne={},d()(ne,"x-uid",W["x-uid"]),d()(ne,"x-decorator-props",W["x-decorator-props"]),ne)}),k.params[0].page=1},[H,F.decoratorProps,W,k]);return{collectionName:I,defaultFilter:(W==null||(V=W["x-decorator-props"])===null||V===void 0||(V=V.params)===null||V===void 0?void 0:V.filter)||{},form:J,onSubmit:te}}},{name:"SetTheDataPower",Component:g.d,useComponentProps:function(){var V,U=(0,n.useCollection_deprecated)(),I=U.name,F=(0,a.useField)(),W=(0,a.useFieldSchema)(),X=(0,l.bz)(),J=X.form,C=(0,l.Si)(),k=C.service,Y=(0,o.ngQ)(),H=Y.dn,te=(0,P.useCallback)(function(le){var ne,ie,ee,fe=le.power;fe=(0,o.WmO)(fe);var de=F.decoratorProps.params||{};de.power=fe,F.decoratorProps.params=de,W["x-decorator-props"].params=de;var ue=((ne=k.params)===null||ne===void 0||(ne=ne[1])===null||ne===void 0?void 0:ne.powers)||{};k.run(i()(i()({},(ie=k.params)===null||ie===void 0?void 0:ie[0]),{},{power:(0,r.EO)([].concat(m()(Object.values(ue)),[fe])),page:1}),{powers:ue}),H.emit("patch",{schema:(ee={},d()(ee,"x-uid",W["x-uid"]),d()(ee,"x-decorator-props",W["x-decorator-props"]),ee)})},[H,F.decoratorProps,W,k]);return{collectionName:I,defaultFilter:(W==null||(V=W["x-decorator-props"])===null||V===void 0||(V=V.params)===null||V===void 0?void 0:V.power)||{},form:J,onSubmit:te}}},{name:"SetDefaultSortingRules",type:"modal",useComponentProps:function(){var V,U=(0,n.useCollection_deprecated)(),I=U.name,F=(0,a.useField)(),W=(0,a.useFieldSchema)(),X=(0,n.useSortFields)(I),J=(0,l.Si)(),C=J.service,k=(0,E.$)(),Y=k.t,H=(0,o.ngQ)(),te=H.dn,le=(W==null||(V=W["x-decorator-props"])===null||V===void 0||(V=V.params)===null||V===void 0?void 0:V.sort)||[],ne=le==null?void 0:le.map(function(ie){return ie!=null&&ie.startsWith("-")?{field:ie.substring(1),direction:"desc"}:{field:ie,direction:"asc"}});return{title:Y("Set default sorting rules"),components:{ArrayItems:O.ArrayItems},schema:{type:"object",title:Y("Set default sorting rules"),properties:{sort:{type:"array",default:ne,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:X,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:Y("ASC"),value:"asc"},{label:Y("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:Y("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(ee){var fe,de,ue=ee.sort,Se=ue.map(function(G){return G.direction==="desc"?"-".concat(G.field):G.field}),ae=F.decoratorProps.params||{};ae.sort=Se,F.decoratorProps.params=ae,W["x-decorator-props"].params=ae,te.emit("patch",{schema:(fe={},d()(fe,"x-uid",W["x-uid"]),d()(fe,"x-decorator-props",W["x-decorator-props"]),fe)}),C.run(i()(i()({},(de=C.params)===null||de===void 0?void 0:de[0]),{},{sort:Se}))}}},useVisible:function(){var V=(0,a.useField)(),U=V.decoratorProps.dragSort;return!U}},S.wq,{name:"RecordsPerPage",type:"select",useComponentProps:function(){var V,U=(0,a.useField)(),I=(0,a.useFieldSchema)(),F=(0,l.Si)(),W=F.service,X=(0,E.$)(),J=X.t,C=(0,o.ngQ)(),k=C.dn;return{title:J("Records per page"),value:((V=U.decoratorProps)===null||V===void 0||(V=V.params)===null||V===void 0?void 0:V.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],onChange:function(H){var te,le,ne=U.decoratorProps.params||{};ne.pageSize=H,U.decoratorProps.params=ne,I["x-decorator-props"].params=ne,W.run(i()(i()({},(te=W.params)===null||te===void 0?void 0:te[0]),{},{pageSize:H,page:1})),k.emit("patch",{schema:(le={},d()(le,"x-uid",I["x-uid"]),d()(le,"x-decorator-props",I["x-decorator-props"]),le)})}}}},{name:"ConnectDataBlocks",Component:R.F,useComponentProps:function(){var V=(0,E.$)(),U=V.t;return{type:r.vC.TABLE,emptyDescription:U("No blocks to connect")}}},{name:"divider",type:"divider",useVisible:function(){var V,U=(0,a.useFieldSchema)(),I=!(U!=null&&(V=U["x-decorator-props"])!==null&&V!==void 0&&V.disableTemplate);return I}},{name:"ConvertReferenceToDuplicate",Component:L.G,useComponentProps:function(){var V,U,I=(0,n.useCollection_deprecated)(),F=I.name,W=(0,a.useFieldSchema)(),X=(W==null||(V=W["x-decorator-props"])===null||V===void 0?void 0:V.resource)||(W==null||(U=W["x-decorator-props"])===null||U===void 0?void 0:U.association);return{componentName:"Table",collectionName:F,resourceName:X}},useVisible:function(){var V,U=(0,a.useFieldSchema)(),I=!(U!=null&&(V=U["x-decorator-props"])!==null&&V!==void 0&&V.disableTemplate);return I}},{name:"divider2",type:"divider"},{name:"editTheme",Component:y.s,useComponentProps:function(){var V=(0,E.$)(),U=V.t;return{title:U("Block theme")}}},{name:"mobileAdaptation",Component:D._z},{name:"divider3",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]})},23450:function(se,j,e){"use strict";e.d(j,{F:function(){return g}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(94350),d=e(26793),h=e(74614),t=e(91410),c=e(6145),i=e(98427),a=e(29132),f=e(81230),l=e(21774);function n(){var y,D,P,E=(0,f.z)(),O=E.fieldSchema,T=E.collectionField,S=(0,p.useField)(),$=(0,i.G5e)(),Z=(0,p.useFieldSchema)(),K=O||Z,z={AssociationField:"Select"},w=(K==null||(y=K["x-component-props"])===null||y===void 0?void 0:y.mode)||(S==null||(D=S.componentProps)===null||D===void 0?void 0:D.mode)||($?"FileManager":"")||(T==null||(P=T.uiSchema)===null||P===void 0?void 0:P["x-component"]);return z[w]||w}var r=e(88773),o=e(32827),g=new t.F({name:"fieldSettings:TableColumn",items:[{name:"decoratorOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var D=(0,d.$)(),P=D.t;return{title:P("Generic properties")}},useChildren:function(){return[{name:"customColumnTitle",type:"modal",useComponentProps:function(){var P,E=(0,f.z)(),O=E.fieldSchema,T=E.collectionField,S=(0,p.useField)(),$=(0,d.$)(),Z=$.t,K=(0,p.useFieldSchema)(),z=(0,i.ngQ)(),w=z.dn;return{title:Z("Custom column title"),schema:{type:"object",title:Z("Custom column title"),properties:{title:{title:Z("Column title"),default:K==null?void 0:K.title,description:"".concat(Z("Original field title: ")).concat((T==null||(P=T.uiSchema)===null||P===void 0?void 0:P.title)||(O==null?void 0:O.title)),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(M){var b=M.title;b&&(S.title=b,K.title=b,w.emit("patch",{schema:{"x-uid":K["x-uid"],title:K.title}})),w.refresh()}}}},{name:"columnWidth",type:"modal",useComponentProps:function(){var P,E=(0,p.useField)(),O=(0,d.$)(),T=O.t,S=(0,p.useFieldSchema)(),$=(0,i.ngQ)(),Z=$.dn;return{title:T("Column width"),schema:{type:"object",title:T("Column width"),properties:{width:{default:(S==null||(P=S["x-component-props"])===null||P===void 0?void 0:P.width)||200,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{}}}},onSubmit:function(z){var w=z.width,A=S["x-component-props"]||{};A.width=w;var M=u()({},"x-uid",S["x-uid"]);M["x-component-props"]=A,S["x-component-props"]=A,E.componentProps.width=w,Z.emit("patch",{schema:M}),Z.refresh()}}}},{name:"enableOverflow",type:"switch",useComponentProps:function(){var P,E=(0,d.$)(),O=E.t,T=(0,p.useField)(),S=(0,f.z)(),$=S.fieldSchema,Z=(0,p.useFieldSchema)(),K=$||Z,z=(0,i.ngQ)(),w=z.dn;return{title:O("Enable Overflow"),checked:((P=K["x-component-props"])===null||P===void 0?void 0:P.enableOverflow)===!0,onChange:function(M){K["x-component-props"]=m()(m()({},K==null?void 0:K["x-component-props"]),{},{enableOverflow:M}),T.componentProps.enableOverflow=M,w.emit("patch",{schema:{"x-uid":K["x-uid"],"x-component-props":m()({},K==null?void 0:K["x-component-props"])}}),w.refresh()}}}},{name:"fieldComponentFixed",type:"select",useComponentProps:function(){var P,E,O=(0,d.$)(),T=O.t,S=(0,p.useField)(),$=(0,f.z)(),Z=$.fieldSchema,K=(0,p.useFieldSchema)(),z=Z||K,w=(0,i.ngQ)(),A=w.dn,M=(P=z==null||(E=z["x-component-props"])===null||E===void 0?void 0:E.fixed)!==null&&P!==void 0?P:!1;return{title:T("Fixed Column"),options:[{label:T("Not Fixed"),value:!1},{label:T("Left Fixed"),value:"left"},{label:T("Right Fixed"),value:"right"}],value:M,onChange:function(R){var L=u()({},"x-uid",z["x-uid"]);z["x-component-props"]=z["x-component-props"]||{},z["x-component-props"].fixed=R,L["x-component-props"]=z["x-component-props"],S.componentProps=S.componentProps||{},S.componentProps.fixed=R,A.emit("patch",{schema:L}),A.refresh()}}}},{name:"fieldComponentAlign",type:"select",useComponentProps:function(){var P,E,O=(0,d.$)(),T=O.t,S=(0,p.useField)(),$=(0,f.z)(),Z=$.fieldSchema,K=(0,p.useFieldSchema)(),z=Z||K,w=(0,i.ngQ)(),A=w.dn,M=(P=z==null||(E=z["x-component-props"])===null||E===void 0?void 0:E.align)!==null&&P!==void 0?P:"left";return{title:T("Column Align"),options:[{label:T("Center Align"),value:"center"},{label:T("Left Align"),value:"left"},{label:T("Right Align"),value:"right"}],value:M,onChange:function(R){var L=u()({},"x-uid",z["x-uid"]);z["x-component-props"]=z["x-component-props"]||{},z["x-component-props"].align=R,L["x-component-props"]=z["x-component-props"],S.componentProps=S.componentProps||{},S.componentProps.align=R,A.emit("patch",{schema:L}),A.refresh()}}}},{name:"sortable",type:"switch",useVisible:function(){var P=(0,f.z)(),E=P.collectionField,O=(0,c.useCollectionManager_deprecated)(),T=O.getInterface,S=T(E==null?void 0:E.interface),$=(0,a.Ky)(),Z=$.currentMode;return(S==null?void 0:S.sortable)===!0&&!Z},useComponentProps:function(){var P=(0,p.useField)(),E=(0,d.$)(),O=E.t,T=(0,p.useFieldSchema)(),S=(0,i.ngQ)(),$=S.dn;return{title:O("Sortable"),checked:P.componentProps.sorter,onChange:function(K){var z=u()({},"x-uid",T["x-uid"]);T["x-component-props"]=m()(m()({},T["x-component-props"]),{},{sorter:K}),z["x-component-props"]=T["x-component-props"],P.componentProps.sorter=K,$.emit("patch",{schema:z}),$.refresh()}}}},{name:"setDefaultValue",useVisible:function(){var P=(0,f.z)(),E=P.fieldSchema;return!E["x-read-pretty"]},Component:l.N,useComponentProps:function(){var P=(0,f.z)(),E=P.fieldSchema;return{fieldSchema:E}}},{name:"required",type:"switch",useVisible:function(){var P=(0,f.z)(),E=P.uiSchema,O=P.fieldSchema,T=(0,p.useField)(),S=["QuickEdit","FormItem"].includes(O["x-decorator"]);return S&&!T.readPretty&&!(E!=null&&E["x-read-pretty"])||(E==null?void 0:E["x-component"])==="Formula.Result"},useComponentProps:function(){var P=(0,f.z)(),E=P.fieldSchema,O=(0,p.useField)(),T=(0,d.$)(),S=T.t,$=(0,i.ngQ)(),Z=$.dn;return{key:"required",title:S("Required"),checked:E.required,onChange:function(z){var w,A,M=u()({},"x-uid",E["x-uid"]);E.required=z,M.required=z;var b=(w=O.path)===null||w===void 0?void 0:w.splice(((A=O.path)===null||A===void 0?void 0:A.length)-1,1);O.form.query("".concat(b.concat("*."+E.name))).forEach(function(R){R.required=z}),console.log("test",O.form.query("".concat(b.concat("*."+E.name)))),Z.emit("patch",{schema:M}),Z.refresh()}}}},{name:"pattern",type:"select",useVisible:function(){var P=(0,f.z)(),E=P.fieldSchema,O=P.collectionField,T=(0,p.useField)(),S=["QuickEdit","FormItem"].includes(E["x-decorator"]);return S&&!(T!=null&&T.readPretty)&&(O==null?void 0:O.interface)!=="o2m"&&!(0,r.V)(E)},useComponentProps:function(){var P=(0,f.z)(),E=P.fieldSchema,O=(0,p.useField)(),T=(0,d.$)(),S=T.t,$=(0,i.ngQ)(),Z=$.dn,K="editable";return E["x-disabled"]===!0&&(K="readonly"),E["x-read-pretty"]===!0&&(K="read-pretty"),{key:"pattern",title:S("Pattern"),options:[{label:S("Editable"),value:"editable"},{label:S("Readonly"),value:"readonly"},{label:S("Easy-reading"),value:"read-pretty"}],value:K,onChange:function(w){var A,M,b=u()({},"x-uid",E["x-uid"]),R=(A=O.path)===null||A===void 0?void 0:A.splice(((M=O.path)===null||M===void 0?void 0:M.length)-1,1);switch(w){case"readonly":{E["x-read-pretty"]=!1,E["x-disabled"]=!0,b["x-read-pretty"]=!1,b["x-disabled"]=!0,O.form.query("".concat(R.concat("*."+E.name))).forEach(function(L){L.readonly=!0,L.disabled=!0});break}case"read-pretty":{E["x-read-pretty"]=!0,E["x-disabled"]=!1,b["x-read-pretty"]=!0,b["x-disabled"]=!1,O.form.query("".concat(R.concat("*."+E.name))).forEach(function(L){L.readPretty=!0});break}default:{E["x-read-pretty"]=!1,E["x-disabled"]=!1,b["x-read-pretty"]=!1,b["x-disabled"]=!1,O.form.query("".concat(R.concat("*."+E.name))).forEach(function(L){L.readPretty=!1,L.disabled+!1});break}}Z.emit("patch",{schema:b}),Z.refresh()}}}},(0,o.KA)({componentType:o.re.table})]}},{name:"componentOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var D=(0,d.$)(),P=D.t;return{title:P("Specific properties")}},useChildren:function(){var D=(0,h.qD)(),P=n(),E={Select:"Select",DatePicker:"DatePicker",Nester:"Nester",SubTable:"SubTable",Picker:"Picker",PopoverNester:"PopoverNester",Tag:"Tag"},O=D.schemaSettingsManager.get("fieldSettings:component:".concat(E[P]||P));return(O==null?void 0:O.items)||[]}},{name:"divider",type:"divider"},{name:"delete",type:"remove",sort:100,useComponentProps:function(){var D=(0,d.$)(),P=D.t;return{removeParentsIfNoChildren:!0,confirm:{title:P("Delete field")},breakRemoveOn:{"x-component":"Grid"}}}}]})},16097:function(se,j,e){"use strict";e.d(j,{sR:function(){return c},Mq:function(){return t},d4:function(){return h},jI:function(){return u.jI},XB:function(){return i.X},wq:function(){return u.wq},tU:function(){return u.tU},dS:function(){return p.d},jM:function(){return p.j},os:function(){return d.o},ln:function(){return v.l},ec:function(){return x.e},tm:function(){return m.t}});var v=e(86693),m=e(31793),x=e(21109),u=e(4277),p=e(80159),d=e(95216),h="chart_template",t="Chart Template",c=function(a){return a.Charts="Charts",a}({}),i=e(89265)},92700:function(se,j,e){"use strict";e.d(j,{_:function(){return m}});var v=e(49834),m=function(u){var p=(0,v.nE)();if(u)return p}},19530:function(se,j,e){"use strict";e.d(j,{U:function(){return m}});var v=e(35746),m=function(u){var p=(0,v.d9)();return p.getSourceKeyByAssociation(u)}},79268:function(se,j,e){"use strict";e.d(j,{W:function(){return P},B:function(){return E}});var v=e(97857),m=e.n(v),x=e(67294),u=e(70173),p=e(35120),d=e(76858),h=e(90974),t=e(68400),c=e.n(t),i=e(94350),a=e(97133),f=e(21143),l=e(534),n=e(85893),r,o=(0,i.observer)(function(O){var T=O.footerNodeName,S=(0,l.XC)(),$=S.visible,Z=S.setVisible,K=(0,i.useFieldSchema)(),z=(0,i.useField)(),w=K.reduceProperties(function(M,b){return b["x-component"]===T?b:M}),A=!!w;return(0,n.jsxs)(f.XPopup,{visible:$,setVisible:Z,getContainer:"body",children:[(z==null?void 0:z.title)&&(0,n.jsx)("p",{style:{fontSize:18,fontWeight:600,color:"#111928"},children:z.title}),(0,n.jsx)(i.RecursionField,{basePath:z.address,schema:K,onlyRenderProperties:!0,filterProperties:function(b){return b["x-component"]!==T&&b["x-display"]!=="hidden"}}),A&&(0,n.jsx)("div",{className:(0,a.css)(r||(r=c()([`
              .ant-space-item {
                flex: 1;
              }
            `]))),children:(0,n.jsx)(i.RecursionField,{basePath:z.address,schema:K,onlyRenderProperties:!0,filterProperties:function(b){return b["x-component"]===T}})})]})},{displayName:"ActionPopup"}),g=o,y={defaultOpenMode:"drawer",openModeToComponent:{drawer:p.Z,page:h.Z,modal:d.Z,popup:u.isMobile?g:d.Z},hideOpenMode:!1},D=x.createContext(null),P=function(T){var S=(0,x.useMemo)(function(){var K=m()({},y);return T.defaultOpenMode!==void 0&&(K.defaultOpenMode=T.defaultOpenMode),T.openModeToComponent!==void 0&&(K.openModeToComponent=T.openModeToComponent),T.hideOpenMode!==void 0&&(K.hideOpenMode=T.hideOpenMode),K},[T.defaultOpenMode,T.openModeToComponent,T.hideOpenMode]),$=(0,x.useCallback)(function(K){var z=S.openModeToComponent[K];return z||console.error("OpenModeProvider: openModeToComponent[".concat(K,"] is not defined")),z},[S]),Z=(0,x.useMemo)(function(){return{defaultOpenMode:S.defaultOpenMode,hideOpenMode:S.hideOpenMode,getComponentByOpenMode:$}},[S.defaultOpenMode,S.hideOpenMode,$]);return(0,n.jsx)(D.Provider,{value:Z,children:T.children})},E=function(){return x.useContext(D)}},73691:function(se,j,e){"use strict";e.d(j,{Rm:function(){return t},Sw:function(){return c},ec:function(){return i}});var v=e(67294),m=e(26793),x=e(49834),u=e(58837),p=e(85893),d=v.createContext(null),h=v.createContext(null),t=function(f){var l,n,r=(0,m.$)(),o=r.t,g=(0,x.nE)(),y=(0,u.Kx)(),D=c();return(0,p.jsx)(h.Provider,{value:{name:"$nParentPopupRecord",title:o("Parent popup record"),value:((l=f.parent)===null||l===void 0?void 0:l.recordData)||(D==null?void 0:D.value),collection:((n=f.parent)===null||n===void 0?void 0:n.collection)||(D==null?void 0:D.collection)},children:(0,p.jsx)(d.Provider,{value:{name:"$nPopupRecord",title:o("Current popup record"),value:f.recordData||g,collection:f.collection||y},children:f.children})})},c=function(){return v.useContext(d)},i=function(){return v.useContext(h)}},9040:function(se,j,e){"use strict";e.d(j,{x:function(){return K},y:function(){return O}});var v=e(15009),m=e.n(v),x=e(97857),u=e.n(x),p=e(99289),d=e.n(p),h=e(5574),t=e.n(h),c=e(9783),i=e.n(c),a=e(67294),f=e(21143),l=e(84327),n=e(94350),r=e(15867),o=e(17535),g=e(26793),y=e(70173),D=e(96486),P=e.n(D),E=e(85893),O=(0,a.createContext)([]),T=new n.Schema({type:"void",name:(0,l.uid)(),"x-uid":(0,l.uid)(),properties:i()({},(0,l.uid)(),{type:"void","x-component":"div","x-uid":(0,l.uid)(),properties:i()({},(0,l.uid)(),{type:"void","x-component":"Page","x-component-props":{enablePageTabs:!1},"x-uid":(0,l.uid)(),properties:i()({},(0,l.uid)(),{type:"void","x-initializer":"BlockInitializers","x-uid":(0,l.uid)(),"x-component":"Grid"})})})}).toJSON(),S=function(w){var A=(0,y.findSchema)(w,function(b){return b["x-component"]==="Page"}),M=A.mapProperties(function(b){return b["x-uid"]});return M};function $(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{style:{fontSize:"18px"},children:"As you can see from this text, this is a markdown block that is part of the Xwork no-code capability."}),(0,E.jsx)("div",{style:{fontSize:"18px"},children:"And In this space, you can use X Work no-code capability to build your data view in the web browser side, such as chart\u3001report and table."})]})}var Z=function(w){if(w){var A=(0,y.findSchema)(w,function(N){return N["x-component"]==="Page"}),M=A.mapProperties(function(N){return N.properties});if(M.filter(function(N){return!(0,D.isEmpty)(N)}).length>0){var b=A.properties.emptyBlock;if(b){var R=(0,f.createDesignable)({current:b});R.remove()}return}var L=(0,f.createDesignable)({current:A});L.insertAfterBegin({name:"emptyBlock",type:"void","x-decorator":"CardItem","x-component":"EmptyBlock","x-uid":(0,l.uid)()})}};function K(){var z=(0,a.useContext)(f.SchemaComponentContext),w=(0,f.useAPIClient)(),A=(0,g.$)(),M=A.t,b=(0,a.useState)({designable:!1,xuid:"",schema:null}),R=t()(b,2),L=R[0],N=R[1],B=(0,a.useState)([]),V=t()(B,2),U=V[0],I=V[1];(0,a.useEffect)(function(){var C=function(){var k=d()(m()().mark(function Y(){var H,te,le,ne,ie,ee,fe,de,ue,Se,ae;return m()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.prev=0,re.next=3,w.request({url:"public:getMyWorkspaceXuid"});case 3:if(te=re.sent,le=te.data,!(le!=null&&(H=le.data)!==null&&H!==void 0&&H.xuid)){re.next=9;break}ne=le==null||(ie=le.data)===null||ie===void 0?void 0:ie.xuid,re.next=14;break;case 9:return re.next=11,w.resource("uiSchemas").insert({values:T,isPrivate:!0});case 11:ee=re.sent,fe=ee.data,ne=fe.data["x-uid"];case 14:return re.next=16,w.request({url:"uiSchemas:getProperties/".concat(ne)});case 16:de=re.sent,ue=de.data,Se=new n.Schema(u()({name:(0,l.uid)()},ue.data)),ae=S(Se),I(ae),N(function(oe){return u()(u()({},oe),{},{xuid:ne,schema:Se})}),re.next=27;break;case 24:re.prev=24,re.t0=re.catch(0),(0,y.captureException)(re.t0);case 27:case"end":return re.stop()}},Y,null,[[0,24]])}));return function(){return k.apply(this,arguments)}}();C()},[]);function F(){N(function(C){return u()(u()({},C),{},{designable:!C.designable})})}function W(){var C=S(L.schema);C.join(",")!==U.join(",")&&I(C),Z(L.schema)}var X=L.designable,J=L.schema;return Z(J),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(f.SchemaComponentContext.Provider,{value:u()(u()({},z),{},{distributed:!1,refresh:W,designable:X}),children:(0,E.jsx)(O.Provider,{value:U,children:(0,E.jsx)(f.SchemaComponent,{schema:J,components:{EmptyBlock:$}})})}),!y.isMobile&&(0,E.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"15px"},children:(0,E.jsx)(r.ZP,{onClick:F,type:"primary",icon:(0,E.jsx)(o.Z,{}),children:M("UI editor")})})]})}},6504:function(se,j,e){"use strict";e.d(j,{q:function(){return Rn}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(97857),n=e.n(l),r=e(68400),o=e.n(r),g=e(54494),y=e(97133),D=e(22248),P=e(57953),E=e(86250),O=e(48054),T=e(15867),S=e(59720),$=e(5914),Z=e(67294),K=e(89250),z=e(47646),w=e(72029),A=e(31601),M=e(79531),b=e(6145),R=e(14230),L=e(52817),N=e(17627),B=e(52242),V=e(98427),U=e(70627),I=e(75585),F=e(46167),W=e(81560),X=e(95354),J=e(14518),C=e(8985),k=e(25098),Y=e.n(k),H=e(9783),te=e.n(H),le=e(28853),ne=e(28459),ie=e(3321),ee=e(27484),fe=e.n(ee),de=e(54579),ue=e(35310),Se=function(un){i()(rn,un);var jt=f()(rn);function rn(){var An;d()(this,rn);for(var En=arguments.length,gn=new Array(En),jn=0;jn<En;jn++)gn[jn]=arguments[jn];return An=jt.call.apply(jt,[this].concat(gn)),te()(Y()(An),"locales",{}),An}return t()(rn,[{key:"afterAdd",value:function(){var An=u()(m()().mark(function gn(){var jn=this,Yt,gt,wt,Vt,It,zt,In,Tn,en,qn,er,ar;return m()().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:return Yt=this.app.apiClient,gt=Yt.auth.locale,rr.prev=2,rr.next=5,Yt.request({url:"app:getLang",params:{locale:gt},headers:{"X-Role":"anonymous"}});case 5:return Tn=rr.sent,en=Tn==null?void 0:Tn.data,this.locales=(en==null?void 0:en.data)||{},this.app.use(ne.ZP,{locale:this.locales.antd,popupMatchSelectWidth:!1}),this.app.use(ie.Z,{component:!1}),en!=null&&(wt=en.data)!==null&&wt!==void 0&&wt.lang&&(Yt.auth.setLocale(en==null||(qn=en.data)===null||qn===void 0?void 0:qn.lang),this.app.i18n.changeLanguage(en==null||(er=en.data)===null||er===void 0?void 0:er.lang)),Object.keys((en==null||(Vt=en.data)===null||Vt===void 0?void 0:Vt.resources)||{}).forEach(function(hr){var Ar,_r;jn.app.i18n.addResources(en==null||(Ar=en.data)===null||Ar===void 0?void 0:Ar.lang,hr,(en==null||(_r=en.data)===null||_r===void 0?void 0:_r.resources[hr])||{})}),(0,le.setValidateLanguage)(en==null||(It=en.data)===null||It===void 0?void 0:It.lang),(0,de.L)(en==null?void 0:en.data),ar=ue.y[en==null||(zt=en.data)===null||zt===void 0?void 0:zt.lang]||"en",rr.next=17,e(40408)("./".concat(ar));case 17:fe().locale(ar),window.cronLocale=en==null||(In=en.data)===null||In===void 0?void 0:In.cron,rr.next=25;break;case 21:throw rr.prev=21,rr.t0=rr.catch(2),rr.t0;case 25:case"end":return rr.stop()}},gn,this,[[2,21]])}));function En(){return An.apply(this,arguments)}return En}()}]),rn}(A.S),ae=e(5574),G=e.n(ae),re=e(69677),oe=e(73379),ce=e(70173),be=e(94350),xe=e(86201),ge=e(85893);function he(un){var jt=(0,be.useField)(),rn=(0,Z.useState)({cameraId:"",devicesInfo:[],html5QrCode:null,isShowCover:!1,inpValue:""}),An=G()(rn,2),En=An[0],gn=An[1];(0,be.useFormEffects)(function(){(0,xe.onFormSubmit)(function(){gn(function(zt){return n()(n()({},zt),{},{inpValue:""})})})});function jn(zt){gn(function(In){return n()(n()({},In),{},{isShowCover:zt})})}function Yt(){(0,ce.callFlutter)("Scan",null,function(zt){un.onChange&&un.onChange(zt),gn(function(In){return n()(n()({},In),{},{inpValue:zt})})})}(0,Z.useEffect)(function(){(un.value||jt.initialValue)&&gn(function(zt){return n()(n()({},zt),{},{inpValue:un.value||jt.initialValue})})},[un]),(0,Z.useEffect)(function(){if(ce.DEVICE_TYPE!=="md"){var zt=function(){var en=u()(m()().mark(function qn(){var er,ar;return m()().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:return rr.next=2,(0,ce.loadPackage)("html5-qrcode");case 2:er=rr.sent,ar=er.Html5Qrcode,ar.getCameras().then(function(hr){hr&&hr.length&&(hr.length>1?En.cameraId=hr[1].id:En.cameraId=hr[0].id,En.devicesInfo=hr,In())}).catch(function(hr){});case 5:case"end":return rr.stop()}},qn)}));return function(){return en.apply(this,arguments)}}(),In=function(){var en=u()(m()().mark(function qn(){var er,ar;return m()().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:return rr.next=2,(0,ce.loadPackage)("html5-qrcode");case 2:er=rr.sent,ar=er.Html5Qrcode,En.html5QrCode=new ar("reader"),En.html5QrCode.start(En.cameraId,{fps:10,qrbox:{width:250,height:250}},function(hr,Ar){un.onChange&&un.onChange(hr),gn(function(_r){return n()(n()({},_r),{},{inpValue:hr})}),hr&&Tn()},function(){}).catch(function(){});case 6:case"end":return rr.stop()}},qn)}));return function(){return en.apply(this,arguments)}}(),Tn=function(){En.html5QrCode.stop().then(function(){gn(function(qn){return n()(n()({},qn),{},{isShowCover:!1,html5QrCode:null})})}).catch(function(){})};En.isShowCover&&zt(),!En.isShowCover&&En.html5QrCode&&Tn()}},[En,un]);function gt(){un.onChange&&un.onChange(En.inpValue)}function wt(zt){var In=zt.target.value;gn(function(Tn){return n()(n()({},Tn),{},{inpValue:In})})}var Vt=En.isShowCover,It=un.disabled;return(0,ge.jsxs)("div",{children:[jt.editable?(0,ge.jsx)(re.Z,{disabled:It,value:En.inpValue,onPressEnter:gt,onBlur:gt,onChange:wt,addonAfter:(0,ge.jsx)(oe.Z,{onClick:function(){return ce.DEVICE_TYPE==="pc"?jn(!0):Yt()}})}):(0,ge.jsx)("div",{children:En.inpValue}),Vt&&(0,ge.jsxs)("div",{className:"fix-cover",children:[(0,ge.jsx)("div",{id:"reader"}),(0,ge.jsx)("span",{className:"close",onClick:function(){return jn(!1)},children:"close"})]})]})}var Pe=he,Ae=e(21143),Be=0;function Le(un){var jt=(0,Z.useRef)(null),rn=(0,Ae.useAPIClient)(),An=(0,Ae.useCollectionField)(),En=(0,be.useForm)(),gn=(0,Z.useState)({query:"",fetchBool:!1,bindScanFieldAddress:""}),jn=G()(gn,2),Yt=jn[0],gt=jn[1];(0,be.useFormEffects)(function(){(0,xe.onFieldInputValueChange)("*",function(It){It.path.entire===An.relateScanKey&&gt(function(zt){return n()(n()({},zt),{},{query:It.value,fetchBool:!0,bindScanFieldAddress:It.address.entire})})})}),(0,Z.useEffect)(function(){if(typeof un.value!="string"&&En!=null&&En.values[An==null?void 0:An.relateScanKey]){var It=!1;for(var zt in En==null?void 0:En.fields)if(zt.indexOf(An==null?void 0:An.relateScanKey)>-1){var In;It=En==null||(In=En.fields[zt])===null||In===void 0?void 0:In.editable}if(!It)return;gt(function(Tn){return n()(n()({},Tn),{},{query:En==null?void 0:En.values[An==null?void 0:An.relateScanKey],fetchBool:!0,bindScanFieldAddress:""})})}},[]),(0,Z.useEffect)(function(){if(!(!Yt.fetchBool||!Yt.query)){jt.current&&clearTimeout(jt.current);var It=function(){var zt=u()(m()().mark(function In(){var Tn,en;return m()().wrap(function(er){for(;;)switch(er.prev=er.next){case 0:return er.prev=0,Be||Yt.bindScanFieldAddress&&(En.fields[Yt.bindScanFieldAddress].disabled=!0),Be++,er.next=5,rn.request({baseURL:An.fetchUrl,method:"post",data:te()({},An.reqKey,Yt.query)});case 5:Tn=er.sent,en=Tn.data,gt(function(ar){return n()(n()({},ar),{},{fetchBool:!1})}),en.data[An.resKey]&&un.onChange(en.data[An.resKey]),er.next=15;break;case 11:er.prev=11,er.t0=er.catch(0),console.log("scan input request error:",er.t0),un.onChange("");case 15:Be--,Be||Yt.bindScanFieldAddress&&(En.fields[Yt.bindScanFieldAddress].disabled=!1);case 17:case"end":return er.stop()}},In,null,[[0,11]])}));return function(){return zt.apply(this,arguments)}}();jt.current=setTimeout(It,1e3)}},[Yt.fetchBool,Yt.query,Yt.bindScanFieldAddress]);function wt(It){return Vt.apply(this,arguments)}function Vt(){return Vt=u()(m()().mark(function It(zt){return m()().wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:gt(function(en){return n()(n()({},en),{},{fetchBool:!1})}),un.onChange(zt.target.value);case 2:case"end":return Tn.stop()}},It)})),Vt.apply(this,arguments)}return(0,ge.jsx)(ge.Fragment,{children:un.disabled?(0,ge.jsx)("div",{children:un.value}):(0,ge.jsx)("div",{children:(0,ge.jsx)(re.Z,{value:un.value,onChange:wt,onFocus:function(){ce.isiOS&&setTimeout(function(){window.scrollTo(0,0),document.body.scrollTop=0},100)}})})})}var Me=Le,Te,we,Ue,je,De,ye=(0,y.css)(Te||(Te=o()([`
  padding: 18px 35px 18px 39px;
  background: #fff;
  flex: 1;
`]))),_e=(0,y.css)(we||(we=o()([`
  font-size: 15px;
  font-weight: 700;
  color: #2f3036;
  margin-bottom: 22px;
`]))),q=(0,y.css)(Ue||(Ue=o()([`
  display: block;
  list-style: none;
  margin-bottom: 0;
  padding-left: 0;

  &:not(:last-child) {
    margin-bottom: 27px;
  }

  &:not(:last-child) {
    &::after {
      display: block;
      content: ' ';
      height: 1px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      margin-top: 19px;
    }
  }
`]))),pe=(0,y.css)(je||(je=o()([`
  display: flex;
  align-items: center;

  &:not(:last-child) {
    margin-bottom: 12px;
  }
`]))),Re=(0,y.css)(De||(De=o()([`
  flex: 1;
  margin-left: 15px;
  color: rgba(29, 33, 41, 1);
  font-size: 12px;
`]))),Oe=function(){var jt,rn=(0,Ae.useAppMenu)(),An=rn.appGroupList,En=(0,K.useNavigate)(),gn=(0,K.useLocation)(),jn=(0,Ae.usePlugin)("@ashley/plugin-multi-app-manager"),Yt=jn==null||(jt=jn.app)===null||jt===void 0||(jt=jt.components)===null||jt===void 0?void 0:jt.AppIcon,gt=function(){var wt=u()(m()().mark(function Vt(It){return m()().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:En("/app/".concat(It.name));case 1:case"end":return In.stop()}},Vt)}));return function(It){return wt.apply(this,arguments)}}();return(0,Z.useEffect)(function(){var wt;!["apps-tab","app-page"].includes((wt=gn.state)===null||wt===void 0?void 0:wt.from)&&An.length===1&&An[0].keyApplications.length===1&&An[0].keyApplications[0].status&&gt(An[0].keyApplications[0])},[An,gn]),(0,ge.jsx)("div",{className:ye,children:An.map(function(wt){return(0,ge.jsxs)(Z.Fragment,{children:[(0,ge.jsx)("p",{className:_e,children:wt.displayName}),(0,ge.jsx)("ul",{className:q,children:wt.keyApplications.filter(function(Vt){return!!Vt.status}).map(function(Vt){var It;return(0,ge.jsxs)("li",{className:pe,onClick:function(){gt(Vt)},children:[(0,ge.jsx)(Yt,{appDisplayName:Vt.displayName,value:(It=Vt.options)===null||It===void 0?void 0:It.icon}),(0,ge.jsx)("div",{className:Re,children:(0,ge.jsx)(Ae.EllipsisWithTooltip,{ellipsis:!0,children:Vt.displayName})})]},Vt.id)})})]},wt.id)})})},$e=e(54399),Ve=e(26793),Ze=e(86739),qe=e(16072),Qe=e(94749),ke=e(7737),ft=e(59637);function vt(un){var jt=un.title,rn=un.checked,An=un.onChange,En=un.disabled,gn=(0,Z.useCallback)(function(jn){jn.stopPropagation()},[]);return(0,ge.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},onClick:gn,children:[jt,(0,ge.jsx)(ft.Z,{checked:rn,disabled:En,onChange:An})]})}var _t=function(){var jt=(0,Ve.$)(),rn=jt.t,An=(0,Ae.useOfflineMode)(),En=(0,Z.useMemo)(function(){return{key:"offlineMode",eventKey:"offlineMode",label:(0,ge.jsx)(vt,{title:rn("Enable offline mode"),checked:An.isOfflineMode,onChange:An.setIsOfflineMode})}},[An]);return En},Nt=e(96522),Kt,ut,Rt,Dt,dt,Bt=["xworkdev.ashgso.com","xworktest.ashgso.com","xworknext.ashgso.com","xworkempty.ashgso.com"].includes(location.host),He=(0,y.css)(Kt||(Kt=o()([`
  padding: 24px 16px;

  .adm-list {
    --font-size: 14px;
  }

  .adm-list-default .adm-list-body {
    border-top: none;
    border-bottom: none;

    .adm-list-item:last-of-child {
      .adm-list-item-content {
        border-bottom: var(--border-bottom);
      }
    }

    .adm-list-item-content-main {
      padding: 16px;
      color: #1f2024;
    }
    .adm-list-item-content-arrow {
      font-size: 12px;
      color: #8f9098;
    }
  }
`]))),ct=(0,y.css)(ut||(ut=o()([`
  .adm-list-item-content {
    padding-right: 0;
  }
  .adm-list-item-content-main {
    padding-right: 0 !important;
  }
`]))),St="",Tt=function(){var jt,rn,An,En,gn=(0,Ze.OP)(),jn=(0,C.t$)(),Yt=jn.getMenuItems,gt=Yt(),wt=gt.find(function(Sr){return Sr.key==="theme"}),Vt=gn.data,It=(0,Ve.$)(),zt=It.t,In=It.i18n,Tn=(0,K.useNavigate)(),en=(0,w.LY)(),qn=(0,qe.i)(),er=(0,Qe.y)(),ar=(0,Ze.ih)(),nr=(0,z.TR)(),rr=_t(),hr=(0,J.HX)(),Ar=hr.data,_r=(0,Z.useMemo)(function(){var Sr;return(Ar==null||(Sr=Ar.data)===null||Sr===void 0?void 0:Sr.enabledLanguages)||[]},[Ar==null||(jt=Ar.data)===null||jt===void 0?void 0:jt.enabledLanguages]),Ir=(0,Z.useRef)(null);return(0,Nt.Z)(function(){Bt&&ce.isMobile&&e.e(4703).then(e.t.bind(e,71415,23)).then(function(Sr){new Sr.default})},Ir,{delay:1e3}),(0,ge.jsxs)("div",{className:(0,y.css)(Rt||(Rt=o()([`
        background: white;
        height: 100vh;
      `]))),children:[(0,ge.jsx)("h1",{className:(0,y.css)(Dt||(Dt=o()([`
          display: flex;
          justify-content: center;
          align-items: center;
          height: 56px;
          font-weight: 800;
          font-size: 14px;
          margin-bottom: 0;
        `]))),children:zt("Settings")}),(0,ge.jsxs)("div",{className:(0,y.css)(dt||(dt=o()([`
          display: flex;
          flex-direction: column;
          align-items: center;
          padding-top: 8px;
        `]))),children:[(0,ge.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:Ir,children:[(0,ge.jsxs)("g",{clipPath:"url(#clip0_3_1802)",children:[(0,ge.jsx)("rect",{width:"80",height:"80",rx:"20",fill:"#FFEBD8"}),(0,ge.jsx)("path",{d:"M9.99988 65.7625C9.99988 56.9259 17.1633 49.7625 25.9999 49.7625H53.9999C62.8364 49.7625 69.9999 56.9259 69.9999 65.7625V93.7625C69.9999 102.599 62.8364 109.762 53.9999 109.762H25.9999C17.1633 109.762 9.99988 102.599 9.99988 93.7625V65.7625Z",fill:"#FFB35A"}),(0,ge.jsx)("circle",{cx:"39.9999",cy:"28",r:"16",fill:"#FFB35A"})]}),(0,ge.jsx)("defs",{children:(0,ge.jsx)("clipPath",{id:"clip0_3_1802",children:(0,ge.jsx)("rect",{width:"80",height:"80",rx:"20",fill:"white"})})})]}),(0,ge.jsx)("p",{style:{margin:"16px 0 4px 0",fontWeight:900,fontSize:16,color:"#1F2024",textAlign:"center"},children:(Vt==null||(rn=Vt.data)===null||rn===void 0?void 0:rn.nickname)||(Vt==null||(An=Vt.data)===null||An===void 0?void 0:An.username)||(Vt==null||(En=Vt.data)===null||En===void 0?void 0:En.email)})]}),(0,ge.jsx)("div",{className:He,children:(0,ge.jsxs)($e.aV,{children:[(0,ge.jsx)($e.aV.Item,{onClick:er.onClick,children:er.label}),(0,ge.jsx)($e.aV.Item,{onClick:qn.onClick,children:qn.label}),(0,ge.jsx)($e.aV.Item,{onClick:ce.clearClientCacheStorageAndReload,children:zt("Reload application")}),ar.length<2?null:(0,ge.jsx)($e.aV.Item,{className:ct,extra:(0,ge.jsx)(ke.T,{title:"",fieldNames:{label:"title",value:"name"},options:ar,defaultValue:en.auth.role,onChange:function(){var Sr=u()(m()().mark(function Mr(Br){return m()().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return en.auth.setRole(Br),Wt.next=3,en.resource("users").setDefaultRole({values:{roleName:Br}});case 3:return Wt.next=5,nr.refresh();case 5:case"end":return Wt.stop()}},Mr)}));return function(Mr){return Sr.apply(this,arguments)}}()}),children:zt("Switch role")}),_r.length<2?null:(0,ge.jsx)($e.aV.Item,{className:ct,extra:(0,ge.jsx)(ke.T,{title:"",options:Object.keys(ue.Z).filter(function(Sr){return _r.includes(Sr)}).map(function(Sr){return{label:ue.Z[Sr].label,value:Sr}}),defaultValue:In.language,onChange:function(){var Sr=u()(m()().mark(function Mr(Br){return m()().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return Wt.next=2,en.resource("users").updateProfile({values:{appLang:Br}});case 2:en.auth.setLocale(Br),window.location.reload();case 4:case"end":return Wt.stop()}},Mr)}));return function(Mr){return Sr.apply(this,arguments)}}()}),children:zt("Language")}),(0,ge.jsx)($e.aV.Item,{onClick:u()(m()().mark(function Sr(){return m()().wrap(function(Br){for(;;)switch(Br.prev=Br.next){case 0:return Br.next=2,en.auth.signOut();case 2:return Br.next=4,gn.refresh();case 4:Tn("/signin?redirect=".concat(encodeURIComponent(St)));case 5:case"end":return Br.stop()}},Sr)})),children:zt("Sign out")}),(0,ge.jsx)($e.aV.Item,{className:ct,children:rr.label}),wt&&(0,ge.jsx)($e.aV.Item,{className:ct,children:wt.label})]})})]})},Mt,Zt,Je=function(){var jt=(0,Ve.$)(),rn=jt.t;return(0,ge.jsxs)("div",{className:(0,y.css)(Mt||(Mt=o()([`
        background: #fff;
        height: 100%;
      `]))),children:[(0,ge.jsx)("h1",{className:(0,y.css)(Zt||(Zt=o()([`
          display: flex;
          justify-content: center;
          align-items: center;
          height: 56px;
          font-weight: 800;
          font-size: 14px;
          margin-bottom: 0;
        `]))),children:rn("Notification")}),(0,ge.jsx)("div",{style:{height:"calc(100% - 56px)",overflow:"auto"},children:(0,ge.jsx)(Ae.SchemaComponent,{schema:{type:"void",name:"NotificationDrawer","x-component":"NotificationDrawer"}})})]})},et=e(58809),rt=e(99622),yt=e(61384),xt=e(94627),Ct=e(83117),mt=e(68230);function at(un){var jt,rn,An,En,gn,jn,Yt,gt=(0,be.useField)(),wt=(0,be.useForm)(),Vt=(0,be.useFieldSchema)(),It=(0,mt.d)(),zt=It.token,In=(0,Ae.useCollectionField)(),Tn=(0,Z.useState)(0),en=G()(Tn,2),qn=en[0],er=en[1],ar=(0,Z.useState)(5),nr=G()(ar,2),rr=nr[0],hr=nr[1],Ar=!!((jt=Vt==null||(rn=Vt["x-component-props"])===null||rn===void 0?void 0:rn.allowHalfSelection)!==null&&jt!==void 0?jt:!gt.editable),_r=Vt==null||(An=Vt["x-component-props"])===null||An===void 0?void 0:An.rateIcon,Ir=_r?(0,ge.jsx)(xt.JO,{type:_r}):(0,ge.jsx)(Ct.Z,{}),Sr=In==null||(En=In.rateLabel)===null||En===void 0||(gn=En.replace)===null||gn===void 0?void 0:gn.call(En,/,|/g,","),Mr=(jn=Sr==null||(Yt=Sr.split)===null||Yt===void 0?void 0:Yt.call(Sr,",")[Math.ceil(qn)-1])!==null&&jn!==void 0?jn:"";(0,Z.useEffect)(function(){var Wt;if(!In&&(Vt==null?void 0:Vt["x-component"])==="DefinedRate"){er(un.value);return}er(un.value?un.value:0),hr(In==null?void 0:In.rateCount);var Ft=wt==null||(Wt=wt.subscribe)===null||Wt===void 0?void 0:Wt.call(wt,function(an){var Bn=an.type;Bn==="onFormReset"&&er(0)});return function(){if(Ft){var an;wt==null||(an=wt.unsubscribe)===null||an===void 0||an.call(wt,Ft)}}},[un.value]);var Br=function(Ft){er(Ft),un.onChange(Ft!==0?Ft:void 0)};function Mn(Wt){er(Wt.target.value),un.onChange(Wt.target.value)}return!In&&(Vt==null?void 0:Vt["x-component"])==="DefinedRate"?(0,ge.jsx)(re.Z,{value:qn,onChange:Mn}):(0,ge.jsxs)("div",{style:{flexDirection:"column"},children:[(0,ge.jsx)(yt.Z,{character:Ir,allowHalf:Ar,disabled:!gt.editable,onChange:Br,value:qn,count:rr}),Mr&&(0,ge.jsx)("div",{className:"rate-text",style:{color:zt.colorPrimary,lineHeight:"18px",marginBottom:"6px"},children:Mr})]})}var ht=at,ot,kt,nn,Lt=function(){var jt,rn=(0,w.LY)(),An=JSON.parse(rn.auth.getOption("theme")),En=(0,y.css)(ot||(ot=o()([`
    .ant-spin-dot-item {
      background: `,`;
    }
  `])),(An==null||(jt=An.config)===null||jt===void 0||(jt=jt.token)===null||jt===void 0?void 0:jt.xwColorPrimaryHighlight)||et.uH.token.xwColorPrimaryHighlight);return(0,ge.jsx)(P.Z,{style:{position:"fixed",top:"50%",left:"50%",fontSize:72,transform:"translate(-50%, -50%)"},className:En})},hn=function(jt){var rn=Number(localStorage.getItem("NOCODE_SIDEBAR_WIDTH")||250);return(0,ge.jsxs)(E.Z,{vertical:!0,gap:16,style:{width:rn,background:"#fff",padding:"16px 32px"},id:jt.needId?"side-bar-menu-skeleton":void 0,children:[(0,ge.jsx)(O.Z.Input,{active:!0,block:!0}),(0,ge.jsx)(O.Z.Input,{active:!0,block:!0}),(0,ge.jsx)(O.Z.Input,{active:!0,block:!0}),(0,ge.jsx)(O.Z.Input,{active:!0,block:!0}),(0,ge.jsx)(O.Z.Input,{active:!0,block:!0}),(0,ge.jsx)(O.Z.Input,{active:!0,block:!0})]})},Dn=function(){return ce.isMobile?(0,ge.jsx)(Lt,{}):(0,ge.jsxs)(E.Z,{vertical:!0,style:{height:"100vh"},children:[(0,ge.jsxs)("header",{style:{width:"100%",height:56,background:"#fff",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ge.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,ge.jsx)(O.Z.Button,{active:!0,style:{width:88}}),(0,ge.jsx)(O.Z.Input,{active:!0}),(0,ge.jsx)(O.Z.Input,{active:!0}),(0,ge.jsx)(O.Z.Input,{active:!0})]}),(0,ge.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,ge.jsx)(O.Z.Avatar,{active:!0,shape:"square"}),(0,ge.jsx)(O.Z.Avatar,{active:!0,shape:"square"}),(0,ge.jsx)(O.Z.Avatar,{active:!0,shape:"square"})]})]}),(0,ge.jsxs)(E.Z,{flex:1,children:[(0,ge.jsx)(hn,{}),(0,ge.jsx)("div",{style:{flex:1,background:"#F4F7FE",padding:"16px 24px"},children:(0,ge.jsx)(rt.L,{})})]})]})},Gt=function(jt,rn){var An,En=(0,w.LY)();if(!rn)return{};var gn=(rn==null||(An=rn.response)===null||An===void 0||(An=An.data)===null||An===void 0||(An=An.errors)===null||An===void 0?void 0:An[0])||rn;switch(gn.code){case"APP_NOT_FOUND_ERR":case"ROLE_NOT_FOUND_ERR":case"USER_HAS_NO_ROLES_ERR":return{title:jt.i18n.t("Permission denied"),subTitle:gn.message,extra:[(0,ge.jsx)(T.ZP,{type:"primary",onClick:function(){En.auth.setToken(null),window.location.href="/"},children:jt.i18n.t("Sign in with another account")},"try"),(0,ge.jsx)(T.ZP,{onClick:function(){return window.location.href=ce.isMobile?"/app/apps":"/app"},children:jt.i18n.t("Return to the home page")},"back")]};default:return{}}},mn=(0,D.observer)(function(un){var jt=un.app,rn=un.error,An=Gt(jt,rn);return(0,ge.jsx)("div",{children:(0,ge.jsx)(S.ZP,n()({className:(0,y.css)(kt||(kt=o()([`
            top: 50%;
            position: absolute;
            width: 100%;
            transform: translate(0, -50%);
          `]))),status:"error",title:jt.i18n.t("App error"),subTitle:jt.i18n.t(rn==null?void 0:rn.message),extra:[(0,ge.jsx)(T.ZP,{type:"primary",onClick:function(){return window.location.reload()},children:jt.i18n.t("Try again")},"try")]},An))})},{displayName:"AppError"}),qt=function(jt){if(!jt.error)return{};if(jt.error.code==="APP_NOT_FOUND"){var rn;return{status:"warning",title:"App not found",subTitle:(rn=jt.error)===null||rn===void 0?void 0:rn.message}}if(jt.error.code==="APP_INITIALIZING"){var An;return{status:"info",icon:(0,ge.jsx)(g.Z,{}),title:"App initializing",subTitle:(An=jt.error)===null||An===void 0?void 0:An.message}}if(jt.error.code==="APP_INITIALIZED"){var En;return{status:"warning",title:"App initialized",subTitle:(En=jt.error)===null||En===void 0?void 0:En.message}}if(jt.error.code==="APP_ERROR"||jt.error.code==="LOAD_ERROR"){var gn;return{status:"error",title:"App error",subTitle:(gn=jt.error)===null||gn===void 0?void 0:gn.message}}if(jt.error.code==="APP_NOT_INSTALLED_ERROR"){var jn;return{status:"warning",title:"App not installed",subTitle:(jn=jt.error)===null||jn===void 0?void 0:jn.message}}if(jt.error.code==="APP_STOPPED"){var Yt;return{status:"warning",title:"App stopped",subTitle:(Yt=jt.error)===null||Yt===void 0?void 0:Yt.message}}if(jt.error.code==="APP_COMMANDING"){var gt,wt,Vt,It={status:"info",icon:(0,ge.jsx)(g.Z,{}),title:(gt=jt.error)===null||gt===void 0||(gt=gt.command)===null||gt===void 0?void 0:gt.name,subTitle:(wt=jt.error)===null||wt===void 0?void 0:wt.message},zt={start:{title:"App starting"},restart:{title:"App restarting"},install:{title:"App installing"},upgrade:{title:"App upgrading"},"pm.add":{title:"Adding plugin"},"pm.update":{title:"Updating plugin"},"pm.enable":{title:"Enabling plugin"},"pm.disable":{title:"Disabling plugin"},"pm.remove":{title:"Removing plugin"}};return n()(n()({},It),zt[(Vt=jt.error)===null||Vt===void 0||(Vt=Vt.command)===null||Vt===void 0?void 0:Vt.name])}return{}},$t=(0,D.observer)(function(un){var jt=un.app,rn=qt(jt),An=rn.icon,En=rn.status,gn=rn.title,jn=rn.subTitle;return(0,ge.jsx)("div",{children:(0,ge.jsx)(S.ZP,{className:(0,y.css)(nn||(nn=o()([`
            top: 50%;
            position: absolute;
            width: 100%;
            transform: translate(0, -50%);
          `]))),icon:An,status:En,title:jt.i18n.t(gn),subTitle:(0,ge.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:jt.i18n.t(jn)})})})},{displayName:"AppMaintaining"}),Pn=(0,D.observer)(function(un){var jt=un.app,rn=qt(jt),An=rn.icon,En=rn.status,gn=rn.title,jn=rn.subTitle;return(0,ge.jsx)($.Z,{open:!0,footer:null,closable:!1,children:(0,ge.jsx)(S.ZP,{icon:An,status:En,title:jt.i18n.t(gn),subTitle:jt.i18n.t(jn)})})},{displayName:"AppMaintainingDialog"}),vn=function(){var jt=(0,K.useNavigate)();return(0,ge.jsx)(S.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,ge.jsx)(T.ZP,{onClick:function(){return jt("/",{replace:!0})},type:"primary",children:"Back Home"})})},sn=function(){var jt=(0,K.useNavigate)();return(0,ge.jsx)(S.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:(0,ge.jsx)(T.ZP,{onClick:function(){return jt("/",{replace:!0})},type:"primary",children:"Back Home"})})},Rn=function(un){i()(rn,un);var jt=f()(rn);function rn(){return d()(this,rn),jt.apply(this,arguments)}return t()(rn,[{key:"afterAdd",value:function(){var An=u()(m()().mark(function gn(){return m()().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return this.app.addComponents({AppSpin:Lt,AppSkeleton:Dn,SiderMenuSkeleton:hn,AppError:mn,AppMaintaining:$t,AppMaintainingDialog:Pn,AppNotFound:vn}),Yt.next=3,this.addPlugins();case 3:case"end":return Yt.stop()}},gn,this)}));function En(){return An.apply(this,arguments)}return En}()},{key:"load",value:function(){var An=u()(m()().mark(function gn(){return m()().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:this.addComponents(),this.addRoutes(),this.app.use(C.MF),this.app.use(C.mY);case 4:case"end":return Yt.stop()}},gn,this)}));function En(){return An.apply(this,arguments)}return En}()},{key:"addRoutes",value:function(){this.router.add("root",{path:"/",element:(0,ge.jsx)(K.Navigate,{replace:!0,to:ce.isMobile?"/app/apps":"/app"})}),this.router.add("not-found",{path:"*",Component:vn}),this.router.add("no-permission",{path:"/403",Component:sn}),this.router.add("app",{path:"/app",Component:"AdminLayout"}),this.router.add("app.layout",{path:"/app/:appName",Component:function(){return(0,ge.jsx)(K.Outlet,{})}}),this.router.add("app.layout.page",{path:"/app/:appName/:name",Component:"RouteSchemaComponent"}),this.router.add("app.apps",{path:"/app/apps",Component:"MbApps"}),this.router.add("app.notification",{path:"/app/notification",Component:"MbNotification"}),this.router.add("app.myAccount",{path:"/app/my-account",Component:"MbMyAccount"}),this.router.add("app.layout.page.tab",{path:"/app/:appName/:name/tabs/:tabUid",Component:V.hGv}),this.router.add("app.layout.page.popup",{path:"/app/:appName/:name/popups/*",Component:I.d9}),this.router.add("app.layout.page.tab.popup",{path:"/app/:appName/:name/tabs/:tabUid/popups/*",Component:I.d9})}},{key:"addComponents",value:function(){this.app.addComponents({ErrorFallback:U.H,RouteSchemaComponent:B.GX,MbApps:Oe,MbNotification:Je,MbMyAccount:Tt,BlockTemplatePage:X.EF,BlockTemplateDetails:X.bs,ScanCode:Pe,ScanInput:Me,DefinedRate:ht})}},{key:"addPlugins",value:function(){var An=u()(m()().mark(function gn(){return m()().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return Yt.next=2,this.app.pm.add(F.Ys);case 2:return Yt.next=4,this.app.pm.add(Se,{name:"builtin-locale"});case 4:return Yt.next=6,this.app.pm.add(B.r3,{name:"admin-layout"});case 6:return Yt.next=8,this.app.pm.add(J.j8,{name:"system-setting"});case 8:return Yt.next=10,this.app.pm.add(L.r1,{name:"pinned-list",config:{items:{nm:{order:200,component:"NotificationDrawer",pin:!0},pm:{order:300,component:"PluginManagerLink",pin:!0,snippet:"pm"},sc:{order:350,component:"SettingsCenterDropdown",pin:!0,snippet:"pm.*"}}}});case 10:return Yt.next=12,this.app.pm.add(V.a$w,{name:"schema-component"});case 12:return Yt.next=14,this.app.pm.add(F.dH,{name:"schema-initializer"});case 14:return Yt.next=16,this.app.pm.add(W.zM,{name:"schema-settings"});case 16:return Yt.next=18,this.app.pm.add(M.jF,{name:"block-schema-component"});case 18:return Yt.next=20,this.app.pm.add(V.HTy,{name:"antd-schema-component"});case 20:return Yt.next=22,this.app.pm.add(z.pz,{name:"builtin-acl"});case 22:return Yt.next=24,this.app.pm.add(R.uN,{name:"remote-document-title"});case 24:return Yt.next=26,this.app.pm.add(N.Np,{name:"builtin-pm"});case 26:return Yt.next=28,this.app.pm.add(b.CollectionPlugin,{name:"builtin-collection"});case 28:case"end":return Yt.stop()}},gn,this)}));function En(){return An.apply(this,arguments)}return En}()}]),rn}(A.S)},52817:function(se,j,e){"use strict";e.d(j,{r1:function(){return z},B$:function(){return Z},uv:function(){return n},tc:function(){return $}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(67294),n=(0,l.createContext)({items:{}});n.displayName="PinnedPluginListContext";var r=e(68400),o=e.n(r),g=e(97857),y=e.n(g),D=e(97133),P=e(94350),E=e(96486),O=e(75667),T=e(85893),S,$=function(A){var M=A.children,b=A.items,R=(0,l.useContext)(n);return(0,T.jsx)(n.Provider,{value:{items:y()(y()({},R.items),b)},children:M})},Z=function(){var A=(0,O.ov)(),M=A.allowAll,b=A.snippets,R=function(U){return U?M||(b==null?void 0:b.includes(U)):!0},L=(0,l.useContext)(n),N=(0,l.useContext)(P.SchemaOptionsContext),B=N.components;return(0,T.jsx)("div",{className:(0,D.css)(S||(S=o()([`
        .ant-btn {
          border: 0;
          height: 32px;
          width: 32px;
          color: #464f5d;
          background: #f2f3f5 !important;
          margin-right: 12px;

          &:hover {
            background: #f2f3f5 !important;
          }

          .anticon {
            color: #464f5d !important;
            font-size: 14px;
          }
        }

        .ant-btn-default {
          box-shadow: none;
        }
      `]))),style:{display:"inline-block"},children:Object.keys(L.items).sort(function(V,U){return L.items[V].order-L.items[U].order}).filter(function(V){return R(L.items[V].snippet)}).map(function(V){var U=(0,E.get)(B,L.items[V].component);return U?(0,T.jsx)(U,{},V):null})})},K=e(31601),z=function(w){i()(M,w);var A=f()(M);function M(){return d()(this,M),A.apply(this,arguments)}return t()(M,[{key:"load",value:function(){var b=u()(m()().mark(function L(){return m()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:this.app.use($,this.options.config);case 1:case"end":return B.stop()}},L,this)}));function R(){return b.apply(this,arguments)}return R}()}]),M}(K.S)},17627:function(se,j,e){"use strict";e.d(j,{i9:function(){return rt},Np:function(){return xt},Q$:function(){return He},s0:function(){return R},EV:function(){return Mt},zK:function(){return L}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(67294),n=e(74614),r=e(31601),o=e(95354),g=e(14518),y=e(68400),D=e.n(y),P=e(5574),E=e.n(P),O=e(64462),T=e(30522),S=e(83062),$=e(15867),Z=e(85418),K=e(26793),z=e(89250),w=e(79655),A=e(98427),M=e(68230),b=e(85893),R=function(){var at=(0,K.$)(),ht=at.t,ot=(0,z.useNavigate)(),kt=(0,M.d)(),nn=kt.token;return null},L=function(){var at=(0,A.eJW)(),ht=(0,K.$)(),ot=ht.t,kt=(0,M.d)(),nn=kt.token,Lt=(0,n.qD)(),hn=(0,l.useMemo)(function(){var Dn=Lt.pluginSettingsManager.getList();return Dn.filter(function(Gt){return Gt.isTopLevel!==!1}).map(function(Gt){return{key:Gt.name,icon:Gt.icon,label:(0,b.jsx)(w.Link,{to:Gt.path,children:at(Gt.title)})}})},[Lt,ot]);return(0,b.jsx)(Z.Z,{menu:{style:{maxHeight:"70vh",overflow:"auto"},items:hn},children:(0,b.jsx)($.ZP,{"data-testid":"plugin-settings-button",icon:(0,b.jsx)(T.Z,{style:{color:nn.colorTextHeaderMenu}})})})},N=e(47953),B=e(58580),V=e(57953),U=e(42075),I=e(96074),F=e(69677),W=e(71230),X=e(15746),J=e(2487),C=e(56140),k=e(59720),Y=e(96486),H=e.n(Y),te=e(21143),le=e(97133),ne=e(75667),ie=e(72029),ee=e(9783),fe=e.n(ee),de=e(3321),ue=e(4393),Se=e(86738),ae=e(59637),G=e(45360),re=e(48997),oe=e(94184),ce=e.n(oe),be=e(49825),xe=e(51623),ge=e(86615),he=e(66309),Pe=e(38925),Ae=e(16455),Be=e(5914),Le=e(27484),Me=e.n(Le),Te=e(84110),we=e.n(Te),Ue=e(93674),je=e(64215),De=e(59632),ye=(0,De.kc)(function(mt){var at=mt.token;return{cardActionDisabled:{color:at.colorTextDisabled,cursor:"not-allowed"},pageHeader:{backgroundColor:at.colorBgContainer,paddingTop:at.paddingSM,paddingBottom:0,paddingInline:at.paddingLG,borderTop:"1px solid #F4F7FE",".ant-page-header-footer":{marginBlockStart:"0"},"& .ant-tabs-nav":{marginBottom:0},".ant-page-header-heading-title":{color:at.colorText}},pageContent:{margin:at.marginLG},PluginDetailBaseInfo:{display:"flex",flexDirection:"column",marginBottom:at.margin},PluginDocument:{background:at.colorBgContainer,padding:at.paddingLG,height:"60vh",overflowY:"auto"},avatar:{".ant-card-meta-avatar":{marginTop:"8px",".ant-avatar":{borderRadius:"2px"}}},version:{display:"block",color:at.colorTextDescription,fontWeight:"normal",fontSize:at.fontSize}}}),_e=e(58809),q="/static/plugins/",pe=(0,l.memo)(function(mt){var at=(0,_e.mg)(),ht=at.isDarkTheme,ot=(0,Ue.y)({isDarkTheme:ht}),kt=ot.componentCls,nn=ot.hashId,Lt=ye(),hn=Lt.styles,Dn=mt.url,Gt=mt.packageName,mn=(0,l.useState)(Dn),qt=E()(mn,2),$t=qt[0],Pn=qt[1],vn=(0,ie.QT)({url:$t,baseURL:"/"},{refreshDeps:[$t]}),sn=vn.data,Rn=vn.loading,un=vn.error,jt=(0,je.qu)(sn),rn=jt.html,An=jt.loading,En=(0,l.useMemo)(function(){if(rn){var jn=rn,Yt=/<a\s+href="\..*?\/([^/]+)"/g;return jn=jn.replace(Yt,function(gt,wt){return gt+'onclick="return false;"'}),jn=jn.replace(/src="(.*?)"/g,function(gt,wt){return wt.startsWith("http")||wt.startsWith("//:")?gt:'src="'.concat(q).concat(Gt,"/").concat(wt,'"')}),jn}return""},[rn,Gt]),gn=(0,l.useCallback)(function(jn){var Yt=jn.target.getAttribute("href");if(Yt){var gt=new URL($t,window.location.origin),wt=new URL(Yt,gt);Pn(wt.pathname)}},[]);return(0,l.useEffect)(function(){var jn=document.getElementById("pm-md-preview");return jn.addEventListener("click",gn),function(){removeEventListener("click",gn)}},[gn]),(0,b.jsx)("div",{className:hn.PluginDocument,id:"pm-md-preview",children:Rn||An?(0,b.jsx)(V.Z,{}):(0,b.jsx)("div",{className:"".concat(kt," ").concat(nn," nb-markdown nb-markdown-default nb-markdown-table"),dangerouslySetInnerHTML:{__html:un?"":En}})})});pe.displayName="PluginDocument",Me().extend(we());var Re=function(at){var ht,ot,kt,nn,Lt,hn,Dn,Gt,mn,qt,$t=at.plugin,Pn=at.onCancel,vn=(0,K.$)(),sn=vn.t,Rn=(0,l.useMemo)(function(){return[{title:sn("Name"),dataIndex:"name",key:"name"},{title:sn("Version range"),dataIndex:"versionRange",key:"versionRange"},{title:sn("Plugin's version"),dataIndex:"packageVersion",key:"packageVersion"},{title:sn("Result"),dataIndex:"result",key:"result",render:function(Vt){return(0,b.jsx)(he.Z,{color:Vt?"success":"error",children:Vt?"Yes":"No"})}}]},[sn]),un=(0,ie.QT)({url:"pm:get",params:{filterByTk:$t.name}},{refreshDeps:[$t.name],ready:!!$t.name}),jt=un.data,rn=un.loading,An=(0,l.useMemo)(function(){var wt,Vt;if(!(jt!=null&&(wt=jt.data)!==null&&wt!==void 0&&(wt=wt.packageJson)!==null&&wt!==void 0&&wt.repository))return null;var It=jt==null||(Vt=jt.data)===null||Vt===void 0?void 0:Vt.packageJson.repository,zt=typeof It=="string"?It:It.url;return zt.replace(/\.git$/,"").replace(/^git\+/,"")},[jt]),En=(0,l.useMemo)(function(){var wt,Vt=jt==null||(wt=jt.data)===null||wt===void 0?void 0:wt.packageJson.author;return Vt?typeof Vt=="string"?Vt:Vt.name:null},[jt]),gn=ye(),jn=gn.styles,Yt=gn.theme,gt=[{key:"readme",label:sn("Readme"),children:(0,b.jsxs)(W.Z,{gutter:20,children:[$t.name&&(0,b.jsx)(X.Z,{span:12,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Name")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:$t.name})]})}),$t.displayName&&(0,b.jsx)(X.Z,{span:12,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("DisplayName")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:$t.displayName})]})}),(0,b.jsx)(X.Z,{span:24,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("PackageName")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:$t.packageName})]})}),An&&(0,b.jsx)(X.Z,{span:24,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Repository")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:An})]})}),(jt==null||(ht=jt.data)===null||ht===void 0?void 0:ht.packageJson.homepage)&&(0,b.jsx)(X.Z,{span:24,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Homepage")}),(0,b.jsx)("a",{href:jt==null||(ot=jt.data)===null||ot===void 0?void 0:ot.packageJson.homepage,target:"_blank",rel:"noreferrer",children:jt==null||(kt=jt.data)===null||kt===void 0?void 0:kt.packageJson.homepage})]})}),$t.description&&(0,b.jsx)(X.Z,{span:24,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Description")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:$t.description})]})}),(jt==null||(nn=jt.data)===null||nn===void 0?void 0:nn.packageJson.license)&&(0,b.jsx)(X.Z,{span:12,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("License")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:jt==null||(Lt=jt.data)===null||Lt===void 0?void 0:Lt.packageJson.license})]})}),En&&(0,b.jsx)(X.Z,{span:12,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Author")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:En})]})}),(0,b.jsx)(X.Z,{span:12,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Last updated")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:Me()(jt==null||(hn=jt.data)===null||hn===void 0?void 0:hn.lastUpdated).fromNow()})]})}),(0,b.jsx)(X.Z,{span:12,children:(0,b.jsxs)("div",{className:jn.PluginDetailBaseInfo,children:[(0,b.jsx)(re.Z.Text,{type:"secondary",children:sn("Version")}),(0,b.jsx)(re.Z.Text,{strong:!0,children:$t==null?void 0:$t.version})]})})]})},{key:"dependencies",label:sn("Dependencies compatibility check"),children:(0,b.jsx)(b.Fragment,{children:(jt==null||(Dn=jt.data)===null||Dn===void 0?void 0:Dn.depsCompatible)===!1?(0,b.jsx)(re.Z.Text,{type:"danger",children:sn("`dist/externalVersion.js` not found or failed to `require`. Please rebuild this plugin.")}):(0,b.jsxs)(b.Fragment,{children:[!(jt!=null&&(Gt=jt.data)!==null&&Gt!==void 0&&Gt.isCompatible)&&(0,b.jsx)(Pe.Z,{showIcon:!0,type:"error",message:sn("Plugin dependencies check failed, you should change the dependent version to meet the version requirements.")}),(0,b.jsx)(Ae.Z,{style:{marginTop:Yt.margin},rowKey:"name",pagination:!1,columns:Rn,dataSource:jt==null||(mn=jt.data)===null||mn===void 0?void 0:mn.depsCompatible})]})})},{key:"changelog",label:sn("Changelog"),children:$t!=null&&$t.changelogUrl?(0,b.jsx)(pe,{url:$t==null?void 0:$t.changelogUrl}):sn("No CHANGELOG.md file")}];return(0,b.jsx)(Be.Z,{open:!!$t,footer:!1,destroyOnClose:!0,width:600,onCancel:Pn,children:rn?(0,b.jsx)(V.Z,{}):$t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(re.Z.Title,{level:3,children:$t.packageName}),(0,b.jsxs)(U.Z,{split:(0,b.jsx)("span",{children:"\xA0\u2022\xA0"}),children:[(0,b.jsx)("span",{children:$t.version}),(0,b.jsxs)("span",{children:[sn("Last updated")," ",Me()(jt==null||(qt=jt.data)===null||qt===void 0?void 0:qt.lastUpdated).fromNow()]})]}),(0,b.jsx)(C.Z,{style:{minHeight:"50vh"},items:gt,defaultActiveKey:$t.isCompatible?void 0:"dependencies"})]})})},Oe=e(55742),$e=e(97857),Ve=e.n($e),Ze=e(94350),qe=e(84327),Qe=function(at){var ht=at.onClose,ot=at.isUpgrade,kt=at.pluginData,nn=de.Z.useApp(),Lt=nn.message,hn=[],Dn=function(){var Pn=(0,ie.LY)(),vn=(0,K.$)(),sn=vn.t,Rn=(0,Ze.useForm)();return{run:function(){return u()(m()().mark(function jt(){return m()().wrap(function(An){for(;;)switch(An.prev=An.next){case 0:return An.next=2,Rn.submit();case 2:Pn.request({url:ot?"pm:update":"pm:add",method:"post",data:Ve()({},Rn.values)}),ht(!0);case 4:case"end":return An.stop()}},jt)}))()}}},Gt=function(Pn){return(0,ie.QT)(function(){return Promise.resolve({data:ot?(0,Y.pick)(kt,["name","packageName","version"]):{}})},Pn)},mn=function(){return{run:function(){ht()}}},qt=(0,l.useMemo)(function(){var $t=(0,qe.uid)(),Pn={type:"object",properties:fe()({},$t,{"x-decorator":"Form","x-component":"div",type:"void","x-decorator-props":{useValues:"{{ useValuesFromProps }}"},properties:{packageName:{type:"string",title:"{{t('Npm package name')}}","x-decorator":"FormItem","x-component":"Input",required:!0,"x-component-props":{disabled:!0}},registry:{type:"string",title:"{{t('Registry url')}}",default:"https://registry.npmjs.org/","x-decorator":"FormItem","x-component":"Input","x-decorator-props":{tooltip:"Example: https://registry.npmjs.org/"}},authToken:{type:"string",title:"{{t('Npm authToken')}}","x-decorator":"FormItem","x-component":"Input"},version:{type:"string",title:"{{t('Version')}}","x-decorator":"FormItem","x-component":"Input"},footer:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{justifyContent:"right"}},properties:{cancel:{title:"Cancel","x-component":"Action","x-component-props":{useAction:"{{ useCancel }}"}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",htmlType:"submit",useAction:"{{ useSaveValues }}"}}}}}})};return Pn.properties[$t].properties.packageName["x-component-props"].disabled=ot,ot||delete Pn.properties[$t].properties.version,Pn},[ot]);return(0,b.jsx)(A.n6,{scope:{useCancel:mn,useSaveValues:Dn,versionList:hn,useValuesFromProps:Gt},schema:qt})};Qe.displayName="PluginNpmForm";var ke=function(at){var ht=at.onClose,ot=at.pluginData,kt=at.isUpgrade,nn=de.Z.useApp(),Lt=nn.message,hn=function(){var qt=(0,ie.LY)(),$t=(0,K.$)(),Pn=$t.t,vn=(0,Ze.useForm)();return{run:function(){return u()(m()().mark(function Rn(){var un,jt;return m()().wrap(function(An){for(;;)switch(An.prev=An.next){case 0:return An.next=2,vn.submit();case 2:jt=new FormData,jt.append("file",(un=vn.values.uploadFile)===null||un===void 0||(un=un[0])===null||un===void 0?void 0:un.originFileObj),ot!=null&&ot.packageName&&jt.append("packageName",ot.packageName),qt.request({url:"pm:".concat(kt?"update":"add"),method:"post",data:jt}),ht(!0);case 7:case"end":return An.stop()}},Rn)}))()}}},Dn=function(){return{run:function(){ht()}}},Gt=(0,l.useMemo)(function(){return{type:"object",properties:fe()({},(0,qe.uid)(),{"x-decorator":"Form","x-component":"div",type:"void",properties:{uploadFile:{type:"string","x-decorator":"FormItem","x-component":"Upload.Dragger",required:!0,"x-component-props":{action:"",multiple:!1,maxCount:1,height:"150px",tipContent:"{{t('Drag and drop the file here or click to upload, file size should not exceed 30M')}}",beforeUpload:function(qt){var $t=/\.(zip|rar|tar|gz|bz2|tgz)$/,Pn=$t.test(qt.name);Pn||Lt.error("File only support zip, rar, tar, gz, bz2!");var vn=qt.size/1024/1024<30;return vn||Lt.error("File must smaller than 30MB!"),!1;return Pn&&vn}}},footer:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{justifyContent:"right"}},properties:{cancel:{title:"Cancel","x-component":"Action","x-component-props":{useAction:"{{ useCancel }}"}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",htmlType:"submit",useAction:"{{ useSaveValues }}"}}}}}})}},[Lt]);return(0,b.jsx)(A.n6,{scope:{useCancel:Dn,useSaveValues:hn},schema:Gt})},ft=function(at){var ht=at.onClose,ot=at.pluginData,kt=at.isUpgrade,nn=de.Z.useApp(),Lt=nn.message,hn=function(){var $t=(0,ie.LY)(),Pn=(0,K.$)(),vn=Pn.t,sn=(0,Ze.useForm)();return{run:function(){return u()(m()().mark(function un(){var jt,rn;return m()().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(jt=sn.values.compressedFileUrl,jt){En.next=3;break}return En.abrupt("return");case 3:return En.next=5,sn.submit();case 5:rn={compressedFileUrl:jt},ot!=null&&ot.packageName&&(rn.packageName=ot.packageName),$t.request({url:"pm:".concat(kt?"update":"add"),method:"post",data:rn}),ht(!0);case 9:case"end":return En.stop()}},un)}))()}}},Dn=function($t){return(0,ie.QT)(function(){return Promise.resolve({data:{compressedFileUrl:ot.compressedFileUrl}})},$t)},Gt=function(){return{run:function(){ht()}}},mn=(0,l.useMemo)(function(){return{type:"object",properties:fe()({},(0,qe.uid)(),{"x-decorator":"Form","x-component":"div",type:"void","x-decorator-props":{useValues:"{{ useValuesFromProps }}"},properties:{compressedFileUrl:{type:"string","x-decorator":"FormItem","x-component":"Input",required:!0},footer:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{justifyContent:"right"}},properties:{cancel:{title:"Cancel","x-component":"Action","x-component-props":{useAction:"{{ useCancel }}"}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",htmlType:"submit",useAction:"{{ useSaveValues }}"}}}}}})}},[]);return(0,b.jsx)(A.n6,{scope:{useCancel:Gt,useValuesFromProps:Dn,useSaveValues:hn},schema:mn})},vt=function(at){var ht=at.onClose,ot=at.isShow,kt=at.pluginData,nn=(0,K.$)(),Lt=nn.t,hn=ye(),Dn=hn.theme,Gt=(0,l.useState)("npm"),mn=E()(Gt,2),qt=mn[0],$t=mn[1];return(0,b.jsxs)(Be.Z,{onCancel:function(){return ht()},footer:null,destroyOnClose:!0,title:Lt("Update plugin"),width:580,open:ot,children:[(0,b.jsx)("div",{style:{marginTop:Dn.marginLG,marginBottom:Dn.marginLG},children:(0,b.jsxs)(Oe.ZP.Group,{optionType:"button",defaultValue:qt,onChange:function(vn){return $t(vn.target.value)},children:[(0,b.jsx)(Oe.ZP,{value:"npm",children:Lt("Npm package")}),(0,b.jsx)(Oe.ZP,{value:"upload",children:Lt("Upload plugin")}),(0,b.jsx)(Oe.ZP,{value:"url",children:Lt("Compressed file url")})]})}),qt==="npm"&&(0,b.jsx)(Qe,{isUpgrade:!0,onClose:ht,pluginData:kt}),qt==="upload"&&(0,b.jsx)(ke,{isUpgrade:!0,onClose:ht,pluginData:kt}),qt==="url"&&(0,b.jsx)(ft,{isUpgrade:!0,onClose:ht,pluginData:kt})]})},_t;function Nt(mt){var at=mt.data,ht=mt.onClick,ot=(0,n.qD)(),kt=at.name,nn=at.displayName,Lt=at.isCompatible,hn=at.packageName,Dn=at.updatable,Gt=at.builtIn,mn=at.enabled,qt=at.description,$t=at.error,Pn=at.homepage;console.log("#values data",kt,at);var vn=ye(),sn=vn.styles,Rn=vn.theme,un=(0,z.useNavigate)(),jt=(0,K.$)(),rn=jt.t,An=(0,ie.LY)(),En=de.Z.useApp(),gn=En.modal,jn=(0,l.useState)(!1),Yt=E()(jn,2),gt=Yt[0],wt=Yt[1],Vt=function(){return window.location.reload()},It=nn||kt||hn;return(0,b.jsxs)(b.Fragment,{children:[gt&&(0,b.jsx)(vt,{isShow:gt,pluginData:at,onClose:function(In){wt(!1)}}),(0,b.jsx)(ue.Z,{role:"button","aria-label":It,size:"small",bordered:!1,onClick:function(){!$t&&ht()},headStyle:{border:"none",minHeight:"inherit",paddingTop:14},bodyStyle:{paddingTop:10},title:(0,b.jsx)("div",{children:It}),hoverable:!0,className:(0,le.css)(_t||(_t=D()([`
          .ant-card-actions {
            li .ant-space {
              gap: 2px !important;
            }
            li a {
              .anticon {
                margin-right: 3px;
                /* display: none; */
              }
            }
            li:last-child {
              width: 20% !important;
            }
            li:first-child {
              width: 80% !important;
              border-inline-end: 0;
              text-align: left;
              padding-left: 16px;
            }
          }
        `]))),actions:[(0,b.jsxs)(U.Z,{split:(0,b.jsx)(I.Z,{type:"vertical"}),children:[(0,b.jsxs)("a",{href:Pn,target:"_blank",onClick:function(In){In.stopPropagation()},rel:"noreferrer",children:[(0,b.jsx)(be.Z,{})," ",rn("Docs")]},"5"),Dn&&(0,b.jsxs)("a",{onClick:function(In){In.stopPropagation(),wt(!0)},children:[(0,b.jsx)(xe.Z,{})," ",rn("Update")]},"3"),mn?ot.pluginSettingsManager.has(kt)&&(0,b.jsxs)("a",{onClick:function(In){In.stopPropagation(),un(ot.pluginSettingsManager.getRoutePath(kt))},children:[(0,b.jsx)(T.Z,{})," ",rn("Settings")]}):(0,b.jsx)(Se.Z,{disabled:Gt,title:rn("Are you sure to delete this plugin?"),onConfirm:function(){var zt=u()(m()().mark(function In(Tn){return m()().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:Tn.stopPropagation(),An.request({url:"pm:remove",params:{filterByTk:kt}});case 2:case"end":return qn.stop()}},In)}));return function(In){return zt.apply(this,arguments)}}(),onCancel:function(In){return In.stopPropagation()},okText:rn("Yes"),cancelText:rn("No"),children:(0,b.jsxs)("a",{onClick:function(In){In.stopPropagation()},className:ce()(fe()({},sn.cardActionDisabled,Gt)),children:[(0,b.jsx)(ge.Z,{})," ",rn("Remove")]})},"delete")]},"1"),(0,b.jsx)(ae.Z,{"aria-label":"enable",size:"small",disabled:Gt||$t,onChange:function(){var zt=u()(m()().mark(function In(Tn,en){return m()().wrap(function(er){for(;;)switch(er.prev=er.next){case 0:if(en.stopPropagation(),!(!Lt&&Tn)){er.next=4;break}return G.ZP.error(rn("Dependencies check failed, can't enable.")),er.abrupt("return");case 4:if(Tn){er.next=8;break}gn.confirm({title:rn("Are you sure to disable this plugin?"),onOk:function(){var ar=u()(m()().mark(function rr(){return m()().wrap(function(Ar){for(;;)switch(Ar.prev=Ar.next){case 0:return Ar.next=2,An.request({url:"pm:disable",params:{filterByTk:kt}});case 2:case"end":return Ar.stop()}},rr)}));function nr(){return ar.apply(this,arguments)}return nr}()}),er.next=10;break;case 8:return er.next=10,An.request({url:"pm:enable",params:{filterByTk:kt}});case 10:case"end":return er.stop()}},In)}));return function(In,Tn){return zt.apply(this,arguments)}}(),checked:!!mn},"enable")].filter(Boolean),children:(0,b.jsx)(ue.Z.Meta,{description:$t?(0,b.jsx)(re.Z.Text,{type:"danger",children:rn("Plugin loading failed. Please check the server logs.")}):(0,b.jsx)(re.Z.Paragraph,{style:{height:Rn.fontSize*Rn.lineHeight*3},type:Lt?"secondary":"danger",ellipsis:{rows:3},children:Lt?qt:rn("Plugin dependencies check failed")})})})]})}var Kt=function(at){var ht=at.data,ot=(0,l.useState)(void 0),kt=E()(ot,2),nn=kt[0],Lt=kt[1];return(0,b.jsxs)(b.Fragment,{children:[nn&&(0,b.jsx)(Re,{plugin:nn,onCancel:function(){return Lt(void 0)}}),(0,b.jsx)(Nt,{onClick:function(){Lt(ht)},data:ht})]})},ut=function(at){var ht=at.onClose,ot=at.isShow,kt=(0,K.$)(),nn=kt.t,Lt=ye(),hn=Lt.theme,Dn=(0,l.useState)("npm"),Gt=E()(Dn,2),mn=Gt[0],qt=Gt[1];return(0,b.jsxs)(Be.Z,{onCancel:function(){return ht()},footer:null,destroyOnClose:!0,title:nn("Add plugin"),width:580,open:ot,children:[(0,b.jsx)("div",{style:{marginTop:hn.marginLG,marginBottom:hn.marginLG},children:(0,b.jsxs)(Oe.ZP.Group,{optionType:"button",defaultValue:mn,onChange:function(Pn){return qt(Pn.target.value)},children:[(0,b.jsx)(Oe.ZP,{value:"npm",children:nn("Npm package")}),(0,b.jsx)(Oe.ZP,{value:"upload",children:nn("Upload plugin")}),(0,b.jsx)(Oe.ZP,{value:"url",children:nn("Compressed file url")})]})}),mn==="npm"&&(0,b.jsx)(Qe,{onClose:ht,isUpgrade:!1}),mn==="upload"&&(0,b.jsx)(ke,{onClose:ht,isUpgrade:!1}),mn==="url"&&(0,b.jsx)(ft,{onClose:ht})]})},Rt,Dt,dt=function(){var at=(0,K.$)(),ht=at.t,ot=ye(),kt=ot.theme,nn=(0,ie.QT)({url:"pm:list"}),Lt=nn.data,hn=nn.loading,Dn=nn.refresh,Gt=(0,l.useMemo)(function(){var Tn=(Lt==null?void 0:Lt.data)||[];return Tn=Tn.reverse(),[{type:"All",list:Tn},{type:"Built-in",list:H().filter(Tn,function(en){return en.builtIn})},{type:"Enabled",list:H().filter(Tn,function(en){return en.enabled})},{type:"Not enabled",list:H().filter(Tn,function(en){return!en.enabled})},{type:"Problematic",list:H().filter(Tn,function(en){return!en.isCompatible})}]},[Lt==null?void 0:Lt.data]),mn=(0,l.useState)(0),qt=E()(mn,2),$t=qt[0],Pn=qt[1],vn=(0,l.useState)(!1),sn=E()(vn,2),Rn=sn[0],un=sn[1],jt=(0,l.useState)(""),rn=E()(jt,2),An=rn[0],En=rn[1],gn=(0,l.useState)(null),jn=E()(gn,2),Yt=jn[0],gt=jn[1],wt=(0,B.Z)(An,{wait:100}),Vt=["Data model tools","Data sources","Collections","Collection fields","Blocks","Actions","Workflow","Users","Authentication","System management","Logging and monitoring","Others"],It=(0,l.useMemo)(function(){var Tn=Vt.map(function(en){if(en==="Others"){var qn=Lt==null?void 0:Lt.data.filter(function(ar){return!ar.keywords||!ar.keywords.every(function(nr){return Vt.includes(nr)})});return{key:en,list:qn}}var er=Lt==null?void 0:Lt.data.filter(function(ar){var nr;return(nr=ar.keywords)===null||nr===void 0?void 0:nr.includes(en)});return{key:en,list:er}});return Tn},[Vt]),zt=(0,l.useMemo)(function(){var Tn,en=((Tn=Gt[$t])===null||Tn===void 0?void 0:Tn.list)||[];if(!$t&&Yt)en=It.find(function(ar){return ar.key===Yt}).list;else if($t&&Yt){var qn=It.find(function(ar){return ar.key===Yt}).list;en=qn.filter(function(ar){return en.find(function(nr){return nr.name===ar.name})})}var er=wt.toLocaleLowerCase().trim();return er&&(en=H().filter(en,function(ar){return String(ar.displayName||"").toLocaleLowerCase().includes(er)||String(ar.description||"").toLocaleLowerCase().includes(er)})),en.sort(function(ar,nr){return ar.displayName.localeCompare(nr.displayName)})},[$t,Gt,wt,Yt]),In=function(en){En(en)};return hn?(0,b.jsx)(V.Z,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ut,{isShow:Rn,onClose:function(en){un(!1)}}),(0,b.jsxs)("div",{style:{width:"100%"},children:[(0,b.jsxs)("div",{style:{marginBottom:kt.marginLG},className:(0,le.css)(Rt||(Rt=D()([`
            justify-content: space-between;
            display: flex;
            align-items: center;
          `]))),children:[(0,b.jsx)("div",{style:{marginLeft:200},children:(0,b.jsxs)(U.Z,{size:kt.marginXXS,split:(0,b.jsx)(I.Z,{type:"vertical"}),children:[Gt.map(function(Tn,en){return(0,b.jsxs)("a",{role:"button","aria-label":Tn.type,onClick:function(){return Pn(en)},style:{fontWeight:$t===en?"bold":"normal"},children:[ht(Tn.type),$t===en?"(".concat(zt==null?void 0:zt.length,")"):null]},Tn.type)}),(0,b.jsx)(F.Z,{allowClear:!0,placeholder:ht("Search plugin"),onChange:function(en){return In(en.currentTarget.value)}})]})}),(0,b.jsx)("div",{children:(0,b.jsx)(U.Z,{children:(0,b.jsx)($.ZP,{onClick:function(){return un(!0)},type:"primary",children:ht("Add new")})})})]}),(0,b.jsxs)(W.Z,{style:{width:"100%"},wrap:!1,children:[(0,b.jsx)(X.Z,{flex:"200px",children:(0,b.jsx)(J.Z,{size:"small",dataSource:It,split:!1,renderItem:function(en){return(0,b.jsx)(J.Z.Item,{style:{padding:"3px 0"},onClick:function(){return en.key!==Yt?gt(en.key):gt(null)},children:(0,b.jsx)("a",{style:{fontWeight:Yt===en.key?"bold":"normal"},children:ht(en.key)})})}})}),(0,b.jsx)(X.Z,{flex:"auto",children:(0,b.jsx)("div",{className:(0,le.css)(Dt||(Dt=D()([`
                --grid-gutter: `,`px;
                --extensions-card-width: calc(25% - var(--grid-gutter) + var(--grid-gutter) / 4);
                display: grid;
                grid-column-gap: var(--grid-gutter);
                grid-row-gap: var(--grid-gutter);
                grid-template-columns: repeat(auto-fill, var(--extensions-card-width));
                justify-content: left;
                margin: auto;
              `])),kt.margin),children:zt.map(function(Tn){return(0,b.jsx)(Kt,{data:Tn},Tn.name)})})})]})]})]})},Bt=function(){var at=(0,M.d)(),ht=at.token,ot=(0,K.$)(),kt=ot.t;return(0,b.jsx)("div",{style:{fontSize:ht.fontSizeXL,color:ht.colorText},children:kt("Coming soon...")})},He=function(){var at=(0,z.useParams)(),ht=(0,z.useNavigate)(),ot=at.tabName,kt=ot===void 0?"local":ot,nn=(0,K.$)(),Lt=nn.t,hn=(0,ne.ov)(),Dn=hn.snippets,Gt=Dn===void 0?[]:Dn,mn=ye(),qt=mn.styles,$t=(0,te.useDocumentTitle)(),Pn=$t.setTitle;return Pn(Lt("Plugin manager")),(0,l.useEffect)(function(){var vn=at.tabName;vn||ht("/app/pm/list/local/",{replace:!0})},[]),Gt.includes("pm")?(0,b.jsxs)("div",{children:[(0,b.jsx)(N.m,{className:qt.pageHeader,ghost:!1,title:Lt("Plugin manager"),footer:(0,b.jsx)(C.Z,{activeKey:kt,onChange:function(sn){ht("/app/pm/list/".concat(sn))},items:[{key:"local",label:Lt("Local")},{key:"marketplace",label:Lt("Marketplace")}]})}),(0,b.jsx)("div",{className:qt.pageContent,style:{display:"flex",flexFlow:"row wrap"},children:l.createElement({local:dt,marketplace:Bt}[kt])})]}):(0,b.jsx)(k.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist."})},ct=e(21612),St=e(68508),Tt,Mt=(0,l.createContext)({});Mt.displayName="SettingsCenterContext";function Zt(mt){return mt.map(function(at){var ht;return{key:at.name,label:at.label,title:at.title,icon:at.icon,children:(ht=at.children)!==null&&ht!==void 0&&ht.length?Zt(at.children):void 0}})}function Je(mt,at){var ht=Object.keys(mt);if(mt[at])return mt[at];for(var ot=0,kt=ht;ot<kt.length;ot++){var nn=kt[ot],Lt=nn.replace(/:[^/]+/g,"([^/]+)"),hn=at.match(new RegExp("^".concat(Lt,"$")));if(hn)return mt[nn]}return null}function et(mt,at){return mt.replace(/:\w+/g,function(ht){var ot=ht.substring(1);return(at==null?void 0:at[ot])||ht})}var rt=function(){var at,ht,ot,kt=ye(),nn=kt.styles,Lt=kt.theme,hn=(0,n.qD)(),Dn=(0,z.useNavigate)(),Gt=(0,z.useLocation)(),mn=(0,z.useParams)(),qt=(0,A.eJW)(),$t=(0,l.useMemo)(function(){var jt=hn.pluginSettingsManager.getList();function rn(An){An.forEach(function(En){var gn;En.title=qt(En.title),En.label=qt(En.title),(gn=En.children)!==null&&gn!==void 0&&gn.length&&rn(En.children)})}return rn(jt),jt},[hn.pluginSettingsManager,qt]),Pn=(0,l.useCallback)(function(jt){var rn;if(!jt||!jt.length)return"/app";var An=jt[0];return(rn=An.children)!==null&&rn!==void 0&&rn.length?Pn(An.children):An.path},[]),vn=(0,l.useMemo)(function(){var jt={},rn=function An(En){En.forEach(function(gn){var jn;jt[gn.path]=gn,(jn=gn.children)!==null&&jn!==void 0&&jn.length&&An(gn.children)})};return rn($t),jt},[$t]),sn=(0,l.useMemo)(function(){return Je(vn,Gt.pathname)},[Gt.pathname,vn]),Rn=(0,l.useMemo)(function(){return sn?$t.find(function(jt){return jt.name===sn.topLevelName}):null},[sn,$t]),un=(0,l.useMemo)(function(){return Zt($t.filter(function(jt){return jt.isTopLevel!==!1}).map(function(jt){return Ve()(Ve()({},jt),{},{children:null})}))},[$t]);return!sn||Gt.pathname===n.oz||Gt.pathname===n.oz+"/"?(0,b.jsx)(z.Navigate,{replace:!0,to:Pn($t)}):Gt.pathname===Rn.path&&((at=Rn.children)===null||at===void 0?void 0:at.length)>0?(0,b.jsx)(z.Navigate,{replace:!0,to:Pn(Rn.children)}):(0,b.jsx)("div",{children:(0,b.jsxs)(ct.Z,{children:[(0,b.jsx)(ct.Z.Sider,{className:(0,le.css)(Tt||(Tt=D()([`
            height: 100%;
            left: 0;
            top: 0;
            background: rgba(0, 0, 0, 0);
            z-index: 100;
            .ant-layout-sider-children {
              top: 56px;
              position: fixed;
              width: 200px;
              height: calc(100vh - 56px);
              .ant-menu.ant-menu-vertical {
                border-top: 1px solid #f4f7fe;
                border-inline-end: 1px solid #f4f7fe;
              }
            }
          `]))),theme:"light",children:(0,b.jsx)(St.Z,{selectedKeys:[(sn==null?void 0:sn.pluginKey)||sn.topLevelName],style:{height:"calc(100vh - 56px)",overflowY:"auto",overflowX:"hidden"},onClick:function(rn){var An,En=rn.key,gn=$t.find(function(jn){return jn.name===En});return(An=gn.children)!==null&&An!==void 0&&An.length?Dn(Pn(gn.children)):Dn(gn.path)},items:un})}),(0,b.jsxs)(ct.Z.Content,{children:[sn&&(0,b.jsx)(N.m,{className:nn.pageHeader,style:{paddingBottom:((ht=Rn.children)===null||ht===void 0?void 0:ht.length)>0&&Rn.showTabs!==!1?0:Lt.paddingSM},ghost:!1,title:Rn.title,footer:((ot=Rn.children)===null||ot===void 0?void 0:ot.length)>0&&Rn.showTabs!==!1&&(0,b.jsx)(St.Z,{style:{marginLeft:-Lt.margin},onClick:function(rn){var An=rn.key;Dn(et(hn.pluginSettingsManager.getRoutePath(An),mn))},selectedKeys:[sn==null?void 0:sn.name],mode:"horizontal",items:Zt(Rn.children)})}),(0,b.jsx)("div",{className:nn.pageContent,children:sn?(0,b.jsx)(z.Outlet,{}):(0,b.jsx)(k.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist."})})]})]})})},yt=e(9040),xt=function(mt){i()(ht,mt);var at=f()(ht);function ht(){return d()(this,ht),at.apply(this,arguments)}return t()(ht,[{key:"load",value:function(){var ot=u()(m()().mark(function nn(){return m()().wrap(function(hn){for(;;)switch(hn.prev=hn.next){case 0:this.addComponents(),this.addRoutes(),this.addSettings();case 3:case"end":return hn.stop()}},nn,this)}));function kt(){return ot.apply(this,arguments)}return kt}()},{key:"addSettings",value:function(){this.app.pluginSettingsManager.add("ui-schema-storage",{title:'{{t("Block templates")}}',icon:"LayoutOutlined",Component:o.L,aclSnippet:"pm.ui-schema-storage.block-templates"}),this.app.pluginSettingsManager.add("system-settings",{icon:"SettingOutlined",title:'{{t("System settings")}}',Component:g.a$,aclSnippet:"pm.system-settings.system-settings"})}},{key:"addComponents",value:function(){this.app.addComponents({PluginManagerLink:R,SettingsCenterDropdown:L,BlockTemplatesPane:o.L})}},{key:"addRoutes",value:function(){this.app.router.add("app.pm.list",{path:"/app/pm/list",element:(0,b.jsx)(He,{})}),this.app.router.add("app.pm.list-tab",{path:"/app/pm/list/:tabName",element:(0,b.jsx)(He,{})}),this.app.router.add("app.pm.list-tab-mdfile",{path:"/app/pm/list/:tabName/:mdfile",element:(0,b.jsx)(He,{})}),this.app.router.add("app.myworkspace",{path:"/app/myworkspace",element:(0,b.jsx)(yt.x,{})}),this.app.router.add("app.settings",{path:n.oz,element:(0,b.jsx)(rt,{})})}}]),ht}(r.S),Ct=null},36586:function(se,j,e){"use strict";e.d(j,{HV:function(){return c},Pc:function(){return t},Px:function(){return n},Qh:function(){return i},a:function(){return f},li:function(){return a},pW:function(){return l},rY:function(){return h}});var v=e(97857),m=e.n(v),x=e(67294),u=e(72594),p=e(8985),d=e(85893),h=(0,x.createContext)({});h.displayName="RecordContext_deprecated";var t=(0,x.createContext)(null);t.displayName="RecordIndexContext";var c=function(o){var g=o.record,y=o.children,D=o.parent,P=o.isNew,E=(0,u.Kx)(),O=(0,x.useMemo)(function(){var T=m()({},g);return T.__parent=D,T.__collectionName=E==null?void 0:E.name,T},[g,D,E==null?void 0:E.name]);return(0,d.jsx)(h.Provider,{value:O,children:(0,d.jsx)(u.E0,{isNew:P,record:g,parentRecord:D,children:y})})},i=function(o){return(0,d.jsx)(h.Provider,m()({},o))},a=function(o){var g=o.index,y=o.children;return(0,d.jsx)(t.Provider,{value:g,children:y})};function f(){return(0,x.useContext)(h)}function l(){return(0,x.useContext)(t)}var n=function(){var o,g=f(),y=(0,p.OP)();return g!=null&&g.createdById?(g==null?void 0:g.createdById)===(y==null||(o=y.data)===null||o===void 0||(o=o.data)===null||o===void 0?void 0:o.id):!1}},56007:function(se,j,e){"use strict";e.d(j,{l:function(){return J},Z:function(){return C}});var v=e(5574),m=e.n(v),x=e(68400),u=e.n(x),p=e(67294),d=e(6166),h=e(55556),t=e(21612),c=e(97133),i=e(89250),a=e(59632),f=e(70173),l=e(21143),n=e(54399),r=e(17958),o=e(74820),g=e(94350),y=e(84327),D=e(73935),P=e(68508),E=e(85893),O,T=function(Y){return(0,c.css)(O||(O=u()([`
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  .ant-menu-item {
    > .ant-menu-title-content {
      height: 100%;
      margin-left: -24px;
      margin-right: -16px;
      padding: 0 16px 0 24px;
      > div {
        > .general-schema-designer {
          right: 6px !important;
        }
      }
    }
  }
  .ant-menu-submenu-title {
    .ant-menu-title-content {
      height: 100%;
      margin-left: -24px;
      margin-right: -34px;
      padding: 0 34px 0 24px;
      > div {
        > .general-schema-designer {
          right: 6px !important;
        }
        > span.anticon {
          margin-right: 10px;
        }
      }
    }
  }
  .ant-menu-item,
  .ant-menu-submenu-title {
    margin-inline: 16px;
    width: calc(100% - 32px);
    &:active {
      background-color: rgba(0, 0, 0, 0.06) !important;
    }
  }
  .ant-menu-item-selected {
    background: `,`;
    color: #fff;
  }
`])),Y.xwColorPrimary)},S=function(Y){var H,te=Y.sideMenuSchema,le=Y.sideMenuRef,ne=Y.onSelect,ie=Y.defaultSelectedKeys,ee=Y.defaultOpenKeys,fe=(0,o.iX)(),de=fe.Component,ue=fe.getMenuItems,Se=(0,l.useToken)(),ae=Se.token,G=(0,p.useMemo)(function(){var re=ue(function(){return(0,E.jsx)(g.RecursionField,{schema:te,onlyRenderProperties:!0},(0,y.uid)())});return re},[ue,te]);return(te==null?void 0:te["x-component"])==="Menu.SubMenu"&&(le==null||(H=le.current)===null||H===void 0?void 0:H.firstChild)&&(0,D.createPortal)((0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(de,{}),(0,E.jsx)(P.Z,{mode:"inline",defaultOpenKeys:ee,defaultSelectedKeys:ie,onSelect:function(oe){ne==null||ne(oe)},className:T(ae),items:G})]}),le.current.firstChild)},$=e(55914),Z=e(13912),K,z,w,A,M,b,R,L=(0,a.vJ)(K||(K=u()([`
  .nb-container-of-header-submenu {
    .ant-menu.ant-menu-submenu.ant-menu-submenu-popup {
      .ant-menu.ant-menu-sub.ant-menu-vertical {
        background-color: `,`;
        color: `,`;
        .ant-menu-item:hover {
          color: `,`;
          background-color: `,`;
        }
        .ant-menu-item.ant-menu-item-selected {
          color: `,`;
          background-color: `,`;
        }
      }
    }
  }
`])),function(k){return k.theme.colorBgHeader+" !important"},function(k){return k.theme.colorTextHeaderMenu+" !important"},function(k){return k.theme.colorTextHeaderMenuHover+" !important"},function(k){return k.theme.colorBgHeaderMenuHover+" !important"},function(k){return k.theme.colorTextHeaderMenuActive+" !important"},function(k){return k.theme.colorBgHeaderMenuActive+" !important"}),N=function(Y){var H=(0,l.useToken)(),te=H.token;return Y?te.colorPrimary:"#D4D6DD"},B=function(Y){var H=Y.active,te=N(H);return(0,E.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.jsx)("g",{clipPath:"url(#clip0_130_2375)",children:(0,E.jsx)("path",{d:"M8.21537 4.56773C8.50491 4.56773 8.75335 4.66648 8.96068 4.86399C9.16801 5.0615 9.26988 5.3031 9.26988 5.59054V9.71355C9.26988 9.99923 9.16801 10.2444 8.96068 10.4489C8.75335 10.6535 8.5067 10.754 8.21537 10.754H4.03664C3.7471 10.754 3.50223 10.6535 3.30027 10.4489C3.10009 10.2444 3 10.001 3 9.71355V5.59054C3 5.30486 3.10009 5.06326 3.30027 4.86399C3.50045 4.66648 3.74531 4.56773 4.03664 4.56773H8.21537ZM8.21537 12.8137C8.50491 12.8137 8.75335 12.9125 8.96068 13.11C9.16801 13.3075 9.26988 13.5491 9.26988 13.8365V17.9772C9.26988 18.2629 9.16801 18.5045 8.96068 18.7037C8.75335 18.9012 8.5067 19 8.21537 19H4.03664C3.7471 19 3.50223 18.9012 3.30027 18.7037C3.0983 18.5062 3 18.2646 3 17.9772V13.8365C3 13.5509 3.10009 13.3093 3.30027 13.11C3.50045 12.9107 3.74531 12.8137 4.03664 12.8137H8.21537ZM16.5889 12.8137C16.8785 12.8137 17.1233 12.9125 17.3253 13.11C17.5255 13.3075 17.6256 13.5491 17.6256 13.8365V17.9772C17.6256 18.2629 17.5255 18.5045 17.3253 18.7037C17.1251 18.9012 16.8803 19 16.5889 19H12.412C12.1224 19 11.874 18.9012 11.6667 18.7037C11.4593 18.5062 11.3575 18.2646 11.3575 17.9772V13.8365C11.3575 13.5509 11.4593 13.3093 11.6667 13.11C11.874 12.9125 12.1206 12.8137 12.412 12.8137H16.5889ZM18.6658 6.38058C18.8892 6.60101 19 6.85848 19 7.15474C19 7.45101 18.8892 7.70495 18.6658 7.9148L15.5559 10.9832C15.3324 11.2037 15.0751 11.313 14.7802 11.313C14.4853 11.313 14.2261 11.2037 14.0045 10.9832L10.8945 7.9148C10.6819 7.70495 10.5764 7.45277 10.5764 7.15474C10.5764 6.85848 10.6819 6.59925 10.8945 6.38058L14.0027 3.3139C14.2261 3.10404 14.4835 3 14.7784 3C15.0733 3 15.3324 3.10404 15.5541 3.3139L18.6658 6.38058Z",fill:te})}),(0,E.jsx)("defs",{children:(0,E.jsx)("clipPath",{id:"clip0_130_2375",children:(0,E.jsx)("rect",{width:"22",height:"22",fill:"white"})})})]})},V=function(Y){var H=Y.active,te=N(H);return(0,E.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,E.jsx)("path",{d:"M18.8396 16.5316L17.1403 12.988C17.1227 12.949 17.1117 12.9078 17.1117 12.8643L17.1074 8.94072C17.1052 6.72711 15.6689 4.86373 13.7196 4.30747V4.30518C13.7196 3.03241 12.7306 2 11.5115 2C10.2945 2 9.30776 3.02783 9.30338 4.29831C7.3321 4.84542 5.8783 6.72253 5.8805 8.95217L5.88488 12.8758C5.88488 12.9193 5.87611 12.9605 5.85638 12.9994L4.15919 16.5384C3.66363 17.5731 4.38504 18.7933 5.49457 18.791L17.5086 18.7818C18.616 18.7841 19.3374 17.5663 18.8396 16.5316ZM9.50949 19.4548C9.28803 19.4548 9.16743 19.7227 9.30557 19.9035C9.81867 20.5719 10.6081 21 11.4917 21C12.3776 21 13.167 20.5719 13.6823 19.9012C13.8204 19.7204 13.6998 19.4525 13.4784 19.4548H9.50949Z",fill:te})})},U=function(Y){var H=Y.active,te=N(H);return(0,E.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.jsxs)("mask",{id:"mask0_130_2373",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"3",y:"2",width:"16",height:"18",children:[(0,E.jsx)("path",{d:"M15.4998 6.4999C15.4998 8.98512 13.4852 10.9998 11 10.9998C8.5148 10.9998 6.50016 8.98512 6.50016 6.4999C6.50016 4.01467 8.5148 2 11 2C13.4852 2 15.4998 4.01467 15.4998 6.4999Z",fill:te}),(0,E.jsx)("path",{d:"M3.50024 17.0001C3.50024 14.5148 5.51488 12.5002 8.00007 12.5002H13.9998C16.485 12.5002 18.4997 14.5148 18.4997 17.0001V17.75C18.4997 18.9927 17.4923 20 16.2497 20H5.75016C4.50756 20 3.50024 18.9927 3.50024 17.75V17.0001Z",fill:te})]}),(0,E.jsx)("g",{mask:"url(#mask0_130_2373)",children:(0,E.jsx)("rect",{x:"2.00024",y:"1.99921",width:"17.9993",height:"17.9996",fill:te})})]})},I=function(Y){var H=Y.active,te=N(H);return _jsx("svg",{width:"22",height:"22",viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_jsx("path",{d:"M4.36639 8.62097C4.84937 8.62097 5.20382 8.76568 5.42974 9.05511C5.65565 9.34453 5.7686 9.66443 5.7686 10.0148V19C5.7686 19.5523 5.32089 20 4.7686 20H2.375C1.82272 20 1.375 19.5523 1.375 19V10.1062C1.375 9.63396 1.52691 9.26837 1.83072 9.00941C2.13453 8.75045 2.46561 8.62097 2.82395 8.62097H4.36639ZM11.6579 3C12.0786 3 12.4135 3.12567 12.6628 3.37702C12.9121 3.62836 13.0367 3.92921 13.0367 4.27957V19C13.0367 19.5523 12.589 20 12.0367 20H9.66651C9.11423 20 8.66651 19.5523 8.66651 19V4.32527C8.66651 4.09677 8.71325 3.89875 8.80673 3.73118C8.90022 3.56362 9.01707 3.42652 9.15729 3.31989C9.29751 3.21326 9.45331 3.13329 9.62469 3.07997C9.79607 3.02666 9.95188 3 10.0921 3H11.6579ZM18.926 12.8938C19.0663 12.8938 19.2182 12.9319 19.3818 13.0081C19.5454 13.0842 19.7012 13.1909 19.8492 13.328C19.9972 13.4651 20.1218 13.6212 20.2231 13.7964C20.3244 13.9716 20.375 14.1582 20.375 14.3562V19C20.375 19.5523 19.9273 20 19.375 20H17.0048C16.4525 20 16.0048 19.5523 16.0048 19V14.4019C16.0048 14.2343 16.0398 14.0591 16.1099 13.8763C16.18 13.6935 16.2774 13.5298 16.4021 13.3851C16.5267 13.2404 16.6747 13.1223 16.8461 13.0309C17.0175 12.9395 17.2044 12.8938 17.407 12.8938H18.926Z",fill:te})})},F=[{key:"/app/apps",title:"{{t('Apps')}}",icon:function(Y){return(0,E.jsx)(B,{active:Y})}},{key:"/app/notification",title:"{{t('Notification')}}",icon:function(Y){return(0,E.jsx)(V,{active:Y})}},{key:"/app/my-account",title:"{{t('Me')}}",icon:function(Y){return(0,E.jsx)(U,{active:Y})}}],W=["/app","/app/apps","/app/notification","/app/my-account"],X=function(Y){return(0,c.css)(z||(z=u()([`
  height: 100%;
  .mbPageHeader {
    padding-top: `,`px !important;
    padding-right: `,`px !important;
    padding-bottom: `,`px !important;
    padding-left: `,`px !important;
    background-color: #fff;
    // \u5934\u90E8 Tabs \u680F
    .ant-tabs-nav {
      margin-bottom: 0;
      .ant-tabs-nav-wrap {
        &::before,
        &::after {
          box-shadow: none;
        }
      }
    }
  }
  .nb-page-wrapper {
    padding: 0 0 `,`px 0;
    .ant-card .ant-card-body {
      padding: `,`px;
    }
    .ant-card .ant-card-head {
      padding: `,`px;
      padding-bottom: 0;
      min-height: 0;
      .ant-card-head-title {
        overflow-wrap: anywhere;
        white-space: pre-wrap;
      }
    }
  }
`])),Y.paddingXS,Y.padding,Y.paddingXS,Y.padding,Y.paddingLG,Y.padding,Y.padding)},J=(0,p.createContext)({});function C(k){var Y=k.sideMenuRef,H=(0,p.useRef)(null),te=(0,i.useParams)(),le=te.name,ne=(0,l.useToken)(),ie=ne.token,ee=(0,l.useCompile)(),fe=(0,l.useDocumentTitle)(),de=fe.setTitle,ue=(0,l.useAppMenu)(),Se=ue.menuSchema,ae=ue.currentAppMenuSchema,G=(0,p.useState)(!1),re=m()(G,2),oe=re[0],ce=re[1],be=(0,p.useState)(""),xe=m()(be,2),ge=xe[0],he=xe[1],Pe=(0,p.useState)(""),Ae=m()(Pe,2),Be=Ae[0],Le=Ae[1],Me=(0,p.useState)([]),Te=m()(Me,2),we=Te[0],Ue=Te[1],je=(0,i.useNavigate)(),De=(0,r.Dv)(),ye=W.includes(location.pathname),_e=!ye||De;(0,$.Z)(function(){oe&&ce(!1)},[Y,H]);var q=(0,p.useMemo)(function(){var Re;if(le){var Oe=(0,l.findKeysByUid)(Se,le);Re=(Oe==null?void 0:Oe[0])||null}if(Re){var $e,Ve=($e=Se.properties)===null||$e===void 0?void 0:$e[Re];if((Ve==null?void 0:Ve["x-component"])==="Menu.SubMenu")return Ve}return null},[Se,le]);(0,p.useEffect)(function(){document.documentElement.style.fontSize||(document.documentElement.style.fontSize=375/37.5+"px");var Re=document.createElement("style");Re.innerHTML=`
      .ant-drawer .ant-drawer-mask {
        background: #fff;
      }
      .ant-cascader-dropdown {
        max-width: calc(100vw - 32px);
        overflow: auto;
      }
      ::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    `,document.head.appendChild(Re)},[]),(0,p.useEffect)(function(){_e||Le(location.pathname)},[_e]),(0,p.useEffect)(function(){var Re=(0,l.findKeysByUid)(Se,le);Re&&Ue(Re)},[Se,le]),(0,p.useEffect)(function(){var Re=(0,l.findByUid)(Se,le);Re&&(he(Re.title),de(Re.title))},[de,Se,le]);var pe=function(Oe){var $e=Oe.item,Ve=$e.props.schema;if((0,f.isMobilePreview)()&&window.self!==window.top){var Ze="/app/".concat(te.appName,"/console/design/").concat(Ve["x-uid"]);window.parent.postMessage({type:"navigate",path:Ze},window.location.origin);return}he((Ve==null?void 0:Ve.title)||""),je("/app/".concat(te.appName,"/").concat(Ve["x-uid"]))};return(0,E.jsx)(J.Provider,{value:{setMbHeaderTitle:he},children:(0,E.jsx)(l.ScopeThemeProvider,{schema:ae,children:(0,E.jsxs)(t.Z,{className:X(ie),children:[(0,E.jsx)(L,{}),ye?null:(0,E.jsxs)(t.Z.Header,{className:(0,c.css)(w||(w=u()([`
                position: fixed;
                left: 0;
                right: 0;
                height: var(--nb-header-height);
                line-height: var(--nb-header-height);
                padding: 0;
                z-index: 20;
                background-color: white;
                display: flex;
              `]))),children:[!De&&(0,E.jsx)(d.Z,{style:{color:"#000",margin:"0 ".concat(ie.margin,"px"),visibility:(0,Z.eW)(q)>1?"visible":"hidden"},onClick:function(){return ce(!oe)},ref:H}),(0,E.jsx)("p",{style:{margin:0,flex:1,textAlign:"center",color:"#1F2024",fontWeight:700,fontSize:15},children:ge}),!De&&!(0,f.isMobilePreview)()&&(0,E.jsx)(h.Z,{style:{color:"#000",margin:"0 ".concat(ie.margin,"px")},onClick:function(){je("/app/apps",{state:{from:"app-page"}})}})]}),(0,E.jsxs)(t.Z.Content,{className:(0,c.css)([{display:"flex",flexDirection:"column",position:"relative",overflowY:"auto","> div":{position:"relative"}},ye&&{height:"calc(100vh - 88px)",maxHeight:"calc(100vh - 88px)",margin:"0 0 88px 0"},_e&&{maxHeight:"100vh"}]),children:[(0,E.jsx)("div",{style:{width:"100%",height:"100vh",position:"fixed",zIndex:"99",backgroundColor:"rgba(0, 0, 0, 0.1)",display:te.name&&oe?"block":"none"},children:!ye&&(0,E.jsx)(t.Z.Sider,{className:(0,c.css)(A||(A=u()([`
                    height: 100%;
                    position: relative;
                    left: 0;
                    top: 0;
                    background: rgba(0, 0, 0, 0);
                    z-index: 100;
                    .ant-layout-sider-children {
                      top: var(--nb-header-height);
                      position: fixed;
                      width: `,`px;
                      height: calc(100vh - var(--nb-header-height));
                    }
                  `])),(0,f.isMobilePreview)()?250:300),width:(0,f.isMobilePreview)()?250:300,theme:"light",ref:Y,children:q&&(0,E.jsx)(S,{sideMenuSchema:q,sideMenuRef:Y,defaultSelectedKeys:we,defaultOpenKeys:we,onSelect:pe})})}),!ye&&(0,E.jsx)("header",{className:(0,c.css)(M||(M=u()([`
                  flex-shrink: 0;
                  height: var(--nb-header-height);
                  line-height: var(--nb-header-height);
                  background: transparent;
                  pointer-events: none;
                `])))}),(0,E.jsx)(i.Outlet,{})]}),_e?null:(0,E.jsx)(t.Z.Footer,{className:(0,c.css)(b||(b=u()([`
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 100;
                padding: 0;
              `]))),children:(0,E.jsx)(n.nj,{className:(0,c.css)(R||(R=u()([`
                  height: 88px;
                  background: white;
                  box-shadow: 0px 3px 32.4px 0px #3f3f3f1f;

                  .adm-tab-bar-wrap {
                    padding: 16px 16px 23px 16px;
                  }

                  .adm-tab-bar-item {
                    color: #71727a;
                  }

                  .adm-tab-bar-item-active {
                    color: #1f2024;
                    font-weight: 600;
                  }
                `]))),activeKey:Be,onChange:function(Oe){Le(Oe),Oe==="/app/apps"?je(Oe,{state:{from:"apps-tab"}}):je(Oe)},children:F.map(function(Re){return(0,E.jsx)(n.nj.Item,{title:ee(Re.title),icon:Re.icon},Re.key)})})})]})})})}},13912:function(se,j,e){"use strict";e.d(j,{GR:function(){return u},eW:function(){return p}});var v=e(5574),m=e.n(v),x=function d(h,t){if((h==null?void 0:h["x-uid"])===t)return!0;var c=!1;if(h!=null&&h.properties)for(var i=0,a=Object.entries(h.properties);i<a.length;i++){var f=_slicedToArray(a[i],2),l=f[0],n=f[1],r=d(n,t);r?c=!0:delete h.properties[l]}return c},u=function(h){for(var t=h;t;){var c;if((c=t["x-data"])!==null&&c!==void 0&&(c=c.themeConfig)!==null&&c!==void 0&&c.name)return t;t=t.parent}return null},p=function d(h){if(!(h!=null&&h.properties))return 0;for(var t=0,c=0,i=Object.values(h.properties);c<i.length;c++){var a=i[c];a["x-component"]==="Menu.Item"||a["x-component"]==="Menu.URL"?t++:t+=d(a)}return t}},99622:function(se,j,e){"use strict";e.d(j,{G:function(){return f},L:function(){return a}});var v=e(67294),m=e(89250),x=e(21143),u=e(86250),p=e(48054),d=e(42075),h=e(4393),t=e(70173),c=e(85893),i={borderRadius:0,boxShadow:"none",height:500},a=function(){return(0,c.jsxs)(u.Z,{gap:16,vertical:!0,children:[!t.isMobile&&(0,c.jsx)(p.Z.Input,{active:!0,style:{height:32}}),(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(p.Z.Button,{active:!0}),(0,c.jsx)(p.Z.Button,{active:!0}),(0,c.jsx)(p.Z.Button,{active:!0}),(0,c.jsx)(p.Z.Button,{active:!0}),(0,c.jsx)(p.Z.Button,{active:!0})]}),(0,c.jsx)(h.Z,{style:i,bordered:!1,children:(0,c.jsx)(p.Z,{paragraph:{rows:4},active:!0})})]})};function f(l){var n=(0,m.useParams)();return(0,c.jsx)(x.RemoteSchemaComponent,{onlyRenderProperties:!0,uid:n.name,skeleton:(0,c.jsx)(a,{}),skeletonWrapperCss:{margin:"16px 24px"}})}},52242:function(se,j,e){"use strict";e.d(j,{lq:function(){return De},r3:function(){return ye},IA:function(){return je},Me:function(){return Ue},GX:function(){return _e.G},LH:function(){return _e.L}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(31996),d=e.n(p),h=e(26037),t=e.n(h),c=e(97857),i=e.n(c),a=e(15009),f=e.n(a),l=e(99289),n=e.n(l),r=e(68400),o=e.n(r),g=e(5574),y=e.n(g),D=e(97133),P=e(28459),E=e(21612),O=e(59632),T=e(67294),S=e(89250),$=e(21143),Z=e(31601),K=e(58697),z=e(68508),w=e(55241),A=e(85418),M=e(26793),b=e(38714),R=e(22248),L=e(70173),N=e(85893),B,V,U=function(){var pe,Re,Oe=(0,M.$)(),$e=Oe.t,Ve=(0,b._S)(),Ze=(0,$.useToken)(),qe=Ze.token,Qe=(Ve==null||(pe=Ve.data)===null||pe===void 0?void 0:pe.lang)==="zh-CN",ke=[{key:"nocobase",disabled:!0,label:(0,N.jsxs)("div",{style:{cursor:"text"},children:[(0,N.jsx)("div",{style:{color:qe.colorText},children:"NocoBase"}),(0,N.jsxs)("div",{style:{fontSize:"0.8em",color:qe.colorTextDescription},children:["v",Ve==null||(Re=Ve.data)===null||Re===void 0?void 0:Re.version]})]})},{key:"divider_1",type:"divider"},{key:"homePage",label:(0,N.jsx)("a",{href:Qe?"https://cn.nocobase.com/":"https://www.nocobase.com",target:"__blank",children:$e("Home page")})},{key:"userManual",label:(0,N.jsx)("a",{href:Qe?"https://docs-cn.nocobase.com/handbook":"https://docs.nocobase.com/handbook",target:"__blank",children:$e("Handbook")})},{key:"license",label:(0,N.jsx)("a",{href:"https://github.com/nocobase/nocobase/blob/main/LICENSE-AGPL",target:"__blank",children:$e("License")})}];return(0,N.jsx)(z.Z,{items:ke})},I=(0,D.css)(B||(B=o()([`
  display: inline-block;
  vertical-align: top;
  width: 56px;
  height: 56px;
  &:hover {
    background: rgba(255, 255, 255, 0.1) !important;
  }
`]))),F=(0,R.observer)(function(){var q;return null;var pe,Re,Oe,$e,Ve,Ze,qe,Qe,ke;if(qe!=null&&(q=qe.options)!==null&&q!==void 0&&(q=q.options)!==null&&q!==void 0&&q.about){var ft,vt,_t;return(0,N.jsx)("div",{className:I,children:(0,N.jsx)(w.Z,{rootClassName:"nb-about",placement:"bottomRight",arrow:!1,content:(0,N.jsx)("div",{dangerouslySetInnerHTML:{__html:_t}}),children:ke})})}},{displayName:"Help"}),W=e(25813),X=e(56007),J=e(17958),C=e(93286),k=e(42371),Y=e(85782),H=e(8217),te=e(13912),le,ne=(0,O.kc)(function(q){var pe=q.css,Re=q.token;return{sider:pe(le||(le=o()([`
      height: 100%;
      position: relative;
      left: 0;
      top: var(--nb-header-height);
      background: rgba(0, 0, 0, 0);
      z-index: 100;

      .ant-menu.ant-menu-root {
        border-inline-end: 0;
        padding-top: `,`px;
      }

      .ant-menu-item,
      .ant-menu-submenu-title {
        margin-inline: `,`px;
        width: calc(100% - `,`px);

        &:active {
          background-color: `,` !important;
        }
      }

      .ant-menu-item-selected {
        background: `,`;
        color: `,`;
      }

      .ant-menu-vertical {
        .ant-menu-item,
        .ant-menu-submenu-title {
          padding-inline: `,`px;
        }
      }

      .ant-menu-inline .ant-menu-item-disabled {
        padding: 0 !important;
        [aria-label='schema-initializer-Menu-MenuItemInitializers'] {
          height: 39px;
          border-radius: `,`px;
        }
      }

      .ant-layout-sider-children {
        position: relative;
        height: calc(100vh - var(--nb-header-height));
      }

      .ant-menu-submenu-selected > .ant-menu-submenu-title {
        color: `,`;
      }
    `])),Re.paddingXS,Re.marginSM,Re.marginSM*2,Re.Menu.itemHoverBg,Re.xwColorPrimary,Re.colorWhite,Re.paddingSM,Re.borderRadiusLG,Re.colorPrimary)}}),ie=e(51976),ee,fe,de,ue,Se,ae,G,re,oe,ce,be=80,xe="NOCODE_SIDEBAR_WIDTH",ge=(0,T.createContext)(null);ge.displayName="SchemaIdContext";var he=function(){var pe=(0,T.useContext)(ge),Re=pe.defaultSelectedUid,Oe=pe.collapsed;return{selectedUid:Re,defaultSelectedUid:Re,collapsed:Oe}},Pe=function(pe){var Re=(0,$.useDocumentTitle)(),Oe=Re.setTitle,$e=(0,Y.WO)(),Ve=(0,S.useParams)(),Ze=(0,S.useLocation)(),qe=(0,S.useMatch)("/app/:name/console/:sub/:name?"),Qe=Ve.name,ke=(0,T.useState)(null),ft=y()(ke,2),vt=ft[0],_t=ft[1],Nt=pe.sideMenuRef,Kt=function(ct){var St,Tt=ct.item,Mt=Tt.props.schema;_t(Mt);var Zt=((St=Tt.props)===null||St===void 0||(St=St.params)===null||St===void 0?void 0:St.appName)||Ve.appName;(0,L.isAppDesignPage)()?$e("/app/".concat(Zt,"/console/design/").concat(Mt["x-uid"])):$e("/app/".concat(Zt,"/").concat(Mt["x-uid"]))},ut=(0,H.oR)(),Rt=ut.menuSchema,Dt=ut.currentAppMenuSchema,dt=(0,T.useMemo)(function(){var He=(0,te.eW)(Dt);return He>1},[Dt]);(0,T.useEffect)(function(){var He,ct,St=((He=Object.values((vt==null||(ct=vt.root)===null||ct===void 0?void 0:ct.properties)||{}).shift())===null||He===void 0?void 0:He.properties)||(Rt==null?void 0:Rt.properties);if(Nt.current){var Tt=St&&Object.values(St).find(function(Zt){return Zt["x-uid"]===Ve.name&&Zt["x-component"]==="Menu.Item"}),Mt=(Ze==null?void 0:Ze.pathname.includes("/settings"))||(Ze==null?void 0:Ze.pathname.includes("/nm/list"))||(Ze==null?void 0:Ze.pathname.includes("/pm/list/local"))||(Ze==null?void 0:Ze.pathname.includes("/myworkspace"));Tt||Mt||qe||!dt?Nt.current.style.display="none":Nt.current.style.display="block"}},[Rt,Ve.name,Nt,Ze==null?void 0:Ze.pathname]),(0,T.useEffect)(function(){if(vt){var He;Oe((vt==null?void 0:vt.title)||((He=vt.parent)===null||He===void 0?void 0:He.title))}},[vt]);var Bt=(0,T.useMemo)(function(){return Rt!=null&&Rt["x-component-props"]&&(Rt["x-component-props"].useProps=he),Rt},[Rt]);return Rt?(0,N.jsx)($.SchemaComponent,{distributed:!0,scope:{useMenuProps:he,onSelect:Kt,sideMenuRef:Nt,defaultSelectedUid:Qe},schema:Bt}):null},Ae=(0,O.vJ)(ee||(ee=o()([`
  .nb-container-of-header-submenu {
    .ant-menu.ant-menu-submenu.ant-menu-submenu-popup {
      .ant-menu.ant-menu-sub.ant-menu-vertical {
        background-color: `,`;
        color: `,`;
        .ant-menu-item:hover {
          color: `,`;
          background-color: `,`;
        }
        .ant-menu-item.ant-menu-item-selected {
          font-weight: bold;
          color: `,`;
          background: `,`;
        }
      }
    }
  }
`])),function(q){return q.theme.colorBgHeader+" !important"},function(q){return q.theme.colorTextHeaderMenu+" !important"},function(q){return q.theme.colorTextHeaderMenu},function(q){return q.theme.Menu.itemHoverBg},function(q){return q.theme.colorWhite+" !important"},function(q){return q.theme.xwColorPrimary+" !important"}),Be=function(pe){var Re=pe.children,Oe=(0,T.useRef)(null);return(0,T.useEffect)(function(){return Oe.current=document.createElement("div"),Oe.current.classList.add("nb-container-of-header-submenu"),document.body.appendChild(Oe.current),function(){document.body.removeChild(Oe.current)}},[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Ae,{}),(0,N.jsx)(P.ZP,{getPopupContainer:function(){return Oe.current},children:Re})]})},Le=function(pe){var Re=pe.sideMenuRef,Oe=ne(),$e=Oe.styles,Ve=(0,S.useParams)(),Ze=(0,T.useContext)(ge),qe=Ze.collapsed,Qe=Ze.setCollapsed,ke=(0,$.useApp)(),ft=ke.getComponent("SiderMenuSkeleton"),vt=(0,$.useToken)(),_t=vt.token,Nt=0,Kt=250,ut=function(Bt){Re.current.style.flex="0 0 ".concat(Bt,"px"),Re.current.style["max-width"]="".concat(Bt,"px"),Re.current.style["min-width"]="".concat(Bt,"px"),Re.current.style.width="".concat(Bt,"px")},Rt=function(Bt){var He=Bt.clientX,ct=He-Nt;Kt=Re.current.offsetWidth+ct*4,ct<=0&&Kt<200&&(Kt=be),ct>0&&Kt<200&&(Kt=200),Kt>350&&(Kt=350),ut(Kt),document.body.style.cursor=ct>0?"e-resize":"w-resize",document.body.style["user-select"]="none",Nt=He},Dt=function dt(){Qe(Kt===be),localStorage.setItem(xe,"".concat(Kt)),ut(Kt),document.body.style.cursor="auto",document.body.style["user-select"]="auto",document.removeEventListener("mousemove",Rt),document.removeEventListener("mouseup",dt)};return!Ve.name||(0,L.isAppDesignPage)()?null:(0,N.jsxs)(E.Z.Sider,{className:$e.sider,width:Number(localStorage.getItem(xe)||Kt),theme:"light",ref:Re,children:[(0,N.jsx)(ft,{needId:!0}),(0,N.jsx)("div",{style:{position:"absolute",top:"50%",right:-7,padding:1,borderRadius:4,background:"hsl(240 5.9% 90%)",cursor:"ew-resize",fontSize:12},onMouseDown:function(Bt){Nt=Bt.clientX,document.addEventListener("mousemove",Rt),document.addEventListener("mouseup",Dt)},children:(0,N.jsx)(C.Z,{})})]})},Me=(0,D.css)(fe||(fe=o()([`
  display: flex;
  flex-direction: column;
  position: relative;
  overflow-y: auto;
  height: 100vh;
  max-height: 100vh;
  > div {
    position: relative;
  }
  .ant-layout-footer {
    position: absolute;
    bottom: 0;
    text-align: center;
    width: 100%;
    z-index: 0;
    padding: 0px 50px;
  }

  > .ant-spin {
    margin-top: 20px;
  }
`]))),Te=(0,D.css)(de||(de=o()([`
  flex-shrink: 0;
  height: var(--nb-header-height);
  line-height: var(--nb-header-height);
  background: transparent;
  pointer-events: none;
`]))),we=function(pe){var Re,Oe,$e=pe.sideMenuRef,Ve=(0,S.useParams)(),Ze=(0,$.useSystemSettings)(),qe=(0,$.useToken)(),Qe=qe.token,ke=(0,T.useState)(localStorage.getItem(xe)==="".concat(be)),ft=y()(ke,2),vt=ft[0],_t=ft[1],Nt=Ve.name,Kt=(0,H.oR)(),ut=Kt.currentAppMenuSchema,Rt=Kt.appList,Dt=(0,T.useState)(null),dt=y()(Dt,2),Bt=dt[0],He=dt[1],ct=(0,T.useState)(null),St=y()(ct,2),Tt=St[0],Mt=St[1],Zt=(0,T.useState)(null),Je=y()(Zt,2),et=Je[0],rt=Je[1],yt=(0,J.Dv)(),xt=(0,S.useNavigate)(),Ct=(0,$.useApp)(),mt=Ct.getComponent("ApplicationsManagerLink"),at=Rt.find(function(Gt){return Gt.name===Ve.appName}),ht=function(){var Gt=n()(f()().mark(function mn(){var qt,$t,Pn,vn,sn,Rn,un;return f()().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(Nt){rn.next=2;break}return rn.abrupt("return");case 2:Pn=(0,H.Ky)(ut,Nt),vn=(0,te.GR)(Pn),sn=ut,Rn=sn==null||(qt=sn["x-data"])===null||qt===void 0?void 0:qt.themeConfig,un=($t=ie.Zj.find(function(An){return An.name===(Rn==null?void 0:Rn.name)}))===null||$t===void 0?void 0:$t.token,rt(ut),Mt(un),He(vn||sn);case 10:case"end":return rn.stop()}},mn)}));return function(){return Gt.apply(this,arguments)}}(),ot=(0,$.useAPIClient)(),kt=ot.auth.getOption("theme"),nn=!1;if(kt)try{var Lt;nn=(Lt=JSON.parse(kt))===null||Lt===void 0?void 0:Lt.overridable}catch(Gt){}(0,T.useEffect)(function(){ht()},[Ve.name,Ve.appName]);var hn=(0,T.useMemo)(function(){return(0,D.css)(ue||(ue=o()([`
      .ant-menu.ant-menu-dark .ant-menu-item-selected,
      .ant-menu-submenu-popup.ant-menu-dark .ant-menu-item-selected,
      .ant-menu-submenu-horizontal.ant-menu-submenu-selected {
        background-color: `,` !important;
        color: `,` !important;
      }
      .ant-menu-submenu-horizontal.ant-menu-submenu-selected > .ant-menu-submenu-title {
        color: `,` !important;
      }
      .ant-menu-dark.ant-menu-horizontal > .ant-menu-item:hover {
        background-color: `,` !important;
        color: `,` !important;
      }

      position: fixed;
      left: 0;
      right: 0;
      height: var(--nb-header-height);
      line-height: var(--nb-header-height);
      padding: 0;
      z-index: 100;
      background-color: `,` !important;

      .ant-menu {
        background-color: transparent;
      }

      .ant-menu-item,
      .ant-menu-submenu-horizontal {
        color: `,` !important;
      }
    `])),Qe.colorBgHeaderMenuActive,Qe.colorTextHeaderMenuActive,Qe.colorTextHeaderMenuActive,Qe.colorBgHeaderMenuHover,Qe.colorTextHeaderMenuHover,Qe.colorBgHeader,Qe.colorTextHeaderMenu)},[Qe.colorBgHeaderMenuActive,Qe.colorTextHeaderMenuActive,Qe.colorBgHeaderMenuHover,Qe.colorTextHeaderMenuHover,Qe.colorBgHeader,Qe.colorTextHeaderMenu]),Dn=(0,N.jsxs)(k._w,{schema:Bt,children:[!yt&&(0,N.jsx)(Le,{sideMenuRef:$e}),(0,N.jsxs)(E.Z.Content,{className:"".concat(Me," nb-subpages-slot-without-header-and-side"),children:[!yt&&(0,N.jsx)("header",{className:Te}),(0,N.jsx)(S.Outlet,{})]})]});return(0,N.jsx)(ge.Provider,{value:{defaultSelectedUid:Nt,collapsed:vt,setCollapsed:_t},children:(0,N.jsx)(k._w,{schema:et,children:(0,N.jsxs)(E.Z,{children:[(0,N.jsx)(Ae,{}),!yt&&(0,N.jsx)(E.Z.Header,{className:hn,children:(0,N.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex"},children:[(0,N.jsxs)("div",{style:{position:"relative",zIndex:1,flex:"1 1 auto",display:"flex",height:"100%"},children:[(0,N.jsx)("div",{className:(0,D.css)(Se||(Se=o()([`
                      width: 120px;
                      display: inline-flex;
                      flex-shrink: 0;
                      color: #fff;
                      padding: 0;
                      align-items: center;
                      cursor: pointer;
                    `]))),onClick:function(){return xt("/")},children:(0,N.jsx)("img",{className:(0,D.css)(ae||(ae=o()([`
                        padding: 0 16px;
                        object-fit: contain;
                        width: 100%;
                        height: 100%;
                      `]))),src:Ze==null||(Re=Ze.data)===null||Re===void 0||(Re=Re.data)===null||Re===void 0||(Re=Re.logo)===null||Re===void 0?void 0:Re.url})}),(0,N.jsxs)("div",{className:(0,D.css)(G||(G=o()([`
                      display: flex;
                      align-items: center;
                    `]))),children:[(0,N.jsx)(mt,{}),at&&(0,N.jsxs)("div",{className:(0,D.css)(re||(re=o()([`
                          height: 32px;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          border-radius: 8px;
                          margin-left: 12px;
                          background: `,`;
                          font-size: 14px;
                          color: #fff;
                          padding: 0 12px;
                          gap: 6px;
                          cursor: pointer;
                        `])),nn&&(Tt==null?void 0:Tt.xwColorPrimary)||Qe.xwColorPrimary),onClick:function(){xt("/app/".concat(at.name))},children:[(0,N.jsx)($.Icon,{type:at==null||(Oe=at.options)===null||Oe===void 0||(Oe=Oe.icon)===null||Oe===void 0?void 0:Oe.type}),(0,N.jsx)("div",{children:at==null?void 0:at.displayName})]})]}),(0,N.jsx)("div",{className:(0,D.css)(oe||(oe=o()([`
                      flex: 1 1 auto;
                      width: 0;
                    `]))),children:(0,N.jsx)(Be,{children:(0,N.jsx)(Pe,{sideMenuRef:$e})})})]}),(0,N.jsxs)("div",{className:(0,D.css)(ce||(ce=o()([`
                    position: relative;
                    flex-shrink: 0;
                    height: 100%;
                    z-index: 10;
                    display: flex;
                    align-items: center;
                    padding-right: 12px;
                  `]))),children:[(0,N.jsx)($.PinnedPluginList,{}),(0,N.jsx)(F,{}),(0,N.jsx)($.CurrentUser,{})]})]})}),Dn]})})})},Ue=function(){var pe=(0,T.useRef)();return L.DEVICE_TYPE==="pc"?(0,N.jsx)(we,{sideMenuRef:pe}):(0,N.jsx)(X.Z,{sideMenuRef:pe})},je=function(pe){return(0,N.jsx)($.CurrentAppInfoProvider,{children:(0,N.jsx)($.NavigateIfNotSignIn,{children:(0,N.jsx)($.RemoteSchemaTemplateManagerProvider,{children:(0,N.jsx)($.RemoteCollectionManagerProvider,{children:(0,N.jsx)(W.Uj,{children:(0,N.jsx)($.ACLRolesCheckProvider,{children:(0,N.jsx)(H.Yd,{children:pe.children})})})})})})})},De=function(pe){return(0,N.jsx)(je,{children:(0,N.jsx)(Ue,i()({},pe))})},ye=function(q){d()(Re,q);var pe=t()(Re);function Re(){return m()(this,Re),pe.apply(this,arguments)}return u()(Re,[{key:"afterAdd",value:function(){var Oe=n()(f()().mark(function Ve(){return f()().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,this.app.pm.add($.RemoteSchemaTemplateManagerPlugin);case 2:case"end":return qe.stop()}},Ve,this)}));function $e(){return Oe.apply(this,arguments)}return $e}()},{key:"load",value:function(){var Oe=n()(f()().mark(function Ve(){return f()().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:this.app.addComponents({AdminLayout:De});case 1:case"end":return qe.stop()}},Ve,this)}));function $e(){return Oe.apply(this,arguments)}return $e}()}]),Re}(Z.S),_e=e(99622)},16869:function(se,j,e){"use strict";e.d(j,{G:function(){return x},l:function(){return m}});var v=e(67294),m=(0,v.createContext)({});m.displayName="H5LayoutContext";var x=function(){return(0,v.useContext)(m)}},60094:function(se,j,e){"use strict";e.d(j,{N4:function(){return I},CT:function(){return F},l6:function(){return Y},V_:function(){return l},F8:function(){return p},dQ:function(){return h}});var v=e(28459),m=e(67294),x=v.ZP.ConfigContext,u=function(){return(0,m.useContext)(x)},p=function(te,le){var ne=(0,m.useContext)(v.ZP.ConfigContext)||{},ie=ne.getPrefixCls;if("ConfigContext"in v.ZP)return(ie==null?void 0:ie(te,le==null?void 0:le.prefixCls))||"";var ee,fe=(ee=le==null?void 0:le.prefixCls)!==null&&ee!==void 0?ee:"ant-";return"".concat(fe).concat(te!=null?te:"")},d=e(9361),h=function(){var te=d.Z.useToken();return te},t=e(15009),c=e.n(t),i=e(99289),a=e.n(i),f=e(45360),l=function(){var H=a()(c()().mark(function te(){var le,ne,ie,ee,fe,de=arguments;return c()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return le=de.length>0&&de[0]!==void 0?de[0]:"Loading...",ne=de.length>1?de[1]:void 0,ie=null,ee=setTimeout(function(){ie=f.ZP.loading(le)},100),Se.prev=4,Se.next=7,ne();case 7:return Se.abrupt("return",Se.sent);case 8:return Se.prev=8,(fe=ie)===null||fe===void 0||fe(),clearTimeout(ee),Se.finish(8);case 12:case"end":return Se.stop()}},te,null,[[4,,8,12]])}));return function(){return H.apply(this,arguments)}}(),n=e(94350),r=e(85667),o=e(73935),g=e.t(o,2),y=e(52677),D=e.n(y),P=e(97857),E=e.n(P),O=E()({},g),T=O.version,S=O.render,$=O.unmountComponentAtNode,Z;try{var K=Number((T||"").split(".")[0]);K>=18&&O.createRoot&&(Z=O.createRoot)}catch(H){}function z(H){var te=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;te&&D()(te)==="object"&&(te.usingClientEntryPoint=H)}var w="__antd_mobile_root__";function A(H,te){S(H,te)}function M(H,te){z(!0);var le=te[w]||Z(te);z(!1),le.render(H),te[w]=le}function b(H,te){if(Z){M(H,te);return}A(H,te)}function R(H){return $(H)}function L(H){return N.apply(this,arguments)}function N(){return N=a()(c()().mark(function H(te){return c()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",Promise.resolve().then(function(){var ie;(ie=te[w])===null||ie===void 0||ie.unmount(),delete te[w]}));case 1:case"end":return ne.stop()}},H)})),N.apply(this,arguments)}function B(H){return Z?L(H):R(H)}var V=e(85893),U=(0,r.observable)(new Map),I=function(te){var le=function(ie){return ie.id&&!U.has(ie.id)&&U.set(ie.id,null),(0,V.jsxs)(m.Fragment,{children:[ie.children,(0,V.jsx)(n.Observer,{children:function(){if(!ie.id)return(0,V.jsx)(V.Fragment,{});var fe=U.get(ie.id);return fe?(0,o.createPortal)(fe,document.body):(0,V.jsx)(V.Fragment,{})}})]})};return le.defaultProps={id:te},le};function F(H,te){function le(ie){U.has(te)?U.set(te,ie==null?void 0:ie()):H&&b((0,V.jsx)(m.Fragment,{children:ie==null?void 0:ie()}),H)}function ne(){if(U.has(te)&&U.set(te,null),H){var ie=B(H);if(ie&&H.parentNode){var ee;(ee=H.parentNode)===null||ee===void 0||ee.removeChild(H)}}}return{render:le,unmount:ne}}var W=e(9783),X=e.n(W),J=e(88422),C=e(84327),k=function(te,le){var ne=te.fontFamily,ie=te.fontSize,ee='[class^="'.concat(le,'"], [class*=" ').concat(le,'"]');return X()({},ee,X()({fontFamily:ne,fontSize:ie,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},ee,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},Y=function(te,le){return function(ne){var ie=h(),ee=ie.theme,fe=ie.token,de=ie.hashId,ue=u(),Se=ue.getPrefixCls,ae=ue.iconPrefixCls,G=p(te),re=Se(),oe=(0,J.useStyleRegister)({theme:ee,token:fe,hashId:de,path:["formily-antd",te,G,ae]},function(){var be=".".concat(G),xe=(0,C.merge)(fe,{componentCls:be,prefixCls:G,iconCls:".".concat(ae),antCls:".".concat(re)}),ge=le(xe,ne,{hashId:de,prefixCls:G,rootPrefixCls:re,iconPrefixCls:ae});return[k(fe,G),ge]}),ce=(0,m.useMemo)(function(){return oe},[ee,fe,de,G,ae,re,ne]);return{wrapSSR:ce,hashId:de,componentCls:G,rootPrefixCls:re}}}},26733:function(se,j,e){"use strict";var v=e(97857),m=e.n(v),x=e(94350),u=e(67294),p=e(76714),d=e(79268),h=e(75585),t=e(70173),c=e(85893),i=(0,x.observer)(function(a){var f=(0,d.B)(),l=f.getComponentByOpenMode,n=f.defaultOpenMode,r=(0,p.XC)(),o=r.openMode,g=o===void 0?n:o,y=(0,h.Zm)(),D=y.currentLevel,P=l(t.DEVICE_TYPE==="md"&&g==="page"?"drawer":g);return(0,c.jsx)(P,m()({footerNodeName:"Action.Container.Footer",level:D},a))},{displayName:"ActionContainer"});i.Footer=(0,x.observer)(function(){var a=(0,x.useField)(),f=(0,x.useFieldSchema)();return(0,c.jsx)(x.RecursionField,{basePath:a.address,schema:f,onlyRenderProperties:!0})},{displayName:"ActionContainer.Footer"}),j.Z=i},55642:function(se,j,e){"use strict";e.d(j,{$L:function(){return ae},$b:function(){return H},C1:function(){return F},Fj:function(){return ie},JV:function(){return fe},Mk:function(){return C},SL:function(){return Se},co:function(){return k},eY:function(){return J},pE:function(){return te},sB:function(){return de},x1:function(){return G},xZ:function(){return le},y0:function(){return ue}});var v=e(5574),m=e.n(v),x=e(13769),u=e.n(x),p=e(9783),d=e.n(p),h=e(97857),t=e.n(h),c=e(57134),i=e(86201),a=e(94350),f=e(84327),l=e(86250),n=e(66309),r=e(38925),o=e(20863),g=e(67294),y=e(26793),D=e(98427),P=e(74614),E=e(43173),O=e(5537),T=e(35097),S=e(79531),$=e(18386),Z=e(6145),K=e(53285),z=e(90810),w=e(50679),A=e(62662),M=e(29124),b=e(75496),R=e(72594),L=e(81560),N=e(85893),B=null,V=["actionType","direct"],U=["modalTip","linkageAction","removeButtonProps","buttonEditorProps","linkageRulesProps","schemaSettings"],I=function(oe){return oe.children};function F(re){var oe,ce,be,xe,ge=(0,a.useField)(),he=(0,a.useFieldSchema)(),Pe=(0,D.ngQ)(),Ae=Pe.dn,Be=(0,y.$)(),Le=Be.t,Me=(re==null?void 0:re.isLink)||he["x-component"]==="Action.Link",Te=he["x-component"]==="Action.Icon";return(0,N.jsx)(A.j0,{title:Le("Edit button"),schema:{type:"object",title:Le("Edit button"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:Le("Button title"),default:he.title,"x-component-props":{},"x-visible":!Te},icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:Le("Button icon"),default:he==null||(oe=he["x-component-props"])===null||oe===void 0?void 0:oe.icon,"x-component-props":{},"x-visible":!Me},iconColor:{title:Le("Color"),required:!0,default:(he==null||(ce=he["x-component-props"])===null||ce===void 0?void 0:ce.iconColor)||"#1677FF","x-hidden":!re.hasIconColor,"x-component":"ColorPicker","x-decorator":"FormItem"},type:{"x-decorator":"FormItem","x-component":"Radio.Group",title:Le("Button background color"),default:he!=null&&(be=he["x-component-props"])!==null&&be!==void 0&&be.danger?"danger":(he==null||(xe=he["x-component-props"])===null||xe===void 0?void 0:xe.type)==="primary"?"primary":"default",enum:[{value:"default",label:'{{t("Default")}}'},{value:"primary",label:'{{t("Highlight")}}'},{value:"danger",label:'{{t("Secondary")}}'}],"x-visible":!Me&&!Te&&!re.hasIconColor}}},onSubmit:function(Ue){var je,De=Ue.title,ye=Ue.icon,_e=Ue.type,q=Ue.iconColor;he.title=De,ge.title=De,ge.componentProps.icon=ye,ge.componentProps.danger=_e==="danger",ge.componentProps.type=_e||ge.componentProps.type,ge.componentProps.iconColor=q,he["x-component-props"]=he["x-component-props"]||{},he["x-component-props"].icon=ye,he["x-component-props"].danger=_e==="danger",he["x-component-props"].type=_e||ge.componentProps.type,he["x-component-props"].iconColor=q,Ae.emit("patch",{schema:(je={},d()(je,"x-uid",he["x-uid"]),d()(je,"title",De),d()(je,"x-component-props",t()({},he["x-component-props"])),je)}),Ae.refresh()}})}var W=function re(oe){var ce=oe.reduceProperties(function(be,xe){return xe["x-decorator"]==="FormBlockProvider"?xe:re(xe)},null);return ce},X=function re(oe,ce){for(var be=0;be<(oe==null?void 0:oe.length);be++){var xe=oe[be],ge=xe.children,he=_objectWithoutProperties(xe,B);ce.push(he.key),ge&&re(ge,ce)}return ce};function J(){var re,oe,ce,be=(0,D.ngQ)(),xe=be.dn,ge=(0,y.$)(),he=ge.t,Pe=(0,a.useFieldSchema)(),Ae={type:"void","x-uid":(0,f.uid)(),"x-component":"Grid","x-initializer":"assignFieldValuesForm:configureFields"},Be={"customize:update":he("After clicking the custom button, the following fields of the current record will be saved according to the following form."),"customize:save":he("After clicking the custom button, the following fields of the current record will be saved according to the following form.")},Le=(re=Pe["x-action"])!==null&&re!==void 0?re:"",Me=(0,g.useCallback)(function(Te){var we;Pe["x-action-settings"].assignedValues=Te,xe.emit("patch",{schema:(we={},d()(we,"x-uid",Pe["x-uid"]),d()(we,"x-action-settings",Pe["x-action-settings"]),we)})},[xe,Pe]);return(0,N.jsx)(K.Cm,{isInAssignFieldValues:!0,children:(0,N.jsx)(M.yT,{isAllowToSetDefaultValue:function(){return!1},children:(0,N.jsx)(A.Qh,{title:he("Assign field values"),initialSchema:Ae,initialValues:Pe==null||(oe=Pe["x-action-settings"])===null||oe===void 0?void 0:oe.assignedValues,modalTip:Be[Le],uid:Pe==null||(ce=Pe["x-action-settings"])===null||ce===void 0?void 0:ce.schemaUid,onSubmit:Me})})})}function C(){var re,oe=(0,D.ngQ)(),ce=oe.dn,be=(0,y.$)(),xe=be.t,ge=(0,a.useFieldSchema)();return(0,N.jsx)(A.Qh,{title:xe("Request settings"),schema:b.qr,initialValues:ge==null||(re=ge["x-action-settings"])===null||re===void 0?void 0:re.requestSettings,onSubmit:function(Pe){var Ae;ge["x-action-settings"].requestSettings=Pe,ce.emit("patch",{schema:(Ae={},d()(Ae,"x-uid",ge["x-uid"]),d()(Ae,"x-action-settings",ge["x-action-settings"]),Ae)}),ce.refresh()}})}function k(){var re,oe=(0,D.ngQ)(),ce=oe.dn,be=(0,y.$)(),xe=be.t,ge=(0,a.useFieldSchema)();return(0,N.jsx)(A.hj,{title:xe("Skip required validation"),checked:!!(ge!=null&&(re=ge["x-action-settings"])!==null&&re!==void 0&&re.skipValidator),onChange:function(Pe){var Ae;ge["x-action-settings"].skipValidator=Pe,ce.emit("patch",{schema:(Ae={},d()(Ae,"x-uid",ge["x-uid"]),d()(Ae,"x-action-settings",t()({},ge["x-action-settings"])),Ae)})}})}var Y=function(oe){for(;oe;){if(oe["x-component"]==="Action.Container")return!0;oe=oe.parent}return!1};function H(){var re,oe=(0,D.ngQ)(),ce=oe.dn,be=(0,y.$)(),xe=be.t,ge=(0,a.useFieldSchema)(),he=(0,D.eJW)(),Pe=(0,$.kO)(),Ae=Pe.getDataBlocks,Be=Ae(),Le=Be.map(function(Me){var Te=Me.uid,we=Me.collection;return{label:"".concat(he(we.title)," #").concat(Te.slice(0,4)),value:Te}});return(0,N.jsx)(A.j0,{title:xe("After successful submission"),initialValues:ge==null||(re=ge["x-action-settings"])===null||re===void 0?void 0:re.onSuccess,schema:{type:"object",title:xe("After successful submission"),properties:{successTitle:{title:xe("Popup title"),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}},successMessage:{title:xe("Popup message"),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}},keepActionContainer:{title:xe("Then"),enum:[{label:xe("Close action container"),value:!1},{label:xe("Keep action container"),value:!0}],"x-visible":Y(ge),default:!1,"x-decorator":"FormItem","x-component":"Radio.Group"},redirecting:{title:xe("Then"),enum:[{label:xe("Stay on current page"),value:!1},{label:xe("Redirect to"),value:!0}],default:!1,"x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{},"x-reactions":{target:"redirectTo",fulfill:{state:{visible:"{{!!$self.value}}"}}}},redirectTo:{title:xe("Link"),"x-decorator":"FormItem","x-component":"Input"},refreshBlockIds:{title:xe("Refresh block"),"x-decorator":"FormItem","x-component":"Select","x-component-props":{options:Le,mode:"multiple"},"x-reactions":{dependencies:[".redirecting"],fulfill:{state:{visible:"{{!!!$dependencies[0]}}"}}}},refreshWaitingTime:{title:xe("Refresh waiting time"),"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{addonAfter:"ms"},"x-reactions":{dependencies:[".redirecting"],fulfill:{state:{visible:"{{!!!$dependencies[0]}}"}}}}}},onSubmit:function(Te){var we;ge["x-action-settings"].onSuccess=Te,ce.emit("patch",{schema:(we={},d()(we,"x-uid",ge["x-uid"]),d()(we,"x-action-settings",ge["x-action-settings"]),we)})}})}function te(){var re,oe=(0,D.ngQ)(),ce=oe.dn,be=(0,y.$)(),xe=be.t,ge=(0,a.useFieldSchema)();return(0,N.jsx)(A.j0,{title:xe("After failed submission"),initialValues:ge==null||(re=ge["x-action-settings"])===null||re===void 0?void 0:re.onFail,schema:{type:"object",title:xe("After failed submission"),properties:{failTitle:{title:xe("Popup title"),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}},failMessage:{title:xe("Popup message"),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(Pe){var Ae;ge["x-action-settings"].onFail=Pe,ce.emit("patch",{schema:(Ae={},d()(Ae,"x-uid",ge["x-uid"]),d()(Ae,"x-action-settings",ge["x-action-settings"]),Ae)})}})}function le(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=(0,y.$)(),ce=oe.t,be=(0,a.useFieldSchema)(),xe=(be==null?void 0:be.parent["x-component"])==="CollectionField";return!xe&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(A.Z5,{}),(0,N.jsx)(A.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:function(he){return he["x-component"]==="Space"||he["x-component"].endsWith("ActionBar")},confirm:{title:ce("Delete action"),onOk:re.onConfirmOk}})]})}function ne(re){var oe=re.actionType,ce=re.direct,be=ce===void 0?!1:ce,xe=u()(re,V),ge=(0,y.$)(),he=ge.t,Pe=c.ArrayTable.useIndex(),Ae=(0,a.useForm)(),Be=Ae.setValuesIn,Le=(0,Z.useCollection_deprecated)(),Me=(0,Z.useCollectionManager_deprecated)(),Te=Me.getCollection,we=(0,R.FC)(),Ue=(0,g.useState)((0,Z.joinCollectionName)(we,Le.name)),je=m()(Ue,2),De=je[0],ye=je[1],_e=(0,D.eJW)(),q=(0,E.j7)("workflow"),pe=q.useTriggersOptions(),Re=(0,g.useMemo)(function(){return pe.filter(function($e){return typeof $e.options.isActionTriggerable=="function"||$e.options.isActionTriggerable===!0}).map(function($e){return $e.value})},[pe]);(0,a.useFormEffects)(function(){(0,i.onFieldValueChange)("group[".concat(Pe,"].context"),function($e){var Ve=Le;if($e.value)for(var Ze=$e.value.split("."),qe=function(){var ft=Ze[Qe],vt=Ve.fields.find(function(_t){return _t.name===ft});vt&&(Ve=Te(vt.target,we))},Qe=0;Qe<Ze.length&&Ve;Qe++)qe();ye((0,Z.joinCollectionName)(we,Ve.name)),Be("group[".concat(Pe,"].workflowKey"),null)})});var Oe=(0,g.useCallback)(function($e){var Ve=$e.type,Ze=$e.config,qe=q.triggers.get(Ve);return qe.isActionTriggerable===!0?!0:typeof qe.isActionTriggerable=="function"?qe.isActionTriggerable(Ze,{action:oe,direct:be}):!1},[q.triggers,oe,be]);return(0,N.jsx)(R.LX,{dataSource:"main",children:(0,N.jsx)(D.glM,t()({manual:!1,placeholder:he("Select workflow",{ns:"workflow"}),fieldNames:{label:"title",value:"key"},service:{resource:"workflows",action:"list",params:{filter:{type:Re,enabled:!0,"config.collection":De}}},optionFilter:Oe,optionRender:function(Ve){var Ze=Ve.label,qe=Ve.data,Qe=pe.find(function(ke){return ke.value===qe.type});return Qe?(0,N.jsxs)(l.Z,{justify:"space-between",children:[(0,N.jsx)("span",{children:Ze}),(0,N.jsx)(n.Z,{color:Qe.color,children:_e(Qe.label)})]}):Ze}},xe))})}function ie(){var re,oe=(0,D.ngQ)(),ce=oe.dn,be=(0,y.$)(),xe=be.t,ge=(0,a.useFieldSchema)(),he=(0,Z.useCollection_deprecated)(),Pe=(0,S.bz)(),Ae=(Pe==null?void 0:Pe.type)||ge["x-action"],Be={submit:xe("Workflow will be triggered before or after submitting succeeded based on workflow type.",{ns:"workflow"}),"customize:save":xe("Workflow will be triggered before or after submitting succeeded based on workflow type.",{ns:"workflow"}),"customize:triggerWorkflows":xe('Workflow will be triggered directly once the button clicked, without data saving. Only supports "Post-action event" for now.',{ns:"workflow"}),destroy:xe("Workflow will be triggered before deleting succeeded.",{ns:"workflow"})}[ge==null?void 0:ge["x-action"]];return(0,N.jsx)(A.Qh,{title:xe("Bind workflows",{ns:"workflow"}),scope:{fieldFilter:function(Me){return["belongsTo","hasOne"].includes(Me.type)}},components:{Alert:r.Z,ArrayTable:c.ArrayTable,WorkflowSelect:ne},schema:{type:"void",title:xe("Bind workflows",{ns:"workflow"}),properties:{description:Be&&{type:"void","x-component":"Alert","x-component-props":{message:Be,style:{marginBottom:"1em"}}},group:{type:"array","x-component":"ArrayTable","x-decorator":"FormItem",items:{type:"object",properties:{context:{type:"void","x-component":"ArrayTable.Column","x-component-props":{title:xe("Trigger data context",{ns:"workflow"}),width:200},properties:{context:{type:"string","x-decorator":"FormItem","x-component":"AppendsTreeSelect","x-component-props":{placeholder:xe("Select context",{ns:"workflow"}),popupMatchSelectWidth:!1,collection:"".concat(he.dataSource&&he.dataSource!=="main"?"".concat(he.dataSource,":"):"").concat(he.name),filter:"{{ fieldFilter }}",rootOption:{label:xe("Full form data",{ns:"workflow"}),value:""},allowClear:!1,loadData:Ae==="destroy"?null:void 0},default:""}}},workflowKey:{type:"void","x-component":"ArrayTable.Column","x-component-props":{title:xe("Workflow",{ns:"workflow"})},properties:{workflowKey:{type:"number","x-decorator":"FormItem","x-component":"WorkflowSelect","x-component-props":{placeholder:xe("Select workflow",{ns:"workflow"}),actionType:Ae,direct:ge["x-action"]==="customize:triggerWorkflows"},required:!0}}},operations:{type:"void","x-component":"ArrayTable.Column","x-component-props":{width:32},properties:{remove:{type:"void","x-component":"ArrayTable.Remove"}}}}},properties:{add:{type:"void",title:xe("Add workflow",{ns:"workflow"}),"x-component":"ArrayTable.Addition"}}}}},initialValues:{group:ge==null||(re=ge["x-action-settings"])===null||re===void 0?void 0:re.triggerWorkflows},onSubmit:function(Me){var Te,we=Me.group;ge["x-action-settings"]||(ge["x-action-settings"]={triggerWorkflows:[]}),ge["x-action-settings"].triggerWorkflows=we,ce.emit("patch",{schema:(Te={},d()(Te,"x-uid",ge["x-uid"]),d()(Te,"x-action-settings",ge["x-action-settings"]),Te)})}})}var ee=(0,a.connect)(o.Z,(0,a.mapProps)(function(re,oe){(0,g.useEffect)(function(){oe.value=re.defaultCheckedKeys||[]},[]);var ce=(0,g.useState)(re.defaultCheckedKeys||[]),be=m()(ce,2),xe=be[0],ge=be[1],he=function(Ae){ge(Ae),oe.value=Ae};return oe.onCheck=he,t()(t()({},re),{},{checkedKeys:xe,onCheck:he})}));function fe(){var re=(0,D.ngQ)(),oe=re.dn,ce=(0,y.$)(),be=ce.t,xe=(0,a.useField)(),ge=(0,a.useFieldSchema)(),he=(0,Z.useCollection_deprecated)(),Pe=he.name,Ae=(0,L.IO)(Pe),Be=Ae.getEnableFieldTree,Le=Ae.getOnLoadData;return(0,N.jsx)(A.j0,{title:be("Save mode"),components:{Tree:ee},scope:{getEnableFieldTree:Be,name:Pe,getOnLoadData:Le},schema:{type:"object",title:be("Save mode"),properties:{saveMode:{"x-decorator":"FormItem","x-component":"Radio.Group",default:xe.componentProps.saveMode||"create",enum:[{value:"create",label:'{{t("Insert")}}'},{value:"firstOrCreate",label:'{{t("Insert if not exists")}}'},{value:"updateOrCreate",label:'{{t("Insert if not exists, or update")}}'}]},filterKeys:{type:"array",title:'{{ t("Determine whether a record exists by the following fields") }}',required:!0,default:xe.componentProps.filterKeys,"x-decorator":"FormItem","x-component":"Tree","x-component-props":{treeData:[],checkable:!0,checkStrictly:!0,selectable:!1,loadData:"{{ getOnLoadData($self) }}",defaultCheckedKeys:xe.componentProps.filterKeys,rootStyle:{padding:"8px 0",border:"1px solid #d9d9d9",borderRadius:"2px",maxHeight:"30vh",overflow:"auto",margin:"2px 0"}},"x-reactions":[{dependencies:[".saveMode"],fulfill:{state:{hidden:'{{ $deps[0]==="create"}}',componentProps:{treeData:"{{ getEnableFieldTree(name, $self) }}"}}}}]}}},onSubmit:function(Te){var we,Ue=Te.saveMode,je=Te.filterKeys;xe.componentProps.saveMode=Ue,xe.componentProps.filterKeys=je,ge["x-component-props"]=ge["x-component-props"]||{},ge["x-component-props"].saveMode=Ue,ge["x-component-props"].filterKeys=je,oe.emit("patch",{schema:(we={},d()(we,"x-uid",ge["x-uid"]),d()(we,"x-component-props",t()({},ge["x-component-props"])),we)}),oe.refresh()}})}var de=[{name:"Customize",Component:I,children:[{name:"editButton",Component:F,useComponentProps:function(){var oe=(0,T.Po)(),ce=oe.buttonEditorProps;return ce}},{name:"linkageRules",Component:function(oe){return(0,N.jsx)(A.lc,t()({},oe))},useVisible:function(){return!0},useComponentProps:function(){var oe=(0,Z.useCollection_deprecated)(),ce=oe.name,be=(0,T.Po)(),xe=be.linkageRulesProps;return t()(t()({},xe),{},{collectionName:ce})}},{name:"openMode",Component:z.HA,useComponentProps:function(){var oe=(0,a.useFieldSchema)(),ce=["create","update","view","customize:popup","duplicate","customize:create"].includes(oe["x-action"]||"");return{openMode:ce,openSize:ce}}},{name:"secondConFirm",Component:ue,useVisible:function(){var oe=(0,a.useFieldSchema)(),ce=["create","update","view","customize:popup","duplicate","customize:create"].includes(oe["x-action"]||"");return!ce}},{name:"assignFieldValues",Component:J,useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(0,f.isValid)(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.assignedValues)}},{name:"requestSettings",Component:C,useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(0,f.isValid)(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.requestSettings)}},{name:"skipValidator",Component:k,useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(0,f.isValid)(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.skipValidator)}},{name:"afterSuccess",Component:H,useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(0,f.isValid)(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.onSuccess)}},{name:"workflowConfig",Component:ie,useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(0,f.isValid)(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.triggerWorkflows)}},{name:"saveMode",Component:fe,useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return ce["x-action"]==="submit"&&(0,P.h6)((oe=ce.parent)===null||oe===void 0?void 0:oe["x-initializer"],"createForm:configureActions")}},{name:"enableChildCollections",Component:A.L3,useVisible:function(){var oe,ce=(0,a.useFieldSchema)(),be=(0,Z.useCollection_deprecated)(),xe=be.name,ge=(0,Z.useCollectionManager_deprecated)(),he=ge.getChildrenCollections,Pe=((oe=he(xe))===null||oe===void 0?void 0:oe.length)>0&&ce["x-action"]==="create";return Pe},useComponentProps:function(){var oe=(0,Z.useCollection_deprecated)(),ce=oe.name;return{collectionName:ce}}},{name:"refreshDataBlockRequest",Component:G,useComponentProps:function(){return{isPopupAction:!1}},useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(0,f.isValid)(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.triggerWorkflows)}},{name:"remove",sort:100,Component:le,useComponentProps:function(){var oe=(0,T.Po)(),ce=oe.removeButtonProps;return ce},useVisible:function(){var oe,ce=(0,a.useFieldSchema)();return(ce==null||(oe=ce["x-action-settings"])===null||oe===void 0?void 0:oe.removable)!==!1}}]}];function ue(){var re,oe=(0,D.ngQ)(),ce=oe.dn,be=(0,a.useFieldSchema)(),xe=(0,y.$)(),ge=xe.t,he=(0,a.useField)();return(0,N.jsx)(A.hj,{title:ge("Secondary confirmation"),checked:!!(be!=null&&(re=be["x-component-props"])!==null&&re!==void 0&&(re=re.confirm)!==null&&re!==void 0&&re.content),onChange:function(Ae){var Be,Le;be["x-component-props"]||(be["x-component-props"]={}),Ae?be["x-component-props"].confirm=Ae?{title:"Perform the {{title}}",content:"Are you sure you want to perform the {{title}} action?"}:{}:be["x-component-props"].confirm={},he.componentProps.confirm=t()({},(Be=be["x-component-props"])===null||Be===void 0?void 0:Be.confirm),ce.emit("patch",{schema:(Le={},d()(Le,"x-uid",be["x-uid"]),d()(Le,"x-component-props",t()({},be["x-component-props"])),Le)}),ce.refresh()}})}var Se=new O.F5({name:"ActionSettings",items:de}),ae=function(oe){var ce=oe.modalTip,be=oe.linkageAction,xe=oe.removeButtonProps,ge=oe.buttonEditorProps,he=oe.linkageRulesProps,Pe=oe.schemaSettings,Ae=Pe===void 0?"ActionSettings":Pe,Be=u()(oe,U),Le=(0,P.qD)(),Me=(0,a.useFieldSchema)(),Te=(Me==null?void 0:Me.parent["x-component"])!=="CollectionField",we="ActionSettings:".concat(Me["x-action"]),Ue=Ae||"ActionSettings",je=Le.schemaSettingsManager.has(we);return(0,N.jsx)(w.a,t()(t()({schemaSettings:je?we:Ue,contextValue:{modalTip:ce,linkageAction:be,removeButtonProps:xe,buttonEditorProps:ge,linkageRulesProps:he}},Be),{},{disableInitializer:!0,draggable:Te}))};function G(re){var oe=(0,D.ngQ)(),ce=oe.dn,be=(0,a.useFieldSchema)(),xe=(0,y.$)(),ge=xe.t,he=(be==null?void 0:be["x-component-props"])||{},Pe=he.refreshDataBlockRequest;return(0,N.jsx)(A.hj,{title:ge("Refresh data on action"),checked:Pe!==!1,onChange:function(Be){var Le;be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].refreshDataBlockRequest=Be,ce.emit("patch",{schema:(Le={},d()(Le,"x-uid",be["x-uid"]),d()(Le,"x-component-props",t()({},be["x-component-props"])),Le)})}})}ae.ButtonEditor=F,ae.RemoveButton=le},35120:function(se,j,e){"use strict";e.d(j,{S:function(){return M},Z:function(){return b}});var v=e(68400),m=e.n(v),x=e(97857),u=e.n(x),p=e(13769),d=e.n(p),h=e(94350),t=e(95012),c=e(94184),i=e.n(c),a=e(67294),f=e(96486),l=e.n(f),n=e(97133),r=e(82518),o=e(9783),g=e.n(o),y=e(70173),D=e(60094),P=(0,D.l6)("nb-action-drawer",function(R){var L=R.componentCls;return g()({},L,{overflow:"hidden",".todo-status":{"> .ant-card-head, > .ant-card-body":{padding:0}},".ant-drawer-content:hover":{".drawer-designer .general-schema-designer":{display:"block"}},".drawer-designer .general-schema-designer":{position:"absolute",zIndex:999,top:"0",bottom:"0",left:"0",right:"0",display:"none",border:"0",pointerEvents:"none","> .general-schema-designer-icons":{zIndex:9999,position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:"var(--colorSettings)",lineHeight:"16px",width:"16px",paddingLeft:"1px",".ant-dropdown-trigger > .anticon":{color:"#fff"}}}},"&.reset":{"&.nb-action-popup":{".ant-drawer-header":{display:"block",border:"none"},".ant-drawer-body":{backgroundColor:R.xwColorPageBg}},"&.nb-record-picker-selector":{".ant-drawer-wrapper-body":{backgroundColor:R.colorBgLayout},".nb-block-item":{marginBottom:R.marginBlock,".general-schema-designer":{top:-R.sizeXS,bottom:-R.sizeXS,left:-R.sizeXS,right:-R.sizeXS}}}},".footer":{display:"flex",justifyContent:"flex-end",width:"100%",".ant-btn":{marginRight:R.marginXS}},".ant-drawer-content-wrapper":{borderLeft:"1px solid rgba(255, 255, 255, 0.1)"},".ant-tabs-nav":{paddingLeft:R.paddingLG-R.paddingPageHorizontal,paddingRight:R.paddingLG-R.paddingPageHorizontal,marginLeft:R.paddingPageHorizontal-R.paddingLG,marginRight:R.paddingPageHorizontal-R.paddingLG},".ant-tabs-content-holder":{padding:"0 0 ".concat(R.paddingPopupVertical,"px 0")},".ant-drawer-header":y.isMobile?{padding:"".concat(R.padding,"px"),".ant-drawer-close":{paddingInline:0,paddingBlock:4}}:{},".ant-drawer-body":y.isMobile?{padding:0,".ant-tabs-nav":{paddingTop:"".concat(R.paddingXS,"px"),paddingRight:"".concat(R.padding,"px"),paddingBottom:"".concat(R.paddingXS,"px"),paddingLeft:"".concat(R.padding,"px"),marginBottom:"10px",backgroundColor:"#fff",".ant-tabs-nav-wrap::before, .ant-tabs-nav-wrap::after":{boxShadow:"none"}},".ant-card .ant-card-body":{padding:"".concat(R.padding,"px")},".ant-card .ant-card-head":{padding:"".concat(R.padding,"px"),paddingBottom:0,minHeight:0,".ant-card-head-title":{overflowWrap:"anywhere",whiteSpace:"pre-wrap"}},".ant-table-wrapper":{boxShadow:"none"}}:{padding:0,"> div:not(.drawer-designer)":{padding:R.paddingLG}}})}),E=e(534),O=e(19632),T=e(70348);function S(R){var L=useGetAriaLabelOfDrawer(),N=L.getAriaLabel;useEffect(function(){R&&setTimeout(function(){var B=_toConsumableArray(document.querySelectorAll(".ant-drawer-wrapper-body")),V=_toConsumableArray(document.querySelectorAll(".ant-drawer-mask")),U=V[V.length-1],I=B[B.length-1];U&&(U.setAttribute("role","button"),U.setAttribute("aria-label",N("mask"))),I&&(I.setAttribute("role","button"),I.setAttribute("data-testid",N()),I.setAttribute("aria-label",N()))},0)},[N,R])}var $=e(21143),Z=e(85893),K,z,w=["footerNodeName"],A=new Map([["small","30%"],["middle","50%"],["large","87%"]]),M=(0,h.observer)(function(R){var L,N,B,V=R.footerNodeName,U=V===void 0?"Action.Drawer.Footer":V,I=d()(R,w),F=(0,E.XC)(),W=F.visible,X=F.setVisible,J=F.openSize,C=J===void 0?"middle":J,k=F.drawerProps,Y=(0,h.useFieldSchema)(),H=(0,h.useField)(),te=P(),le=te.componentCls,ne=te.hashId,ie=Y.reduceProperties(function(fe,de){return de["x-component"]===U?de:fe}),ee=l().throttle(function(fe){var de,ue=Y!=null&&(de=Y["x-component-props"])!==null&&de!==void 0&&de.enablePageTabs?56:66;(0,$.handleScroll)(fe.target.querySelector(".nb-grid"),ue-30,0)},200,{trailing:!0});return(0,Z.jsxs)(t.Z,u()(u()(u()({width:y.isMobile?"100%":A.get(C),title:Y!=null&&(L=Y["x-component-props"])!==null&&L!==void 0&&L.hidePageTitle?null:H.title},I),k),{},{rootStyle:u()(u()({},k==null?void 0:k.style),I==null?void 0:I.style),destroyOnClose:!0,open:W,onClose:function(){return X(!1,!0)},rootClassName:i()(le,ne,k==null?void 0:k.className,I.className,"reset",y.isMobile&&!(Y!=null&&(N=Y["x-component-props"])!==null&&N!==void 0&&N.enablePageTabs)&&(0,n.css)(K||(K=m()([`
              &.ant-drawer .ant-drawer-body {
                padding-top: 10px;
              }
            `])))),closable:!(Y!=null&&(B=Y["x-component-props"])!==null&&B!==void 0&&B.hidePageTitle)||y.isMobile,footer:ie&&(0,Z.jsx)("div",{className:"footer",children:(0,Z.jsx)(h.RecursionField,{basePath:H.address,schema:Y,onlyRenderProperties:!0,filterProperties:function(de){return de["x-component"]===U}})}),children:[Y["x-settings"]==="fieldSettings:Drawer"&&(0,Z.jsx)("div",{className:"drawer-designer",children:(0,Z.jsx)(r.P,{title:(Y==null?void 0:Y.title)||""})}),(0,Z.jsx)("div",{onScroll:ee,className:(0,n.css)(z||(z=m()([`
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
          `]))),children:(0,Z.jsx)(h.RecursionField,{basePath:H.address,schema:Y,onlyRenderProperties:!0,filterProperties:function(de){return de["x-component"]!==U&&de["x-display"]!=="hidden"}})})]}))},{displayName:"ActionDrawer"});M.Footer=(0,h.observer)(function(){var R=(0,h.useField)(),L=(0,h.useFieldSchema)();return(0,Z.jsx)(h.RecursionField,{basePath:R.address,schema:L,onlyRenderProperties:!0})},{displayName:"ActionDrawer.Footer"});var b=M},76858:function(se,j,e){"use strict";e.d(j,{W:function(){return A},Z:function(){return M}});var v=e(97857),m=e.n(v),x=e(68400),u=e.n(x),p=e(13769),d=e.n(p),h=e(97133),t=e(94350),c=e(5914),i=e(94184),a=e.n(i),f=e(67294),l=e(96486),n=e.n(l),r=e(21143),o=e(82518),g=e(68230),y=e(70173),D=e(19632),P=e(42779);function E(b){var R=useGetAriaLabelOfModal(),L=R.getAriaLabel;useEffect(function(){b&&setTimeout(function(){var N=_toConsumableArray(document.querySelectorAll(".ant-modal-content")),B=_toConsumableArray(document.querySelectorAll(".ant-modal-wrap")),V=B[B.length-1],U=N[N.length-1];V&&(V.setAttribute("role","button"),V.setAttribute("aria-label",L("mask"))),U&&(U.setAttribute("role","button"),U.setAttribute("data-testid",L()),U.setAttribute("aria-label",L()))})},[L,b])}var O=e(534),T=e(85893),S,$,Z,K,z=["footerNodeName","width"],w=new Map([["small","40%"],["middle","60%"],["large","80%"]]),A=(0,t.observer)(function(b){var R,L,N=y.DEVICE_TYPE==="md",B=b.footerNodeName,V=B===void 0?"Action.Modal.Footer":B,U=b.width,I=d()(b,z),F=(0,O.XC)(),W=F.visible,X=F.setVisible,J=F.openSize,C=J===void 0?"middle":J,k=F.modalProps,Y=N?"100%":U!=null?U:w.get(C),H=(0,t.useFieldSchema)(),te=(0,t.useField)(),le=(0,g.d)(),ne=le.token,ie=H.reduceProperties(function(re,oe){return oe["x-component"]===V?oe:re}),ee=!!ie,fe=(0,r.useDesignable)(),de=fe.designable,ue=N?{top:0,maxWidth:"100%",height:"100%",padding:0,margin:0,overflow:"hidden"}:{},Se=N?(0,h.css)(S||(S=u()([`
          &.nb-action-popup {
            .ant-modal-content {
              width: 100%;
              height: 100%;
              padding: 0 0 24px 0;
              border-radius: 0;
              overflow: hidden;
              background: `,`;
            }

            .ant-modal-header {
              background: #fff;
              padding: 16px 24px;
              margin-bottom: 0;
            }

            .ant-modal-body {
              width: 100%;
              height: 100%;
              padding: 0;
            }

            .ant-tabs-nav {
              padding-top: `,`px;
              padding-right: `,`px;
              padding-bottom: `,`px;
              padding-left: `,`px;
              margin-bottom: 10px;
              background-color: #fff;
              .ant-tabs-nav-wrap::before,
              .ant-tabs-nav-wrap::after {
                box-shadow: none;
              }
            }

            .ant-card .ant-card-body {
              padding: `,`px;
            }

            .ant-card .ant-card-head {
              padding: `,`px;
              padding-bottom: 0;
              min-height: 0;
              .ant-card-head-title {
                overflow-wrap: anywhere;
                white-space: pre-wrap;
              }
            }

            .ant-table-wrapper {
              box-shadow: none;
            }

            .ant-modal-footer {
              display: `,`;
            }
          }
        `])),ne.xwColorPageBg,ne.paddingXS,ne.padding,ne.paddingXS,ne.padding,ne.padding,ne.padding,ee?"block":"none"):(0,h.css)($||($=u()([`
          &.nb-action-popup {
            .ant-modal-content {
              padding: 0;
              background: `,`;
            }

            .ant-modal-header {
              background: transparent;
              padding: 16px 24px 0;
              margin-bottom: 16px;
            }

            .ant-modal-body {
              padding: 0 24px;
              padding-bottom: `,`;
            }

            // \u8FD9\u91CC\u7684\u6837\u5F0F\u662F\u4E3A\u4E86\u4FDD\u8BC1\u9875\u9762 tabs \u6807\u7B7E\u4E0B\u9762\u7684\u5206\u5272\u7EBF\u548C\u9875\u9762\u5185\u5BB9\u5BF9\u9F50\uFF08\u9875\u9762\u5185\u8FB9\u8DDD\u53EF\u4EE5\u901A\u8FC7\u4E3B\u9898\u7F16\u8F91\u5668\u8C03\u8282\uFF09
            .ant-tabs-nav {
              padding-left: `,`px;
              padding-right: `,`px;
              margin-left: `,`px;
              margin-right: `,`px;
            }

            .ant-tabs-content-holder {
              padding: 0;
              // padding: `,"px ",`px;
              // margin: -`,"px -","px -",`px;
            }

            .ant-modal-footer {
              display: `,`;
            }
          }
        `])),ne.xwColorPageBg,de?"16px":0,ne.paddingLG-ne.paddingPageHorizontal,ne.paddingLG-ne.paddingPageHorizontal,ne.paddingPageHorizontal-ne.paddingLG,ne.paddingPageHorizontal-ne.paddingLG,ne.paddingPopupVertical,ne.paddingPopupHorizontal,ne.size,ne.paddingLG,ne.paddingLG,ee?"block":"none"),ae=(0,h.css)(Z||(Z=u()([`
      &.nb-action-popup {
        &:hover {
          .modal-designer .general-schema-designer {
            display: block;
          }
        }
        .modal-designer .general-schema-designer {
          position: absolute;
          top: 2px;
          right: 2px;
          display: none;
          border: 0;
          pointer-events: none;
          > .general-schema-designer-icons {
            position: absolute;
            right: 2px;
            top: 2px;
            line-height: 16px;
            pointer-events: all;
            .ant-space-item {
              background-color: var(--colorSettings);
              color: #fff;
              line-height: 16px;
              width: 16px;
              padding-left: 1px;
            }
          }
        }
      }
    `]))),G=n().throttle(function(re){var oe,ce=H!=null&&(oe=H["x-component-props"])!==null&&oe!==void 0&&oe.enablePageTabs?56:66;(0,r.handleScroll)(re.target.querySelector(".nb-grid"),ce-30,0)},200,{trailing:!0});return(0,T.jsxs)(c.Z,m()(m()(m()({width:Y,title:H!=null&&(R=H["x-component-props"])!==null&&R!==void 0&&R.hidePageTitle?null:te.title,closable:!(H!=null&&(L=H["x-component-props"])!==null&&L!==void 0&&L.hidePageTitle)||N},I),k),{},{style:m()(m()(m()({top:56},k==null?void 0:k.style),I==null?void 0:I.style),ue),destroyOnClose:!0,open:W,onCancel:function(){return X(!1,!0)},className:a()(I.className,k==null?void 0:k.className,Se,ae),footer:ee?(0,T.jsx)(t.RecursionField,{basePath:te.address,schema:H,onlyRenderProperties:!0,filterProperties:function(oe){return oe["x-component"]===V}}):!1,children:[H["x-settings"]==="fieldSettings:Drawer"&&(0,T.jsx)("div",{className:"modal-designer",children:(0,T.jsx)(o.P,{title:(H==null?void 0:H.title)||""})}),(0,T.jsx)("div",{onScroll:G,className:(0,h.css)(K||(K=u()([`
            height: 100%;
            `,`
          `])),N?"overflow: auto;":""),children:(0,T.jsx)(t.RecursionField,{basePath:te.address,schema:H,onlyRenderProperties:!0,filterProperties:function(oe){return oe["x-component"]!==V&&oe["x-display"]!=="hidden"}})})]}))},{displayName:"ActionModal"});A.Footer=(0,t.observer)(function(){var b=(0,t.useField)(),R=(0,t.useFieldSchema)();return(0,T.jsx)(t.RecursionField,{basePath:b.address,schema:R,onlyRenderProperties:!0})},{displayName:"ActionModal.Footer"});var M=A},90974:function(se,j,e){"use strict";e.d(j,{f:function(){return g},Z:function(){return y}});var v=e(97857),m=e.n(v),x=e(94350),u=e(67294),p=e(73935),d=e(76714),h=e(97855),t=e(47204),c=e(68400),i=e.n(c),a=e(59632),f,l=(0,a.kc)(function(D){var P=D.css,E=D.token;return{container:P(f||(f=i()([`
      position: absolute !important;
      top: var(--nb-header-height);
      left: 0;
      right: 0;
      bottom: 0;
      background-color: `,`;
      overflow: auto;

      .ant-tabs-nav {
        background: `,`;
        padding: 16px 24px;
        margin-bottom: 0;
      }
      .ant-tabs-content-holder {
        padding: 0 `,`px;
      }

      .todo-status {
        > .ant-card-head,
        > .ant-card-body {
          padding: 0;
        }
      }
    `])),E.xwColorPageBg,E.xwColorPageBg,E.paddingPageHorizontal)}}),n=function(){var P=(0,u.useMemo)(function(){return document.querySelector(".nb-subpages-slot-without-header-and-side")},[]),E=(0,u.useCallback)(function(){return P},[P]);return{getContainerDOM:E}},r=e(94516),o=e(85893);function g(D){var P=D.level,E=P===void 0?1:P,O=(0,x.useFieldSchema)(),T=(0,d.XC)(),S=n(),$=S.getContainerDOM,Z=l(),K=Z.styles,z=(0,t.g)(),w=(0,r.ng)(),A=w.designable,M=(0,u.useMemo)(function(){return{zIndex:20+E,left:A?250:0,top:A?110:"var(--nb-header-height)"}},[E]);if(!T.visible)return null;var b=(0,o.jsx)("div",{className:K.container,style:M,children:(0,o.jsx)(t.c,m()(m()({},z),{},{tabBarExtraContent:(0,o.jsx)(h.M,{}),children:(0,o.jsx)(x.RecursionField,{schema:O})}))}),R=$();return R?(0,p.createPortal)(b,R):b}g.Footer=(0,x.observer)(function(){return null},{displayName:"ActionPage.Footer"});var y=g},25717:function(se,j,e){"use strict";e.d(j,{E:function(){return f},f:function(){return a}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(94350),d=e(67294),h=e(72594),t=e(75585),c=e(22891),i=e(85893),a=(0,d.createContext)({});a.displayName="ActionContext";var f=function(r){var o=(0,d.useState)(!1),g=u()(o,2),y=g[0],D=g[1],P=m()(m()({},r),r.value)||{},E=P.visible,O=m()(m()({},r),r.value),T=O.setSubmitted,S=l();return(0,d.useEffect)(function(){return E===!1&&y&&S&&(S.refresh(),T==null||T(!0)),function(){D(!1)}},[E,S==null?void 0:S.refresh,T]),(0,i.jsx)(a.Provider,{value:m()(m()(m()({},r),r==null?void 0:r.value),{},{submitted:y,setSubmitted:D}),children:r.children})},l=function(){var r,o=(0,t.Zm)(),g=o.params,y=(0,p.useFieldSchema)(),D=(r=(0,p.useFieldSchema)())===null||r===void 0?void 0:r["x-uid"],P=(0,h.hS)(),E=g==null?void 0:g.popupuid;if((0,d.useEffect)(function(){D&&E!==D&&(0,c.dJ)(D,{service:P})},[D,P,E,y]),E===D){var O;return((O=(0,c.Yd)(E))===null||O===void 0?void 0:O.service)||P}return P}},534:function(se,j,e){"use strict";e.d(j,{XC:function(){return n},ig:function(){return l},p2:function(){return r},zC:function(){return o}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(94350),t=e(3321),c=e(67294),i=e(26793),a=e(7340),f=e(25717),l=function(){return{run:function(){return d()(u()().mark(function D(){return u()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:case"end":return E.stop()}},D)}))()}}},n=function(){var y=(0,c.useContext)(f.f),D=(0,i.$)(),P=D.t,E=t.Z.useApp(),O=E.modal;return m()(m()({},y),{},{setVisible:function(S){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S){var K;y==null||(K=y.setVisible)===null||K===void 0||K.call(y,S)}else if($&&y.formValueChanged)O.confirm({title:P("Unsaved changes"),content:P("Are you sure you don't want to save?"),onOk:function(){return d()(u()().mark(function w(){var A;return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:y.setFormValueChanged(!1),(A=y.setVisible)===null||A===void 0||A.call(y,!1);case 2:case"end":return b.stop()}},w)}))()}});else{var Z;y==null||(Z=y.setVisible)===null||Z===void 0||Z.call(y,!1)}}})},r=function(){var y=(0,c.useContext)(f.f),D=y.setVisible,P=(0,h.useForm)();return{run:function(){return d()(u()().mark(function O(){return u()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:D(!1),P.submit(function($){console.log($)});case 2:case"end":return S.stop()}},O)}))()}}},o=function(){var y=(0,h.useFieldSchema)(),D=(0,a.WG)(),P=["Action.Link","Action"].includes(y["x-component"]);return P&&D}},70348:function(se,j,e){"use strict";e.d(j,{v:function(){return p}});var v=e(94350),m=e(67294),x=e(6145),u=e(3329),p=function(){var h=(0,v.useFieldSchema)(),t=h["x-component"],c=typeof t=="string"?t:(t==null?void 0:t.displayName)||(t==null?void 0:t.name),i=(0,u.eJ)(),a=(0,x.useCollection_deprecated)(),f=a.name,l=i(h.title);f=f?"-".concat(f):"",l=l?"-".concat(l):"";var n=(0,m.useCallback)(function(r){return r=r?"-".concat(r):"","drawer-".concat(c).concat(f).concat(l).concat(r)},[f,c,l]);return{getAriaLabel:n}}},42779:function(se,j,e){"use strict";e.d(j,{Q:function(){return p}});var v=e(94350),m=e(67294),x=e(6145),u=e(3329),p=function(){var h=(0,v.useFieldSchema)(),t=h["x-component"],c=typeof t=="string"?t:(t==null?void 0:t.displayName)||(t==null?void 0:t.name),i=(0,u.eJ)(),a=(0,x.useCollection_deprecated)(),f=a.name,l=i(h.title);f=f?"-".concat(f):"",l=l?"-".concat(l):"";var n=(0,m.useCallback)(function(r){return r=r?"-".concat(r):"","modal-".concat(c).concat(f).concat(l).concat(r)},[f,c,l]);return{getAriaLabel:n}}},78:function(se,j,e){"use strict";e.d(j,{t:function(){return p}});var v=e(94350),m=e(67294),x=e(6145),u=e(3329),p=function(){var h=(0,v.useFieldSchema)(),t=h["x-component"],c=typeof t=="string"?t:(t==null?void 0:t.displayName)||(t==null?void 0:t.name),i=(0,u.eJ)(),a=(0,x.useCollection_deprecated)(),f=a.name,l=i(h.title);f=f?"-".concat(f):"",l=l?"-".concat(l):"";var n=(0,m.useCallback)(function(r){return r=r?"-".concat(r):"","popover-".concat(c).concat(f).concat(l).concat(r)},[f,c,l]);return{getAriaLabel:n}}},76714:function(se,j,e){"use strict";e.d(j,{aU:function(){return ge},ol:function(){return dt},N0:function(){return ke},fW:function(){return te.f},EI:function(){return te.E},$L:function(){return V.$L},pE:function(){return V.pE},$b:function(){return V.$b},eY:function(){return V.eY},C1:function(){return V.C1},x1:function(){return V.x1},xZ:function(){return V.xZ},Mk:function(){return V.Mk},JV:function(){return V.JV},y0:function(){return V.y0},co:function(){return V.co},Fj:function(){return V.Fj},SL:function(){return V.SL},sB:function(){return V.sB},ig:function(){return le.ig},DU:function(){return ft},XC:function(){return le.XC},p2:function(){return le.p2},HS:function(){return ee},vB:function(){return Bt.v},QY:function(){return He.Q},t9:function(){return ct.t},zC:function(){return le.zC}});var v=e(97857),m=e.n(v),x=e(68400),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(5574),i=e.n(c),a=e(13769),f=e.n(a),l=e(94350),n=e(86201),r=e(70173),o=e(3321),g=e(15867),y=e(94184),D=e.n(y),P=e(97133),E=e(96486),O=e.n(E),T=e(67294),S=e(26793),$=e(98427),Z=e(47646),K=e(90635),z=e(72594),w=e(61933),A=e(67354),M=e(36586),b=e(25813),R=e(13006),L=e(3329),N=e(9780),B=e(26733),V=e(55642),U=e(35120),I=e(85893),F=(0,K.t)((0,l.observer)(function(St){return(0,I.jsx)(he,m()(m()({},St),{},{component:St.component||"a",className:D()("nb-action-link",St.className)}))}),{displayName:"ActionLink"}),W=e(76858),X=e(90974),J=e(9783),C=e.n(J),k=e(60094),Y=(0,k.l6)("nb-action",function(St){var Tt=St.componentCls;return C()({},Tt,{position:"relative","&:hover":{"> .general-schema-designer":{display:"block"}},"&.nb-action-link":{margin:"-12px",padding:"12px",color:St.colorPrimary,"&:hover":{color:St.colorPrimaryHover},"&:active":{color:St.colorPrimaryHover},"&[disabled]":{color:St.colorTextDisabled}},"> .general-schema-designer":{position:"absolute",zIndex:999,top:"0",bottom:"0",left:"0",right:"0",display:"none",background:"var(--colorBgSettingsHover)",border:"0",pointerEvents:"none","> .general-schema-designer-icons":{position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:St.colorSettings,color:"#fff",lineHeight:"16px",width:"16px",paddingLeft:"1px",alignSelf:"stretch"}}}})}),H=Y,te=e(25717),le=e(534),ne=e(23782),ie=e(6145),ee=function(Tt){var Mt=(0,M.a)(),Zt=(0,M.pW)(),Je=(0,l.useFieldSchema)(),et=(0,L.eJ)(),rt=Je["x-component"],yt=typeof rt=="string"?rt:(rt==null?void 0:rt.displayName)||(rt==null?void 0:rt.name),xt=(Mt==null?void 0:Mt.name)||(Mt==null?void 0:Mt.title)||(Zt!=null?String(Zt):""),Ct=Je["x-action"],mt=(0,ie.useCollection_deprecated)(),at=mt.name,ht=(0,ne.VG)()||{},ot=ht.name,kt=Tt||et(Je.title);at=at?"-".concat(at):"",ot=ot?"-".concat(ot):"",Ct=Ct?"-".concat(Ct):"",xt=xt?"-".concat(xt):"";var nn=(0,T.useCallback)(function(Lt){return Lt=Lt?"-".concat(Lt):"","action-".concat(yt,"-").concat(kt).concat(Ct).concat(at).concat(ot).concat(xt).concat(Lt)},[Ct,kt,ot,at,yt,xt]);return{getAriaLabel:nn}},fe=e(75496),de,ue=function(Tt){return(0,I.jsxs)("div",{role:Tt.role,className:D()([(0,P.css)(de||(de=u()([`
          width: 20px;
          height: 20px;
          cursor: pointer;
          font-size: 16px;
          display: flex;
          color: #a3aed0;
          justify-content: center;
          align-items: center;
        `]))),Tt.className]),onClick:Tt.onClick,children:[(0,I.jsx)(w.JO,{type:Tt.type}),Tt.children]})},Se=(0,K.t)((0,l.observer)(function(St){return(0,I.jsx)(he,m()(m()({},St),{},{component:St.component||ue,className:D()("nb-action-icon",St.className)}))}),{displayName:"ActionIcon"}),ae=e(75585),G=e(22891),re=e(14984),oe=e(73691),ce=e(86087),be,xe=["popover","beforeConfirmLogic","openMode","containerRefKey","component","useAction","className","icon","title","onClick","style","loading","openSize","disabled","actionCallback","addChild","onMouseEnter","onPdfClick"],ge=(0,K.t)((0,l.observer)(function(St){var Tt,Mt,Zt,Je,et,rt,yt,xt=(0,N.w)(St),Ct=xt.popover,mt=xt.beforeConfirmLogic,at=xt.openMode,ht=xt.containerRefKey,ot=xt.component,kt=xt.useAction,nn=kt===void 0?le.ig:kt,Lt=xt.className,hn=xt.icon,Dn=xt.title,Gt=xt.onClick,mn=xt.style,qt=xt.loading,$t=xt.openSize,Pn=xt.disabled,vn=xt.actionCallback,sn=xt.addChild,Rn=xt.onMouseEnter,un=xt.onPdfClick,jt=f()(xt,xe),rn=(0,Z.Hq)(),An=H(),En=An.wrapSSR,gn=An.componentCls,jn=An.hashId,Yt=(0,S.$)(),gt=Yt.t,wt=(0,re.a)(),Vt=wt.isPopupVisibleControlledByURL,It=(0,G.ES)(),zt=It.openPopup,In=(0,T.useState)(!1),Tn=i()(In,2),en=Tn[0],qn=Tn[1],er=(0,G.ES)(),ar=er.visibleWithURL,nr=er.setVisibleWithURL,rr=(0,T.useState)(!1),hr=i()(rr,2),Ar=hr[0],_r=hr[1],Ir=(0,L.et)(),Sr=(0,l.useField)(),Mr=nn(vn),Br=Mr.run,Mn=Mr.element,Wt=(0,l.useFieldSchema)(),Ft=(0,L.eJ)(),an=(0,l.useForm)(),Bn=(0,z.nE)(),Un=(0,z.Kv)(),Gn=(0,z.Kx)(),mr=Wt["x-designer-props"],dr=Wt==null||(Tt=Wt["x-component-props"])===null||Tt===void 0?void 0:Tt.openMode,Hr=Wt==null||(Mt=Wt["x-component-props"])===null||Mt===void 0?void 0:Mt.openSize,Lr=Wt==null||(Zt=Wt["x-component-props"])===null||Zt===void 0?void 0:Zt.refreshDataBlockRequest,Zr=(Wt==null||(Je=Wt["x-component-props"])===null||Je===void 0?void 0:Je.confirm)||St.confirm,no=an.disabled||Sr.disabled||((et=Sr.data)===null||et===void 0?void 0:et.disabled)||Pn||((rt=Sr.data)===null||rt===void 0?void 0:rt.isRobot),Jr=(0,T.useMemo)(function(){return(Wt==null?void 0:Wt["x-linkage-rules"])||[]},[Wt==null?void 0:Wt["x-linkage-rules"]]),ho=(0,$.ngQ)(),eo=ho.designable,ro=(0,L.Co)(ot)||ot,qr=o.Z.useApp(),ao=qr.modal,io=(0,b.OQ)(),Eo=Sr.path.splice(Sr.path.length-1,1),cn=(0,b.Kp)({currentForm:{values:an.getValuesIn(Eo)||Bn}}),Ot=ee(Dn),ln=Ot.getAriaLabel,Sn=(0,z.hS)(),Kn=(0,T.useContext)($.IKQ),tr=(0,T.useMemo)(function(){var Io=Dn||Ft(Wt.title);return O().isString(Io)?gt(Io):Io},[Dn,Wt.title,gt]),fr=(0,T.useState)(!1),ir=i()(fr,2),Rr=ir[0],Tr=ir[1],Xr=(0,T.useState)({}),Gr=i()(Xr,2),po=Gr[0],So=Gr[1];(0,T.useEffect)(function(){Sr.stateOfLinkageRules={},Jr.filter(function(Io){return!Io.disabled}).forEach(function(Io){var oo;(oo=Io.actions)===null||oo===void 0||oo.forEach(function(Yo){(0,fe.yB)({operator:Yo.operator,field:Sr,condition:Io.condition,variables:io,localVariables:cn})})})},[Sr,Jr,cn,io]),(0,T.useEffect)(function(){var Io="".concat(Wt.name,"_ON_VALUE_CHANGE"),oo=cn.findIndex(function(Yo){var _o=Yo.name;return _o==="$nForm"});return oo!==-1&&(cn[oo].ctx=an.values),an.addEffects(Io,function(){(0,n.onFormValuesChange)(function(Yo){Jr.filter(function(_o){return!_o.disabled}).forEach(function(_o){var Uo;(Uo=_o.actions)===null||Uo===void 0||Uo.forEach(function(_n){(0,fe.yB)({operator:_n.operator,field:Sr,condition:_o.condition,variables:io,localVariables:cn})})})})}),function(){an.removeEffects(Io)}},[Wt.name,an,Jr,Sr,cn,io]);var Co=function(oo){return oo["x-action"]==="customize:bulkEdit"},bo=function(oo){return oo.startsWith("{{")?Ft(oo,{title:tr}):gt(oo,{title:tr})},ko=(0,T.useCallback)(function(){var Io=t()(d()().mark(function oo(Yo){var _o;return d()().wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:if(!((0,r.isPortalInBody)(Yo.target)||(0,fe.Cb)(Yo.target))){_n.next=2;break}return _n.abrupt("return");case 2:if(Yo.preventDefault(),Yo.stopPropagation(),!(!no&&rn)){_n.next=19;break}if(_o=function(){var We=t()(d()().mark(function Ye(){var pt,Pt;return d()().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(Sr.setData({disabled:!0}),Ht.prev=1,!Gt){Ht.next=7;break}return Ht.next=5,Gt(Yo,function(){if(Lr!==!1){var dn;Sn==null||(dn=Sn.refresh)===null||dn===void 0||dn.call(Sn)}Br==null||Br()});case 5:Ht.next=29;break;case 7:if(!un){Ht.next=14;break}return Ht.next=10,un();case 10:pt=Ht.sent,pt&&(Tr(!0),So(pt)),Ht.next=29;break;case 14:if(!(Co(Wt)||!Vt())){Ht.next=20;break}return qn(!0),Ht.next=18,Br==null?void 0:Br();case 18:Ht.next=29;break;case 20:if(!(["view","update","create","customize:popup"].includes(Wt["x-action"])&&Wt["x-uid"])){Ht.next=26;break}return zt(),Ht.next=24,Br==null?void 0:Br();case 24:Ht.next=29;break;case 26:return qn(!0),Ht.next=29,Br();case 29:Ht.next=34;break;case 31:Ht.prev=31,Ht.t0=Ht.catch(1),(0,r.captureException)(Ht.t0);case 34:return Ht.prev=34,Sr.setData({disabled:!1}),Pt=1e3,setTimeout(function(){Wt["x-action"]!=="filter"&&(Kn==null||Kn.emit({type:"action"}))},Pt),Ht.finish(34);case 39:case"end":return Ht.stop()}},Ye,null,[[1,31,34,39]])}));return function(){return We.apply(this,arguments)}}(),!(Zr!=null&&Zr.content)){_n.next=17;break}if(_n.t0=mt,!_n.t0){_n.next=12;break}return _n.next=11,mt==null?void 0:mt();case 11:_n.t0=_n.sent;case 12:if(!_n.t0){_n.next=14;break}return _n.abrupt("return");case 14:ao.confirm({title:bo(Zr.title),content:bo(Zr.content),onOk:_o,wrapClassName:(0,P.css)(be||(be=u()([`
                z-index: 10002 !important;
              `])))}),_n.next=19;break;case 17:return _n.next=19,_o();case 19:case"end":return _n.stop()}},oo)}));return function(oo){return Io.apply(this,arguments)}}(),[Zr,no,ao,Gt,Br,zt]),Oo=(0,T.useMemo)(function(){var Io;return m()(m()({},mn),{},{opacity:eo&&((Sr==null||(Io=Sr.data)===null||Io===void 0?void 0:Io.hidden)||!rn)&&.1})},[eo,Sr==null||(yt=Sr.data)===null||yt===void 0?void 0:yt.hidden,mn]),ta=(0,T.useCallback)(function(Io){Rn==null||Rn(Io)},[Rn]),Nr=function(){var oo,Yo;if(!eo&&(Sr!=null&&(oo=Sr.data)!==null&&oo!==void 0&&oo.hidden||!rn))return null;var _o=Wt["x-component"]==="Action.Icon";return(0,I.jsxs)(R.SortableItem,m()(m()({role:"button","aria-label":ln()},jt),{},{onMouseEnter:ta,loading:(Sr==null||(Yo=Sr.data)===null||Yo===void 0?void 0:Yo.loading)||qt,icon:hn?(0,I.jsx)(w.JO,{type:hn}):null,disabled:no,style:Oo,onClick:ko,component:ro||g.ZP,className:D()(gn,jn,Lt,"nb-action"),type:_o?hn:St.type==="danger"?void 0:St.type,children:[_o?null:tr,(0,I.jsx)(Ir,m()({},mr)),un&&Rr&&(0,I.jsx)(ce.Z,{open:Rr,file:po,setOpen:Tr,isAttachment:!1})]}))},Ko=Nr(),co=(0,I.jsx)(ae.OA,{visible:!1,children:(0,I.jsxs)(te.E,{button:Ko,visible:en||ar,setVisible:function(oo){qn==null||qn(oo),nr==null||nr(oo)},formValueChanged:Ar,setFormValueChanged:_r,openMode:dr,openSize:Hr,containerRefKey:ht,fieldSchema:Wt,children:[Ct&&(0,I.jsx)(l.RecursionField,{basePath:Sr.address,onlyRenderProperties:!0,schema:Wt}),!Ct&&Nr(),(0,I.jsx)(oe.Rm,{children:!Ct&&St.children}),Mn]})});return En(sn?(0,I.jsx)(M.HV,{record:null,parent:Un,children:(0,I.jsx)(A.q,{parent:Bn,children:co})}):co)}),{displayName:"Action"});ge.Popover=(0,l.observer)(function(St){var Tt=(0,$.XCj)(),Mt=Tt.button,Zt=Tt.visible,Je=Tt.setVisible;return(0,I.jsx)($.qHe,m()(m()({},St),{},{destroyTooltipOnHide:!0,open:Zt,onOpenChange:function(rt){Je(rt)},content:St.children,children:Mt}))},{displayName:"Action.Popover"}),ge.Popover.Footer=(0,l.observer)(function(St){return(0,I.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%"},children:St.children})},{displayName:"Action.Popover.Footer"}),ge.Link=F,ge.Designer=V.$L,ge.Drawer=U.S,ge.Modal=W.W,ge.Container=B.Z,ge.Page=X.f,ge.Icon=Se;var he=ge,Pe=e(42075),Ae=e(3727),Be=e(29783),Le=e(73935),Me=e(74614),Te=e(21143),we=e(59632),Ue=e(42371),je=e(16869),De=["children"],ye=["layout","style","showTitle","spaceProps"],_e,q,pe,Re,Oe,$e,Ve,Ze,qe=(0,we.kc)(function(St){var Tt=St.css,Mt=St.token;return{mobileBtnStyle:Tt(_e||(_e=u()([`
    width: 100%;

    & > div {
      width: 100%;
    }

    .ant-space {
      width: 100%;
      margin-bottom: 15px;
      flex-wrap: wrap;

      &:last-child {
        margin-bottom: 0;
      }

      .ant-space-item {
        width: 100%;

        button:not(.nb-action-icon) {
          width: 100%;
        }
      }

      .ant-space-item:has(.nb-action-icon) {
        width: unset;
      }
    }
  `]))),actionBarWithTitle:Tt(q||(q=u()([`
    flex-direction: column;
    padding: 0 !important;
  `]))),titleWrapper:Tt(pe||(pe=u()([`
    width: 100%;
    height: 56px;
    padding: 0 `,`px;
    font-weight: 600;
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  `])),r.isMobile?Mt.padding:Mt.paddingLG),mobileActionBar:Tt(Re||(Re=u()([`
    margin-left: 10px;
    .filter-popup .x-popup-content {
      height: 64.5rem;
      padding-bottom: 10rem;
    }
    .filter-popup .x-popup-content_focus {
      height: `,`px;
      padding-bottom: 3rem;
      overflow: auto;
      .outer_filter_box {
        overflow: initial;
      }
      .mb-action-box {
        position: initial;
        width: 100%;
        margin-top: 3rem;
      }
    }
    .nc-filter-item {
      .ant-space {
        flex-direction: row;
        flex-wrap: nowrap;
        align-items: center;
      }
      .ant-space-item {
        flex: 1;
        overflow: hidden;
        [data-testid='select-filter-field'],
        [data-testid='select-filter-operator'],
        .select-filter-dynamic {
          width: 100%;
          min-width: 100% !important;
        }
        &:last-child {
          flex: 0.2;
          min-width: 18px;
        }
      }
    }
  `])),window.innerHeight/2)}}),Qe=T.createContext({container:null}),ke=function(Tt){var Mt=Tt.children,Zt=f()(Tt,De);return(0,I.jsx)(Qe.Provider,{value:Zt,children:Mt})},ft=function(){return(0,T.useContext)(Qe)},vt=function(Tt){var Mt=(0,l.useFieldSchema)(),Zt=ft(),Je=Zt.container,et=Zt.parentComponents,rt=et===void 0?["BlockItem","CardItem"]:et;return(0,I.jsx)(I.Fragment,{children:Je&&rt.includes(Mt.parent["x-component"])?(0,Le.createPortal)(Tt.children,Je):Tt.children})},_t=(0,P.css)(Oe||(Oe=u()([`
  display: flex;
  align-items: center;
  justify-content: center;
  button {
    margin-bottom: 1rem;
  }
  .nb-action {
    width: 28rem;
    text-align: center;
  }
`]))),Nt=function(Tt){var Mt=Tt.fieldSchema,Zt=(0,T.useState)(!1),Je=i()(Zt,2),et=Je[0],rt=Je[1],yt=(0,T.useState)(!1),xt=i()(yt,2),Ct=xt[0],mt=xt[1],at=(0,T.useState)({}),ht=i()(at,2),ot=ht[0],kt=ht[1],nn=(0,T.useState)(!1),Lt=i()(nn,2),hn=Lt[0],Dn=Lt[1],Gt=(0,S.$)(),mn=Gt.t,qt=qe(),$t=qt.styles,Pn=(0,k.dQ)(),vn=Pn.token,sn=(0,r.findSchema)(Mt,function(rn){return rn["x-component"]==="Input.SearchAction"}),Rn=(0,r.findSchema)(Mt,function(rn){return rn["x-component"]==="Filter.Action"}),un=Mt.mapProperties(function(rn){return["Input.SearchAction","Filter.Action"].includes(rn["x-component"])||rn["x-settings"]==="actionSettings:filterGroup"?null:rn}).filter(function(rn){return rn}),jt=(0,P.css)($e||($e=u()([`
    max-height: `,`;
    margin: 2rem -3rem 0 0;
    overflow: auto;
    .inner_filter_box {
      padding-right: 3rem;
    }
    .meet_condi_sel {
      color: #111928 !important;
      margin-bottom: 2rem !important;
      .ant-select-single {
        height: 30px;
      }
    }
  `])),sn?"41rem":"47rem");return(0,I.jsx)("div",{className:$t.mobileActionBar,children:(0,I.jsxs)(je.l.Provider,{value:{searchParams:ot,setSearchParams:kt,setFilterPopupVisible:rt,setIsFiltered:Dn},children:[(sn||Rn)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ae.Z,{onClick:function(){return rt(!0)},style:hn?{color:vn.colorPrimary}:{}}),(0,I.jsxs)(Te.XPopup,{visible:et,setVisible:rt,className:"filter-popup",children:[(0,I.jsx)("p",{style:{color:"#111928"},children:mn("Search")}),sn&&(0,I.jsx)(l.RecursionField,{name:sn["x-uid"],schema:m()(m()({},sn),{},{"x-component-props":m()(m()({},(sn==null?void 0:sn["x-component-props"])||{}),{},{h5Filter:!0,showAction:!Rn})})}),Rn&&(0,I.jsx)("div",{className:(0,P.cx)(jt,"outer_filter_box"),children:(0,I.jsx)("div",{className:"inner_filter_box",children:(0,I.jsx)(l.RecursionField,{name:Rn["x-uid"],schema:m()(m()({},Rn),{},{"x-component-props":m()(m()({},(Rn==null?void 0:Rn["x-component-props"])||{}),{},{h5Filter:!0})})})})})]})]}),un.length>0&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Be.Z,{onClick:function(){return mt(!0)},style:{marginLeft:6}}),(0,I.jsx)(Te.XPopup,{visible:Ct,setVisible:mt,children:un.map(function(rn){return(0,I.jsx)("section",{className:_t,children:(0,I.jsx)(l.RecursionField,{name:rn["x-uid"],schema:rn})},rn["x-uid"])})})]})]})})},Kt=function(Tt){var Mt=Tt.fieldSchema,Zt=Tt.visible,Je=Tt.setVisible,et=(0,r.findSchema)(Mt,function(yt){return(yt==null?void 0:yt["x-settings"])==="actionSettings:view"}),rt=Object.values((Mt==null?void 0:Mt.properties)||{}).length;return rt===1&&et?(0,I.jsx)("span",{className:"nb-action-bar",style:{position:"absolute",opacity:0},children:(0,I.jsx)(l.RecursionField,{name:et["x-uid"],schema:et})}):rt>0?(0,I.jsx)(Te.XPopup,{visible:Zt,setVisible:Je,getContainer:"body",children:Mt.mapProperties(function(yt,xt){return(0,I.jsx)("section",{className:_t,children:(0,I.jsx)(l.RecursionField,{name:xt,schema:m()(m()({},yt),{},{"x-component":"Action","x-component-props":m()(m()({},(yt==null?void 0:yt["x-component-props"])||{}),{},{type:"default",icon:"",component:"",useAction:function(){return{run:function(){return t()(d()().mark(function at(){return d()().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:Je(!1);case 1:case"end":return ot.stop()}},at)}))()}}}})})})},xt)})}):null},ut=function(Tt){var Mt=Tt.fieldSchema,Zt=Tt.className,Je=Zt===void 0?"":Zt,et=(0,T.useState)(!1),rt=i()(et,2),yt=rt[0],xt=rt[1],Ct=(0,k.dQ)(),mt=Ct.token,at=Object.values(Mt.properties||{}).sort(function(ot,kt){return(ot==null?void 0:ot["x-index"])-(kt==null?void 0:kt["x-index"])}),ht=(0,P.css)(Ve||(Ve=u()([`
    display: flex;
    align-items: center;
    margin-top: `,`px;
    button {
      flex: 1;
      margin-left: 8px;
      &:first-child {
        margin-left: 0;
      }
    }
    &.nb-action-bar-footer_virtual {
      position: fixed;
      bottom: 0;
      left: 0;
      z-index: 10000;
      width: 100%;
      background: #fff;
      padding: `,`px;
      box-shadow: 0px 3px 32.4px 0px #3f3f3f33;
      display: none;
    }
  `])),mt.margin,mt.padding);return at.length?(0,I.jsx)("div",{className:(0,P.cx)(ht,Je),children:at.length>3?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.ZP,{style:{flex:"none"},onClick:function(){return xt(!0)},children:"More"}),(0,I.jsx)(Te.XPopup,{visible:yt,setVisible:xt,getContainer:"body",children:at.slice(2).map(function(ot){return(0,I.jsx)("section",{className:_t,children:(0,I.jsx)(l.RecursionField,{name:ot["x-uid"]||ot.name,schema:ot})},ot["x-uid"])})}),at.slice(0,2).reverse().map(function(ot){return(0,I.jsx)(l.RecursionField,{name:ot["x-uid"]||ot.name,schema:ot},ot["x-uid"])})]}):at.reverse().map(function(ot){return(0,I.jsx)(l.RecursionField,{name:ot["x-uid"]||ot.name,schema:ot},ot["x-uid"])})}):null},Rt=function(Tt){for(var Mt=Tt;Mt;){var Zt;if(((Zt=Mt)===null||Zt===void 0?void 0:Zt["x-component"])==="CardItem"){var Je;return(Je=Mt)===null||Je===void 0||(Je=Je["x-component-props"])===null||Je===void 0?void 0:Je.title}Mt=Mt.parent}return null},Dt=function(Tt,Mt){for(var Zt=Tt;Zt;){var Je;if(((Je=Zt)===null||Je===void 0?void 0:Je["x-component"])===Mt)return!0;Zt=Zt.parent}return!1},dt=(0,K.t)((0,l.observer)(function(St){var Tt,Mt,Zt,Je=(0,l.useFieldSchema)(),et=(0,je.G)(),rt=et.itemPopupVisible,yt=et.setItemPopupVisible;if(r.isMobile&&["createForm:configureActions","editForm:configureActions","filterForm:configureActions","AddActionButton_AuditCard"].includes(Je==null?void 0:Je["x-initializer"]))return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ut,{fieldSchema:Je}),(Je==null?void 0:Je["x-initializer"])!=="AddActionButton_AuditCard"&&(0,I.jsx)(ut,{fieldSchema:Je,className:"nb-action-bar-footer_virtual"})]});if(r.isMobile&&["list:configureItemActions","gridCard:configureItemActions"].includes(Je==null?void 0:Je["x-initializer"]))return(0,I.jsx)(Kt,{fieldSchema:Je,visible:rt,setVisible:yt});var xt=ft(),Ct=xt.forceProps,mt=Ct===void 0?{}:Ct,at=m()(m()({},(0,L.wN)(St)),mt),ht=at.layout,ot=ht===void 0?"two-columns":ht,kt=at.style,nn=at.showTitle,Lt=at.spaceProps,hn=f()(at,ye),Dn=(0,Ue.uH)(),Gt=(0,Me.IU)(Je["x-initializer"],Je["x-initializer-props"]),mn=Gt.render,qt=(0,L.ng)(),$t=qt.designable,Pn=qe(),vn=Pn.styles,sn=(0,k.dQ)(),Rn=sn.token,un=(0,r.findSchema)(Je,function(Vt){return Vt["x-settings"]==="actionSettings:filterGroup"});if(ot==="one-column")return(0,I.jsx)(vt,{children:(0,I.jsx)(R.DndContext,{children:(0,I.jsxs)("div",m()(m()({style:m()({display:"flex",alignItems:"center",gap:8},kt)},hn),{},{className:(0,P.cx)(hn.className,"nb-action-bar",r.isMobile&&vn.mobileBtnStyle),onClick:function(It){It.stopPropagation()},children:[St.children&&(0,I.jsx)("div",{children:(0,I.jsx)(Pe.Z,m()(m()({},Lt),{},{style:{flexWrap:"wrap"},children:Je.mapProperties(function(Vt,It){return(0,I.jsx)(l.RecursionField,{name:It,schema:Vt},It)})}))}),mn({style:{margin:"0 !important"}})]}))})});var jt=Je==null||(Tt=Je.parent)===null||Tt===void 0||(Tt=Tt["x-component-props"])===null||Tt===void 0?void 0:Tt.title,rn=nn&&jt,An=Object.keys((Mt=Je.properties)!==null&&Mt!==void 0?Mt:{}).length>0,En=r.isMobile&&(Je==null||(Zt=Je["x-initializer"])===null||Zt===void 0?void 0:Zt.includes(":configureActions")),gn=Rt(Je),jn=Dt(Je,"CardItem"),Yt=Dt(Je,"BlockItem"),gt=function(It){return(0,I.jsx)("div",{className:(0,P.css)(Ze||(Ze=u()([`
            background: `,`;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            flex: 1;
            word-break: break-all;
          `])),Dn.token.xwColorPrimary),children:It})},wt=function(){var It={height:"100%",alignItems:"flex-start",justifyContent:"flex-end"};return Yt?m()(m()({},It),{},{paddingTop:Rn.padding}):jn?m()(m()({},It),{},{padding:0}):It};return r.isMobile&&!Object.values((Je==null?void 0:Je.properties)||{}).length&&!rn&&!gn?null:(0,I.jsxs)("div",m()(m()({style:!$t&&!An&&!rn?{padding:0}:m()({display:"flex",justifyContent:"space-between",alignItems:"center",overflowX:"auto",flexShrink:0},kt)},hn),{},{className:(0,P.cx)(hn.className,"nb-action-bar",r.isMobile&&vn.mobileBtnStyle,(rn||En)&&vn.actionBarWithTitle),onClick:function(It){It.stopPropagation()},children:[En&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:(0,P.cx)(vn.titleWrapper,Yt&&"nb-block-item-title-wrapper"),style:wt(),children:[rn&&gt(rn),gn&&gt(gn),(0,I.jsx)(Nt,{fieldSchema:Je})]}),un&&(0,I.jsx)("div",{className:"nb-action_filter-group",style:{padding:"16px ".concat(jn?"0":"16px"," 0")},children:(0,I.jsx)(l.RecursionField,{name:un["x-uid"],schema:un})})]}),!En&&(0,I.jsxs)(I.Fragment,{children:[rn&&(0,I.jsx)("div",{className:vn.titleWrapper,children:gt(rn)}),(0,I.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",padding:rn?"0 24px":0},children:(0,I.jsxs)(R.DndContext,{children:[(0,I.jsx)(Pe.Z,m()(m()({},Lt),{},{style:{flexWrap:"wrap",marginBottom:Rn.paddingXS},children:Je.mapProperties(function(Vt,It){return Vt["x-align"]!=="left"?null:(0,I.jsx)(l.RecursionField,{name:It,schema:Vt},It)})})),(0,I.jsxs)(Pe.Z,m()(m()({},Lt),{},{style:{flexWrap:"wrap"},children:[Je.mapProperties(function(Vt,It){return Vt["x-align"]==="left"?null:(0,I.jsx)(l.RecursionField,{name:It,schema:Vt},It)}),mn()]}))]})})]})]}))}),{displayName:"ActionBar"}),Bt=e(70348),He=e(42779),ct=e(78)},75496:function(se,j,e){"use strict";e.d(j,{Cb:function(){return o},qr:function(){return f},yB:function(){return l}});var v=e(15009),m=e.n(v),x=e(97857),u=e.n(x),p=e(99289),d=e.n(p),h=e(96486),t=e.n(h),c=e(77723),i=e(34588),a={validator:`{{(value, rule)=> {
    if (!value) {
      return '';
    }
    try {
      const val = JSON.parse(value);
      if(!isNaN(val)) {
        return false;
      }
      return true;
    } catch(error) {
      captureException(error);
      return false;
    }
  }}}`,message:'{{t("Invalid JSON format")}}'},f={type:"object",properties:{url:{type:"string",title:'{{t("Request URL")}}',required:!0,"x-decorator":"FormItem","x-component":"Input"},method:{type:"string",title:'{{t("Request method")}}',"x-decorator":"FormItem","x-component":"Select",default:"POST",enum:[{label:"POST",value:"POST"},{label:"GET",value:"GET"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"},{label:"DELETE",value:"DELETE"}]},headers:{type:"string",title:'{{t("Request headers")}}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-validator":a},params:{type:"string",title:'{{t("Request query parameters")}}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-validator":a},data:{type:"string",title:'{{t("Request body")}}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-validator":a}}},l=function(){var g=d()(m()().mark(function y(D){var P,E,O,T,S,$,Z,K,z;return m()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:O=D.operator,T=D.field,S=D.condition,$=D.variables,Z=D.localVariables,K=(T==null||(P=T.stateOfLinkageRules)===null||P===void 0?void 0:P.disabled)||[!1],z=(T==null||(E=T.stateOfLinkageRules)===null||E===void 0?void 0:E.display)||["visible"],A.t0=O,A.next=A.t0===c.Us.Visible?6:A.t0===c.Us.Hidden?15:A.t0===c.Us.Disabled?25:A.t0===c.Us.Active?36:44;break;case 6:return A.next=8,(0,i.jC)({ruleGroup:S,variables:$,localVariables:Z});case 8:if(!A.sent){A.next=12;break}z.push(O),T.data=T.data||{},T.data.hidden=!1;case 12:return T.stateOfLinkageRules=u()(u()({},T.stateOfLinkageRules),{},{display:z}),T.display=(0,h.last)(z),A.abrupt("break",45);case 15:return A.next=17,(0,i.jC)({ruleGroup:S,variables:$,localVariables:Z});case 17:if(!A.sent){A.next=22;break}T.data=T.data||{},T.data.hidden=!0,A.next=24;break;case 22:T.data=T.data||{},T.data.hidden=!1;case 24:return A.abrupt("break",45);case 25:return A.next=27,(0,i.jC)({ruleGroup:S,variables:$,localVariables:Z});case 27:if(!A.sent){A.next=31;break}K.push(!0),A.next=32;break;case 31:K.push(!1);case 32:return T.stateOfLinkageRules=u()(u()({},T.stateOfLinkageRules),{},{disabled:K}),T.disabled=(0,h.last)(K),T.componentProps.disabled=(0,h.last)(K),A.abrupt("break",45);case 36:return A.next=38,(0,i.jC)({ruleGroup:S,variables:$,localVariables:Z});case 38:if(!A.sent){A.next=40;break}K.push(!1);case 40:return T.stateOfLinkageRules=u()(u()({},T.stateOfLinkageRules),{},{disabled:K}),T.disabled=(0,h.last)(K),T.componentProps.disabled=(0,h.last)(K),A.abrupt("break",45);case 44:return A.abrupt("return",null);case 45:case"end":return A.stop()}},y)}));return function(D){return g.apply(this,arguments)}}(),n=function(y){y.data=y.data||{},y.display="visible",y.disabled=!1,y.data.hidden=!1,y.componentProps.disabled=!1},r=["ant-select","ant-nb-rich-text","ant-upload-wrapper"],o=function(y){for(var D=["textarea","input"].includes(y.tagName.toLocaleLowerCase());y;){if(r.some(function(P){var E;return(E=y.classList)===null||E===void 0?void 0:E.contains(P)}))return!0;y=y.parentNode}return D}},13642:function(se,j,e){"use strict";e.d(j,{O:function(){return m},w:function(){return x}});var v=e(67294),m=(0,v.createContext)({});m.displayName="AssociationFieldContext";var x=(0,v.createContext)(null);x.displayName="TableCellEventContext"},29132:function(se,j,e){"use strict";e.d(j,{Ky:function(){return P},Xd:function(){return O},ZP:function(){return E},_c:function(){return S},eI:function(){return $},fR:function(){return D}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(94350),d=e(96486),h=e.n(d),t=e(50361),c=e.n(t),i=e(67294),a=e(6145),f=e(18386),l=e(87714),n=e(36586),r=e(12929),o=e(3329),g=e(13642),y=e(85893),D=function(K){var z=(0,p.useFieldSchema)(),w=(0,o.ng)(),A=w.insertAfterBegin,M=(0,i.useCallback)(function(b){var R=z.reduceProperties(function(L,N){return N["x-component"]==="AssociationField."+K?N:L},null);R||A(c()(b))},[K]);return M};function P(){return(0,i.useContext)(g.O)}function E(Z){var K,z,w,A,M=Z.action,b=M===void 0?"list":M,R=Z.service,L=Z.useOriginalFilter,N=(0,p.useFieldSchema)(),B=(0,p.useField)(),V=(0,a.useCollection_deprecated)(),U=V.getField,I=(0,a.useCollectionManager_deprecated)(),F=I.getCollectionJoinField,W=(0,n.a)(),X=((0,d.isString)(N==null||(K=N["x-component-props"])===null||K===void 0||(K=K.service)===null||K===void 0||(K=K.params)===null||K===void 0?void 0:K.filter)?(z=B.componentProps)===null||z===void 0||(z=z.service)===null||z===void 0||(z=z.params)===null||z===void 0?void 0:z.filter:N==null||(w=N["x-component-props"])===null||w===void 0||(w=w.service)===null||w===void 0||(w=w.params)===null||w===void 0?void 0:w.filter)||(R==null||(A=R.params)===null||A===void 0?void 0:A.filter),J=(0,r.v)({filterOption:X}),C=J.filter,k=(0,i.useMemo)(function(){return U(N.name)||F(N==null?void 0:N["x-collection-field"])},[N]),Y=W==null?void 0:W[k==null?void 0:k.sourceKey],H=(0,i.useMemo)(function(){var te=["oho","o2m"].includes(k==null?void 0:k.interface);return(0,l.EO)([(0,l.EO)([te&&!(0,f.Op)(N)&&k!==null&&k!==void 0&&k.foreignKey&&!L?u()({},k.foreignKey,{$is:null}):null,C]),te&&Y!==void 0&&Y!==null&&!(0,f.Op)(N)&&k!==null&&k!==void 0&&k.foreignKey&&!L?u()({},k.foreignKey,{$eq:Y}):null],"$or")},[k==null?void 0:k.interface,k==null?void 0:k.foreignKey,N,C,Y,L]);return(0,i.useMemo)(function(){return m()(m()({resource:k==null?void 0:k.target,action:b},R),{},{params:m()(m()({},R==null?void 0:R.params),{},{filter:H})})},[k==null?void 0:k.target,b,H,R])}var O=function(K){var z,w,A=(0,p.useFieldSchema)(),M=((z=A["x-component-props"])===null||z===void 0||(z=z.field)===null||z===void 0||(z=z.uiSchema)===null||z===void 0||(z=z["x-component-props"])===null||z===void 0?void 0:z.fieldNames)||(A==null||(w=A["x-component-props"])===null||w===void 0?void 0:w.fieldNames)||K.fieldNames;return m()({label:"label",value:"value"},M)},T=(0,i.createContext)(null);T.displayName="SubFormContext";var S=function(K){var z=(0,i.useContext)(T),w=K.value,A=w.value,M=w.collection,b=w.fieldSchema,R=w.parent,L=w.skip,N=(0,i.useMemo)(function(){return h().omitBy({value:A,collection:M,fieldSchema:b,skip:L,parent:R||(z!=null&&z.skip?z.parent:z)},h().isUndefined)},[A,M,b,L,R,z]);return(0,y.jsx)(T.Provider,{value:N,children:K.children})},$=function(){var K=(0,i.useContext)(T)||{},z=K.value,w=K.collection,A=K.fieldSchema,M=K.parent;return{formValue:z,collection:w,fieldSchema:A,parent:M}}},37696:function(se,j,e){"use strict";e.d(j,{Il:function(){return a},Mr:function(){return i},cN:function(){return n},cc:function(){return r},r$:function(){return y},sj:function(){return o}});var v=e(19632),m=e.n(v),x=e(97857),u=e.n(x),p=e(84327),d=e(70173),h=e(66309),t=e(67294),c=e(6145),i=function(){var P=(0,c.useCollectionManager_deprecated)(),E=P.getCollectionJoinField;return function(O,T){if(O){var S=E("".concat(O,".").concat(T));return S==null?void 0:S.uiSchema}}},a=function(P,E){var O=(0,c.useCollectionManager_deprecated)(),T=O.getCollectionJoinField;if(P){var S=T("".concat(P,".").concat(E));return S==null?void 0:S.uiSchema}},f=function(P){var E=(0,d.getDefaultFormat)(P),O=(0,d.str2moment)(P.value,P),T=O&&O.isValid()?O.format(E):P.value;return(0,p.isArr)(T)?T.join("~"):T},l=function(P){return P?Array.isArray(P)?P:[P]:[]},n=function(P,E){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=P==null?void 0:P.enum;if(Array.isArray(T)&&E){var S=l(E).map(function($){var Z=T.find(function(K){return K.value===$});return O?t.createElement(h.Z,{color:Z==null?void 0:Z.color},Z==null?void 0:Z.label):Z==null?void 0:Z.label});return O?S:S.join(", ")}switch(P==null?void 0:P["x-component"]){case"DatePicker":return f(u()(u()({},P==null?void 0:P["x-component-props"]),{},{value:E}));default:return E}},r=function(P,E,O){var T=P==null?void 0:P.enum;if(Array.isArray(T)&&E){var S=l(E).map(function($){var Z=T.find(function(K){return K.value===$});return t.createElement(h.Z,{color:O||(Z==null?void 0:Z.color)},Z==null?void 0:Z.label)});return S}switch(P==null?void 0:P["x-component"]){case"DatePicker":return t.createElement(h.Z,{color:O},f(u()(u()({},P==null?void 0:P["x-component-props"]),{},{value:E})));default:return t.createElement(h.Z,{color:O},E)}};function o(D){for(var P=[],E=0;E<D.length;E++){var O=D[E].children;Array.isArray(O)&&P.push.apply(P,m()(o(O))),P.push(u()({},D[E]))}return P}function g(D){return(D==null?void 0:D["x-component"])==="Preview"}function y(D){var P,E,O=((P=D["x-component-props"])===null||P===void 0?void 0:P.mode)||((E=D.componentProps)===null||E===void 0?void 0:E.mode);return["Nester","SubTable","PopoverNester"].includes(O)}},17797:function(se,j,e){"use strict";e.d(j,{P:function(){return Se}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(68400),d=e.n(p),h=e(4393),t=e(67294),c=e(68230),i=e(97133),a=e(94350),f=e(70173),l=e(15009),n=e.n(l),r=e(96695),o=e.n(r),g=e(99289),y=e.n(g),D=e(5574),P=e.n(D),E=e(42371),O=e(79531),T=e(14518),S=e(15867),$=e(3321),Z=e(26410),K=e(26793),z=e(86615),w=e(6574),A=e(86201),M=e(3329),b=e(6145),R=e(72029),L=e(54399),N=e(85893),B,V,U,I,F,W,X=function(G){var re=G.color;return(0,N.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("path",{d:"M6.67977 8.41899C6.25586 8.68652 5.92264 9.07586 5.72377 9.536L6.49377 9.86599C6.62077 9.572 6.83177 9.32099 7.09977 9.14599L6.67977 8.41899ZM9.47977 9.80699C9.44416 9.73302 9.40305 9.66182 9.35677 9.59399L8.48677 8.08699C8.88008 8.1661 9.24837 8.33933 9.5601 8.59185C9.87184 8.84438 10.1177 9.16868 10.2768 9.53699L9.51177 9.86299L9.47977 9.80699ZM5.79277 6.88299C5.03727 7.34283 4.44324 8.02596 4.09277 8.838L4.86277 9.16799C5.14165 8.52185 5.61264 7.97719 6.21177 7.60799L5.79277 6.88299ZM7.91977 7.10399L7.99977 7.10299C9.40577 7.10299 10.6138 7.95299 11.1368 9.16799L11.9068 8.838C11.5416 7.98865 10.9095 7.28145 10.1064 6.82349C9.30322 6.36553 8.37272 6.18176 7.45577 6.29999L7.91977 7.10399ZM7.56877 9.95799C7.47494 10.0302 7.40068 10.1247 7.35277 10.233L7.85077 10.446L7.56877 9.95799ZM6.40377 5.61699C6.32371 5.5954 6.23904 5.59805 6.16048 5.62461C6.08192 5.65116 6.01301 5.70043 5.96247 5.76617C5.91193 5.83192 5.88204 5.91118 5.87657 5.99393C5.87111 6.07667 5.89032 6.15917 5.93177 6.23099L8.58377 10.824C8.6437 10.911 8.73421 10.9722 8.83727 10.9954C8.94032 11.0187 9.04835 11.0022 9.13981 10.9494C9.23128 10.8965 9.29946 10.8111 9.33078 10.7102C9.36209 10.6093 9.35423 10.5004 9.30877 10.405L6.65777 5.81199C6.60226 5.71593 6.51092 5.6458 6.40377 5.61699Z",fill:"url(#paint0_linear_8761_5239)"}),(0,N.jsx)("path",{d:"M8.504 1.79401C8.35103 1.70475 8.17711 1.65771 8 1.65771C7.82289 1.65771 7.64897 1.70475 7.496 1.79401L2.496 4.71101C2.34517 4.79903 2.22002 4.92501 2.133 5.07641C2.04598 5.22782 2.00012 5.39938 2 5.57401V11.426C2.00012 11.6006 2.04598 11.7722 2.133 11.9236C2.22002 12.075 2.34517 12.201 2.496 12.289L7.496 15.206C7.64897 15.2953 7.82289 15.3423 8 15.3423C8.17711 15.3423 8.35103 15.2953 8.504 15.206L13.504 12.289C13.6548 12.201 13.78 12.075 13.867 11.9236C13.954 11.7722 13.9999 11.6006 14 11.426V5.57401C13.9999 5.39938 13.954 5.22782 13.867 5.07641C13.78 4.92501 13.6548 4.79903 13.504 4.71101L8.504 1.79401ZM13 5.57401V11.426L8 14.342L3 11.426V5.57401L8 2.65801L13 5.57401Z",fill:"url(#paint1_linear_8761_5239)"}),(0,N.jsxs)("defs",{children:[(0,N.jsxs)("linearGradient",{id:"paint0_linear_8761_5239",x1:"4.09277",y1:"8.30414",x2:"11.9068",y2:"8.30414",gradientUnits:"userSpaceOnUse",children:[(0,N.jsx)("stop",{"stop-color":re}),(0,N.jsx)("stop",{offset:"1","stop-color":re})]}),(0,N.jsxs)("linearGradient",{id:"paint1_linear_8761_5239",x1:"2",y1:"8.50001",x2:"14",y2:"8.50001",gradientUnits:"userSpaceOnUse",children:[(0,N.jsx)("stop",{"stop-color":re}),(0,N.jsx)("stop",{offset:"1","stop-color":re})]})]})]})},J=(0,i.css)(B||(B=d()([`
  padding: 1.6rem;
  border-radius: 0.8rem;
  margin-bottom: 1.6rem;

  & .ant-formily-item-feedback-layout-loose {
    margin-bottom: 0.6rem;

    .ant-description-textarea {
      & > div {
        line-height: unset !important;
      }
    }
  }
`]))),C=(0,i.css)(V||(V=d()([`
  text-align: right;

  span:first-child {
    margin-right: 10px;
  }

  span:last-child {
    color: var(--xwColorFormItemLabel);
    font-weight: 500;
  }
`]))),k=function(G){var re=(0,O.bz)(),oe=(0,M.Dm)(),ce=(0,b.useCollectionManager_deprecated)(),be=ce.getCollectionField,xe=(0,E.uH)(),ge=G.pendingData,he=(0,t.useState)(!1),Pe=P()(he,2),Ae=Pe[0],Be=Pe[1],Le=(0,T.t_)(),Me=(0,K.$)(),Te=Me.t,we=(0,t.useCallback)(function(){Be(!0)},[]),Ue=(0,t.useCallback)(function(){f.OfflineFormServiceInstance.removeForm(ge.id),Le.getOfflineFormData(),Be(!1)},[]),je=(0,t.useMemo)(function(){return(0,A.createForm)({values:ge.formData,readPretty:!0})},[]),De={};Object.keys(ge.formData).forEach(function(_e){var q,pe=(q=re.form)===null||q===void 0?void 0:q.query(_e).take(),Re="".concat(re.collectionName,".").concat(_e),Oe=be(Re);De[_e]={name:_e,type:"string","x-component":"CollectionField","x-component-props":m()(m()({},pe?pe.componentProps:{}),{},{layout:"horizontal left",enableOverflow:!0}),"x-collection-field":Re,"x-decorator":"FormItem"};var $e=De[_e]["x-component-props"];Oe!=null&&Oe.target&&($e.enableLink=!1),(Oe==null?void 0:Oe.interface)==="attachment"&&($e.hideDownload=!0)});var ye=new a.Schema({type:"object",properties:De});return(0,N.jsxs)("div",{className:J,style:{background:xe.token.xwColorPrimaryBackgroud},onClick:we,children:[(0,N.jsx)(a.FormProvider,{form:je,children:(0,N.jsx)(w.n6,{components:oe.components,schema:ye})}),(0,N.jsxs)("div",{className:C,children:[(0,N.jsx)("span",{children:Te("Offline save time:")}),(0,N.jsx)("span",{children:(0,f.dayjs)(ge.timestamp).format("YYYY-MM-DD HH:mm:ss")})]}),(0,N.jsx)(L.GI,{visible:Ae,onMaskClick:function(){return Be(!1)},children:(0,N.jsx)("div",{style:{padding:"16px"},children:(0,N.jsx)(S.ZP,{type:"text",icon:(0,N.jsx)(z.Z,{}),style:{width:"100%"},onClick:Ue,children:Te("Delete")})})})]})},Y=(0,i.css)(U||(U=d()([`
  font-size: 14px;
  font-weight: normal;
  -webkit-background-clip: initial;
  -webkit-text-fill-color: initial;
`]))),H=(0,i.css)(I||(I=d()([`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 16px;
`]))),te=(0,i.css)(F||(F=d()([`
  height: 54px;
  display: flex;
  align-items: center;
  font-size: 14px;
  font-weight: 600;
  color: #111928;
  padding: 16px;
  border-bottom: 1px solid #d9d9d9;
`]))),le=(0,i.css)(W||(W=d()([`
  max-height: 40rem;
  overflow: auto;
`]))),ne=function(){var G,re,oe=(0,a.useFieldSchema)(),ce=(0,T.t_)(),be=(0,E.uH)(),xe=(0,K.$)(),ge=xe.t,he=(0,t.useState)(!1),Pe=P()(he,2),Ae=Pe[0],Be=Pe[1],Le=(0,t.useState)(!1),Me=P()(Le,2),Te=Me[0],we=Me[1],Ue=(0,t.useState)(0),je=P()(Ue,2),De=je[0],ye=je[1],_e=$.Z.useApp(),q=_e.message,pe=(0,R.LY)(),Re=ce.offlineFormData.filter(function($e){return $e.id.includes(oe["x-uid"])}),Oe=function(){var $e=y()(n()().mark(function Ve(){var Ze,qe,Qe,ke,ft;return n()().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(!ce.isOfflineMode){_t.next=5;break}q.warning("Please upload data in online mode."),Be(!1),_t.next=35;break;case 5:we(!0),ye(0),Ze=Re.length,qe=1,Qe=o()(Re),_t.prev=10,Qe.s();case 12:if((ke=Qe.n()).done){_t.next=26;break}return ft=ke.value,_t.prev=14,_t.next=17,f.OfflineFormServiceInstance.processFormById(ft.id,function(){var Nt=y()(n()().mark(function Kt(ut){var Rt,Dt,dt;return n()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return Dt=new FormData,Dt.append("file",ut.originFileObj),He.next=4,pe.request({url:ut.uploadAction,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:Dt});case 4:return dt=He.sent,He.abrupt("return",(Rt=dt.data)===null||Rt===void 0?void 0:Rt.data);case 6:case"end":return He.stop()}},Kt)}));return function(Kt){return Nt.apply(this,arguments)}}(),function(Nt,Kt){return pe.request(m()(m()({},Kt),{},{data:Nt}))});case 17:ye(qe/Ze*100),qe++,_t.next=24;break;case 21:_t.prev=21,_t.t0=_t.catch(14),(0,f.captureException)(_t.t0);case 24:_t.next=12;break;case 26:_t.next=31;break;case 28:_t.prev=28,_t.t1=_t.catch(10),Qe.e(_t.t1);case 31:return _t.prev=31,Qe.f(),_t.finish(31);case 34:setTimeout(function(){Be(!1),we(!1),ye(0),ce.getOfflineFormData(),q.success(ge("Offline form data upload success"))},500);case 35:case"end":return _t.stop()}},Ve,null,[[10,28,31,34],[14,21]])}));return function(){return $e.apply(this,arguments)}}();return Re.length===0?null:(0,N.jsxs)("div",{className:Y,onClick:function(){Be(!0)},children:[(0,N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(X,{color:be==null||(G=be.token)===null||G===void 0?void 0:G.colorPrimary}),(0,N.jsx)("span",{style:{color:be==null||(re=be.token)===null||re===void 0?void 0:re.colorPrimary,marginLeft:"2px"},children:ge("Queue ({{num}})",{num:Re.length})})]}),(0,N.jsxs)(L.GI,{visible:Ae,onMaskClick:function(){Be(!1)},bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",minHeight:"40vh",display:"flex",flexDirection:"column"},children:[(0,N.jsx)("div",{className:te,children:ge("Offline data list")}),(0,N.jsxs)("div",{className:H,children:[(0,N.jsx)("div",{className:le,children:Ae?Re.map(function($e){return(0,N.jsx)(k,{pendingData:$e},$e.id)}):null}),Te&&(0,N.jsx)(Z.Z,{percent:De,showInfo:!1}),(0,N.jsx)(S.ZP,{type:"primary",onClick:Oe,loading:Te,children:ge("Upload")})]})]})]})},ie=["children","className"],ee,fe=(0,i.css)(ee||(ee=d()([`
  &.ant-card {
    border-radius: 0;
  }

  &.ant-card:not(.ant-card-bordered) {
    box-shadow: none;
  }

  .ant-card-head + .ant-card-body {
    padding-top: 0;
  }
`]))),de=function ae(G){var re;return G?G!=null&&(re=G["x-initializer"])!==null&&re!==void 0&&re.includes(":configureActions")?!0:G.reduceProperties(function(oe,ce){return oe||ae(ce)},!1):!1},ue=function(G){var re=G.title;return(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,N.jsx)("span",{children:re}),(0,N.jsx)(ne,{})]})},Se=t.forwardRef(function(ae,G){var re,oe=ae.children,ce=ae.className,be=u()(ae,ie),xe=(0,c.d)(),ge=xe.token,he=(0,a.useFieldSchema)(),Pe=((re=he["x-data"])===null||re===void 0?void 0:re.enableFormOfflineSubmit)||!1,Ae=f.isMobile&&de(he)&&!["blockSettings:createForm","blockSettings:editForm","blockSettings:filterForm"].includes(he==null?void 0:he["x-settings"]);return Ae&&delete be.title,(0,N.jsx)(h.Z,m()(m()({ref:G,bordered:!1,style:{marginBottom:ge.marginBlock},className:(0,i.cx)(ce,fe)},be),{},{title:Pe?(0,N.jsx)(ue,{title:be.title}):be.title,children:oe}))});Se.displayName="BlockItemCard"},25519:function(se,j,e){"use strict";e.d(j,{W:function(){return i}});var v=e(97857),m=e.n(v),x=e(67294),u=e(4511),p=e(17797),d=e(70627),h=e(70173),t=e(85893),c=function(f){return(0,t.jsx)(p.P,{children:(0,t.jsx)(d.H,m()({},f))})},i=function(f){var l=f.children,n=function(o){(0,h.captureException)(o)};return(0,t.jsx)(u.SV,{FallbackComponent:c,onError:n,children:l})}},46504:function(se,j,e){"use strict";e.d(j,{j:function(){return O},L:function(){return T}});var v=e(97857),m=e.n(v),x=e(68400),u=e.n(x),p=e(94350),d=e(94184),h=e.n(d),t=e(67294),c=e(90635),i=e(59632),a=e(13006),f=e(3329),l=e(23782),n=e(6145),r=function($){var Z,K=(0,p.useFieldSchema)(),z=(0,f.eJ)(),w=K["x-component"],A=typeof w=="string"?w:w==null?void 0:w.displayName,M=z(K["x-collection-field"]),b=(0,l.VG)()||{},R=b.name,L=(0,n.useCollection_deprecated)(),N=L.name,B=L.getField;R=$||R;var V=z(K.title)||z((Z=B(K.name))===null||Z===void 0||(Z=Z.uiSchema)===null||Z===void 0?void 0:Z.title),U=(0,t.useCallback)(function(I){return I=I?"-".concat(I):"",["block-item",A,N,R,M,V,I].filter(Boolean).join("-")},[A,N,R,M,V]);return{getAriaLabel:U}},o=e(25519),g=e(42371),y=e(85893),D,P=(0,i.kc)(function(S){var $=S.css,Z=S.token;return $(D||(D=u()([`
    position: relative;
    &:hover {
      > .general-schema-designer {
        display: block;
      }
    }
    &.nb-form-item:hover {
      > .general-schema-designer {
        background: var(--colorBgSettingsHover) !important;
        border: 0 !important;
        top: -5px !important;
        bottom: -5px !important;
        left: -5px !important;
        right: -5px !important;
      }
    }
    > .general-schema-designer {
      position: absolute;
      z-index: 999;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      display: none;
      border: 2px solid var(--colorBorderSettingsHover);
      pointer-events: none;
      > .general-schema-designer-icons {
        position: absolute;
        right: 2px;
        top: 2px;
        line-height: 16px;
        pointer-events: all;
        .ant-space-item {
          background-color: var(--colorSettings);
          color: #fff;
          line-height: 16px;
          width: 16px;
          padding-left: 1px;
          align-self: stretch;
        }
      }
    }
  `])))}),E=(0,c.t)(function(S){var $=(0,f.wN)(S),Z=$.className,K=$.children,z=P(),w=z.styles,A=(0,f.et)(),M=(0,p.useFieldSchema)(),b=r(S.name),R=b.getAriaLabel,L=(0,t.useMemo)(function(){return R()},[R]);return(0,y.jsxs)(a.SortableItem,{role:"button","aria-label":L,className:h()("nb-block-item",Z,w),children:[(0,y.jsx)(A,m()({},M["x-toolbar-props"])),(0,y.jsx)(o.W,{children:K})]})},{displayName:"BlockItem"}),O=(0,g.aW)(E),T=function(){var $=(0,f.ng)(),Z=$.remove;return(0,y.jsxs)("div",{children:[(0,y.jsx)("a",{onClick:function(){Z()},children:"\u5220\u9664"}),(0,y.jsx)(a.DragHandler,{})]})}},68435:function(se,j,e){"use strict";e.d(j,{Mt:function(){return K},iN:function(){return T},P1:function(){return O}});var v=e(97857),m=e.n(v),x=e(68400),u=e.n(x),p=e(94350),d=e(40684),h=e(27484),t=e.n(h),c=e(67294),i=e(26793),a=e(97133),f=e(70173),l=e(65078),n=e(84327),r=e(94184),o=e.n(r),g=e(85893),y=function(){return null};y.DatePicker=function(A){var M=(0,l.F)("description-date-picker",A);if(!A.value)return(0,g.jsx)("div",{});var b=function(){var L=(0,f.getDefaultFormat)(A),N=(0,f.str2moment)(A.value,A),B=t().isDayjs(N)?N.format(L):"";return(0,n.isArr)(B)?B.join("~"):B};return(0,g.jsx)("div",{className:o()(M,A.className),children:b()})},y.DateRangePicker=function(A){var M=(0,l.F)("description-text",A),b=(0,f.getDefaultFormat)(A),R=function(){var N=(0,f.str2moment)(A.value,A);if(!N)return"";var B=N.map(function(V){return V.format(b)});return(0,n.isArr)(B)?B.join("~"):B};return(0,g.jsx)("div",{className:o()(M,A.className),style:A.style,children:R()})};var D=e(61341),P,E=c.createContext({utc:!0}),O=function(){return c.useContext(E)},T=E.Provider,S=(0,p.connect)(d.default,(0,p.mapProps)((0,D.LP)()),(0,p.mapReadPretty)(y.DatePicker)),$=(0,p.connect)(d.default.RangePicker,(0,p.mapProps)((0,D.fY)()),(0,p.mapReadPretty)(y.DateRangePicker)),Z=function(A){return f.isMobile?(0,a.css)(P||(P=u()([`
        `,`
        .ant-picker-panel-layout {
          max-width: 100vw;
          .ant-picker-panel {
            overflow: auto;
          }
        }
      `])),(A==null?void 0:A.showTime)&&"left: 0 !important;"):""},K=function(A){var M=O(),b=M.utc,R=b===void 0?!0:b,L=Array.isArray(A.value)?A.value[0]:A.value,N=function(U){U.target.value===""&&A.onChange&&A.onChange(null,"")},B=m()(m()({utc:R},A),{},{showTime:A.showTime?{defaultValue:t()("00:00:00","HH:mm:ss")}:!1,onBlur:N});return(0,g.jsx)(S,m()(m()({},B),{},{value:L,popupClassName:Z(B)}))};K.ReadPretty=y.DatePicker,K.RangePicker=function(A){var M=(0,i.$)(),b=M.t,R=O(),L=R.utc,N=L===void 0?!0:L,B=(0,D.SE)(),V=[{label:b("Today"),value:B.today},{label:b("Last week"),value:B.lastWeek},{label:b("This week"),value:B.thisWeek},{label:b("Next week"),value:B.nextWeek},{label:b("Last month"),value:B.lastMonth},{label:b("This month"),value:B.thisMonth},{label:b("Next month"),value:B.nextMonth},{label:b("Last quarter"),value:B.lastQuarter},{label:b("This quarter"),value:B.thisQuarter},{label:b("Next quarter"),value:B.nextQuarter},{label:b("Last year"),value:B.lastYear},{label:b("This year"),value:B.thisYear},{label:b("Next year"),value:B.nextYear},{label:b("Last 7 days"),value:B.last7Days},{label:b("Next 7 days"),value:B.next7Days},{label:b("Last 30 days"),value:B.last30Days},{label:b("Next 30 days"),value:B.next30Days},{label:b("Last 90 days"),value:B.last90Days},{label:b("Next 90 days"),value:B.next90Days}],U=m()(m()({utc:N,presets:V},A),{},{showTime:A.showTime?{defaultValue:[t()("00:00:00","HH:mm:ss"),t()("00:00:00","HH:mm:ss")]}:!1});return(0,g.jsx)($,m()(m()({},U),{},{popupClassName:Z(U)}))};var z=null},72322:function(se,j,e){"use strict";e.d(j,{Mt:function(){return v.Mt},P1:function(){return v.P1},iN:function(){return v.iN}});var v=e(68435)},61341:function(se,j,e){"use strict";e.d(j,{CE:function(){return y},LP:function(){return i},SE:function(){return o},fY:function(){return a}});var v=e(97857),m=e.n(v),x=e(70173),u=e(27484),p=e.n(u),d=function D(P,E,O){if(!p().isDayjs(P))return P;if(O==="local"){var T=new Date().getTimezoneOffset();return p()(D(P,E,"gmt")).add(T,"minutes").toISOString()}return E==="year"?P.format("YYYY")+"-01-01T00:00:00.000Z":E==="month"?P.format("YYYY-MM")+"-01T00:00:00.000Z":E==="quarter"?P.startOf("quarter").format("YYYY-MM")+"-01T00:00:00.000Z":E==="week"?P.startOf("week").add(1,"day").format("YYYY-MM-DD")+"T00:00:00.000Z":P.format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"},h=function(P,E){return!P||!p().isDayjs(P)?P:d(P,E,"gmt")},t=function(P,E){return!P||!p().isDayjs(P)?P:d(P,E,"local")},c=function(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=E.showTime,T=E.gmt,S=E.picker,$=E.utc,Z=$===void 0?!0:$;if(!P)return P;if(!Z){var K=O?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD";return P.format(K)}return O?T?(0,x.toGmt)(P):(0,x.toLocal)(P):typeof T=="boolean"&&T?h(P,S):t(P,S)},i=function(){return function(P){var E=(0,x.getDefaultFormat)(P),O=P.onChange;return m()(m()({},P),{},{format:E,value:(0,x.str2moment)(P.value,P),onChange:function(S){O&&(!P.showTime&&S&&(S=S.startOf("day")),O(c(S,P)))}})}},a=function(){return function(P){var E=(0,x.getDefaultFormat)(P),O=P.onChange;return m()(m()({},P),{},{format:E,value:(0,x.str2moment)(P.value,P),onChange:function(S){O&&O(S?[c(f(S[0],P),P),c(l(S[1],P),P)]:[])}})}};function f(D,P){var E=P.showTime;return E?D:D.startOf("day")}function l(D,P){var E=P.showTime;return E?D:D.endOf("day")}var n=function(P,E){return p()().add(P,E==="isoWeek"?"week":E).startOf(E)},r=function(P,E){return p()().add(P,E==="isoWeek"?"week":E).endOf(E)},o=function(P){if(P!=null&&P.shouldBeString){var E=function(T){return Array.isArray(T)?T.map(function(S){return c(S,{utc:P==null?void 0:P.utc})}):c(T,{utc:P==null?void 0:P.utc})};return{now:function(){return E(p()())},today:function(T){return g(E([n(0,"day"),r(0,"day")]),T)},yesterday:function(T){return g(E([n(-1,"day"),r(-1,"day")]),T)},tomorrow:function(T){return g(E([n(1,"day"),r(1,"day")]),T)},thisWeek:function(T){return g(E([n(0,"isoWeek"),r(0,"isoWeek")]),T)},lastWeek:function(T){return g(E([n(-1,"isoWeek"),r(-1,"isoWeek")]),T)},nextWeek:function(T){return g(E([n(1,"isoWeek"),r(1,"isoWeek")]),T)},thisIsoWeek:function(T){return g(E([n(0,"isoWeek"),r(0,"isoWeek")]),T)},lastIsoWeek:function(T){return g(E([n(-1,"isoWeek"),r(-1,"isoWeek")]),T)},nextIsoWeek:function(T){return g(E([n(1,"isoWeek"),r(1,"isoWeek")]),T)},thisMonth:function(T){return g(E([n(0,"month"),r(0,"month")]),T)},lastMonth:function(T){return g(E([n(-1,"month"),r(-1,"month")]),T)},nextMonth:function(T){return g(E([n(1,"month"),r(1,"month")]),T)},thisQuarter:function(T){return g(E([n(0,"quarter"),r(0,"quarter")]),T)},lastQuarter:function(T){return g(E([n(-1,"quarter"),r(-1,"quarter")]),T)},nextQuarter:function(T){return g(E([n(1,"quarter"),r(1,"quarter")]),T)},thisYear:function(T){return g(E([n(0,"year"),r(0,"year")]),T)},lastYear:function(T){return g(E([n(-1,"year"),r(-1,"year")]),T)},nextYear:function(T){return g(E([n(1,"year"),r(1,"year")]),T)},last7Days:function(T){return g(E([n(-6,"days"),r(0,"days")]),T)},next7Days:function(T){return g(E([n(1,"day"),r(7,"days")]),T)},last30Days:function(T){return g(E([n(-29,"days"),r(0,"days")]),T)},next30Days:function(T){return g(E([n(1,"day"),r(30,"days")]),T)},last90Days:function(T){return g(E([n(-89,"days"),r(0,"days")]),T)},next90Days:function(T){return g(E([n(1,"day"),r(90,"days")]),T)}}}return{now:function(){return p()().toISOString()},today:function(T){return g([n(0,"day"),r(0,"day")],T)},yesterday:function(T){return g([n(-1,"day"),r(-1,"day")],T)},tomorrow:function(T){return g([n(1,"day"),r(1,"day")],T)},thisWeek:function(T){return g([n(0,"isoWeek"),r(0,"isoWeek")],T)},lastWeek:function(T){return g([n(-1,"isoWeek"),r(-1,"isoWeek")],T)},nextWeek:function(T){return g([n(1,"isoWeek"),r(1,"isoWeek")],T)},thisIsoWeek:function(T){return g([n(0,"isoWeek"),r(0,"isoWeek")],T)},lastIsoWeek:function(T){return g([n(-1,"isoWeek"),r(-1,"isoWeek")],T)},nextIsoWeek:function(T){return g([n(1,"isoWeek"),r(1,"isoWeek")],T)},thisMonth:function(T){return g([n(0,"month"),r(0,"month")],T)},lastMonth:function(T){return g([n(-1,"month"),r(-1,"month")],T)},nextMonth:function(T){return g([n(1,"month"),r(1,"month")],T)},thisQuarter:function(T){return g([n(0,"quarter"),r(0,"quarter")],T)},lastQuarter:function(T){return g([n(-1,"quarter"),r(-1,"quarter")],T)},nextQuarter:function(T){return g([n(1,"quarter"),r(1,"quarter")],T)},thisYear:function(T){return g([n(0,"year"),r(0,"year")],T)},lastYear:function(T){return g([n(-1,"year"),r(-1,"year")],T)},nextYear:function(T){return g([n(1,"year"),r(1,"year")],T)},last7Days:function(T){return g([n(-6,"days"),r(0,"days")],T)},next7Days:function(T){return g([n(1,"day"),r(7,"days")],T)},last30Days:function(T){return g([n(-29,"days"),r(0,"days")],T)},next30Days:function(T){return g([n(1,"day"),r(30,"days")],T)},last90Days:function(T){return g([n(-89,"days"),r(0,"days")],T)},next90Days:function(T){return g([n(1,"day"),r(90,"days")],T)}}};function g(D,P){return P!=null&&P.isParsingVariable&&P!==null&&P!==void 0&&P.fieldOperator&&P.fieldOperator!=="$dateBetween"?D[0]:D}function y(D,P){return/^\d{4}$/.test(D)?"year":/^\d{4}-\d{2}$/.test(D)?"month":/^\d{4}Q[1-4]$/.test(D)?"quarter":/^\d{4}-\d{2}-\d{2}$/.test(D)?"date":P||"date"}},73587:function(se,j,e){"use strict";e.d(j,{H:function(){return ee}});var v=e(97857),m=e.n(v),x=e(52677),u=e.n(x),p=e(67294),d=e(32983),h=e(42371),t=e(79136),c=e(58809),i=Object.defineProperty,a=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(fe,de,ue)=>de in fe?i(fe,de,{enumerable:!0,configurable:!0,writable:!0,value:ue}):fe[de]=ue,r=(fe,de)=>{for(var ue in de||(de={}))f.call(de,ue)&&n(fe,ue,de[ue]);if(a)for(var ue of a(de))l.call(de,ue)&&n(fe,ue,de[ue]);return fe};const o=fe=>React.createElement("svg",r({width:109,height:75,fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe),React.createElement("g",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd"},React.createElement("path",{d:"M109 31.004v29.584l-.053.91-.424 1.593-.743 1.251-1.034.873-.557.227-.637.076H15.117V31.004h34.477l.053 1.327.185 1.29.265 1.214.398 1.175 1.061 2.2 1.406 1.897 1.114 1.1 1.22.91 1.352.758 1.406.57 1.485.34 1.591.114 1.591-.113 1.486-.342 1.405-.569 1.353-.758 1.22-.91 1.113-1.1 1.406-1.897 1.06-2.2.399-1.175.265-1.214.186-1.29.053-1.327H109ZM0 38.983l15.117-7.981V61.79l-.081 1.173-.243 1.097-.378 1.059-.513.87-.648.756-.729.605-7.612 4.577-.62.303-.595.113-.62-.038-1.134-.454-.972-1.02-.378-.644-.297-.794-.216-.984L0 67.426V38.983Z",fill:"#E1E1E1"}),React.createElement("path",{d:"M16.823 0h76.861v59.677l-.08.252-.243.218-.324.134-.431.068H17.902l-.431-.068-.324-.134-.243-.218-.08-.252V0Z",fill:"#8FD5E7"}),React.createElement("path",{d:"M94.148 38.969V75H4.243l-.769-.114-.716-.265-.663-.455-.583-.607-.504-.72-.425-.835-.318-.948-.185-1.024-.08-1.1V38.969h34.477l.053 1.593.186 1.327.265 1.252.398 1.251 1.06 2.276 1.406 2.01 1.114 1.138 1.22.948 1.352.797 2.122.796 2.36.266 2.36-.266 2.122-.796 1.353-.797 1.22-.948 1.114-1.138 1.405-2.01 1.061-2.276.398-1.251.265-1.252.186-1.327.053-1.593h36.598Z",fill:"url(#green_svg__a)"}),React.createElement("path",{d:"M94.148 38.968 109 30.965v30.873l-.08 1.176-.238 1.1-.372 1.062-.503.872-.637.759-.716.606L94.148 75V38.968Z",fill:"#8FD5E7"})),React.createElement("defs",null,React.createElement("linearGradient",{id:"green_svg__a",x1:0,y1:75,x2:94.148,y2:75,gradientUnits:"userSpaceOnUse"},React.createElement("stop",{stopColor:"#36CEBF"}),React.createElement("stop",{offset:1,stopColor:"#169DD4"}))));var g="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA5IiBoZWlnaHQ9Ijc1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIG9wYWNpdHk9Ii41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwOSAzMS4wMDR2MjkuNTg0bC0uMDUzLjkxLS40MjQgMS41OTMtLjc0MyAxLjI1MS0xLjAzNC44NzMtLjU1Ny4yMjctLjYzNy4wNzZIMTUuMTE3VjMxLjAwNGgzNC40NzdsLjA1MyAxLjMyNy4xODUgMS4yOS4yNjUgMS4yMTQuMzk4IDEuMTc1IDEuMDYxIDIuMiAxLjQwNiAxLjg5NyAxLjExNCAxLjEgMS4yMi45MSAxLjM1Mi43NTggMS40MDYuNTcgMS40ODUuMzQgMS41OTEuMTE0IDEuNTkxLS4xMTMgMS40ODYtLjM0MiAxLjQwNS0uNTY5IDEuMzUzLS43NTggMS4yMi0uOTEgMS4xMTMtMS4xIDEuNDA2LTEuODk3IDEuMDYtMi4yLjM5OS0xLjE3NS4yNjUtMS4yMTQuMTg2LTEuMjkuMDUzLTEuMzI3SDEwOVpNMCAzOC45ODNsMTUuMTE3LTcuOTgxVjYxLjc5bC0uMDgxIDEuMTczLS4yNDMgMS4wOTctLjM3OCAxLjA1OS0uNTEzLjg3LS42NDguNzU2LS43MjkuNjA1LTcuNjEyIDQuNTc3LS42Mi4zMDMtLjU5NS4xMTMtLjYyLS4wMzgtMS4xMzQtLjQ1NC0uOTcyLTEuMDItLjM3OC0uNjQ0LS4yOTctLjc5NC0uMjE2LS45ODRMMCA2Ny40MjZWMzguOTgzWiIgZmlsbD0iI0UxRTFFMSIvPjxwYXRoIGQ9Ik0xNi44MjMgMGg3Ni44NjF2NTkuNjc3bC0uMDguMjUyLS4yNDMuMjE4LS4zMjQuMTM0LS40MzEuMDY4SDE3LjkwMmwtLjQzMS0uMDY4LS4zMjQtLjEzNC0uMjQzLS4yMTgtLjA4LS4yNTJWMFoiIGZpbGw9IiM4RkQ1RTciLz48cGF0aCBkPSJNOTQuMTQ4IDM4Ljk2OVY3NUg0LjI0M2wtLjc2OS0uMTE0LS43MTYtLjI2NS0uNjYzLS40NTUtLjU4My0uNjA3LS41MDQtLjcyLS40MjUtLjgzNS0uMzE4LS45NDgtLjE4NS0xLjAyNC0uMDgtMS4xVjM4Ljk2OWgzNC40NzdsLjA1MyAxLjU5My4xODYgMS4zMjcuMjY1IDEuMjUyLjM5OCAxLjI1MSAxLjA2IDIuMjc2IDEuNDA2IDIuMDEgMS4xMTQgMS4xMzggMS4yMi45NDggMS4zNTIuNzk3IDIuMTIyLjc5NiAyLjM2LjI2NiAyLjM2LS4yNjYgMi4xMjItLjc5NiAxLjM1My0uNzk3IDEuMjItLjk0OCAxLjExNC0xLjEzOCAxLjQwNS0yLjAxIDEuMDYxLTIuMjc2LjM5OC0xLjI1MS4yNjUtMS4yNTIuMTg2LTEuMzI3LjA1My0xLjU5M2gzNi41OThaIiBmaWxsPSJ1cmwoI2EpIi8+PHBhdGggZD0iTTk0LjE0OCAzOC45NjggMTA5IDMwLjk2NXYzMC44NzNsLS4wOCAxLjE3Ni0uMjM4IDEuMS0uMzcyIDEuMDYyLS41MDMuODcyLS42MzcuNzU5LS43MTYuNjA2TDk0LjE0OCA3NVYzOC45NjhaIiBmaWxsPSIjOEZENUU3Ii8+PC9nPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjAiIHkxPSI3NSIgeDI9Ijk0LjE0OCIgeTI9Ijc1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzM2Q0VCRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE2OURENCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",y=Object.defineProperty,D=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(fe,de,ue)=>de in fe?y(fe,de,{enumerable:!0,configurable:!0,writable:!0,value:ue}):fe[de]=ue,T=(fe,de)=>{for(var ue in de||(de={}))P.call(de,ue)&&O(fe,ue,de[ue]);if(D)for(var ue of D(de))E.call(de,ue)&&O(fe,ue,de[ue]);return fe};const S=fe=>React.createElement("svg",T({width:109,height:75,fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe),React.createElement("g",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd"},React.createElement("path",{d:"M109 31.004v29.584l-.053.91-.424 1.593-.743 1.251-1.034.873-.557.227-.637.076H15.117V31.004h34.477l.053 1.327.185 1.29.265 1.214.398 1.175 1.061 2.2 1.406 1.897 1.114 1.1 1.22.91 1.352.758 1.406.57 1.485.34 1.591.114 1.591-.113 1.486-.342 1.405-.569 1.353-.758 1.22-.91 1.113-1.1 1.406-1.897 1.06-2.2.399-1.175.265-1.214.186-1.29.053-1.327H109ZM0 38.983l15.117-7.981V61.79l-.081 1.173-.243 1.097-.378 1.059-.513.87-.648.756-.729.605-7.612 4.577-.62.303-.595.113-.62-.038-1.134-.454-.972-1.02-.378-.644-.297-.794-.216-.984L0 67.426V38.983Z",fill:"#E1E1E1"}),React.createElement("path",{d:"M16.823 0h76.861v59.677l-.08.252-.243.218-.324.134-.431.068H17.902l-.431-.068-.324-.134-.243-.218-.08-.252V0Z",fill:"#FBCF94"}),React.createElement("path",{d:"M94.148 38.969V75H4.243l-.769-.114-.716-.265-.663-.455-.583-.607-.504-.72-.425-.835-.318-.948-.185-1.024-.08-1.1V38.969h34.477l.053 1.593.186 1.327.265 1.252.398 1.251 1.06 2.276 1.406 2.01 1.114 1.138 1.22.948 1.352.797 2.122.796 2.36.266 2.36-.266 2.122-.796 1.353-.797 1.22-.948 1.114-1.138 1.405-2.01 1.061-2.276.398-1.251.265-1.252.186-1.327.053-1.593h36.598Z",fill:"url(#orange_svg__a)"}),React.createElement("path",{d:"M94.148 38.968 109 30.965v30.873l-.08 1.176-.238 1.1-.372 1.062-.503.872-.637.759-.716.606L94.148 75V38.968Z",fill:"#FBC795"})),React.createElement("defs",null,React.createElement("linearGradient",{id:"orange_svg__a",x1:0,y1:42.572,x2:88.545,y2:50.764,gradientUnits:"userSpaceOnUse"},React.createElement("stop",{stopColor:"#F3CC20"}),React.createElement("stop",{offset:1,stopColor:"#F68C2C"}))));var $="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA5IiBoZWlnaHQ9Ijc1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIG9wYWNpdHk9Ii41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwOSAzMS4wMDR2MjkuNTg0bC0uMDUzLjkxLS40MjQgMS41OTMtLjc0MyAxLjI1MS0xLjAzNC44NzMtLjU1Ny4yMjctLjYzNy4wNzZIMTUuMTE3VjMxLjAwNGgzNC40NzdsLjA1MyAxLjMyNy4xODUgMS4yOS4yNjUgMS4yMTQuMzk4IDEuMTc1IDEuMDYxIDIuMiAxLjQwNiAxLjg5NyAxLjExNCAxLjEgMS4yMi45MSAxLjM1Mi43NTggMS40MDYuNTcgMS40ODUuMzQgMS41OTEuMTE0IDEuNTkxLS4xMTMgMS40ODYtLjM0MiAxLjQwNS0uNTY5IDEuMzUzLS43NTggMS4yMi0uOTEgMS4xMTMtMS4xIDEuNDA2LTEuODk3IDEuMDYtMi4yLjM5OS0xLjE3NS4yNjUtMS4yMTQuMTg2LTEuMjkuMDUzLTEuMzI3SDEwOVpNMCAzOC45ODNsMTUuMTE3LTcuOTgxVjYxLjc5bC0uMDgxIDEuMTczLS4yNDMgMS4wOTctLjM3OCAxLjA1OS0uNTEzLjg3LS42NDguNzU2LS43MjkuNjA1LTcuNjEyIDQuNTc3LS42Mi4zMDMtLjU5NS4xMTMtLjYyLS4wMzgtMS4xMzQtLjQ1NC0uOTcyLTEuMDItLjM3OC0uNjQ0LS4yOTctLjc5NC0uMjE2LS45ODRMMCA2Ny40MjZWMzguOTgzWiIgZmlsbD0iI0UxRTFFMSIvPjxwYXRoIGQ9Ik0xNi44MjMgMGg3Ni44NjF2NTkuNjc3bC0uMDguMjUyLS4yNDMuMjE4LS4zMjQuMTM0LS40MzEuMDY4SDE3LjkwMmwtLjQzMS0uMDY4LS4zMjQtLjEzNC0uMjQzLS4yMTgtLjA4LS4yNTJWMFoiIGZpbGw9IiNGQkNGOTQiLz48cGF0aCBkPSJNOTQuMTQ4IDM4Ljk2OVY3NUg0LjI0M2wtLjc2OS0uMTE0LS43MTYtLjI2NS0uNjYzLS40NTUtLjU4My0uNjA3LS41MDQtLjcyLS40MjUtLjgzNS0uMzE4LS45NDgtLjE4NS0xLjAyNC0uMDgtMS4xVjM4Ljk2OWgzNC40NzdsLjA1MyAxLjU5My4xODYgMS4zMjcuMjY1IDEuMjUyLjM5OCAxLjI1MSAxLjA2IDIuMjc2IDEuNDA2IDIuMDEgMS4xMTQgMS4xMzggMS4yMi45NDggMS4zNTIuNzk3IDIuMTIyLjc5NiAyLjM2LjI2NiAyLjM2LS4yNjYgMi4xMjItLjc5NiAxLjM1My0uNzk3IDEuMjItLjk0OCAxLjExNC0xLjEzOCAxLjQwNS0yLjAxIDEuMDYxLTIuMjc2LjM5OC0xLjI1MS4yNjUtMS4yNTIuMTg2LTEuMzI3LjA1My0xLjU5M2gzNi41OThaIiBmaWxsPSJ1cmwoI2EpIi8+PHBhdGggZD0iTTk0LjE0OCAzOC45NjggMTA5IDMwLjk2NXYzMC44NzNsLS4wOCAxLjE3Ni0uMjM4IDEuMS0uMzcyIDEuMDYyLS41MDMuODcyLS42MzcuNzU5LS43MTYuNjA2TDk0LjE0OCA3NVYzOC45NjhaIiBmaWxsPSIjRkJDNzk1Ii8+PC9nPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjAiIHkxPSI0Mi41NzIiIHgyPSI4OC41NDUiIHkyPSI1MC43NjQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjRjNDQzIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjY4QzJDIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PC9zdmc+",Z=Object.defineProperty,K=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,A=(fe,de,ue)=>de in fe?Z(fe,de,{enumerable:!0,configurable:!0,writable:!0,value:ue}):fe[de]=ue,M=(fe,de)=>{for(var ue in de||(de={}))z.call(de,ue)&&A(fe,ue,de[ue]);if(K)for(var ue of K(de))w.call(de,ue)&&A(fe,ue,de[ue]);return fe};const b=fe=>React.createElement("svg",M({width:109,height:75,fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe),React.createElement("g",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd"},React.createElement("path",{d:"M109 31.004v29.584l-.053.91-.424 1.593-.743 1.251-1.034.873-.557.227-.637.076H15.117V31.004h34.477l.053 1.327.185 1.29.265 1.214.398 1.175 1.061 2.2 1.406 1.897 1.114 1.1 1.22.91 1.352.758 1.406.57 1.485.34 1.591.114 1.591-.113 1.486-.342 1.405-.569 1.353-.758 1.22-.91 1.113-1.1 1.406-1.897 1.06-2.2.399-1.175.265-1.214.186-1.29.053-1.327H109ZM0 38.983l15.117-7.981V61.79l-.081 1.173-.243 1.097-.378 1.059-.513.87-.648.756-.729.605-7.612 4.577-.62.303-.595.113-.62-.038-1.134-.454-.972-1.02-.378-.644-.297-.794-.216-.984L0 67.426V38.983Z",fill:"#BBB"}),React.createElement("path",{d:"M16.823 0h76.861v59.677l-.08.252-.243.218-.324.134-.431.068H17.902l-.431-.068-.324-.134-.243-.218-.08-.252V0Z",fill:"#B9BBEF"}),React.createElement("path",{d:"M94.148 38.969V75H4.243l-.769-.114-.716-.265-.663-.455-.583-.607-.504-.72-.425-.835-.318-.948-.185-1.024-.08-1.1V38.969h34.477l.053 1.593.186 1.327.265 1.252.398 1.251 1.06 2.276 1.406 2.01 1.114 1.138 1.22.948 1.352.797 2.122.796 2.36.266 2.36-.266 2.122-.796 1.353-.797 1.22-.948 1.114-1.138 1.405-2.01 1.061-2.276.398-1.251.265-1.252.186-1.327.053-1.593h36.598Z",fill:"url(#purple_svg__a)"}),React.createElement("path",{d:"M94.148 38.968 109 30.965v30.873l-.08 1.176-.238 1.1-.372 1.062-.503.872-.637.759-.716.606L94.148 75V38.968Z",fill:"#BFDCFF"})),React.createElement("defs",null,React.createElement("linearGradient",{id:"purple_svg__a",x1:0,y1:75,x2:94.148,y2:75,gradientUnits:"userSpaceOnUse"},React.createElement("stop",{stopColor:"#8A73E8"}),React.createElement("stop",{offset:1,stopColor:"#3383C2"}))));var R="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA5IiBoZWlnaHQ9Ijc1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIG9wYWNpdHk9Ii41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwOSAzMS4wMDR2MjkuNTg0bC0uMDUzLjkxLS40MjQgMS41OTMtLjc0MyAxLjI1MS0xLjAzNC44NzMtLjU1Ny4yMjctLjYzNy4wNzZIMTUuMTE3VjMxLjAwNGgzNC40NzdsLjA1MyAxLjMyNy4xODUgMS4yOS4yNjUgMS4yMTQuMzk4IDEuMTc1IDEuMDYxIDIuMiAxLjQwNiAxLjg5NyAxLjExNCAxLjEgMS4yMi45MSAxLjM1Mi43NTggMS40MDYuNTcgMS40ODUuMzQgMS41OTEuMTE0IDEuNTkxLS4xMTMgMS40ODYtLjM0MiAxLjQwNS0uNTY5IDEuMzUzLS43NTggMS4yMi0uOTEgMS4xMTMtMS4xIDEuNDA2LTEuODk3IDEuMDYtMi4yLjM5OS0xLjE3NS4yNjUtMS4yMTQuMTg2LTEuMjkuMDUzLTEuMzI3SDEwOVpNMCAzOC45ODNsMTUuMTE3LTcuOTgxVjYxLjc5bC0uMDgxIDEuMTczLS4yNDMgMS4wOTctLjM3OCAxLjA1OS0uNTEzLjg3LS42NDguNzU2LS43MjkuNjA1LTcuNjEyIDQuNTc3LS42Mi4zMDMtLjU5NS4xMTMtLjYyLS4wMzgtMS4xMzQtLjQ1NC0uOTcyLTEuMDItLjM3OC0uNjQ0LS4yOTctLjc5NC0uMjE2LS45ODRMMCA2Ny40MjZWMzguOTgzWiIgZmlsbD0iI0JCQiIvPjxwYXRoIGQ9Ik0xNi44MjMgMGg3Ni44NjF2NTkuNjc3bC0uMDguMjUyLS4yNDMuMjE4LS4zMjQuMTM0LS40MzEuMDY4SDE3LjkwMmwtLjQzMS0uMDY4LS4zMjQtLjEzNC0uMjQzLS4yMTgtLjA4LS4yNTJWMFoiIGZpbGw9IiNCOUJCRUYiLz48cGF0aCBkPSJNOTQuMTQ4IDM4Ljk2OVY3NUg0LjI0M2wtLjc2OS0uMTE0LS43MTYtLjI2NS0uNjYzLS40NTUtLjU4My0uNjA3LS41MDQtLjcyLS40MjUtLjgzNS0uMzE4LS45NDgtLjE4NS0xLjAyNC0uMDgtMS4xVjM4Ljk2OWgzNC40NzdsLjA1MyAxLjU5My4xODYgMS4zMjcuMjY1IDEuMjUyLjM5OCAxLjI1MSAxLjA2IDIuMjc2IDEuNDA2IDIuMDEgMS4xMTQgMS4xMzggMS4yMi45NDggMS4zNTIuNzk3IDIuMTIyLjc5NiAyLjM2LjI2NiAyLjM2LS4yNjYgMi4xMjItLjc5NiAxLjM1My0uNzk3IDEuMjItLjk0OCAxLjExNC0xLjEzOCAxLjQwNS0yLjAxIDEuMDYxLTIuMjc2LjM5OC0xLjI1MS4yNjUtMS4yNTIuMTg2LTEuMzI3LjA1My0xLjU5M2gzNi41OThaIiBmaWxsPSJ1cmwoI2EpIi8+PHBhdGggZD0iTTk0LjE0OCAzOC45NjggMTA5IDMwLjk2NXYzMC44NzNsLS4wOCAxLjE3Ni0uMjM4IDEuMS0uMzcyIDEuMDYyLS41MDMuODcyLS42MzcuNzU5LS43MTYuNjA2TDk0LjE0OCA3NVYzOC45NjhaIiBmaWxsPSIjQkZEQ0ZGIi8+PC9nPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjAiIHkxPSI3NSIgeDI9Ijk0LjE0OCIgeTI9Ijc1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzhBNzNFOCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzMzODNDMiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",L=Object.defineProperty,N=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,U=(fe,de,ue)=>de in fe?L(fe,de,{enumerable:!0,configurable:!0,writable:!0,value:ue}):fe[de]=ue,I=(fe,de)=>{for(var ue in de||(de={}))B.call(de,ue)&&U(fe,ue,de[ue]);if(N)for(var ue of N(de))V.call(de,ue)&&U(fe,ue,de[ue]);return fe};const F=fe=>React.createElement("svg",I({width:109,height:75,fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe),React.createElement("g",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd"},React.createElement("path",{d:"M109 31.004v29.584l-.053.91-.424 1.593-.743 1.251-1.034.873-.557.227-.637.076H15.117V31.004h34.477l.053 1.327.185 1.29.265 1.214.398 1.175 1.061 2.2 1.406 1.897 1.114 1.1 1.22.91 1.352.758 1.406.57 1.485.34 1.591.114 1.591-.113 1.486-.342 1.405-.569 1.353-.758 1.22-.91 1.113-1.1 1.406-1.897 1.06-2.2.399-1.175.265-1.214.186-1.29.053-1.327H109ZM0 38.983l15.117-7.981V61.79l-.081 1.173-.243 1.097-.378 1.059-.513.87-.648.756-.729.605-7.612 4.577-.62.303-.595.113-.62-.038-1.134-.454-.972-1.02-.378-.644-.297-.794-.216-.984L0 67.426V38.983Z",fill:"#C3C3C3"}),React.createElement("path",{d:"M16.823 0h76.861v59.677l-.08.252-.243.218-.324.134-.431.068H17.902l-.431-.068-.324-.134-.243-.218-.08-.252V0Z",fill:"#FFB9CA"}),React.createElement("path",{d:"M94.148 38.969V75H4.243l-.769-.114-.716-.265-.663-.455-.583-.607-.504-.72-.425-.835-.318-.948-.185-1.024-.08-1.1V38.969h34.477l.053 1.593.186 1.327.265 1.252.398 1.251 1.06 2.276 1.406 2.01 1.114 1.138 1.22.948 1.352.797 2.122.796 2.36.266 2.36-.266 2.122-.796 1.353-.797 1.22-.948 1.114-1.138 1.405-2.01 1.061-2.276.398-1.251.265-1.252.186-1.327.053-1.593h36.598Z",fill:"url(#pink_svg__a)"}),React.createElement("path",{d:"M94.148 38.968 109 30.965v30.873l-.08 1.176-.238 1.1-.372 1.062-.503.872-.637.759-.716.606L94.148 75V38.968Z",fill:"#FFB5D5"})),React.createElement("defs",null,React.createElement("linearGradient",{id:"pink_svg__a",x1:0,y1:75,x2:94.148,y2:75,gradientUnits:"userSpaceOnUse"},React.createElement("stop",{stopColor:"#FE8864"}),React.createElement("stop",{offset:1,stopColor:"#FF68AF"}))));var W="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA5IiBoZWlnaHQ9Ijc1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIG9wYWNpdHk9Ii41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwOSAzMS4wMDR2MjkuNTg0bC0uMDUzLjkxLS40MjQgMS41OTMtLjc0MyAxLjI1MS0xLjAzNC44NzMtLjU1Ny4yMjctLjYzNy4wNzZIMTUuMTE3VjMxLjAwNGgzNC40NzdsLjA1MyAxLjMyNy4xODUgMS4yOS4yNjUgMS4yMTQuMzk4IDEuMTc1IDEuMDYxIDIuMiAxLjQwNiAxLjg5NyAxLjExNCAxLjEgMS4yMi45MSAxLjM1Mi43NTggMS40MDYuNTcgMS40ODUuMzQgMS41OTEuMTE0IDEuNTkxLS4xMTMgMS40ODYtLjM0MiAxLjQwNS0uNTY5IDEuMzUzLS43NTggMS4yMi0uOTEgMS4xMTMtMS4xIDEuNDA2LTEuODk3IDEuMDYtMi4yLjM5OS0xLjE3NS4yNjUtMS4yMTQuMTg2LTEuMjkuMDUzLTEuMzI3SDEwOVpNMCAzOC45ODNsMTUuMTE3LTcuOTgxVjYxLjc5bC0uMDgxIDEuMTczLS4yNDMgMS4wOTctLjM3OCAxLjA1OS0uNTEzLjg3LS42NDguNzU2LS43MjkuNjA1LTcuNjEyIDQuNTc3LS42Mi4zMDMtLjU5NS4xMTMtLjYyLS4wMzgtMS4xMzQtLjQ1NC0uOTcyLTEuMDItLjM3OC0uNjQ0LS4yOTctLjc5NC0uMjE2LS45ODRMMCA2Ny40MjZWMzguOTgzWiIgZmlsbD0iI0MzQzNDMyIvPjxwYXRoIGQ9Ik0xNi44MjMgMGg3Ni44NjF2NTkuNjc3bC0uMDguMjUyLS4yNDMuMjE4LS4zMjQuMTM0LS40MzEuMDY4SDE3LjkwMmwtLjQzMS0uMDY4LS4zMjQtLjEzNC0uMjQzLS4yMTgtLjA4LS4yNTJWMFoiIGZpbGw9IiNGRkI5Q0EiLz48cGF0aCBkPSJNOTQuMTQ4IDM4Ljk2OVY3NUg0LjI0M2wtLjc2OS0uMTE0LS43MTYtLjI2NS0uNjYzLS40NTUtLjU4My0uNjA3LS41MDQtLjcyLS40MjUtLjgzNS0uMzE4LS45NDgtLjE4NS0xLjAyNC0uMDgtMS4xVjM4Ljk2OWgzNC40NzdsLjA1MyAxLjU5My4xODYgMS4zMjcuMjY1IDEuMjUyLjM5OCAxLjI1MSAxLjA2IDIuMjc2IDEuNDA2IDIuMDEgMS4xMTQgMS4xMzggMS4yMi45NDggMS4zNTIuNzk3IDIuMTIyLjc5NiAyLjM2LjI2NiAyLjM2LS4yNjYgMi4xMjItLjc5NiAxLjM1My0uNzk3IDEuMjItLjk0OCAxLjExNC0xLjEzOCAxLjQwNS0yLjAxIDEuMDYxLTIuMjc2LjM5OC0xLjI1MS4yNjUtMS4yNTIuMTg2LTEuMzI3LjA1My0xLjU5M2gzNi41OThaIiBmaWxsPSJ1cmwoI2EpIi8+PHBhdGggZD0iTTk0LjE0OCAzOC45NjggMTA5IDMwLjk2NXYzMC44NzNsLS4wOCAxLjE3Ni0uMjM4IDEuMS0uMzcyIDEuMDYyLS41MDMuODcyLS42MzcuNzU5LS43MTYuNjA2TDk0LjE0OCA3NVYzOC45NjhaIiBmaWxsPSIjRkZCNUQ1Ii8+PC9nPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjAiIHkxPSI3NSIgeDI9Ijk0LjE0OCIgeTI9Ijc1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0ZFODg2NCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGNjhBRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",X=Object.defineProperty,J=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,Y=(fe,de,ue)=>de in fe?X(fe,de,{enumerable:!0,configurable:!0,writable:!0,value:ue}):fe[de]=ue,H=(fe,de)=>{for(var ue in de||(de={}))C.call(de,ue)&&Y(fe,ue,de[ue]);if(J)for(var ue of J(de))k.call(de,ue)&&Y(fe,ue,de[ue]);return fe};const te=fe=>React.createElement("svg",H({width:109,height:75,fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe),React.createElement("g",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd"},React.createElement("path",{d:"M109 31.004v29.584l-.053.91-.424 1.593-.743 1.251-1.034.873-.557.227-.637.076H15.117V31.004h34.477l.053 1.327.185 1.29.265 1.214.398 1.175 1.061 2.2 1.406 1.897 1.114 1.1 1.22.91 1.352.758 1.406.57 1.485.34 1.591.114 1.591-.113 1.486-.342 1.405-.569 1.353-.758 1.22-.91 1.113-1.1 1.406-1.897 1.06-2.2.399-1.175.265-1.214.186-1.29.053-1.327H109Z",fill:"#E1E1E1"}),React.createElement("path",{d:"m0 38.983 15.117-7.981V61.79l-.081 1.173-.243 1.097-.378 1.059-.513.87-.648.756-.729.605-7.612 4.577-.62.303-.595.113-.62-.038-1.134-.454-.972-1.02-.378-.644-.297-.794-.216-.984L0 67.426V38.983Z",fill:"#9CA3AF"}),React.createElement("path",{d:"M16.823 0h76.861v59.677l-.08.252-.243.218-.324.134-.431.068H17.902l-.431-.068-.324-.134-.243-.218-.08-.252V0Z",fill:"#D1D5DB"}),React.createElement("path",{d:"M94.148 38.969V75H4.243l-.769-.114-.716-.265-.663-.455-.583-.607-.504-.72-.425-.835-.318-.948-.185-1.024-.08-1.1V38.969h34.477l.053 1.593.186 1.327.265 1.252.398 1.251 1.06 2.276 1.406 2.01 1.114 1.138 1.22.948 1.352.797 2.122.796 2.36.266 2.36-.266 2.122-.796 1.353-.797 1.22-.948 1.114-1.138 1.405-2.01 1.061-2.276.398-1.251.265-1.252.186-1.327.053-1.593h36.598Z",fill:"#6B7280"}),React.createElement("path",{d:"M94.148 38.968 109 30.965v30.873l-.08 1.176-.238 1.1-.372 1.062-.503.872-.637.759-.716.606L94.148 75V38.968Z",fill:"#9CA3AF"})));var le="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA5IiBoZWlnaHQ9Ijc1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIG9wYWNpdHk9Ii41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwOSAzMS4wMDR2MjkuNTg0bC0uMDUzLjkxLS40MjQgMS41OTMtLjc0MyAxLjI1MS0xLjAzNC44NzMtLjU1Ny4yMjctLjYzNy4wNzZIMTUuMTE3VjMxLjAwNGgzNC40NzdsLjA1MyAxLjMyNy4xODUgMS4yOS4yNjUgMS4yMTQuMzk4IDEuMTc1IDEuMDYxIDIuMiAxLjQwNiAxLjg5NyAxLjExNCAxLjEgMS4yMi45MSAxLjM1Mi43NTggMS40MDYuNTcgMS40ODUuMzQgMS41OTEuMTE0IDEuNTkxLS4xMTMgMS40ODYtLjM0MiAxLjQwNS0uNTY5IDEuMzUzLS43NTggMS4yMi0uOTEgMS4xMTMtMS4xIDEuNDA2LTEuODk3IDEuMDYtMi4yLjM5OS0xLjE3NS4yNjUtMS4yMTQuMTg2LTEuMjkuMDUzLTEuMzI3SDEwOVoiIGZpbGw9IiNFMUUxRTEiLz48cGF0aCBkPSJtMCAzOC45ODMgMTUuMTE3LTcuOTgxVjYxLjc5bC0uMDgxIDEuMTczLS4yNDMgMS4wOTctLjM3OCAxLjA1OS0uNTEzLjg3LS42NDguNzU2LS43MjkuNjA1LTcuNjEyIDQuNTc3LS42Mi4zMDMtLjU5NS4xMTMtLjYyLS4wMzgtMS4xMzQtLjQ1NC0uOTcyLTEuMDItLjM3OC0uNjQ0LS4yOTctLjc5NC0uMjE2LS45ODRMMCA2Ny40MjZWMzguOTgzWiIgZmlsbD0iIzlDQTNBRiIvPjxwYXRoIGQ9Ik0xNi44MjMgMGg3Ni44NjF2NTkuNjc3bC0uMDguMjUyLS4yNDMuMjE4LS4zMjQuMTM0LS40MzEuMDY4SDE3LjkwMmwtLjQzMS0uMDY4LS4zMjQtLjEzNC0uMjQzLS4yMTgtLjA4LS4yNTJWMFoiIGZpbGw9IiNEMUQ1REIiLz48cGF0aCBkPSJNOTQuMTQ4IDM4Ljk2OVY3NUg0LjI0M2wtLjc2OS0uMTE0LS43MTYtLjI2NS0uNjYzLS40NTUtLjU4My0uNjA3LS41MDQtLjcyLS40MjUtLjgzNS0uMzE4LS45NDgtLjE4NS0xLjAyNC0uMDgtMS4xVjM4Ljk2OWgzNC40NzdsLjA1MyAxLjU5My4xODYgMS4zMjcuMjY1IDEuMjUyLjM5OCAxLjI1MSAxLjA2IDIuMjc2IDEuNDA2IDIuMDEgMS4xMTQgMS4xMzggMS4yMi45NDggMS4zNTIuNzk3IDIuMTIyLjc5NiAyLjM2LjI2NiAyLjM2LS4yNjYgMi4xMjItLjc5NiAxLjM1My0uNzk3IDEuMjItLjk0OCAxLjExNC0xLjEzOCAxLjQwNS0yLjAxIDEuMDYxLTIuMjc2LjM5OC0xLjI1MS4yNjUtMS4yNTIuMTg2LTEuMzI3LjA1My0xLjU5M2gzNi41OThaIiBmaWxsPSIjNkI3MjgwIi8+PHBhdGggZD0iTTk0LjE0OCAzOC45NjggMTA5IDMwLjk2NXYzMC44NzNsLS4wOCAxLjE3Ni0uMjM4IDEuMS0uMzcyIDEuMDYyLS41MDMuODcyLS42MzcuNzU5LS43MTYuNjA2TDk0LjE0OCA3NVYzOC45NjhaIiBmaWxsPSIjOUNBM0FGIi8+PC9nPjwvc3ZnPg==",ne=e(85893),ie=function(de){switch(de){case c.PK.LakeGreen:return g;case c.PK.SunsetOrange:return $;case c.PK.TwilightPurple:return R;case c.PK.LavenderPink:return W;case c.PK.BusinessBlack:return le;case c.PK.AshleyMinimalist:return le;default:return g}},ee=function(de){var ue=(0,h.uH)(),Se=(0,t.I)(ue.token)||{},ae=Se.name;return(0,ne.jsx)(d.Z,m()({image:ie(ae),description:"No data available",imageStyle:{height:40}},u()(de)==="object"?de:{}))}},70627:function(se,j,e){"use strict";e.d(j,{H:function(){return f}});var v=e(48997),m=e(59720),x=e(15867),u=e(67294),p=e(4511),d=e(26793),h=e(59251),t=e(85893),c=v.Z.Paragraph,i=v.Z.Text,a=v.Z.Link,f=function(n){var r=n.error,o=(0,p.cO)(),g=o.resetBoundary,y=(0,d.$)(),D=y.t,P=(0,t.jsx)(h.c,{children:"This is likely a internals bug. Please contact administrator for help."});return(0,t.jsx)("div",{style:{backgroundColor:"white"},children:(0,t.jsx)(m.ZP,{style:{maxWidth:"60vw",margin:"auto"},status:"error",title:D("Render Failed"),subTitle:P,extra:[(0,t.jsx)(x.ZP,{onClick:g,children:D("Try again")},"try")],children:(0,t.jsx)(c,{copyable:!0,children:(0,t.jsx)(i,{type:"danger",style:{whiteSpace:"pre-line",textAlign:"center"},children:r.stack})})})})}},77041:function(se,j,e){"use strict";e.d(j,{HN:function(){return n},hR:function(){return r}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(94350),d=e(67294),h=e(26793),t=e(98427),c=e(6145),i=e(81560),a=e(3329),f=e(85893),l=function(g){var y,D=(0,c.useCollectionManager_deprecated)(),P=D.getCollectionFields,E=D.getInterface,O=P(g);return O==null||(y=O.filter)===null||y===void 0?void 0:y.call(O,function(T){if(!T.interface)return!1;var S=E(T.interface);return!(!(S!=null&&S.filterable)||["deletedAt"].includes(T.interface))})},n=function(){var g,y=(0,p.useFieldSchema)(),D=(0,t.ngQ)(),P=D.dn,E=(0,c.useCollection_deprecated)(),O=E.name,T=l(O),S=(0,a.eJ)(),$=(0,h.$)(),Z=$.t,K=(y==null||(g=y["x-component-props"])===null||g===void 0?void 0:g.needFilterFields)||[];return(0,f.jsx)(i.bw,{title:Z("Filterable fields"),children:T.map(function(z){var w,A=K.includes(z.name);return(0,f.jsx)(i.hj,{checked:A,title:S(z==null||(w=z.uiSchema)===null||w===void 0?void 0:w.title),onChange:function(b){var R,L;y["x-component-props"]=(y==null?void 0:y["x-component-props"])||{};var N=(y==null||(R=y["x-component-props"])===null||R===void 0?void 0:R.needFilterFields)||[];if(b)N.push(z.name);else{var B=N.indexOf(z.name);N.splice(B,1)}y["x-component-props"].needFilterFields=N,P.emit("patch",{schema:(L={},m()(L,"x-uid",y["x-uid"]),m()(L,"x-component-props",u()({},y["x-component-props"])),L)}),P.refresh()}},z.name)})})},r=function(g){var y,D=(0,p.useField)(),P=(0,p.useFieldSchema)(),E=(0,t.ngQ)(),O=E.dn,T=(0,h.$)(),S=T.t;return(0,f.jsxs)(i.aN,u()(u()({},g),{},{disableInitializer:!0,children:[(0,f.jsx)(n,{}),(0,f.jsx)(i.Z5,{}),(0,f.jsx)(i.B0,{title:S("Edit button"),schema:{type:"object",title:S("Edit button"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:S("Button title"),default:P.title,"x-component-props":{}},icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:S("Button icon"),default:P==null||(y=P["x-component-props"])===null||y===void 0?void 0:y.icon,"x-component-props":{}}}},onSubmit:function(Z){var K,z=Z.title,w=Z.icon;P.title=z,D.title=z,D.componentProps.icon=w,P["x-component-props"]=P["x-component-props"]||{},P["x-component-props"].icon=w,O.emit("patch",{schema:(K={},m()(K,"x-uid",P["x-uid"]),m()(K,"title",z),m()(K,"x-component-props",u()({},P["x-component-props"])),K)}),O.refresh()}}),(0,f.jsx)(i.Z5,{}),(0,f.jsx)(i.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:function(Z){return Z["x-component"]==="Space"||Z["x-component"]==="ActionBar"}})]}))}},13794:function(se,j,e){"use strict";e.d(j,{Iu:function(){return m},Xs:function(){return u},fo:function(){return x}});var v=e(67294),m=(0,v.createContext)(null);m.displayName="RemoveConditionContext";var x=(0,v.createContext)(null);x.displayName="FilterContext";var u=(0,v.createContext)(null);u.displayName="FilterLogicContext"},80564:function(se,j,e){"use strict";e.d(j,{wn:function(){return Pe},Gz:function(){return I},tJ:function(){return V},Wm:function(){return Ae.Wm},PL:function(){return Ae.PL},V8:function(){return Ae.V8},tM:function(){return Ae.tM},xQ:function(){return Ae.xQ},Kg:function(){return Ae.Kg},aJ:function(){return Ae.aJ}});var v=e(97857),m=e.n(v),x=e(94350),u=e(67294),p=e(72029),d=e(9780),h=e(77041),t=e(68400),c=e.n(t),i=e(15009),a=e.n(i),f=e(99289),l=e.n(f),n=e(13769),r=e.n(n),o=e(5574),g=e.n(o),y=e(97133),D=e(86201),P=e(70173),E=e(15867),O=e(42075),T=e(26793),S=e(6574),$=e(3329),Z=e(76714),K=e(40454),z=e(16869),w=e(90635),A=e(96486),M=e(72322),b=e(85893),R,L,N,B=["options","onSubmit","onReset","h5Filter"],V=(0,u.createContext)(null);V.displayName="FilterActionContext";var U=["needFilterFields","nonfilterable","extraCollections"],I=(0,w.t)((0,x.observer)(function(Be){var Le=(0,T.$)(),Me=Le.t,Te=(0,x.useField)(),we=(0,u.useState)(!1),Ue=g()(we,2),je=Ue[0],De=Ue[1],ye=(0,$.ng)(),_e=ye.designable,q=ye.dn,pe=(0,x.useFieldSchema)(),Re=(0,u.useMemo)(function(){return Be.form||(0,D.createForm)()},[]),Oe=(0,d.w)(Be),$e=Oe.options,Ve=Oe.onSubmit,Ze=Oe.onReset,qe=Oe.h5Filter,Qe=r()(Oe,B),ke=(0,z.G)(),ft=ke.searchParams,vt=ke.setSearchParams,_t=ke.setFilterPopupVisible,Nt=ke.setIsFiltered,Kt=(0,u.useCallback)(function(dt){De(dt)},[]),ut=(0,b.jsx)(E.ZP,{style:qe?{flex:1,marginRight:20}:{},onClick:l()(a()().mark(function dt(){return a()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,Re.reset();case 2:Ze==null||Ze(Re.values),Te.title=Me("Filter"),De(!1),qe&&(vt({}),_t(!1),Nt(!1));case 6:case"end":return He.stop()}},dt)})),children:Me("Reset")}),Rt=(0,b.jsx)(E.ZP,{style:qe?{flex:1}:{},type:"primary",onClick:function(Bt){Bt.preventDefault(),Bt.stopPropagation(),De(!1),qe?(Ve==null||Ve(ft!=null&&ft.filter?{filter:{$and:[ft.filter,Re.values.filter]}}:Re.values),_t(!1),Nt(!0)):Ve==null||Ve(Re.values)},children:Me("Submit")}),Dt=(0,b.jsx)("form",{children:(0,b.jsxs)(S.RV,{form:Re,children:[(0,b.jsx)(M.iN,{value:{utc:!1},children:(0,b.jsx)(S.n6,{schema:{type:"object",properties:{filter:{type:"string",enum:$e||Te.dataSource,default:pe.default,"x-component":"Filter","x-component-props":{h5Filter:qe}}}}})}),qe?(0,b.jsxs)("div",{className:(0,y.cx)((0,y.css)(R||(R=c()([`
                  position: fixed;
                  bottom: 3rem;
                  display: flex;
                  justify-content: flex-end;
                  width: calc(100% - 3rem);
                `]))),"mb-action-box"),children:[ut,Rt]}):(0,b.jsx)("div",{className:(0,y.css)(L||(L=c()([`
                display: flex;
                justify-content: flex-end;
                width: 100%;
              `]))),children:(0,b.jsxs)(O.Z,{children:[(0,b.jsx)(F,{}),ut,Rt]})})]})});return(0,b.jsx)(V.Provider,{value:{field:Te,fieldSchema:pe,designable:_e,dn:q},children:qe?Dt:(0,b.jsx)(K.q,{destroyTooltipOnHide:!0,placement:"bottomLeft",open:je,onOpenChange:Kt,trigger:"click",content:Dt,children:(0,b.jsx)(Z.aU,m()(m()({},(0,A.omit)(Qe,U)),{},{title:Te.title||Be.title}))})})}),{displayName:"FilterAction"}),F=function(){var Le=(0,u.useContext)(V),Me=Le.fieldSchema,Te=Le.field,we=Le.designable,Ue=Le.dn,je=(0,x.useForm)(),De=(0,T.$)(),ye=De.t;return we?(0,b.jsx)(E.ZP,{type:"dashed",className:(0,y.css)(N||(N=c()([`
        border-color: var(--colorSettings);
        color: var(--colorSettings);
      `]))),onClick:function(){var q=m()({},je.values.filter);Me.default=q,Ue.emit("patch",{schema:{"x-uid":Me["x-uid"],default:W(q)}}),Ue.refresh()},children:ye("Save conditions")}):null};function W(Be){var Le=(0,P.flatten)(Be);return Object.keys(Le).forEach(function(Me){Le[Me]===void 0&&(Le[Me]=null)}),(0,P.unflatten)(Le)}var X=e(9783),J=e.n(X),C=e(19632),k=e.n(C),Y=e(34041),H=e(19553),te=e(72240),le=e(59251),ne=e(60094),ie=e(38089),ee=e(98427),fe=e(84327),de=e(13794),ue=function(Le){var Me,Te=(0,u.useContext)(de.fo),we=Te.dynamicComponent,Ue=Te.disabled,je=(0,$.Co)(we),De=(0,u.useMemo)(function(){return(0,D.createForm)({values:{value:Le.value},disabled:Ue,effects:function(){(0,D.onFieldValueChange)("value",function(q){var pe;Le==null||(pe=Le.onChange)===null||pe===void 0||pe.call(Le,q.value)})}})},[JSON.stringify(Le.value),Le.schema]),ye=(0,u.useCallback)(function(){var _e;return(0,b.jsx)(x.FieldContext.Provider,{value:null,children:(0,b.jsx)(S.n6,{schema:m()(m()({"x-component":"Input"},Le.schema),{},{"x-component-props":(0,fe.merge)((Le==null||(_e=Le.schema)===null||_e===void 0?void 0:_e["x-component-props"])||{},{style:{minWidth:150},className:"select-filter-dynamic"}),name:"value","x-read-pretty":!1,"x-validator":void 0,"x-decorator":void 0,"x-disabled":Ue})})})},[Le.schema,Ue]);return(0,b.jsx)(x.FormContext.Provider,{value:De,children:Le.schema&&je&&!((Me=Le.schema)!==null&&Me!==void 0&&Me.isPowerFlagBool)?u.createElement(je,{value:Le.value,collectionField:Le.collectionField,onChange:Le==null?void 0:Le.onChange,renderSchemaComponent:ye}):ye()})},Se=e(38632),ae,G,re,oe=(0,x.observer)(function(Be){var Le=(0,T.$)(),Me=Le.t,Te=(0,ee.eJW)(),we=(0,u.useContext)(de.Iu),Ue=(0,u.useContext)(de.fo),je=Ue.isSubTable,De=(0,Se.s)(),ye=De.schema,_e=De.fields,q=De.operators,pe=De.dataIndex,Re=De.operator,Oe=De.setDataIndex,$e=De.setOperator,Ve=De.value,Ze=De.setValue,qe=De.collectionField,Qe=(0,u.useMemo)(function(){return function(){if(!q)return q;var Kt=q.filter(function(ut){var Rt=ut.value;return Rt==="$hasIntersection"||Rt==="$notHasIntersection"?!!je:!0});return Kt}},[q,je]),ke=(0,u.useMemo)(function(){return{marginBottom:8}},[]),ft=(0,u.useMemo)(function(){return{label:"title",value:"name",children:"children"}},[]),vt=(0,u.useCallback)(function(Kt){Oe(Kt)},[Oe]),_t=(0,u.useCallback)(function(Kt){$e(Kt)},[$e]),Nt=(0,u.useMemo)(function(){return{color:"#bfbfbf"}},[]);return(0,b.jsx)("div",{style:ke,className:"nc-filter-item",children:(0,b.jsxs)(O.Z,{className:P.DEVICE_TYPE==="md"?(0,y.css)(ae||(ae=c()([`
                  display: flex;
                  flex-direction: column;
                  align-items: flex-start;
                `]))):void 0,children:[(0,b.jsx)(ie.Z,{role:"button","data-testid":"select-filter-field",className:(0,y.css)(G||(G=c()([`
              width: 160px;
            `]))),fieldNames:ft,changeOnSelect:!1,value:pe,options:Te(_e),onChange:vt,placeholder:Me("Select field")}),(0,b.jsx)(Y.default,{role:"button","data-testid":"select-filter-operator",className:(0,y.css)(re||(re=c()([`
              min-width: 110px;
            `]))),popupMatchSelectWidth:!1,value:Re==null?void 0:Re.value,options:Te(Qe()),onChange:_t,placeholder:Me("Comparision")}),Re!=null&&Re.noValue?null:(0,b.jsx)(ue,{value:Ve,schema:ye,collectionField:qe,onChange:Ze}),!Be.disabled&&(0,b.jsx)("a",{role:"button","aria-label":"icon-close",children:(0,b.jsx)(H.Z,{onClick:we,style:Nt})})]})})},{displayName:"FilterItem"}),ce=(0,x.observer)(function(Be){var Le,Me=(0,x.useField)();return(0,b.jsx)("div",{children:Me==null||(Le=Me.value)===null||Le===void 0?void 0:Le.filter(Boolean).map(function(Te,we){return(0,b.jsx)(de.Iu.Provider,{value:function(){return Me.remove(we)},children:(0,b.jsx)(x.ObjectField,{name:we,component:[Te.$and||Te.$or?be:oe]})},we)})})},{displayName:"FilterItems"}),be=(0,x.connect)(function(Be){var Le=Be.bordered,Me=Le===void 0?!0:Le,Te=Be.disabled,we=(0,x.useField)(),Ue=(0,u.useContext)(de.Iu),je=(0,T.$)(),De=je.t,ye=(0,ne.dQ)(),_e=ye.token,q=Object.keys(we.value||{}),pe=q.includes("$or")?"$or":"$and",Re=function(Ve){var Ze=we.value||{};we.value=J()({},Ve,k()(Ze[pe]||[]))},Oe=Te||we.disabled;return(0,b.jsx)(de.Xs.Provider,{value:pe,children:(0,b.jsxs)("div",{style:Me?{position:"relative",border:"1px dashed ".concat(_e.colorBorder),padding:_e.paddingSM,marginBottom:_e.marginXS}:{position:"relative",marginBottom:_e.marginXS},children:[Ue&&!Oe&&(0,b.jsx)("a",{role:"button","aria-label":"icon-close",children:(0,b.jsx)(H.Z,{style:{position:"absolute",right:10,top:10,color:"#bfbfbf"},onClick:function(){return Ue()}})}),(0,b.jsx)("div",{className:"meet_condi_sel",style:{marginBottom:8,color:_e.colorText},children:(0,b.jsxs)(le.c,{children:["Meet ",(0,b.jsxs)(Y.default,{role:"button","data-testid":"filter-select-all-or-any",style:{width:"auto"},value:pe,onChange:function(Ve){Re(Ve)},children:[(0,b.jsx)(Y.default.Option,{value:"$and",children:"All"}),(0,b.jsx)(Y.default.Option,{value:"$or",children:"Any"})]})," conditions in the group"]})}),(0,b.jsx)("div",{children:(0,b.jsx)(x.ArrayField,{name:pe,component:[ce],disabled:Oe})}),!Oe&&(0,b.jsxs)(O.Z,{size:16,style:{marginTop:8,marginBottom:8},children:[(0,b.jsx)("a",{onClick:function(){var Ve=we.value||{},Ze=Ve[pe]||[];Ze.push({}),we.value=J()({},pe,Ze),we.initialValue=J()({},pe,Ze)},children:P.isMobile?(0,b.jsx)(E.ZP,{style:{width:"50%"},icon:(0,b.jsx)(te.Z,{}),children:De("Add condition")}):De("Add condition")}),(0,b.jsx)("a",{onClick:function(){var Ve=we.value||{},Ze=Ve[pe]||[];Ze.push({$and:[{}]}),we.value=J()({},pe,Ze)},children:P.isMobile?(0,b.jsx)("div",{style:{borderTop:"1px solid #dcdcdc",paddingTop:16},children:(0,b.jsx)(E.ZP,{icon:(0,b.jsx)(te.Z,{}),children:De("Add condition group")})}):De("Add condition group")})]})]})})}),xe,ge=function(Le){var Me=(0,T.$)(),Te=Me.t,we=(0,$.ng)(),Ue=we.designable,je=we.dn,De=we.refresh,ye=(0,x.useFieldSchema)(),_e=(0,x.useForm)();return Ue?(0,b.jsx)(E.ZP,{className:(0,y.css)(xe||(xe=c()([`
        border-color: var(--colorSettings);
        color: var(--colorSettings);
      `]))),type:"dashed",onClick:function(){var pe,Re=ye==null||(pe=ye.parent)===null||pe===void 0||(pe=pe.parent)===null||pe===void 0||(pe=pe.parent)===null||pe===void 0||(pe=pe.properties)===null||pe===void 0?void 0:pe.filter;if(Re){var Oe=_e.values.filter;je.emit("patch",{schema:{"x-uid":Re["x-uid"],default:Oe}}),je.refresh(),Re.default=Oe,console.log("filterSchema",Oe)}},children:Te("Save conditions")}):null},he=function(Le){var Me=(0,x.useField)();return(0,p.QT)(function(){return Promise.resolve({data:Me.dataSource})},Le)},Pe=(0,w.t)((0,x.observer)(function(Be){var Le=Be.useDataSource,Me=Le===void 0?he:Le,Te=(0,d.w)(Be),we=Te.options,Ue=Te.dynamicComponent,je=Te.className,De=Te.collectionName,ye=(0,x.useField)(),_e=(0,x.useFieldSchema)();return Me({onSuccess:function(pe){ye.dataSource=(pe==null?void 0:pe.data)||[]}}),(0,u.useEffect)(function(){_e.defaultValue&&(ye.initialValue=_e.defaultValue)},[_e.defaultValue]),(0,b.jsx)("div",{className:je,children:(0,b.jsx)(de.fo.Provider,{value:{field:ye,fieldSchema:_e,dynamicComponent:Ue,options:we||ye.dataSource||[],disabled:Be.disabled,collectionName:De,isSubTable:Be.isSubTable},children:(0,b.jsx)(be,m()(m()({},Be),{},{bordered:!1}))})})}),{displayName:"Filter"});Pe.SaveDefaultValue=ge,Pe.Action=I,Pe.Action.Designer=h.hR;var Ae=e(89127)},89127:function(se,j,e){"use strict";e.d(j,{Kg:function(){return D},PL:function(){return T},V8:function(){return P},Wm:function(){return O},aJ:function(){return o},tM:function(){return S},xQ:function(){return g}});var v=e(97857),m=e.n(v),x=e(19632),u=e.n(x),p=e(94350),d=e(34444),h=e.n(d),t=e(96486),c=e.n(t),i=e(26793),a=e(79531),f=e(6145),l=e(87714),n=e(4277),r=e(98427),o=function(){var Z=(0,f.useCollectionManager_deprecated)(),K=Z.getCollectionFields,z=D();return function(w,A,M){var b=K(w,A),R=z(b,M);return R}},g=function(Z){var K=(0,f.useCollectionManager_deprecated)(),z=K.getCollectionFields,w=z(Z),A=P(w);return A},y=function(){var Z,K=(0,p.useFieldSchema)(),z=(K==null||(Z=K["x-component-props"])===null||Z===void 0?void 0:Z.needFilterFields)||[],w=z.length>0,A=(0,f.useCollectionManager_deprecated)(),M=A.getCollectionFields,b=A.getInterface,R=function(B,V,U){var I,F;if(!(w&&V===1&&!z.includes(B.name))&&B.interface){var W=b(B.interface);if(!(!(W!=null&&W.filterable)&&!U)){var X=(W==null?void 0:W.filterable)||{},J=X.nested,C=X.children,k=X.operators,Y={name:B.name,type:B.type,target:B.target,title:(B==null||(I=B.uiSchema)===null||I===void 0?void 0:I.title)||B.name,schema:B==null?void 0:B.uiSchema,interface:B.interface,operators:(k==null||(F=k.filter)===null||F===void 0?void 0:F.call(k,function(ne){return!(ne!=null&&ne.visible)||ne.visible(B)}))||[]};if(!(B.target&&V>2)){if(V>2)return Y;if(C!=null&&C.length&&(Y.children=C),J){var H,te=M(B.target),le=L(te,V+1).filter(Boolean);Y.children=Y.children||[],(H=Y.children).push.apply(H,u()(le))}return Y}}}},L=function(B,V,U){var I=[];return B.forEach(function(F){var W=R(F,V,U);W&&I.push(W)}),I};return L},D=function(){var Z=y();return function(K,z){return Z(K,1,z)}},P=function(Z){var K=y();return K(Z,1)},E=function(Z){return Array.isArray(Z)&&Z.length===0||Z&&Object.keys(Z).length===0&&Object.getPrototypeOf(Z)===Object.prototype},O=function(Z){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h(),z=K(Z||{}),w={};for(var A in z){var M=z[A];M!=null&&!E(M)&&(w[A]=M)}return K.unflatten(w)},T=function(){var Z=(0,f.useCollection_deprecated)(),K=Z.name,z=g(K),w=(0,a.BU)(),A=w.service,M=w.props;return S({options:z,service:A,params:M==null?void 0:M.params})},S=function(Z){var K=Z.options,z=Z.service,w=Z.params,A=(0,i.$)(),M=A.t,b=(0,p.useField)(),R=(0,n.tU)(),L=(0,p.useFieldSchema)(),N=(0,r.eJW)();return{options:K,onSubmit:function(V){var U,I,F=w.filter,W=O(V==null?void 0:V.filter);if(R==="manual"&&c().isEmpty(W))return z.mutate(void 0);var X=((U=z.params)===null||U===void 0||(U=U[1])===null||U===void 0?void 0:U.filters)||{};X.filterAction=W;var J=(0,l.EO)([].concat(u()(Object.values(c().cloneDeep(X))),[F]));Object.values(J).forEach(function(k,Y){var H,te=z==null||(H=z.defaultRequest)===null||H===void 0||(H=H.params)===null||H===void 0?void 0:H.filter;Y===0&&te&&k.push(te)}),z.run(m()(m()({},(I=z.params)===null||I===void 0?void 0:I[0]),{},{page:1,filter:J}),{filters:X});var C=(W==null?void 0:W.$and)||(W==null?void 0:W.$or);C!=null&&C.length?b.title=M("{{count}} filter items",{count:(C==null?void 0:C.length)||0}):b.title=N(L.title)||M("Filter")},onReset:function(){var V,U,I=w.filter,F=((V=z.params)===null||V===void 0||(V=V[1])===null||V===void 0?void 0:V.filters)||{};delete F.filterAction;var W=[m()(m()({},(U=z.params)===null||U===void 0?void 0:U[0]),{},{filter:(0,l.EO)([].concat(u()(Object.values(F)),[I])),page:1}),{filters:F}];if(R==="manual")return z.params=W,z.mutate(void 0);z.run.apply(z,W)}}}},38632:function(se,j,e){"use strict";e.d(j,{s:function(){return D}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(5574),d=e.n(p),h=e(94350),t=e(84327),c=e(34444),i=e.n(c),a=e(50361),f=e.n(a),l=e(27361),n=e.n(l),r=e(67294),o=e(6145),g=e(13794),y=function(){var E,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1?arguments[1]:void 0,S=T,$;return O==null||(E=O.forEach)===null||E===void 0||E.call(O,function(Z){var K=S.find(function(z){return z.name===Z});K&&($=K),S=(K==null?void 0:K.children)||[]}),$},D=function(){var E=(0,o.useCollection_deprecated)(),O=E.name,T=(0,o.useCollectionManager_deprecated)(),S=T.getCollectionJoinField,$=(0,h.useField)(),Z=(0,r.useContext)(g.fo)||{},K=Z.options,z=Z.collectionName,w=Z.field,A=i()($.value||{}),M=Object.keys(A).shift()||"",b=(0,r.useMemo)(function(){var U=M.split(".$"),I=d()(U,1),F=I[0],W=F===void 0?"":F;return S("".concat(z||O,".").concat(W))},[O,M]),R=(0,r.useCallback)(function(){var U,I,F;$.value=i().unflatten(u()({},"".concat((U=$.data.dataIndex)===null||U===void 0?void 0:U.join("."),".").concat((I=$.data)===null||I===void 0||(I=I.operator)===null||I===void 0?void 0:I.value),(F=$.data)===null||F===void 0?void 0:F.value))},[$]),L=function(){var I;if($.data=$.data||{},!(!M||!K)){var F=M.split(".$"),W=d()(F,2),X=W[0],J=X===void 0?"":X,C=W[1],k=C===void 0?"":C,Y=k.split(".",2),H=d()(Y,1),te=H[0],le=J.split("."),ne=y(le,K),ie=ne==null?void 0:ne.operators,ee=ie==null||(I=ie.find)===null||I===void 0?void 0:I.call(ie,function(ue){return ue.value==="$".concat(te)});if($.data.dataIndex=le,(le==null?void 0:le.length)>1){var fe=le.concat();fe.pop();var de=S("".concat(O,".").concat(fe.join(".")));w.collectionName=de==null?void 0:de.target}else w.collectionName=null;$.data.operators=ie,$.data.operator=ee,$.data.schema=(0,t.merge)(ne==null?void 0:ne.schema,ee==null?void 0:ee.schema),$.data.value=n()((0,c.unflatten)($.value),"".concat(J,".$").concat(te))}};(0,r.useEffect)(L,[$.path]);var N=(0,r.useCallback)(function(U){var I,F=y(U,K),W=F==null||(I=F.operators)===null||I===void 0?void 0:I[0];$.data=$.data||{},$.data.operators=F==null?void 0:F.operators,$.data.operator=W;var X=f()(F==null?void 0:F.schema),J=f()(W==null?void 0:W.schema);if($.data.schema=(0,t.merge)(X,J),$.data.dataIndex=U,(U==null?void 0:U.length)>1){var C=U.concat();C.pop();var k=S("".concat(O,".").concat(C.join(".")));w.collectionName=k==null?void 0:k.target}else w.collectionName=null;$.data.value=W!=null&&W.noValue?W.default||!0:void 0,R()},[R,$,K]),B=(0,r.useCallback)(function(U){var I,F,W=(I=$.data)===null||I===void 0||(I=I.operators)===null||I===void 0||(F=I.find)===null||F===void 0?void 0:F.call(I,function(k){return k.value===U});$.data.operator=W;var X=y($.data.dataIndex,K),J=f()(X==null?void 0:X.schema),C=f()(W==null?void 0:W.schema);$.data.schema=(0,t.merge)(J,C),$.data.value=W.noValue?W.default||!0:void 0,R()},[R,$.data,K]),V=(0,r.useCallback)(function(U){var I=M.split(".$"),F=d()(I,1),W=F[0],X=W===void 0?"":W,J=X.split("."),C=y(J,K);(C==null?void 0:C.schema["x-component"])==="MarkdownVditor"?$.data.value=U.replace(`
`,""):$.data.value=U,R()},[R,$.data]);return m()(m()({fields:K},($==null?void 0:$.data)||{}),{},{collectionField:b,setDataIndex:N,setOperator:B,setValue:V})}},38752:function(se,j,e){"use strict";e.d(j,{iT:function(){return W},Of:function(){return X},b:function(){return ee},l1:function(){return J},w5:function(){return ne},Ku:function(){return te},kJ:function(){return H},p3:function(){return Y},G5:function(){return ie},xj:function(){return k},rx:function(){return fe},eT:function(){return Se},q4:function(){return de}});var v=e(96695),m=e.n(v),x=e(97857),u=e.n(x),p=e(19632),d=e.n(p),h=e(9783),t=e.n(h),c=e(57134),i=e(94350),a=e(96486),f=e.n(a),l=e(67294),n=e(26793),r=e(5537),o=e(7340),g=e(6145),y=e(72594),D=e(53285),P=e(36586),E=e(81230),O=e(98427),T=e(35097),S=[{name:"editFieldTitle",type:"modal",useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,O.ngQ)(),be=ce.dn,xe=(0,i.useField)(),ge=(0,i.useFieldSchema)(),he=(0,g.useCollectionManager_deprecated)(),Pe=he.getCollectionJoinField,Ae=(0,g.useCollection_deprecated)(),Be=Ae.getField,Le=Be(ge.name)||Pe(ge["x-collection-field"]);return{title:oe("Edit field title"),schema:{type:"object",title:oe("Edit field title"),properties:{title:{title:oe("Field title"),default:xe==null?void 0:xe.title,description:"".concat(oe("Original field title: ")).concat(Le==null||(G=Le.uiSchema)===null||G===void 0?void 0:G.title),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(Te){var we=Te.title;we&&(xe.title=we,ge.title=we,be.emit("patch",{schema:{"x-uid":ge["x-uid"],title:ge.title}})),be.refresh()}}},useVisible:function(){var G=(0,i.useFieldSchema)(),re=(0,g.useCollectionManager_deprecated)(),oe=re.getCollectionJoinField,ce=(0,g.useCollection_deprecated)(),be=ce.getField,xe=be(G.name)||oe(G["x-collection-field"]);return!!xe}},{name:"displayTitle",type:"switch",useComponentProps:function(){var G,re,oe=(0,n.$)(),ce=oe.t,be=(0,O.ngQ)(),xe=be.dn,ge=(0,i.useField)(),he=(0,i.useFieldSchema)();return{title:ce("Display title"),checked:(G=(re=he["x-decorator-props"])===null||re===void 0?void 0:re.showTitle)!==null&&G!==void 0?G:!0,onChange:function(Ae){he["x-decorator-props"]=he["x-decorator-props"]||{},he["x-decorator-props"].showTitle=Ae,ge.decoratorProps.showTitle=Ae,xe.emit("patch",{schema:{"x-uid":he["x-uid"],"x-decorator-props":u()(u()({},he["x-decorator-props"]),{},{showTitle:Ae})}}),xe.refresh()}}}},{name:"editDescription",type:"modal",useComponentProps:function(){var G=(0,n.$)(),re=G.t,oe=(0,O.ngQ)(),ce=oe.dn,be=(0,i.useField)(),xe=(0,i.useFieldSchema)();return{title:re("Edit description"),schema:{type:"object",title:re("Edit description"),properties:{description:{default:be==null?void 0:be.description,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(he){var Pe=he.description;be.description=Pe,xe.description=Pe,ce.emit("patch",{schema:{"x-uid":xe["x-uid"],description:xe.description}}),ce.refresh()}}},useVisible:function(){var G=(0,i.useField)();return!G.readPretty}},{name:"editTooltip",type:"modal",useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,O.ngQ)(),be=ce.dn,xe=(0,i.useField)(),ge=(0,i.useFieldSchema)();return{title:oe("Edit tooltip"),schema:{type:"object",title:oe("Edit tooltip"),properties:{tooltip:{default:ge==null||(G=ge["x-decorator-props"])===null||G===void 0?void 0:G.tooltip,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(Pe){var Ae=Pe.tooltip;xe.decoratorProps.tooltip=Ae,ge["x-decorator-props"]=ge["x-decorator-props"]||{},ge["x-decorator-props"].tooltip=Ae,be.emit("patch",{schema:{"x-uid":ge["x-uid"],"x-decorator-props":ge["x-decorator-props"]}}),be.refresh()}}},useVisible:function(){var G=(0,i.useField)();return G.readPretty}},{name:"required",type:"switch",useComponentProps:function(){var G=(0,n.$)(),re=G.t,oe=(0,i.useField)(),ce=(0,i.useFieldSchema)(),be=(0,O.ngQ)(),xe=be.dn,ge=be.refresh;return{title:re("Required"),checked:ce.required,onChange:function(Pe){var Ae=t()({},"x-uid",ce["x-uid"]);oe.required=Pe,ce.required=Pe,Ae.required=Pe,xe.emit("patch",{schema:Ae}),ge()}}},useVisible:function(){var G=(0,i.useField)(),re=(0,i.useFieldSchema)(),oe=(0,T.Po)(),ce=oe.required,be=ce===void 0?!0:ce;return!G.readPretty&&re["x-component"]!=="FormField"&&be}}],$=e(77723),Z=e(43319),K=e(36248),z=e(21774),w=e(93329),A=e(22691),M=e(29124),b=e(94920),R=e(88773),L=e(25813),N=e(3329),B=e(37696),V=e(80564),U=e(22229),I=e(30970),F=e(85893),W={name:"allowAddNew",type:"switch",useVisible:function(){var G=(0,D.P5)(),re=Y(),oe=ne(),ce=ee();return!(G!=null&&G.isInSubTable)&&!re&&oe&&["Picker"].includes(ce)},useComponentProps:function(){var G=(0,n.$)(),re=G.t,oe=(0,i.useField)(),ce=(0,i.useFieldSchema)(),be=(0,N.ng)(),xe=be.dn,ge=be.refresh,he=be.insertAdjacent;return{title:re("Allow add new data"),checked:ce["x-add-new"],onChange:function(Ae){var Be=ce.reduceProperties(function(Te,we){return we["x-component"]==="Action"?we:Te},null);if(!Be){var Le={"x-action":"create","x-acl-action":"create",title:"{{t('Add new')}}","x-toolbar":"ActionSchemaToolbar","x-toolbar-props":{draggable:!1},"x-settings":"actionSettings:addNew","x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{openMode:"drawer",type:"default",component:"CreateRecordAction"}};he("afterBegin",Le)}var Me=t()({},"x-uid",ce["x-uid"]);oe["x-add-new"]=Ae,ce["x-add-new"]=Ae,Me["x-add-new"]=Ae,xe.emit("patch",{schema:Me}),ge()}}}},X=new r.F5({name:"FormItemSettings",items:[].concat(d()(S),[{name:"allowAddNewData",type:"switch",useVisible:function(){var G=Y(),re=ne(),oe=ee();return!G&&re&&["SubTable"].includes(oe)},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.refresh;return{title:oe("Allow add new"),checked:((G=be["x-component-props"])===null||G===void 0?void 0:G.allowAddnew)!==!1,onChange:function(Ae){var Be=t()({},"x-uid",be["x-uid"]);ce.componentProps.allowAddnew=Ae,be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].allowAddnew=Ae,Be["x-component-props"]=be["x-component-props"],ge.emit("patch",{schema:Be}),he()}}}},{name:"allowSelectExistingRecord",type:"switch",useVisible:function(){var G=Y(),re=ne(),oe=ee();return!G&&re&&["SubTable"].includes(oe)},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.refresh;return{title:oe("Allow selection of existing records"),checked:(G=be["x-component-props"])===null||G===void 0?void 0:G.allowSelectExistingRecord,onChange:function(Ae){var Be=t()({},"x-uid",be["x-uid"]);ce.componentProps.allowSelectExistingRecord=Ae,be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].allowSelectExistingRecord=Ae,Be["x-component-props"]=be["x-component-props"],ge.emit("patch",{schema:Be}),he()}}}},{name:"quickUpload",type:"switch",useVisible:function(){var G=ie(),re=k();return!re&&G},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.refresh;return{title:oe("Quick upload"),checked:((G=be["x-component-props"])===null||G===void 0?void 0:G.quickUpload)!==!1,onChange:function(Ae){var Be=t()({},"x-uid",be["x-uid"]);ce.componentProps.quickUpload=Ae,be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].quickUpload=Ae,Be["x-component-props"]=be["x-component-props"],ge.emit("patch",{schema:Be}),he()}}}},{name:"selectFile",type:"switch",useVisible:function(){var G=ie(),re=k();return!re&&G},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.refresh;return{title:oe("Select file"),checked:((G=be["x-component-props"])===null||G===void 0?void 0:G.selectFile)!==!1,onChange:function(Ae){var Be=t()({},"x-uid",be["x-uid"]);ce.componentProps.selectFile=Ae,be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].selectFile=Ae,Be["x-component-props"]=be["x-component-props"],ge.emit("patch",{schema:Be}),he()}}}},{name:"validationRules",type:"modal",useComponentProps:function(){var G=(0,n.$)(),re=G.t,oe=(0,i.useField)(),ce=(0,i.useFieldSchema)(),be=(0,N.ng)(),xe=be.dn,ge=be.refresh,he=de(),Pe=(0,g.useCollectionManager_deprecated)(),Ae=Pe.getCollectionJoinField,Be=(0,g.useCollection_deprecated)(),Le=Be.getField,Me=Le(ce.name)||Ae(ce["x-collection-field"]);return{title:re("Set validation rules"),components:{ArrayCollapse:c.ArrayCollapse,FormLayout:c.FormLayout},schema:{type:"object",title:re("Set validation rules"),properties:{rules:{type:"array",default:ce==null?void 0:ce["x-validator"],"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},maxItems:3,items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{header:'{{ t("Validation rule") }}'},properties:{index:{type:"void","x-component":"ArrayCollapse.Index"},layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:8,wrapperCol:16},properties:u()(u()({},he),{},{message:{type:"string",title:'{{ t("Error message") }}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:2,maxRows:2}}}})},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add validation rule") }}',"x-component":"ArrayCollapse.Addition","x-reactions":{dependencies:["rules"],fulfill:{state:{disabled:"{{$deps[0].length >= 3}}"}}}}}}}},onSubmit:function(we){var Ue,je=[],De=m()(we.rules),ye;try{for(De.s();!(ye=De.n()).done;){var _e=ye.value;je.push(f().pickBy(_e,f().identity))}}catch(Ve){De.e(Ve)}finally{De.f()}var q=t()({},"x-uid",ce["x-uid"]);if(["percent"].includes(Me==null?void 0:Me.interface)){var pe=m()(je),Re;try{for(pe.s();!(Re=pe.n()).done;){var Oe=Re.value;(Oe.maxValue||Oe.minValue)&&(Oe.percentMode=!0),Oe.percentFormat&&(Oe.percentFormats=!0)}}catch(Ve){pe.e(Ve)}finally{pe.f()}}var $e=f().concat([],(Me==null||(Ue=Me.uiSchema)===null||Ue===void 0?void 0:Ue["x-validator"])||[],je);oe.validator=$e,ce["x-validator"]=je,q["x-validator"]=je,xe.emit("patch",{schema:q}),ge()}}},useVisible:function(){var G=(0,o.bz)(),re=G.form,oe=k(),ce=de();return re&&!oe&&ce}},{name:"defaultValue",Component:z.N,useVisible:function(){var G=(0,M.SF)(),re=G.isAllowToSetDefaultValue;return re()}},{name:"dataScope",Component:Z.H,useVisible:function(){var G=fe(),re=k();return G&&!re},useComponentProps:function(){var G,re=(0,g.useCollectionManager_deprecated)(),oe=re.getCollectionJoinField,ce=re.getAllCollectionsInheritChain,be=(0,g.useCollection_deprecated)(),xe=be.getField,ge=(0,o.bz)(),he=ge.form,Pe=(0,P.a)(),Ae=(0,i.useField)(),Be=(0,i.useFieldSchema)(),Le=xe(Be.name)||oe(Be["x-collection-field"]),Me=(0,L.OQ)(),Te=(0,L.Kp)(),we=(0,N.ng)(),Ue=we.dn;return{collectionName:Le==null?void 0:Le.target,defaultFilter:(Be==null||(G=Be["x-component-props"])===null||G===void 0||(G=G.service)===null||G===void 0||(G=G.params)===null||G===void 0?void 0:G.filter)||{},form:he,dynamicComponent:function(De){return(0,F.jsx)(A.qj,u()(u()({},De),{},{form:he,collectionField:De.collectionField,record:Pe,shouldChange:(0,A.Vc)({collectionField:De.collectionField,variables:Me,localVariables:Te,getAllCollectionsInheritChain:ce})}))},onSubmit:function(De){var ye,_e=De.filter;_e=(0,V.Wm)(_e),f().set(Ae.componentProps,"service.params.filter",_e),Be["x-component-props"]=Ae.componentProps,Ue.emit("patch",{schema:(ye={},t()(ye,"x-uid",Be["x-uid"]),t()(ye,"x-component-props",Ae.componentProps),ye)})}}}},{name:"sortingRule",Component:w.w,useVisible:function(){var G=fe(),re=k();return G&&!re}},{name:"fieldMode",type:"select",useComponentProps:function(){var G=(0,n.$)(),re=G.t,oe=(0,i.useField)(),ce=(0,i.useFieldSchema)(),be=(0,N.ng)(),xe=be.dn,ge=(0,N.fd)(),he=J(),Pe=ee();return{title:re("Field component"),options:ge,value:Pe,onChange:function(Be){var Le=t()({},"x-uid",ce["x-uid"]);ce["x-component-props"]=ce["x-component-props"]||{},ce["x-component-props"].mode=Be,Le["x-component-props"]=ce["x-component-props"],oe.componentProps=oe.componentProps||{},oe.componentProps.mode=Be,(0,B.r$)(ce)&&he&&(Le.default=null,ce.default=null,oe.setInitialValue(null),oe.setValue(null)),xe.emit("patch",{schema:Le}),xe.refresh()}}},useVisible:ue},{name:"popupSize",type:"select",useComponentProps:function(){var G,re,oe=(0,n.$)(),ce=oe.t,be=(0,i.useField)(),xe=(0,i.useFieldSchema)(),ge=(0,N.ng)(),he=ge.dn;return{title:ce("Popup size"),options:[{label:ce("Small"),value:"small"},{label:ce("Middle"),value:"middle"},{label:ce("Large"),value:"large"}],value:(G=xe==null||(re=xe["x-component-props"])===null||re===void 0?void 0:re.openSize)!==null&&G!==void 0?G:"middle",onChange:function(Ae){be.componentProps.openSize=Ae,xe["x-component-props"]=be.componentProps,he.emit("patch",{schema:{"x-uid":xe["x-uid"],"x-component-props":xe["x-component-props"]}}),he.refresh()}}},useVisible:function(){var G,re=ue(),oe=(0,i.useFieldSchema)(),ce=((G=oe["x-component-props"])===null||G===void 0?void 0:G.mode)==="Picker",be=re&&ce;return be}},W,{name:"addMode",type:"select",useVisible:function(){var G=Y(),re=ne(),oe=ee();return!G&&re&&["Select"].includes(oe)},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.insertAdjacent;return{title:oe("Quick create"),options:[{label:oe("None"),value:"none"},{label:oe("Dropdown"),value:"quickAdd"},{label:oe("Pop-up"),value:"modalAdd"}],value:((G=ce.componentProps)===null||G===void 0?void 0:G.addMode)||"none",onChange:function(Ae){if(Ae==="modalAdd"){var Be=be.reduceProperties(function(Te,we){return we["x-component"]==="Action"?we:Te},null);if(!Be){var Le={"x-action":"create","x-acl-action":"create",title:"{{t('Add new')}}","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:addNew","x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{openMode:"drawer",type:"default",component:"CreateRecordAction"}};he("afterBegin",Le)}}var Me=t()({},"x-uid",be["x-uid"]);be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].addMode=Ae,Me["x-component-props"]=be["x-component-props"],ce.componentProps=ce.componentProps||{},ce.componentProps.addMode=Ae,ge.emit("patch",{schema:Me}),ge.refresh()}}}},{name:"multiple",type:"switch",useVisible:function(){var G=ne(),re=(0,b.K)();return G&&re()},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.refresh;return{title:oe("Allow multiple"),checked:((G=be["x-component-props"])===null||G===void 0?void 0:G.multiple)===void 0?!0:be["x-component-props"].multiple,onChange:function(Ae){var Be=t()({},"x-uid",be["x-uid"]);be["x-component-props"]=be["x-component-props"]||{},ce.componentProps=ce.componentProps||{},be["x-component-props"].multiple=Ae,ce.componentProps.multiple=Ae,Be["x-component-props"]=be["x-component-props"],ge.emit("patch",{schema:Be}),he()}}}},{name:"allowDissociate",type:"switch",useVisible:function(){var G,re=(0,b.K)(),oe=(0,i.useFieldSchema)(),ce=((G=oe["x-component-props"])===null||G===void 0?void 0:G.mode)==="Nester";return ce&&re()},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=xe.refresh;return{title:oe("Allow dissociate"),checked:((G=be["x-component-props"])===null||G===void 0?void 0:G.allowDissociate)!==!1,onChange:function(Ae){var Be=t()({},"x-uid",be["x-uid"]);be["x-component-props"]=be["x-component-props"]||{},ce.componentProps=ce.componentProps||{},be["x-component-props"].allowDissociate=Ae,ce.componentProps.allowDissociate=Ae,Be["x-component-props"]=be["x-component-props"],ge.emit("patch",{schema:Be}),he()}}}},{name:"enableLink",type:"switch",useVisible:function(){var G=Se(),re=Y(),oe=ie(),ce=(0,i.useFieldSchema)();return re&&G.length>0&&!oe&&ce["x-component"]==="CollectionField"},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn;return{title:oe("Enable link"),checked:((G=be["x-component-props"])===null||G===void 0?void 0:G.enableLink)!==!1,onChange:function(Pe){be["x-component-props"]=u()(u()({},be==null?void 0:be["x-component-props"]),{},{enableLink:Pe}),ce.componentProps.enableLink=Pe,ge.emit("patch",{schema:{"x-uid":be["x-uid"],"x-component-props":u()({},be==null?void 0:be["x-component-props"])}}),ge.refresh()}}}},{name:"pattern",type:"select",useVisible:function(){var G=(0,o.bz)(),re=G.form,oe=(0,i.useFieldSchema)();return re&&!(re!=null&&re.readPretty)&&!(0,R.V)(oe)},useComponentProps:function(){var G=(0,n.$)(),re=G.t,oe=(0,i.useField)(),ce=(0,i.useFieldSchema)(),be=(0,N.ng)(),xe=be.dn,ge="editable";return ce["x-disabled"]===!0&&(ge="readonly"),ce["x-read-pretty"]===!0&&(ge="read-pretty"),{title:re("Pattern"),options:[{label:re("Editable"),value:"editable"},{label:re("Readonly"),value:"readonly"},{label:re("Easy-reading"),value:"read-pretty"}],value:ge,onChange:function(Pe){var Ae=t()({},"x-uid",ce["x-uid"]);switch(Pe){case"readonly":{ce["x-read-pretty"]=!1,ce["x-disabled"]=!0,Ae["x-read-pretty"]=!1,Ae["x-disabled"]=!0,oe.readPretty=!1,oe.disabled=!0,f().set(oe,"initStateOfLinkageRules.pattern",(0,U.TF)(!0,$.Us.ReadOnly));break}case"read-pretty":{ce["x-read-pretty"]=!0,ce["x-disabled"]=!1,Ae["x-read-pretty"]=!0,Ae["x-disabled"]=!1,oe.readPretty=!0,f().set(oe,"initStateOfLinkageRules.pattern",(0,U.TF)(!0,$.Us.ReadPretty));break}default:{ce["x-read-pretty"]=!1,ce["x-disabled"]=!1,Ae["x-read-pretty"]=!1,Ae["x-disabled"]=!1,oe.readPretty=!1,oe.disabled=!1,f().set(oe,"initStateOfLinkageRules.pattern",(0,U.TF)(!0,$.Us.Editable));break}}xe.emit("patch",{schema:Ae}),xe.refresh()}}}},{name:"titleField",type:"select",useVisible:function(){var G=Se(),re=ne(),oe=ee();return G.length>0&&re&&oe!=="SubTable"},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn,he=Se(),Pe=(0,g.useCollectionField_deprecated)();return{title:oe("Title field"),options:he,value:ce==null||(G=ce.componentProps)===null||G===void 0||(G=G.fieldNames)===null||G===void 0?void 0:G.label,onChange:function(Be){var Le,Me=t()({},"x-uid",be["x-uid"]),Te=u()(u()(u()({},Pe==null||(Le=Pe.uiSchema)===null||Le===void 0||(Le=Le["x-component-props"])===null||Le===void 0?void 0:Le.fieldNames),ce.componentProps.fieldNames),{},{label:Be});be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].fieldNames=Te,Me["x-component-props"]=be["x-component-props"],ce.componentProps.fieldNames=be["x-component-props"].fieldNames,ge.emit("patch",{schema:Me}),ge.refresh()}}}},{name:"dateFormat",Component:K.y,useVisible:function(){var G=le(),re=["datetime","createdAt","updatedAt"].includes(G==null?void 0:G.interface);return re},useComponentProps:function(){var G=(0,i.useFieldSchema)();return{fieldSchema:G}}},{name:"size",type:"select",useVisible:function(){var G=Y(),re=le(),oe=(0,g.useCollectionManager_deprecated)(),ce=oe.getCollection,be=ce(re==null?void 0:re.target),xe=["attachment"].includes(re==null?void 0:re.interface)||(be==null?void 0:be.template)==="file";return G&&xe},useComponentProps:function(){var G,re=(0,n.$)(),oe=re.t,ce=(0,i.useField)(),be=(0,i.useFieldSchema)(),xe=(0,N.ng)(),ge=xe.dn;return{title:oe("Size"),options:[{label:oe("Large"),value:"large"},{label:oe("Default"),value:"default"},{label:oe("Small"),value:"small"}],value:(ce==null||(G=ce.componentProps)===null||G===void 0?void 0:G.size)||"default",onChange:function(Pe){var Ae=t()({},"x-uid",be["x-uid"]);be["x-component-props"]=be["x-component-props"]||{},be["x-component-props"].size=Pe,Ae["x-component-props"]=be["x-component-props"],ce.componentProps=ce.componentProps||{},ce.componentProps.size=Pe,ge.emit("patch",{schema:Ae}),ge.refresh()}}}},{name:"tagColor",type:"select",useVisible:function(){var G=ne(),re=ee();return G&&["Tag"].includes(re)},useComponentProps:function(){var G,re,oe=(0,n.$)(),ce=oe.t,be=(0,i.useField)(),xe=(0,i.useFieldSchema)(),ge=(0,N.ng)(),he=ge.dn,Pe=le(),Ae=(0,I.A8)((G=Pe==null?void 0:Pe.target)!==null&&G!==void 0?G:Pe==null?void 0:Pe.targetCollection);return{title:ce("Tag color field"),options:Ae,value:be==null||(re=be.componentProps)===null||re===void 0?void 0:re.tagColorField,onChange:function(Le){var Me=t()({},"x-uid",xe["x-uid"]);xe["x-component-props"]=xe["x-component-props"]||{},xe["x-component-props"].tagColorField=Le,Me["x-component-props"]=xe["x-component-props"],be.componentProps.tagColorField=Le,he.emit("patch",{schema:Me}),he.refresh()}}}},{name:"divider",type:"divider",useVisible:function(){var G=le();return!!G}},{name:"remove",type:"remove",useComponentProps:function(){var G=(0,n.$)(),re=G.t;return{removeParentsIfNoChildren:!0,confirm:{title:re("Delete field")},breakRemoveOn:{"x-component":"Grid"}}}}])});function J(){var ae=(0,P.a)(),G=f().isEmpty(f().omit(ae,["__parent","__collectionName"]));return G}function C(ae){return(ae==null?void 0:ae.template)==="file"}function k(){var ae=(0,o.bz)(),G=ae.form;return!!(G!=null&&G.readPretty)}function Y(){var ae=(0,E.z)(),G=ae.fieldSchema,re=(0,i.useField)();return re.readPretty||(G==null?void 0:G["x-read-pretty"])}function H(){var ae=(0,E.z)(),G=ae.fieldSchema,re=(0,i.useField)();return re.disabled||(G==null?void 0:G["x-disabled"])}function te(){var ae,G=(0,E.z)(),re=G.fieldSchema,oe=(0,i.useFieldSchema)(),ce=(0,i.useField)();return(ce==null||(ae=ce.data)===null||ae===void 0?void 0:ae.modifyOnly)||oe["x-component-props"].modifyOnly||(re==null?void 0:re.modifyOnly)}function le(){var ae=(0,g.useCollectionManager_deprecated)(),G=ae.getCollectionJoinField,re=(0,g.useCollection_deprecated)(),oe=re.getField,ce=(0,i.useFieldSchema)(),be=(0,E.z)(),xe=be.collectionField,ge=ce?oe(ce.name)||G(ce["x-collection-field"]):null;return ce?ge||xe:null}function ne(){var ae=le(),G=["obo","oho","o2o","o2m","m2m","m2o","updatedBy","createdBy"].includes(ae==null?void 0:ae.interface);return G}function ie(){var ae=(0,y.d9)(),G=le(),re=ae.getCollection(G==null?void 0:G.target),oe=C(re);return oe}function ee(){var ae,G=(0,i.useField)(),re=ie(),oe=(G==null||(ae=G.componentProps)===null||ae===void 0?void 0:ae.mode)||(re?"FileManager":"Select");return oe}function fe(){var ae=ee(),G=ne(),re=G&&ae==="Select";return re}function de(){var ae,G=(0,g.useCollectionManager_deprecated)(),re=G.getInterface,oe=(0,i.useFieldSchema)(),ce=le(),be=re(ce==null?void 0:ce.interface),xe=be==null||(ae=be.validateSchema)===null||ae===void 0?void 0:ae.call(be,oe);return xe}function ue(){var ae=(0,i.useFieldSchema)(),G=(0,N.fd)(),re=ae["x-component"]==="TableField",oe=ne(),ce=oe&&G&&!re;return ce}function Se(){var ae,G=(0,g.useCollectionManager_deprecated)(),re=G.getCollectionFields,oe=G.isTitleField,ce=(0,N.eJ)(),be=le(),xe=be!=null&&be.target?re(be==null?void 0:be.target):(ae=re(be==null?void 0:be.targetCollection))!==null&&ae!==void 0?ae:[],ge=xe.filter(function(he){return oe(he)&&!["deletedAt"].includes(he==null?void 0:he.interface)}).map(function(he){var Pe;return{value:he==null?void 0:he.name,label:ce(he==null||(Pe=he.uiSchema)===null||Pe===void 0?void 0:Pe.title)||(he==null?void 0:he.name)}});return ge}},89352:function(se,j,e){"use strict";e.d(j,{x:function(){return $e},Z:function(){return Ve}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(68400),d=e.n(p),h=e(97133),t=e(57134),c=e(86201),i=e(94350),a=e(67294),f=e(27655),l=e(75667),n=e(74614),r=e(44899),o=e(67668),g=e(81560),y=e(25813),D=e(59388),P=e(46504),E=e(27754),O=e(85893),T=function(){return(0,O.jsx)(g.aN,{schemaSettings:"FilterFormItemSettings"})},S=e(14432),$=e(85667),Z=e(70173),K=e(96486),z=e.n(K),w=e(19958),A=e(6145),M=e(49834),b=e(53285),R=e(65565),L=e(29132),N=function(qe,Qe){return _.isArray(qe)?_.isEmpty(_.filter(qe,function(ke){return(ke==null?void 0:ke[Qe])!=null})):(qe==null?void 0:qe[Qe])==null},B=function(qe){return qe.includes(".")},V=function(){var qe,Qe=(0,A.useCollection_deprecated)(),ke=Qe.name,ft=(0,A.useCollectionManager_deprecated)(),vt=ft.getCollectionJoinField,_t=(0,i.useForm)(),Nt=(0,M.nE)(),Kt=(0,i.useFieldSchema)(),ut=(0,y.OQ)(),Rt=(0,i.useField)(),Dt=(0,L.eI)(),dt=Dt.formValue,Bt=(0,b.P5)()||{},He=Bt.isInSubForm,ct=Bt.isInSubTable,St=(0,w.useAssociationNames)(),Tt=St.getAssociationAppends,Mt=Kt.name.toString(),Zt=(0,a.useMemo)(function(){return I(Nt,Mt)},[Nt,Mt]),Je=(0,a.useRef)(null),et=(0,a.useRef)(null);Je.current==null&&B(Mt)&&(Je.current=vt("".concat(ke,".").concat(Mt))),et.current==null&&B(Mt)&&(et.current=vt("".concat(ke,".").concat(Mt.split(".")[0])));var rt=(0,a.useMemo)(function(){return!B(Mt)||!ut||ke==="fields"||!Je.current||Zt},[Mt,ut,ke,Je.current,Zt]),yt=rt?{}:(0,$.untracked)(function(){return z().cloneDeep(He||ct?dt:_t.values)}),xt=B(Mt)&&et.current?z().get(yt,"".concat(Mt.split(".")[0],".").concat(((qe=et.current)===null||qe===void 0?void 0:qe.targetKey)||"id")):void 0;(0,a.useEffect)(function(){if(!rt&&!z().isEmpty(yt)){var Ct={name:"$nForm",ctx:yt,collectionName:ke},mt="{{ $nForm.".concat(Mt," }}");if(xt!=null){var at=Tt(),ht=at.appends;ut.parseVariable(mt,Ct,{appends:ht}).then(function(ot){var kt=ot.value;(0,Z.nextTick)(function(){var nn=(0,R.J)(kt,{targetCollectionField:Je.current});z().isEmpty(nn)&&!z().isNumber(nn)?Rt.value=null:Rt.value=nn})}).catch(function(ot){(0,Z.captureException)(ot)})}}},[xt,rt])},U=V;function I(Ze,qe){var Qe=z().get(Ze,qe);return Qe!=null&&JSON.stringify(Qe)!=="[{}]"&&JSON.stringify(Qe)!=="{}"}var F=e(15009),W=e.n(F),X=e(99289),J=e.n(X),C=e(36586),k=e(29250),Y=e(7340),H=e(58837),te=e(13511),le=e(90615),ne=e(44256),ie=e(76690),ee=e(37696),fe=e(21995),de=function(){var qe=(0,i.useField)(),Qe=(0,i.useFieldSchema)(),ke=(0,y.OQ)(),ft=(0,y.Kp)(),vt=(0,M.oV)(),_t=(0,b.P5)()||{},Nt=_t.isInAssignFieldValues,Kt=_t.isInSetDefaultValueDialog,ut=_t.isInFormDataTemplate,Rt=_t.isInSubTable,Dt=_t.isInSubForm,dt=(0,H.Kx)(),Bt=(0,fe.qs)(),He=Bt.isSpecialCase,ct=Bt.setDefaultValue,St=(0,C.pW)(),Tt=(0,Y.bz)(),Mt=Tt.type,Zt=Tt.form,Je=(0,k.Q)(),et=Je.getOperator,rt=(0,te.fp)(),yt=(0,a.useCallback)(function(xt){var Ct=ke==null?void 0:ke.getVariable(xt);return Ct||(Ct=ft.find(function(mt){return mt.name===xt})),Ct},[ft,ke]);(0,a.useEffect)(function(){if(Mt==="update"&&Qe.default&&qe.form===Zt){var xt,Ct;(xt=qe.setValue)===null||xt===void 0||xt.call(qe,vt==null||(Ct=vt.data)===null||Ct===void 0?void 0:Ct[Qe.name])}if(!(Qe.default==null||Kt||ut||(0,ee.r$)(Qe)||!(vt!=null&&vt.isNew)&&!Nt)){var mt=function(){var nn=J()(W()().mark(function Lt(){var hn,Dn,Gt,mn,qt,$t,Pn,vn,sn,Rn,un=arguments;return W()().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(hn=un.length>0&&un[0]!==void 0?un[0]:{},Dn=hn.forceUpdate,Gt=Dn===void 0?!1:Dn,!(ke&&qe&&((0,ie.cG)(Qe.default)&&qe.value==null||qe.value===Qe.default||Gt))){rn.next=30;break}if(!(0,ie.cG)(qe.value)){rn.next=5;break}return rn.next=5,qe.reset({forceClear:!0});case 5:return qe.loading=!0,mn=!Qe.name.toString().includes(".")&&(dt==null?void 0:dt.getField(Qe.name)),rn.next=10,ke.parseVariable(Qe.default,ft,{fieldOperator:et(Qe.name)});case 10:if(qt=rn.sent,$t=qt.value,Pn=qt.collectionName,vn=qt.dataSource,sn=vn===void 0?"main":vn,!(mn.target&&Pn&&mn.target!==Pn&&!Se({collectionName:mn.target,targetCollectionName:Pn,dm:rt,dataSource:sn}))){rn.next=18;break}return qe.loading=!1,rn.abrupt("return");case 18:if(Rn=(0,R.J)($t,{targetCollectionField:mn}),!(Rn==null||Rn==="")){rn.next=26;break}if(!qe.mounted){rn.next=24;break}return qe.setInitialValue(null),rn.next=24,qe.reset({forceClear:!0});case 24:rn.next=27;break;case 26:He()?St===0&&ct(Rn):qe.setInitialValue(Rn);case 27:qe.loading=!1,rn.next=31;break;case 30:!/\{\{.+\}\}/g.test(Qe.default)&&qe.setInitialValue&&qe.setInitialValue(Qe.default);case 31:case"end":return rn.stop()}},Lt)}));return function(){return nn.apply(this,arguments)}}(),at=z().debounce(mt,y.on);if((0,ie.cG)(Qe.default)){var ht=(0,ne.H)(Qe.default),ot=yt(ht);if(!ot)return(0,Z.captureException)("useParseDefaultValue: can not find variable ".concat(ht));mt();var kt=(0,$.reaction)(function(){var nn=u()({},ht,(ot==null?void 0:ot.ctx)||{}),Lt=(0,le.D)(Qe.default),hn=(0,Z.getValuesByPath)(nn,Lt);return hn===void 0?Math.random():hn},function(){return at({forceUpdate:!0})},{equals:z().isEqual});return kt}else qe.value==null&&(Rt||Dt)&&qe.setValue(Qe.default)}},[Qe.default,ft,Mt,et,rt,dt])},ue=de,Se=function(qe){var Qe,ke,ft=qe.collectionName,vt=qe.targetCollectionName,_t=qe.dm,Nt=qe.dataSource,Kt=_t==null||(Qe=_t.getDataSource(Nt))===null||Qe===void 0?void 0:Qe.collectionManager;return Kt==null||(ke=Kt.getCollection(ft))===null||ke===void 0||(ke=ke.getAllCollectionsInheritChain())===null||ke===void 0?void 0:ke.includes(vt)},ae=e(96695),G=e.n(ae),re=e(5574),oe=e.n(re);function ce(Ze,qe,Qe){if(Ze.calculator)return be(Ze,qe,Qe);if(Ze.group)return xe(Ze.group,qe,Qe);throw new Error("Invalid Calculation")}function be(Ze,qe,Qe){var ke=Ze.operands,ft=Ze.calculator,vt=ke.map(function(Bt){return ge(Bt,qe,Qe)}),_t=oe()(vt,2),Nt=_t[0],Kt=_t[1],ut=!Nt||Nt==="null"?null:Nt,Rt=!Kt||Kt==="null"?null:Kt,Dt={equal:function(He,ct){return He===ct},notEqual:function(He,ct){return He!==ct},gt:function(He,ct){return He>ct},gte:function(He,ct){return He>=ct},lt:function(He,ct){return He<ct},lte:function(He,ct){return He<=ct}},dt={includes:function(He,ct){return He.includes(ct)},notIncludes:function(He,ct){return!He.includes(ct)},startsWith:function(He,ct){return He.startsWith(ct)},notStartsWith:function(He,ct){return!He.startsWith(ct)},endsWith:function(He,ct){return He.endsWith(ct)},notEndsWith:function(He,ct){return!He.endsWith(ct)}};if(Dt[ft])return Dt[ft](+ut,+Rt);if(dt[ft])return dt[ft](String(ut),String(Rt));throw new Error("Invalid Calculator: ".concat(Ze.calculator))}function xe(Ze,qe,Qe){var ke=Ze.type,ft=Ze.calculations,vt=ft.map(function(Nt){return ce(Nt,qe,Qe)}),_t={and:function(Kt){return Kt.every(Boolean)},or:function(Kt){return Kt.some(Boolean)}};if(_t[ke])return _t[ke](vt);throw new Error("Invalid Group Type: ".concat(ke))}function ge(Ze,qe,Qe){return typeof Ze=="string"&&Ze.startsWith("{{")&&Ze.endsWith("}}")?he(Ze,qe,Qe):Ze}function he(Ze,qe,Qe){var ke=/\{\{\$nForm\.([\w.]+)\}\}/g;return Ze.replace(ke,function(ft,vt){var _t=vt.split("."),Nt=qe,Kt=G()(_t),ut;try{for(Kt.s();!(ut=Kt.n()).done;){var Rt=ut.value;if(!Nt[Rt])return null;Nt=Array.isArray(Nt[Rt])?Nt[Rt][Qe]||null:Nt[Rt]}}catch(Dt){Kt.e(Dt)}finally{Kt.f()}return Nt})}var Pe,Ae,Be,Le,Me,Te,we;t.FormItem.displayName="FormilyFormItem";var Ue=(0,h.css)(Pe||(Pe=d()([`
  & .ant-space {
    flex-wrap: wrap;
  }

  &.ant-formily-item-layout-vertical .ant-formily-item-label {
    line-height: 30px;
    padding: 0;
  }

  .ant-formily-item-label {
    color: var(--xwColorFormItemLabel);
    font-weight: 500;
    font-size: 15px;
  }

  .ant-formily-item-control {
    // \u89E3\u51B3 InternalViewer \u5185\u5BB9\u6EA2\u51FA\u95EE\u9898
    min-width: 0;
  }
`]))),je=(0,h.css)(Ae||(Ae=d()([`
  > .ant-formily-item-label {
    display: none;
  }
`]))),De=(0,h.css)(Be||(Be=d()([`
  .ant-formily-item-label-content {
    label {
      white-space: wrap;
    }
  }
`]))),ye=(0,h.css)(Le||(Le=d()([`
  display: flex;
  align-items: center;

  .ant-formily-item-control-content-component {
    line-height: 32px !important;

    .ant-nb-markdown {
      line-height: inherit !important;
    }

    .ant-rate {
      margin-top: 6px;
    }
  }
`]))),_e=(0,h.css)(Me||(Me=d()([`
  .ant-formily-item-control-content-component {
    display: flex;
    align-items: center;
    justify-content: flex-end;

    .rate-text {
      text-align: right;
    }
  }

  .ant-formily-item-extra {
    text-align: right;
  }
`]))),q=(0,h.css)(Te||(Te=d()([`
  .ant-formily-item-control-content-component {
    div[style] {
      white-space: wrap !important;
    }
  }
`]))),pe=(0,h.css)(we||(we=d()([`
  align-items: flex-start;
`]))),Re=function(qe,Qe,ke,ft){return ce(qe,ke,Qe)?"":ft},Oe=function(qe,Qe,ke,ft,vt){var _t=he(qe,ft,ke),Nt=f.evaluators.get(Qe),Kt=Nt.evaluate;try{return Kt(_t)?"":vt}catch(ut){return(0,Z.captureException)(ut),vt}},$e=(0,n.tl)((0,i.observer)(function(Ze){var qe,Qe,ke,ft,vt,_t,Nt,Kt,ut,Rt;(0,S.Zd)();var Dt=(0,i.useField)(),dt=(0,i.useFieldSchema)(),Bt=(0,D.Z)(),He=(0,y.OQ)(),ct=(0,r.z)()||{},St=ct.addActiveFieldName,Tt=dt["x-validator"];Array.isArray(Tt)&&Tt.forEach(function(mt){var at=mt.engine,ht=mt.message,ot=mt.calculation,kt=mt.mathExpression,nn=mt.formulaExpression;(0,c.registerValidateRules)(u()({},dt["x-uid"],function(){for(var Lt,hn,Dn=arguments.length,Gt=new Array(Dn),mn=0;mn<Dn;mn++)Gt[mn]=arguments[mn];var qt=Gt.slice(1),$t=(qt==null||(Lt=qt[1])===null||Lt===void 0||(Lt=Lt.field)===null||Lt===void 0?void 0:Lt.index)||0,Pn=(qt==null||(hn=qt[1])===null||hn===void 0||(hn=hn.field)===null||hn===void 0?void 0:hn.form)||{},vn=Pn.values,sn=vn===void 0?{}:vn;return at==="basic"?Re(ot,$t,sn,ht):at==="math.js"?Oe(kt,at,$t,sn,ht):at==="formula.js"?Oe(nn,at,$t,sn,ht):""}))}),(0,a.useEffect)(function(){He==null||He.registerVariable(Bt)},[Bt]),ue(),U(),(0,a.useEffect)(function(){St==null||St(dt.name)},[St,dt.name]);var Mt=(qe=(Qe=dt["x-decorator-props"])===null||Qe===void 0?void 0:Qe.showTitle)!==null&&qe!==void 0?qe:!0,Zt=(0,a.useMemo)(function(){var mt,at;return(mt=Dt.description)!==null&&mt!==void 0&&(at=mt.trim)!==null&&at!==void 0&&at.call(mt)?typeof Dt.description=="string"?(0,O.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,E.g)(Dt.description).split(`
`).join("<br/>")}}):Dt.description:null},[Dt.description]),Je=(0,a.useMemo)(function(){var mt;return(0,h.cx)(Ue,(mt={},u()(mt,je,Mt===!1),u()(mt,De,Mt===!0&&Z.isMobile),mt))},[Mt]),et=(dt==null||(ke=dt["x-component-props"])===null||ke===void 0||(ke=ke.layout)===null||ke===void 0?void 0:ke.includes("horizontal"))&&ye,rt=(dt==null||(ft=dt["x-component-props"])===null||ft===void 0||(ft=ft.layout)===null||ft===void 0?void 0:ft.includes("right"))&&_e,yt=(vt=(dt==null||(_t=dt["x-component-props"])===null||_t===void 0?void 0:_t.layout)&&(dt!=null&&(Nt=dt["x-component-props"])!==null&&Nt!==void 0&&(Nt=Nt.layout)!==null&&Nt!==void 0&&Nt.includes("horizontal")?"horizontal":"vertical"))!==null&&vt!==void 0?vt:"vertical",xt=(dt==null||(Kt=dt["x-component-props"])===null||Kt===void 0?void 0:Kt.enableOverflow)&&!(Dt!=null&&Dt.editable)&&q,Ct=(dt==null||(ut=dt["x-component-props"])===null||ut===void 0||(ut=ut.layout)===null||ut===void 0?void 0:ut.includes("horizontal"))&&(dt==null||(Rt=dt["x-component-props"])===null||Rt===void 0?void 0:Rt.isRate)&&pe;return(0,O.jsx)(o.YT,{allowNull:!0,children:(0,O.jsx)(P.j,{className:"nb-form-item",children:(0,O.jsx)(l.tq,{children:(0,O.jsx)(t.FormItem,m()(m()({className:"".concat((Ze==null?void 0:Ze.className)||""," ").concat(Je," ").concat(et," ").concat(rt," ").concat(xt," ").concat(Ct)},Ze),{},{extra:Zt,layout:yt}))})})})},{displayName:"FormItem"}));$e.Designer=function(){var qe=(0,n.qD)(),Qe=(0,i.useFieldSchema)(),ke="FormItemSettings:".concat(Qe["x-interface"]),ft="FormItemSettings",vt=qe.schemaSettingsManager.has(ke);return(0,O.jsx)(g.aN,{schemaSettings:vt?ke:ft})};function Ve(Ze){return(Ze==null?void 0:Ze.template)==="file"}$e.FilterFormDesigner=T},14432:function(se,j,e){"use strict";e.d(j,{Fy:function(){return A},Ni:function(){return w},q8:function(){return $},HG:function(){return R},QT:function(){return M},JE:function(){return K},$w:function(){return S},nB:function(){return L},Oc:function(){return Z},zd:function(){return z},mn:function(){return O},Zd:function(){return b}});var v=e(96695),m=e.n(v),x=e(97857),u=e.n(x),p=e(9783),d=e.n(p),h=e(57134),t=e(94350),c=e(84327),i=e(96486),a=e.n(i),f=e(67294),l=e(26793),n=e(79531),r=e(6145),o=e(81560),g=e(88773),y=e(3329),D=function(){var B=(0,t.useFieldSchema)(),V=(0,r.useCollection_deprecated)(),U=V.name,I=(0,r.useCollectionManager_deprecated)(),F=I.getCollectionFields,W=I.getInterface,X=(0,f.useMemo)(function(){var J,C,k=(J=B["x-designer-props"])===null||J===void 0?void 0:J.interface,Y=F(U);if(k){var H;return((H=W(k))===null||H===void 0||(H=H.filterable)===null||H===void 0?void 0:H.operators)||[]}var te=Y.find(function(le){return le.name===B.name});return((C=W(te==null?void 0:te.interface))===null||C===void 0||(C=C.filterable)===null||C===void 0?void 0:C.operators)||[]},[B.name]);return X},P=e(89352),E=e(85893),O=function(B){for(;B;){if(B["x-filter-operators"])return{operators:B["x-filter-operators"],uid:B["x-uid"]};B=B.parent}return{}},T=function(B){return{type:"void","x-component":"div",properties:_defineProperty({},B.name||uid(),B)}},S=function(){var B,V=(0,r.useCollectionManager_deprecated)(),U=V.getCollectionJoinField,I=(0,r.useCollection_deprecated)(),F=I.getField,W=(0,t.useField)(),X=(0,t.useFieldSchema)(),J=(0,l.$)(),C=J.t,k=(0,y.ng)(),Y=k.dn,H=F(X.name)||U(X["x-collection-field"]);return H?(0,E.jsx)(o.B0,{title:C("Edit field title"),schema:{type:"object",title:C("Edit field title"),properties:{title:{title:C("Field title"),default:W==null?void 0:W.title,description:"".concat(C("Original field title: ")).concat(H==null||(B=H.uiSchema)===null||B===void 0?void 0:B.title),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(le){var ne=le.title;ne&&(W.title=ne,X.title=ne,Y.emit("patch",{schema:{"x-uid":X["x-uid"],title:X.title}})),Y.refresh()}},"edit-field-title"):null},$=function(){var B=(0,t.useField)(),V=(0,t.useFieldSchema)(),U=(0,l.$)(),I=U.t,F=(0,y.ng)(),W=F.dn;return B.readPretty?null:(0,E.jsx)(o.B0,{title:I("Edit description"),schema:{type:"object",title:I("Edit description"),properties:{description:{default:B==null?void 0:B.description,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(J){var C=J.description;B.description=C,V.description=C,W.emit("patch",{schema:{"x-uid":V["x-uid"],description:V.description}}),W.refresh()}},"edit-description")},Z=function(){var B,V=(0,t.useField)(),U=(0,t.useFieldSchema)(),I=(0,l.$)(),F=I.t,W=(0,y.ng)(),X=W.dn;return V.readPretty?(0,E.jsx)(o.B0,{title:F("Edit tooltip"),schema:{type:"object",title:F("Edit description"),properties:{tooltip:{default:U==null||(B=U["x-decorator-props"])===null||B===void 0?void 0:B.tooltip,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(C){var k=C.tooltip;V.decoratorProps.tooltip=k,U["x-decorator-props"]=U["x-decorator-props"]||{},U["x-decorator-props"].tooltip=k,X.emit("patch",{schema:{"x-uid":U["x-uid"],"x-decorator-props":U["x-decorator-props"]}}),X.refresh()}},"edit-tooltip"):null},K=function(){var B=(0,t.useField)(),V=(0,t.useFieldSchema)(),U=(0,l.$)(),I=U.t,F=(0,y.ng)(),W=F.dn,X=F.refresh;return!B.readPretty&&V["x-component"]!=="FormField"?(0,E.jsx)(o.hj,{title:I("Required"),checked:V.required,onChange:function(C){var k=d()({},"x-uid",V["x-uid"]);B.required=C,V.required=C,k.required=C,W.emit("patch",{schema:k}),X()}},"required"):null},z=function(){var B,V=(0,r.useCollectionManager_deprecated)(),U=V.getInterface,I=V.getCollectionJoinField,F=(0,r.useCollection_deprecated)(),W=F.getField,X=(0,n.bz)(),J=X.form,C=(0,t.useField)(),k=(0,t.useFieldSchema)(),Y=(0,l.$)(),H=Y.t,te=(0,y.ng)(),le=te.dn,ne=te.refresh,ie=W(k.name)||I(k["x-collection-field"]),ee=U(ie==null?void 0:ie.interface),fe=ee==null||(B=ee.validateSchema)===null||B===void 0?void 0:B.call(ee,k);return J&&!(J!=null&&J.readPretty)&&fe?(0,E.jsx)(o.B0,{title:H("Set validation rules"),components:{ArrayCollapse:h.ArrayCollapse,FormLayout:h.FormLayout},schema:{type:"object",title:H("Set validation rules"),properties:{rules:{type:"array",default:k==null?void 0:k["x-validator"],"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},maxItems:3,items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{header:'{{ t("Validation rule") }}'},properties:{index:{type:"void","x-component":"ArrayCollapse.Index"},layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:8,wrapperCol:16},properties:u()(u()({},fe),{},{message:{type:"string",title:'{{ t("Error message") }}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:2,maxRows:2}}}})},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add validation rule") }}',"x-component":"ArrayCollapse.Addition","x-reactions":{dependencies:["rules"],fulfill:{state:{disabled:"{{$deps[0].length >= 3}}"}}}}}}}},onSubmit:function(ue){var Se,ae=[],G=m()(ue.rules),re;try{for(G.s();!(re=G.n()).done;){var oe=re.value;ae.push(a().pickBy(oe,a().identity))}}catch(Pe){G.e(Pe)}finally{G.f()}var ce=d()({},"x-uid",k["x-uid"]);if(["percent"].includes(ie==null?void 0:ie.interface)){var be=m()(ae),xe;try{for(be.s();!(xe=be.n()).done;){var ge=xe.value;(ge.maxValue||ge.minValue)&&(ge.percentMode=!0),ge.percentFormat&&(ge.percentFormats=!0)}}catch(Pe){be.e(Pe)}finally{be.f()}}var he=a().concat([],(ie==null||(Se=ie.uiSchema)===null||Se===void 0?void 0:Se["x-validator"])||[],ae);C.validator=he,k["x-validator"]=ae,ce["x-validator"]=ae,le.emit("patch",{schema:ce}),ne()}}):null},w=function(){var B,V=(0,r.useCollectionManager_deprecated)(),U=V.getCollectionJoinField,I=(0,r.useCollection_deprecated)(),F=I.getField,W=(0,n.bz)(),X=W.form,J=(0,t.useField)(),C=(0,t.useFieldSchema)(),k=(0,l.$)(),Y=k.t,H=(0,y.ng)(),te=H.dn,le=H.refresh,ne=F(C.name)||U(C["x-collection-field"]);return X&&!(X!=null&&X.readPretty)&&ne!==null&&ne!==void 0&&(B=ne.uiSchema)!==null&&B!==void 0&&B.type?(0,E.jsx)(o.B0,{title:Y("Set default value"),components:{ArrayCollapse:h.ArrayCollapse,FormLayout:h.FormLayout},schema:{type:"object",title:Y("Set default value"),properties:{default:u()(u()({},ne==null?void 0:ne.uiSchema),{},{name:"default",title:Y("Default value"),"x-decorator":"FormItem",default:C.default||(ne==null?void 0:ne.defaultValue)})}},onSubmit:function(ee){var fe=d()({},"x-uid",C["x-uid"]);J.value!==ee.default&&(J.value=ee.default),C.default=ee.default,fe.default=ee.default,te.emit("patch",{schema:fe}),le()}}):null},A=function(){var B,V=(0,r.useCollectionManager_deprecated)(),U=V.getCollectionJoinField,I=V.getCollection,F=(0,r.useCollection_deprecated)(),W=F.getField,X=(0,t.useField)(),J=(0,t.useFieldSchema)(),C=(0,l.$)(),k=C.t,Y=(0,y.ng)(),H=Y.dn,te=W(J.name)||U(J["x-collection-field"]),le=(0,y.fd)(),ne=["belongsTo","hasOne","hasMany","belongsToMany"].includes(te==null?void 0:te.type),ie=I(te==null?void 0:te.target),ee=(0,P.Z)(ie);return ne&&le?(0,E.jsx)(o.Qf,{title:k("Field component"),options:le,value:(X==null||(B=X.componentProps)===null||B===void 0?void 0:B.mode)||(ee?"FileManager":"Select"),onChange:function(de){var ue=d()({},"x-uid",J["x-uid"]);J["x-component-props"]=J["x-component-props"]||{},J["x-component-props"].mode=de,ue["x-component-props"]=J["x-component-props"],X.componentProps=X.componentProps||{},X.componentProps.mode=de,H.emit("patch",{schema:ue}),H.refresh()}},"field-mode"):null},M=function(){var B=(0,r.useCollectionManager_deprecated)(),V=B.getCollectionJoinField,U=(0,r.useCollection_deprecated)(),I=U.getField,F=(0,n.bz)(),W=F.form,X=(0,t.useField)(),J=(0,t.useFieldSchema)(),C=(0,l.$)(),k=C.t,Y=(0,y.ng)(),H=Y.dn,te=I(J.name)||V(J["x-collection-field"]),le="editable";return J["x-disabled"]===!0&&(le="readonly"),J["x-read-pretty"]===!0&&(le="read-pretty"),W&&!(W!=null&&W.readPretty)&&(te==null?void 0:te.interface)!=="o2m"&&!(0,g.V)(J)?(0,E.jsx)(o.Qf,{title:k("Pattern"),options:[{label:k("Editable"),value:"editable"},{label:k("Readonly"),value:"readonly"},{label:k("Easy-reading"),value:"read-pretty"}],value:le,onChange:function(ie){var ee=d()({},"x-uid",J["x-uid"]);switch(ie){case"readonly":{J["x-read-pretty"]=!1,J["x-disabled"]=!0,ee["x-read-pretty"]=!1,ee["x-disabled"]=!0,X.readPretty=!1,X.disabled=!0;break}case"read-pretty":{J["x-read-pretty"]=!0,J["x-disabled"]=!1,ee["x-read-pretty"]=!0,ee["x-disabled"]=!1,X.readPretty=!0;break}default:{J["x-read-pretty"]=!1,J["x-disabled"]=!1,ee["x-read-pretty"]=!1,ee["x-disabled"]=!1,X.readPretty=!1,X.disabled=!1;break}}H.emit("patch",{schema:ee}),H.refresh()}},"pattern"):null},b=function(){var B=(0,t.useFieldSchema)(),V=D(),U=O(B),I=U.operators;I&&V.length&&!I[B.name]&&(I[B.name]=V[0].value)},R=function(){var B=(0,y.eJ)(),V=(0,t.useFieldSchema)(),U=(0,t.useField)(),I=(0,l.$)(),F=I.t,W=(0,y.ng)(),X=W.dn,J=D(),C=O(V),k=C.operators,Y=k===void 0?{}:k,H=C.uid;return J.length&&!Y[V.name]&&(Y[V.name]=J[0].value),J.length?(0,E.jsx)(o.Qf,{title:F("Operator"),value:Y[V.name],options:B(J),onChange:function(le){var ne,ie,ee;Y[V.name]=le;var fe=J.find(function(G){return G.value===le}),de=(ne={},d()(ne,"x-uid",H),d()(ne,"x-filter-operators",Y),ne),ue={};if(fe!=null&&(ie=fe.schema)!==null&&ie!==void 0&&ie["x-component"]){var Se;a().set(V,"x-component-props.component",fe.schema["x-component"]),a().set(U,"componentProps.component",fe.schema["x-component"]),U.reset(),ue=u()({component:fe.schema["x-component"]},fe.schema["x-component-props"]),X.emit("patch",{schema:(Se={},d()(Se,"x-uid",V["x-uid"]),d()(Se,"x-component-props",ue),Se)})}else if((ee=V["x-component-props"])!==null&&ee!==void 0&&ee.component){var ae;a().set(V,"x-component-props.component",null),a().set(U,"componentProps.component",null),U.reset(),ue=u()({component:null},fe.schema["x-component-props"]),X.emit("patch",{schema:(ae={},d()(ae,"x-uid",V["x-uid"]),d()(ae,"x-component-props",ue),ae)})}U.componentProps=ue,X.emit("patch",{schema:de}),X.refresh()}},"operator"):null},L=function(){var B,V,U=(0,r.useCollectionManager_deprecated)(),I=U.getCollectionFields,F=U.getCollectionJoinField,W=(0,r.useCollection_deprecated)(),X=W.getField,J=(0,t.useField)(),C=(0,t.useFieldSchema)(),k=(0,l.$)(),Y=k.t,H=(0,y.ng)(),te=H.dn,le=(0,y.eJ)(),ne=X(C.name)||F(C["x-collection-field"]),ie=ne!=null&&ne.target?I(ne==null?void 0:ne.target):(B=I(ne==null?void 0:ne.targetCollection))!==null&&B!==void 0?B:[],ee=ie.filter(function(fe){return!(fe!=null&&fe.target)&&fe.type!=="boolean"}).map(function(fe){var de;return{value:fe==null?void 0:fe.name,label:le(fe==null||(de=fe.uiSchema)===null||de===void 0?void 0:de.title)||(fe==null?void 0:fe.name)}});return ee.length>0&&C["x-component"]==="CollectionField"?(0,E.jsx)(o.Qf,{title:Y("Title field"),options:ee,value:J==null||(V=J.componentProps)===null||V===void 0||(V=V.fieldNames)===null||V===void 0?void 0:V.label,onChange:function(de){var ue,Se=d()({},"x-uid",C["x-uid"]),ae=u()(u()(u()({},ne==null||(ue=ne.uiSchema)===null||ue===void 0||(ue=ue["x-component-props"])===null||ue===void 0?void 0:ue.fieldNames),J.componentProps.fieldNames),{},{label:de});C["x-component-props"]=C["x-component-props"]||{},C["x-component-props"].fieldNames=ae,Se["x-component-props"]=C["x-component-props"],J.componentProps.fieldNames=C["x-component-props"].fieldNames,te.emit("patch",{schema:Se}),te.refresh()}},"title-field"):null}},21995:function(se,j,e){"use strict";e.d(j,{k:function(){return o},qs:function(){return n}});var v=e(97857),m=e.n(v),x=e(19632),u=e.n(x),p=e(9783),d=e.n(p),h=e(94350),t=e(96486),c=e.n(t),i=e(67294),a=e(6145),f=e(37696),l=e(373),n=function(){var E=(0,h.useForm)(),O=(0,h.useFieldSchema)(),T=(0,a.useCollection_deprecated)(),S=T.getField,$=(0,a.useCollectionManager_deprecated)(),Z=$.getCollectionField,K=(0,i.useMemo)(function(){return S(O.name)},[O.name,S]),z=(0,i.useCallback)(function(){return o({collectionField:K,fieldSchema:O,getCollectionField:Z})},[K,O,Z]),w=(0,i.useCallback)(function(A){var M=r(O);if(M){var b=E.query(M.name).take();b&&b.setInitialValue(g(A,{field:b,subFieldSchema:O}))}},[O,E]);return{isSpecialCase:z,setDefaultValue:w}};function r(P){for(;(E=P)!==null&&E!==void 0&&E.parent;){var E;if(P=P.parent,(0,f.r$)(P))return P}return P}function o(P){var E=P.collectionField,O=P.fieldSchema,T=P.getCollectionField;if(E&&["hasOne","belongsTo"].includes(E.type)&&O){var S=r(O);if(S&&S["x-collection-field"]){var $=T(S["x-collection-field"]);if(["hasMany","belongsToMany"].includes($==null?void 0:$.type))return!0}}return!1}function g(P,E){var O=E.field,T=E.subFieldSchema,S=O.value,$=null;Array.isArray(P)?$=P.map(function(K){return d()({},T.name,K)}):$=[d()({},T.name,P)];var Z=c().assignWith(u()(S),$,function(K,z){return!K&&z&&(z.__notFromDatabase=!0),c().assign(m()({},S[0]),z)});return Z}function y(P){return P?!P.__notFromDatabase:!1}var D=function(E){var O=E.field;useEffect(function(){if(_.isEmpty(O.value)){var T=O.value;O.value=[markRecordAsNew({})],setTimeout(function(){O.value=T})}},[])}},21305:function(se,j,e){"use strict";e.d(j,{V:function(){return Z},z:function(){return K}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(57134),d=e(94350),h=e(15771),t=e(96486),c=e.n(t),i=e(67294),a=e(26793),f=e(79531),l=e(6145),n=e(4277),r=e(89265),o=e(36586),g=e(81560),y=e(43319),D=e(95354),P=e(6574),E=e(3329),O=e(80564),T=e(43759),S=e(64016),$=e(85893),Z=[1,2,3,4,6,8,12,24].reduce(function(z,w){return z[w]=w,z},{}),K=function(){var w,A,M,b,R,L=(0,l.useCollection_deprecated)(),N=L.name,B=L.title,V=(0,D.zy)(),U=(0,a.$)(),I=U.t,F=(0,d.useFieldSchema)(),W=(0,f.bz)(),X=W.form,J=(0,d.useField)(),C=(0,E.ng)(),k=C.dn,Y=(0,l.useSortFields)(N),H=(0,o.a)(),te=(F==null||(w=F["x-decorator-props"])===null||w===void 0||(w=w.params)===null||w===void 0?void 0:w.sort)||[],le=(F==null||(A=F["x-decorator-props"])===null||A===void 0?void 0:A.resource)||(F==null||(M=F["x-decorator-props"])===null||M===void 0?void 0:M.association),ne=J.decoratorProps.columnCount||T.he,ie=(0,i.useMemo)(function(){return{"x-component":"Slider","x-decorator":"FormItem","x-component-props":{min:1,max:24,marks:Z,tooltip:{formatter:function(ue){return"".concat(ue).concat(I("Column"))}},step:null}}},[I]),ee=(0,i.useMemo)(function(){return T.FR.reduce(function(de,ue){return de[ue]=u()(u()({},ie),{},{title:I(T.wl[ue]),description:"".concat(I("Screen size")," ").concat(T.UY[ue]," ").concat(I("pixels"))}),de},{})},[ie,I]),fe=te==null?void 0:te.map(function(de){return de.startsWith("-")?{field:de.substring(1),direction:"desc"}:{field:de,direction:"asc"}});return(0,$.jsx)(g.aN,{template:V,title:B||N,children:(0,$.jsxs)(P.G0,{components:{Slider:h.Z},children:[(0,$.jsx)(r.X,{}),(0,$.jsx)(y.H,{collectionName:N,defaultFilter:(F==null||(b=F["x-decorator-props"])===null||b===void 0||(b=b.params)===null||b===void 0?void 0:b.filter)||{},form:X,onSubmit:function(ue){var Se,ae=ue.filter;ae=(0,O.Wm)(ae),c().set(F,"x-decorator-props.params.filter",ae),J.decoratorProps.params=u()({},F["x-decorator-props"].params),k.emit("patch",{schema:(Se={},m()(Se,"x-uid",F["x-uid"]),m()(Se,"x-decorator-props",F["x-decorator-props"]),Se)})}}),(0,$.jsx)(g.B0,{title:I("Set default sorting rules"),components:{ArrayItems:p.ArrayItems},schema:{type:"object",title:I("Set default sorting rules"),properties:{sort:{type:"array",default:fe,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:Y,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:I("ASC"),value:"asc"},{label:I("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:I("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(ue){var Se,ae=ue.sort,G=ae.map(function(re){return re.direction==="desc"?"-".concat(re.field):re.field});c().set(F,"x-decorator-props.params.sort",G),J.decoratorProps.params=u()({},F["x-decorator-props"].params),k.emit("patch",{schema:(Se={},m()(Se,"x-uid",F["x-uid"]),m()(Se,"x-decorator-props",F["x-decorator-props"]),Se)})}}),(0,$.jsx)(n.jI,{}),(0,$.jsx)(g.Qf,{title:I("Records per page"),value:((R=J.decoratorProps)===null||R===void 0||(R=R.params)===null||R===void 0?void 0:R.pageSize)||20,options:T.Wv.map(function(de){return{value:de}}),onChange:function(ue){var Se;c().set(F,"x-decorator-props.params.pageSize",ue),J.decoratorProps.params=u()(u()({},F["x-decorator-props"].params),{},{page:1}),k.emit("patch",{schema:(Se={},m()(Se,"x-uid",F["x-uid"]),m()(Se,"x-decorator-props",F["x-decorator-props"]),Se)})}}),(0,$.jsx)(S.G,{componentName:"GridCard",collectionName:N,resourceName:le}),(0,$.jsx)(g.Z5,{}),(0,$.jsx)(g.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})})}},43759:function(se,j,e){"use strict";e.d(j,{FR:function(){return m},UY:function(){return u},Wv:function(){return v},he:function(){return p},wl:function(){return x}});var v=[12,24,60,96,120],m=["xs","md","lg","xxl"],x={xs:"Phone device",md:"Tablet device",lg:"Desktop device",xxl:"Large screen device"},u={xs:"< 768",md:"\u2265 768",lg:"\u2265 992",xxl:"\u2265 1600"},p={xs:1,md:2,lg:3,xxl:4}},98592:function(se,j,e){"use strict";e.r(j),e.d(j,{Action:function(){return M.aU},ActionBar:function(){return M.ol},ActionBarProvider:function(){return M.N0},ActionContext:function(){return M.fW},ActionContextProvider:function(){return M.EI},ActionDesigner:function(){return M.$L},AfterFailure:function(){return M.pE},AfterSuccess:function(){return M.$b},AntdSchemaComponentPlugin:function(){return Qn},AntdSchemaComponentProvider:function(){return $n},AppendsTreeSelect:function(){return Fr},AssignedFieldValues:function(){return M.eY},AssociationField:function(){return Oa},AssociationSelect:function(){return ml},AutoComplete:function(){return vu},BackButtonUsedInSubPage:function(){return ni.M},Block:function(){return Xu},BlockItem:function(){return Ui.j},ButtonEditor:function(){return M.C1},CardItem:function(){return hu},Cascader:function(){return yu},Checkbox:function(){return wa},CollectionSelect:function(){return Pu},ColorPicker:function(){return Iu},ColorSelect:function(){return Ru},Cron:function(){return gl},CronSet:function(){return zu},DEFAULT_FLUTTER_FILE_SOURCE_TYPES:function(){return Ol.xE},DataSourceCollectionCascader:function(){return Mu},DataSourceSelect:function(){return Eu},DatePicker:function(){return Na.Mt},DatePickerProvider:function(){return Na.iN},Details:function(){return Zu},DetailsDesigner:function(){return Te},EditComponent:function(){return Pe.Fy},EditDefaultValue:function(){return Pe.Ni},EditDescription:function(){return Pe.q8},EditOperator:function(){return Pe.HG},EditPattern:function(){return Pe.QT},EditRequired:function(){return Pe.JE},EditSortField:function(){return ys},EditTitle:function(){return Pe.$w},EditTitleField:function(){return Pe.nB},EditTooltip:function(){return Pe.Oc},EditValidationRules:function(){return Pe.zd},Editable:function(){return ms},EllipsisWithTooltip:function(){return la.BQ},Empty:function(){return Li.H},ErrorFallback:function(){return bt.H},Expand:function(){return _l},FLUTTER_FILE_SOURCE_TYPE:function(){return Ol.j2},FileSelector:function(){return Go.F},Filter:function(){return he.wn},FilterAction:function(){return he.Gz},FilterActionContext:function(){return he.tJ},FixedBlock:function(){return cr},FixedBlockDesignerItem:function(){return Pi},FixedBlockWrapper:function(){return bn},Form:function(){return de},FormDialog:function(){return Ni},FormField:function(){return bo},FormItem:function(){return ae.x},FormV2:function(){return fr},G2Plot:function(){return Cl},G2PlotRenderer:function(){return yl},GoogleReCaptcha:function(){return pd},Grid:function(){return ki},GridCard:function(){return Wi},HTMLEncode:function(){return la.gs},IconPicker:function(){return mc},Input:function(){return la.II},InputNumber:function(){return es},InputReadPretty:function(){return la.mX},InputRecordPicker:function(){return na.zD},Json:function(){return la.Ph},List:function(){return Vi},Markdown:function(){return rs},MarkdownReadPretty:function(){return os},Menu:function(){return Ga},MultipleLineEllipsisWithTooltip:function(){return la.pr},NanoIDInput:function(){return vd},Page:function(){return ja},PageEventEmitterContext:function(){return ua},PagePopups:function(){return ti.d9},PageTabs:function(){return Ci},Pagination:function(){return Tc},Password:function(){return Rc},Percent:function(){return jc},PopupSettingsProvider:function(){return Xi.D},Preview:function(){return Go.M},QuickEdit:function(){return Lc},Radio:function(){return fi},ReadPretty:function(){return la.iV},ReadPrettyRecordPicker:function(){return na.OD},RecordPicker:function(){return na.lb},RecordPickerContext:function(){return na.b7},RecordPickerProvider:function(){return na.sU},RefreshDataBlockRequest:function(){return M.x1},RemoteSelect:function(){return hr},RemoveButton:function(){return M.xZ},RequestSettings:function(){return M.Mk},RichText:function(){return wc.H},SaveMode:function(){return M.JV},SecondConFirm:function(){return M.y0},Select:function(){return zt},SkipValidation:function(){return M.co},Space:function(){return Nc},StablePopover:function(){return Ii.q},Table:function(){return ya},TableBlockDesigner:function(){return rd},TableField:function(){return Cs},TableSelectorDesigner:function(){return ad},TableV2:function(){return Ta},Tabs:function(){return Al},TabsContextProvider:function(){return Hi.c},Templates:function(){return Ir},TestDesigner:function(){return Ui.L},TimePicker:function(){return bs},TreeSelect:function(){return cd},UnixTimestamp:function(){return md},Upload:function(){return Gi},Variable:function(){return vi._w},VariableScopeProvider:function(){return vi.rj},WorkflowConfig:function(){return M.Fj},actionSettings:function(){return M.SL},actionSettingsItems:function(){return M.sB},allowAddNew:function(){return G.iT},defaultFieldNames:function(){return ot},fetchTemplateData:function(){return Mr},filterFormItemSettings:function(){return Be},findByUid:function(){return ui},findFilterOperators:function(){return Pe.mn},findKeys:function(){return us},findKeysByUid:function(){return ci},findMenuItem:function(){return ls},findSubMenu:function(){return ss},formDetailsSettings:function(){return Co},formItemSettings:function(){return G.Of},formSettings:function(){return po},formV1Settings:function(){return Se},genStyleHook:function(){return He.l6},getCurrentOptions:function(){return nn},getDatePickerLabels:function(){return na.C$},getLabelFormatValue:function(){return na.cN},getTopSubMenuTitle:function(){return xc},isFileCollection:function(){return ae.Z},isShowFilePicker:function(){return na.el},pageSettings:function(){return ei},pageTabSettings:function(){return Si},readPrettyFormSettings:function(){return So},removeNullCondition:function(){return he.Wm},storePopupContext:function(){return Ei.hK},useA:function(){return M.ig},useActionBarContext:function(){return M.DU},useActionContext:function(){return M.XC},useBackButton:function(){return ni.K},useCloseAction:function(){return M.p2},useColumnSchema:function(){return _s.z},useDataTemplates:function(){return _r},useDatePickerContext:function(){return Na.P1},useEnsureOperatorsValid:function(){return Pe.Zd},useFieldMode:function(){return G.b},useFieldNames:function(){return na.Xd},useFilterActionProps:function(){return he.PL},useFilterFieldOptions:function(){return he.V8},useFilterFieldProps:function(){return he.tM},useFilterOptions:function(){return he.xQ},useFixedBlock:function(){return Yn},useFixedSchema:function(){return yn},useGetAriaLabelOfAction:function(){return M.HS},useGetAriaLabelOfDrawer:function(){return M.vB},useGetAriaLabelOfModal:function(){return M.QY},useGetAriaLabelOfPopover:function(){return M.t9},useGetFilterFieldOptions:function(){return he.Kg},useGetFilterOptions:function(){return he.aJ},useGridContext:function(){return xl},useGridRowContext:function(){return oc},useIsAddNewForm:function(){return G.l1},useIsAssociationField:function(){return G.w5},useIsFieldOnlyModify:function(){return G.Ku},useIsFieldReadOnly:function(){return G.kJ},useIsFieldReadPretty:function(){return G.p3},useIsFileField:function(){return G.G5},useIsFormReadPretty:function(){return G.xj},useIsSelectFieldMode:function(){return G.rx},useLabelUiSchema:function(){return na.Il},useLinkageAction:function(){return M.zC},useStyles:function(){return Ic.y},useTabsContext:function(){return Hi.g},useTitleFieldOptions:function(){return G.eT},useValidateSchema:function(){return G.q4},useVariableScope:function(){return vi.ym}});var v={};e.r(v),e.d(v,{Action:function(){return M.aU},ActionBar:function(){return M.ol},ActionBarProvider:function(){return M.N0},ActionContext:function(){return M.fW},ActionContextProvider:function(){return M.EI},ActionDesigner:function(){return M.$L},AfterFailure:function(){return M.pE},AfterSuccess:function(){return M.$b},AntdSchemaComponentPlugin:function(){return Qn},AntdSchemaComponentProvider:function(){return $n},AppendsTreeSelect:function(){return Fr},AssignedFieldValues:function(){return M.eY},AssociationField:function(){return Oa},AssociationSelect:function(){return ml},AutoComplete:function(){return vu},BackButtonUsedInSubPage:function(){return ni.M},Block:function(){return Xu},BlockItem:function(){return Ui.j},ButtonEditor:function(){return M.C1},CardItem:function(){return hu},Cascader:function(){return yu},Checkbox:function(){return wa},CollectionSelect:function(){return Pu},ColorPicker:function(){return Iu},ColorSelect:function(){return Ru},Cron:function(){return gl},CronSet:function(){return zu},DEFAULT_FLUTTER_FILE_SOURCE_TYPES:function(){return Ol.xE},DataSourceCollectionCascader:function(){return Mu},DataSourceSelect:function(){return Eu},DatePicker:function(){return Na.Mt},DatePickerProvider:function(){return Na.iN},Details:function(){return Zu},DetailsDesigner:function(){return Te},EditComponent:function(){return Pe.Fy},EditDefaultValue:function(){return Pe.Ni},EditDescription:function(){return Pe.q8},EditOperator:function(){return Pe.HG},EditPattern:function(){return Pe.QT},EditRequired:function(){return Pe.JE},EditSortField:function(){return ys},EditTitle:function(){return Pe.$w},EditTitleField:function(){return Pe.nB},EditTooltip:function(){return Pe.Oc},EditValidationRules:function(){return Pe.zd},Editable:function(){return ms},EllipsisWithTooltip:function(){return la.BQ},Empty:function(){return Li.H},ErrorFallback:function(){return bt.H},Expand:function(){return _l},FLUTTER_FILE_SOURCE_TYPE:function(){return Ol.j2},FileSelector:function(){return Go.F},Filter:function(){return he.wn},FilterAction:function(){return he.Gz},FilterActionContext:function(){return he.tJ},FixedBlock:function(){return cr},FixedBlockDesignerItem:function(){return Pi},FixedBlockWrapper:function(){return bn},Form:function(){return de},FormDialog:function(){return Ni},FormField:function(){return bo},FormItem:function(){return ae.x},FormV2:function(){return fr},G2Plot:function(){return Cl},G2PlotRenderer:function(){return yl},GoogleReCaptcha:function(){return pd},Grid:function(){return ki},GridCard:function(){return Wi},HTMLEncode:function(){return la.gs},IconPicker:function(){return mc},Input:function(){return la.II},InputNumber:function(){return es},InputReadPretty:function(){return la.mX},InputRecordPicker:function(){return na.zD},Json:function(){return la.Ph},List:function(){return Vi},Markdown:function(){return rs},MarkdownReadPretty:function(){return os},Menu:function(){return Ga},MultipleLineEllipsisWithTooltip:function(){return la.pr},NanoIDInput:function(){return vd},Page:function(){return ja},PageEventEmitterContext:function(){return ua},PagePopups:function(){return ti.d9},PageTabs:function(){return Ci},Pagination:function(){return Tc},Password:function(){return Rc},Percent:function(){return jc},PopupSettingsProvider:function(){return Xi.D},Preview:function(){return Go.M},QuickEdit:function(){return Lc},Radio:function(){return fi},ReadPretty:function(){return la.iV},ReadPrettyRecordPicker:function(){return na.OD},RecordPicker:function(){return na.lb},RecordPickerContext:function(){return na.b7},RecordPickerProvider:function(){return na.sU},RefreshDataBlockRequest:function(){return M.x1},RemoteSelect:function(){return hr},RemoveButton:function(){return M.xZ},RequestSettings:function(){return M.Mk},RichText:function(){return wc.H},SaveMode:function(){return M.JV},SecondConFirm:function(){return M.y0},Select:function(){return zt},SkipValidation:function(){return M.co},Space:function(){return Nc},StablePopover:function(){return Ii.q},Table:function(){return ya},TableBlockDesigner:function(){return rd},TableField:function(){return Cs},TableSelectorDesigner:function(){return ad},TableV2:function(){return Ta},Tabs:function(){return Al},TabsContextProvider:function(){return Hi.c},Templates:function(){return Ir},TestDesigner:function(){return Ui.L},TimePicker:function(){return bs},TreeSelect:function(){return cd},UnixTimestamp:function(){return md},Upload:function(){return Gi},Variable:function(){return vi._w},VariableScopeProvider:function(){return vi.rj},WorkflowConfig:function(){return M.Fj},actionSettings:function(){return M.SL},actionSettingsItems:function(){return M.sB},allowAddNew:function(){return G.iT},defaultFieldNames:function(){return ot},fetchTemplateData:function(){return Mr},filterFormItemSettings:function(){return Be},findByUid:function(){return ui},findFilterOperators:function(){return Pe.mn},findKeys:function(){return us},findKeysByUid:function(){return ci},findMenuItem:function(){return ls},findSubMenu:function(){return ss},formDetailsSettings:function(){return Co},formItemSettings:function(){return G.Of},formSettings:function(){return po},formV1Settings:function(){return Se},genStyleHook:function(){return He.l6},getCurrentOptions:function(){return nn},getDatePickerLabels:function(){return na.C$},getLabelFormatValue:function(){return na.cN},getTopSubMenuTitle:function(){return xc},isFileCollection:function(){return ae.Z},isShowFilePicker:function(){return na.el},pageSettings:function(){return ei},pageTabSettings:function(){return Si},readPrettyFormSettings:function(){return So},removeNullCondition:function(){return he.Wm},storePopupContext:function(){return Ei.hK},useA:function(){return M.ig},useActionBarContext:function(){return M.DU},useActionContext:function(){return M.XC},useBackButton:function(){return ni.K},useCloseAction:function(){return M.p2},useColumnSchema:function(){return _s.z},useDataTemplates:function(){return _r},useDatePickerContext:function(){return Na.P1},useEnsureOperatorsValid:function(){return Pe.Zd},useFieldMode:function(){return G.b},useFieldNames:function(){return na.Xd},useFilterActionProps:function(){return he.PL},useFilterFieldOptions:function(){return he.V8},useFilterFieldProps:function(){return he.tM},useFilterOptions:function(){return he.xQ},useFixedBlock:function(){return Yn},useFixedSchema:function(){return yn},useGetAriaLabelOfAction:function(){return M.HS},useGetAriaLabelOfDrawer:function(){return M.vB},useGetAriaLabelOfModal:function(){return M.QY},useGetAriaLabelOfPopover:function(){return M.t9},useGetFilterFieldOptions:function(){return he.Kg},useGetFilterOptions:function(){return he.aJ},useGridContext:function(){return xl},useGridRowContext:function(){return oc},useIsAddNewForm:function(){return G.l1},useIsAssociationField:function(){return G.w5},useIsFieldOnlyModify:function(){return G.Ku},useIsFieldReadOnly:function(){return G.kJ},useIsFieldReadPretty:function(){return G.p3},useIsFileField:function(){return G.G5},useIsFormReadPretty:function(){return G.xj},useIsSelectFieldMode:function(){return G.rx},useLabelUiSchema:function(){return na.Il},useLinkageAction:function(){return M.zC},useStyles:function(){return Ic.y},useTabsContext:function(){return Hi.g},useTitleFieldOptions:function(){return G.eT},useValidateSchema:function(){return G.q4},useVariableScope:function(){return vi.ym}});var m=e(15009),x=e.n(m),u=e(99289),p=e.n(u),d=e(12444),h=e.n(d),t=e(72004),c=e.n(t),i=e(31996),a=e.n(i),f=e(26037),l=e.n(f),n=e(97857),r=e.n(n),o=e(67294),g=e(31601),y=e(13006),D=e(6574),P=e(89127),E=function(Q){return p()(x()().mark(function ve(){var Ce,Ee;return x()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.prev=0,Ie.next=3,this.api.request(Q);case 3:return Ee=Ie.sent,Ie.abrupt("return",Ee==null||(Ce=Ee.data)===null||Ce===void 0?void 0:Ce.data);case 7:return Ie.prev=7,Ie.t0=Ie.catch(0),Ie.abrupt("return",[]);case 10:case"end":return Ie.stop()}},ve,this,[[0,7]])}))},O=e(96486),T=e.n(O),S=e(94350),$=e(68392),Z=e(67205),K=e(87714),z=e(98427),w=e(3329),A=function(){var Q=(0,S.useField)(),ve=(0,S.useFieldSchema)(),Ce=(0,w.ng)(),Ee=Ce.dn,Fe=(0,Z.kO)(),Ie=Fe.getDataBlocks;return Q.data=Q.data||{},{onClick:function(){return p()(x()().mark(function Ke(){return x()().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Q.data.loading=!0,Xe.prev=1,Xe.next=4,Promise.all(Ie().map(function(){var Ge=p()(x()().mark(function st(nt){var it,lt,Et,Ut,At,tn;return x()().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(Et=(0,$.y)(ve,nt.uid),Et){on.next=3;break}return on.abrupt("return");case 3:if(Ut=((it=nt.service.params)===null||it===void 0?void 0:it[0])||{},At=(0,z.WmO)((ve==null||(lt=ve["x-component-props"])===null||lt===void 0?void 0:lt.filter)||{}),tn=(0,K.EO)([At,nt.defaultFilter]),!(nt.dataLoadingMode==="manual"&&T().isEmpty(tn))){on.next=8;break}return on.abrupt("return",nt.clearData());case 8:return on.abrupt("return",nt.doFilter(r()(r()({},Ut),{},{page:1,filter:tn})));case 9:case"end":return on.stop()}},st)}));return function(st){return Ge.apply(this,arguments)}}()));case 4:Xe.next=8;break;case 6:Xe.prev=6,Xe.t0=Xe.catch(1);case 8:Q.data.loading=!1;case 9:case"end":return Xe.stop()}},Ke,null,[[1,6]])}))()}}},M=e(76714),b=e(13769),R=e.n(b),L=e(57134),N=e(86201),B=e(28459),V=e(57953),U=e(72029),I=e(6145),F=e(81560),W=e(95354),X=e(64016),J=e(90635),C=e(85893),k=["form","children"],Y=["form","children","disabled"],H=["request","effects","initialValue","useValues"],te=function(Q){var ve=Q.form,Ce=Q.children,Ee=R()(Q,k),Fe=(0,S.useField)(),Ie=(0,S.useFieldSchema)(),Ne=(0,z.lIL)(ve.createVoidField(r()(r()({},Fe.props),{},{basePath:""})));return(0,C.jsx)(S.FieldContext.Provider,{value:void 0,children:(0,C.jsx)(S.FormContext.Provider,{value:ve,children:(0,C.jsx)(L.FormLayout,r()(r()({layout:"vertical"},Ee),{},{children:(0,C.jsx)(S.RecursionField,{basePath:Ne.address,schema:Ie,onlyRenderProperties:!0})}))})})},le=function(Q){return Q.children},ne=function(Q){var ve=Q.form,Ce=Q.children,Ee=Q.disabled,Fe=R()(Q,Y),Ie=(0,S.useField)(),Ne=(0,S.useFieldSchema)(),Ke=(0,z.lIL)(ve.createVoidField(r()(r()({},Ie.props),{},{basePath:""}))),ze=(0,z.Cor)(Ne["x-component"],le);return(0,o.useEffect)(function(){ve.disabled=Ee||Ie.disabled},[Ee,Ie.disabled]),(0,C.jsx)(B.ZP,{componentDisabled:Ee,children:(0,C.jsx)(S.FieldContext.Provider,{value:void 0,children:(0,C.jsx)(S.FormContext.Provider,{value:ve,children:(0,C.jsx)(L.FormLayout,r()(r()({layout:"vertical"},Fe),{},{children:(0,C.jsx)(S.FieldContext.Provider,{value:Ke,children:(0,C.jsx)(ze,r()(r()({},Ie.componentProps),{},{children:(0,C.jsx)(S.RecursionField,{basePath:Ke.address,schema:Ne,onlyRenderProperties:!0})}))})}))})})})},ie=function(Q){var ve=Q.request,Ce=Q.initialValue;return ve||function(){return Promise.resolve({data:Ce})}},ee=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,U.QT)(ie(ve),Q)},fe=(0,o.createContext)(null);fe.displayName="FormBlockContext";var de=(0,J.t)((0,S.observer)(function(me){var Q=me.request,ve=me.effects,Ce=me.initialValue,Ee=me.useValues,Fe=Ee===void 0?ee:Ee,Ie=R()(me,H),Ne=(0,S.useFieldSchema)(),Ke=(0,S.useField)(),ze=(0,o.useMemo)(function(){return(0,N.createForm)({effects:ve})},[]),Xe=Fe({uid:Ne["x-uid"],onSuccess:function(nt){return p()(x()().mark(function it(){var lt;return x()().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.next=2,ze.reset();case 2:lt=T().cloneDeep(nt==null?void 0:nt.data),ze.setValues(lt);case 4:case"end":return Ut.stop()}},it)}))()}},me),Ge=(0,o.useContext)(fe);return(0,C.jsx)(fe.Provider,{value:{parent:Ge,form:ze,result:Xe,field:Ke,fieldSchema:Ne},children:(0,C.jsx)(V.Z,{spinning:(Xe==null?void 0:Xe.loading)||!1,children:Ne["x-decorator"]==="Form"?(0,C.jsx)(ne,r()({form:ze},Ie)):(0,C.jsx)(te,r()({form:ze},Ie))})})},{displayName:"Form"}));de.Designer=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name,Ce=Q.title,Ee=(0,W.zy)();return(0,C.jsxs)(F.aN,{template:Ee,title:Ce||ve,children:[(0,C.jsx)(X.G,{componentName:"Form",collectionName:ve}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})};var ue=e(5537),Se=new ue.F5({name:"FormV1Settings",items:[{name:"template",Component:X.G,useComponentProps:function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name;return{componentName:"Form",collectionName:ve}}},{name:"divider",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]}),ae=e(89352),G=e(38752),re=e(9783),oe=e.n(re),ce=e(26793),be=e(79531),xe=e(36586),ge=e(25813),he=e(80564),Pe=e(14432),Ae=e(43319),Be=new ue.F5({name:"FilterFormItemSettings",items:[{name:"editFieldTitle",Component:Pe.$w},{name:"editDescription",Component:Pe.q8},{name:"editTooltip",Component:Pe.Oc},{name:"validationRules",Component:Pe.zd},{name:"setDataScope",Component:Ae.H,useVisible:function(){var Q=(0,G.rx)(),ve=(0,G.xj)();return Q&&!ve},useComponentProps:function(){var Q,ve=(0,I.useCollectionManager_deprecated)(),Ce=ve.getCollectionJoinField,Ee=ve.getAllCollectionsInheritChain,Fe=(0,I.useCollection_deprecated)(),Ie=Fe.getField,Ne=(0,be.bz)(),Ke=Ne.form,ze=(0,xe.a)(),Xe=(0,S.useField)(),Ge=(0,S.useFieldSchema)(),st=Ie(Ge.name)||Ce(Ge["x-collection-field"]),nt=(0,ge.OQ)(),it=(0,ge.Kp)(),lt=(0,w.ng)(),Et=lt.dn;return{collectionName:st==null?void 0:st.target,defaultFilter:(Ge==null||(Q=Ge["x-component-props"])===null||Q===void 0||(Q=Q.service)===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.filter)||{},form:Ke,dynamicComponent:function(At){return(0,C.jsx)(F.qj,r()(r()({},At),{},{form:Ke,collectionField:At.collectionField,record:ze,shouldChange:(0,F.Vc)({collectionField:At.collectionField,variables:nt,localVariables:it,getAllCollectionsInheritChain:Ee})}))},onSubmit:function(At){var tn,Qt=At.filter;Qt=(0,he.Wm)(Qt),T().set(Xe.componentProps,"service.params.filter",Qt),Ge["x-component-props"]=Xe.componentProps,Et.emit("patch",{schema:(tn={},oe()(tn,"x-uid",Ge["x-uid"]),oe()(tn,"x-component-props",Xe.componentProps),tn)})}}}},{name:"fieldMode",Component:Pe.Fy},{name:"operator",Component:Pe.HG},{name:"titleField",Component:Pe.nB},{name:"divider",type:"divider",useVisible:function(){var Q=(0,I.useCollectionManager_deprecated)(),ve=Q.getCollectionJoinField,Ce=(0,I.useCollection_deprecated)(),Ee=Ce.getField,Fe=(0,S.useFieldSchema)(),Ie=Ee(Fe.name)||ve(Fe["x-collection-field"]);return!!Ie}},{name:"remove",type:"remove",useComponentProps:function(){var Q=(0,ce.$)(),ve=Q.t;return{removeParentsIfNoChildren:!0,confirm:{title:ve("Delete field")},breakRemoveOn:{"x-component":"Grid"}}}}]}),Le=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name,Ce=Q.title,Ee=(0,W.zy)();return(0,C.jsx)(F.aN,{schemaSettings:"FormSettings",template:Ee,title:Ce||ve})},Me=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name,Ce=Q.title,Ee=(0,W.zy)();return(0,C.jsx)(F.aN,{schemaSettings:"ReadPrettyFormSettings",template:Ee,title:Ce||ve})},Te=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name,Ce=Q.title,Ee=(0,W.zy)();return(0,C.jsx)(F.aN,{schemaSettings:"FormDetailsSettings",template:Ee,title:Ce||ve})},we=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name,Ce=Q.title,Ee=(0,W.zy)();return(0,C.jsx)(F.aN,{schemaSettings:"blockSettings:filterForm",template:Ee,title:Ce||ve})},Ue=e(7340),je=e(68230),De=e(5574),ye=e.n(De),_e=e(68400),q=e.n(_e),pe=e(97133),Re=e(9361),Oe=e(85667),$e=e(84327),Ve=e(70173),Ze=e(31019),qe=e(77723),Qe=e(22229);function ke(me,Q){me.forEach(function(ve){var Ce;(Ce=ve.actions)===null||Ce===void 0||Ce.forEach(function(Ee){Q(Ee,ve)})})}var ft=e(90615),vt=e(44256),_t=e(76690),Nt=e(34588),Kt=e(9780),ut=e(21143),Rt=e(72594),Dt=e(42075),dt=e(34041),Bt=e(32268),He=e(60094),ct=e(52677),St=e.n(ct),Tt=e(54494),Mt=e(66309),Zt=e(96074),Je=e(27484),et=e.n(Je),rt=e(74214),yt=e(55556),xt=e(58812),Ct=e(96695),mt=e.n(Ct),at=e(19632),ht=e.n(at),ot={label:"label",value:"value",color:"color",options:"children"};function kt(me,Q){var ve=[];if(!Array.isArray(me))return ve;for(var Ce=0;Ce<me.length;Ce++){var Ee=me[Ce][Q.options];Array.isArray(Ee)&&ve.push.apply(ve,ht()(kt(Ee,Q))),ve.push(r()({},me[Ce]))}return ve}function nn(me,Q,ve){var Ce=kt(Q,ve),Ee=(0,O.castArray)(me).filter(function(Ie){return Ie!=null}).map(function(Ie){return(0,Ve.isPlainObject)(Ie)?Ie[ve.value]:Ie});function Fe(Ie){if(!Ie)return[];var Ne=[],Ke=mt()(Ee),ze;try{var Xe=function(){var st=ze.value,nt=Ie.find(function(it){return it[ve.value]==st})||{value:st,label:st&&st.toString()};Ne.push(nt)};for(Ke.s();!(ze=Ke.n()).done;)Xe()}catch(Ge){Ke.e(Ge)}finally{Ke.f()}return Ne}return Fe(Ce)}var Lt=e(67668),hn=(0,S.observer)(function(me){var Q,ve=r()(r()({},ot),me.fieldNames),Ce=(0,S.useField)(),Ee=(0,Lt.Hy)(),Fe=Ce.dataSource||me.options||(Ee==null?void 0:Ee.uiSchema.enum)||[],Ie=nn(Ce.value,Fe,ve);return(0,$e.isValid)(me.value)?(0,N.isArrayField)(Ce)&&(Ce==null||(Q=Ce.value)===null||Q===void 0?void 0:Q.length)===0?(0,C.jsx)("div",{}):(0,C.jsx)("div",{children:(0,C.jsx)(xt.B,{ellipsis:me.ellipsis,children:Ie.map(function(Ne,Ke){return(0,C.jsx)(Mt.Z,{color:Ne[ve.color],icon:Ne.icon,children:Ne[ve.label]},Ke)})})}):(0,C.jsx)("div",{})},{displayName:"ReadPretty"}),Dn=e(69677),Gt=e(54399),mn=e(31811),qt,$t,Pn,vn,sn=window.innerHeight,Rn=function(Q){return Q==="multiple"},un=function(Q){return Q==="tags"},jt=function(Q){var ve=Q.mode,Ce=Q.labelInValue,Ee=Q.defaultValue,Fe=Q.value,Ie=Q.options,Ne=Ie===void 0?[]:Ie,Ke=Q.loading,ze=Q.open,Xe=Q.fieldNames,Ge=Q.onSearch,st=Q.filterOption,nt=st===void 0?!0:st,it=Q.onDropdownVisibleChange,lt=Q.onSelectChange,Et=(0,S.useField)(),Ut=(0,ce.$)(),At=Ut.t,tn=(0,He.dQ)(),Qt=tn.token,on=(0,o.useState)(!1),Jt=ye()(on,2),Xt=Jt[0],On=Jt[1],Hn=(0,o.useState)(Math.floor(sn/2)),Zn=ye()(Hn,2),Jn=Zn[0],Nn=Zn[1],Cn=(0,o.useState)(""),pn=ye()(Cn,2),or=pn[0],vr=pn[1],gr=(0,o.useMemo)(function(){var fn=Ne.map(function(Fn){return Xe?{value:Fn[(Xe==null?void 0:Xe.value)||"value"],label:Fn[(Xe==null?void 0:Xe.label)||"label"]}:Fn});return nt?fn.filter(function(Fn){return!or||((Fn.label||"")+"").toLowerCase().includes((or||"").toLowerCase())}):fn},[or,Ne]),Wn=(0,o.useMemo)(function(){var fn=(Array.isArray(Fe)?Fe:[Fe]).filter(function(Fn){return Fn});return Ce?fn.map(function(Fn){return Fn==null?void 0:Fn.value}):fn},[Fe]),Xn=(0,o.useMemo)(function(){var fn=(Array.isArray(Ee)?Ee:[Ee]).filter(function(Fn){return Fn});return Ce?fn.map(function(Fn){return Fn==null?void 0:Fn.value}):fn},[Ee]);return(0,o.useEffect)(function(){var fn=function(){var kn=window.innerHeight,ur=kn<sn,Ln=Math.floor(ur?kn/4*3:sn/2);Nn(Ln)};return window.addEventListener("resize",fn),function(){window.removeEventListener("resize",fn)}},[]),(0,o.useEffect)(function(){!Xt&&vr(""),it==null||it(Xt)},[Xt]),(0,o.useEffect)(function(){On(!!ze)},[ze]),(0,o.useEffect)(function(){Ge==null||Ge(or)},[or]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(dt.default,{disabled:!0,labelInValue:!0,mode:ve,defaultValue:Ee,value:Fe,options:Ne,fieldNames:Xe,onClick:function(Fn){Fn.stopPropagation(),!(Q!=null&&Q.disabled)&&On(!0)},className:!(Q!=null&&Q.disabled)&&(0,pe.css)(qt||(qt=q()([`
            &.ant-select-disabled {
              .ant-select-selector {
                color: inherit !important;
                background: transparent !important;
                cursor: pointer !important;
                .ant-select-selection-search {
                  display: none;
                }
                .ant-select-selection-item {
                  color: inherit !important;
                }
              }
            }
          `]))),style:{width:"100%"}}),(0,C.jsxs)(Gt.GI,{destroyOnClose:!0,visible:Xt,onMaskClick:function(){On(!1)},className:(0,pe.css)($t||($t=q()([`
          .adm-popup-body {
            padding: `,`px 0;
          }
        `])),Qt.paddingSM),children:[(0,C.jsx)("div",{className:(0,pe.css)(Pn||(Pn=q()([`
            color: var(--xwColorFormItemLabel);
            font-weight: 500;
            font-size: 15px;
            padding: 0 `,`px;
          `])),Qt.paddingSM),children:(Et==null?void 0:Et.title)||""}),(0,C.jsx)("div",{style:{padding:Qt.paddingSM},children:(0,C.jsx)(Dn.Z,{prefix:(0,C.jsx)(mn.Z,{}),placeholder:At("Search"),onChange:function(Fn){vr(Fn.target.value)}})}),(0,C.jsx)(Gt.Su,{className:(0,pe.css)(vn||(vn=q()([`
            max-height: `,`px;
            overflow: auto;
            .adm-list-item-content {
              overflow: auto;
              .adm-list-item-content-main {
                font-size: 14px;
                color: `,`;
              }
            }
            .adm-check-list-item-active {
              .adm-list-item-content-main,
              .adm-check-list-item-extra {
                color: `,`;
              }
            }
          `])),Jn-106,Qt.colorText,Qt.colorPrimary),multiple:Rn(ve),defaultValue:Xn,value:Wn,onChange:function(Fn){var kn=Ne.filter(function(Or){return Fn.some(function(jr){return jr===Or[(Xe==null?void 0:Xe.value)||"value"]})});if(Ce){var ur=gr.filter(function(Or){return Fn.some(function(jr){return jr===Or.value})});if(Rn(ve)){var Ln;lt?lt(ur,kn):(Ln=Q.onChange)===null||Ln===void 0||Ln.call(Q,ur)}else{var sr;lt?lt(ur[0]||null,kn[0]||{}):(sr=Q.onChange)===null||sr===void 0||sr.call(Q,ur[0]||null),On(!1)}return}if(Rn(ve)){var Ur;lt?lt(Fn,kn):(Ur=Q.onChange)===null||Ur===void 0||Ur.call(Q,Fn)}else{var Kr;lt?lt(Fn[0]||null,kn[0]||{}):(Kr=Q.onChange)===null||Kr===void 0||Kr.call(Q,Fn[0]||null),On(!1)}},children:gr.length?gr.map(function(fn){return(0,C.jsx)(Gt.Su.Item,{value:fn.value,children:fn.label},fn.value)}):(0,C.jsx)("div",{style:{padding:"".concat(Qt.paddingSM,"px 0")},children:Ke?(0,C.jsx)(V.Z,{}):(0,C.jsx)(ut.Empty,{})})})]})]})},rn=null,An,En,gn=["value","options","onChange","fieldNames","mode","loading","rawOptions","defaultValue"],jn=["objectValue","loading","value","rawOptions","defaultValue","fieldNames","options"],Yt=function(Q){return!(0,$e.isValid)(Q)||St()(Q)==="object"&&Object.keys(Q).length===0},gt=function(Q){var ve=Q.value,Ce=Q.options,Ee=Q.onChange,Fe=Q.fieldNames,Ie=Q.mode,Ne=Q.loading,Ke=Q.rawOptions,ze=Q.defaultValue,Xe=R()(Q,gn),Ge=function(nt){var it;if(!Yt(nt)){var lt=(0,$e.toArr)(nt).filter(function(Ut){return Ut}).map(function(Ut){return(0,Ve.isPlainObject)(Ut)?Ut[Fe.value]:Ut}),Et=(it=nn(lt,Ce,Fe))===null||it===void 0?void 0:it.map(function(Ut){return{label:Ut[Fe.label],value:Ut[Fe.value]}});return["tags","multiple"].includes(Ie)||Q.multiple?Et:Et.shift()}};return Ve.isMobile?(0,C.jsx)(jt,r()(r()({},Q),{},{labelInValue:!0,mode:Ie,defaultValue:Ge(ze),value:Ge(ve),options:Ce,onChange:function(nt){var it=nn((0,$e.toArr)(nt).map(function(lt){return lt.value}),Ke||Ce,Fe);["tags","multiple"].includes(Ie)||Q.multiple?Ee==null||Ee(it):Ee==null||Ee(it.shift()||null)}})):(0,C.jsx)(dt.default,r()(r()({role:"button","data-testid":"select-object-".concat(Ie||"single"),value:Ge(ve),defaultValue:Ge(ze),allowClear:{clearIcon:(0,C.jsx)(rt.Z,{role:"button","aria-label":"icon-close-select"})},labelInValue:!0,notFoundContent:Ne?(0,C.jsx)(V.Z,{}):(0,C.jsx)(ut.Empty,{}),options:Ce,fieldNames:Fe,showSearch:!0,popupMatchSelectWidth:!1,filterOption:function(nt,it){var lt;return((lt=it==null?void 0:it[Fe.label||"label"])!==null&&lt!==void 0?lt:"").includes(nt)},filterSort:function(nt,it){var lt,Et;return((lt=nt==null?void 0:nt[Fe.label||"label"])!==null&&lt!==void 0?lt:"").toLowerCase().localeCompare(((Et=it==null?void 0:it[Fe.label||"label"])!==null&&Et!==void 0?Et:"").toLowerCase())},onChange:function(nt){var it=nn((0,$e.toArr)(nt).map(function(lt){return lt.value}),Ke||Ce,Fe);["tags","multiple"].includes(Ie)||Q.multiple?Ee==null||Ee(it):Ee==null||Ee(it.shift()||null)},mode:Ie,tagRender:function(nt){return(0,C.jsx)(Mt.Z,r()(r()({role:"button","aria-label":nt.label,closeIcon:(0,C.jsx)(yt.Z,{role:"button","aria-label":"icon-close-tag"})},nt),{},{children:nt.label}))}},Xe),{},{dropdownStyle:{maxWidth:Ve.DEVICE_TYPE==="md"&&"290px"},popupClassName:(0,pe.css)(An||(An=q()([`
        .ant-select-item {
          & > .ant-select-item-option-content {
            overflow: auto;
            white-space: normal;
            text-overflow: unset;
          }
        }
      `])))}))},wt=function(Q,ve){var Ce;return((Ce=ve==null?void 0:ve.label)!==null&&Ce!==void 0?Ce:"").toLowerCase().includes((Q||"").toLowerCase())},Vt=function(Q){return Array.isArray(Q)?Q.map(function(ve){return(0,O.omit)(ve,["style"])}):Q},It=(0,S.connect)(function(me){var Q=me.objectValue,ve=me.loading,Ce=me.value,Ee=me.rawOptions,Fe=me.defaultValue,Ie=me.fieldNames,Ne=me.options,Ke=R()(me,jn),ze=Vt(Ne),Xe=me.multiple?"multiple":me.mode;if(Xe&&!["multiple","tags"].includes(Xe)&&(Xe=void 0),Q)return(0,C.jsx)(gt,r()(r()({rawOptions:Ee,fieldNames:Ie,options:ze},Ke),{},{defaultValue:Fe,value:Ce,mode:Xe,loading:ve}));var Ge=function(nt){return["tags","multiple"].includes(me.mode)||me.multiple?nt?(0,$e.toArr)(nt):void 0:nt};return Ve.isMobile?(0,C.jsx)(jt,r()(r()({},me),{},{mode:Xe,defaultValue:Ge(Fe),value:Ge(Ce),options:ze})):(0,C.jsx)(dt.default,r()(r()({role:"button","data-testid":"select-".concat(Xe||"single"),showSearch:!0,filterOption:wt,allowClear:{clearIcon:(0,C.jsx)(rt.Z,{role:"button","aria-label":"icon-close-select"})},popupMatchSelectWidth:!1,notFoundContent:ve?(0,C.jsx)(V.Z,{}):(0,C.jsx)(ut.Empty,{}),value:Ge(Ce),defaultValue:Ge(Fe),tagRender:function(nt){return(0,C.jsx)(Mt.Z,r()(r()({role:"button","aria-label":nt.label,closeIcon:(0,C.jsx)(yt.Z,{role:"button","aria-label":"icon-close-tag"})},nt),{},{children:nt.label}))},fieldNames:Ie,options:ze},Ke),{},{onChange:function(nt){var it;(it=me.onChange)===null||it===void 0||it.call(me,nt===void 0?null:nt)},mode:Xe,dropdownStyle:{maxWidth:Ve.DEVICE_TYPE==="md"&&"290px"},popupClassName:(0,pe.css)(En||(En=q()([`
          .ant-select-item {
            & > .ant-select-item-option-content {
              overflow: auto;
              white-space: normal;
              text-overflow: unset;
            }
          }
        `])))}))},(0,S.mapProps)({dataSource:"options"},function(me,Q){return r()(r()({},me),{},{fieldNames:r()(r()({},ot),me.fieldNames),suffixIcon:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffixIcon})}),(0,S.mapReadPretty)(hn)),zt=It;zt.ReadPretty=hn;var In=zt,Tn=function(Q,ve){return(0,O.castArray)(Q).filter(function(Ce){return Ce!=null}).map(function(Ce){return St()(Ce)==="object"?Ce[ve.value]:Ce})},en=(0,S.observer)(function(me){var Q=r()(r()({},ot),me.fieldNames),ve=(0,S.useField)(),Ce=(0,S.useFieldSchema)(),Ee=(0,xe.a)(),Fe=(0,M.XC)(),Ie=Fe.snapshot,Ne=(0,U.QT)(Ie?p()(x()().mark(function ze(){return x()().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.abrupt("return",{data:Ee[Ce.name]});case 1:case"end":return Ge.stop()}},ze)})):r()(r()({action:"list"},me.service),{},{params:{paginate:!1,filter:oe()({},Q.value,{$in:Tn(ve.value,Q)})}}),{refreshDeps:[me.service,ve.value]}),Ke=Ne.data;return(0,C.jsx)(zt.ReadPretty,r()(r()({},me),{},{options:Ke==null?void 0:Ke.data}))},{displayName:"ReadPretty"}),qn=e(8341),er=e(44990),ar=["fieldNames","service","wait","value","defaultValue","objectValue","manual","mapOptions","targetField","CustomDropdownRender","optionFilter","dataSource"],nr="N/A",rr=(0,J.t)((0,S.connect)(function(me){var Q,ve,Ce=me.fieldNames,Ee=Ce===void 0?{}:Ce,Fe=me.service,Ie=Fe===void 0?{}:Fe,Ne=me.wait,Ke=Ne===void 0?300:Ne,ze=me.value,Xe=me.defaultValue,Ge=me.objectValue,st=me.manual,nt=st===void 0?!0:st,it=me.mapOptions,lt=me.targetField,Et=me.CustomDropdownRender,Ut=me.optionFilter,At=me.dataSource,tn=R()(me,ar),Qt=(0,er.FC)(),on=(0,qn.FE)(At||Qt),Jt=(0,o.useState)(!1),Xt=ye()(Jt,2),On=Xt[0],Hn=Xt[1],Zn=(0,o.useRef)(!1),Jn=(0,S.useFieldSchema)(),Nn=((Q=Jn["x-component-props"])===null||Q===void 0?void 0:Q.addMode)==="quickAdd",Cn=(0,I.useCollection_deprecated)(),pn=Cn.getField,or=(0,o.useRef)(null),vr=(0,I.useCollectionManager_deprecated)(),gr=vr.getCollectionJoinField,Wn=vr.getInterface,Xn=Jn["x-collection-field"]||Jn.name,fn=pn(Xn)||gr(Xn),Fn=lt||(fn==null?void 0:fn.target)&&(Ee==null?void 0:Ee.label)&&gr("".concat(fn.target,".").concat(Ee.label)),kn=(0,o.useMemo)(function(){return(0,Ve.getFilterOperatorByTargetField)(Fn,Wn)},[Fn]),ur=(0,w.eJ)(),Ln=(0,o.useCallback)(function(Po){try{return Po.filter(function(uo){return["number","string"].includes(St()(uo[Ee.value]))}).map(function(uo){var go,jo,Do=ur(uo[Ee.label]);if(Fn!=null&&(go=Fn.uiSchema)!==null&&go!==void 0&&go.enum)if(Array.isArray(Do))Do=Do.map(function(oa,Wa){var pa=Fn.uiSchema.enum.find(function(ga){return ga.value===oa});return pa?(0,C.jsx)(Mt.Z,{role:"button",color:pa.color,style:{marginRight:3},children:(pa==null?void 0:pa.label)||oa},Wa):(0,C.jsx)(Mt.Z,{role:"button",children:oa},oa)}).reverse();else{var qo=Fn.uiSchema.enum.find(function(oa){return oa.value===Do});qo&&(Do=(0,C.jsx)(Mt.Z,{role:"button",color:qo.color,children:qo.label}))}if((Fn==null?void 0:Fn.type)==="date"&&(Do=et()(Do).format("YYYY-MM-DD")),it){var ra;return it((ra={},oe()(ra,Ee.label,Do||nr),oe()(ra,Ee.value,uo[Ee.value]),ra))}return r()(r()({},uo),{},(jo={},oe()(jo,Ee.label,Do||nr),oe()(jo,Ee.value,uo[Ee.value]),jo))}).filter(Boolean)}catch(uo){return(0,Ve.captureException)(uo),Po}},[Fn==null?void 0:Fn.uiSchema,Ee]),sr=(0,U.QT)(r()(r()({action:"list"},Ie),{},{headers:on,params:r()(r()({pageSize:200},Ie==null?void 0:Ie.params),{},{filter:Ie==null||(ve=Ie.params)===null||ve===void 0?void 0:ve.filter})}),{manual:nt,debounceWait:Ke}),Ur=sr.data,Kr=sr.run,Or=sr.loading,jr=(0,o.useMemo)(function(){return JSON.stringify({service:Ie,fieldNames:Ee})},[Ie,Ee]),br=(0,o.useCallback)(function(){return or.current&&Et?(0,C.jsx)(Et,{search:or.current,callBack:function(){or.current=null,Hn(!1)}}):null},[or.current]);(0,o.useEffect)(function(){Zn.current&&Kr()},[jr]);var wr=function(){var Po=p()(x()().mark(function uo(go){var jo;return x()().wrap(function(qo){for(;;)switch(qo.prev=qo.next){case 0:Kr({filter:(0,K.EO)([go?oe()({},Ee.label,oe()({},kn,go)):{},Ie==null||(jo=Ie.params)===null||jo===void 0?void 0:jo.filter])}),or.current=go;case 2:case"end":return qo.stop()}},uo)}));return function(go){return Po.apply(this,arguments)}}(),so=(0,o.useMemo)(function(){var Po,uo=ze||Xe;if(!(Ur!=null&&(Po=Ur.data)!==null&&Po!==void 0&&Po.length))return uo!=null?Array.isArray(uo)?uo:[uo]:[];var go=uo!=null&&(Array.isArray(uo)?uo:[r()(r()({},uo),{},oe()({},Ee.value,uo[Ee.value]||uo))])||[],jo=typeof Ut=="function"?Ur.data.filter(Ut):Ur.data;return(0,O.uniqBy)(jo.concat(go!=null?go:[]),Ee.value)},[ze,Xe,Ur==null?void 0:Ur.data,Ee.value,Ut]),vo=function(uo){Hn(uo),or.current=null,uo&&Kr(),Zn.current=!0};return(0,C.jsx)(zt,r()(r()({open:On,popupMatchSelectWidth:!1,autoClearSearchValue:!0,filterOption:!1,filterSort:null,fieldNames:Ee,onSearch:wr,onDropdownVisibleChange:vo,objectValue:Ge,value:ze,defaultValue:Xe},tn),{},{loading:Ur?Or:!0,options:Ln(so),rawOptions:so,dropdownRender:function(uo){var go=so.some(function(jo){return jo[Ee.label]===or.current});return(0,C.jsx)(C.Fragment,{children:Nn?(0,C.jsxs)(C.Fragment,{children:[!((Ur==null?void 0:Ur.data.length)===0&&or!==null&&or!==void 0&&or.current)&&uo,(Ur==null?void 0:Ur.data.length)>0&&(or==null?void 0:or.current)&&!go&&(0,C.jsx)(Zt.Z,{style:{margin:0}}),!go&&(0,C.jsx)(br,{})]}):uo})}}))},(0,S.mapProps)({dataSource:"options"},function(me,Q){var ve,Ce=(0,S.useFieldSchema)();return r()(r()({},me),{},{fieldNames:r()(r()(r()(r()({},ot),me.fieldNames),Q.componentProps.fieldNames),(ve=Ce["x-component-props"])===null||ve===void 0?void 0:ve.fieldNames),suffixIcon:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffixIcon})}),(0,S.mapReadPretty)(en))),hr=rr;hr.ReadPretty=en;var Ar=null,_r=function(){var Q=(0,S.useFieldSchema)(),ve=(0,ce.$)(),Ce=ve.t,Ee=(0,Ue.bz)(),Fe=Ee.duplicateData,Ie=(0,I.useCollectionManager_deprecated)(),Ne=Ie.getCollectionJoinField;if(Fe)return Fe;var Ke=Sr(Q),ze=Ke.items,Xe=ze===void 0?[]:ze,Ge=Ke.display,st=Ge===void 0?!0:Ge;Xe.forEach(function(lt){try{var Et;lt.fields=(Et=lt.fields)===null||Et===void 0?void 0:Et.map(function(Ut){var At=Ne("".concat(lt.collection,".").concat(Ut));return At?Ut:""}).filter(Boolean)}catch(Ut){(0,Ve.error)(Ut),lt.fields=[]}});var nt=[{key:"none",title:Ce("None")}].concat(Xe.map(function(lt,Et){return r()(r()({key:Et},lt),{},{isLeaf:lt.dataId!==null&&lt.dataId!==void 0,titleCollectionField:(lt==null?void 0:lt.titleField)&&Ne("".concat(lt.collection,".").concat(lt.titleField))})})),it=Xe.find(function(lt){return lt.default});return{templates:nt,display:st,defaultTemplate:it,enabled:Xe.length>0&&Xe.every(function(lt){return lt.dataId||lt.dataScope})}},Ir=function(Q){var ve=Q.style,Ce=ve===void 0?{}:ve,Ee=Q.form,Fe=(0,He.dQ)(),Ie=Fe.token,Ne=_r(),Ke=Ne.templates,ze=Ne.display,Xe=Ne.enabled,Ge=Ne.defaultTemplate,st=(0,I.useCollectionManager_deprecated)(),nt=st.getCollectionJoinField,it=(0,Bt.ss)(Ke),lt=(0,o.useState)((Ge==null?void 0:Ge.key)||"none"),Et=ye()(lt,2),Ut=Et[0],At=Et[1],tn=(0,o.useState)(null),Qt=ye()(tn,2),on=Qt[0],Jt=Qt[1],Xt=(0,U.LY)(),On=(0,ce.$)(),Hn=On.t;(0,o.useEffect)(function(){Xe&&Ge&&Ee&&(Ee.__template=!0,Ge.key==="duplicate"&&Cn(Ge.dataId,Ge))},[]),(0,o.useEffect)(function(){it!=null&&it.some(function(or){return or.key===Ut})||Nn("none")},[it]);var Zn=(0,o.useMemo)(function(){return r()({display:"flex",alignItems:"center",backgroundColor:Ie.colorFillAlter,padding:"1em"},Ce)},[Ce,Ie.colorFillAlter]),Jn=(0,o.useMemo)(function(){return{fontSize:Ie.fontSize,fontWeight:"bold",whiteSpace:"nowrap",marginRight:Ie.marginXS}},[Ie.fontSize,Ie.marginXS]),Nn=(0,o.useCallback)(function(){var or=p()(x()().mark(function vr(gr){return x()().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:At(gr),Jt(null),Ee==null||Ee.reset();case 3:case"end":return Xn.stop()}},vr)}));return function(vr){return or.apply(this,arguments)}}(),[]),Cn=(0,o.useCallback)(function(){var or=p()(x()().mark(function vr(gr,Wn){var Xn;return x()().wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:Xn=r()(r()({},Wn),{},{dataId:gr}),Jt(Wn),Mr(Xt,Xn,Hn).then(function(kn){return Ee&&kn&&(Ee.reset(),Ee.__template=!0,(0,Ve.forEach)(kn,function(ur,Ln){if(ur){var sr;Ee.values[Ln]=ur,Ee==null||(sr=Ee.setInitialValuesIn)===null||sr===void 0||sr.call(Ee,Ln,ur)}})),kn}).catch(function(kn){console.error(kn)});case 3:case"end":return Fn.stop()}},vr)}));return function(vr,gr){return or.apply(this,arguments)}}(),[]);if(!Xe||!ze)return null;var pn=it==null?void 0:it.find(function(or){return or.key===Ut});return(0,C.jsx)("div",{style:Zn,children:(0,C.jsxs)(Dt.Z,{wrap:!0,children:[(0,C.jsxs)("label",{style:Jn,children:[Hn("Data template"),": "]}),(0,C.jsx)(dt.default,{role:"button","data-testid":"select-form-data-template",popupMatchSelectWidth:!1,options:it,fieldNames:{label:"title",value:"key"},value:Ut,onChange:Nn}),Ut!=="none"&&pn&&(0,C.jsx)(hr,{style:{width:220},fieldNames:{label:pn==null?void 0:pn.titleField,value:"id"},target:pn==null?void 0:pn.collection,value:on,objectValue:!0,service:{resource:pn==null?void 0:pn.collection,params:{filter:pn==null?void 0:pn.dataScope}},onChange:function(vr){return Cn(vr==null?void 0:vr.id,r()(r()({},vr),pn))},targetField:nt("".concat(pn==null?void 0:pn.collection,".").concat(pn.titleField))})]})})};function Sr(me){var Q=(0,be.Fi)(me);return Q?T().cloneDeep(Q["x-data-templates"])||{}:{}}function Mr(me,Q,ve){return Br.apply(this,arguments)}function Br(){return Br=p()(x()().mark(function me(Q,ve,Ce){return x()().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(!(ve.fields.length===0||!ve.dataId)){Fe.next=2;break}return Fe.abrupt("return");case 2:return Fe.abrupt("return",Q.resource(ve.collection).get({filterByTk:ve.dataId,fields:ve.fields,isTemplate:!0}).then(function(Ie){var Ne;return(Ne=Ie.data)===null||Ne===void 0?void 0:Ne.data}));case 3:case"end":return Fe.stop()}},me)})),Br.apply(this,arguments)}var Mn=function(){var Q,ve,Ce=(0,ut.useDataBlockHeight)(),Ee=(0,S.useFieldSchema)(),Fe=Re.Z.useToken(),Ie=Fe.token,Ne=(0,z.ngQ)(),Ke=Ne.designable,ze=(0,ut.useBlockHeightProps)()||{},Xe=ze.heightProps,Ge=Xe||{},st=Ge.title,nt=_r(),it=nt.display,lt=nt.enabled,Et=Ee.reduceProperties(function(Cn,pn){return pn["x-component"]==="ActionBar"?pn:Cn});if(Ce){var Ut=Object.keys((Et==null?void 0:Et.properties)||{}).length>0,At=Ee==null||(Q=Ee.parent)===null||Q===void 0||(Q=Q["x-decorator"])===null||Q===void 0||(ve=Q.includes)===null||ve===void 0?void 0:ve.call(Q,"FormBlockProvider"),tn=Ut||Ke?Ie.controlHeight+(At?1:2)*Ie.marginLG:Ie.marginLG,Qt=st?Ie.fontSizeLG*Ie.lineHeightLG+Ie.padding*2-1:0,on=(0,Rt.hS)()||{},Jt=on.data,Xt=(Jt==null?void 0:Jt.meta)||{},On=Xt.count,Hn=Xt.pageSize,Zn=On>Hn,Jn=Zn?Ie.controlHeightSM+1*Ie.paddingLG:0,Nn=it&&lt?Ie.controlHeight+2*Ie.padding+Ie.margin:0;return Ce-tn-Ie.paddingLG*2-Qt-Jn-Nn}},Wt=e(14518),Ft=e(51899),an,Bn,Un=["form","children"],Gn=["form","children","disabled"],mr=["form","disabled"],dr=function(Q){var ve=Q.form,Ce=Q.children,Ee=R()(Q,Un),Fe=(0,S.useField)(),Ie=(0,S.useFieldSchema)(),Ne=(0,z.lIL)(ve.createVoidField(r()(r()({},Fe.props),{},{basePath:""}))),Ke=Mn(),ze=Re.Z.useToken(),Xe=ze.token;return(0,C.jsx)(S.FieldContext.Provider,{value:void 0,children:(0,C.jsx)(S.FormContext.Provider,{value:ve,children:(0,C.jsx)(L.FormLayout,r()(r()({layout:"vertical"},Ee),{},{children:(0,C.jsx)("div",{className:(0,pe.css)(an||(an=q()([`
              height: `,`;
              // overflow-y: auto;
              margin-left: -`,`px;
              margin-right: -`,`px;
              padding-left: `,`px;
              padding-right: `,`px;
            `])),Ke?Ke+"px":"100%",Ve.isMobile?Xe.margin:Xe.marginLG,Ve.isMobile?Xe.margin:Xe.marginLG,Ve.isMobile?Xe.margin:Xe.marginLG,Ve.isMobile?Xe.margin:Xe.marginLG),children:(0,C.jsx)(S.RecursionField,{basePath:Ne.address,schema:Ie,onlyRenderProperties:!0})})}))})})},Hr=function(Q){return Q.children},Lr=function(Q){var ve=Q.form,Ce=Q.children,Ee=Q.disabled,Fe=R()(Q,Gn),Ie=(0,S.useField)(),Ne=(0,S.useFieldSchema)(),Ke=(0,z.lIL)(ve.createVoidField(r()(r()({},Ie.props),{},{basePath:""}))),ze=(0,z.Cor)(Ne["x-component"],Hr);return(0,C.jsx)(S.FieldContext.Provider,{value:void 0,children:(0,C.jsx)(S.FormContext.Provider,{value:ve,children:(0,C.jsx)(L.FormLayout,r()(r()({layout:"vertical"},Fe),{},{children:(0,C.jsx)(S.FieldContext.Provider,{value:Ke,children:(0,C.jsx)(ze,r()(r()({},Ie.componentProps),{},{children:(0,C.jsx)(S.RecursionField,{basePath:Ke.address,schema:Ne,onlyRenderProperties:!0})}))})}))})})},Zr=function(Q){var ve=null;return Q.mapProperties(function(Ce){Ce["x-linkage-rules"]&&(ve=Ce["x-linkage-rules"])}),ve},no=function(Q){if(Q["x-component"]==="GridCard.Item"){var ve;return(ve=Q.parent)===null||ve===void 0||(ve=ve.parent)===null||ve===void 0?void 0:ve["x-linkage-rules"]}return null},Jr=function(Q){var ve=Q.targetFields,Ce=Q.options;if(!(Ce!=null&&Ce.length))return{fieldsUseInitEvent:ve,fieldsUseMountEvent:[]};var Ee=ve.filter(function(Ie){var Ne=Ie.split(".");return Ne.length===1}),Fe=ve.filter(function(Ie){return!Ee.includes(Ie)}).map(function(Ie){var Ne=Ie.split("."),Ke=Ne[0],ze=Ce.find(function(Xe){return Xe.name===Ke});return["o2m","m2m"].includes(ze==null?void 0:ze.interface)&&Ne.length>1?Ie.replace(Ke,"".concat(Ke,".*")):Ie});return{fieldsUseInitEvent:Ee,fieldsUseMountEvent:Fe}},ho=function(Q){var ve,Ce,Ee,Fe,Ie=Q.field,Ne=Q.linkageRules,Ke=Q.formValues,ze=Q.localVariables,Xe=Q.action,Ge=Q.rule,st=Q.variables,nt=Q.variableNameOfLeftCondition;return Ie.initStateOfLinkageRules={display:((ve=Ie.initStateOfLinkageRules)===null||ve===void 0?void 0:ve.display)||(0,Qe.TF)(!0,Ie.display),required:((Ce=Ie.initStateOfLinkageRules)===null||Ce===void 0?void 0:Ce.required)||(0,Qe.TF)(!0,Ie.required||!1),pattern:((Ee=Ie.initStateOfLinkageRules)===null||Ee===void 0?void 0:Ee.pattern)||(0,Qe.TF)(!0,Ie.pattern),value:((Fe=Ie.initStateOfLinkageRules)===null||Fe===void 0?void 0:Fe.value)||(0,Qe.TF)(!0,Ie.value||Ie.initialValue)},(0,Oe.reaction)(function(){var it=cn({linkageRules:Ne,formValues:Ke}),lt=Ot({linkageRules:Ne,localVariables:ze}),Et=ln({action:Xe,localVariables:ze}),Ut=[it,lt,Et].map(function(At){return JSON.stringify(At)}).join(",");return Ut},io(Xe,Ie,Ge,st,ze),{fireImmediately:!0,equals:T().isEqual})},eo=function(Q){var ve,Ce,Ee,Fe=(0,Ft.c)(),Ie=(0,Wt.t_)(),Ne=(0,U.LY)(),Ke=Q.form,ze=Q.setLoading,Xe=Q.setSpinTip,Ge=(0,S.useFieldSchema)(),st=(Ge==null||(ve=Ge.parent)===null||ve===void 0||(ve=ve["x-data"])===null||ve===void 0?void 0:ve.enableFormOfflineSubmit)||!1,nt=Ie.isOfflineMode&&st,it=(0,M.XC)(),lt=it.setFormValueChanged,Et=(0,ge.OQ)(),Ut=(0,ge.Kp)({currentForm:Ke}),At=(0,Ze.u)(),tn=At.templateFinished,Qt=(0,Rt.hS)()||{},on=Qt.loading,Jt=((Ce=Zr(Ge)||no(Ge)||((Ee=Ge.parent)===null||Ee===void 0?void 0:Ee["x-linkage-rules"]))===null||Ce===void 0?void 0:Ce.filter(function(Zn){return!Zn.disabled}))||[],Xt=Jt.filter(function(Zn){var Jn=Zn.type;return Jn===qe.v4.Api}),On=function(Jn){var Nn=Jn.linkageRules,Cn=Jn.action,pn=cn({linkageRules:Nn,formValues:Ke.values}),or=Ot({linkageRules:Nn,localVariables:Ut}),vr=ln({action:Cn,localVariables:Ut});return[pn,or,vr].map(function(gr){return JSON.stringify(gr)}).join(",")},Hn=function(Jn){ke(Jn,function(Nn,Cn){var pn=On({linkageRules:[Cn],action:Nn});Cn.__initialConditionValue__=pn})};return(0,o.useEffect)(function(){if(!on){var Zn=(0,$e.uid)();return Ke.addEffects(Zn,function(){(0,N.onFormInputChange)(function(){lt==null||lt(!0)})}),Q.disabled&&(Ke.disabled=Q.disabled),function(){Ke.removeEffects(Zn)}}},[Ke,Q.disabled,lt]),(0,o.useEffect)(function(){var Zn=(0,$e.uid)(),Jn=[];return Hn(Xt),Ke.addEffects(Zn,function(){ke(Jt,function(Nn,Cn){var pn,or=Cn.__initialConditionValue__;if((pn=Nn.targetFields)!==null&&pn!==void 0&&pn.length){var vr=Nn.targetFields.join(",");(0,N.onFieldInit)("*(".concat(vr,")"),function(Xn,fn){Jn.push(ho({field:Xn,linkageRules:Jt,formValues:fn.values,localVariables:Ut,action:Nn,rule:Cn,variables:Et}))})}if(Cn.type===qe.v4.Api){var gr=T().debounce(function(){var Xn=p()(x()().mark(function fn(Fn){var kn,ur,Ln,sr,Ur,Kr,Or,jr,br,wr;return x()().wrap(function(vo){for(;;)switch(vo.prev=vo.next){case 0:if(!nt){vo.next=2;break}return vo.abrupt("return");case 2:if(kn=Ut.findIndex(function(Po){return Po.name==="$nForm"}),Ut[kn].ctx=Fn.values,ur=On({linkageRules:[Cn],action:Nn}),Ln=ur!==or,or=ur,Ln){vo.next=9;break}return vo.abrupt("return");case 9:return vo.next=11,(0,Nt.jC)({ruleGroup:Cn.condition,variables:Et,localVariables:Ut,field:Fn});case 11:if(sr=vo.sent,sr){vo.next=14;break}return vo.abrupt("return");case 14:return ze(!0),Xe("Processing '".concat(Cn.title,"'...")),Ur=Fe(),Kr=Nn.config.externalParams,Or=Kr.reduce(function(Po,uo){var go=uo.key,jo=uo.value;return Po[go]=(0,_t.cG)(jo)?Sn(jo,Ut):jo,(0,_t.cG)(jo)&&Ur.find(function(Do){return jo.includes("".concat(Do.name,".url"))})&&(Array.isArray(Po[go])?Po[go]=Po[go].map(function(Do){return(0,Ft.D)(Do)}):Po[go]=(0,Ft.D)(Po[go])),Po},{}),vo.prev=19,vo.next=22,Ne.request({url:"/externalApiConfigurations:call",method:"POST",params:{apiId:Nn.apiId[Nn.apiId.length-1],module:"Form"},data:r()(r()({},Or),{},{__url__:location.href,__blockId__:(jr=Ge.parent)===null||jr===void 0?void 0:jr["x-uid"]})});case 22:wr=vo.sent,Kn((wr==null||(br=wr.data)===null||br===void 0?void 0:br.data)||{},Nn.config,Fn),ze(!1),Xe(""),vo.next=32;break;case 28:vo.prev=28,vo.t0=vo.catch(19),ze(!1),Xe("");case 32:case"end":return vo.stop()}},fn,null,[[19,28]])}));return function(fn){return Xn.apply(this,arguments)}}(),300),Wn=function(fn){gr(fn)};(0,N.onFormInputChange)(function(Xn){Wn(Xn)})}})}),function(){Ke.removeEffects(Zn),Jn.forEach(function(Nn){Nn()})}},[Jt,tn,nt,Fe,on]),Ge["x-decorator"]==="FormV2"?(0,C.jsx)(Lr,r()({},Q)):(0,C.jsx)(dr,r()({},Q))},ro=function(Q){var ve=(0,S.useFieldSchema)(),Ce=(0,M.XC)(),Ee=Ce.setFormValueChanged,Fe=(0,o.useMemo)(function(){return(0,N.createForm)({disabled:Q.disabled,effects:function(){(0,N.onFormInputChange)(function(Ne){Ee==null||Ee(!0)})}})},[]);return ve["x-decorator"]==="FormV2"?(0,C.jsx)(Lr,r()({form:Fe},Q)):(0,C.jsx)(dr,r()({form:Fe},Q))},qr=(0,pe.css)(Bn||(Bn=q()([`
  .ant-formily-item-feedback-layout-loose {
    margin-bottom: 12px;
  }
`]))),ao=(0,J.t)((0,S.observer)(function(me){var Q=(0,S.useField)(),ve=(0,o.useState)(!1),Ce=ye()(ve,2),Ee=Ce[0],Fe=Ce[1],Ie=(0,o.useState)(""),Ne=ye()(Ie,2),Ke=Ne[0],ze=Ne[1],Xe=(0,Kt.w)(me),Ge=Xe.form,st=Xe.disabled,nt=R()(Xe,mr),it=st||Q.disabled;return(0,C.jsx)(B.ZP,{componentDisabled:it,children:(0,C.jsx)(V.Z,{spinning:Ee,tip:Ke,children:(0,C.jsx)("form",{onSubmit:function(Et){return Et.preventDefault()},className:qr,children:Ge?(0,C.jsx)(eo,r()(r()({form:Ge},nt),{},{disabled:it,loading:Ee,setLoading:Fe,setSpinTip:ze})):(0,C.jsx)(ro,r()(r()({},nt),{},{disabled:it}))})})})}),{displayName:"Form"});function io(me,Q,ve,Ce,Ee){return function(){(0,Qe.Jy)({operator:me.operator,value:me.value,field:Q,condition:ve.condition,variables:Ce,localVariables:Ee}),setTimeout(p()(x()().mark(function Fe(){var Ie,Ne,Ke,ze,Xe;return x()().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(Ne=Eo(me.operator),(Ie=Q.stateOfLinkageRules)!==null&&Ie!==void 0&&Ie[Ne]){st.next=3;break}return st.abrupt("return");case 3:return Ke=Q.stateOfLinkageRules[Ne],st.next=6,Promise.all(Ke);case 6:Ke=st.sent,Ke=Ke.filter(function(nt){return nt.condition}),ze=Ke[Ke.length-1],Ne==="value"?Ke.length>1&&(Q.value=ze.value):(Q[Ne]=ze==null?void 0:ze.value,Ne==="display"&&((ze==null?void 0:ze.value)==="none"?Q.value=null:Q!=null&&(Xe=Q.caches)!==null&&Xe!==void 0&&Xe.value&&(Q.value=Q.caches.value))),Q.stateOfLinkageRules[Ne]=null;case 11:case"end":return st.stop()}},Fe)})))}}function Eo(me){switch(me){case qe.Us.Required:case qe.Us.InRequired:return"required";case qe.Us.Visible:case qe.Us.None:case qe.Us.Hidden:return"display";case qe.Us.Editable:case qe.Us.ReadOnly:case qe.Us.ReadPretty:case qe.Us.ModifyOnly:return"pattern";case qe.Us.Value:return"value";default:return null}}function cn(me){var Q=me.linkageRules,ve=me.formValues;return Q.map(function(Ce){var Ee=function Fe(Ie){var Ne=Object.keys(Ie)[0]||"$and",Ke=Ie[Ne];return Ke.map(function(ze){if("$and"in ze||"$or"in ze)return Fe(ze);var Xe=(0,Nt.Rq)(ze).join(".");return(0,Ve.getValuesByPath)(ve,Xe)}).filter(Boolean)};return Ee(Ce.condition)})}function Ot(me){var Q=me.linkageRules,ve=me.localVariables;return Q.map(function(Ce){var Ee=Object.keys(Ce.condition)[0]||"$and",Fe=Ce.condition[Ee];return Fe.map(function(Ie){var Ne=(0,Nt.od)(Ie);return Ne?(0,_t.cG)(Ne.value)?Sn(Ne.value,ve):Ne.value:null}).filter(Boolean)})}function ln(me){var Q,ve=me.action,Ce=me.localVariables,Ee=ve.value,Fe=Ee==null?void 0:Ee.mode,Ie=(Ee==null?void 0:Ee.value)||(Ee==null?void 0:Ee.result);if(Fe==="express"&&Ie!=null)return(Q=(0,_t.fN)(Ie))===null||Q===void 0?void 0:Q.map(function(Ne){return Sn(Ne,Ce)}).filter(Boolean)}function Sn(me,Q){var ve;if((0,_t.cG)(me)){var Ce=(0,vt.H)(me),Ee=oe()({},Ce,(ve=Q.find(function(Fe){return Fe.name===Ce}))===null||ve===void 0?void 0:ve.ctx);return(0,Ve.getValuesByPath)(Ee,(0,ft.D)(me))}}function Kn(me,Q,ve){var Ce=Q||{},Ee=Ce.subSequentParams,Fe=Ee.filter(function(Ie){var Ne;return(Ne=Ie.autoFillField)===null||Ne===void 0?void 0:Ne.length}).map(function(Ie){var Ne=T().get(me,Ie.key);return r()(r()({},Ie),{},{value:Ne})});Fe.forEach(function(Ie){var Ne=Ie.autoFillField,Ke=Ie.value,ze=Ne.join(".");ve.setValuesIn(ze,Ke)})}var tr=e(74614),fr=(0,tr.tl)(function(me){var Q=(0,Ue.bz)(),ve=(0,je.d)(),Ce=ve.token;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.QZ3,{style:{marginBottom:Ce.margin},form:me.form||(Q==null?void 0:Q.form)}),(0,C.jsx)(ao,r()({},me))]})},{displayName:"FormWithDataTemplates"}),ir=e(35964),Rr=e(44355),Tr=e(62662),Xr=e(4277),Gr=e(25750),po=new ue.F5({name:"FormSettings",items:[{name:"title",Component:Gr._},{name:"linkageRules",Component:Tr.lc,useComponentProps:function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name;return{collectionName:ve}}},{name:"dataTemplates",Component:Tr.ON,useVisible:function(){var Q=(0,be.bz)(),ve=Q.action;return!ve},useComponentProps:function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name;return{collectionName:ve}}},{name:"divider",type:"divider"},{name:"formItemTemplate",Component:Tr.vC,useComponentProps:function(){var Q,ve,Ce=(0,I.useCollection_deprecated)(),Ee=Ce.name,Fe=(0,S.useFieldSchema)(),Ie=(Fe==null||(Q=Fe["x-decorator-props"])===null||Q===void 0?void 0:Q.resource)||(Fe==null||(ve=Fe["x-decorator-props"])===null||ve===void 0?void 0:ve.association);return{componentName:"FormItem",collectionName:Ee,resourceName:Ie}}},{name:"divider2",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]}),So=new ue.F5({name:"ReadPrettyFormSettings",items:[{name:"title",Component:Gr._},{name:"linkageRules",Component:Tr.lc,useComponentProps:function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name;return{collectionName:ve,readPretty:!0}}},{name:"formItemTemplate",Component:Tr.vC,useComponentProps:function(){var Q,ve,Ce=(0,I.useCollection_deprecated)(),Ee=Ce.name,Fe=(0,S.useFieldSchema)(),Ie=(Fe==null||(Q=Fe["x-decorator-props"])===null||Q===void 0?void 0:Q.resource)||(Fe==null||(ve=Fe["x-decorator-props"])===null||ve===void 0?void 0:ve.association);return{insertAdjacentPosition:"beforeEnd",componentName:"ReadPrettyFormItem",collectionName:Ee,resourceName:Ie}}},{name:"divider",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]}),Co=new ue.F5({name:"FormDetailsSettings",items:[{name:"title",Component:Gr._},{name:"linkageRules",Component:Tr.lc,useComponentProps:function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name;return{collectionName:ve,readPretty:!0}}},{name:"dataScope",Component:Ae.H,useComponentProps:function(){var Q,ve=(0,I.useCollection_deprecated)(),Ce=ve.name,Ee=(0,S.useFieldSchema)(),Fe=(0,be.bz)(),Ie=Fe.form,Ne=(0,S.useField)(),Ke=(0,ir.nT)(),ze=Ke.service,Xe=(0,w.ng)(),Ge=Xe.dn;return{collectionName:Ce,defaultFilter:(Ee==null||(Q=Ee["x-decorator-props"])===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.filter)||{},form:Ie,onSubmit:function(nt){var it,lt,Et=nt.filter;Et=(0,he.Wm)(Et);var Ut=Ne.decoratorProps.params||{};Ut.filter=Et,Ne.decoratorProps.params=Ut,Ee["x-decorator-props"].params=Ut,ze.run(r()(r()({},(it=ze.params)===null||it===void 0?void 0:it[0]),{},{filter:Et})),Ge.emit("patch",{schema:(lt={},oe()(lt,"x-uid",Ee["x-uid"]),oe()(lt,"x-decorator-props",Ee["x-decorator-props"]),lt)})}}}},Xr.wq,{name:"sortingRules",type:"modal",useComponentProps:function(){var Q,ve=(0,I.useCollection_deprecated)(),Ce=ve.name,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,S.useFieldSchema)(),Ne=(0,S.useField)(),Ke=(0,ir.nT)(),ze=Ke.service,Xe=(0,w.ng)(),Ge=Xe.dn,st=(0,Rr.useSortFields)(Ce),nt=(Ie==null||(Q=Ie["x-decorator-props"])===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.sort)||[],it=nt==null?void 0:nt.map(function(lt){return lt.startsWith("-")?{field:lt.substring(1),direction:"desc"}:{field:lt,direction:"asc"}});return{title:Fe("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:Fe("Set default sorting rules"),properties:{sort:{type:"array",default:it,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:st,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:Fe("ASC"),value:"asc"},{label:Fe("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:Fe("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(Et){var Ut,At,tn=Et.sort,Qt=tn.map(function(Jt){return Jt.direction==="desc"?"-".concat(Jt.field):Jt.field}),on=Ne.decoratorProps.params||{};on.sort=Qt,Ne.decoratorProps.params=on,Ie["x-decorator-props"].params=on,Ge.emit("patch",{schema:(Ut={},oe()(Ut,"x-uid",Ie["x-uid"]),oe()(Ut,"x-decorator-props",Ie["x-decorator-props"]),Ut)}),ze.run(r()(r()({},(At=ze.params)===null||At===void 0?void 0:At[0]),{},{sort:Qt}))}}}},{name:"template",Component:X.G,useComponentProps:function(){var Q,ve,Ce=(0,I.useCollection_deprecated)(),Ee=Ce.name,Fe=(0,S.useFieldSchema)(),Ie=(Fe==null||(Q=Fe["x-decorator-props"])===null||Q===void 0?void 0:Q.resource)||(Fe==null||(ve=Fe["x-decorator-props"])===null||ve===void 0?void 0:ve.association);return{componentName:"Details",collectionName:Ee,resourceName:Ie}}},{name:"divider",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]}),bo=(0,S.observer)(function(me){var Q=(0,S.useFieldSchema)(),ve=(0,I.useCollection_deprecated)(),Ce=ve.getField,Ee=(0,S.useField)(),Fe=Ce(Q.name),Ie=(0,w.eJ)(),Ne=(0,be.bz)();return(0,o.useEffect)(function(){if(!Ee.title){var Ke;Ee.title=Ie(Fe==null||(Ke=Fe.uiSchema)===null||Ke===void 0?void 0:Ke.title)}Ne!=null&&Ne.field&&(Ne.field.added=Ne.field.added||new Set,Ne.field.added.add(Q.name))},[]),(0,C.jsx)("div",{children:me.children})},{displayName:"FormField"});fr.Designer=Le,fr.FilterDesigner=we,fr.ReadPrettyDesigner=Me,fr.Templates=Ir;var ko=e(72240),Oo=e(47953),ta=e(56140),Nr=e(15867),Ko=e(94184),co=e.n(Ko),Io=e(4511),oo=e(89250),Yo=e(79655),_o=e(64930),Uo=e(99501),_n=e(14230),We=e(58809),Ye=e(61933),pt=e(96256),Pt=e(20493),bt=e(70627),Ht,dn=o.createContext({setFixedBlock:function(){},height:0,fixedBlockUID:!1,fixedBlockUIDRef:{current:!1},inFixedBlock:!1}),yn=function(){var Q,ve=(0,S.useField)(),Ce=(0,S.useFieldSchema)(),Ee=Yn(),Fe=Ee.setFixedBlock,Ie=Ee.fixedBlockUID,Ne=Ee.fixedBlockUIDRef,Ke=(0,o.useRef)(!1);return(0,o.useEffect)(function(){if(!Ne.current||Ke.current){var ze;Fe(ve!=null&&(ze=ve.decoratorProps)!==null&&ze!==void 0&&ze.fixedBlock?Ce["x-uid"]:!1),Ke.current=!0}},[ve==null||(Q=ve.decoratorProps)===null||Q===void 0?void 0:Q.fixedBlock]),Ce["x-uid"]===Ie},Yn=function(){return(0,o.useContext)(dn)},bn=function(Q){var ve=yn(),Ce=Yn(),Ee=Ce.height,Fe=Ce.fixedBlockUID;return!ve&&Fe?(0,C.jsx)(C.Fragment,{children:Q.children}):(0,C.jsx)("div",{className:"nb-fixed-block",style:{height:Fe?"calc(100vh - ".concat(Ee,")"):void 0},children:Q.children})},wn=(0,pe.css)(Ht||(Ht=q()([`
  overflow: hidden;
  position: relative;
  .noco-card-item {
    height: 100%;
    .ant-card {
      display: flex;
      flex-direction: column;
      height: 100%;
      .ant-card-body {
        height: 1px;
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }
    }
  }
`]))),cr=function(Q){var ve=Q.height,Ce=(0,o.useState)(!1),Ee=ye()(Ce,2),Fe=Ee[0],Ie=Ee[1],Ne=(0,o.useRef)(Fe),Ke=function(Xe){Ne.current=Xe,Ie(Xe)};return(0,C.jsx)(dn.Provider,{value:{inFixedBlock:!0,height:ve,setFixedBlock:Ke,fixedBlockUID:Fe,fixedBlockUIDRef:Ne},children:(0,C.jsx)("div",{className:Fe?wn:"",style:{height:Fe?"calc(100vh - ".concat(ve,")"):void 0},children:Q.children})})},yr=cr,Er=e(82518),Pr=(0,He.l6)("nb-page",function(me){var Q=me.componentCls;return oe()({},Q,{position:"relative",zIndex:20,flex:1,display:"flex",flexDirection:"column",overflow:"auto","&:hover":{"> .general-schema-designer":{display:"block"}},".ant-page-header":{zIndex:1,position:"relative"},"> .general-schema-designer":{position:"absolute",zIndex:999,top:"0",bottom:"0",left:"0",right:"0",display:"none",border:"0",pointerEvents:"none","> .general-schema-designer-icons":{zIndex:9999,position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:"var(--colorSettings)",color:"#fff",lineHeight:"16px",width:"16px",paddingLeft:"1px"}}},".pageHeaderCss":{backgroundColor:me.xwColorPageBg,padding:"16px 24px","&.ant-page-header":{".ant-page-header-heading-left":{marginBlock:0}},"&.ant-page-header-has-footer":{paddingTop:me.padding,paddingBottom:"0",".ant-page-header-heading ":{marginBottom:"10px"},".ant-page-header-footer":{marginBlockStart:"0"}},".ant-tabs-nav":{marginBottom:me.padding},".ant-page-header-heading-title":{background:me.xwColorPrimary,"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent"}},".mbPageHeader":{minHeight:48,".ant-tabs-top >.ant-tabs-nav::before":{borderBottom:"none"}},".height0":{fontSize:0,height:0},".addTabBtn":{borderColor:"var(--colorSettings)",color:"var(--colorSettings)"},".designerCss":{position:"relative",display:"flex",alignItems:"center","&:hover":{"> .general-schema-designer":{display:"block"}},"&.nb-action-link":{"> .general-schema-designer":{top:"-10px",bottom:"-10px",left:"-10px",right:"-10px"}},"> .general-schema-designer":{position:"absolute",zIndex:999,top:"0",bottom:"0",left:"0",right:"0",display:"none",background:"var(--colorBgSettingsHover)",border:"0",pointerEvents:"none","> .general-schema-designer-icons":{position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:"var(--colorSettings)",color:"#fff",lineHeight:"16px",width:"16px",paddingLeft:"1px"}}}},".pageWithFixedBlockCss":{height:"100%","> .nb-grid:not(:last-child)":{"> .nb-schema-initializer-button":{display:"none"}}},".nb-page-wrapper":{backgroundColor:me.xwColorPageBg,padding:"".concat(me.paddingPageVertical,"px ").concat(me.paddingPageHorizontal,"px"),flex:1}})}),$r=e(9040),Vr=e(17958),zr=e(8763),lo=e(42371),Mo=e(56007),To,wo,Ho,sa=["children"],ua=o.createContext(null),Sa=function(Q){var ve=(0,S.useFieldSchema)(),Ce=(0,ut.useAPIClient)(),Ee=(0,ut.useOfflineMode)(),Fe=(0,o.useState)({}),Ie=ye()(Fe,2),Ne=Ie[0],Ke=Ie[1],ze=function(nt){var it;return nt!=null&&nt["x-badge-props"]?nt==null||(it=nt["x-badge-props"])===null||it===void 0?void 0:it.enabled:!1},Xe=(0,o.useCallback)(function(){!navigator.onLine||Ee.isOfflineMode||ve.mapProperties(function(st){var nt,it=ze(st);if(!it){Ke(function(Et){return r()(r()({},Et),{},oe()({},st["x-uid"],{hasBadgeCount:it}))});return}var lt=st==null||(nt=st["x-badge-props"])===null||nt===void 0?void 0:nt.workflow;Ce.request({url:"/workflows:trigger?triggerWorkflows=".concat(lt)}).then(function(Et){var Ut=Et.data.data;Ke(function(At){return r()(r()({},At),{},oe()({},st["x-uid"],{hasBadgeCount:it,count:Ut}))})}).catch(function(Et){(0,Ve.captureException)(Et)})})},[navigator.onLine,Ee.isOfflineMode]);Q.useSubscription(function(st){st.type==="action"&&Xe()}),(0,o.useEffect)(function(){Xe()},[]);var Ge=(0,o.useCallback)(function(st){return Ne[st["x-uid"]]},[Ne]);return{getTabBadgeConfig:Ge}},Pa=function(Q){var ve,Ce,Ee,Fe,Ie,Ne,Ke=Q.children,ze=R()(Q,sa),Xe=(0,ce.$)(),Ge=Xe.t,st=(0,w.eJ)(),nt=(0,_n.jr)(),it=nt.title,lt=nt.setTitle,Et=(0,S.useFieldSchema)(),Ut=(0,w.ng)(),At=(0,We.mg)(),tn=At.theme,Qt=(0,He.dQ)(),on=Qt.token,Jt=(0,oo.useParams)(),Xt=(0,pt.d)(),On=Xt.getAriaLabel,Hn=(0,o.useContext)($r.y),Zn=(0,ut.useAPIClient)(),Jn=(0,Vr.Dv)(),Nn=(0,ut.useAppMenu)(),Cn=Nn.menuSchema,pn=function(Wo,aa){var $o=aa.allowAll,ba=aa.allowMenuItemIds,ca=ba===void 0?[]:ba,ea=aa.snippets;if($o||ea.includes("ui.*"))return Wo;var Xo=function(Ka){if(Ka){for(var gi in Ka.properties)if(Object.prototype.hasOwnProperty.call(Ka.properties,gi)){var _i=Ka.properties[gi];if(Hn.includes(_i["x-uid"]))continue;_i["x-uid"]&&_i.title&&!ca.includes(_i["x-uid"])&&delete Ka.properties[gi]}}};return Xo(Wo),Wo},or=(0,ut.useACLContext)(),vr=(0,ut.useACLRoleContext)(),gr=pn(Et,vr),Wn=(0,o.useState)(!1),Xn=ye()(Wn,2),fn=Xn[0],Fn=Xn[1],kn=(0,o.useContext)(Mo.l)||{},ur=kn.setMbHeaderTitle;(0,o.useEffect)(function(){setTimeout(function(){Fn(!0)})},[]),(0,o.useEffect)(function(){Ve.isMobile&&Et.title&&(ur==null||ur(Ge(Et.title))),it||lt(Ge(Et.title)),Jn&&lt(Zn.auth.getOption("share_title")||"")},[Et.title,it]);var Ln=(ve=Et["x-component-props"])===null||ve===void 0?void 0:ve.disablePageHeader,sr=(Ce=Et["x-component-props"])===null||Ce===void 0?void 0:Ce.enablePageTabs,Ur=(Ee=Et["x-component-props"])===null||Ee===void 0?void 0:Ee.hidePageTitle,Kr=(0,o.useContext)(S.SchemaOptionsContext),Or=(0,Yo.useSearchParams)(),jr=ye()(Or,2),br=jr[0],wr=jr[1],so=(0,o.useState)(!1),vo=ye()(so,2),Po=vo[0],uo=vo[1],go=(0,o.useMemo)(function(){return br.get("tab")||Object.keys(Et.properties||{}).shift()},[Et.properties,br]),jo=(0,o.useState)(0),Do=ye()(jo,2),qo=Do[0],ra=Do[1],oa=Pr(),Wa=oa.wrapSSR,pa=oa.hashId,ga=oa.componentCls,pi=(0,_o.y)(),Fa=(0,o.useMemo)(function(){var Vo=(0,ut.findSchemaByUid)(Cn,Jt.name);return Et.title||(Vo==null?void 0:Vo.title)||st(it)},[Et.title,it,Jt.name,Cn]),xa=function(Wo){(0,Ve.captureException)(Wo)},Ya=(0,zr.Z)(),Ma=Sa(Ya),hi=Ma.getTabBadgeConfig,Ra={};Et.mapProperties(function(Vo){if(Vo.name===go){var Wo;Ra=((Wo=We.Zj.find(function(aa){var $o;return aa.name===(Vo==null||($o=Vo["x-data"])===null||$o===void 0||($o=$o.themeConfig)===null||$o===void 0?void 0:$o.name)}))===null||Wo===void 0?void 0:Wo.token)||{}}});var Aa=T().throttle(function(Vo){var Wo,aa,$o=!Ln&&!((Wo=gr["x-component-props"])!==null&&Wo!==void 0&&Wo.disablePageHeaderSticky)&&sr,ba=$o?56+56+10:56+10,ca=$o?56+10:!Ln&&!((aa=gr["x-component-props"])!==null&&aa!==void 0&&aa.disablePageHeaderSticky)&&!sr?10:0;(0,ut.handleScroll)(Vo.target.querySelector(".nb-page-wrapper .nb-grid"),ba-30,ca)},200,{trailing:!0}),Xa=location.pathname.includes("/console/design");return Wa((0,C.jsx)(ua.Provider,{value:Ya,children:(0,C.jsx)(Z.XA,{children:(0,C.jsxs)("div",{onScroll:Aa,className:(0,pe.cx)("".concat(ga," ").concat(pa," ").concat(pi.styles),Ve.isMobile?(0,pe.css)(To||(To=q()([`
                  scrollbar-width: none;
                  &::-webkit-scrollbar {
                    display: none;
                  }
                `]))):""),style:{height:Xa?"calc(100vh - 114px)":"calc(100vh - 56px)"},children:[(0,C.jsx)(Er.P,{title:Et.title||it}),(0,C.jsx)("div",{style:(Fe=gr["x-component-props"])!==null&&Fe!==void 0&&Fe.disablePageHeaderSticky?{}:{position:"sticky",top:0,zIndex:1e3,background:"#fff"},ref:function(Wo){ra(Math.floor((Wo==null?void 0:Wo.getBoundingClientRect().height)||0)+1)},children:!Ln&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Oo.m,r()(r()({className:co()("pageHeaderCss",!Ur||sr?"":"height0",Ve.isMobile?"mbPageHeader":""),ghost:!1,title:Ur||Ve.isMobile?null:Fa||" "},ze),{},{footer:sr&&(0,C.jsx)(y.DndContext,{children:(0,C.jsx)(ta.Z,{size:"small",animated:fn,activeKey:go,onTabClick:function(Wo){uo(!0),br.set("tab",Wo),wr(br),setTimeout(function(){uo(!1)},50)},tabBarExtraContent:Ut.designable&&(0,C.jsx)(Nr.ZP,{"aria-label":On("tabs"),icon:(0,C.jsx)(ko.Z,{}),className:"addTabBtn",type:"dashed",onClick:p()(x()().mark(function Vo(){var Wo,aa,$o;return x()().wrap(function(ca){for(;;)switch(ca.prev=ca.next){case 0:return ca.next=2,Ni(Ge("Add tab"),function(){return(0,C.jsx)(D.G0,{scope:Kr.scope,components:r()({},Kr.components),children:(0,C.jsx)(L.FormLayout,{layout:"vertical",children:(0,C.jsx)(D.n6,{schema:{properties:{title:{title:Ge("Tab name"),"x-component":"Input","x-decorator":"FormItem",required:!0},icon:{title:Ge("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"}}}})})})},tn).open({initialValues:{}});case 2:Wo=ca.sent,aa=Wo.title,$o=Wo.icon,Ut.insertBeforeEnd({type:"void",title:aa,"x-icon":$o,"x-component":"Grid","x-initializer":"BlockInitializers","x-server-hooks":[{type:"onSelfCreate",method:"bindPageTabToRole"}],properties:{}},{onSuccess:function(){or.refresh()}});case 5:case"end":return ca.stop()}},Vo)})),children:Ge("Add tab")}),className:(0,pe.css)(wo||(wo=q()([`
                            .ant-tabs-nav-wrap {
                              // \u8DDF\u968F button \u7684\u9AD8\u5EA6\uFF0C\u4EE5\u514D\u6253\u5F00\u7F16\u8F91\u6A21\u5F0F\u5E03\u5C40\u51FA\u73B0\u79FB\u52A8
                              height: 40px;
                            }
                            .ant-tabs-tab-active {
                              `,`
                            }
                          `])),((Ie=Ra)===null||Ie===void 0?void 0:Ie.xwColorPrimary)&&((Ne=JSON.parse(Zn.auth.getOption("theme")))===null||Ne===void 0?void 0:Ne.overridable)&&"background: ".concat(Ra.xwColorPrimary,"!important")),items:Et.mapProperties(function(Vo,Wo){var aa=(Vo.title||"").trim()==="",$o=hi(Vo),ba=["number","string"].includes(St()($o==null?void 0:$o.count));return{label:(0,C.jsx)("div",{style:{position:"relative"},children:(0,C.jsxs)(Pt.TR,{id:Vo.name,schema:Vo,className:co()("nb-action-link","designerCss",Q.className),children:[Vo["x-icon"]&&(0,C.jsx)(Ye.JO,{style:{marginRight:aa?0:8},type:Vo["x-icon"]}),(0,C.jsx)("span",{children:Vo.title||Ge("Unnamed")}),$o&&$o.hasBadgeCount&&ba&&(0,C.jsx)("span",{style:{background:go===Wo?"#fff":"#cfd2d8",borderRadius:"20px",color:"#4b5563",fontSize:"12px",display:"inline-flex",justifyContent:"center",alignItems:"center",pointerEvents:"none",overflow:"hidden",padding:"0 6px",marginLeft:"8px",minWidth:"20px",height:"20px"},children:$o.count}),(0,C.jsx)(Er.T,{schema:Vo})]})}),key:Vo.name}})})})})),Ve.isMobile&&(0,C.jsx)("div",{style:{width:"100%",height:"10px",backgroundColor:on.xwColorPageBg}})]})}),(0,C.jsx)("div",{className:"nb-page-wrapper",style:!Ln&&(!Ur||sr)?{paddingTop:0}:{},children:(0,C.jsxs)(Io.SV,{FallbackComponent:bt.H,onError:xa,children:[(0,C.jsx)(Ja,{loading:Po,disablePageHeader:Ln,enablePageTabs:sr,fieldSchema:Et,activeKey:go,height:qo}),(0,C.jsx)(oo.Outlet,{})]})})]})})}))},ja=(0,lo.aW)(Pa,{displayName:"Page"}),Ci=function(){var Q=(0,oo.useOutletContext)(),ve=Q.loading,Ce=Q.disablePageHeader,Ee=Q.enablePageTabs,Fe=Q.fieldSchema,Ie=Q.height,Ne=Q.tabUid;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ja,{loading:ve,disablePageHeader:Ce,enablePageTabs:Ee,fieldSchema:Fe,activeKey:Ne,height:Ie}),(0,C.jsx)(oo.Outlet,{})]})},Ja=o.memo(function(me){var Q=me.loading,ve=me.disablePageHeader,Ce=me.enablePageTabs,Ee=me.fieldSchema,Fe=me.activeKey,Ie=me.height,Ne=(0,He.dQ)(),Ke=Ne.token,ze=(0,Uo.r)(),Xe=ze.render,Ge={};Ee.mapProperties(function(nt){nt.name===Fe&&(Ge=nt)}),Ve.isMobile&&(0,Ve.findSchema)(Ee,function(nt){var it,lt=nt["x-decorator"]==="TableBlockProvider"&&((it=nt["x-component-props"])===null||it===void 0?void 0:it.aslist);return lt&&(nt.parent.properties[nt.name]=(0,ut.convertTableSchemaToListSchema)(nt)),lt});var st=(0,C.jsx)(lo._w,{schema:Ge,children:Ee.mapProperties(function(nt){return nt.name!==Fe?null:(0,C.jsx)(yr,{height:"calc(".concat(Ie,"px + 56px + ").concat(Ke.paddingPageVertical,"px * 2)"),children:(0,C.jsx)(D.n6,{distributed:!0,schema:new S.Schema({properties:oe()({},nt.name,nt)})})},nt.name)})});return Q?Xe():(0,C.jsx)(C.Fragment,{children:!ve&&Ce?st:(0,C.jsx)(yr,{height:"calc(".concat(Ie,"px + 56px + ").concat(Ke.paddingPageVertical,"px * 2)"),children:(0,C.jsx)("div",{className:co()("pageWithFixedBlockCss nb-page-content",(0,pe.css)(Ho||(Ho=q()([`
                  > .nb-grid-container:not(:last-child) {
                    > .nb-grid > .nb-grid-warp > button:last-child {
                      display: none;
                    }
                  }
                `])))),children:(0,C.jsx)(D.n6,{schema:Ee,distributed:!0})})})})}),bi=e(3321),qa=e(35097),xi=e(91410),Si=new xi.F({name:"PageTabSettings",items:[{name:"edit",type:"modal",sort:1,useComponentProps:function(){var Q=(0,ce.$)(),ve=Q.t,Ce=(0,qa.Po)(),Ee=Ce.schema,Fe=(0,w.ng)(),Ie=Fe.dn;return{title:ve("Edit"),schema:{type:"object",title:ve("Edit tab"),properties:{title:{title:ve("Tab name"),required:!0,"x-decorator":"FormItem","x-component":"Input","x-component-props":{}},icon:{title:ve("Icon"),"x-decorator":"FormItem","x-component":"IconPicker","x-component-props":{}}}},initialValues:{title:Ee.title,icon:Ee["x-icon"]},onSubmit:function(Ke){var ze,Xe=Ke.title,Ge=Ke.icon;Ee.title=Xe,Ee["x-icon"]=Ge,Ie.emit("patch",{schema:(ze={},oe()(ze,"x-uid",Ee["x-uid"]),oe()(ze,"title",Xe),oe()(ze,"x-icon",Ge),ze)}),Ie.refresh()}}}},{name:"editTheme",sort:3,Component:F.sM,useComponentProps:function(){var Q,ve,Ce=(0,ce.$)(),Ee=Ce.t,Fe=(0,qa.Po)(),Ie=Fe.schema,Ne=(0,w.ng)(),Ke=Ne.dn;return{title:Ee("Tabs page theme"),themeMode:Object.values((Ie==null||(Q=Ie["x-data"])===null||Q===void 0?void 0:Q.themeConfig)||{}).length?F.hY.Custom:F.hY.Follow,themeConfig:(Ie==null||(ve=Ie["x-data"])===null||ve===void 0?void 0:ve.themeConfig)||{},onSubmit:function(Xe){var Ge=Xe.themeMode,st=Xe.themeConfig,nt=(Ie==null?void 0:Ie["x-data"])||{};nt.themeConfig=Ge===F.hY.Custom?st:{},Ie["x-data"]=nt,Ke.emit("patch",{schema:{"x-uid":Ie["x-uid"],"x-data":Ie["x-data"]}}),Ke.refresh()}}}},{sort:99,name:"divider",type:"divider"},{sort:100,name:"delete",type:"item",useComponentProps:function(){var Q=bi.Z.useApp(),ve=Q.modal,Ce=(0,w.ng)(),Ee=Ce.dn,Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,qa.Po)(),Ke=Ne.schema;return{title:Ie("Delete"),eventKey:"remove",onClick:function(){ve.confirm(r()(r()({title:Ie("Delete block"),content:Ie("Are you sure you want to delete it?")},confirm),{},{onOk:function(){Ee.remove(Ke)}}))},children:Ie("Delete")}}}]});function $a(){var me,Q=(0,S.useFieldSchema)();return!((me=Q["x-component-props"])!==null&&me!==void 0&&me.disablePageHeader)}var ei=new ue.F5({name:"PageSettings",items:[{name:"enablePageHeader",type:"switch",useComponentProps:function(){var Q,ve=(0,z.ngQ)(),Ce=ve.dn,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,S.useFieldSchema)();return{title:Fe("Enable page header"),checked:!((Q=Ie["x-component-props"])!==null&&Q!==void 0&&Q.disablePageHeader),onChange:function(Ke){var ze;Ie["x-component-props"]=Ie["x-component-props"]||{},Ie["x-component-props"].disablePageHeader=!Ke,Ce.emit("patch",{schema:(ze={},oe()(ze,"x-uid",Ie["x-uid"]),oe()(ze,"x-component-props",Ie["x-component-props"]),ze)}),Ce.refresh()}}}},{name:"divider",type:"divider",useVisible:$a},{name:"displayPageTitle",type:"switch",useVisible:$a,useComponentProps:function(){var Q,ve=(0,z.ngQ)(),Ce=ve.dn,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,S.useFieldSchema)();return{title:Fe("Display page title"),checked:!((Q=Ie["x-component-props"])!==null&&Q!==void 0&&Q.hidePageTitle),onChange:function(Ke){var ze;Ie["x-component-props"]=Ie["x-component-props"]||{},Ie["x-component-props"].hidePageTitle=!Ke,Ce.emit("patch",{schema:(ze={},oe()(ze,"x-uid",Ie["x-uid"]),oe()(ze,"x-component-props",Ie["x-component-props"]),ze)}),Ce.refresh()}}}},{name:"editPageTitle",type:"modal",useVisible:function(){var Q,ve=$a(),Ce=(0,S.useFieldSchema)(),Ee=!((Q=Ce["x-component-props"])!==null&&Q!==void 0&&Q.hidePageTitle);return ve&&Ee},useComponentProps:function(){var Q=(0,z.ngQ)(),ve=Q.dn,Ce=(0,ce.$)(),Ee=Ce.t,Fe=(0,S.useField)(),Ie=(0,S.useFieldSchema)(),Ne=(0,qa.Po)(),Ke=Ne.title;return{hide:!0,title:Ee("Edit page title"),schema:{type:"object",title:Ee("Edit page title"),properties:{title:{title:Ee("Title"),required:!0,"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},initialValues:{title:Ke},onSubmit:function(Xe){var Ge,st=Xe.title;Fe.title=st,Ie.title=st,ve.emit("patch",{schema:(Ge={},oe()(Ge,"x-uid",Ie["x-uid"]),oe()(Ge,"title",st),Ge)})}}}},{name:"enablePageTabs",type:"switch",useVisible:$a,useComponentProps:function(){var Q,ve=(0,z.ngQ)(),Ce=ve.dn,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,S.useFieldSchema)();return{title:Fe("Enable page tabs"),checked:(Q=Ie["x-component-props"])===null||Q===void 0?void 0:Q.enablePageTabs,onChange:function(Ke){var ze;Ie["x-component-props"]=Ie["x-component-props"]||{},Ie["x-component-props"].enablePageTabs=Ke,Ce.emit("patch",{schema:(ze={},oe()(ze,"x-uid",Ie["x-uid"]),oe()(ze,"x-component-props",Ie["x-component-props"]),ze)}),Ce.refresh()}}}},{name:"enablePageHeaderSticky",type:"switch",useVisible:$a,useComponentProps:function(){var Q,ve=(0,z.ngQ)(),Ce=ve.dn,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,S.useFieldSchema)();return{title:Fe("Enable page header sticky"),checked:!((Q=Ie["x-component-props"])!==null&&Q!==void 0&&Q.disablePageHeaderSticky),onChange:function(Ke){var ze;Ie["x-component-props"]=Ie["x-component-props"]||{},Ie["x-component-props"].disablePageHeaderSticky=!Ke,Ce.emit("patch",{schema:(ze={},oe()(ze,"x-uid",Ie["x-uid"]),oe()(ze,"x-component-props",Ie["x-component-props"]),ze)}),Ce.refresh()}}}},{name:"divider2",type:"divider"},{name:"editTheme",Component:F.sM,useComponentProps:function(){var Q=(0,ce.$)(),ve=Q.t;return{title:ve("Page theme")}}}]}),Yi=function(){var Q=(0,M.XC)(),ve=Q.visible,Ce=(0,o.useCallback)(function(){return!ve},[ve]);return{isBlockInPage:Ce}},Ba=e(23782),Pi=function(){var Q,ve=(0,S.useField)(),Ce=(0,ce.$)(),Ee=Ce.t,Fe=(0,S.useFieldSchema)(),Ie=(0,w.ng)(),Ne=Ie.dn,Ke=Yn(),ze=Ke.inFixedBlock,Xe=Yi(),Ge=Xe.isBlockInPage,st=(0,Ba.BU)(),nt=st.service;return!Ge()||!ze?null:(0,C.jsx)(F.hj,{title:Ee("Fix block"),checked:(Q=Fe["x-decorator-props"])===null||Q===void 0?void 0:Q.fixedBlock,onChange:function(){var it=p()(x()().mark(function lt(Et){var Ut,At,tn;return x()().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:return tn=r()(r()({},Fe["x-decorator-props"]),{},{fixedBlock:Et}),on.next=3,Ne.emit("patch",{schema:(Ut={},oe()(Ut,"x-uid",Fe["x-uid"]),oe()(Ut,"x-decorator-props",tn),Ut)});case 3:ve.decoratorProps=Fe["x-decorator-props"]=tn,nt==null||(At=nt.refresh)===null||At===void 0||At.call(nt);case 5:case"end":return on.stop()}},lt)}));return function(lt){return it.apply(this,arguments)}}()})},ti=e(75585),Ei=e(22891),Xi=e(14984),ni=e(97855),Qi,Ji,Vn=function(Q,ve){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ee={type:"void","x-component":"Grid",properties:r()(r()({},Ce),{},oe()({},ve,{type:"array","x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space","x-component-props":{className:(0,pe.css)(Qi||(Qi=q()([`
                  width: 100%;
                  & .ant-space-item:nth-child(2),
                  & .ant-space-item:nth-child(3) {
                    flex: 1;
                  }
                `])))},properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},dataIndex:{type:"array","x-decorator":"FormItem","x-component":z.vTp,required:!0,enum:Q,"x-component-props":{fieldNames:{label:"title",value:"name",children:"children"},changeOnSelect:!1}},title:{type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:'{{ t("Custom column title") }}'}},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:'{{ t("Add field") }}',"x-component":"ArrayItems.Addition","x-component-props":{className:(0,pe.css)(Ji||(Ji=q()([`
                border-color: var(--colorSettings);
                color: var(--colorSettings);
                &.ant-btn-dashed:hover {
                  border-color: var(--colorSettings);
                  color: var(--colorSettings);
                }
              `])))}}}}))};return Ee},tt=new tr.F5({name:"subTableActionSettings:download",items:[{name:"editButton",Component:M.C1,useComponentProps:function(){var Q=(0,tr.Po)(),ve=Q.buttonEditorProps;return ve}},{name:"downloadSettings",type:"actionModal",useComponentProps:function(){var Q,ve,Ce=(0,ce.$)(),Ee=Ce.t,Fe=(0,z.ngQ)(),Ie=Fe.dn,Ne=(0,S.useField)(),Ke=(0,Rt.Kx)(),ze=Ke.name,Xe=(0,z.jfA)(ze),Ge=(0,S.useFieldSchema)(),st=(0,o.useState)(),nt=ye()(st,2),it=nt[0],lt=nt[1];return(0,o.useEffect)(function(){lt(Vn(Xe,"downloadFields"))},[Ne.address,Ge==null||(Q=Ge["x-action-settings"])===null||Q===void 0?void 0:Q.downloadFields]),{title:Ee("Exportable fields"),schema:it,initialValues:{downloadFields:Ge==null||(ve=Ge["x-action-settings"])===null||ve===void 0?void 0:ve.downloadFields},components:{ArrayItems:L.ArrayItems},onSubmit:function(Ut){var At,tn=Ut.downloadFields;Ge["x-action-settings"]||(Ge["x-action-settings"]={}),Ge["x-action-settings"].downloadFields=tn==null?void 0:tn.filter(function(Qt){var on;return Qt==null||(on=Qt.dataIndex)===null||on===void 0?void 0:on.length}).map(function(Qt){return{dataIndex:Qt.dataIndex.map(function(on){var Jt;return(Jt=on.name)!==null&&Jt!==void 0?Jt:on}),title:Qt.title}}),Ie.emit("patch",{schema:(At={},oe()(At,"x-uid",Ge["x-uid"]),oe()(At,"x-action-settings",Ge["x-action-settings"]),At)}),Ie.refresh()}}}}]}),xn=new tr.F5({name:"subTableActionSettings:upload",items:[{name:"editButton",Component:M.C1,useComponentProps:function(){var Q=(0,tr.Po)(),ve=Q.buttonEditorProps;return ve}},{name:"updateKeys",type:"actionModal",useComponentProps:function(){var Q,ve,Ce=(0,S.useField)(),Ee=(0,S.useFieldSchema)(),Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,z.ngQ)(),Ke=Ne.dn,ze=(0,o.useState)(),Xe=ye()(ze,2),Ge=Xe[0],st=Xe[1],nt=(0,Rt.Kx)(),it=nt.name,lt=(0,z.jfA)(it);return(0,o.useEffect)(function(){st(Vn(lt,"updateKeys"))},[Ce.address,Ee==null||(Q=Ee["x-action-settings"])===null||Q===void 0?void 0:Q.updateKeys]),{title:Ie("Update keys"),schema:Ge,initialValues:{updateKeys:Ee==null||(ve=Ee["x-action-settings"])===null||ve===void 0?void 0:ve.updateKeys},components:{ArrayItems:L.ArrayItems},onSubmit:function(Ut){var At,tn=Ut.updateKeys;Ee["x-action-settings"]||(Ee["x-action-settings"]={}),Ee["x-action-settings"].updateKeys=tn==null?void 0:tn.filter(function(Qt){var on;return Qt==null||(on=Qt.dataIndex)===null||on===void 0?void 0:on.length}).map(function(Qt){return{dataIndex:Qt.dataIndex.map(function(on){var Jt;return(Jt=on.name)!==null&&Jt!==void 0?Jt:on}),title:Qt.title}}),Ke.emit("patch",{schema:(At={},oe()(At,"x-uid",Ee["x-uid"]),oe()(At,"x-action-settings",Ee["x-action-settings"]),At)}),Ke.refresh()}}}},{name:"updateFields",type:"actionModal",useComponentProps:function(){var Q=(0,S.useField)(),ve=(0,S.useFieldSchema)(),Ce=(0,ce.$)(),Ee=Ce.t,Fe=(0,z.ngQ)(),Ie=Fe.dn,Ne=(0,o.useState)(),Ke=ye()(Ne,2),ze=Ke[0],Xe=Ke[1],Ge=(0,Rt.Kx)(),st=Ge.name,nt=(0,z.jfA)(st),it=ve["x-action-settings"]||{},lt={explain:{type:"string",title:'{{ t("Explain") }}',"x-decorator":"FormItem","x-component":"Input.TextArea"}};return(0,o.useEffect)(function(){Xe(Vn(nt,"updateFields",lt))},[Q.address,it]),{title:Ee("Update fields"),schema:ze,initialValues:{updateFields:it.updateFields,explain:it.explain},components:{ArrayItems:L.ArrayItems},onSubmit:function(Ut){var At,tn=Ut.updateFields,Qt=Ut.explain;ve["x-action-settings"]||(ve["x-action-settings"]={}),ve["x-action-settings"].updateFields=tn==null?void 0:tn.filter(function(on){var Jt;return on==null||(Jt=on.dataIndex)===null||Jt===void 0?void 0:Jt.length}).map(function(on){return{dataIndex:on.dataIndex.map(function(Jt){var Xt;return(Xt=Jt.name)!==null&&Xt!==void 0?Xt:Jt}),title:on.title}}),ve["x-action-settings"].explain=Qt,Ie.emit("patch",{schema:(At={},oe()(At,"x-uid",ve["x-uid"]),oe()(At,"x-action-settings",ve["x-action-settings"]),At)}),Ie.refresh()}}}}]}),$n=function(Q){var ve=Q.children;return(0,C.jsx)(D.G0,{scope:{requestChartData:E,useFilterActionProps:P.PL},components:r()(r()({},v),y),children:ve})},Qn=function(me){a()(ve,me);var Q=l()(ve);function ve(){return h()(this,ve),Q.apply(this,arguments)}return c()(ve,[{key:"load",value:function(){var Ce=p()(x()().mark(function Fe(){return x()().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:this.addComponents(),this.addScopes(),this.addSchemaSettings();case 3:case"end":return Ne.stop()}},Fe,this)}));function Ee(){return Ce.apply(this,arguments)}return Ee}()},{key:"addComponents",value:function(){this.app.addComponents(r()(r()({},v),y))}},{key:"addScopes",value:function(){this.app.addScopes({requestChartData:E,useFilterActionProps:P.PL,useFilterGroupActionProps:A})}},{key:"addSchemaSettings",value:function(){this.app.schemaSettingsManager.add(ei),this.app.schemaSettingsManager.add(Si),this.app.schemaSettingsManager.add(G.Of),this.app.schemaSettingsManager.add(Be),this.app.schemaSettingsManager.add(Se),this.app.schemaSettingsManager.add(po),this.app.schemaSettingsManager.add(So),this.app.schemaSettingsManager.add(Co),this.app.schemaSettingsManager.add(M.SL),this.app.schemaSettingsManager.add(tt),this.app.schemaSettingsManager.add(xn)}}]),ve}(g.S),zn=e(34591),pr=["title","value","onChange","collection","useCollection","filter","rootOption","loadData"];function lr(me){var Q=me.collection;return Q}function Cr(me){var Q=kr.call(this,me.field.target,me);return Q.length&&Q.some(function(ve){return xr(ve.field)})||(me.isLeaf=!0),Q}function xr(me){return me.target&&me.interface}function Dr(me){return!0}function kr(me,Q){var ve=this,Ce=(0,ut.parseCollectionName)(me),Ee=ye()(Ce,2),Fe=Ee[0],Ie=Ee[1],Ne=this.getCollectionFields(Ie,Fe).filter(xr),Ke=Cr.bind(this);return Ne.filter(this.filter).map(function(ze){var Xe,Ge,st,nt=Q?"".concat(Q.value?"".concat(Q.value,"."):"").concat(ze.name):ze.name,it=(Xe=ve.compile((Ge=ze.uiSchema)===null||Ge===void 0?void 0:Ge.title))!==null&&Xe!==void 0?Xe:ze.name,lt=!ve.getCollectionFields(ze.target).filter(xr).filter(ve.filter).length;return{pId:(st=Q==null?void 0:Q.key)!==null&&st!==void 0?st:null,id:nt,key:nt,value:nt,title:it,isLeaf:lt,loadChildren:lt?null:Ke,field:ze,fullTitle:Q?[].concat(ht()(Q.fullTitle),[it]):[it]}})}var Fr=function(Q){var ve=Q.title,Ce=Q.value,Ee=Q.onChange,Fe=Q.collection,Ie=Q.useCollection,Ne=Ie===void 0?lr:Ie,Ke=Q.filter,ze=Ke===void 0?Dr:Ke,Xe=Q.rootOption,Ge=Q.loadData,st=R()(Q,pr),nt=(0,ut.useCompile)(),it=(0,ce.$)(),lt=it.t,Et=(0,o.useState)({}),Ut=ye()(Et,2),At=Ut[0],tn=Ut[1],Qt=Ne({collection:Fe}),on=(0,ut.parseCollectionName)(Qt),Jt=ye()(on,2),Xt=Jt[0],On=Jt[1],Hn=(0,ut.useCollectionManager_deprecated)(Xt),Zn=Hn.getCollectionFields,Jn=Object.values(At),Nn=(0,o.useMemo)(function(){return Q.multiple?(Ce||[]).map(function(Wn){return At[Wn]}).filter(Boolean):Ce},[Ce,Q.multiple,At]),Cn=(0,o.useCallback)(function(){var Wn=p()(x()().mark(function Xn(fn){var Fn;return x()().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if(Ge==null){ur.next=2;break}return ur.abrupt("return",Ge(fn));case 2:!fn.isLeaf&&fn.loadChildren&&(Fn=fn.loadChildren(fn),tn(function(Ln){return Fn.reduce(function(sr,Ur){return Object.assign(sr,oe()({},Ur.value,Ur))},r()({},Ln))}));case 3:case"end":return ur.stop()}},Xn)}));return function(Xn){return Wn.apply(this,arguments)}}(),[Ge]);(0,o.useEffect)(function(){var Wn=Xe?r()(r()({},Xe),{},{id:Xe.value,key:Xe.value,title:Xe.label,fullTitle:Xe.label,isLeaf:!1}):null,Xn=Ge===null?[]:kr.call({compile:nt,getCollectionFields:Zn,filter:ze},Qt,Wn),fn=Xn.reduce(function(Fn,kn){return Object.assign(Fn,oe()({},kn.value,kn))},{});Wn&&(fn[Wn.value]=Wn),tn(fn)},[Qt,Xe,ze,Ge]),(0,o.useEffect)(function(){var Wn=Q.multiple?Ce:Ce?[Ce]:[];if(!(!(Wn!=null&&Wn.length)||Wn.every(function(fn){return!!At[fn]}))){var Xn=[];Wn.forEach(function(fn){for(var Fn=fn.split("."),kn=At[Fn[0]],ur=function(Kr){if(!kn)return 0;var Or=Fn.slice(0,Kr+1).join(".");if(At[Or])return kn=At[Or],0;if(!kn.isLeaf&&kn.loadChildren){var jr=kn.loadChildren(kn);jr!=null&&jr.length&&(Xn.push.apply(Xn,ht()(jr)),kn=jr.find(function(br){return br.value===Fn.slice(0,Kr+1).join(".")}))}},Ln,sr=1;sr<Fn.length&&(Ln=ur(sr),Ln!==0);sr++);}),tn(function(fn){return Xn.reduce(function(Fn,kn){return Object.assign(Fn,oe()({},kn.value,kn))},r()({},fn))})}},[Ce,Jn.length,Q.multiple]);var pn=(0,o.useCallback)(function(Wn){if(!Q.multiple){Ee(Wn);return}var Xn=Wn.map(function(ur){return ur.value}).filter(Boolean),fn=new Set(Xn),Fn=Nn.find(function(ur){return!fn.has(ur.value)});if(Fn){var kn="".concat(Fn.value,".");Object.keys(At).forEach(function(ur){ur.startsWith(kn)&&fn.delete(ur)})}else Xn.forEach(function(ur){var Ln=ur.split(".");if(Ln.length)for(var sr=1;sr<=Ln.length;sr++)fn.add(Ln.slice(0,sr).join("."))});Ee(Array.from(fn))},[Q.multiple,Nn,Ee,At]),or=(0,o.useCallback)(function(Wn){var Xn,fn=Wn.value,Fn=Wn.onClose,kn=Wn.disabled,ur=Wn.closable;if(!fn)return null;var Ln=(Xn=At[fn])!==null&&Xn!==void 0?Xn:{},sr=Ln.fullTitle;return(0,C.jsx)(Mt.Z,{closable:ur&&!kn,onClose:Fn,children:sr==null?void 0:sr.join(" / ")})},[At]),vr=Array.isArray(Nn)?Nn.filter(function(Wn){return Wn.value in At}):Nn,gr=Q.multiple?Ce:Ce!=null?[Ce]:[];return(0,C.jsx)(zn.Z,r()({role:"button","data-testid":"select-field".concat(ve?"-".concat(ve):""),value:vr,placeholder:lt("Select field"),showCheckedStrategy:zn.Z.SHOW_ALL,treeDefaultExpandedKeys:gr,allowClear:{clearIcon:(0,C.jsx)(rt.Z,{role:"button","aria-label":"icon-close"})},treeCheckStrictly:Q.multiple,treeCheckable:Q.multiple,tagRender:or,onChange:pn,treeDataSimpleMode:!0,treeData:Jn,loadData:Cn},st))},Qr=e(19958),Yr=e(45360),to=e(77707),Wr=e(29132),xo=e(73691),fo=["objectValue","addMode"],yo=function(Q){var ve=useContext(SchemaComponentContext);return _jsx(SchemaComponentContext.Provider,{value:_objectSpread(_objectSpread({},ve),{},{draggable:!0}),children:_jsx(Action.Container,_objectSpread({},Q))})},Ao=function(Q){if(Q){var ve=Object.keys(Q)[0]||"$and",Ce=Q[ve],Ee=[];return Ce==null||Ce.map(function(Fe){var Ie,Ne,Ke=(0,Nt.od)(Fe),ze=Ke==null?void 0:Ke.key;if(!ze)return!0;var Xe=/\{\{\$[a-zA-Z_]\w*(?:\.[a-zA-Z_]\w*)*\.(\w+)\.id\}\}/,Ge=Ke==null||(Ie=Ke.value)===null||Ie===void 0||(Ne=Ie.match)===null||Ne===void 0||(Ne=Ne.call(Ie,Xe))===null||Ne===void 0?void 0:Ne[1];Ge&&Ee.push(Ge)}),Ee}},mo=(0,S.observer)(function(me){var Q,ve=me.objectValue,Ce=ve===void 0?!0:ve,Ee=me.addMode,Fe=R()(me,fo),Ie=(0,S.useField)(),Ne=(0,S.useFieldSchema)(),Ke=(0,Wr.ZP)((Ne==null?void 0:Ne["x-component-props"])||me),ze=(0,Wr.Ky)(),Xe=ze.options,Ge=(0,_t.cG)(me.value)?void 0:me.value,st=Array.isArray(Ge)?Ge.filter(Boolean):Ge,nt=(0,o.useState)(st),it=ye()(nt,2),lt=it[0],Et=it[1],Ut=(Q=Ne["x-component-props"])===null||Q===void 0?void 0:Q.addMode,At=(0,ce.$)(),tn=At.t,Qt=me.multiple,on=(0,S.useForm)(),Jt=(0,ut.useAPIClient)(),Xt=Jt.resource(Xe.target),On=(0,ut.useCollectionRecordData)(),Hn=(0,o.useContext)(ut.SchemaComponentContext);(0,o.useEffect)(function(){var Nn=(0,_t.cG)(Ie.value)?void 0:Ie.value,Cn=Array.isArray(Nn)?Nn.filter(Boolean):Nn;Et(Cn)},[Ie.value]),(0,o.useEffect)(function(){var Nn=(0,$e.uid)();return on.addEffects(Nn,function(){(0,N.onFieldInputValueChange)("*",function(Cn){var pn,or,vr,gr=Ao((pn=Ie.componentProps)===null||pn===void 0||(pn=pn.service)===null||pn===void 0||(pn=pn.params)===null||pn===void 0?void 0:pn.filter)||[];gr.includes(Cn==null||(or=Cn.props)===null||or===void 0?void 0:or.name)&&Ie.value&&(0,O.isEqual)(Cn==null?void 0:Cn.indexes,Ie==null?void 0:Ie.indexes)&&(Cn==null||(vr=Cn.props)===null||vr===void 0?void 0:vr.name)!==Ie.props.name&&(Ie.setValue(null),Et(null))})}),function(){on.removeEffects(Nn)}},[]);var Zn=function(){var Nn=p()(x()().mark(function Cn(pn){var or,vr,gr,Wn,Xn,fn;return x()().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:return vr=pn.search,gr=pn.callBack,kn.next=3,Xt.create({values:oe()({},(Ie==null||(or=Ie.componentProps)===null||or===void 0||(or=or.fieldNames)===null||or===void 0?void 0:or.label)||"id",vr)});case 3:Wn=kn.sent,Xn=Wn.data.data,Xn&&(["m2m","o2m"].includes(Xe==null?void 0:Xe.interface)&&Qt!==!1?(fn=on.getValuesIn(Ie.path)||[],fn.push(Xn),on.setValuesIn(Ie.path,fn),Ie.onInput(fn)):(on.setValuesIn(Ie.path,Xn),Ie.onInput(Xn)),(0,to.mf)(gr)&&(gr==null||gr()),Yr.ZP.success(tn("Saved successfully")));case 6:case"end":return kn.stop()}},Cn)}));return function(pn){return Nn.apply(this,arguments)}}(),Jn=function(Cn){return(0,C.jsxs)("div",{onClick:function(){return Zn(Cn)},style:{cursor:"pointer",padding:"5px 12px",color:"#0d0c0c"},children:[(0,C.jsx)(ko.Z,{}),(0,C.jsx)("span",{style:{paddingLeft:5},children:tn("Add")+" \u201C".concat(Cn.search,"\u201D ")})]})};return(0,C.jsx)("div",{children:(0,C.jsxs)(Dt.Z.Compact,{style:{display:"flex"},children:[(0,C.jsx)(hr,r()(r()({style:{width:"100%"}},Fe),{},{size:"middle",objectValue:Ce,value:st||lt,service:Ke,onChange:function(Cn){var pn,or=(Cn==null?void 0:Cn.length)!==0?Cn:null;(pn=me.onChange)===null||pn===void 0||pn.call(me,or)},CustomDropdownRender:Ut==="quickAdd"&&Jn})),Ut==="modalAdd"&&(0,C.jsx)(ut.SchemaComponentContext.Provider,{value:r()(r()({},Hn),{},{draggable:!1}),children:(0,C.jsx)(ut.RecordProvider,{isNew:!0,record:null,parent:On,children:(0,C.jsx)(xo.Rm,{children:(0,C.jsx)(ut.ClearCollectionFieldContext,{children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Ie.address,schema:Ne,filterProperties:function(Cn){return Cn["x-component"]==="Action"}})})})})})]})},Ne.name)},{displayName:"AssociationSelect"}),ia=mo,fa=(0,S.connect)(function(me){var Q=(0,Wr.ZP)(me);return me.fieldNames?(0,C.jsx)(hr.ReadPretty,r()(r()({},me),{},{service:Q})):null},(0,S.mapProps)({dataSource:"options",loading:!0},function(me,Q){return r()(r()({},me),{},{fieldNames:me.fieldNames&&r()(r()({},me.fieldNames),Q.componentProps.fieldNames),suffixIcon:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffixIcon})})),Lo=e(78899),Go=e(13101),zo={Nester:{type:"void","x-component":"AssociationField.Nester",properties:{grid:{type:"void","x-component":"Grid","x-initializer":"form:configureFields"}}},AddNewer:{type:"void","x-component":"AssociationField.AddNewer","x-action":"create",title:'{{ t("Add record") }}',"x-component-props":{className:"nb-action-popup"},properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-initializer-props":{gridInitializer:"popup:addNew:addBlock"},properties:{tab1:{type:"void",title:'{{t("Add new")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:addNew:addBlock",properties:{}}}}}}}},Selector:{type:"void","x-component":"AssociationField.Selector",title:'{{ t("Select record") }}',"x-component-props":{className:"nb-record-picker-selector"},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:tableSelector:addBlock",properties:{}},footer:{"x-component":"Action.Container.Footer","x-component-props":{},properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{},properties:{submit:{title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"usePickActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:submit","x-component-props":{type:"primary",htmlType:"submit"}}}}}}}},Viewer:{type:"void",title:'{{ t("View record") }}',"x-component":"AssociationField.Viewer","x-component-props":{className:"nb-action-popup"},properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab",properties:{tab1:{type:"void",title:'{{t("Details")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock",properties:{}}}}}}}},SubTable:{type:"void","x-component":"AssociationField.SubTable","x-initializer":"table:configureColumns","x-initializer-props":{action:!1},properties:{}}},Jo=e(37696),Ea=["onRowSelectionChange","rowKey"],ri=["value","multiple","onChange"],oi=function(){var Q=(0,S.useField)(),ve=(0,o.useContext)(z.b7w),Ce=ve.multiple,Ee=ve.options,Fe=Ee===void 0?[]:Ee,Ie=ve.setSelectedRows,Ne=ve.selectedRows,Ke=Ne===void 0?[]:Ne,ze=ve.onChange,Xe=(0,Lo.RP)(),Ge=Xe.onRowSelectionChange,st=Xe.rowKey,nt=st===void 0?"id":st,it=R()(Xe,Ea),lt=(0,z.XCj)(),Et=lt.setVisible;return r()(r()({},it),{},{rowKey:nt,rowSelection:{type:Ce?"checkbox":"radio",selectedRowKeys:Ke==null?void 0:Ke.filter(function(Ut){return Fe.every(function(At){return At[nt]!==Ut[nt]})}).map(function(Ut){return Ut[nt]})},onRowSelectionChange:function(At,tn){if(Ce){var Qt=(0,Jo.sj)(Q.value)||[],on=Ke||[],Jt=(0,O.differenceBy)(on,Qt,nt),Xt=(0,O.unionBy)(Jt,tn,nt),On=Xt.map(function(Hn){return Hn[nt]});Ie==null||Ie(Xt),Ge==null||Ge(On,Xt)}else Ie==null||Ie(tn),Ge==null||Ge(At,tn),ze((tn==null?void 0:tn[0])||null),Et(!1)}})},jl=function(Q){var ve,Ce,Ee=Q.value,Fe=Q.multiple,Ie=Q.onChange,Ne=R()(Q,ri),Ke=(0,S.useFieldSchema)(),ze=(0,o.useState)(!1),Xe=ye()(ze,2),Ge=Xe[0],st=Xe[1],nt=(0,o.useState)([]),it=ye()(nt,2),lt=it[0],Et=it[1],Ut=(0,Wr.fR)("Selector"),At=(0,Wr.Xd)(Q),tn=(0,S.useField)(),Qt=(0,o.useState)([]),on=ye()(Qt,2),Jt=on[0],Xt=on[1],On=(0,I.useCollection_deprecated)(),Hn=On.getField,Zn=Hn(tn.props.name),Jn=(0,Jo.Il)(Zn==null?void 0:Zn.target,(At==null?void 0:At.label)||"label"),Nn=(0,w.eJ)(),Cn=(0,z.XCj)(),pn=Cn.modalProps,or=function(){var fn=(Zn==null?void 0:Zn.targetKey)||"id",Fn=Jt.map(function(ur){return ur[fn]}).filter(Boolean),kn=Fn.length?{$and:[oe()({},"".concat(fn,".$ne"),Fn)]}:{};return kn},vr=function(){Ut(zo.Selector),st(!0),Et([])};(0,o.useEffect)(function(){if(Ee&&Object.keys(Ee).length>0){var Xn=(Array.isArray(Ee)?Ee:Ee?[Ee]:[]).filter(Boolean).map(function(fn){var Fn=fn[At.label];return r()(r()({},fn),{},oe()({},At.label,(0,Jo.cN)(Nn(Jn),Nn(Fn))))});Xt(Xn)}else Xt([])},[Ee,At==null?void 0:At.label]);var gr={size:"small",fieldNames:At,multiple:["o2m","m2m"].includes(Zn==null?void 0:Zn.interface)&&Fe,association:{target:Zn==null?void 0:Zn.target},options:Jt,onChange:Q==null?void 0:Q.onChange,selectedRows:lt,setSelectedRows:Et,collectionField:Zn},Wn=function(){var fn=(0,z.XCj)(),Fn=fn.setVisible,kn=(0,o.useContext)(z.b7w),ur=kn.multiple,Ln=kn.selectedRows,sr=kn.onChange,Ur=kn.options,Kr=kn.collectionField;return{onClick:function(){sr(ur?(0,O.unionBy)(Ln,Ur,(Kr==null?void 0:Kr.targetKey)||"id"):(Ln==null?void 0:Ln[0])||null),Fn(!1)}}};return(0,C.jsxs)("div",{children:[(0,C.jsx)(Go.F,{value:Fe?Jt:Jt==null?void 0:Jt[0],multiple:Fe,quickUpload:((ve=Ke["x-component-props"])===null||ve===void 0?void 0:ve.quickUpload)!==!1,selectFile:((Ce=Ke["x-component-props"])===null||Ce===void 0?void 0:Ce.selectFile)!==!1,action:"".concat(Zn==null?void 0:Zn.target,":create"),onSelect:vr,onChange:Ie}),(0,C.jsx)(M.EI,{value:{openMode:"drawer",visible:Ge,setVisible:st,modalProps:{getContainer:(Ne==null?void 0:Ne.getContainer)||(pn==null?void 0:pn.getContainer)},formValueChanged:!1},children:(0,C.jsx)(z.sUk,r()(r()({},gr),{},{children:(0,C.jsx)(I.CollectionProvider_deprecated,{name:Zn==null?void 0:Zn.target,children:(0,C.jsx)(z.RVL,{children:(0,C.jsx)(Lo.Vs,{params:{filter:or()},children:(0,C.jsx)(z.G0E,{scope:{usePickActionProps:Wn,useTableSelectorProps:oi},children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:tn.address,schema:Ke,filterProperties:function(fn){return fn["x-component"]==="AssociationField.Selector"}})})})})})}))})]})},qi=(0,S.connect)(function(me){var Q=(0,S.useFieldSchema)(),ve=(0,I.useCollection_deprecated)(),Ce=ve.getField,Ee=(0,I.useCollectionManager_deprecated)(),Fe=Ee.getCollectionJoinField,Ie=Ce(Q.name)||Fe(Q["x-collection-field"]);return Ie?(0,C.jsx)(Go.M,r()({},me)):null}),Bl=["parent"],el,tl,Di="N/A",Ll=(0,S.connect)(function(me){var Q,ve=me.data,Ce=me.mapOptions,Ee=me.onChange,Fe=me.value,Ie=(0,o.useState)([{key:void 0,children:[],value:null}]),Ne=ye()(Ie,2),Ke=Ne[0],ze=Ne[1],Xe=(0,o.useState)(ve),Ge=ye()(Xe,2),st=Ge[0],nt=Ge[1],it=(0,o.useState)(!1),lt=ye()(it,2),Et=lt[0],Ut=lt[1],At=(0,z.eJW)(),tn=(0,ut.useAPIClient)(),Qt=(0,Wr.ZP)(me),on=(0,Wr.Ky)(),Jt=on.options,Xt=on.field,On=tn.resource(Jt.target),Hn=(0,ut.useCollectionManager_deprecated)(),Zn=Hn.getCollectionJoinField,Jn=Hn.getInterface,Nn=Xt==null||(Q=Xt.componentProps)===null||Q===void 0?void 0:Q.fieldNames,Cn=(Jt==null?void 0:Jt.target)&&(Nn==null?void 0:Nn.label)&&Zn("".concat(Jt.target,".").concat(Nn.label)),pn=(0,o.useMemo)(function(){return(0,Ve.getFilterOperatorByTargetField)(Cn,Jn)},[Cn]),or=(0,S.useField)();(0,o.useEffect)(function(){if(Fe){var Fn,kn=Array.isArray(Fe)?ai(Fe==null?void 0:Fe.filter(function(Ln){return Ln.value}),!0):Mi(Fe),ur=kn==null||(Fn=kn.map)===null||Fn===void 0?void 0:Fn.call(kn,function(Ln){return{key:Ln.parentId,children:[],value:Ln}});ze(ur)}},[]),(0,o.useEffect)(function(){(Array.isArray(Fe)?!Fe.length:!Object.keys(Fe||{}).length)&&ze([{key:void 0,children:[],value:null}])},[JSON.stringify(Fe)]);var vr=(0,o.useCallback)(function(Fn){try{return Fn==null?void 0:Fn.filter(function(kn){return["number","string"].includes(St()(kn[Nn.value]))}).map(function(kn){var ur,Ln,sr=At(kn[Nn.label]);if(Cn!=null&&(ur=Cn.uiSchema)!==null&&ur!==void 0&&ur.enum)if(Array.isArray(sr))sr=sr.map(function(br,wr){var so,vo,Po=(so=(vo=Cn.uiSchema.enum).find)===null||so===void 0?void 0:so.call(vo,function(uo){return uo.value===br});return Po?(0,C.jsx)(Mt.Z,{color:Po.color,style:{marginRight:3},children:(Po==null?void 0:Po.label)||br},wr):(0,C.jsx)(Mt.Z,{children:br},br)}).reverse();else{var Ur,Kr,Or=(Ur=(Kr=Cn.uiSchema.enum).find)===null||Ur===void 0?void 0:Ur.call(Kr,function(br){return br.value===sr});Or&&(sr=(0,C.jsx)(Mt.Z,{color:Or.color,children:Or.label}))}if((Cn==null?void 0:Cn.type)==="date"&&(sr=et()(sr).format("YYYY-MM-DD")),Ce){var jr;return Ce((jr={},oe()(jr,Nn.label,sr||Di),oe()(jr,Nn.value,kn[Nn.value]),jr))}return r()(r()({},kn),{},(Ln={},oe()(Ln,Nn.label,sr||Di),oe()(Ln,Nn.value,kn[Nn.value]),Ln))}).filter(Boolean)}catch(kn){return(0,Ve.captureException)(kn),Fn}},[Cn==null?void 0:Cn.uiSchema,Nn]),gr=function(){var Fn=p()(x()().mark(function kn(ur){var Ln,sr;return x()().wrap(function(Kr){for(;;)switch(Kr.prev=Kr.next){case 0:return Kr.next=2,On.list(r()(r()({pageSize:200},Qt==null?void 0:Qt.params),{},{filter:(0,K.EO)([ur]),tree:ur.parentId?void 0:!0}));case 2:return sr=Kr.sent,Kr.abrupt("return",sr==null||(Ln=sr.data)===null||Ln===void 0?void 0:Ln.data);case 4:case"end":return Kr.stop()}},kn)}));return function(ur){return Fn.apply(this,arguments)}}(),Wn=function(){var Fn=p()(x()().mark(function kn(ur,Ln,sr){var Ur,Kr,Or;return x()().wrap(function(br){for(;;)switch(br.prev=br.next){case 0:return br.next=2,gr({parentId:Ln==null?void 0:Ln.id});case 2:Ur=br.sent,Kr=ht()(Ke),Kr.splice(sr+1),Kr[sr]=r()(r()({},Kr[sr]),{},{value:Ln}),Ln!=null&&Ln.id&&(Kr[sr+1]={key:Ln==null?void 0:Ln.id,children:(Ur==null?void 0:Ur.length)>0?Ur:null}),ze(Kr),["o2m","m2m"].includes(Jt.interface)?(Or=Array.isArray(Xt.fieldValue)?Xt.fieldValue:[],Or[or.index]=Ln,Xt.fieldValue=Or):Xt.value=Ln,Ee==null||Ee(Kr);case 10:case"end":return br.stop()}},kn)}));return function(ur,Ln,sr){return Fn.apply(this,arguments)}}(),Xn=function(){var Fn=p()(x()().mark(function kn(ur,Ln,sr){var Ur,Kr,Or,jr,br,wr,so,vo,Po,uo,go;return x()().wrap(function(Do){for(;;)switch(Do.prev=Do.next){case 0:if(!ur){Do.next=19;break}return Ut(!0),Or=!!(Ln!=null&&Ln.key),Do.next=5,gr(Or?{parentId:Ln==null?void 0:Ln.key,$and:Qt==null||(Ur=Qt.params)===null||Ur===void 0?void 0:Ur.filter}:{});case 5:if(jr=Do.sent,Ut(!1),nt(jr),!(sr===(Ke==null?void 0:Ke.length)-1&&Ln!==null&&Ln!==void 0&&(Kr=Ln.value)!==null&&Kr!==void 0&&Kr.id)){Do.next=19;break}return Po=!!(Ln!=null&&(br=Ln.value)!==null&&br!==void 0&&br.id),Do.next=12,gr(Po?{parentId:Ln==null||(wr=Ln.value)===null||wr===void 0?void 0:wr.id,$and:Qt==null||(so=Qt.params)===null||so===void 0?void 0:so.filter}:{});case 12:uo=Do.sent,go=ht()(Ke),go.splice(sr+1),go[sr]=r()(r()({},go[sr]),{},{value:Ln==null?void 0:Ln.value}),go[sr+1]={key:Ln==null||(vo=Ln.value)===null||vo===void 0?void 0:vo.id,children:(uo==null?void 0:uo.length)>0?uo:null},ze(go),Ee==null||Ee(go);case 19:case"end":return Do.stop()}},kn)}));return function(ur,Ln,sr){return Fn.apply(this,arguments)}}(),fn=function(){var Fn=p()(x()().mark(function kn(ur,Ln){var sr,Ur;return x()().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return sr=ur?oe()({},Nn.label,oe()({},pn,ur)):{},Ut(!0),Or.next=4,gr(r()(r()({},sr),{},{parentId:Ln==null?void 0:Ln.key}));case 4:Ur=Or.sent,Ut(!1),nt(Ur);case 7:case"end":return Or.stop()}},kn)}));return function(ur,Ln){return Fn.apply(this,arguments)}}();return(0,C.jsx)(Dt.Z,{wrap:!0,children:Ke.map(function(Fn,kn){var ur,Ln,sr,Ur,Kr,Or={disabled:Xt.disabled,key:"".concat((ur=Fn.value)===null||ur===void 0?void 0:ur.id,"+ ").concat(Fn.key," + ").concat(Nn.label),allowClear:!0,showSearch:!0,autoClearSearchValue:!0,filterOption:!1,filterSort:null,defaultValue:{label:Fn==null||(Ln=Fn.value)===null||Ln===void 0?void 0:Ln[Nn.label],value:Fn==null||(sr=Fn.value)===null||sr===void 0?void 0:sr[Nn.value]},labelInValue:!0,onSearch:function(br){return fn(br,Fn)},fieldNames:Nn,style:{minWidth:150},options:Et?[]:vr(st),onDropdownVisibleChange:function(br){return Xn(br,Fn,kn)},notFoundContent:Et?(0,C.jsx)(V.Z,{size:"small"}):null};return Fn.children&&(Ve.isMobile?(0,C.jsx)(jt,r()(r()({},Or),{},{value:{label:Fn==null||(Ur=Fn.value)===null||Ur===void 0?void 0:Ur[Nn.label],value:Fn==null||(Kr=Fn.value)===null||Kr===void 0?void 0:Kr[Nn.value]},onSelectChange:function(br,wr){Wn(br,wr,kn)}})):(0,C.jsx)(dt.default,r()(r()({},Or),{},{onChange:function(br,wr){Wn(br,wr,kn)}})))})})}),nl=(0,S.connect)(function(me){return(0,C.jsx)("div",{className:"association_cascade_select",children:(0,C.jsx)(Ll,r()({},me))})}),Ul=(0,S.observer)(function(me){var Q,ve=(0,He.dQ)(),Ce=ve.token,Ee=(0,Wr.Ky)(),Fe=Ee.options,Ie=(0,o.useMemo)(function(){return(0,N.createForm)()},[]),Ne=(0,ce.$)(),Ke=Ne.t,ze=(0,S.useField)(),Xe=(0,S.useFieldSchema)(),Ge=(0,Rt.hS)()||{},st=Ge.loading,nt=Ge.data,it=nt==null||(Q=nt.data)===null||Q===void 0?void 0:Q[Xe.name];(0,o.useEffect)(function(){var tn=(0,$e.uid)();return Ie.addEffects(tn,function(){(0,N.onFormValuesChange)(function(Qt){if(Fe.interface==="m2o"){var on,Jt=ai((on=Qt.values)===null||on===void 0?void 0:on[Xe.name]);setTimeout(function(){Qt.setValuesIn(Xe.name,Jt),ze.value=Jt})}else{var Xt,On=ai((Xt=Qt.values)===null||Xt===void 0?void 0:Xt.select_array).filter(function(Hn){return Hn&&Object.keys(Hn).length>0});setTimeout(function(){ze.value=On})}})}),function(){Ie.removeEffects(tn)}},[]),(0,o.useEffect)(function(){var tn=ze.value;(Array.isArray(tn)?!tn.length:!Object.keys(tn||{}).length)&&Ie.reset()},[JSON.stringify(ze.value)]);var lt=function(){return Array.isArray(it)&&it.length>0?it:[{}]},Et=r()(r()({},me),{},{service:(Xe==null?void 0:Xe["x-component-props"].service)||me.service}),Ut=lt(),At={type:"object",properties:{select_array:{type:"array","x-component":"ArrayItems","x-decorator":"FormItem",default:Ut,items:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},select:{type:"string","x-decorator":"FormItem","x-component":nl,"x-component-props":Et},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}},properties:{add:{type:"void",title:Ke("Add new"),"x-component":"ArrayItems.Addition"}}}}};return!st&&(0,C.jsx)(S.FormProvider,{form:Ie,children:Fe.interface==="m2o"?(0,C.jsx)("div",{className:Ve.isMobile&&(0,pe.css)(el||(el=q()([`
                  .association_cascade_select {
                    .ant-space {
                      width: 100%;
                      .ant-space-item {
                        width: 100%;
                      }
                    }
                  }
                `]))),children:(0,C.jsx)(z.n6,{components:{FormItem:L.FormItem},schema:r()(r()({},Xe),{},{default:it,title:"","x-component":nl,"x-component-props":Et})})}):(0,C.jsx)("div",{className:Ve.isMobile&&(0,pe.css)(tl||(tl=q()([`
                  .ant-formily-array-items-item {
                    touch-action: auto !important;
                  }
                  .ant-space:first-child {
                    width: 100%;
                    flex-wrap: nowrap;
                    .ant-space-item:nth-child(2) {
                      flex: 1;
                      overflow: hidden;
                    }
                  }
                  .association_cascade_select {
                    width: 100%;
                    padding: 6px;
                    border: 1px dashed `,`;
                    border-radius: `,`px;
                    .ant-space:first-child {
                      flex-direction: column;
                      flex-wrap: nowrap !important;
                      .ant-space-item {
                        width: 100%;
                      }
                    }
                  }
                `])),Ce.colorBorder,Ce.borderRadius),children:(0,C.jsx)(z.n6,{components:{Space:Dt.Z,Input:Dn.Z,ArrayItems:L.ArrayItems,FormItem:L.FormItem},schema:At})})})},{displayName:"InternalCascadeSelect"});function ai(me,Q){var ve=[];if(!Array.isArray(me))return me;var Ce=mt()(me),Ee;try{for(Ce.s();!(Ee=Ce.n()).done;){var Fe=Ee.value,Ie=null;if(Array.isArray(Fe)){for(var Ne=(Fe==null?void 0:Fe.length)-1;Ne>=0;Ne--)if(Fe[Ne].value){Ie=Fe[Ne].value;break}Ie&&ve.push(Ie)}else if(Fe!=null&&Fe.value?Ie=Fe.value:Ie=null,Ie)if(Q){var Ke,ze,Xe;(Ke=ve)===null||Ke===void 0||(ze=(Xe=Ke).push)===null||ze===void 0||ze.call(Xe,Ie)}else ve=Ie;else{var Ge,st,nt;(Ge=ve)===null||Ge===void 0||(st=(nt=Ge).push)===null||st===void 0||st.call(nt,Fe)}}}catch(it){Ce.e(it)}finally{Ce.f()}return ve}function Mi(me){var Q=[];function ve(Ce){if(Ce!=null&&Ce.parent){var Ee=Ce.parent;ve(Ee)}var Fe=Ce.parent,Ie=R()(Ce,Bl);Q.push(Ie)}return me&&ve(me),Q}var ii=e(47646),rl,ol,wl=(0,pe.css)(rl||(rl=q()([`
  & .ant-formily-item-layout-vertical {
    margin-bottom: 10px;
  }
  .ant-card-body {
    padding: 15px 20px 5px;
  }
  .ant-divider-horizontal {
    margin: 10px 0;
  }
`]))),al=(0,pe.css)(ol||(ol=q()([`
  .ant-card-bordered {
    border: none;
  }
  .ant-card-body {
    padding: 0px 20px 20px 0px;
  }
`]))),Ai=(0,S.observer)(function(){var me,Q,ve=(0,S.useField)(),Ce=(0,S.useFieldSchema)(),Ee=(0,Wr.fR)("Nester"),Fe=(0,Wr.Ky)(),Ie=Fe.options,Ne=(me=(Q=Ce["x-decorator-props"])===null||Q===void 0?void 0:Q.showTitle)!==null&&me!==void 0?me:!0,Ke=(0,ii.Hq)(),ze=Ke.actionName;return(0,o.useEffect)(function(){Ee(zo.Nester)},[]),(0,C.jsx)(I.CollectionProvider_deprecated,{name:Ie.target,children:(0,C.jsx)(ii.Hh,{actionPath:"".concat(Ie.target,":").concat(ze||"view"),children:(0,C.jsx)(L.FormLayout,{layout:"vertical",children:(0,C.jsx)("div",{className:(0,pe.cx)(wl,oe()({},al,Ne===!1)),children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:ve.address,schema:Ce,filterProperties:function(Ge){return Ge["x-component"]==="AssociationField.Nester"}})})})})})},{displayName:"InternalNester"}),Nl=["onRowSelectionChange","rowKey"],il=["value","multiple","openSize","onChange","quickUpload","selectFile","shouldMountElement"],La=function(){var Q=(0,S.useField)(),ve=(0,o.useContext)(z.b7w),Ce=ve.multiple,Ee=ve.options,Fe=Ee===void 0?[]:Ee,Ie=ve.setSelectedRows,Ne=ve.selectedRows,Ke=Ne===void 0?[]:Ne,ze=ve.onChange,Xe=(0,Lo.RP)(),Ge=Xe.onRowSelectionChange,st=Xe.rowKey,nt=st===void 0?"id":st,it=R()(Xe,Nl),lt=(0,z.XCj)(),Et=lt.setVisible;return r()(r()({},it),{},{rowKey:nt,rowSelection:{type:Ce?"checkbox":"radio",selectedRowKeys:Ke==null?void 0:Ke.filter(function(Ut){return Fe.every(function(At){return At[nt]!==Ut[nt]})}).map(function(Ut){return Ut[nt]})},onRowSelectionChange:function(At,tn){if(Ce){var Qt=(0,Jo.sj)(Q.value)||[],on=Ke||[],Jt=(0,O.differenceBy)(on,Qt,nt),Xt=(0,O.unionBy)(Jt,tn,nt),On=Xt.map(function(Hn){return Hn[nt]});Ie==null||Ie(Xt),Ge==null||Ge(On,Xt)}else Ie==null||Ie(tn),Ge==null||Ge(At,tn),ze((tn==null?void 0:tn[0])||null),Et(!1)}})},ma=(0,S.observer)(function(me){var Q,ve=me.value,Ce=me.multiple,Ee=me.openSize,Fe=me.onChange,Ie=me.quickUpload,Ne=me.selectFile,Ke=me.shouldMountElement,ze=R()(me,il),Xe=(0,S.useField)(),Ge=(0,Wr.Xd)(me),st=(0,o.useState)(!1),nt=ye()(st,2),it=nt[0],lt=nt[1],Et=(0,S.useFieldSchema)(),Ut=(0,Wr.fR)("Selector"),At=(0,Wr.Ky)(),tn=At.options,Qt=(0,ut.useFormBlockContext)(),on=Qt.collectionName,Jt=(0,w.eJ)(),Xt=(0,Jo.Il)(tn,(Ge==null?void 0:Ge.label)||"label"),On=Et["x-add-new"],Hn=(0,o.useState)([]),Zn=ye()(Hn,2),Jn=Zn[0],Nn=Zn[1],Cn=(0,ut.useCollectionRecordData)(),pn=(0,o.useMemo)(function(){if(ve&&Object.keys(ve).length>0){var Xn=(Array.isArray(ve)?ve:ve?[ve]:[]).filter(Boolean).map(function(fn){var Fn=fn==null?void 0:fn[Ge.label];return r()(r()({},fn),{},oe()({},Ge.label,(0,Jo.cN)(Jt(Xt),Jt(Fn))))});return Xn}return[]},[ve,Ge==null?void 0:Ge.label]),or={size:"small",fieldNames:Ge,multiple:Ce!==!1&&["o2m","m2m"].includes(tn==null?void 0:tn.interface),association:{target:tn==null?void 0:tn.target},options:pn,onChange:me==null?void 0:me.onChange,selectedRows:Jn,setSelectedRows:Nn,collectionField:tn,currentFormCollection:on},vr=function(){var fn;return Ce==null?null:Array.isArray(ve)?(fn=ve.filter(Boolean))===null||fn===void 0?void 0:fn.map(function(Fn){return Fn==null?void 0:Fn[Ge.value]}):ve==null?void 0:ve[Ge.value]},gr=function(){var fn=(tn==null?void 0:tn.targetKey)||"id",Fn=pn.map(function(ur){return ur[fn]}).filter(Boolean),kn=Fn.length?{$and:[oe()({},"".concat(fn,".$ne"),Fn)]}:{};return kn},Wn=function(){var fn=(0,z.XCj)(),Fn=fn.setVisible,kn=(0,o.useContext)(z.b7w),ur=kn.multiple,Ln=kn.selectedRows,sr=kn.onChange,Ur=kn.options,Kr=kn.collectionField;return{onClick:function(){sr(ur?(0,O.unionBy)(Ln,Ur,(Kr==null?void 0:Kr.targetKey)||"id"):(Ln==null?void 0:Ln[0])||null),Fn(!1)},style:{display:ur!==!1&&["o2m","m2m"].includes(Kr==null?void 0:Kr.interface)?"block":"none"}}};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(Dt.Z.Compact,{style:{display:"flex",lineHeight:"32px"},children:[(0,C.jsx)("div",{style:{width:"100%"},children:(0,C.jsx)(dt.default,r()(r()({role:"button","data-testid":"select-data-picker",style:{width:"100%"},popupMatchSelectWidth:!1},ze),{},{mode:Ce?"multiple":me.mode,fieldNames:Ge,onDropdownVisibleChange:function(fn){Ut(zo.Selector),lt(!0)},allowClear:!0,onChange:function(fn){if(fn){if(Array.isArray(fn)){if(!fn.length){Fe([]),Nn([]);return}var kn=pn==null?void 0:pn.filter(function(ur){return fn.includes(ur[Ge.value])});Fe(kn),Nn(kn)}}else{var Fn=Ce?[]:null;Fe(Fn),Nn(Fn)}},options:pn,value:vr(),open:!1}))}),On&&(0,C.jsx)(ut.RecordProvider,{isNew:!0,record:null,parent:Cn,children:(0,C.jsx)(ut.ClearCollectionFieldContext,{children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Xe.address,schema:Et,filterProperties:function(fn){return fn["x-component"]==="Action"}})})})]}),(0,C.jsx)(M.EI,{value:{openSize:((Q=Et["x-component-props"])===null||Q===void 0?void 0:Q.openSize)||Ee,openMode:"drawer",visible:it,setVisible:lt},children:(0,C.jsx)(z.sUk,r()(r()({},or),{},{children:(0,C.jsx)(ut.CollectionProvider_deprecated,{name:tn==null?void 0:tn.target,children:(0,C.jsx)(z.RVL,{children:(0,C.jsx)(Lo.Vs,{params:{filter:gr()},children:(0,C.jsx)(z.G0E,{scope:{usePickActionProps:Wn,useTableSelectorProps:La},children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Xe.address,schema:Et,filterProperties:function(fn){return fn["x-component"]==="AssociationField.Selector"}})})})})})}))})]})},{displayName:"InternalPicker"}),Oi=e(17535),ll=e(25717),Pd=e(78);function n0(me){var Q=useGetAriaLabelOfPopover(),ve=Q.getAriaLabel;useEffect(function(){if(me){var Ce=_toConsumableArray(document.querySelectorAll(".ant-popover-content")),Ee=Ce[Ce.length-1];Ee&&(Ee.setAttribute("role","button"),Ee.setAttribute("data-testid",ve()),Ee.setAttribute("aria-label",ve()))}},[ve,me])}var Ii=e(40454),Da=e(373),kl="__actions__",Ed=300,Ti=function(Q){return(0,Da.k)(Q)?!1:Array.isArray(Q[kl])&&Q[kl].includes(qe.Us.Hidden)},Ms=function(Q){var ve,Ce=(0,be.bz)(),Ee=Ce.form,Fe=(0,S.useForm)(),Ie=Ee||Fe,Ne=(0,S.useField)(),Ke=(0,S.useFieldSchema)(),ze=Ke==null||(ve=Ke.parent)===null||ve===void 0?void 0:ve["x-linkage-rules"],Xe=(0,ge.OQ)(),Ge=(0,ge.Kp)({currentForm:Ie});(0,o.useEffect)(function(){if(ze){var st=(0,$e.uid)(),nt={},it=function lt(Et){if(!Et){Object.keys(nt).forEach(function(At){lt(At)});return}var Ut=nt[Et];Ut&&(Ut.forEach(function(At){At()}),delete nt[Et])};return Ie.addEffects(st,function(){ke(ze,function(lt,Et){if(!Et.disabled&&Et.appliedTo!==qe.ps.ENTIRE_RECORD&&!(!Array.isArray(lt.targetFields)||Array.isArray(lt.targetFields)&&lt.targetFields.length===0)){var Ut=Ne.path.splice(Ne.path.length-1,1,"");if(Q==="o2m")lt.targetFields.forEach(function(tn){var Qt=Ut.push("*.".concat(tn)).toString(),on=(0,O.debounce)(function(Jt){it(Qt);var Xt=Jt.query(Qt);Xt.forEach(function(On){var Hn=Ut.push(On.index).toString(),Zn=nt[Hn];Zn||(Zn=nt[Hn]=[]),Zn.push((0,Qe.jd)({field:On,linkageRules:ze,formValues:(0,O.get)(Jt.values,Hn),localVariables:Ge,action:lt,rule:Et,variables:Xe,variableNameOfLeftCondition:"$nForm.".concat(Hn)}))})},Ed);(0,N.onFieldMount)("".concat(Qt),function(Jt,Xt){on(Xt)}),(0,N.onFieldUnmount)("".concat(Qt),function(Jt,Xt){on(Xt)})});else{var At=lt.targetFields.map(function(tn){return"".concat(Ut.push("".concat(tn)))}).join(",");(0,N.onFieldInit)("*(".concat(At,")"),function(tn,Qt){var on=Ut.toString(),Jt=nt[on];Jt||(Jt=nt[on]=[]),Jt.push((0,Qe.jd)({field:tn,linkageRules:ze,formValues:(0,O.get)(Qt.values,on),localVariables:Ge,action:lt,rule:Et,variables:Xe,variableNameOfLeftCondition:"$nForm.".concat(on)}))})}}})}),function(){Ie.removeEffects(st),it()}}},[JSON.stringify(ze),Q])},Dd=function(Q){var ve;return(Q==null?void 0:Q["x-component"])==="CollectionField"&&(Q==null||(ve=Q["x-component-props"])===null||ve===void 0?void 0:ve.mode)==="PopoverNester"},As=function(Q){var ve,Ce=Q.dataSource,Ee=Q.componentType,Fe=Ee===void 0?void 0:Ee,Ie=(0,be.bz)(),Ne=Ie.form,Ke=(0,S.useFieldSchema)(),ze=Dd(Ke)?Ke==null?void 0:Ke["x-linkage-rules"]:Ke==null||(ve=Ke.parent)===null||ve===void 0?void 0:ve["x-linkage-rules"],Xe=Array.isArray(ze)&&ze.length>0&&ze.some(function(on){return!on.disabled}),Ge=(0,ge.OQ)(),st=(0,ge.Kp)({currentForm:{values:Ne==null?void 0:Ne.values}}),nt=(0,o.useState)([]),it=ye()(nt,2),lt=it[0],Et=it[1];function Ut(){return At.apply(this,arguments)}function At(){return At=p()(x()().mark(function on(){var Jt,Xt;return x()().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:return Hn.next=2,Promise.all(Ce.map(function(){var Zn=p()(x()().mark(function Jn(Nn){return x()().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(!(0,Da.k)(Nn)){pn.next=2;break}return pn.abrupt("return",Nn);case 2:return pn.next=4,Qt(Nn);case 4:return Nn[kl]=pn.sent,pn.abrupt("return",Nn);case 6:case"end":return pn.stop()}},Jn)}));return function(Jn){return Zn.apply(this,arguments)}}()));case 2:Jt=Hn.sent,Fe==="Nester"&&Jt.every(Ti)&&(Xt=(0,Da.d)({}),Ce.push(Xt),Jt.push(Xt)),Et(Jt);case 5:case"end":return Hn.stop()}},on)})),At.apply(this,arguments)}var tn=Array.isArray(Ce)&&Ce.length;(0,o.useEffect)(function(){Xe?Ut():Et(Ce)},[tn,Xe]),(0,o.useEffect)(function(){if(Ne&&Xe){var on=Ne.subscribe(function(Jt){var Xt=Jt.type;Xt==="onFieldValueChange"&&Ut()});return function(){Ne.unsubscribe(on)}}},[Ce]);var Qt=function(){var on=p()(x()().mark(function Jt(Xt){var On,Hn,Zn,Jn,Nn,Cn,pn;return x()().wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:On=[],Hn="$nRecord",Zn=st.find(function(gr){return gr.name===Hn}),Zn&&(Zn.ctx=Xt),Jn=mt()(ze),vr.prev=5,Jn.s();case 7:if((Nn=Jn.n()).done){vr.next=17;break}if(Cn=Nn.value,!(Cn.appliedTo!==qe.ps.ENTIRE_RECORD||Cn.disabled)){vr.next=11;break}return vr.abrupt("continue",15);case 11:return vr.next=13,(0,z.jCg)({ruleGroup:Cn.condition,variables:Ge,localVariables:st,variableNameOfLeftCondition:Hn});case 13:pn=vr.sent,pn&&On.push.apply(On,ht()(Cn.actions.map(function(gr){var Wn=gr.operator;return Wn})));case 15:vr.next=7;break;case 17:vr.next=22;break;case 19:vr.prev=19,vr.t0=vr.catch(5),Jn.e(vr.t0);case 22:return vr.prev=22,Jn.f(),vr.finish(22);case 25:return vr.abrupt("return",On);case 26:case"end":return vr.stop()}},Jt,null,[[5,19,22,25]])}));return function(Xt){return on.apply(this,arguments)}}();return{hasActiveLinkageRules:Xe,dataSourceWithActions:lt}},Os=function(Q){var ve=Q.dataSource,Ce=Q.componentType,Ee=Ce===void 0?void 0:Ce,Fe=As({dataSource:ve,componentType:Ee}),Ie=Fe.hasActiveLinkageRules,Ne=Fe.dataSourceWithActions;return Ms("o2m"),{hasActiveLinkageRules:Ie,dataSourceWithActions:Ne}},Md=function(Q,ve){return Q==null?ve:Q};function Is(me){return St()(me)==="object"&&me!==null}var Ts=(0,S.observer)(function(me){var Q,ve,Ce=(0,S.useFieldSchema)(),Ee=(0,xe.a)(),Fe=(0,I.useCollectionManager_deprecated)(),Ie=Fe.getCollection,Ne=Ce["x-component-props"]||{},Ke=Ne.enableLink,ze=(0,S.useField)(),Xe=(0,Wr.Xd)(me),Ge=(0,o.useState)(!1),st=ye()(Ge,2),nt=st[0],it=st[1],lt=(0,Wr.fR)("Viewer"),Et=(0,Wr.Ky)(),Ut=Et.options,At=(0,o.useState)({}),tn=ye()(At,2),Qt=tn[0],on=tn[1],Jt=(0,w.eJ)(),Xt=(0,z.ngQ)(),On=Xt.designable,Hn=(0,M.XC)(),Zn=Hn.snapshot,Jn=Ie(Ut==null?void 0:Ut.target),Nn=(Jn==null?void 0:Jn.template)==="tree",Cn=(0,o.useRef)(),pn=(0,Jo.Mr)(),or=(0,o.useState)(!1),vr=ye()(or,2),gr=vr[0],Wn=vr[1],Xn=(0,ce.$)(),fn=Xn.t,Fn=(0,o.useMemo)(function(){var br=(0,$e.toArr)(me.value).filter(Boolean);return br},[me.value,(Q=me.value)===null||Q===void 0?void 0:Q.length]),kn=As({dataSource:Fn}),ur=kn.dataSourceWithActions,Ln=kn.hasActiveLinkageRules,sr=Ln?ur:Fn,Ur=function(){return sr.filter(function(wr){return!Ti(wr)}).map(function(wr,so,vo){var Po=wr==null?void 0:wr[(Xe==null?void 0:Xe.label)||"label"],uo=Nn?Mi(wr).map(function(qo){return qo==null?void 0:qo[(Xe==null?void 0:Xe.label)||"label"]}).join(" / "):Is(Po)?JSON.stringify(Po):Po,go=Md(Jt(uo),"N/A"),jo=pn((wr==null?void 0:wr.__collection)||(Ut==null?void 0:Ut.target),(Xe==null?void 0:Xe.label)||"label"),Do=(0,Jo.cN)(Jt(jo),go,!0);return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)("span",{children:Zn?Do:Ke!==!1?(0,C.jsx)("a",{onClick:function(ra){var oa;Wn(!0),ra.stopPropagation(),ra.preventDefault(),On&&lt(zo.Viewer),it(!0),on(wr),Cn==null||(oa=Cn.current)===null||oa===void 0||oa.setPopoverVisible(!1)},children:Do}):Do}),so<vo.length-1?(0,C.jsx)("span",{style:{marginRight:4,color:"#aaa"},children:","}):null]},"".concat(wr==null?void 0:wr.id,"_").concat(so))})},Kr=(0,C.jsx)(xt.B,{ellipsis:!0,ref:Cn,children:Ur()});if(Ke===!1||!gr)return Kr;var Or=function(){return(0,C.jsx)(xo.Rm,{children:(0,C.jsx)(be.s.Provider,{value:!0,children:(0,C.jsx)(D.RV,{children:(0,C.jsx)(S.RecursionField,{schema:Ce,onlyRenderProperties:!0,basePath:ze.address,filterProperties:function(so){return so["x-component"]==="AssociationField.Viewer"}})})})})},jr=function(){var wr,so=Ce==null||(wr=Ce["x-collection-field"])===null||wr===void 0?void 0:wr.split(".");return so&&so.length>2?(0,C.jsx)(xe.HV,{record:Qt,parent:Ee[so[1]],children:Or()}):(0,C.jsx)(xe.HV,{record:Qt,parent:Ee,children:Or()})};return(0,C.jsx)("div",{children:(0,C.jsx)(be.WJ.Provider,{value:"".concat(Ut==null?void 0:Ut.collectionName,".").concat(Ut==null?void 0:Ut.name),children:(0,C.jsxs)(I.CollectionProvider_deprecated,{name:(ve=Ut==null?void 0:Ut.target)!==null&&ve!==void 0?ve:Ut==null?void 0:Ut.targetCollection,children:[Kr,(0,C.jsx)(M.EI,{value:{visible:nt,setVisible:it,openMode:"drawer",snapshot:(Ut==null?void 0:Ut.interface)==="snapshot",fieldSchema:Ce},children:jr()})]})})})},{displayName:"ReadPrettyInternalViewer"}),Fs,Ad=(0,pe.css)(Fs||(Fs=q()([`
  min-width: `,`;
  max-width: `,`;
  max-height: 440px;
  overflow: auto;
  .ant-card {
    border: 0px;
  }
`])),Ve.isMobile?"0":"600px",Ve.isMobile?"calc(100vw - 32px - 24px)":"800px"),Od=(0,S.observer)(function(me){var Q,ve=(0,Wr.Ky)(),Ce=ve.options,Ee=(0,o.useState)(!1),Fe=ye()(Ee,2),Ie=Fe[0],Ne=Fe[1],Ke=(0,ce.$)(),ze=Ke.t,Xe=(0,S.useFieldSchema)();Xe["x-component-props"].enableLink=!1;var Ge=(0,o.useRef)(),st=r()(r()({},me),{},{shouldMountElement:!0}),nt=(0,C.jsx)("div",{ref:Ge,className:"".concat(Ad," popover-subform-container"),children:(0,C.jsx)(Ai,r()({},st))}),it=function(){return Ge.current},lt=(0,o.useContext)(ll.f),Et={getContainer:it},Ut=(0,Pd.t)(),At=Ut.getAriaLabel,tn=me.Container||Ii.q,Qt=(0,o.useCallback)(function(Jt){Ne(Jt)},[]),on=(0,o.useMemo)(function(){return{padding:"0px"}},[]);return(0,C.jsxs)(ll.E,{value:r()(r()({},lt),{},{modalProps:Et}),children:[(0,C.jsx)(tn,{overlayStyle:on,content:nt,trigger:"click",placement:"topLeft",open:Ie,onOpenChange:Qt,title:ze(Ce==null||(Q=Ce.uiSchema)===null||Q===void 0?void 0:Q.rawTitle),children:(0,C.jsxs)("span",{style:{cursor:"pointer",display:"flex"},children:[(0,C.jsx)("div",{style:{maxWidth:"95%"},children:(0,C.jsx)(Ts,r()({},me))}),(0,C.jsx)(Oi.Z,{style:{display:"inline-flex",margin:"5px"}})]})}),Ie&&(0,C.jsx)("div",{role:"button","aria-label":At("mask"),onClick:function(){return Ne(!1)},style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",zIndex:9999}})]})},{displayName:"InternalPopoverNester"}),Rs,js=(0,S.observer)(function(){var me,Q=(0,S.useField)(),ve=(0,S.useFieldSchema)(),Ce=(0,Wr.fR)("SubTable"),Ee=(0,Wr.fR)("Selector"),Fe=(0,Wr.Ky)(),Ie=Fe.options,Ne=(0,ii.Hq)(),Ke=Ne.actionName;(0,o.useEffect)(function(){Ce(zo.SubTable),Q.required=ve.required},[]),(0,o.useEffect)(function(){var Ge;(Ge=Q.componentProps)!==null&&Ge!==void 0&&Ge.allowSelectExistingRecord&&Ee(zo.Selector)},[(me=Q.componentProps)===null||me===void 0?void 0:me.allowSelectExistingRecord]);var ze=(0,z.Bsl)(),Xe=r()(r()({},ze.components),{},{FormItem:z.xJW,"Radio.Group":In,"Checkbox.Group":function(st){return(0,C.jsx)(In,r()({multiple:!0,mode:"multiple"},st))}});return(0,C.jsx)(I.CollectionProvider_deprecated,{name:Ie.target,children:(0,C.jsx)(ii.Hh,{actionPath:"".concat(Ie.target,":").concat(Ke||"view"),children:(0,C.jsx)(L.FormLayout,{className:(0,pe.css)(Rs||(Rs=q()([`
              .ant-formily-item-bordered-none {
                .ant-input-number-group-addon {
                  border: none !important;
                  background: none;
                }
                .ant-checkbox-wrapper {
                  margin-left: 8px;
                }
                .ant-table {
                  margin: 0px !important;
                }
              }
            `]))),layout:"vertical",bordered:!1,children:(0,C.jsx)(S.SchemaOptionsContext.Provider,{value:{scope:ze.scope,components:Xe},children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Q.address,schema:ve,filterProperties:function(st){return st["x-component"]==="AssociationField.SubTable"}})})})})})},{displayName:"InternalSubTable"}),r0=function(me){return me.Picker="Picker",me.Nester="Nester",me.PopoverNester="PopoverNester",me.Select="Select",me.SubTable="SubTable",me.FileManager="FileManager",me.CascadeSelect="CascadeSelect",me.Tag="Tag",me}({}),Fi={Picker:ma,Nester:Ai,PopoverNester:Od,Select:ia,SubTable:js,FileManager:jl,CascadeSelect:Ul},Bs=(0,o.createContext)({modeToComponent:Fi,getComponent:function(Q){return Fi[Q]},getDefaultComponent:function(Q){return Fi[Q]}}),o0=function(Q){var ve=Ls(),Ce=useMemo(function(){return _objectSpread(_objectSpread({},ve.modeToComponent),Q.modeToComponent)},[ve.modeToComponent,Q.modeToComponent]),Ee=useCallback(function(Ne){return Ce[Ne]||Fi[Ne]},[Ce]),Fe=useCallback(function(Ne){return Fi[Ne]},[]),Ie=useMemo(function(){return{modeToComponent:Ce,getComponent:Ee,getDefaultComponent:Fe}},[Ee,Ce,Fe]);return _jsx(Bs.Provider,{value:Ie,children:Q.children})},Ls=function(){return o.useContext(Bs)},Us=e(1836),sl=e(13642),li=e(48054),Ri=e(53285),ws=(0,S.observer)(function(me){var Q,ve,Ce,Ee,Fe,Ie=(0,S.useField)(),Ne=(0,Us.Kx)(),Ke=(0,Us.d9)(),ze=(0,S.useFieldSchema)(),Xe=(0,Ri.P5)()||{},Ge=Xe.isInSubTable;(0,w.Dm)();var st=((Q=ze["x-component-props"])===null||Q===void 0?void 0:Q.multiple)!==!1,nt=((ve=ze["x-component-props"])===null||ve===void 0?void 0:ve.allowDissociate)!==!1,it=((Ce=ze["x-component-props"])===null||Ce===void 0?void 0:Ce.modifyOnly)===!0,lt=(Ee=ze["x-decorator-props"])===null||Ee===void 0?void 0:Ee.params,Et=(0,o.useMemo)(function(){return Ne.getField(ze["x-collection-field"])},[ze["x-collection-field"],ze.name]),Ut=(0,o.useMemo)(function(){var On;return((On=Ke.getCollection(Et==null?void 0:Et.target))===null||On===void 0?void 0:On.template)==="file"},[ze["x-collection-field"]]),At=(0,o.useMemo)(function(){var On;return((On=ze["x-component-props"])===null||On===void 0?void 0:On.mode)||(Ut?"FileManager":"Select")},[(Fe=ze["x-component-props"])===null||Fe===void 0?void 0:Fe.mode]),tn=(0,o.useMemo)(function(){return JSON.stringify(Ie.value)},[Ie.value]),Qt=(0,o.useState)(!Ie.readPretty),on=ye()(Qt,2),Jt=on[0],Xt=on[1];return(0,o.useEffect)(function(){if(Xt(!0),!Et){Xt(!1);return}if(Ie.value&&Ie.form.__template&&["Nester","SubTable","PopoverNester"].includes(At))if(["belongsTo","hasOne"].includes(Et.type)){var On;(On=Ie.value)!==null&&On!==void 0&&On[Et.targetKey]&&delete Ie.value[Et.targetKey],Ie.value=r()(r()({},Ie.initialValue),Ie.value)}else["belongsToMany","hasMany"].includes(Et.type)&&Array.isArray(Ie.value)&&(Ie.value=Ie.value.map(function(Hn){var Zn;return delete Hn[Et.targetKey],r()(r()({},(Zn=Ie.initialValue)===null||Zn===void 0?void 0:Zn[0]),Hn)}));if(Ie.value!==null&&Ie.value!==void 0){["Nester","PopoverNester"].includes(At)&&Array.isArray(Ie.value)&&Ie.value.length===0&&["belongsToMany","hasMany"].includes(Et.type)&&(Ie.value=[(0,Da.d)({})]),Xt(!1);return}["Nester"].includes(At)&&(["belongsTo","hasOne"].includes(Et.type)?Ie.value={}:["belongsToMany","hasMany"].includes(Et.type)&&(Ie.value=[(0,Da.d)({})])),At==="SubTable"&&(Ie.value=[]),Xt(!1)},[At,Et,tn,lt]),Jt?Ge?null:(0,C.jsx)(li.Z,{paragraph:{rows:1}}):Et?(0,C.jsx)(sl.O.Provider,{value:{options:Et,field:Ie,allowMultiple:st,allowDissociate:nt,currentMode:At,modifyOnly:it},children:me.children}):null},{displayName:"AssociationFieldProvider"}),Id=e(94080),Td=(0,S.observer)(function(me){var Q=(0,S.useField)(),ve=(0,S.useFieldSchema)(),Ce=(0,M.XC)(),Ee=(0,I.useCollectionManager_deprecated)(),Fe=Ee.getCollection,Ie=(0,Wr.fR)("AddNewer"),Ne=(0,Wr.Ky)(),Ke=Ne.options,ze=(0,o.useState)(!1),Xe=ye()(ze,2),Ge=Xe[0],st=Xe[1],nt=Fe(Ke==null?void 0:Ke.target),it=(0,o.useState)(nt==null?void 0:nt.name),lt=ye()(it,2),Et=lt[0],Ut=lt[1],At=(0,o.useState)(nt==null?void 0:nt.dataSource),tn=ye()(At,2),Qt=tn[0],on=tn[1],Jt=function(On){Ie(zo.AddNewer),st(!0),Ut(On.name),on(On.dataSource)};return(0,C.jsxs)(I.CollectionProvider_deprecated,{name:Ke==null?void 0:Ke.target,children:[(0,C.jsx)(Id.CreateAction,r()(r()({},me),{},{onClick:function(On){return Jt(On)}})),(0,C.jsx)(M.EI,{value:r()(r()({},Ce),{},{visible:Ge,setVisible:st}),children:(0,C.jsx)(I.CollectionProvider_deprecated,{name:Et,dataSource:Qt,children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Q.address,schema:ve,filterProperties:function(On){return On["x-component"]==="AssociationField.AddNewer"}})})})]})},{displayName:"CreateRecordAction"}),Fd=(0,S.observer)(function(me){var Q=me.multiple,ve=(0,S.useField)(),Ce=(0,S.useForm)(),Ee=(0,Wr.Ky)(),Fe=Ee.options,Ie=Ee.currentMode,Ne=Ls(),Ke=Ne.getComponent,ze=function(){var st=(0,Qr.useAssociationCreateActionProps)(),nt=st.onClick,it=(0,S.useField)(),lt=(0,I.useCollection_deprecated)(),Et=lt.getPrimaryKey,Ut=Et();return{onClick:function(){return p()(x()().mark(function tn(){var Qt,on,Jt,Xt;return x()().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:return Hn.next=2,nt();case 2:on=((Qt=it.data)===null||Qt===void 0||(Qt=Qt.data)===null||Qt===void 0?void 0:Qt.data)||{},Jt=on.data,Jt&&(["m2m","o2m"].includes(Fe==null?void 0:Fe.interface)&&Q!==!1?(Xt=Ce.getValuesIn(ve.path)||[],Xt.find(function(Zn){return Zn[Ut]===Jt[Ut]})||(Xt.push(Jt),Ce.setValuesIn(ve.path,Xt),ve.onInput(Xt))):(Ce.setValuesIn(ve.path,Jt),ve.onInput(Jt)));case 4:case"end":return Hn.stop()}},tn)}))()}}},Xe=Ke(Ie);return(0,C.jsx)(z.G0E,{scope:{useCreateActionProps:ze},components:{CreateRecordAction:Td},children:(0,C.jsx)(Xe,r()({},me))})},{displayName:"EditableAssociationField"}),Rd=(0,S.observer)(function(me){return(0,C.jsx)(ws,{children:(0,C.jsx)(Fd,r()({},me))})},{displayName:"Editable"}),jd=e(28336),Wl=e(23923),za=e(4393),ul=e(83062),cl=e(44899),dl=e(49834),ji=e(29124),Ns,ks,Ws,Bd=function(Q){var ve=(0,o.useContext)(sl.O),Ce=ve.options;return["hasOne","belongsTo"].includes(Ce.type)?(0,C.jsx)(Ri.Cm,{isInSubForm:!0,children:(0,C.jsx)(Ld,r()({},Q))}):["hasMany","belongsToMany"].includes(Ce.type)?(0,C.jsx)(Ri.Cm,{isInSubForm:!0,children:(0,C.jsx)(Ud,r()({},Q))}):null},Ld=function(Q){var ve,Ce,Ee=(0,Wr.Ky)(),Fe=Ee.field,Ie=(0,dl.oV)(),Ne=(0,Rt.Kx)(),Ke=(0,je.d)(),ze=Ke.token,Xe=(0,S.useFieldSchema)();Ms("o2o");var Ge=(0,o.useCallback)(function(lt){var Et,Ut=lt.form,At=lt.fieldSchema,tn=lt.collectionField,Qt=lt.getInterface,on=lt.formBlockType;return!tn||tn.target&&(Et=At["x-component-props"])!==null&&Et!==void 0&&Et.mode&&!["Picker","Select"].includes(At["x-component-props"].mode)||on==="update"?!1:!(Ut!=null&&Ut.readPretty)&&!(0,F.VZ)(At)&&!ji.TU.includes(tn==null?void 0:tn.interface)&&!(0,F.Mq)(tn,Qt)},[]),st=Xe==null||(ve=Xe.parent)===null||ve===void 0||(ve=ve["x-decorator-props"])===null||ve===void 0?void 0:ve.showTitle,nt=Object.keys((Xe==null||(Ce=Xe.properties)===null||Ce===void 0||(Ce=Ce.grid)===null||Ce===void 0?void 0:Ce.properties)||{}).length,it=!st&&nt===1;return(0,C.jsx)(cl.T,{name:"nester",children:(0,C.jsx)(Wr._c,{value:{value:Fe.value,collection:Ne,fieldSchema:Xe.parent},children:(0,C.jsx)(xe.HV,{isNew:Ie==null?void 0:Ie.isNew,record:Fe.value,parent:Ie==null?void 0:Ie.data,children:(0,C.jsx)(ji.yT,{isAllowToSetDefaultValue:Ge,children:(0,C.jsx)(za.Z,{bordered:!1,className:(0,pe.css)(Ns||(Ns=q()([`
                box-shadow: none !important;
                .ant-card-body {
                  border: `,`;
                  padding: `,` !important;
                  border-radius: `,`px;
                }
              `])),it?"none":"1px dashed ".concat(ze.colorBorder),it?"0":"15px 20px 5px",ze.borderRadius),children:Q.children})})})})})},Ud=(0,S.observer)(function(me){var Q,ve=(0,S.useFieldSchema)(),Ce=(0,Wr.Ky)(),Ee=Ce.options,Fe=Ce.field,Ie=Ce.allowMultiple,Ne=Ce.allowDissociate,Ke=Ce.modifyOnly,ze=(0,ce.$)(),Xe=ze.t,Ge=(0,dl.nE)(),st=(0,Rt.Kx)(),nt=(0,U.LY)(),it=(0,je.d)(),lt=it.token;Array.isArray(Fe.value)||(Fe.value=[]);var Et=Os({dataSource:Fe.value,componentType:"Nester"}),Ut=Et.dataSourceWithActions,At=Et.hasActiveLinkageRules,tn=At?Ut:Fe.value,Qt=(0,o.useCallback)(function(Zn){var Jn,Nn=Zn.form,Cn=Zn.fieldSchema,pn=Zn.collectionField,or=Zn.getInterface;return!pn||pn.target&&(Jn=Cn["x-component-props"])!==null&&Jn!==void 0&&Jn.mode&&!["Picker","Select"].includes(Cn["x-component-props"].mode)?!1:!(Nn!=null&&Nn.readPretty)&&!(0,F.VZ)(Cn)&&!ji.TU.includes(pn==null?void 0:pn.interface)&&!(0,F.Mq)(pn,or)},[]),on=function(Jn){var Nn,Cn=null;return Object.values(Fe.form.fields).forEach(function(pn){pn.props.name===Jn&&(Cn=pn)}),((Nn=Cn)===null||Nn===void 0||(Nn=Nn.componentProps)===null||Nn===void 0?void 0:Nn.service)||{}},Jt=function(){(0,Oe.action)(p()(x()().mark(function Jn(){var Nn,Cn,pn,or,vr,gr,Wn,Xn,fn;return x()().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:if(Cn=ve==null||(Nn=ve["x-component-props"])===null||Nn===void 0?void 0:Nn.batchAddFieldName,Cn){kn.next=3;break}return kn.abrupt("return");case 3:return pn=st.fields.find(function(ur){var Ln=ur.name;return Ln===Cn})||{},or=pn.target,vr=pn.targetKey,gr=on(Cn),kn.prev=5,kn.next=8,nt.request({url:"".concat(or,":list"),params:r()(r()({pageSize:200},gr==null?void 0:gr.params),{},{filter:gr==null||(Wn=gr.params)===null||Wn===void 0?void 0:Wn.filter})});case 8:return Xn=kn.sent,fn=Xn.data.data,fn.forEach(function(ur,Ln){var sr;((sr=Fe.value)===null||sr===void 0||(sr=sr[Ln])===null||sr===void 0||(sr=sr[Cn])===null||sr===void 0?void 0:sr[vr])!==ur[vr]&&Fe.value.splice(Ln,1,(0,Da.d)(oe()({},Cn,ur)))}),(0,$e.each)(Fe.form.fields,function(ur,Ln){ur||delete Fe.form.fields[Ln]}),kn.abrupt("return",Fe.onInput(Fe.value));case 15:kn.prev=15,kn.t0=kn.catch(5);case 17:case"end":return kn.stop()}},Jn,null,[[5,15]])})))},Xt=(0,z.ngQ)(),On=Xt.designable,Hn=On||(ve==null||(Q=ve["x-component-props"])===null||Q===void 0?void 0:Q.batchAddFieldName);return tn.length>0?(0,C.jsx)(za.Z,{bordered:!1,style:{position:"relative"},className:(0,pe.css)(ks||(ks=q()([`
          box-shadow: none !important;
          .ant-card-body {
            border: 1px dashed `,`;
            border-radius: `,`px;
            padding: 15px 20px 5px !important;
          }
          > .ant-card-body > .ant-divider:last-child {
            display: none;
          }
        `])),lt.colorBorder,lt.borderRadius),children:tn.map(function(Zn,Jn){if(Ti(Zn))return null;var Nn=Ne;return Ne||(Nn=!(Zn!=null&&Zn[Ee.targetKey])),(0,C.jsxs)(o.Fragment,{children:[(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",columnGap:"10px"},children:[!Ke&&Fe.editable&&Ie&&(0,C.jsxs)(C.Fragment,{children:[Hn&&(0,C.jsx)(z.n6,{schema:{type:"void",name:"batchAdd","x-decorator":"FormItem","x-decorator-props":{style:{width:"60px",textAlign:"right",paddingTop:"10px",marginBottom:"10px"},fieldSchema:ve,index:Jn},"x-component":"Tooltip","x-component-props":{title:Xe("Add all")},"x-settings":"subFormBatchAddSettings",properties:{icon:{"x-component":"AppstoreAddOutlined","x-component-props":{style:{color:"#a8a3a3"},onClick:"{{ onBatchAdd }}"}}}},scope:{onBatchAdd:Jt},components:{Tooltip:ul.Z,AppstoreAddOutlined:jd.Z}}),(0,C.jsx)(ul.Z,{title:Xe("Add new"),children:(0,C.jsx)(ko.Z,{style:{zIndex:1e3,color:"#a8a3a3"},onClick:function(){(0,Oe.action)(function(){return Array.isArray(Fe.value)||(Fe.value=[]),Fe.value.splice(Jn+1,0,(0,Da.d)({})),(0,$e.each)(Fe.form.fields,function(pn,or){pn||delete Fe.form.fields[or]}),Fe.onInput(Fe.value)})}})},"add")]}),!Ke&&!Fe.readPretty&&Nn&&(0,C.jsx)(ul.Z,{title:Xe("Remove"),children:(0,C.jsx)(yt.Z,{style:{zIndex:1e3,color:"#a8a3a3"},onClick:function(){(0,Oe.action)(function(){return(0,Wl.b9)(Fe,{startIndex:Jn,deleteCount:1}),Fe.value.splice(Jn,1),Fe.onInput(Fe.value)})}})},"remove")]}),(0,C.jsx)(cl.T,{name:"nester",children:(0,C.jsx)(Wr._c,{value:{value:Zn,collection:st,fieldSchema:ve.parent},children:(0,C.jsx)(xe.HV,{isNew:(0,Da.k)(Zn),record:Zn,parent:Ge,children:(0,C.jsx)(xe.li,{index:Jn,children:(0,C.jsx)(ji.yT,{isAllowToSetDefaultValue:Qt,children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Fe.address.concat(Jn),schema:ve})})})})})}),(0,C.jsx)(Zt.Z,{})]},Jn)})}):(0,C.jsx)(C.Fragment,{children:Fe.editable&&Ie&&(0,C.jsx)(ul.Z,{title:Xe("Add new"),children:(0,C.jsx)(Nr.ZP,{type:"default",className:(0,pe.css)(Ws||(Ws=q()([`
                border: 1px solid #f0f0f0 !important;
                box-shadow: none;
              `]))),block:!0,icon:(0,C.jsx)(ko.Z,{}),onClick:function(){var Jn=Fe.value;Jn.push({}),Fe.value=Jn}})},"add")})},{displayName:"ToManyNester"}),wd=function(Q,ve){return Q==null?ve:Q},Nd=(0,S.observer)(function(me){var Q,ve=(0,S.useFieldSchema)(),Ce=(0,xe.a)(),Ee=ve["x-component-props"],Fe=Ee.enableLink,Ie=Ee.tagColorField,Ne=(0,S.useField)(),Ke=(0,Wr.Xd)(me),ze=(0,o.useState)(!1),Xe=ye()(ze,2),Ge=Xe[0],st=Xe[1],nt=(0,Wr.fR)("Viewer"),it=(0,Wr.Ky)(),lt=it.options,Et=(0,o.useState)({}),Ut=ye()(Et,2),At=Ut[0],tn=Ut[1],Qt=(0,w.eJ)(),on=(0,z.ngQ)(),Jt=on.designable,Xt=(0,Jo.Il)(lt,(Ke==null?void 0:Ke.label)||"label"),On=(0,M.XC)(),Hn=On.snapshot,Zn=(0,o.useRef)(),Jn=(0,I.useCollectionManager_deprecated)(),Nn=Jn.getCollection,Cn=Nn(lt==null?void 0:lt.target),pn=(Cn==null?void 0:Cn.template)==="tree",or=(0,o.useState)(!1),vr=ye()(or,2),gr=vr[0],Wn=vr[1],Xn=function(){return(0,$e.toArr)(me.value).map(function(Ln,sr,Ur){var Kr=Ln==null?void 0:Ln[(Ke==null?void 0:Ke.label)||"label"],Or=pn?Mi(Ln).map(function(wr){return wr==null?void 0:wr[(Ke==null?void 0:Ke.label)||"label"]}).join(" / "):Is(Kr)?JSON.stringify(Kr):Kr,jr=wd(Qt(Or),"N/A"),br=(0,Jo.cc)(Qt(Xt),jr,Ln[Ie]);return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)("span",{children:Hn?br:Fe!==!1?(0,C.jsx)("a",{onClick:function(so){var vo;Wn(!0),so.stopPropagation(),so.preventDefault(),Jt&&nt(zo.Viewer),st(!0),tn(Ln),Zn==null||(vo=Zn.current)===null||vo===void 0||vo.setPopoverVisible(!1)},children:br}):br})},"".concat(Ln==null?void 0:Ln[Ke.value],"_").concat(sr))})},fn=(0,C.jsx)(xt.B,{ellipsis:!0,ref:Zn,children:Xn()});if(Fe===!1||!gr)return fn;var Fn=function(){return(0,C.jsx)(be.s.Provider,{value:!0,children:(0,C.jsx)(D.RV,{children:(0,C.jsx)(S.RecursionField,{schema:ve,onlyRenderProperties:!0,basePath:Ne.address,filterProperties:function(sr){return sr["x-component"]==="AssociationField.Viewer"}})})})},kn=function(){var Ln,sr=ve==null||(Ln=ve["x-collection-field"])===null||Ln===void 0?void 0:Ln.split(".");return sr&&sr.length>2?(0,C.jsx)(xe.HV,{record:At,parent:Ce[sr[1]],children:Fn()}):(0,C.jsx)(xe.HV,{record:At,parent:Ce,children:Fn()})};return(0,C.jsx)("div",{children:(0,C.jsx)(be.WJ.Provider,{value:"".concat(lt==null?void 0:lt.collectionName,".").concat(lt==null?void 0:lt.name),children:(0,C.jsxs)(I.CollectionProvider_deprecated,{name:(Q=lt==null?void 0:lt.target)!==null&&Q!==void 0?Q:lt==null?void 0:lt.targetCollection,children:[fn,(0,C.jsx)(M.EI,{value:{visible:Ge,setVisible:st,openMode:"drawer",snapshot:(lt==null?void 0:lt.interface)==="snapshot"},children:kn()})]})})})},{displayName:"ReadPrettyInternalTag"}),kd=(0,S.observer)(function(me){var Q=(0,Wr.Ky)(),ve=Q.currentMode;return(0,C.jsxs)(C.Fragment,{children:[["Select","Picker","CascadeSelect"].includes(ve)&&(0,C.jsx)(Ts,r()({},me)),ve==="Tag"&&(0,C.jsx)(Nd,r()({},me)),ve==="Nester"&&(0,C.jsx)(Ai,r()({},me)),ve==="SubTable"&&(0,C.jsx)(js,r()({},me)),ve==="FileManager"&&(0,C.jsx)(qi,r()({},me))]})},{displayName:"ReadPrettyAssociationField"}),Ks=(0,S.observer)(function(me){return(0,C.jsx)(ws,{children:(0,C.jsx)(kd,r()({},me))})},{displayName:"ReadPretty"}),Wd=e(85247),Kd=e(9001),Vs=e(51807),Vd=e(40341),$d=e(86615),zd=e(44377),Bi=e(10274),Kl=e(45587),Zd=e(22638),Hd=e(8291),$s=e(16455),Gd=e(75667),Yd=(0,S.observer)(function(me){var Q=me.schema,ve=me.basePath,Ce=(0,xe.a)(),Ee=(0,Rt.Kx)(),Fe=Q.reduceProperties(function(ze,Xe){return Xe["x-component"]==="CollectionField"?Xe:ze},null),Ie=Fe&&Ee.getField(Fe["x-collection-field"]);if(Fe&&Ce!==null&&Ce!==void 0&&Ce.__collection&&Ie&&["select","multipleSelect"].includes(Ie.interface)){var Ne="".concat(Ce.__collection,".").concat(Fe.name),Ke=r()(r()({},Q.toJSON()),{},{properties:oe()({},Fe.name,r()(r()({},Fe.toJSON()),{},{"x-collection-field":Ne}))});return(0,C.jsx)(S.RecursionField,{basePath:ve,schema:Ke,onlyRenderProperties:!0})}return me.children},{displayName:"ColumnFieldProvider"}),fl=e(31018),zs=function(Q){var ve=(0,o.useState)(null),Ce=ye()(ve,2),Ee=Ce[0],Fe=Ce[1],Ie=function(Ke){Fe(Ke)};return(0,C.jsx)(sl.w.Provider,{value:{currentCellData:Ee,updateCurrentCellData:Ie},children:Q.children})};zs.displayName="TableCellEventProvider";var Zs=function(){var Q=(0,o.useContext)(sl.w);return Q},Hs,Gs,Ys,Xs,Qs,Js,qs,eu,Ua={controlEnableOverflowStyle:(0,pe.css)(Hs||(Hs=q()([`
    div[style] {
      white-space: normal !important;
      word-break: normal !important;
    }
  `]))),wrapperClass:(0,pe.css)(Gs||(Gs=q()([`
    height: 100%;

    .hidden-row {
      display: none;
    }

    .ant-table-wrapper {
      height: 100%;
      .ant-spin-nested-loading {
        height: 100%;
        .ant-spin-container {
          height: 100%;
          display: flex;
          flex-direction: column;
        }
      }
    }

    .ant-table {
      overflow-x: auto;
      overflow-y: hidden;
    }

    .ant-table-thead .ant-table-cell {
      font-family: Inter;
      font-weight: 600;
      &::before {
        display: none;
      }
    }

    .ant-table.ant-table-bordered > .ant-table-container {
      border-inline-start: none;
      border-top: none;
    }

    .ant-table.ant-table-bordered > .ant-table-footer {
      border: none;
    }
  `]))),headerClass:(0,pe.css)(Ys||(Ys=q()([`
    max-width: 300px;
    white-space: nowrap;
    &:hover .general-schema-designer {
      display: block;
    }
  `]))),rowSelectCheckboxContentClass:(0,pe.css)(Xs||(Xs=q()([`
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-evenly;
  `]))),rowSelectCheckboxCheckedClassHover:(0,pe.css)(Qs||(Qs=q()([`
    position: absolute;
    right: 50%;
    transform: translateX(50%);
    &:not(.checked) {
      display: none;
    }
  `]))),rowSelectCheckboxWrapperClassHover:(0,pe.css)(Js||(Js=q()([`
    &:hover {
      .nb-table-index {
        opacity: 0;
      }
      .nb-origin-node {
        display: block;
      }
    }
  `]))),rowSelectCheckboxWrapperClass:(0,pe.css)(qs||(qs=q()([`
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-evenly;

    .nb-table-index {
      opacity: 0;
      padding-left: 0 16px !important;
    }
    &:not(.checked) {
      .nb-table-index {
        opacity: 1;
      }
    }
  `]))),cellClass:(0,pe.css)(eu||(eu=q()([`
    max-width: 300px;
    white-space: nowrap;
    height: 57px;
    .ant-color-picker-trigger {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }
  `])))},Xd=function(){return(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M10 12.5V10V12.5Z",fill:"#B3B3B3"}),(0,C.jsx)("path",{d:"M10 12.5V10",stroke:"#767676","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M2.5 12.5H10H17.5V17.5H2.5V12.5Z",fill:"#DDDFE4",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M2.5 5.20768V4.79102",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M2.5 7.50065V7.08398",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M2.5 2.91667V2.5",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M17.5 5.20768V4.79102",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M17.5 7.50065V7.08398",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M17.5 2.91667V2.5",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M17.5002 7.5H17.0835",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M2.91667 7.5H2.5",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M2.91667 2.5H2.5",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M5.83317 2.5H5.4165",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M8.75016 2.5H8.3335",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M8.75016 7.5H8.3335",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M11.6667 2.5H11.25",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M5.83317 7.5H5.4165",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M11.6667 7.5H11.25",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M14.5832 2.5H14.1665",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M14.5832 7.5H14.1665",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"}),(0,C.jsx)("path",{d:"M17.5002 2.5H17.0835",stroke:"#767676","stroke-linecap":"round","stroke-linejoin":"round"})]})},Qd=function(me){return(0,C.jsx)(ut.Icon,r()({component:Xd},me))},Li=e(73587),Jd=["id"],qd=["index"],ef=["pagination","useProps"],tf=["pagination"],nf=["dragSort","showIndex","onRowSelectionChange","onChange","rowSelection","rowKey","required","onExpand","loading","onClickRow","isSubTable"],tu,nu,ru,ou,rf=o.memo($s.Z),au=function(Q){var ve=(0,S.useField)();return Q.field||ve};function of(me){return me.map(function(Q){return Q.name==="actions"?omit(Q.toJSON(),"properties"):Q.toJSON()})}var a0=function(Q){var ve=of(Q),Ce=useCreation(function(){return{value:_.cloneDeep(ve)}},[]);return _.isEqual(ve,Ce.value)||(Ce.value=_.cloneDeep(ve)),Ce.value};function af(me){var Q=[],ve=[],Ce=[];return me.forEach(function(Ee){Ee.fixed==="left"?Q.push(Ee):Ee.fixed==="right"?Ce.push(Ee):ve.push(Ee)}),[].concat(Q,ve,Ce)}var lf=function(Q){var ve=(0,He.dQ)(),Ce=ve.token,Ee=au(Q),Fe=(0,S.useFieldSchema)(),Ie=(0,Gd.Aj)(),Ne=Ie.schemaInWhitelist,Ke=(0,z.ngQ)(),ze=Ke.designable,Xe=(0,ut.useSchemaInitializerRender)(Fe["x-initializer"],Fe["x-initializer-props"]),Ge=Xe.exists,st=Xe.render,nt=(0,ut.useCollectionParentRecordData)(),it=Fe.reduceProperties(function(tn,Qt){return(0,fl.$Q)(Qt)&&Ne(Object.values(Qt.properties||{}).pop())?tn.concat([Qt]):tn},[]),lt=(0,o.useMemo)(function(){return(0,pe.css)(tu||(tu=q()([`
      .nb-action-link {
        margin: -`,"px -",`px;
        padding: `,"px ",`px;
      }
    `])),Ce.paddingContentVerticalLG,Ce.marginSM,Ce.paddingContentVerticalLG,Ce.margin)},[Ce.paddingContentVerticalLG,Ce.marginSM]),Et=(0,ut.useCollection)(),Ut=(0,o.useMemo)(function(){return it==null?void 0:it.map(function(tn,Qt){var on,Jt=tn.reduceProperties(function(Xn,fn){if((0,fl.J9)(fn))return Xn.concat([fn])},[]),Xt=(Jt==null?void 0:Jt.length)>0?Jt[0]["x-read-pretty"]:tn["x-read-pretty"],On=(Jt==null?void 0:Jt.length)>0?Jt[0]["x-disabled"]:tn["x-disabled"],Hn=!Xt&&!On,Zn=(Jt==null?void 0:Jt.length)>0?Jt[0].name:tn.name,Jn=Ee.query("*.".concat(tn.name)).take(),Nn=!1,Cn=!1,pn="left";if((Jt==null?void 0:Jt.length)>0){var or,vr,gr,Wn=(or=Jt[0])===null||or===void 0?void 0:or["x-component-props"];(Wn==null?void 0:Wn.enableOverflow)===!0&&(Nn=!0),Cn=(vr=Wn==null?void 0:Wn.fixed)!==null&&vr!==void 0?vr:!1,pn=(gr=Wn==null?void 0:Wn.align)!==null&&gr!==void 0?gr:"left"}return Jn!=null&&Jn.hidden?void 0:r()(r()({fixed:Cn,align:pn,title:(0,C.jsx)(S.RecursionField,{name:tn.name,schema:tn,onlyRenderSelf:!0}),dataIndex:Zn,key:tn.name,sorter:(on=tn["x-component-props"])===null||on===void 0?void 0:on.sorter,width:200},tn["x-component-props"]),{},{render:function(fn,Fn,kn){var ur=function(){var Kr,Or=Object.keys(tn.properties)[0];(Kr=Q.updateCurrentCellData)===null||Kr===void 0||Kr.call(Q,{record:Fn,dataIndex:Or,rowIndex:kn,colIndex:Qt})},Ln=Array.isArray(Ee.value)?Ee.value.indexOf(Fn):-1,sr=Ee.address.concat(Fn.__index||Ln);return(0,C.jsx)(Wr._c,{value:{value:Fn,collection:Et,fieldSchema:Fe.parent},children:(0,C.jsx)(ut.RecordIndexProvider,{index:Fn.__index||Ln,children:(0,C.jsx)(ut.RecordProvider,{isNew:(0,Da.k)(Fn),record:Fn,parent:nt,children:(0,C.jsx)(Yd,{schema:tn,basePath:sr,children:(0,C.jsx)("div",{role:"button",className:"".concat(Nn&&Ua.controlEnableOverflowStyle," ").concat(lt),onClick:ur,children:(0,C.jsx)(S.RecursionField,{basePath:sr,schema:tn,onlyRenderProperties:!0})})})})})})},editable:Hn})}).filter(Boolean)},[it,Ee.value,Ee.address,Et,nt,lt]),At=(0,o.useMemo)(function(){if(!Ge)return Ut;var tn=ht()(Ut);return ze&&tn.push({title:st(),dataIndex:"TABLE_COLUMN_INITIALIZER",key:"TABLE_COLUMN_INITIALIZER",render:function(){return(0,C.jsx)("div",{style:{minWidth:200}})},editable:!1}),Q.showDel&&tn.push({title:"",key:"delete",width:60,align:"center",fixed:"right",editable:!1,render:function(on,Jt,Xt){return(0,C.jsx)($d.Z,{style:{cursor:"pointer"},onClick:function(Hn){Hn.stopPropagation(),(0,Oe.action)(function(){var Zn;return(0,Wl.b9)(Ee,{startIndex:Xt,deleteCount:1}),Ee.value.splice(Xt,1),(Zn=Ee.initialValue)===null||Zn===void 0||Zn.splice(Xt,1),Ee.onInput(Ee.value)})}})}}),af(tn)},[Ut,Ge,Ee,st,Q.showDel,ze]);return At},sf=function(Q){var ve,Ce,Ee,Fe,Ie,Ne=(0,He.dQ)(),Ke=Ne.token,ze=(ve=Q["data-row-key"])===null||ve===void 0?void 0:ve.toString(),Xe=(0,Kl.useSortable)({id:ze}),Ge=Xe.setNodeRef,st=Xe.isOver,nt=Xe.active,it=Xe.over,lt=(0,o.useMemo)(function(){var Ut=new Bi.C(Ke.colorSettings).setAlpha(.6).toHex8String();return{topActiveClass:(0,pe.css)(nu||(nu=q()([`
        & > td {
          border-top: 2px solid `,` !important;
        }
      `])),Ut),bottomActiveClass:(0,pe.css)(ru||(ru=q()([`
        & > td {
          border-bottom: 2px solid `,` !important;
        }
      `])),Ut)}},[Ke.colorSettings]),Et=((Ce=nt==null||(Ee=nt.data.current)===null||Ee===void 0?void 0:Ee.sortable.index)!==null&&Ce!==void 0?Ce:-1)>((Fe=it==null||(Ie=it.data.current)===null||Ie===void 0||(Ie=Ie.sortable)===null||Ie===void 0?void 0:Ie.index)!==null&&Fe!==void 0?Fe:-1)?lt.topActiveClass:lt.bottomActiveClass;return(0,C.jsx)("tr",r()(r()({ref:(nt==null?void 0:nt.id)!==ze?Ge:null},Q),{},{className:co()(Q.className,oe()({},Et,nt&&st))}))},uf=function(Q){var ve=Q.id,Ce=R()(Q,Jd),Ee=(0,Kl.useSortable)({id:ve}),Fe=Ee.listeners;return(0,C.jsx)(Qd,r()(r()(r()({},Ce),Fe),{},{style:{cursor:"grab"}}))},cf=function(Q){var ve=Q.index,Ce=R()(Q,qd);return(0,C.jsx)("div",r()(r()({className:co()("nb-table-index"),style:{padding:"0 16px"}},Ce),{},{children:ve}))},df=function(Q,ve){var Ce=(0,ce.$)(),Ee=Ce.t,Fe=(0,o.useMemo)(function(){return r()(r()({},Q),ve)},[JSON.stringify(r()(r()({},Q),ve))]),Ie=(0,o.useCallback)(function(Ke){return Ee("Total {{count}} items",{count:Ke})},[Ee]),Ne=(0,o.useMemo)(function(){return r()({showTotal:Ie,showSizeChanger:!0},Fe)},[Fe,Ee,Ie]);return ve===!1||!ve&&Q===!1?!1:Ne},ff=function(Q){return(0,C.jsx)(z.LBT,{children:(0,C.jsx)("thead",r()({},Q))})},mf=function(Q){return(0,C.jsx)("th",r()(r()({},Q),{},{className:co()(Q.className,Ua.headerClass)}))},vf=function(Q){return(0,C.jsx)(sf,r()({},Q))},Vl=(0,J.t)((0,S.observer)(function(me){var Q,ve,Ce,Ee,Fe,Ie,Ne,Ke,ze=(0,lo.uH)(),Xe=(0,ce.$)(),Ge=Xe.t,st=(0,He.dQ)(),nt=st.token,it=(0,O.omit)(me,["onBlur","onFocus","value"]),lt=it.pagination,Et=it.useProps,Ut=R()(it,ef),At=(Et==null?void 0:Et())||{},tn=At.pagination,Qt=R()(At,tf),on=r()(r()({},Ut),Qt),Jt=on.dragSort,Xt=Jt===void 0?!1:Jt,On=on.showIndex,Hn=On===void 0?!0:On,Zn=on.onRowSelectionChange,Jn=on.onChange,Nn=on.rowSelection,Cn=on.rowKey,pn=on.required,or=on.onExpand,vr=on.loading,gr=on.onClickRow,Wn=on.isSubTable,Xn=R()(on,nf),fn=au(Xn),Fn=(0,ut.useFormBlockContext)(),kn=Fn.form,ur=Zs()||{},Ln=ur.updateCurrentCellData,sr=lf(r()(r()({},Xn),{},{updateCurrentCellData:Ln})),Ur=(0,S.useFieldSchema)(),Kr=(0,ut.useCollection)(),Or=(Ur==null||(Q=Ur.parent)===null||Q===void 0?void 0:Q["x-decorator"])==="TableSelectorProvider",jr=Or?(0,ut.useTableSelectorContext)():(0,ut.useTableBlockContext)(),br=jr.expandFlag,wr=jr.allIncludesChildren,so=(0,Zd.Z)(Xn.onRowDragEnd||function(){}),vo=df(lt,tn),Po=(0,o.useState)(function(){return br?wr:[]}),uo=ye()(Po,2),go=uo[0],jo=uo[1],Do=(0,o.useState)((fn==null||(ve=fn.data)===null||ve===void 0?void 0:ve.selectedRowKeys)||[]),qo=ye()(Do,2),ra=qo[0],oa=qo[1],Wa=(0,o.useState)([]),pa=ye()(Wa,2),ga=pa[0],pi=pa[1],Fa=(Nn==null?void 0:Nn.type)!=="none",xa=(0,o.useRef)(new Map),Ya=(0,o.useMemo)(function(){return(0,pe.css)(ou||(ou=q()([`
        & > td {
          background-color: `,` !important;
        }
        &:hover > td {
          background-color: `,` !important;
        }
      `])),nt.controlItemBgActiveHover,nt.controlItemBgActiveHover)},[nt.controlItemBgActiveHover]),Ma=(0,o.useMemo)(function(){return gr?Ya:""},[gr,nt.controlItemBgActiveHover]),hi=(0,o.useMemo)(function(){return gr?function(Fo,Ro){return{onClick:function(Qo){gr(Fo,pi,ga,Ro)}}}:null},[gr,ga]);(0,Hd.Z)(function(){var Fo=br?wr:[];T().isEqual(Fo,go)||jo(Fo)},[br,wr]);var Ra=(0,o.useCallback)(function(Fo){if(Fo.key)return Fo.key;if(xa.current.has(Fo))return xa.current.get(Fo);var Ro=(0,$e.uid)();return xa.current.set(Fo,Ro),Ro},[]),Aa=(0,o.useCallback)(function(Fo){if(typeof Cn=="string"){var Ro;return(Ro=Fo[Cn])===null||Ro===void 0?void 0:Ro.toString()}else{var Zo;return(Zo=(Cn!=null?Cn:Ra)(Fo))===null||Zo===void 0?void 0:Zo.toString()}},[Cn,Ra]),Xa=Array.isArray(fn==null?void 0:fn.value)?fn.value.map(Aa):[],Vo=(0,o.useMemo)(function(){return Xa},[JSON.stringify(Xa)]),Wo=(0,o.useState)(null),aa=ye()(Wo,2),$o=aa[0],ba=aa[1],ca=(0,o.useMemo)(function(){var Fo=ht()(Array.isArray(fn==null?void 0:fn.value)?fn.value:[]).filter(Boolean);if($o){var Ro=$o.rowIndex,Zo=$o.dataIndex,Qo=$o.record;Fo.forEach(function(ha,Va){Va>Ro&&!Ti(ha)&&(ha[Zo]=Qo[Zo])}),ba(null),Ln(null),kn.validate(new RegExp(Zo))}return Fo},[fn==null?void 0:fn.value,fn==null||(Ce=fn.value)===null||Ce===void 0?void 0:Ce.length,Vo,$o]),ea=Os({dataSource:ca}),Xo=ea.dataSourceWithActions,_a=ea.hasActiveLinkageRules,Ka=(0,o.useMemo)(function(){return function(Fo){return(0,C.jsx)(z.LBT,{onDragEnd:function(Zo){var Qo,ha;if(!Zo.active||!Zo.over){console.warn("move cancel");return}var Va=(Qo=Zo.active)===null||Qo===void 0||(Qo=Qo.data.current)===null||Qo===void 0||(Qo=Qo.sortable)===null||Qo===void 0?void 0:Qo.index,yi=(ha=Zo.over)===null||ha===void 0||(ha=ha.data.current)===null||ha===void 0||(ha=ha.sortable)===null||ha===void 0?void 0:ha.index,Tl=fn.value[Va]||Zo.active,Es=fn.value[yi]||Zo.over;fn.move(Va,yi),so({from:Tl,to:Es})},children:(0,C.jsx)("tbody",r()({},Fo))})}},[so,fn]),gi=(0,o.useCallback)(function(Fo){return(0,C.jsx)("td",r()(r()({},Fo),{},{className:co()(Fo.className,Ua.cellClass),children:Fo.children}))},[ca.length]),_i=(0,o.useMemo)(function(){return{header:{wrapper:ff,cell:mf},body:{wrapper:Ka,row:vf,cell:gi}}},[gi,Ka]),Il=(0,o.useMemo)(function(){return Nn},[JSON.stringify(Nn)]),Wp=(0,o.useMemo)(function(){return{rowSelection:Il?r()({type:"checkbox",selectedRowKeys:ra,onChange:function(Ro,Zo){fn.data=fn.data||{},fn.data.selectedRowKeys=Ro,oa(Ro),Zn==null||Zn(Ro,Zo)},getCheckboxProps:function(Ro){return{"aria-label":"checkbox"}},renderCell:function(Ro,Zo,Qo,ha){var Va,yi;if(!Xt&&!Hn)return ha;var Tl=me==null||(Va=me.pagination)===null||Va===void 0?void 0:Va.current,Es=(me==null||(yi=me.pagination)===null||yi===void 0?void 0:yi.pageSize)||20;return Tl?Qo=Qo+(Tl-1)*Es+1:Qo=Qo+1,Zo.__index&&(Qo=(0,fl.YR)(Zo.__index)),(0,C.jsxs)("div",{role:"button","aria-label":"table-index-".concat(Qo),className:co()(Ro?"checked":null,Ua.rowSelectCheckboxWrapperClass,oe()({},Ua.rowSelectCheckboxWrapperClassHover,Fa)),children:[(0,C.jsxs)("div",{className:co()(Ro?"checked":null,Ua.rowSelectCheckboxContentClass),children:[Xt&&(0,C.jsx)(uf,{id:Aa(Zo)}),Hn&&(0,C.jsx)(cf,{index:Qo})]}),Fa&&(0,C.jsx)("div",{className:co()("nb-origin-node",Ro?"checked":null,Ua.rowSelectCheckboxCheckedClassHover),children:ha})]})}},Il):void 0}},[Il,ra,Zn,Hn,Xt,fn,Aa,Fa,Il]),Kp=(0,o.useCallback)(function(Fo){var Ro,Zo,Qo=Fo.children;return Xt?o.createElement(Kl.SortableContext,{items:((Ro=fn.value)===null||Ro===void 0||(Zo=Ro.map)===null||Zo===void 0?void 0:Zo.call(Ro,Aa))||[]},Qo):o.createElement(o.Fragment,{},Qo)},[fn,Xt,Aa]),da=(0,S.useFieldSchema)(),Ps=da==null||(Ee=da.parent)===null||Ee===void 0||(Ee=Ee["x-decorator-props"])===null||Ee===void 0?void 0:Ee.fixedBlock,hd=(0,z.fMB)(Ps),gd=hd.height,Vp=hd.tableSizeRefCallback,_d=(0,o.useMemo)(function(){return{x:"max-content"}},[]),$p=(0,o.useMemo)(function(){return Ps?{x:"max-content",y:gd}:_d},[Ps,gd,_d]),zp=(0,o.useCallback)(function(Fo){return Ti(Fo)?"hidden-row ".concat(ga.includes(Fo[Cn])?Ma:""):ga.includes(Fo[Cn])?Ma:""},[ga,Ma,Cn]),yd=(0,o.useCallback)(function(Fo,Ro){var Zo=Fo?[].concat(ht()(go),[Ro[Kr.getPrimaryKey()]]):go.filter(function(Qo){return Ro[Kr.getPrimaryKey()]!==Qo});jo(Zo),or==null||or(Fo,Ro)},[go,or,Kr]),Zp=(0,o.useMemo)(function(){return{onExpand:yd,expandedRowKeys:go}},[go,yd]),Hp=Zs()||{},Gp=Hp.currentCellData,Yp=function(Ro){return(0,C.jsxs)("div",{style:{display:"flex",width:"100%",height:"100%",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsx)("div",{style:{flex:1},children:Ro}),(0,C.jsx)(zd.Z,{style:{color:ze.token.xwColorPrimaryHighlight,fontSize:16,cursor:"pointer",marginLeft:8},onClick:function(){ba(Gp)}})]})},Xp=(0,o.useMemo)(function(){if(!me.copyDown)return sr;var Fo=sr.map(function(Ro){return r()(r()({},Ro),{},{title:Ro.editable?Yp(Ro.title):Ro.title})});return Fo},[sr,me.copyDown]),Qp=(0,w.zr)(),Jp=Qp.uploadValidator;return(0,C.jsxs)("div",{className:Ua.wrapperClass,children:[(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"end"},children:[me.upload&&(0,C.jsx)(z.n6,{schema:{"x-uid":da["x-uid"],name:"upload",type:"void",title:Ge("Upload"),"x-toolbar":"ActionSchemaToolbar","x-settings":"subTableActionSettings:upload","x-action-settings":(da==null?void 0:da["x-action-settings"])||(da==null||(Fe=da.parent)===null||Fe===void 0?void 0:Fe["x-action-settings"])||{},"x-component":"Action","x-action":"importXlsx","x-component-props":{icon:"CloudUploadOutlined",openMode:"modal",style:{margin:"0 12px 12px 0"},name:fn==null||(Ie=fn.props)===null||Ie===void 0?void 0:Ie.name,field:fn},properties:r()({},(0,fl.IM)(fn))},scope:{useImportStartAction:w.w$,useDownloadXlsxTemplateAction:w.ki,beforeUploadHandler:w.EB,uploadValidator:Jp,validateUpload:w.Oc}}),me.download&&(0,C.jsx)(z.n6,{schema:{"x-uid":da["x-uid"],name:"download",type:"void",title:Ge("Download"),"x-toolbar":"ActionSchemaToolbar","x-settings":"subTableActionSettings:download","x-action-settings":(da==null?void 0:da["x-action-settings"])||(da==null||(Ne=da.parent)===null||Ne===void 0?void 0:Ne["x-action-settings"])||{},"x-component":"Action","x-component-props":{icon:"clouddownloadoutlined",style:{marginBottom:12},name:fn==null||(Ke=fn.props)===null||Ke===void 0?void 0:Ke.name,tableData:_a?Xo:ca},"x-use-component-props":"useSubTableDownloadAction"},scope:{useSubTableDownloadAction:w.zY}})]}),(0,C.jsx)(Kp,{children:(0,C.jsx)(rf,r()(r()(r()({ref:Vp,rowKey:Cn!=null?Cn:Ra,dataSource:_a?Xo:ca,tableLayout:"auto"},Xn),Wp),{},{loading:vr,pagination:vo,components:_i,onChange:Jn,onRow:hi,rowClassName:zp,scroll:$p,columns:Xp,expandable:Zp,locale:{emptyText:(0,C.jsx)(Li.H,{})}}))}),fn.errors.length>0&&(0,C.jsx)("div",{className:"ant-formily-item-error-help ant-formily-item-help ant-formily-item-help-enter ant-formily-item-help-enter-active",children:fn.errors.map(function(Fo){return Fo.messages.map(function(Ro){return(0,C.jsx)("div",{children:Ro},Ro)})})})]})}),{displayName:"NocoBaseTable"}),iu,lu,su,uu=1,pf=function me(Q){var ve={};return(Q==null?void 0:Q["x-component"])==="CollectionField"?(ve[Q.name]=(0,Vd.BM)(r()(r()({},Q),{},{"x-index":uu++,"x-decorator-props":{},"x-decorator":(Q==null?void 0:Q["x-decorator"])==="QuickEdit"?"FormItem":Q==null?void 0:Q["x-decorator"],"x-read-pretty":!1})),ve):(Q.mapProperties(function(Ce){ve=r()(r()({},ve),me(Ce))}),ve)},hf=(0,pe.css)(iu||(iu=q()([`
  .x-popup-content_focus {
    height: `,`px;
    overflow: auto;
    .s_i_form {
      height: auto;
      overflow: initial;
    }
  }
  .s_i_title {
    font-size: 18px;
    font-weight: bold;
    color: #111928;
  }
  .s_i_form {
    height: 45rem;
    overflow: auto;
    margin-right: -3rem;
    padding: 1.2rem 2.4rem 1.2rem 0;
  }
  .s_i_switch {
    display: flex;
    justify-content: space-between;
    margin-bottom: 12px;
  }
  .s_i_btn {
    display: flex;
    justify-content: space-between;
  }
`])),window.innerHeight/2),gf=function(Q){var ve,Ce=Q.visible,Ee=Q.setVisible,Fe=Q.fieldSchema,Ie=Q.field,Ne=Q.rowIndex,Ke=Q.operateType,ze=Q.setOperateType;Ie.value||(Ie.value=[]);var Xe=(0,o.useState)(Ie.value.length),Ge=ye()(Xe,2),st=Ge[0],nt=Ge[1],it=(0,o.useState)({}),lt=ye()(it,2),Et=lt[0],Ut=lt[1],At=(0,Rt.Kx)(),tn=(0,o.useMemo)(function(){return(0,N.createForm)({effects:function(){(0,N.onFormValuesChange)(function(Jt){Ut(Jt.values)})}})},[]),Qt={type:"void","x-uid":"selectItem","x-component":"FormV2","x-use-component-props":"useCreateFormBlockProps",properties:{grid:{type:"void","x-component":"Grid","x-linkage-rules":(Fe==null||(ve=Fe.parent)===null||ve===void 0?void 0:ve["x-linkage-rules"])||[],properties:pf(Fe)}}};return uu=1,(0,o.useEffect)(function(){var on=isNaN(Ne)?Ie.value.length:Ne;nt(on),tn.reset(),Ie.value[on]&&tn.setValues(Ie.value[on])},[Ce,Ne]),(0,C.jsx)(Wr._c,{value:{value:Et,collection:At,fieldSchema:Fe.parent},children:(0,C.jsxs)(z.wKF,{visible:Ce,setVisible:Ee,className:hf,children:[(0,C.jsx)("div",{className:"s_i_title",children:"Select Item"}),(0,C.jsx)("div",{className:"s_i_form",children:(0,C.jsx)(Ue.TC.Provider,{value:{form:tn},children:(0,C.jsx)(z.n6,{name:Qt["x-uid"],schema:Qt})})}),(0,C.jsxs)("div",{className:"s_i_switch",children:[(0,C.jsx)(Wd.Z,{onClick:function(){st!==0&&(nt(st-1),tn.reset(),tn.setValues(Ie.value[st-1]))}}),(0,C.jsx)("span",{children:"".concat(st+1," / ").concat(Ie.value.length+(Ke==="edit"?0:1))}),(0,C.jsx)(Kd.Z,{onClick:function(){Ke==="add"&&st===Ie.value.length||Ke==="edit"&&st===Ie.value.length-1||(nt(st+1),tn.reset(),Ie.value[st+1]&&tn.setValues(Ie.value[st+1]))}})]}),(0,C.jsxs)("div",{className:"s_i_btn",children:[(0,C.jsx)(Nr.ZP,{style:{flex:1},onClick:function(){Ie.value.splice(st,1),Ee(!1)},children:"Delete"}),(0,C.jsx)(Nr.ZP,{style:{flex:1,margin:"0 8px"},onClick:function(){Ie.value=Ie.value||[],Ie.value.splice(st,1,(0,O.toPlainObject)(tn.values)),nt(Ie.value.length),ze("add"),tn.reset()},children:"Save & New"}),(0,C.jsx)(Nr.ZP,{style:{flex:1},type:"primary",onClick:function(){Ie.value=Ie.value||[],Ie.value.splice(st,1,(0,O.toPlainObject)(tn.values)),Ee(!1),nt(Ie.value.length)},children:"Save"})]})]})})},_f=function me(Q){Q&&((Q==null?void 0:Q["x-component"])==="CollectionField"&&(Q["x-read-pretty"]=!0),Q.mapProperties(function(ve){me(ve)}))},yf=(0,S.observer)(function(me){var Q,ve,Ce,Ee,Fe=me.openSize,Ie=(0,Wr.Ky)(),Ne=Ie.field,Ke=Ie.options,ze=Ie.modifyOnly,Xe=(0,ce.$)(),Ge=Xe.t,st=(0,o.useState)(!1),nt=ye()(st,2),it=nt[0],lt=nt[1],Et=(0,o.useState)([]),Ut=ye()(Et,2),At=Ut[0],tn=Ut[1],Qt=(0,Wr.Xd)(me),on=(0,S.useFieldSchema)(),Jt=(0,w.eJ)(),Xt=(0,Jo.Il)(Ke,(Qt==null?void 0:Qt.label)||"label"),On=(0,Rt.oV)(),Hn=(0,Rt.Kx)(),Zn=(0,je.d)(),Jn=Zn.token,Nn=(0,o.useState)(!1),Cn=ye()(Nn,2),pn=Cn[0],or=Cn[1],vr=(0,o.useState)(),gr=ye()(vr,2),Wn=gr[0],Xn=gr[1],fn=(0,o.useState)(NaN),Fn=ye()(fn,2),kn=Fn[0],ur=Fn[1];Ve.isMobile&&_f(on);var Ln=function(br,wr){if(wr!==void 0&&(0,$e.isArr)(Ne.value)&&br!==wr)return(0,Oe.action)(function(){var so=Ne.value[br];return Ne.value.splice(br,1),Ne.value.splice(wr,0,so),(0,Wl.rN)(Ne,{fromIndex:br,toIndex:wr}),Ne.onInput(Ne.value)})};Ne.move=Ln;var sr=(0,o.useMemo)(function(){if(Ne.value&&Object.keys(Ne.value).length>0){var jr=(Array.isArray(Ne.value)?Ne.value:Ne.value?[Ne.value]:[]).filter(Boolean).map(function(br){var wr=br==null?void 0:br[Qt.label];return r()(r()({},br),{},oe()({},Qt.label,(0,Jo.cN)(Jt(Xt),Jt(wr))))});return jr}return[]},[Ne.value,Qt==null?void 0:Qt.label]),Ur={size:"small",fieldNames:Ne.componentProps.fieldNames,multiple:!0,association:{target:Ke==null?void 0:Ke.target},options:sr,onChange:me==null?void 0:me.onChange,selectedRows:At,setSelectedRows:tn,collectionField:Ke},Kr=function(){var br=(0,z.XCj)(),wr=br.setVisible,so=(0,o.useContext)(z.b7w),vo=so.selectedRows,Po=so.options,uo=so.collectionField;return{onClick:function(){var jo=Ne.value||[];Ne.value=(0,O.uniqBy)(jo.concat(vo),(uo==null?void 0:uo.targetKey)||"id"),Ne.onInput(Ne.value),tn([]),wr(!1)}}},Or=function(){var br=(Ke==null?void 0:Ke.targetKey)||"id",wr=sr.map(function(vo){return vo[br]}).filter(Boolean),so=wr.length?{$and:[oe()({},"".concat(br,".$ne"),wr)]}:{};return so};return(0,C.jsxs)("div",{onTouchStart:function(br){return br.stopPropagation()},onTouchMove:function(br){return br.stopPropagation()},onTouchEnd:function(br){return br.stopPropagation()},className:(0,pe.css)(lu||(lu=q()([`
          padding-bottom: `,`;
          .ant-table-footer {
            padding: 0 !important;
          }
          .ant-formily-item-error-help {
            display: none;
          }
          .ant-description-textarea {
            line-height: 34px;
          }
          .ant-table-cell .ant-formily-item-error-help {
            display: block;
            position: absolute;
            font-size: 12px;
            top: 100%;
            background: #fff;
            width: 100%;
            margin-top: -15px;
            padding: 3px;
            z-index: 1;
            border-radius: 3px;
            box-shadow: 0 0 10px #eee;
            animation: none;
            transform: translateY(0);
            opacity: 1;
          }
        `])),(Q=Ne.componentProps)!==null&&Q!==void 0&&Q.allowSelectExistingRecord?"32px":"12px"),children:[(0,C.jsx)(Ri.Cm,{isInSubTable:!0,children:(0,C.jsx)(Rt.E0,{record:null,parentRecord:On,children:(0,C.jsx)(cl.T,{name:"nester",children:(0,C.jsx)(Wr._c,{value:{value:null,collection:Hn,fieldSchema:on.parent,skip:!0},children:(0,C.jsx)(zs,{children:(0,C.jsx)(B.ZP,{theme:{components:{Table:{headerColor:Jn.xwSubTableHeaderColor,borderColor:Jn.xwSubTableBorderColor,colorText:Jn.xwSubTableColorText,cellPaddingInlineSM:Jn.paddingXS}}},children:(0,C.jsx)(Vl,{className:(0,pe.css)(su||(su=q()([`
                        .ant-formily-item.ant-formily-item-feedback-layout-loose {
                          margin-bottom: 0px !important;
                        }
                        .ant-formily-editable {
                          vertical-align: sub;
                        }

                        .ant-table {
                          border-radius: `,`px;
                        }

                        .ant-table-footer {
                          position: absolute;
                          bottom: 10px;
                          left: 14px;
                          width: 0;
                          height: 0;
                        }

                        .ant-table-thead > tr > th {
                          border-top: 1px solid `,`;
                        }

                        .ant-table-tbody {
                          border-bottom-left-radius: `,`px;
                          border-bottom-right-radius: `,`px;

                          tr:last-child > td:last-child {
                            border-bottom-right-radius: `,`px;
                          }
                        }

                        .ant-table-expanded-row-fixed {
                          width: 100% !important;

                          &::after {
                            display: none;
                          }
                        }

                        .ant-empty-image {
                          height: 40px !important;
                        }

                        .ant-empty-description {
                          font-size: `,`;
                        }
                      `])),Jn.borderRadius,Jn.xwSubTableBorderColor,Jn.borderRadius,Jn.borderRadius,Jn.borderRadius,Jn.fontSizeSM),bordered:!0,size:"small",field:Ne,showIndex:!1,dragSort:!1,showDel:ze||Ne.pattern===qe.Us.ModifyOnly?!1:Ne.editable,pagination:!1,rowSelection:!1,onClickRow:function(br,wr,so,vo){Ve.isMobile&&(ur(vo),Xn("edit"),or(!0))},footer:function(){var br,wr;return(ze||Ne.pattern===qe.Us.ModifyOnly?!1:Ne.editable)&&(0,C.jsxs)(C.Fragment,{children:[((br=Ne.componentProps)===null||br===void 0?void 0:br.allowAddnew)!==!1&&(0,C.jsx)(Vs.Z,{onClick:function(){Ve.isMobile?(ur(Ne.value.length),Xn("add"),or(!0)):(Ne.value=Ne.value||[],Ne.value.push((0,Da.d)({})))},style:{fontSize:23,color:"#767676",backgroundColor:"#fff",borderRadius:"50%",boxShadow:"0px 4px 6px 0px rgba(0, 0, 0, 0.2)"}}),((wr=Ne.componentProps)===null||wr===void 0?void 0:wr.allowSelectExistingRecord)&&(0,C.jsx)(Vs.Z,{size:20,onClick:function(){lt(!0)},style:{fontSize:20,color:Jn.xwColorPrimaryHighlight}})]})},isSubTable:!0,copyDown:!!(Ne!=null&&(ve=Ne.componentProps)!==null&&ve!==void 0&&ve.copyDown),upload:!!(Ne!=null&&(Ce=Ne.componentProps)!==null&&Ce!==void 0&&Ce.upload),download:!!(Ne!=null&&(Ee=Ne.componentProps)!==null&&Ee!==void 0&&Ee.download)})})})})})})}),(0,C.jsx)(M.EI,{value:{openSize:Fe,openMode:"drawer",visible:it,setVisible:lt},children:(0,C.jsx)(z.sUk,r()(r()({},Ur),{},{children:(0,C.jsx)(I.CollectionProvider_deprecated,{name:Ke==null?void 0:Ke.target,children:(0,C.jsx)(z.RVL,{children:(0,C.jsx)(Lo.Vs,{params:{filter:Or()},children:(0,C.jsx)(z.G0E,{scope:{usePickActionProps:Kr,useTableSelectorProps:La,useCreateActionProps:Qr.useCreateActionProps},children:(0,C.jsx)(S.RecursionField,{onlyRenderProperties:!0,basePath:Ne.address,schema:on.parent,filterProperties:function(br){return br["x-component"]==="AssociationField.Selector"}})})})})})}))}),Ve.isMobile&&(0,C.jsx)(Ri.Cm,{isInSubTable:!0,children:(0,C.jsx)(Rt.E0,{record:null,parentRecord:On,children:(0,C.jsx)(cl.T,{name:"nester",children:(0,C.jsx)(gf,{visible:pn,setVisible:or,fieldSchema:on,field:Ne,rowIndex:kn,operateType:Wn,setOperateType:Xn})})})})]})},{displayName:"SubTable"}),Oa=(0,S.connect)(Rd,(0,S.mapReadPretty)(Ks));Oa.SubTable=yf,Oa.Nester=Bd,Oa.AddNewer=M.aU.Container,Oa.Selector=M.aU.Container,Oa.Viewer=M.aU.Container,Oa.InternalSelect=ma,Oa.ReadPretty=Ks;var cu=e(90810),Cf=e(88773),bf=e(94920),du=e(18386);function fu(me){var Q=me.action,ve=Q===void 0?"list":Q,Ce=me.service,Ee=me.fieldNames,Fe=(Ce==null?void 0:Ce.params)||{},Ie=(0,S.useFieldSchema)(),Ne=(0,I.useCollection_deprecated)(),Ke=Ne.getField,ze=(0,I.useCollectionManager_deprecated)(),Xe=ze.getCollectionFields,Ge=(0,xe.a)(),st=(0,o.useCallback)(function(Ut){return Ut&&St()(Ut)==="object"?Ut[Ee.value]:Ut},[Ee.value]),nt=(0,o.useMemo)(function(){if(!(me.value===void 0||me.value===null))return Array.isArray(me.value)?me.value.map(st):[st(me.value)]},[me.value,st]),it=(0,o.useMemo)(function(){return Ke(Ie.name)},[Ie.name]),lt=Ge==null?void 0:Ge[it==null?void 0:it.sourceKey],Et=(0,o.useMemo)(function(){var Ut=["oho","o2m"].includes(it==null?void 0:it.interface);return(0,K.EO)([(0,K.EO)([Ut&&!(0,du.Op)(Ie)&&it!==null&&it!==void 0&&it.foreignKey?oe()({},it.foreignKey,{$is:null}):null,Fe==null?void 0:Fe.filter]),Ut&&lt!==void 0&&lt!==null&&!(0,du.Op)(Ie)&&it!==null&&it!==void 0&&it.foreignKey?oe()({},it.foreignKey,{$eq:lt}):null,Fe!=null&&Fe.filter&&nt?oe()({},Ee.value,oe()({},"$in",nt)):null],"$or")},[Fe==null?void 0:Fe.filter,Xe,it,lt,nt,Ee.value]);return(0,o.useMemo)(function(){return r()(r()({resource:it==null?void 0:it.target,action:ve},Ce),{},{params:r()(r()({},Ce==null?void 0:Ce.params),{},{filter:Et})})},[it==null?void 0:it.target,ve,Et,Ce])}var xf=(0,S.observer)(function(me){var Q=fu(me);return(0,w.vH)(),(0,C.jsx)(hr.ReadPretty,r()(r()({},me),{},{service:Q}))},{displayName:"ReadPretty"}),mu=e(50679),Sf=function(Q){return{type:"void","x-component":"div",properties:oe()({},Q.name||(0,$e.uid)(),Q)}},Pf=(0,S.connect)(function(me){var Q=me.fieldNames,ve=me.objectValue,Ce=ve===void 0?!0:ve,Ee=fu(me);(0,w.vH)();var Fe=(0,o.useCallback)(function(Ne){return!Ce&&St()(Ne)==="object"?Ne[Q.value]:Ne},[Ce,Q.value]),Ie=(0,o.useMemo)(function(){if(!(me.value===void 0||me.value===null))return Array.isArray(me.value)?me.value.map(Fe):Fe(me.value)},[me.value,Fe]);return(0,C.jsx)(hr,r()(r()({},me),{},{objectValue:Ce,value:Ie,service:Ee}))},(0,S.mapProps)({dataSource:"options",loading:!0},function(me,Q){return r()(r()({},me),{},{fieldNames:r()(r()(r()({},ot),me.fieldNames),Q.componentProps.fieldNames),suffixIcon:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffixIcon})}),(0,S.mapReadPretty)(xf)),ml=Pf;ml.Designer=function(){var Q,ve,Ce,Ee,Fe,Ie,Ne=(0,I.useCollectionManager_deprecated)(),Ke=Ne.getCollectionFields,ze=Ne.getInterface,Xe=Ne.getCollectionJoinField,Ge=Ne.getCollection,st=Ne.isTitleField,nt=(0,I.useCollection_deprecated)(),it=nt.getField,lt=(0,be.bz)(),Et=lt.form,Ut=(0,S.useField)(),At=(0,S.useFieldSchema)(),tn=(0,ce.$)(),Qt=tn.t,on=(0,be.C)(),Jt=(0,w.ng)(),Xt=Jt.dn,On=Jt.refresh,Hn=Jt.insertAdjacent,Zn=(0,w.eJ)(),Jn=(0,bf.K)(),Nn=(0,ji.SF)(),Cn=Nn.isAllowToSetDefaultValue,pn=it(At.name)||Xe(At["x-collection-field"]),or=(0,w.cL)(),vr=Ut.address.segments.includes("__form_grid"),gr=ze(pn==null?void 0:pn.interface),Wn=gr==null||(Q=gr.validateSchema)===null||Q===void 0?void 0:Q.call(gr,At),Xn=pn==null||(ve=pn.uiSchema)===null||ve===void 0?void 0:ve.title,fn=pn!=null&&pn.target?Ke(pn==null?void 0:pn.target):[],Fn={title:Ut.title===Xn?void 0:Ut.title},kn=(0,I.useSortFields)(pn==null?void 0:pn.target),ur=((Ce=Ut.componentProps)===null||Ce===void 0||(Ce=Ce.service)===null||Ce===void 0||(Ce=Ce.params)===null||Ce===void 0?void 0:Ce.sort)||[];(0,o.useEffect)(function(){Ut.readPretty!==At["x-read-pretty"]&&(Ut.readPretty=!!At["x-read-pretty"])},[At["x-read-pretty"]]);var Ln=ur==null?void 0:ur.map(function(Or){return Or.startsWith("-")?{field:Or.substring(1),direction:"desc"}:{field:Or,direction:"asc"}});Ut.readPretty||(Fn.required=Ut.required);var sr=fn.filter(function(Or){return st(Or)}).map(function(Or){var jr;return{value:Or==null?void 0:Or.name,label:Zn(Or==null||(jr=Or.uiSchema)===null||jr===void 0?void 0:jr.title)||(Or==null?void 0:Or.name)}}),Ur="editable";At["x-disabled"]===!0&&(Ur="readonly"),At["x-read-pretty"]===!0&&(Ur="read-pretty");var Kr=T().omit(At,"required");return(0,C.jsxs)(mu.a,{children:[(0,C.jsx)(cu.Mj,{}),Et&&!(Et!=null&&Et.readPretty)&&Wn&&(0,C.jsx)(Tr.j0,{title:Qt("Set validation rules"),components:{ArrayCollapse:L.ArrayCollapse,FormLayout:L.FormLayout},schema:{type:"object",title:Qt("Set validation rules"),properties:{rules:{type:"array",default:At==null?void 0:At["x-validator"],"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},maxItems:3,items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{header:'{{ t("Validation rule") }}'},properties:{index:{type:"void","x-component":"ArrayCollapse.Index"},layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:8,wrapperCol:16},properties:r()(r()({},Wn),{},{message:{type:"string",title:'{{ t("Error message") }}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:2,maxRows:2}}}})},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add validation rule") }}',"x-component":"ArrayCollapse.Addition","x-reactions":{dependencies:["rules"],fulfill:{state:{disabled:"{{$deps[0].length >= 3}}"}}}}}}}},onSubmit:function(jr){var br,wr=[],so=mt()(jr.rules),vo;try{for(so.s();!(vo=so.n()).done;){var Po=vo.value;wr.push(T().pickBy(Po,T().identity))}}catch(ra){so.e(ra)}finally{so.f()}var uo=oe()({},"x-uid",At["x-uid"]);if(["percent"].includes(pn==null?void 0:pn.interface)){var go=mt()(wr),jo;try{for(go.s();!(jo=go.n()).done;){var Do=jo.value;(Do.maxValue||Do.minValue)&&(Do.percentMode=!0),Do.percentFormat&&(Do.percentFormats=!0)}}catch(ra){go.e(ra)}finally{go.f()}}var qo=T().concat([],(pn==null||(br=pn.uiSchema)===null||br===void 0?void 0:br["x-validator"])||[],wr);Ut.validator=qo,At["x-validator"]=wr,uo["x-validator"]=wr,Xt.emit("patch",{schema:uo}),On()}}),Cn()&&(0,C.jsx)(Tr.j0,{title:Qt("Set default value"),components:{ArrayCollapse:L.ArrayCollapse,FormLayout:L.FormLayout},width:800,schema:{type:"object",title:Qt("Set default value"),properties:{default:r()(r()({},Kr||{}),{},{"x-decorator":"FormItem","x-component-props":r()(r()({},Kr["x-component-props"]),{},{component:pn!=null&&pn.target?"AssociationSelect":void 0,service:{resource:pn==null?void 0:pn.target}}),name:"default",title:Qt("Default value"),default:At.default||(pn==null?void 0:pn.defaultValue),"x-read-pretty":!1,"x-disabled":!1})}},onSubmit:function(jr){var br=oe()({},"x-uid",At["x-uid"]);Ut.value!==jr.default&&(Ut.value=jr.default),At.default=jr.default,br.default=jr.default,Xt.emit("patch",{schema:br}),On()}}),Et&&!vr&&or&&(0,C.jsx)(Tr.Qf,{title:Qt("Field component"),options:or,value:At["x-component"],onChange:function(jr){var br,wr,so={name:pn==null?void 0:pn.name,type:"void",required:At.required,description:At.description,default:At.default,"x-decorator":"FormItem","x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FormItem","x-component":jr,"x-validator":At["x-validator"],"x-collection-field":At["x-collection-field"],"x-decorator-props":At["x-decorator-props"],"x-component-props":r()(r()({},pn==null||(br=pn.uiSchema)===null||br===void 0?void 0:br["x-component-props"]),At["x-component-props"])};gr==null||(wr=gr.schemaInitialize)===null||wr===void 0||wr.call(gr,so,{field:pn,block:"Form",readPretty:Ut.readPretty,action:on?"get":null,targetCollection:Ge(pn==null?void 0:pn.target)}),jr==="CollectionField"&&(so.type="string"),Hn("beforeBegin",Sf(so),{onSuccess:function(){Xt.remove(null,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})}})}}),Jn()?(0,C.jsx)(Tr.hj,{title:Qt("Allow multiple"),checked:((Ee=At["x-component-props"])===null||Ee===void 0?void 0:Ee.multiple)===void 0?!0:At["x-component-props"].multiple,onChange:function(jr){var br=oe()({},"x-uid",At["x-uid"]);At["x-component-props"]=At["x-component-props"]||{},Ut.componentProps=Ut.componentProps||{},At["x-component-props"].multiple=jr,Ut.componentProps.multiple=jr,br["x-component-props"]=At["x-component-props"],Xt.emit("patch",{schema:br}),On()}},"multiple"):null,(0,C.jsx)(Ae.H,{collectionName:pn==null?void 0:pn.target,defaultFilter:((Fe=Ut.componentProps)===null||Fe===void 0||(Fe=Fe.service)===null||Fe===void 0||(Fe=Fe.params)===null||Fe===void 0?void 0:Fe.filter)||{},form:Et,onSubmit:function(jr){var br,wr=jr.filter;wr=(0,he.Wm)(wr),T().set(Ut.componentProps,"service.params.filter",wr),At["x-component-props"]=Ut.componentProps,Xt.emit("patch",{schema:(br={},oe()(br,"x-uid",At["x-uid"]),oe()(br,"x-component-props",Ut.componentProps),br)})}}),(0,C.jsx)(Tr.j0,{title:Qt("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:Qt("Set default sorting rules"),properties:{sort:{type:"array",default:Ln,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:kn,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:Qt("ASC"),value:"asc"},{label:Qt("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:Qt("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(jr){var br,wr=jr.sort,so=wr.map(function(vo){return vo.direction==="desc"?"-".concat(vo.field):vo.field});T().set(Ut.componentProps,"service.params.sort",so),At["x-component-props"]=Ut.componentProps,Xt.emit("patch",{schema:(br={},oe()(br,"x-uid",At["x-uid"]),oe()(br,"x-component-props",Ut.componentProps),br)})}}),Et&&!(Et!=null&&Et.readPretty)&&!(0,Cf.V)(At)&&(0,C.jsx)(Tr.Qf,{title:Qt("Pattern"),options:[{label:Qt("Editable"),value:"editable"},{label:Qt("Readonly"),value:"readonly"},{label:Qt("Easy-reading"),value:"read-pretty"}],value:Ur,onChange:function(jr){var br=oe()({},"x-uid",At["x-uid"]);switch(jr){case"readonly":{At["x-read-pretty"]=!1,At["x-disabled"]=!0,br["x-read-pretty"]=!1,br["x-disabled"]=!0,Ut.readPretty=!1,Ut.disabled=!0;break}case"read-pretty":{At["x-read-pretty"]=!0,At["x-disabled"]=!1,br["x-read-pretty"]=!0,br["x-disabled"]=!1,Ut.readPretty=!0;break}default:{At["x-read-pretty"]=!1,At["x-disabled"]=!1,br["x-read-pretty"]=!1,br["x-disabled"]=!1,Ut.readPretty=!1,Ut.disabled=!1;break}}Xt.emit("patch",{schema:br}),Xt.refresh()}},"pattern"),(pn==null?void 0:pn.target)&&["CollectionField","AssociationSelect"].includes(At["x-component"])&&(0,C.jsx)(Tr.Qf,{title:Qt("Title field"),options:sr,value:Ut==null||(Ie=Ut.componentProps)===null||Ie===void 0||(Ie=Ie.fieldNames)===null||Ie===void 0?void 0:Ie.label,onChange:function(jr){var br,wr=oe()({},"x-uid",At["x-uid"]),so=r()(r()(r()({},pn==null||(br=pn.uiSchema)===null||br===void 0||(br=br["x-component-props"])===null||br===void 0?void 0:br.fieldNames),Ut.componentProps.fieldNames),{},{label:jr});Ut.componentProps.fieldNames=so,At["x-component-props"]=At["x-component-props"]||{},At["x-component-props"].fieldNames=so,wr["x-component-props"]=At["x-component-props"],Xt.emit("patch",{schema:wr}),Xt.refresh()}},"title-field"),pn&&(0,C.jsx)(Tr.Z5,{}),(0,C.jsx)(Tr.qx,{removeParentsIfNoChildren:!0,confirm:{title:Qt("Delete field")},breakRemoveOn:{"x-component":"Grid"}},"remove")]})},ml.FilterDesigner=function(){var Q,ve,Ce,Ee,Fe,Ie,Ne=(0,I.useCollectionManager_deprecated)(),Ke=Ne.getCollectionFields,ze=Ne.getInterface,Xe=Ne.getCollectionJoinField,Ge=(0,I.useCollection_deprecated)(),st=Ge.getField,nt=(0,be.bz)(),it=nt.form,lt=(0,S.useField)(),Et=(0,S.useFieldSchema)(),Ut=(0,ce.$)(),At=Ut.t,tn=(0,w.ng)(),Qt=tn.dn,on=tn.refresh,Jt=(0,w.eJ)(),Xt=st(Et.name)||Xe(Et["x-collection-field"]),On=ze(Xt==null?void 0:Xt.interface),Hn=On==null||(Q=On.validateSchema)===null||Q===void 0?void 0:Q.call(On,Et),Zn=Xt==null||(ve=Xt.uiSchema)===null||ve===void 0?void 0:ve.title,Jn=Xt!=null&&Xt.target?Ke(Xt==null?void 0:Xt.target):[],Nn={title:lt.title===Zn?void 0:lt.title},Cn=(0,I.useSortFields)(Xt==null?void 0:Xt.target),pn=((Ce=lt.componentProps)===null||Ce===void 0||(Ce=Ce.service)===null||Ce===void 0||(Ce=Ce.params)===null||Ce===void 0?void 0:Ce.sort)||[],or=pn==null?void 0:pn.map(function(Wn){return Wn.startsWith("-")?{field:Wn.substring(1),direction:"desc"}:{field:Wn,direction:"asc"}});lt.readPretty||(Nn.required=lt.required);var vr=Jn.filter(function(Wn){return!(Wn!=null&&Wn.target)&&Wn.type!=="boolean"}).map(function(Wn){var Xn;return{value:Wn==null?void 0:Wn.name,label:Jt(Wn==null||(Xn=Wn.uiSchema)===null||Xn===void 0?void 0:Xn.title)||(Wn==null?void 0:Wn.name)}}),gr="editable";return Et["x-disabled"]===!0&&(gr="readonly"),Et["x-read-pretty"]===!0&&(gr="read-pretty"),(0,C.jsxs)(mu.a,{children:[(0,C.jsx)(cu.Mj,{required:!1}),it&&!(it!=null&&it.readPretty)&&Hn&&(0,C.jsx)(Tr.j0,{title:At("Set validation rules"),components:{ArrayCollapse:L.ArrayCollapse,FormLayout:L.FormLayout},schema:{type:"object",title:At("Set validation rules"),properties:{rules:{type:"array",default:Et==null?void 0:Et["x-validator"],"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},maxItems:3,items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{header:'{{ t("Validation rule") }}'},properties:{index:{type:"void","x-component":"ArrayCollapse.Index"},layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:8,wrapperCol:16},properties:r()(r()({},Hn),{},{message:{type:"string",title:'{{ t("Error message") }}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:2,maxRows:2}}}})},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add validation rule") }}',"x-component":"ArrayCollapse.Addition","x-reactions":{dependencies:["rules"],fulfill:{state:{disabled:"{{$deps[0].length >= 3}}"}}}}}}}},onSubmit:function(Xn){var fn,Fn=[],kn=mt()(Xn.rules),ur;try{for(kn.s();!(ur=kn.n()).done;){var Ln=ur.value;Fn.push(T().pickBy(Ln,T().identity))}}catch(br){kn.e(br)}finally{kn.f()}var sr=oe()({},"x-uid",Et["x-uid"]);if(["percent"].includes(Xt==null?void 0:Xt.interface)){var Ur=mt()(Fn),Kr;try{for(Ur.s();!(Kr=Ur.n()).done;){var Or=Kr.value;(Or.maxValue||Or.minValue)&&(Or.percentMode=!0),Or.percentFormat&&(Or.percentFormats=!0)}}catch(br){Ur.e(br)}finally{Ur.f()}}var jr=T().concat([],(Xt==null||(fn=Xt.uiSchema)===null||fn===void 0?void 0:fn["x-validator"])||[],Fn);lt.validator=jr,Et["x-validator"]=Fn,sr["x-validator"]=Fn,Qt.emit("patch",{schema:sr}),on()}}),it&&!(it!=null&&it.readPretty)&&(Xt==null||(Ee=Xt.uiSchema)===null||Ee===void 0?void 0:Ee.type)&&(0,C.jsx)(Tr.j0,{title:At("Set default value"),components:{ArrayCollapse:L.ArrayCollapse,FormLayout:L.FormLayout},schema:{type:"object",title:At("Set default value"),properties:{default:r()(r()({},T().omit(Xt==null?void 0:Xt.uiSchema,"required")),{},{name:"default",title:At("Default value"),"x-decorator":"FormItem",default:Et.default||(Xt==null?void 0:Xt.defaultValue)})}},onSubmit:function(Xn){var fn=oe()({},"x-uid",Et["x-uid"]);lt.value!==Xn.default&&(lt.value=Xn.default),Et.default=Xn.default,fn.default=Xn.default,Qt.emit("patch",{schema:fn}),on()}}),(0,C.jsx)(Ae.H,{collectionName:Xt==null?void 0:Xt.target,defaultFilter:((Fe=lt.componentProps)===null||Fe===void 0||(Fe=Fe.service)===null||Fe===void 0||(Fe=Fe.params)===null||Fe===void 0?void 0:Fe.filter)||{},form:it,onSubmit:function(Xn){var fn,Fn=Xn.filter;Fn=(0,he.Wm)(Fn),T().set(lt.componentProps,"service.params.filter",Fn),Et["x-component-props"]=lt.componentProps,Qt.emit("patch",{schema:(fn={},oe()(fn,"x-uid",Et["x-uid"]),oe()(fn,"x-component-props",lt.componentProps),fn)})}}),(0,C.jsx)(Tr.j0,{title:At("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:At("Set default sorting rules"),properties:{sort:{type:"array",default:or,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:Cn,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:At("ASC"),value:"asc"},{label:At("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:At("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(Xn){var fn,Fn=Xn.sort,kn=Fn.map(function(ur){return ur.direction==="desc"?"-".concat(ur.field):ur.field});T().set(lt.componentProps,"service.params.sort",kn),Et["x-component-props"]=lt.componentProps,Qt.emit("patch",{schema:(fn={},oe()(fn,"x-uid",Et["x-uid"]),oe()(fn,"x-component-props",lt.componentProps),fn)})}}),(Xt==null?void 0:Xt.target)&&["CollectionField","AssociationSelect"].includes(Et["x-component"])&&(0,C.jsx)(Tr.Qf,{title:At("Title field"),options:vr,value:lt==null||(Ie=lt.componentProps)===null||Ie===void 0||(Ie=Ie.fieldNames)===null||Ie===void 0?void 0:Ie.label,onChange:function(Xn){var fn,Fn=oe()({},"x-uid",Et["x-uid"]),kn=r()(r()(r()({},Xt==null||(fn=Xt.uiSchema)===null||fn===void 0||(fn=fn["x-component-props"])===null||fn===void 0?void 0:fn.fieldNames),lt.componentProps.fieldNames),{},{label:Xn});lt.componentProps.fieldNames=kn,Et["x-component-props"]=Et["x-component-props"]||{},Et["x-component-props"].fieldNames=kn,Fn["x-component-props"]=Et["x-component-props"],Qt.emit("patch",{schema:Fn}),Qt.refresh()}},"title-field"),Xt&&(0,C.jsx)(Tr.Z5,{}),(0,C.jsx)(Tr.qx,{removeParentsIfNoChildren:!0,confirm:{title:At("Delete field")},breakRemoveOn:{"x-component":"Grid"}},"remove")]})};var i0=null,Ef=e(49288),la=e(96157),vu=(0,J.t)((0,S.connect)(Ef.Z,(0,S.mapProps)({dataSource:"options"}),(0,S.mapReadPretty)(la.iV.Input))),Ui=e(46504),pu=e(42708),Df=e(17797),Mf=e(25519),Af=(0,He.l6)("nb-card-item",function(me){var Q=me.componentCls;return oe()({},Q,{marginBottom:me.marginBlock})}),Of=Af,If=["children","name","lazyRender"],Tf=["element"],Ff=function(Q){var ve=Q.children,Ce=Q.name,Ee=Q.lazyRender,Fe=Ee===void 0?{}:Ee,Ie=R()(Q,If),Ne=(0,W.zy)(),Ke=(0,S.useFieldSchema)(),ze=Ke==null?void 0:Ke["x-template-key"],Xe=Fe.element,Ge=R()(Fe,Tf),st=(0,pu.YD)(r()({threshold:0,initialInView:!0,triggerOnce:!0,skip:!1},Ge)),nt=st.ref,it=st.inView,lt=Of(),Et=lt.wrapSSR,Ut=lt.componentCls,At=lt.hashId,tn=(0,ut.useBlockWidth)(Ke["x-component-props"]),Qt=tn.pStyle,on=tn.cStyle;if(ze&&!Ne)return null;var Jt=(0,S.useField)(),Xt=Ke["x-set-power"]?{power:Ke["x-set-power"]}:{};return(0,ut.useControlShowBlock)(Xt,Jt),Et((0,C.jsx)("div",{className:Qt,children:(0,C.jsx)("div",{className:on,children:(0,C.jsx)(Mf.W,{children:(0,C.jsx)(Ui.j,{name:Ce,className:"".concat(Ut," ").concat(At," noco-card-item"),children:(0,C.jsx)(Df.P,r()(r()({ref:nt},Ie),{},{children:it?Q.children:Xe!=null?Xe:(0,C.jsx)(li.Z,{paragraph:{rows:4}})}))})})})}))},hu=(0,J.t)((0,lo.aW)(Ff)),gu=e(38089),_u={label:"label",value:"value",children:"children"},Rf=function(Q){var ve=Q.fieldNames,Ce=ve===void 0?_u:ve,Ee=(0,$e.toArr)(Q.value),Fe=Ee.length,Ie=(0,S.useField)(),Ne=Ie.dataSource,Ke=[],ze=mt()(Ee),Xe;try{var Ge=function(){var nt=Xe.value;if(St()(nt)==="object")Ke.push(nt);else{var it,lt=(it=Ne)===null||it===void 0?void 0:it.find(function(Et){return Et[Ce.value]===nt});Ne=(lt==null?void 0:lt[Ce.children])||[],Ke.push(lt||{label:nt,value:nt})}};for(ze.s();!(Xe=ze.n()).done;)Ge()}catch(st){ze.e(st)}finally{ze.f()}return(0,C.jsx)("div",{children:Ke.map(function(st,nt){return(0,C.jsxs)("span",{children:[St()(st)==="object"?st[Ce.label]:st,Fe>nt+1&&" / "]},nt)})})},jf=["value","onChange","labelInValue","options","useDataSource","useLoadData","changeOnSelectLast","changeOnSelect","maxLevel"],Bf=function(Q,ve){var Ce=(0,S.useField)();return(0,U.QT)(function(){return Promise.resolve({data:Ce.dataSource||ve.options||[]})},r()(r()({},Q),{},{refreshDeps:[Ce.dataSource,ve.options]}))},Lf=function(Q){return Q==null?void 0:Q.loadData},yu=(0,J.t)((0,S.connect)(function(me){var Q=(0,S.useField)(),ve=me.value,Ce=me.onChange,Ee=me.labelInValue,Fe=me.options,Ie=me.useDataSource,Ne=Ie===void 0?Bf:Ie,Ke=me.useLoadData,ze=Ke===void 0?Lf:Ke,Xe=me.changeOnSelectLast,Ge=me.changeOnSelect,st=me.maxLevel,nt=R()(me,jf),it=r()(r()({},_u),me.fieldNames),lt=ze(me),Et=Ne({onSuccess:function(Xt){Q.dataSource=(Xt==null?void 0:Xt.data)||[]}},me),Ut=Et.loading,At=Et.run,tn=function(){return(0,$e.toArr)(ve).map(function(Xt){return St()(Xt)==="object"?Xt[it.value]:Xt})},Qt=function(Xt,On){return(0,C.jsx)(Dt.Z,{split:"/",children:Xt.map(function(Hn,Zn){if(On[Zn])return(0,C.jsx)("span",{children:Hn},Zn);var Jn=(0,$e.toArr)(ve).filter(Boolean).find(function(Nn){return Nn[it.value]===Hn});return(0,C.jsx)("span",{children:(Jn==null?void 0:Jn[it.label])||Hn},Zn)})})},on=function(Xt){var On;Xt&&!((On=Q.dataSource)!==null&&On!==void 0&&On.length)&&At()};return(0,C.jsx)(gu.Z,r()(r()({loading:Ut},nt),{},{options:Q.dataSource,loadData:lt,changeOnSelect:(0,O.isBoolean)(Xe)?!Xe:Ge,value:tn(),fieldNames:it,displayRender:Qt,onDropdownVisibleChange:on,onChange:function(Xt,On){Ce(Xt&&Ee?On.map(function(Hn){return(0,O.omit)(Hn,[it.children])})||null:Xt||null)}}))},(0,S.mapProps)({dataSource:"options"},function(me,Q){return r()(r()({},me),{},{suffixIcon:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffixIcon})}),(0,S.mapReadPretty)(Rf)),{displayName:"Cascader"}),l0=null,Uf=e(97893),Cu=e(84567),wf=e(44908),Nf=e.n(wf),bu=function(Q){return Q.value?(0,C.jsx)(Uf.Z,{style:{color:"#52c41a"}}):Q.showUnchecked?(0,C.jsx)(yt.Z,{style:{color:"#ff4d4f"}}):null},wa=(0,S.connect)(function(me){var Q=function(Ce){me==null||me.onChange(Ce)};return(0,C.jsx)(Cu.Z,r()(r()({},me),{},{onChange:Q}))},(0,S.mapProps)({value:"checked",onInput:"onChange"}),(0,S.mapReadPretty)(bu));wa.displayName="Checkbox",wa.ReadPretty=bu,wa.ReadPretty.displayName="Checkbox.ReadPretty",wa.__ANT_CHECKBOX=!0,wa.Group=(0,S.connect)(Cu.Z.Group,(0,S.mapProps)({dataSource:"options"}),(0,S.mapReadPretty)(function(me){var Q=(0,S.useField)(),ve=(0,Lt.Hy)(),Ce=(0,o.useMemo)(function(){var Ee=Q.dataSource||(ve==null?void 0:ve.uiSchema.enum)||[],Fe=Nf()(Q.value?Q.value:[]);return Ee.filter(function(Ie){return Fe.includes(Ie.value)})},[Q.value]);return(0,$e.isValid)(me.value)?(0,C.jsx)(xt.B,{ellipsis:me.ellipsis,children:Ce.map(function(Ee,Fe){return(0,C.jsx)(Mt.Z,{color:Ee.color,icon:Ee.icon,children:Ee.label},Fe)})}):null})),wa.Group.displayName="Checkbox.Group";var s0=null,xu=e(29796),kf=e(13794),Wf=["filter"],Kf=["filter"],Vf=["value","onChange","dataSourceFilter","collectionFilter"];function Su(me){var Q,ve=me.filter,Ce=me.isTableOid,Ee=(0,w.eJ)(),Fe=(0,S.useField)(),Ie=(0,o.useContext)(kf.fo),Ne=(0,xu.UJ)(),Ke=Ce&&((Ie==null||(Q=Ie.field)===null||Q===void 0?void 0:Q.collectionName)||(Ie==null?void 0:Ie.collectionName)||Ne.name),ze=(0,Rr.useSelfAndChildrenCollections)(Ke),Xe=(0,xu.Bu)(),Ge=Xe.collections,st=Ge===void 0?[]:Ge,nt=Fe!=null&&Fe.dataSource?st.filter(function(lt){return(Fe==null?void 0:Fe.dataSource.find(function(Et){return Et.value===lt.name}))||(Fe==null?void 0:Fe.dataSource.includes(lt.name))}):st,it=typeof ve=="function"?(ze||nt).filter(ve):ze||nt;return(0,o.useMemo)(function(){return it.filter(function(lt){return!lt.hidden}).map(function(lt){var Et;return{label:Ee(lt.title||lt.label),value:lt.name||lt.value,color:(Et=lt.category)===null||Et===void 0?void 0:Et.color}})},[it])}var Pu=(0,S.connect)(function(me){var Q=me.filter,ve=R()(me,Wf),Ce=Su(me),Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,o.useCallback)(function(Ne,Ke){var ze,Xe;return((ze=Ke==null?void 0:Ke.label.toLowerCase())!==null&&ze!==void 0?ze:"").includes(Ne.toLocaleLowerCase())||((Xe=Ke==null?void 0:Ke.value.toString().toLowerCase())!==null&&Xe!==void 0?Xe:"").includes(Ne.toLocaleLowerCase())},[]);return(0,C.jsx)(dt.default,r()(r()({role:"button","data-testid":"select-collection",placeholder:Fe("Select collection"),popupMatchSelectWidth:!1},ve),{},{showSearch:!0,filterOption:Ie,options:Ce}))},(0,S.mapReadPretty)((0,S.observer)(function(me){var Q=me.mode,ve=(0,w.eJ)(),Ce=Su(me).filter(function(Ee){if(Q==="multiple"){var Fe;return((Fe=me.value)!==null&&Fe!==void 0?Fe:[]).includes(Ee.value)}return me.value===Ee.value});return(0,C.jsx)("div",{children:Ce.map(function(Ee){return(0,C.jsx)(Mt.Z,{color:Ee.color,children:ve(Ee.label)},Ee.value)})})},{displayName:"CollectionSelectObserver"})));function $f(me){var Q=me.filter,ve=(0,w.eJ)(),Ce=(0,Rt.fp)(),Ee=Ce.getDataSources();return(0,o.useMemo)(function(){return(typeof Q=="function"?Ee.filter(Q):Ee).map(function(Fe){return{label:ve(Fe.displayName),value:Fe.key}})},[Ee,Q])}var Eu=(0,S.connect)(function(me){var Q=me.filter,ve=R()(me,Kf),Ce=$f(me),Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,o.useCallback)(function(Ne,Ke){var ze,Xe;return((ze=Ke==null?void 0:Ke.label.toLowerCase())!==null&&ze!==void 0?ze:"").includes(Ne.toLocaleLowerCase())||((Xe=Ke==null?void 0:Ke.value.toString().toLowerCase())!==null&&Xe!==void 0?Xe:"").includes(Ne.toLocaleLowerCase())},[]);return(0,C.jsx)(dt.default,r()(r()({role:"button","data-testid":"select-datasource",placeholder:Fe("Select data source"),popupMatchSelectWidth:!1},ve),{},{showSearch:!0,filterOption:Ie,options:Ce}))}),Du=function(Q){return Q.type==="basic"},Mu=(0,S.connect)(function(me){var Q=(0,Rt.fp)(),ve=(0,w.eJ)(),Ce=me.value,Ee=me.onChange,Fe=me.dataSourceFilter,Ie=me.collectionFilter,Ne=R()(me,Vf),Ke=(0,I.parseCollectionName)(Ce),ze=ye()(Ke,2),Xe=ze[0],Ge=ze[1],st=[Ge==="audits_jobs"?"basic":Xe,Ge].filter(Boolean),nt=Q.getDataSources(),it=(0,o.useContext)(Ve.isMultiAppPageContext),lt=function(tn){var Qt,on;if(!it)return!0;var Jt=tn==null||(Qt=tn.options)===null||Qt===void 0||(Qt=Qt.referenceApp)===null||Qt===void 0?void 0:Qt.map(function(Xt){return Xt.applicationsId});return!!((tn==null||(on=tn.options)===null||on===void 0||(on=on.associatedApp)===null||on===void 0?void 0:on.applicationsId)===(it==null?void 0:it.CURRENTMANAGEAPPID)||Jt!=null&&Jt.includes(it==null?void 0:it.CURRENTMANAGEAPPID))},Et=(0,o.useMemo)(function(){return(Fe?nt.filter(Fe):nt).map(function(At){return{label:ve(At.displayName),value:At.key,children:At.collectionManager.collectionInstancesArr.filter(Ie!=null?Ie:function(tn){return!tn.hidden&&!Du(tn)}).filter(lt).map(function(tn){return{label:ve(tn.title),value:tn.name}})}}).concat([{label:"Basic Data",value:"basic",children:Q.getDataSource("main").collectionManager.collectionInstancesArr.filter(Ie!=null?Ie:function(At){return!At.hidden&&Du(At)}).map(function(At){return{label:ve(At.title),value:At.name}})}])},[nt,Fe,Ie]),Ut=(0,o.useCallback)(function(At){if(!At)return Ee(At);Ee(At[0]==="main"?At[1]:At.join(":"))},[Ee]);return(0,C.jsx)(gu.Z,r()(r()({showSearch:!0},Ne),{},{options:Et,value:st,onChange:Ut}))}),$l=e(65078),Au=e(33960),Ou,zf=["value","onChange"],Iu=(0,S.connect)(function(me){var Q=me.value,ve=me.onChange,Ce=R()(me,zf);return(0,C.jsx)("div",{role:"button","aria-label":"color-picker-normal",style:{display:"inline-block"},children:(0,C.jsx)(Au.Z,r()(r()({value:Q,trigger:"hover"},Ce),{},{destroyTooltipOnHide:!0,getPopupContainer:function(Fe){return Fe},presets:[{label:"Recommended",colors:["#8BBB11","#52C41A","#13A8A8","#1677FF","#F5222D","#FADB14","#FA8C164D","#FADB144D","#52C41A4D","#1677FF4D","#2F54EB4D","#722ED14D","#EB2F964D"]}],onChange:function(Fe){return ve(Fe.toHexString())}}))})},(0,S.mapProps)(function(me,Q){return r()({},me)}),(0,S.mapReadPretty)(function(me){var Q=(0,$l.F)("description-color-picker",me);return(0,C.jsx)("div",{role:"button","aria-label":"color-picker-read-pretty",className:co()(Q,(0,pe.css)(Ou||(Ou=q()([`
            display: inline-flex;
            .ant-color-picker-trigger-disabled {
              cursor: default;
            }
          `]))),me.className),children:(0,C.jsx)(Au.Z,r()({disabled:!0,value:me.value,size:"small"},me))})})),u0=null,Tu=e(96365),Fu,si={red:'{{t("Red")}}',magenta:'{{t("Magenta")}}',volcano:'{{t("Volcano")}}',orange:'{{t("Orange")}}',gold:'{{t("Gold")}}',lime:'{{t("Lime")}}',green:'{{t("Green")}}',cyan:'{{t("Cyan")}}',blue:'{{t("Blue")}}',geekblue:'{{t("Geek blue")}}',purple:'{{t("Purple")}}',default:'{{t("Default")}}'},Ru=(0,S.connect)(function(me){var Q=(0,Tu.e)();return(0,C.jsx)(dt.default,r()(r()({},me),{},{children:Object.keys(si).map(function(ve){return(0,C.jsx)(dt.default.Option,{value:ve,children:(0,C.jsx)(Mt.Z,{className:(0,pe.css)(Fu||(Fu=q()([`
                white-space: nowrap !important;
              `]))),color:ve,children:Q(si[ve]||si.default)})},ve)})}))},(0,S.mapProps)(function(me,Q){return r()(r()({},me),{},{suffix:(0,C.jsx)("span",{children:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffix})})}),(0,S.mapReadPretty)(function(me){var Q=(0,Tu.e)(),ve=me.value;return si[ve]?(0,C.jsx)(Mt.Z,{color:ve,children:Q(si[ve]||si.default)}):null})),c0=null,Zf=e(92458),Hf=e.n(Zf),va=function(){return va=Object.assign||function(me){for(var Q,ve=1,Ce=arguments.length;ve<Ce;ve++)for(var Ee in Q=arguments[ve])Object.prototype.hasOwnProperty.call(Q,Ee)&&(me[Ee]=Q[Ee]);return me},va.apply(this,arguments)};function ju(me,Q){var ve={};for(var Ce in me)Object.prototype.hasOwnProperty.call(me,Ce)&&Q.indexOf(Ce)<0&&(ve[Ce]=me[Ce]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ee=0;for(Ce=Object.getOwnPropertySymbols(me);Ee<Ce.length;Ee++)Q.indexOf(Ce[Ee])<0&&Object.prototype.propertyIsEnumerable.call(me,Ce[Ee])&&(ve[Ce[Ee]]=me[Ce[Ee]])}return ve}function vl(me,Q,ve){if(ve||arguments.length===2)for(var Ce,Ee=0,Fe=Q.length;Ee<Fe;Ee++)!Ce&&Ee in Q||(Ce||(Ce=Array.prototype.slice.call(Q,0,Ee)),Ce[Ee]=Q[Ee]);return me.concat(Ce||Array.prototype.slice.call(Q))}var Gf=[{name:"@yearly",value:"0 0 1 1 *"},{name:"@annually",value:"0 0 1 1 *"},{name:"@monthly",value:"0 0 1 * *"},{name:"@weekly",value:"0 0 * * 0"},{name:"@daily",value:"0 0 * * *"},{name:"@midnight",value:"0 0 * * *"},{name:"@hourly",value:"0 * * * *"}],Za=[{type:"minutes",min:0,max:59,total:60},{type:"hours",min:0,max:23,total:24},{type:"month-days",min:1,max:31,total:31},{type:"months",min:1,max:12,total:12,alt:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},{type:"week-days",min:0,max:6,total:7,alt:["SUN","MON","TUE","WED","THU","FRI","SAT"]}],No={everyText:"every",emptyMonths:"every month",emptyMonthDays:"every day of the month",emptyMonthDaysShort:"day of the month",emptyWeekDays:"every day of the week",emptyWeekDaysShort:"day of the week",emptyHours:"every hour",emptyMinutes:"every minute",emptyMinutesForHourPeriod:"every",yearOption:"year",monthOption:"month",weekOption:"week",dayOption:"day",hourOption:"hour",minuteOption:"minute",rebootOption:"reboot",prefixPeriod:"Every",prefixMonths:"in",prefixMonthDays:"on",prefixWeekDays:"on",prefixWeekDaysForMonthAndYearPeriod:"and",prefixHours:"at",prefixMinutes:":",prefixMinutesForHourPeriod:"at",suffixMinutesForHourPeriod:"minute(s)",errorInvalidCron:"Invalid cron expression",clearButtonText:"Clear",weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],altWeekDays:["SUN","MON","TUE","WED","THU","FRI","SAT"],altMonths:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]};function Bu(me,Q){for(var ve=[],Ce=me;Ce<=Q;Ce++)ve.push(Ce);return ve}function pl(me){return me.sort(function(Q,ve){return Q-ve}),me}function Lu(me){var Q=[];return me.forEach(function(ve){Q.indexOf(ve)<0&&Q.push(ve)}),Q}function Ca(me){return Object.entries(me).filter(function(Q){var ve=Q[0],Ce=Q[1];return ve&&Ce}).map(function(Q){return Q[0]}).join(" ")}function Uu(me,Q){me&&me({type:"invalid_cron",description:Q.errorInvalidCron||No.errorInvalidCron})}function hl(me){var Q=parseInt(me,10),ve=Number(me);return Q===ve?ve:NaN}function zl(me,Q,ve,Ce,Ee,Fe,Ie,Ne,Ke,ze,Xe,Ge,st,nt){ve&&ve(void 0),Q(!1);var it=!1;if(!me){if(Ce==="always"||Fe&&Ce==="for-default-value")return;it=!0}if(!it){if(Ne&&(Ne===!0||Ne.includes(me))){if(me==="@reboot")return void nt("reboot");var lt=Gf.find(function(At){return At.name===me});lt&&(me=lt.value)}try{var Et=function(At){if(typeof At!="string")throw new Error("Invalid cron string");var tn=At.replace(/\s+/g," ").trim().split(" ");if(tn.length===5)return tn.map(function(Qt,on){return function(Jt,Xt){if(Jt==="*"||Jt==="*/1")return[];var On=pl(Lu(wu(function(Zn,Jn,Nn){if(Nn){Zn=Zn.toUpperCase();for(var Cn=0;Cn<Nn.length;Cn++)Zn=Zn.replace(Nn[Cn],"".concat(Cn+Jn))}return Zn}(Jt,Xt.min,Xt.alt).split(",").map(function(Zn){var Jn,Nn=Zn.split("/");if(Nn.length>2)throw new Error('Invalid value "'.concat(Jt,' for "').concat(Xt.type,'"'));var Cn=Nn[0],pn=Nn[1];Jn=Cn==="*"?Bu(Xt.min,Xt.max):function(gr,Wn,Xn){var fn=gr.split("-");if(fn.length===1){var Fn=hl(fn[0]);if(isNaN(Fn))throw new Error('Invalid value "'.concat(Wn,'" for ').concat(Xn.type));return[Fn]}if(fn.length===2){var kn=hl(fn[0]),ur=hl(fn[1]);if(isNaN(kn)||isNaN(ur))throw new Error('Invalid value "'.concat(Wn,'" for ').concat(Xn.type));if(ur<kn)throw new Error('Max range is less than min range in "'.concat(gr,'" for ').concat(Xn.type));return Bu(kn,ur)}throw new Error('Invalid value "'.concat(gr,'" for ').concat(Xn.type))}(Cn,Jt,Xt);var or=function(gr,Wn){if(gr!==void 0){var Xn=hl(gr);if(isNaN(Xn)||Xn<1)throw new Error('Invalid interval step value "'.concat(gr,'" for ').concat(Wn.type));return Xn}}(pn,Xt),vr=function(gr,Wn){if(Wn){var Xn=gr[0];gr=gr.filter(function(fn){return fn%Wn==Xn%Wn||fn===Xn})}return gr}(Jn,or);return vr}).flat(),Xt))),Hn=Nu(On,Xt);if(Hn!==void 0)throw new Error('Value "'.concat(Hn,'" out of range for ').concat(Xt.type));return On.length===Xt.total?[]:On}(Qt,Za[on])});throw new Error("Invalid cron string format")}(me),Ut=function(At){return At[3].length>0?"year":At[2].length>0?"month":At[4].length>0?"week":At[1].length>0?"day":At[0].length>0?"hour":"minute"}(Et);nt(Ut),Ke(Et[0]),ze(Et[1]),Xe(Et[2]),Ge(Et[3]),st(Et[4])}catch(At){it=!0}}it&&(Ee.current=me,Q(!0),Uu(ve,Ie))}function Zl(me,Q,ve,Ce,Ee,Fe,Ie){if(me==="reboot")return"@reboot";var Ne=function(Ke,ze){return Ke.map(function(Xe,Ge){var st=Za[Ge];return Hl(Gl(Xe,st),st,ze)})}([me!=="minute"&&Fe?Fe:[],me!=="minute"&&me!=="hour"&&Ee?Ee:[],me!=="year"&&me!=="month"||!ve?[]:ve,me==="year"&&Q?Q:[],me!=="year"&&me!=="month"&&me!=="week"||!Ce?[]:Ce],Ie);return Ne.join(" ")}function Hl(me,Q,ve,Ce,Ee){var Fe="";if(function(Ne,Ke){return Ne.length===Ke.max-Ke.min+1}(me,Q)||me.length===0)Fe="*";else{var Ie=function(Ne){if(Ne.length>2){var Ke=Ne[1]-Ne[0];if(Ke>1)return Ke}}(me);Fe=Ie&&function(Ne,Ke){for(var ze=1;ze<Ne.length;ze++){var Xe=Ne[ze-1];if(Ne[ze]-Xe!==Ke)return!1}return!0}(me,Ie)?function(Ne,Ke,ze){var Xe=ku(Ne),Ge=Wu(Ne),st=Ne.length===(Ge-Xe)/ze+1;return!!(Xe===Ke.min&&Ge+ze>Ke.max&&st)}(me,Q,Ie)?"*/".concat(Ie):"".concat(Ha(ku(me),Q,ve,Ce,Ee),"-").concat(Ha(Wu(me),Q,ve,Ce,Ee),"/").concat(Ie):function(Ne){var Ke=[],ze=null;return Ne.forEach(function(Xe,Ge,st){Xe!==st[Ge+1]-1?ze!==null?(Ke.push([ze,Xe]),ze=null):Ke.push(Xe):ze===null&&(ze=Xe)}),Ke}(me).map(function(Ne){return Array.isArray(Ne)?"".concat(Ha(Ne[0],Q,ve,Ce,Ee),"-").concat(Ha(Ne[1],Q,ve,Ce,Ee)):Ha(Ne,Q,ve,Ce,Ee)}).join(",")}return Fe}function Ha(me,Q,ve,Ce,Ee){var Fe=me.toString(),Ie=Q.type,Ne=Q.alt,Ke=Q.min,ze=Ce&&(Ce===!0||Ce.includes(Ie)),Xe=Ee==="24-hour-clock"&&(Ie==="hours"||Ie==="minutes");if(ve&&Ie==="week-days"||ve&&Ie==="months"?Fe=Ne[me-Ke]:me<10&&(ze||Xe)&&(Fe=Fe.padStart(2,"0")),Ie==="hours"&&Ee==="12-hour-clock"){var Ge=me>=12?"PM":"AM",st=me%12||12;st<10&&ze&&(st=st.toString().padStart(2,"0")),Fe="".concat(st).concat(Ge)}return Fe}function Gl(me,Q){var ve=pl(Lu(wu(me,Q)));if(ve.length===0)return ve;var Ce=Nu(ve,Q);if(Ce!==void 0)throw new Error('Value "'.concat(Ce,'" out of range for ').concat(Q.type));return ve}function wu(me,Q){return Q.type==="week-days"&&(me=me.map(function(ve){return ve===7?0:ve})),me}function Nu(me,Q){var ve=me[0],Ce=me[me.length-1];return ve<Q.min?ve:Ce>Q.max?Ce:void 0}function ku(me){return me[0]}function Wu(me){return me[me.length-1]}var d0=Object.freeze({__proto__:null,setValuesFromCronString:zl,getCronStringFromValues:Zl,partToString:Hl,formatValue:Ha,parsePartArray:Gl});function wi(me){var Q=me.value,ve=me.grid,Ce=ve===void 0||ve,Ee=me.optionsList,Fe=me.setValue,Ie=me.locale,Ne=me.className,Ke=me.humanizeLabels,ze=me.disabled,Xe=me.readOnly,Ge=me.leadingZero,st=me.clockFormat,nt=me.period,it=me.unit,lt=me.periodicityOnDoubleClick,Et=me.mode,Ut=ju(me,["value","grid","optionsList","setValue","locale","className","humanizeLabels","disabled","readOnly","leadingZero","clockFormat","period","unit","periodicityOnDoubleClick","mode"]),At=(0,o.useMemo)(function(){if(Q&&Array.isArray(Q))return Q.map(function(Cn){return Cn.toString()})},[Q]),tn=(0,o.useMemo)(function(){return Ee?Ee.map(function(Cn,pn){return{value:(it.min===0?pn:pn+1).toString(),label:Cn}}):vl([],Array(it.total),!0).map(function(Cn,pn){var or=it.min===0?pn:pn+1;return{value:or.toString(),label:Ha(or,it,Ke,Ge,st)}})},[Ee,Ge,Ke,st]),Qt=JSON.stringify(Ie),on=(0,o.useCallback)(function(Cn){var pn=Cn.value;if(!Q||Q[0]!==Number(pn))return(0,C.jsx)(C.Fragment,{});var or=Hl(Gl(Q,it),it,Ke,Ge,st),vr=or.match(/^\*\/([0-9]+),?/)||[];return(0,C.jsx)("div",{children:vr[1]?"".concat(Ie.everyText||No.everyText," ").concat(vr[1]):or})},[Q,Qt,Ke,Ge,st]),Jt=(0,o.useCallback)(function(Cn){var pn=Array.isArray(Cn)?pl(Cn):[Cn],or=pn;Q&&(or=Et==="single"?[]:vl([],Q,!0),pn.forEach(function(vr){var gr=Number(vr);or=Q.some(function(Wn){return Wn===gr})?or.filter(function(Wn){return Wn!==gr}):pl(vl(vl([],or,!0),[gr],!1))})),or.length===it.total?Fe([]):Fe(or)},[Fe,Q]),Xt=(0,o.useCallback)(function(Cn){if(Cn!==0&&Cn!==1){for(var pn=it.total+it.min,or=[],vr=it.min;vr<pn;vr++)vr%Cn==0&&or.push(vr);var gr=Q&&or&&Q.length===or.length&&Q.every(function(Xn,fn){return Xn===or[fn]}),Wn=or.length===tn.length;Fe(Wn||gr?[]:or)}else Fe([])},[Q,tn,Fe]),On=(0,o.useRef)([]),Hn=(0,o.useCallback)(function(Cn){if(!Xe){var pn=On.current;pn.push({time:new Date().getTime(),value:Number(Cn)});var or=window.setTimeout(function(){lt&&pn.length>1&&pn[pn.length-1].time-pn[pn.length-2].time<300?pn[pn.length-1].value===pn[pn.length-2].value?Xt(Number(Cn)):Jt([pn[pn.length-2].value,pn[pn.length-1].value]):Jt(Number(Cn)),On.current=[]},300);return function(){window.clearTimeout(or)}}},[On,Jt,Xt,Xe,lt]),Zn=(0,o.useCallback)(function(){Xe||Fe([])},[Fe,Xe]),Jn=(0,o.useMemo)(function(){var Cn;return Ca(((Cn={"react-js-cron-select":!0,"react-js-cron-custom-select":!0})["".concat(Ne,"-select")]=!!Ne,Cn))},[Ne]),Nn=(0,o.useMemo)(function(){var Cn;return Ca(((Cn={"react-js-cron-select-dropdown":!0})["react-js-cron-select-dropdown-".concat(it.type)]=!0,Cn["react-js-cron-custom-select-dropdown"]=!0,Cn["react-js-cron-custom-select-dropdown-".concat(it.type)]=!0,Cn["react-js-cron-custom-select-dropdown-minutes-large"]=it.type==="minutes"&&nt!=="hour"&&nt!=="day",Cn["react-js-cron-custom-select-dropdown-minutes-medium"]=it.type==="minutes"&&(nt==="day"||nt==="hour"),Cn["react-js-cron-custom-select-dropdown-hours-twelve-hour-clock"]=it.type==="hours"&&st==="12-hour-clock",Cn["react-js-cron-custom-select-dropdown-grid"]=!!Ce,Cn["".concat(Ne,"-select-dropdown")]=!!Ne,Cn["".concat(Ne,"-select-dropdown-").concat(it.type)]=!!Ne,Cn))},[Ne,Ce,st,nt]);return(0,C.jsx)(dt.default,va({mode:Et!=="single"||lt?"multiple":void 0,allowClear:!Xe,virtual:!1,open:!Xe&&void 0,value:At,onClear:Zn,tagRender:on,className:Jn,popupClassName:Nn,options:tn,showSearch:!1,showArrow:!Xe,menuItemSelectedIcon:null,dropdownMatchSelectWidth:!1,onSelect:Hn,onDeselect:Hn,disabled:ze,dropdownAlign:it.type!=="minutes"&&it.type!=="hours"||nt==="day"||nt==="hour"?void 0:{points:["tr","br"]},"data-testid":"custom-select-".concat(it.type)},Ut))}function Yf(me){var Q=me.value,ve=me.setValue,Ce=me.locale,Ee=me.className,Fe=me.disabled,Ie=me.readOnly,Ne=me.leadingZero,Ke=me.clockFormat,ze=me.period,Xe=me.periodicityOnDoubleClick,Ge=me.mode,st=(0,o.useMemo)(function(){var nt;return Ca(((nt={"react-js-cron-field":!0,"react-js-cron-hours":!0})["".concat(Ee,"-field")]=!!Ee,nt["".concat(Ee,"-hours")]=!!Ee,nt))},[Ee]);return(0,C.jsxs)("div",va({className:st},{children:[Ce.prefixHours!==""&&(0,C.jsx)("span",{children:Ce.prefixHours||No.prefixHours}),(0,C.jsx)(wi,{placeholder:Ce.emptyHours||No.emptyHours,value:Q,unit:Za[1],setValue:ve,locale:Ce,className:Ee,disabled:Fe,readOnly:Ie,leadingZero:Ne,clockFormat:Ke,period:ze,periodicityOnDoubleClick:Xe,mode:Ge})]}))}function Xf(me){var Q=me.value,ve=me.setValue,Ce=me.locale,Ee=me.className,Fe=me.disabled,Ie=me.readOnly,Ne=me.leadingZero,Ke=me.clockFormat,ze=me.period,Xe=me.periodicityOnDoubleClick,Ge=me.mode,st=(0,o.useMemo)(function(){var nt;return Ca(((nt={"react-js-cron-field":!0,"react-js-cron-minutes":!0})["".concat(Ee,"-field")]=!!Ee,nt["".concat(Ee,"-minutes")]=!!Ee,nt))},[Ee]);return(0,C.jsxs)("div",va({className:st},{children:[ze==="hour"?Ce.prefixMinutesForHourPeriod!==""&&(0,C.jsx)("span",{children:Ce.prefixMinutesForHourPeriod||No.prefixMinutesForHourPeriod}):Ce.prefixMinutes!==""&&(0,C.jsx)("span",{children:Ce.prefixMinutes||No.prefixMinutes}),(0,C.jsx)(wi,{placeholder:ze==="hour"?Ce.emptyMinutesForHourPeriod||No.emptyMinutesForHourPeriod:Ce.emptyMinutes||No.emptyMinutes,value:Q,unit:Za[0],setValue:ve,locale:Ce,className:Ee,disabled:Fe,readOnly:Ie,leadingZero:Ne,clockFormat:Ke,period:ze,periodicityOnDoubleClick:Xe,mode:Ge}),ze==="hour"&&Ce.suffixMinutesForHourPeriod!==""&&(0,C.jsx)("span",{children:Ce.suffixMinutesForHourPeriod||No.suffixMinutesForHourPeriod})]}))}function Qf(me){var Q=me.value,ve=me.setValue,Ce=me.locale,Ee=me.className,Fe=me.weekDays,Ie=me.disabled,Ne=me.readOnly,Ke=me.leadingZero,ze=me.period,Xe=me.periodicityOnDoubleClick,Ge=me.mode,st=!Fe||Fe.length===0,nt=(0,o.useMemo)(function(){var Et;return Ca(((Et={"react-js-cron-field":!0,"react-js-cron-month-days":!0,"react-js-cron-month-days-placeholder":!st})["".concat(Ee,"-field")]=!!Ee,Et["".concat(Ee,"-month-days")]=!!Ee,Et))},[Ee,st]),it=JSON.stringify(Ce),lt=(0,o.useMemo)(function(){return st?Ce.emptyMonthDays||No.emptyMonthDays:Ce.emptyMonthDaysShort||No.emptyMonthDaysShort},[st,it]);return!Ne||Q&&Q.length>0||(!Q||Q.length===0)&&(!Fe||Fe.length===0)?(0,C.jsxs)("div",va({className:nt},{children:[Ce.prefixMonthDays!==""&&(0,C.jsx)("span",{children:Ce.prefixMonthDays||No.prefixMonthDays}),(0,C.jsx)(wi,{placeholder:lt,value:Q,setValue:ve,unit:Za[2],locale:Ce,className:Ee,disabled:Ie,readOnly:Ne,leadingZero:Ke,period:ze,periodicityOnDoubleClick:Xe,mode:Ge})]})):null}function Jf(me){var Q=me.value,ve=me.setValue,Ce=me.locale,Ee=me.className,Fe=me.humanizeLabels,Ie=me.disabled,Ne=me.readOnly,Ke=me.period,ze=me.periodicityOnDoubleClick,Xe=me.mode,Ge=Ce.months||No.months,st=(0,o.useMemo)(function(){var nt;return Ca(((nt={"react-js-cron-field":!0,"react-js-cron-months":!0})["".concat(Ee,"-field")]=!!Ee,nt["".concat(Ee,"-months")]=!!Ee,nt))},[Ee]);return(0,C.jsxs)("div",va({className:st},{children:[Ce.prefixMonths!==""&&(0,C.jsx)("span",{children:Ce.prefixMonths||No.prefixMonths}),(0,C.jsx)(wi,{placeholder:Ce.emptyMonths||No.emptyMonths,optionsList:Ge,grid:!1,value:Q,unit:va(va({},Za[3]),{alt:Ce.altMonths||No.altMonths}),setValue:ve,locale:Ce,className:Ee,humanizeLabels:Fe,disabled:Ie,readOnly:Ne,period:Ke,periodicityOnDoubleClick:ze,mode:Xe})]}))}function qf(me){var Q=me.value,ve=me.setValue,Ce=me.locale,Ee=me.className,Fe=me.disabled,Ie=me.readOnly,Ne=me.shortcuts,Ke=me.allowedPeriods,ze=[];Ke.includes("year")&&ze.push({value:"year",label:Ce.yearOption||No.yearOption}),Ke.includes("month")&&ze.push({value:"month",label:Ce.monthOption||No.monthOption}),Ke.includes("week")&&ze.push({value:"week",label:Ce.weekOption||No.weekOption}),Ke.includes("day")&&ze.push({value:"day",label:Ce.dayOption||No.dayOption}),Ke.includes("hour")&&ze.push({value:"hour",label:Ce.hourOption||No.hourOption}),Ke.includes("minute")&&ze.push({value:"minute",label:Ce.minuteOption||No.minuteOption}),Ke.includes("reboot")&&Ne&&(Ne===!0||Ne.includes("@reboot"))&&ze.push({value:"reboot",label:Ce.rebootOption||No.rebootOption});var Xe=(0,o.useCallback)(function(it){Ie||ve(it)},[ve,Ie]),Ge=(0,o.useMemo)(function(){var it;return Ca(((it={"react-js-cron-field":!0,"react-js-cron-period":!0})["".concat(Ee,"-field")]=!!Ee,it["".concat(Ee,"-period")]=!!Ee,it))},[Ee]),st=(0,o.useMemo)(function(){var it;return Ca(((it={"react-js-cron-select":!0,"react-js-cron-select-no-prefix":Ce.prefixPeriod===""})["".concat(Ee,"-select")]=!!Ee,it))},[Ee,Ce.prefixPeriod]),nt=(0,o.useMemo)(function(){var it;return Ca(((it={"react-js-cron-select-dropdown":!0,"react-js-cron-select-dropdown-period":!0})["".concat(Ee,"-select-dropdown")]=!!Ee,it["".concat(Ee,"-select-dropdown-period")]=!!Ee,it))},[Ee]);return(0,C.jsxs)("div",va({className:Ge},{children:[Ce.prefixPeriod!==""&&(0,C.jsx)("span",{children:Ce.prefixPeriod||No.prefixPeriod}),(0,C.jsx)(dt.default,{defaultValue:Q,value:Q,onChange:Xe,options:ze,className:st,popupClassName:nt,disabled:Fe,showArrow:!Ie,open:!Ie&&void 0,"data-testid":"select-period"},JSON.stringify(Ce))]}))}function em(me){var Q=me.value,ve=me.setValue,Ce=me.locale,Ee=me.className,Fe=me.humanizeLabels,Ie=me.monthDays,Ne=me.disabled,Ke=me.readOnly,ze=me.period,Xe=me.periodicityOnDoubleClick,Ge=me.mode,st=Ce.weekDays||No.weekDays,nt=ze==="week"||!Ie||Ie.length===0,it=(0,o.useMemo)(function(){var tn;return Ca(((tn={"react-js-cron-field":!0,"react-js-cron-week-days":!0,"react-js-cron-week-days-placeholder":!nt})["".concat(Ee,"-field")]=!!Ee,tn["".concat(Ee,"-week-days")]=!!Ee,tn))},[Ee,nt]),lt=JSON.stringify(Ce),Et=(0,o.useMemo)(function(){return nt?Ce.emptyWeekDays||No.emptyWeekDays:Ce.emptyWeekDaysShort||No.emptyWeekDaysShort},[nt,lt]),Ut=ze==="week"||!Ke||Q&&Q.length>0||(!Q||Q.length===0)&&(!Ie||Ie.length===0),At=!Ke||Ie&&Ie.length>0||(!Ie||Ie.length===0)&&(!Q||Q.length===0);return Ut?(0,C.jsxs)("div",va({className:it},{children:[Ce.prefixWeekDays!==""&&(ze==="week"||!At)&&(0,C.jsx)("span",{children:Ce.prefixWeekDays||No.prefixWeekDays}),Ce.prefixWeekDaysForMonthAndYearPeriod!==""&&ze!=="week"&&At&&(0,C.jsx)("span",{children:Ce.prefixWeekDaysForMonthAndYearPeriod||No.prefixWeekDaysForMonthAndYearPeriod}),(0,C.jsx)(wi,{placeholder:Et,optionsList:st,grid:!1,value:Q,unit:va(va({},Za[4]),{alt:Ce.altWeekDays||No.altWeekDays}),setValue:ve,locale:Ce,className:Ee,humanizeLabels:Fe,disabled:Ne,readOnly:Ke,period:ze,periodicityOnDoubleClick:Xe,mode:Ge})]})):null}function tm(me){var Q=me.clearButton,ve=Q===void 0||Q,Ce=me.clearButtonProps,Ee=Ce===void 0?{}:Ce,Fe=me.clearButtonAction,Ie=Fe===void 0?"fill-with-every":Fe,Ne=me.locale,Ke=Ne===void 0?No:Ne,ze=me.value,Xe=ze===void 0?"":ze,Ge=me.setValue,st=me.displayError,nt=st===void 0||st,it=me.onError,lt=me.className,Et=me.defaultPeriod,Ut=Et===void 0?"day":Et,At=me.allowEmpty,tn=At===void 0?"for-default-value":At,Qt=me.humanizeLabels,on=Qt===void 0||Qt,Jt=me.humanizeValue,Xt=Jt!==void 0&&Jt,On=me.disabled,Hn=On!==void 0&&On,Zn=me.readOnly,Jn=Zn!==void 0&&Zn,Nn=me.leadingZero,Cn=Nn!==void 0&&Nn,pn=me.shortcuts,or=pn===void 0?["@yearly","@annually","@monthly","@weekly","@daily","@midnight","@hourly"]:pn,vr=me.clockFormat,gr=me.periodicityOnDoubleClick,Wn=gr===void 0||gr,Xn=me.mode,fn=Xn===void 0?"multiple":Xn,Fn=me.allowedDropdowns,kn=Fn===void 0?["period","months","month-days","week-days","hours","minutes"]:Fn,ur=me.allowedPeriods,Ln=ur===void 0?["year","month","week","day","hour","minute","reboot"]:ur,sr=(0,o.useRef)(Xe),Ur=(0,o.useRef)(Ut),Kr=(0,o.useState)(),Or=Kr[0],jr=Kr[1],br=(0,o.useState)(),wr=br[0],so=br[1],vo=(0,o.useState)(),Po=vo[0],uo=vo[1],go=(0,o.useState)(),jo=go[0],Do=go[1],qo=(0,o.useState)(),ra=qo[0],oa=qo[1],Wa=(0,o.useState)(),pa=Wa[0],ga=Wa[1],pi=(0,o.useState)(!1),Fa=pi[0],xa=pi[1],Ya=(0,o.useState)(!1),Ma=Ya[0],hi=Ya[1],Ra=function(Xo){var _a=(0,o.useRef)(Xo);return(0,o.useEffect)(function(){_a.current=Xo},[Xo]),_a.current}(Ma),Aa=JSON.stringify(Ke);(0,o.useEffect)(function(){zl(Xe,xa,it,tn,sr,!0,Ke,or,ga,oa,so,uo,Do,jr)},[]),(0,o.useEffect)(function(){Xe!==sr.current&&zl(Xe,xa,it,tn,sr,!1,Ke,or,ga,oa,so,uo,Do,jr)},[Xe,sr,Aa,tn,or]),(0,o.useEffect)(function(){if(!(Or||pa||Po||wr||jo||ra)||Ma||Ra)Ma&&hi(!1);else{var Xo=Or||Ur.current,_a=Zl(Xo,Po,wr,jo,ra,pa,Xt);Ge(_a,{selectedPeriod:Xo}),sr.current=_a,it&&it(void 0),xa(!1)}},[Or,wr,Po,jo,ra,pa,Xt,Ma]);var Xa=(0,o.useCallback)(function(){so(void 0),uo(void 0),Do(void 0),oa(void 0),ga(void 0);var Xo="",_a=Or!=="reboot"&&Or?Or:Ur.current;_a!==Or&&jr(_a),Ie==="fill-with-every"&&(Xo=Zl(_a,void 0,void 0,void 0,void 0,void 0)),Ge(Xo,{selectedPeriod:_a}),sr.current=Xo,hi(!0),tn==="never"&&Ie==="empty"?(xa(!0),Uu(it,Ke)):(it&&it(void 0),xa(!1))},[Or,Ge,it,Ie]),Vo=(0,o.useMemo)(function(){var Xo;return Ca(((Xo={"react-js-cron":!0,"react-js-cron-error":Fa&&nt,"react-js-cron-disabled":Hn,"react-js-cron-read-only":Jn})["".concat(lt)]=!!lt,Xo["".concat(lt,"-error")]=Fa&&nt&&!!lt,Xo["".concat(lt,"-disabled")]=Hn&&!!lt,Xo["".concat(lt,"-read-only")]=Jn&&!!lt,Xo))},[lt,Fa,nt,Hn,Jn]),Wo=Ee.className,aa=ju(Ee,["className"]),$o=(0,o.useMemo)(function(){var Xo;return Ca(((Xo={"react-js-cron-clear-button":!0})["".concat(lt,"-clear-button")]=!!lt,Xo["".concat(Wo)]=!!Wo,Xo))},[lt,Wo]),ba=JSON.stringify(aa),ca=(0,o.useMemo)(function(){return ve&&!Jn?(0,C.jsx)(Nr.ZP,va({className:$o,danger:!0,type:"primary",disabled:Hn},aa,{onClick:Xa},{children:Ke.clearButtonText||No.clearButtonText})):null},[ve,Jn,Aa,$o,Hn,ba,Xa]),ea=Or||Ur.current;return(0,C.jsxs)("div",va({className:Vo},{children:[kn.includes("period")&&(0,C.jsx)(qf,{value:ea,setValue:jr,locale:Ke,className:lt,disabled:Hn,readOnly:Jn,shortcuts:or,allowedPeriods:Ln}),ea==="reboot"?ca:(0,C.jsxs)(C.Fragment,{children:[ea==="year"&&kn.includes("months")&&(0,C.jsx)(Jf,{value:Po,setValue:uo,locale:Ke,className:lt,humanizeLabels:on,disabled:Hn,readOnly:Jn,period:ea,periodicityOnDoubleClick:Wn,mode:fn}),(ea==="year"||ea==="month")&&kn.includes("month-days")&&(0,C.jsx)(Qf,{value:wr,setValue:so,locale:Ke,className:lt,weekDays:jo,disabled:Hn,readOnly:Jn,leadingZero:Cn,period:ea,periodicityOnDoubleClick:Wn,mode:fn}),(ea==="year"||ea==="month"||ea==="week")&&kn.includes("week-days")&&(0,C.jsx)(em,{value:jo,setValue:Do,locale:Ke,className:lt,humanizeLabels:on,monthDays:wr,disabled:Hn,readOnly:Jn,period:ea,periodicityOnDoubleClick:Wn,mode:fn}),(0,C.jsxs)("div",{children:[ea!=="minute"&&ea!=="hour"&&kn.includes("hours")&&(0,C.jsx)(Yf,{value:ra,setValue:oa,locale:Ke,className:lt,disabled:Hn,readOnly:Jn,leadingZero:Cn,clockFormat:vr,period:ea,periodicityOnDoubleClick:Wn,mode:fn}),ea!=="minute"&&kn.includes("minutes")&&(0,C.jsx)(Xf,{value:pa,setValue:ga,locale:Ke,period:ea,className:lt,disabled:Hn,readOnly:Jn,leadingZero:Cn,clockFormat:vr,periodicityOnDoubleClick:Wn,mode:fn}),ca]})]})]}))}var Ku,nm=["onChange"],rm=function(Q){var ve=Q.onChange,Ce=R()(Q,nm);return(0,C.jsx)("fieldset",{className:(0,pe.css)(Ku||(Ku=q()([`
        .react-js-cron {
          padding: 0.5em 0.5em 0 0.5em;
          border: 1px dashed #ccc;
          .react-js-cron-field {
            flex-shrink: 0;
            margin-bottom: 0.5em;

            > span {
              flex-shrink: 0;
              margin: 0 0.5em 0 0;
            }

            > .react-js-cron-select {
              margin: 0 0.5em 0 0;
            }
          }
        }
      `]))),children:(0,C.jsx)(tm,r()({setValue:ve,locale:window.cronLocale},Ce))})},Vu=function(Q){var ve=(0,U.LY)(),Ce=ve.auth.getLocale(),Ee=(0,o.useMemo)(function(){try{return Hf().toString(Q.value,{locale:Ce,use24HourTimeFormat:!0})}catch(Fe){return(0,Ve.error)("The '".concat(Q.value,"' is not a valid cron expression")),Q.value}},[Q.value]);return Q.value?(0,C.jsx)("span",{children:Ee}):null},gl=(0,S.connect)(rm,(0,S.mapReadPretty)(Vu));gl.ReadPretty=Vu;var $u=gl,om=function(Q){var ve,Ce=Q.onChange,Ee=Q.value,Fe=(0,I.useCollection_deprecated)(),Ie=Fe.getField,Ne=(0,S.useFieldSchema)(),Ke=(ve=Ie(Ne==null?void 0:Ne.name))===null||ve===void 0?void 0:ve.uiSchema.enum,ze=(0,w.eJ)(),Xe=(0,o.useState)({label:"{{t('Custom')}}",value:"@daily"}),Ge=ye()(Xe,2),st=Ge[0],nt=Ge[1],it=(0,o.useMemo)(function(){return(Q.options||[]).concat(Ke||[]).concat([st]).map(function(Ut){return r()(r()({},Ut),{},{label:ze(Ut.label)})})},[Q.options,st]);(0,o.useEffect)(function(){if(!(typeof Ee=="undefined"||Ee===null)){var Ut=it.find(function(At){return At.value===Ee});Ut||nt(r()(r()({},st),{},{value:Ee}))}},[it,Ee]);var lt=(0,o.useMemo)(function(){return Ee===st.value},[Ee,st]),Et=function(At){var tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;tn&&nt(r()(r()({},st),{},{value:At})),Ce(At)};return(0,C.jsxs)("fieldset",{children:[(0,C.jsx)(dt.default,r()(r()({popupMatchSelectWidth:!1,allowClear:!0},Q),{},{value:Ee,options:it,onChange:function(At){return Et(At)}})),lt?(0,C.jsx)($u,{value:Ee,onChange:function(At){return Et(At,!0)},allowedDropdowns:["period","week-days","months","month-days"],allowedPeriods:["year","month","week","day"]}):null]})},am=function(Q){var ve,Ce=Q.value,Ee=(0,w.eJ)(),Fe=(0,S.useFieldSchema)(),Ie=(0,I.useCollection_deprecated)(),Ne=Ie.getField,Ke=(ve=Ne(Fe==null?void 0:Fe.name))===null||ve===void 0?void 0:ve.uiSchema.enum,ze=(0,o.useMemo)(function(){return(Q.options||[]).concat(Ke||[])},[Q.options]),Xe=(0,o.useMemo)(function(){var Ge;return Ce&&(ze==null||(Ge=ze.find(function(st){return st.value===Ce}))===null||Ge===void 0?void 0:Ge.label)},[ze,Ce]);return(0,C.jsx)(la.BQ,{ellipsis:!0,children:Ce&&(Xe?Ee(Xe):(0,C.jsx)($u.ReadPretty,r()({},Q)))})},zu=(0,S.connect)(om,(0,S.mapReadPretty)(am)),Na=e(72322),Zu=(0,J.t)(function(me){var Q,ve=(0,Rt.hS)();return!(ve!=null&&ve.loading)&&T().isEmpty(ve==null||(Q=ve.data)===null||Q===void 0?void 0:Q.data)?(0,C.jsx)(Li.H,{}):(0,C.jsx)(fr,r()({},me))},{displayName:"Details"}),im=e(75531),Hu,lm=(0,pe.css)(Hu||(Hu=q()([`
  position: relative;
  &:hover {
    .general-schema-designer {
      display: block;
    }
  }
  .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover);
    border: 0;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`]))),sm=function(Q,ve){var Ce,Ee,Fe=(0,S.useFieldSchema)(),Ie=(0,be.CL)(),Ne=(0,be.Si)(),Ke=((Ce=Fe.parent)===null||Ce===void 0||(Ce=Ce.parent)===null||Ce===void 0?void 0:Ce["x-decorator"])==="TableSelectorProvider",ze=Ke?Ie:Ne,Xe=Fe["x-component-props"]||{},Ge=Xe.titleExpand,st=Xe.titleCollapse,nt=Xe.iconExpand,it=Xe.iconCollapse,lt=(0,w.eJ)(),Et=(0,o.createRef)(),Ut=(0,im.sQ)(ve,Et);return(0,C.jsx)("div",{className:lm,ref:Ut,children:(ze==null?void 0:ze.params.tree)&&(0,C.jsxs)(Nr.ZP,{onClick:function(){ze==null||ze.setExpandFlag()},icon:(0,C.jsx)(Ye.JO,{type:ze!=null&&ze.expandFlag?it:nt}),type:Q.type,style:Q==null?void 0:Q.style,children:[(Ee=Q.children)===null||Ee===void 0?void 0:Ee[1],(0,C.jsx)("span",{children:ze!=null&&ze.expandFlag?lt(st):lt(Ge)})]})})},Gu=(0,o.forwardRef)(sm),um=function(Q){var ve,Ce,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,S.useFieldSchema)(),Ne=(0,S.useField)(),Ke=(0,z.ngQ)(),ze=Ke.dn,Xe=Ie["x-component-props"]||{},Ge=Xe.titleExpand,st=Xe.titleCollapse,nt=Xe.iconExpand,it=Xe.iconCollapse;return(0,C.jsxs)(F.aN,r()(r()({},Q),{},{disableInitializer:!0,children:[(0,C.jsx)(F.B0,{title:Fe("Edit button"),schema:{type:"object",title:Fe("Edit button"),properties:{titleExpand:{"x-decorator":"FormItem","x-component":"Input",title:"".concat(Fe("Button title")," - ").concat(Fe("Expand all")),default:Ge},titleCollapse:{"x-decorator":"FormItem","x-component":"Input",title:"".concat(Fe("Button title")," - ").concat(Fe("Collapse all")),default:st},iconExpand:{"x-decorator":"FormItem","x-component":"IconPicker",title:"".concat(Fe("Button icon")," - ").concat(Fe("Expand all")),default:nt},iconCollapse:{"x-decorator":"FormItem","x-component":"IconPicker",title:"".concat(Fe("Button icon")," - ").concat(Fe("Collapse all")),default:it},type:{"x-decorator":"FormItem","x-component":"Radio.Group",title:Fe("Button background color"),default:Ie!=null&&(ve=Ie["x-component-props"])!==null&&ve!==void 0&&ve.danger?"danger":(Ie==null||(Ce=Ie["x-component-props"])===null||Ce===void 0?void 0:Ce.type)==="primary"?"primary":"default",enum:[{value:"default",label:'{{t("Default")}}'},{value:"primary",label:'{{t("Highlight")}}'},{value:"danger",label:'{{t("Secondary")}}'}]}}},onSubmit:function(Et){var Ut=Et.titleExpand,At=Et.titleCollapse,tn=Et.iconExpand,Qt=Et.iconCollapse,on=Et.type;Ie.title=Fe("Expand/Collapse"),Ne.title=Fe("Expand/Collapse"),Ne.componentProps.icon=tn,Ne.componentProps.danger=on==="danger",Ne.componentProps.type=on,Ie["x-component-props"]=r()(r()({},Ie["x-component-props"]||{}),{},{titleExpand:Ut,titleCollapse:At,iconExpand:tn,iconCollapse:Qt,type:on,danger:on==="danger"}),ze.emit("patch",{schema:{"x-uid":Ie["x-uid"],"x-component-props":Ie["x-component-props"],title:Ie.title}}),ze.refresh()}}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:function(Et){return Et["x-component"]==="Space"||Et["x-component"].endsWith("ActionBar")},confirm:{title:Fe("Delete action")}})]}))},_l=Gu;_l.Action=Gu,_l.Action.Design=um;var cm=e(5914),Yl=e(73935),dm=function(Q){return(0,$e.isNum)(Q)||(0,$e.isStr)(Q)||(0,$e.isBool)(Q)||o.isValidElement(Q)},fm=function(Q){return dm(Q)?{title:Q}:Q};function Ni(me,Q,ve,Ce){((0,$e.isFn)(Q)||o.isValidElement(Q))&&(Ce=ve,ve=Q,Q="form-dialog");var Ee={host:document.createElement("div"),form:null,promise:null,openMiddlewares:[],confirmMiddlewares:[],cancelMiddlewares:[]},Fe=(0,He.CT)(Ee.host,Q),Ie=fm(me),Ne=r()(r()({},Ie),{},{afterClose:function(){var st;Ie==null||(st=Ie.afterClose)===null||st===void 0||st.call(Ie),Fe.unmount()}}),Ke=(0,S.observer)(function(){return(0,C.jsx)(o.Fragment,{children:(0,$e.isFn)(ve)?ve(Ee.form):ve})},{displayName:"DialogContent"}),ze=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,nt=arguments.length>1?arguments[1]:void 0,it=arguments.length>2?arguments[2]:void 0,lt=Ee.form;return lt?(0,C.jsx)(We.YO,{theme:Ce,children:(0,C.jsx)(S.Observer,{children:function(){var Ut=(0,He.dQ)(),At=Ut.token;return(0,C.jsx)(cm.Z,r()(r()({zIndex:At.zIndexPopupBase+1e3},Ne),{},{open:st,confirmLoading:lt.submitting,onCancel:function(Qt){var on;(Ne==null||(on=Ne.onCancel)===null||on===void 0?void 0:on.call(Ne,Qt))!==!1&&(it==null||it())},onOk:function(){var tn=p()(x()().mark(function Qt(on){var Jt;return x()().wrap(function(On){for(;;)switch(On.prev=On.next){case 0:(Ne==null||(Jt=Ne.onOk)===null||Jt===void 0?void 0:Jt.call(Ne,on))!==!1&&(nt==null||nt());case 1:case"end":return On.stop()}},Qt)}));return function(Qt){return tn.apply(this,arguments)}}(),children:(0,C.jsx)(S.FormProvider,{form:lt,children:(0,C.jsx)(Ke,{})})}))}})}):null};document.body.appendChild(Ee.host);var Xe={forOpen:function(st){return(0,$e.isFn)(st)&&Ee.openMiddlewares.push(st),Xe},forConfirm:function(st){return(0,$e.isFn)(st)&&Ee.confirmMiddlewares.push(st),Xe},forCancel:function(st){return(0,$e.isFn)(st)&&Ee.cancelMiddlewares.push(st),Xe},open:function(){var Ge=p()(x()().mark(function nt(it){return x()().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(!Ee.promise){Et.next=2;break}return Et.abrupt("return",Ee.promise);case 2:return Ee.promise=new Promise(function(){var Ut=p()(x()().mark(function At(tn,Qt){return x()().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:return Jt.prev=0,Jt.next=3,(0,He.V_)(Ne.loadingText,function(){return(0,$e.applyMiddleware)(it,Ee.openMiddlewares)});case 3:it=Jt.sent,Ee.form=Ee.form||(0,N.createForm)(it),Jt.next=10;break;case 7:Jt.prev=7,Jt.t0=Jt.catch(0),Qt(Jt.t0);case 10:Fe.render(function(){return ze(!0,function(){var Xt;(Xt=Ee.form)===null||Xt===void 0||Xt.submit(p()(x()().mark(function On(){return x()().wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:return Zn.next=2,(0,$e.applyMiddleware)(Ee.form,Ee.confirmMiddlewares);case 2:(0,Oe.untracked)(function(){var Jn;tn(r()({},(Jn=Ee.form)===null||Jn===void 0?void 0:Jn.values))}),Xe.close();case 4:case"end":return Zn.stop()}},On)}))).catch(function(){})},p()(x()().mark(function Xt(){return x()().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:return Hn.next=2,(0,He.V_)(Ne.loadingText,function(){return(0,$e.applyMiddleware)(Ee.form,Ee.cancelMiddlewares)});case 2:Xe.close();case 3:case"end":return Hn.stop()}},Xt)})))});case 11:case"end":return Jt.stop()}},At,null,[[0,7]])}));return function(At,tn){return Ut.apply(this,arguments)}}()),Et.abrupt("return",Ee.promise);case 4:case"end":return Et.stop()}},nt)}));function st(nt){return Ge.apply(this,arguments)}return st}(),close:function(){Ee.host&&Fe.render(function(){return ze(!1)})}};return Xe}var mm=function(Q){var ve=(0,o.useRef)(null),Ce=(0,o.useState)(),Ee=ye()(Ce,2),Fe=Ee[0],Ie=Ee[1],Ne=(0,o.useRef)(),Ke=(0,He.F8)("modal");return(0,o.useLayoutEffect)(function(){var ze,Xe=(ze=ve.current)===null||ze===void 0?void 0:ze.closest(".".concat(Ke,"-content"));Xe&&(Ne.current||(Ne.current=Xe.querySelector(".".concat(Ke,"-footer")),Ne.current||(Ne.current=document.createElement("div"),Ne.current.classList.add("".concat(Ke,"-footer")),Xe.appendChild(Ne.current))),Ie(Ne.current))},[Ke]),Ne.current=Fe,(0,C.jsx)("div",{ref:ve,style:{display:"none"},children:Fe&&(0,Yl.createPortal)(Q.children,Fe)})};Ni.Footer=mm,Ni.Portal=(0,He.N4)("form-dialog");var f0=null,Bo=e(59344),vm={validator:`{{(value, rule)=> {
    if (!value) {
      return '';
    }
    try {
      const val = JSON.parse(value);
      if(!isNaN(val)) {
        return false;
      }
      return true;
    } catch(error) {
      captureException(error);
      return false;
    }
  }}}`,message:'{{t("Invalid JSON format")}}'},pm=function(){var Q,ve,Ce,Ee=(0,ce.$)(),Fe=Ee.t,Ie=(0,w.ng)(),Ne=Ie.dn,Ke=(0,S.useFieldSchema)(),ze=(0,S.useField)(),Xe=(0,w.eJ)(),Ge=(0,U.LY)();return(0,C.jsxs)(F.aN,{children:[(0,C.jsx)(F.B0,{title:Fe("Edit chart"),schema:{type:"object",title:Fe("Edit chart"),properties:{title:{title:Fe("Chart title"),type:"string",default:Ke.title,"x-decorator":"FormItem","x-component":"Input"},plot:{title:Fe("Chart type"),type:"string",default:Ke==null||(Q=Ke["x-component-props"])===null||Q===void 0?void 0:Q.plot,"x-decorator":"FormItem","x-component":"Input","x-disabled":!!(Ke!=null&&(ve=Ke["x-component-props"])!==null&&ve!==void 0&&ve.plot)},config:{title:Fe("Chart config"),type:"string",default:JSON.stringify(Ke==null||(Ce=Ke["x-component-props"])===null||Ce===void 0?void 0:Ce.config,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},"x-validator":vm}}},onSubmit:function(){var st=p()(x()().mark(function nt(it){var lt,Et,Ut,At,tn,Qt;return x()().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:lt=it.plot,Et=it.title,Ut=it.config,ze.title=Xe(Et),ze.componentProps.plot=lt,At=Xe(JSON.parse(Ut)),tn=At==null?void 0:At.data,typeof tn=="function"?(Qt=tn.bind({api:Ge})(),Qt!=null&&Qt.then&&Qt.then(function(Xt){Array.isArray(Xt)&&(ze.componentProps.config.data=Xt)}).catch(function(Xt){(0,Ve.captureException)(Xt)})):ze.componentProps.config=At,T().set(Ke,"title",Et),T().set(Ke,"x-component-props.plot",lt),T().set(Ke,"x-component-props.config",JSON.parse(Ut)),Ne.emit("patch",{schema:{title:Et,"x-uid":Ke["x-uid"],"x-component-props":Ke["x-component-props"]}}),Ne.refresh();case 11:case"end":return Jt.stop()}},nt)}));return function(nt){return st.apply(this,arguments)}}()}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},Yu={Line:Bo.x1,Area:Bo.uN,Column:Bo.sg,Bar:Bo.$Q,Pie:Bo.by,Rose:Bo.he,WordCloud:Bo.kB,Scatter:Bo.bp,Radar:Bo.Fk,DualAxes:Bo.VT,TinyLine:Bo.tn,TinyColumn:Bo.cQ,TinyArea:Bo.m,Histogram:Bo.b5,Progress:Bo.Ex,RingProgress:Bo.TZ,Heatmap:Bo.Xd,Box:Bo.xu,Violin:Bo.BS,Venn:Bo.J,Stock:Bo.Wd,Funnel:Bo.oe,Liquid:Bo.Kj,Bullet:Bo.gT,Sunburst:Bo.qu,Gauge:Bo.aC,Waterfall:Bo.p3,RadialBar:Bo.Gm,BidirectionalBar:Bo.hF,Treemap:Bo.WB,Sankey:Bo.bQ,Chord:Bo.VC,CirclePacking:Bo.wp,Mix:Bo.V2,Facet:Bo.r$},yl=(0,o.forwardRef)(function(me,Q){var ve=me.className,Ce=me.plot,Ee=me.config,Fe=(0,o.useRef)(void 0),Ie=(0,o.useRef)(void 0);function Ne(Xe,Ge){typeof Ge=="function"?Ge(Xe.current):Ge&&(Ge.current=Xe.current)}function Ke(){if(Ie.current)Ie.current.update(Ee);else{var Xe;Ie.current=new Ce(Fe.current,Ee),Ie==null||(Xe=Ie.current)===null||Xe===void 0||Xe.render()}Ne(Ie,Q)}function ze(){Ie.current&&(Ie.current.destroy(),Ie.current=void 0)}return(0,o.useEffect)(function(){return Ke(),function(){return ze()}},[Ee,Ce]),(0,C.jsx)("div",{className:co()(["g2plot",ve]),ref:Fe})});yl.displayName="G2PlotRenderer";var Cl=(0,S.observer)(function(me){var Q,ve=me.plot,Ce=me.config,Ee=(0,S.useField)(),Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,U.LY)();return(0,o.useEffect)(function(){Ee.data=Ee.data||{},Ee.data.loading=!0;var Ke=Ce==null?void 0:Ce.data;if(typeof Ke=="function"){var ze=Ke.bind({api:Ne})();ze!=null&&ze.then?ze.then(function(Xe){Array.isArray(Xe)&&(Ee.componentProps.config.data=Xe),Ee.data.loading=!1}).catch(function(Xe){(0,Ve.captureException)(Xe)}):Ee.data.loading=!1}else Ee.data.loading=!1},[]),!ve||!Ce?(0,C.jsxs)("div",{style:{opacity:.3},children:[Ie("In configuration"),"..."]}):(Ee==null||(Q=Ee.data)===null||Q===void 0?void 0:Q.loading)!==!1?(0,C.jsx)(V.Z,{}):(0,C.jsxs)("div",{children:[Ee.title&&(0,C.jsx)("h2",{children:Ee.title}),(0,C.jsx)(yl,{plot:Yu[ve],config:r()(r()({},Ce),{},{data:Array.isArray(Ce==null?void 0:Ce.data)?Ce.data:[]})})]})},{displayName:"G2Plot"});Cl.Designer=pm,Cl.plots=Yu;var Xu=(0,S.observer)(function(me){var Q=(0,S.useFieldSchema)();return(0,C.jsxs)("div",{style:{marginBottom:20,padding:"0 20px",height:50,lineHeight:"50px",background:"#f1f1f1"},children:["Block ",Q.title,(0,C.jsx)(z.IWB,{})]})},{displayName:"Block"}),Ia=e(94697),hm=e(72724),gm=(0,He.l6)("nb-grid",function(me){var Q=me.componentCls;return oe()({},Q,{".ant-nb-grid-card":{background:"#fff",".nb-action-bar":{marginBottom:"0 !important"},".ant-list":{padding:"".concat(me.marginBlock,"px")}},".ColDivider":{flexShrink:0,width:me.marginBlock,".DraggableNode":{"&::before":{content:"' '",width:"100%",height:"100%",position:"absolute",cursor:"col-resize"},"&:hover":{"&::before":{background:"var(--colorBgSettingsHover) !important"}},width:me.marginBlock,height:"100%",position:"absolute",cursor:"col-resize"}},".RowDivider":{height:me.marginBlock,width:"100%",position:"absolute",marginTop:"calc(-1 * ".concat(me.marginBlock,"px)")},".CardRow":{display:"flex",position:"relative"},".showDivider":{margin:"0 calc(-1 * ".concat(me.marginBlock,"px)")}})}),_m=gm,bl=(0,o.createContext)({});bl.displayName="GridRowContext";var Qu=(0,o.createContext)({});Qu.displayName="GridColContext";var Xl=(0,o.createContext)({});Xl.displayName="GridContext";var Ju=function(Q){return Q["x-component"]==="Grid"},qu=function(Q){return Q["x-component"]==="Grid.Row"},Ql=o.memo(S.RecursionField);Ql.displayName="MemorizedRecursionField";var ec=function(Q){var ve,Ce=(0,He.dQ)(),Ee=Ce.token,Fe=(0,o.useRef)(null),Ie=(0,Ia.useDroppable)({id:Q.id,data:Q.data}),Ne=Ie.isOver,Ke=Ie.setNodeRef,ze=(0,ut.useDesignable)(),Xe=ze.dn,Ge=ze.designable,st=(0,o.useRef)(),nt=(0,o.useMemo)(function(){return Ne?{backgroundColor:new Bi.C(Ee.colorSettings).setAlpha(.1).toHex8String()}:{}},[Ne]),it=(0,Ia.useDndContext)(),lt=(ve=it.active)===null||ve===void 0||(ve=ve.data.current)===null||ve===void 0||(ve=ve.schema)===null||ve===void 0?void 0:ve.parent,Et=lt?Object.keys(lt.properties).length:0,Ut=!0;if(Et===1)if(Q.first)Ut=lt!==Q.cols[0];else{var At=Q.cols[Q.index],tn=Q.cols[Q.index+1];Ut=lt!==At&&tn!==lt}var Qt=Q.cols[Q.index],on=Q.cols[Q.index+1],Jt=(0,Ia.useDraggable)({disabled:Q.first||Q.last||!Ge,id:Q.id,data:{dividerRef:st,prevSchema:Qt,nextSchema:on}}),Xt=Jt.attributes,On=Jt.listeners,Hn=Jt.setNodeRef,Zn=Jt.isDragging,Jn=(0,o.useState)([0,0]),Nn=ye()(Jn,2),Cn=Nn[0],pn=Nn[1];return(0,Ia.useDndMonitor)({onDragStart:function(vr){if(Zn){Fe.current=vr.active.id;var gr=st.current,Wn=gr.previousElementSibling,Xn=gr.nextElementSibling;pn([Wn.clientWidth,Xn.clientWidth])}},onDragMove:function(vr){if(Zn){Fe.current===vr.active.id&&(Fe.current=Fe.current+"_move");var gr=st.current,Wn=gr.previousElementSibling,Xn=gr.nextElementSibling;Wn.style.width="".concat(Cn[0]+vr.delta.x,"px"),Xn.style.width="".concat(Cn[1]-vr.delta.x,"px")}},onDragEnd:function(vr){var gr,Wn,Xn;if(Fe.current&&!((gr=Fe.current)!==null&&gr!==void 0&&gr.startsWith(vr.active.id)&&!Fe.current.endsWith("_move"))&&!(Cn[0]<=0||Cn[1]<=0)&&(pn([0,0]),!(!Qt||!on))){var fn=st.current,Fn=fn.previousElementSibling,kn=fn.nextElementSibling;Qt["x-component-props"]=Qt["x-component-props"]||{},on["x-component-props"]=on["x-component-props"]||{};var ur=fn.clientWidth*(Q.cols.length+1)/Q.cols.length,Ln=(100*(Fn.getBoundingClientRect().width+ur)/fn.parentElement.clientWidth).toFixed(2),sr=(100*(kn.getBoundingClientRect().width+ur)/fn.parentElement.clientWidth).toFixed(2);T().set(Qt,"x-component-props.width",Ln),T().set(on,"x-component-props.width",sr),Xe.emit("batchPatch",{schemas:[(Wn={},oe()(Wn,"x-uid",Qt["x-uid"]),oe()(Wn,"x-component-props",r()({},Qt["x-component-props"])),Wn),(Xn={},oe()(Xn,"x-uid",on["x-uid"]),oe()(Xn,"x-component-props",r()({},on["x-component-props"])),Xn)]})}}}),(0,C.jsx)("div",{ref:function(vr){Ut&&(Ke(vr),st.current=vr)},className:co()("nb-col-divider","ColDivider"),style:nt,children:(0,C.jsx)("div",r()(r()(r()({ref:Hn},On),Xt),{},{className:Q.first||Q.last||!Ge?null:"DraggableNode"}))})},tc=function(Q){var ve,Ce=(0,He.dQ)(),Ee=Ce.token,Fe=(0,Ia.useDroppable)({id:Q.id,data:Q.data}),Ie=Fe.isOver,Ne=Fe.setNodeRef,Ke=(0,o.useState)(!1),ze=ye()(Ke,2),Xe=ze[0],Ge=ze[1],st=(0,o.useMemo)(function(){return Ie?{zIndex:Xe?1e3:-1,backgroundColor:new Bi.C(Ee.colorSettings).setAlpha(.1).toHex8String()}:{zIndex:Xe?1e3:-1}},[Xe,Ie]),nt=(0,Ia.useDndContext)(),it=Q.rows[Q.index],lt=(ve=nt.active)===null||ve===void 0||(ve=ve.data.current)===null||ve===void 0||(ve=ve.schema)===null||ve===void 0?void 0:ve.parent.parent,Et=lt==null?void 0:lt.mapProperties(function(tn){return tn["x-component"]==="Grid.Col"}).filter(Boolean).length,Ut=!0;if(Et===1)if(Q.first)Ut=lt!==Q.rows[0];else{var At=Q.rows[Q.index+1];Ut=lt!==it&&At!==lt}return(0,Ia.useDndMonitor)({onDragStart:function(Qt){Ge(!0)},onDragMove:function(Qt){},onDragOver:function(Qt){},onDragEnd:function(Qt){Ge(!1)},onDragCancel:function(Qt){Ge(!1)}}),(0,C.jsx)("span",{ref:Ut?Ne:null,className:co()("nb-row-divider","RowDivider"),style:st})},nc=function(Q){var ve=new S.Schema({type:"void",name:"row_".concat((0,$e.uid)()),"x-uid":(0,$e.uid)(),"x-component":"Grid.Row"}),Ce=ve.addProperty((0,$e.uid)(),{type:"void","x-uid":(0,$e.uid)(),"x-component":"Grid.Col"});return S.Schema.isSchemaInstance(Q)&&(Q.parent=Ce),Ce.addProperty(Q.name,Q),ve},rc=function(Q){var ve=new S.Schema({type:"void",name:"col_".concat((0,$e.uid)()),"x-uid":(0,$e.uid)(),"x-component":"Grid.Col"});return S.Schema.isSchemaInstance(Q)&&(Q.parent=ve),ve.addProperty(Q.name,Q),ve},ym=function(){var Q=(0,S.useFieldSchema)();return(0,o.useMemo)(function(){return Q.reduceProperties(function(ve,Ce){return Ce["x-component"]==="Grid.Row"&&!Ce["x-hidden"]&&ve.push(Ce),ve},[])},[Object.keys(Q.properties||{}).join(",")])},Cm=function(){var Q=(0,S.useFieldSchema)();return(0,o.useMemo)(function(){return Q.reduceProperties(function(ve,Ce){return Ce["x-component"]==="Grid.Col"&&!Ce["x-hidden"]&&ve.push(Ce),ve},[])},[Object.keys(Q.properties||{}).join(",")])},bm=function(Q){return Q.dndContext===!1?(0,C.jsx)(C.Fragment,{children:Q.children}):(0,C.jsx)(hm.L,r()(r()({},Q.dndContext),{},{children:Q.children}))},xl=function(){return(0,o.useContext)(Xl)},oc=function(){return(0,o.useContext)(bl)},ki=(0,S.observer)(function(me){var Q=me.distributed,ve=me.showDivider,Ce=ve===void 0?!0:ve,Ee=(0,o.useRef)(null),Fe=(0,S.useField)(),Ie=(0,S.useFieldSchema)(),Ne=(0,ut.useSchemaInitializerRender)(Ie["x-initializer"],Ie["x-initializer-props"]),Ke=Ne.render,ze=(0,o.useCallback)(function(Qt){return Ke(Qt)},[]),Xe=Fe.address.toString(),Ge=ym(),st=(0,ut.useFormBlockContext)(),nt=st.setPrintContent,it=_m(),lt=it.wrapSSR,Et=it.componentCls,Ut=it.hashId,At=Q===void 0?(Ie==null?void 0:Ie.parent["x-component"])==="Page"||(Ie==null?void 0:Ie.parent["x-component"])==="Tabs.TabPane":Q;(0,o.useEffect)(function(){Ee.current&&(nt==null||nt(Ee.current))},[Ee.current]);var tn=(0,o.useMemo)(function(){return{ref:Ee,fieldSchema:Ie,renderSchemaInitializer:Ke,InitializerComponent:ze,showDivider:Ce}},[Ie,Ke,ze,Ce]);return lt((0,C.jsx)(Z.XA,{children:(0,C.jsx)(Xl.Provider,{value:tn,children:(0,C.jsxs)("div",{className:"nb-grid ".concat(Et," ").concat(Ut),style:{position:"relative"},ref:Ee,children:[(0,C.jsxs)(bm,{dndContext:me.dndContext,children:[Ce?(0,C.jsx)(tc,{rows:Ge,first:!0,id:"".concat(Xe,"_0"),data:{breakRemoveOn:Ju,wrapSchema:nc,insertAdjacent:"afterBegin",schema:Ie}}):null,Ge.map(function(Qt,on){return(0,C.jsxs)(o.Fragment,{children:[At?(0,C.jsx)(ut.SchemaComponent,{name:Qt.name,schema:Qt,distributed:!0}):(0,C.jsx)(Ql,{name:Qt.name,schema:Qt}),Ce?(0,C.jsx)(tc,{rows:Ge,index:on,id:"".concat(Xe,"_").concat(on+1),data:{breakRemoveOn:Ju,wrapSchema:nc,insertAdjacent:"afterEnd",schema:Qt}}):null]},on)})]}),Ke()]})})}))},{displayName:"Grid"});ki.Row=(0,S.observer)(function(){var me=(0,S.useField)(),Q=(0,S.useFieldSchema)(),ve=me.address.toString(),Ce=Cm(),Ee=xl(),Fe=Ee.showDivider,Ie=(0,be.th)(),Ne=Ie.type,Ke=(0,o.useMemo)(function(){return{schema:Q,cols:Ce}},[Q,Ce]),ze=(0,o.useCallback)(function(Xe){return Ne==="update"&&(Xe.default=null),Xe},[Ne]);return(0,C.jsx)(bl.Provider,{value:Ke,children:(0,C.jsxs)("div",{className:co()("nb-grid-row","CardRow",Fe&&!Ve.isMobile&&{showDivider:Fe}),style:Ve.isMobile?{flexFlow:"row wrap"}:{},children:[Fe&&(0,C.jsx)(ec,{cols:Ce,first:!0,id:"".concat(ve,"_0"),data:{breakRemoveOn:qu,wrapSchema:rc,insertAdjacent:"afterBegin",schema:Q}}),Ce.map(function(Xe,Ge){return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(Ql,{name:Xe.name,schema:Xe}),Fe&&(0,C.jsx)(ec,{cols:Ce,index:Ge,last:Ge===Ce.length-1,id:"".concat(ve,"_").concat(Ge+1),data:{breakRemoveOn:qu,wrapSchema:rc,insertAdjacent:"afterEnd",schema:Xe}})]},Ge)})]})})},{displayName:"Grid.Row"}),ki.Col=(0,S.observer)(function(me){var Q,ve=(0,o.useContext)(bl),Ce=ve.cols,Ee=Ce===void 0?[]:Ce,Fe=xl(),Ie=Fe.showDivider,Ne=(0,S.useFieldSchema)(),Ke=(0,S.useField)(),ze=(0,He.dQ)(),Xe=ze.token,Ge=(0,o.useMemo)(function(){if(Ve.isMobile)return{flex:"0 0 100%",maxWidth:"100%"};var Qt="";if(Ee!=null&&Ee.length){var on,Jt=(Ne==null||(on=Ne["x-component-props"])===null||on===void 0?void 0:on.width)||100/Ee.length;Qt="calc(".concat(Jt,"% - ").concat(Xe.marginBlock,"px *  ").concat((Ie?Ee.length+1:0)/Ee.length,")")}return{width:Qt}},[Ee==null?void 0:Ee.length,Ne==null||(Q=Ne["x-component-props"])===null||Q===void 0?void 0:Q.width]),st=(0,Ia.useDroppable)({id:Ke.address.toString(),data:{insertAdjacent:"beforeEnd",schema:Ne,wrapSchema:function(on){return on}}}),nt=st.isOver,it=st.setNodeRef,lt=(0,o.useState)(!1),Et=ye()(lt,2),Ut=Et[0],At=Et[1],tn=(0,o.useMemo)(function(){return nt?{background:"linear-gradient(to top,  ".concat(new Bi.C(Xe.colorSettings).setAlpha(.1).toHex8String()," 20%, transparent 20%)"),borderTopRightRadius:"10px",borderTopLeftRadius:"10px",height:"100%"}:{height:"100%"}},[Ut,nt]);return(0,Ia.useDndMonitor)({onDragStart:function(on){At(!0)},onDragMove:function(on){},onDragOver:function(on){},onDragEnd:function(on){At(!1)},onDragCancel:function(on){At(!1)}}),(0,C.jsx)(Qu.Provider,{value:{cols:Ee,schema:Ne},children:(0,C.jsx)("div",{ref:it,style:r()(r()({},Ge),tn),className:co()("nb-grid-col"),children:me.children})})},{displayName:"Grid.Row"}),ki.wrap=function(me){return{type:"void","x-component":"Grid.Row",properties:oe()({},(0,$e.uid)(),{type:"void","x-component":"Grid.Col",properties:oe()({},me.name||(0,$e.uid)(),me)})}};var ac=e(15746),ic=e(2487),xm=(0,He.l6)("nb-grid-card",function(me){var Q=me.componentCls;return oe()({},Q,{"& > .nb-block-item":{marginBottom:me.marginLG,"& > .nb-action-bar:has(:first-child:not(:empty))":{padding:"".concat(me.marginLG,"px ").concat(me.marginLG,"px 0 ").concat(me.marginLG,"px"),background:me.colorBgContainer},".ant-list-pagination":{marginTop:me.marginLG,padding:0,background:me.colorBgContainer}},".ant-formily-item-feedback-layout-loose":{marginBottom:me.marginSM}})}),Sm=xm,Pm=e(20046),Jl=(0,o.createContext)({});Jl.displayName="GridCardBlockContext";var Em=function(Q){var ve,Ce=(0,Ba.BU)(),Ee=Ce.resource,Fe=Ce.service,Ie=(0,S.useField)(),Ne=Sm(),Ke=Ne.wrapSSR,ze=Ne.componentCls,Xe=Ne.hashId,Ge=(0,o.useMemo)(function(){return(0,N.createForm)({readPretty:!0})},[]);return(0,o.useEffect)(function(){if(!(Fe!=null&&Fe.loading)){var st;Ge.setValuesIn(Ie.address.concat("list").toString(),Fe==null||(st=Fe.data)===null||st===void 0?void 0:st.data)}},[Ie.address,Ge,Fe==null||(ve=Fe.data)===null||ve===void 0?void 0:ve.data,Fe==null?void 0:Fe.loading]),Ke((0,C.jsx)(Jl.Provider,{value:{service:Fe,resource:Ee,columnCount:Q.columnCount},children:(0,C.jsx)(ut.FormBlockContext.Provider,{value:{form:Ge},children:(0,C.jsx)(S.FormContext.Provider,{value:Ge,children:(0,C.jsx)(L.FormLayout,{layout:"vertical",children:(0,C.jsx)("div",{className:"".concat(ze," ").concat(Xe),children:Q.children})})})})}))},Dm=function(Q){var ve=(0,S.useFieldSchema)();return ve["x-use-decorator-props"]?{params:Q.params,parseVariableLoading:Q.parseVariableLoading}:(0,Pm.s)(Q)},Mm=(0,J.t)(function(me){var Q=Dm(me),ve=Q.params,Ce=Q.parseVariableLoading,Ee=(0,S.useField)();return(0,ut.useControlShowBlock)(ve,Ee),Ce?null:(0,C.jsx)(Ba.ZJ,r()(r()({name:"grid-card"},me),{},{params:ve,children:(0,C.jsx)(Em,r()({},me))}))}),Am=function(){return(0,o.useContext)(Jl)},Om=function(){return{}},Im=e(21305),lc=e(16869),sc,Tm=function(Q){return(0,pe.css)(sc||(sc=q()([`
    height: 100%;
    background: `,`;
    border: 2px solid #fff;

    position: relative;
    `,`

    .ant-formily-item-label {
      color: var(--xwColorCardListFormItemLabel);
      font-weight: 400;
      font-size: 13px;
    }

    .ant-formily-item-control-content {
      color: #000;
      font-size: 15px;
      font-weight: 500;
    }

    > .ant-card-body {
      height: 100%;

      > form {
        height: 100%;

        > .ant-spin-nested-loading {
          height: 100%;

          .ant-spin-container {
            height: 100%;

            .ant-form-vertical {
              height: 100%;
              > div {
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                gap: 8px;
              }
            }
          }
        }
      }
    }
  `])),Q.xwColorPrimaryBackgroud,CSS.supports("mask-composite","exclude")?`&:hover::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: `.concat(Q.borderRadiusBlock,`px;
      padding: 2px;
      background: `).concat(Q.xwColorPrimary,`;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
    }`):`&:hover {
      border: 2px solid `.concat(Q.colorPrimary,`;
    }`))},Fm=(0,J.t)(function(me){var Q=(0,S.useField)(),ve=(0,dl.Kv)(),Ce=(0,o.useRef)(),Ee=(0,o.useState)(!1),Fe=ye()(Ee,2),Ie=Fe[0],Ne=Fe[1],Ke=(0,ut.useToken)(),ze=Ke.token,Xe=(0,o.useMemo)(function(){return(0,N.createForm)({values:Q.value,readPretty:!0})},[]);return(0,o.useEffect)(function(){Xe.setValues(Q.value)},[Q.value]),(0,C.jsx)(za.Z,{ref:Ce,role:"button","aria-label":"grid-card-item",className:Tm(ze),onClick:function(st){Ne(!0);for(var nt=st.target;nt;){if(nt===Ce.current){var it=Ce.current.querySelectorAll(".nb-action-bar .anticon-eye")[0];it&&it.parentElement.click();return}nt=nt.parentElement}},children:(0,C.jsx)(lc.l.Provider,{value:{itemPopupVisible:Ie,setItemPopupVisible:Ne},children:(0,C.jsx)(xe.HV,{record:Q.value,parent:ve,children:(0,C.jsx)(fr,{form:Xe,children:me.children})})})})},{displayName:"GridCardItem"}),Rm={size:["middle","small"],wrap:!0},jm=function(){return{spaceProps:Rm}},uc=e(43759),cc={md:18,sm:5,xs:5},dc=function(Q){var ve=Q.basePath,Ce=Q.name,Ee=Q.schema,Fe=Q.loading,Ie=(0,pu.YD)({threshold:1,initialInView:!1,triggerOnce:!0}),Ne=Ie.ref,Ke=Ie.inView,ze=Fe!==void 0?!Fe:Ke;return(0,C.jsx)(ac.Z,{ref:Ne,style:{height:"100%"},children:ze?(0,C.jsx)(S.RecursionField,{basePath:ve,name:Ce,onlyRenderProperties:!0,schema:Ee,mapProperties:function(Ge){return Ge.properties.actionBar&&(Ge.properties.actionBar["x-index"]=2),Ge.properties.grid&&(Ge.properties.grid["x-index"]=1),Ge}}):(0,C.jsx)(za.Z,{children:(0,C.jsx)(li.Z,{paragraph:{rows:4}})})})},Bm=function(Q){var ve,Ce,Ee=(0,w.wN)(Q),Fe=Ee.columnCount,Ie=Ee.pagination,Ne=(0,o.useRef)(),Ke=Am(),ze=Ke.service,Xe=Ke.columnCount,Ge=Xe===void 0?uc.he:Xe,st=Fe||Ge,nt=ze.run,it=ze.params,lt=ze==null||(ve=ze.data)===null||ve===void 0?void 0:ve.meta,Et=(0,S.useFieldSchema)(),Ut=(0,S.useField)(),At=(0,w.et)(),tn=(0,o.useState)(new Map),Qt=ye()(tn,1),on=Qt[0],Jt=(0,ut.useToken)(),Xt=Jt.token,On=(Et==null||(Ce=Et.parent)===null||Ce===void 0?void 0:Ce["x-component-props"])||{},Hn=On.asswipe,Zn=On.showfields,Jn=(0,o.useMemo)(function(){return Object.values(st).join("")},[st]);Ve.isMobile&&(0,ut.renderShowFields)(Et,Zn,"GridCard.Item");var Nn=(0,o.useCallback)(function(pn){return on.has(pn)||on.set(pn,new S.Schema({type:"object",properties:oe()({},pn,r()({},Et.properties.item))})),on.get(pn)},[Et.properties,on]),Cn=(0,o.useCallback)(function(pn,or){var vr;(vr=Ne.current)===null||vr===void 0||vr.scrollIntoView({behavior:"smooth",block:"start"}),nt(r()(r()({},it==null?void 0:it[0]),{},{page:pn,pageSize:or}))},[nt,it]);return(0,C.jsx)(D.G0,{scope:{useGridCardItemProps:Om,useGridCardActionBarProps:jm},children:(0,C.jsxs)(y.SortableItem,{className:(0,pe.cx)("nb-card-list"),children:[(0,C.jsx)("div",{ref:Ne,style:{background:"#fff"},children:Hn&&Ve.isMobile?(0,C.jsx)(ut.XSwiper,{field:Ut,service:ze,style:{padding:Xt.padding,position:"relative"},renderLoading:(0,C.jsx)(za.Z,{children:(0,C.jsx)(li.Z,{paragraph:{rows:4}})}),children:(0,C.jsx)(dc,{schema:Nn})}):(0,C.jsx)(ic.Z,{style:Ve.isMobile?{padding:Xt.padding}:{},pagination:!lt||lt.count<=lt.pageSize?!1:r()(r()({},Ie),{},{onChange:Cn,total:(lt==null?void 0:lt.count)||0,pageSize:(lt==null?void 0:lt.pageSize)||10,current:(lt==null?void 0:lt.page)||1,pageSizeOptions:uc.Wv}),dataSource:Ut.value,grid:r()(r()({},st),{},{sm:st.xs,xl:st.lg,gutter:[cc,cc]}),renderItem:function(or,vr){return(0,C.jsx)(dc,{basePath:Ut.address,name:vr,schema:Nn(vr)},or.id)},loading:ze==null?void 0:ze.loading},Jn)}),(0,C.jsx)(At,{})]})})},Wi=(0,J.t)(Bm);Wi.Item=Fm,Wi.Designer=Im.z,Wi.Decorator=Mm;var Lm=e(59632),fc,Um=Dn.Z.Search,wm=function(Q){return(0,Lm.kc)(function(ve){var Ce=ve.css;return{popoverContent:Ce(fc||(fc=q()([`
        width: 26em;
        `,`height: 20em;
        overflow-y: auto;
      `])),!Q&&"max-")}})()};function Nm(me){var Q=Re.Z.useToken().token.fontSizeXL,ve=(0,L.useFormLayout)(),Ce=me.value,Ee=me.onChange,Fe=me.disabled,Ie=me.iconSize,Ne=Ie===void 0?Q:Ie,Ke=me.searchable,ze=Ke===void 0?!0:Ke,Xe=(0,o.useState)(!1),Ge=ye()(Xe,2),st=Ge[0],nt=Ge[1],it=(0,ce.$)(),lt=it.t,Et=me!=null&&me.rate?ht()(Ye.Qx.keys()):ht()(Ye.ci.keys()),Ut=(0,o.useState)(Et),At=ye()(Ut,2),tn=At[0],Qt=At[1],on=wm(ze),Jt=on.styles,Xt=(0,O.debounce)(function(On){var Hn,Zn=(Hn=On==null?void 0:On.trim())!==null&&Hn!==void 0?Hn:"";Qt(Zn.length?Et.filter(function(Jn){return Jn.split(" ").some(function(Nn){return Nn.includes(Zn)})}):Et)},250);return(0,C.jsx)("div",{children:(0,C.jsxs)(Dt.Z.Compact,{children:[(0,C.jsx)(Ii.q,{placement:"bottom",open:st,onOpenChange:function(Hn){Fe||nt(Hn)},content:(0,C.jsx)("div",{className:Jt.popoverContent,children:tn.length===0?(0,C.jsx)(Li.H,{}):tn.map(function(On){return(0,C.jsx)("span",{title:On.replace(/outlined|filled|twotone$/i,""),style:{fontSize:Ne,marginRight:10,cursor:"pointer"},onClick:function(){Ee(On),nt(!1)},children:(0,C.jsx)(Ye.JO,{type:On})},On)})}),title:(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{children:lt("Icon")}),ze&&(0,C.jsx)(Um,{style:{marginTop:8},role:"search",name:"icon-search",placeholder:lt("Search"),allowClear:!0,onSearch:Xt,onChange:function(Hn){var Zn;return Xt((Zn=Hn.target)===null||Zn===void 0?void 0:Zn.value)}})]}),trigger:"click",children:(0,C.jsx)(Nr.ZP,{size:ve.size,disabled:Fe,children:(0,Ye.OL)(Ce,me==null?void 0:me.rate)?(0,C.jsx)(Ye.JO,{type:Ce}):lt("Select icon")})}),Ce&&!Fe&&(0,C.jsx)(Nr.ZP,{size:ve.size,icon:(0,C.jsx)(yt.Z,{}),onClick:function(Hn){Ee(null)}})]})})}var mc=(0,S.connect)(Nm,(0,S.mapProps)(function(me,Q){return r()(r()({},me),{},{suffix:(0,C.jsx)("span",{children:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffix})})}),(0,S.mapReadPretty)(function(me){return(0,$e.isValid)(me.value)?(0,C.jsx)(Ye.JO,{type:me.value}):(0,C.jsx)("div",{})})),m0=null,vc=e(91992),km=e(19799),pc=e(6511);function hc(me){var Q=Number(me);if(!Number.isFinite(Q))return 0;var ve=String(Q).split(".")[1];return ve?ve.length:0}var Ki={"0,0.00":{thousands:",",decimal:"."},"0.0,00":{thousands:".",decimal:","},"0 0,00":{thousands:" ",decimal:"."},"0.00":{thousands:"",decimal:"."}};function Wm(me){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0.00",ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Ce=arguments.length>3?arguments[3]:void 0,Ee=me;Ce&&(Ee=Number(me));var Fe="";if(Ki[Q]){var Ie=Ki[Q],Ne=Ie.thousands,Ke=Ie.decimal;Fe=Ee.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:ve,maximumFractionDigits:ve}).replace(/,/g,"comma_placeholder").replace(/\./g,"dot_placeholder").replace(/comma_placeholder/g,Ne).replace(/dot_placeholder/g,Ke)}else Fe=Ee.toString();return Fe}function Km(me){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*",ve=arguments.length>2?arguments[2]:void 0;if(!ve)return me;var Ce;if(Q==="*")Ce=me*ve;else if(Q==="/")if(ve!==0)Ce=me/ve;else return(0,Ve.captureException)("Error: Division by zero."),null;else return(0,Ve.captureException)("Error: Invalid operator. Use '*' for multiplication or '/' for division."),null;return pc.NMM(Ce,9)}function Vm(me,Q){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",Ce=(0,km.WU)(".".concat(Q,"e")),Ee=Ce(me).replace(".",ve),Fe=Ee.replace(/e([+-]?\d+)/,function(Ie,Ne){return Ne.startsWith("+")?"\xD710<sup>".concat(Ne.slice(1),"</sup>"):"\xD710<sup>-".concat(Ne.slice(1),"</sup>")});return Fe}function $m(me){var Q=me.step,ve=me.formatStyle,Ce=ve===void 0?"normal":ve,Ee=me.value,Fe=me.unitConversion,Ie=me.unitConversionType,Ne=me.separator,Ke=Ne===void 0?"0.00":Ne;if(!(0,$e.isValid)(Ee))return null;var ze=Km(Ee,Ie,Fe),Xe=(0,Ve.toFixedByStep)(ze,Q),Ge;if(Ge=Wm(Xe,Ke,hc(Q),Ce),Ce==="scientifix"){var st;Ge=Vm(Number(ze),hc(Q),Ki==null||(st=Ki[Ke])===null||st===void 0?void 0:st.decimal)}return Ge}var ql=function(Q){var ve=Q.step,Ce=Q.formatStyle,Ee=Q.value,Fe=Q.addonBefore,Ie=Q.addonAfter,Ne=Q.unitConversion,Ke=Q.unitConversionType,ze=Q.separator,Xe=(0,o.useMemo)(function(){return $m({step:ve,formatStyle:Ce,value:Ee,unitConversion:Ne,unitConversionType:Ke,separator:ze})},[ve,Ce,Ee,Ne,Ke,ze]);return(0,$e.isValid)(Xe)?(0,C.jsxs)("div",{className:"nb-read-pretty-input-number",children:[Fe,(0,C.jsx)("span",{dangerouslySetInnerHTML:{__html:Xe}}),Ie]}):null},zm=e(70794),Zm=["onChange","stringMode","value"];function Hm(me){return me&&(me>Number.MAX_SAFE_INTEGER||me<Number.MIN_SAFE_INTEGER?new zm.Z(me).toString():Number(me))}var es=(0,S.connect)(function(me){var Q=me.onChange,ve=me.stringMode,Ce=me.value,Ee=R()(me,Zm),Fe=function(Ne){Number.isNaN(Ne)?Q(null):Q(Hm(Ne))};return(0,C.jsx)(vc.Z,r()({onChange:Fe,value:ve?"".concat(!Ce&&Ce!==0?"":Ce):Ce},Ee))},(0,S.mapReadPretty)(ql));es.ReadPretty=ql;var v0=null,Gm=e(12929),gc,ts=(0,o.createContext)({});ts.displayName="ListBlockContext";var Ym=function(Q){var ve,Ce=(0,Ba.BU)(),Ee=Ce.resource,Fe=Ce.service,Ie=(0,S.useField)(),Ne=(0,o.useMemo)(function(){return(0,N.createForm)({readPretty:!0})},[]);return(0,o.useEffect)(function(){if(!(Fe!=null&&Fe.loading)){var Ke;Ne.setValuesIn(Ie.address.concat("list").toString(),Fe==null||(Ke=Fe.data)===null||Ke===void 0?void 0:Ke.data)}},[Ie.address,Ne,Fe==null||(ve=Fe.data)===null||ve===void 0?void 0:ve.data,Fe==null?void 0:Fe.loading]),(0,C.jsx)(ts.Provider,{value:{service:Fe,resource:Ee},children:(0,C.jsx)(S.FormContext.Provider,{value:Ne,children:(0,C.jsx)(L.FormLayout,{layout:"vertical",children:(0,C.jsx)("div",{className:(0,pe.cx)((0,pe.css)(gc||(gc=q()([`
              .ant-description-input {
                line-height: 34px;
              }
              .ant-formily-item-feedback-layout-loose {
                margin-bottom: 12px;
              }
            `])))),children:Q.children})})})})},Xm=(0,J.t)(function(me){var Q=me.params,ve=(0,S.useField)(),Ce=(0,Gm.v)({filterOption:Q==null?void 0:Q.filter}),Ee=Ce.filter,Fe=(0,o.useMemo)(function(){return r()(r()({},Q),{},{filter:Ee})},[Ee,Q]);return(0,ut.useControlShowBlock)(Q,ve),T().isEmpty(Ee)&&!T().isEmpty(Q==null?void 0:Q.filter)?null:(0,C.jsx)(Ba.ZJ,r()(r()({name:"list"},me),{},{params:Fe,children:(0,C.jsx)(Ym,r()({},me))}))}),Qm=function(){return(0,o.useContext)(ts)},Jm=function(){return{}},qm=function(){var Q,ve,Ce,Ee,Fe,Ie=(0,I.useCollection_deprecated)(),Ne=Ie.name,Ke=Ie.title,ze=(0,W.zy)(),Xe=(0,ce.$)(),Ge=Xe.t,st=(0,S.useFieldSchema)(),nt=(0,be.bz)(),it=nt.form,lt=(0,S.useField)(),Et=(0,w.ng)(),Ut=Et.dn,At=(0,I.useSortFields)(Ne),tn=(0,xe.a)(),Qt=(st==null||(Q=st["x-decorator-props"])===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.sort)||[],on=(st==null||(ve=st["x-decorator-props"])===null||ve===void 0?void 0:ve.resource)||(st==null||(Ce=st["x-decorator-props"])===null||Ce===void 0?void 0:Ce.association),Jt=Qt==null?void 0:Qt.map(function(Xt){return Xt.startsWith("-")?{field:Xt.substring(1),direction:"desc"}:{field:Xt,direction:"asc"}});return(0,C.jsxs)(F.aN,{template:ze,title:Ke||Ne,children:[(0,C.jsx)(Gr._,{}),(0,C.jsx)(Ae.H,{collectionName:Ne,defaultFilter:(st==null||(Ee=st["x-decorator-props"])===null||Ee===void 0||(Ee=Ee.params)===null||Ee===void 0?void 0:Ee.filter)||{},form:it,onSubmit:function(On){var Hn,Zn=On.filter;Zn=(0,he.Wm)(Zn),T().set(st,"x-decorator-props.params.filter",Zn),lt.decoratorProps.params=r()(r()({},st["x-decorator-props"].params),{},{page:1}),Ut.emit("patch",{schema:(Hn={},oe()(Hn,"x-uid",st["x-uid"]),oe()(Hn,"x-decorator-props",st["x-decorator-props"]),Hn)})}}),(0,C.jsx)(F.B0,{title:Ge("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:Ge("Set default sorting rules"),properties:{sort:{type:"array",default:Jt,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:At,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:Ge("ASC"),value:"asc"},{label:Ge("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:Ge("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(On){var Hn,Zn=On.sort,Jn=Zn.map(function(Nn){return Nn.direction==="desc"?"-".concat(Nn.field):Nn.field});T().set(st,"x-decorator-props.params.sort",Jn),lt.decoratorProps.params=r()(r()({},st["x-decorator-props"].params),{},{page:1}),Ut.emit("patch",{schema:(Hn={},oe()(Hn,"x-uid",st["x-uid"]),oe()(Hn,"x-decorator-props",st["x-decorator-props"]),Hn)})}}),(0,C.jsx)(Xr.jI,{}),(0,C.jsx)(F.Qf,{title:Ge("Records per page"),value:((Fe=lt.decoratorProps)===null||Fe===void 0||(Fe=Fe.params)===null||Fe===void 0?void 0:Fe.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"80",value:80},{label:"100",value:100}],onChange:function(On){var Hn;T().set(st,"x-decorator-props.params.pageSize",On),lt.decoratorProps.params=r()(r()({},st["x-decorator-props"].params),{},{page:1}),Ut.emit("patch",{schema:(Hn={},oe()(Hn,"x-uid",st["x-uid"]),oe()(Hn,"x-decorator-props",st["x-decorator-props"]),Hn)})}}),(0,C.jsx)(X.G,{componentName:"List",collectionName:Ne,resourceName:on}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},_c,ev=(0,J.t)(function(me){var Q=(0,S.useField)(),ve=(0,w.ng)(),Ce=ve.designable,Ee=(0,dl.Kv)(),Fe=(0,o.useState)(!1),Ie=ye()(Fe,2),Ne=Ie[0],Ke=Ie[1],ze=(0,o.useRef)(),Xe=(0,S.useFieldSchema)();return Ve.isMobile&&(0,Ve.findSchema)(Xe,function(Ge){var st,nt=(Ge==null?void 0:Ge["x-component"])==="CollectionField"&&(Ge==null||(st=Ge.parent)===null||st===void 0||(st=st.parent)===null||st===void 0||(st=st.parent)===null||st===void 0||(st=st.parent)===null||st===void 0?void 0:st["x-component"])==="List.Item";return nt&&(Ge["x-component-props"]=r()(r()({},(Ge==null?void 0:Ge["x-component-props"])||{}),{},{layout:"horizontal"})),nt}),(0,C.jsx)("div",{ref:ze,className:(0,pe.cx)(co()(me.className),[Ve.isMobile?"mbItemCss":"itemCss",(0,pe.css)(_c||(_c=q()([`
          .nb-action-bar {
            gap: 20px !important;
            margin-top: `,`;
          }
        `])),Ce?"20px":"0px")]),onClick:function(st){Ke(!0);for(var nt=st.target;nt;){if(nt===ze.current){var it=ze.current.querySelectorAll(".nb-action-bar .nb-action-link")[0];it&&it.click();return}nt=nt.parentElement}},children:(0,C.jsx)(lc.l.Provider,{value:{itemPopupVisible:Ne,setItemPopupVisible:Ke},children:(0,C.jsx)(xe.HV,{record:Q.value,parent:Ee,children:me.children})})})}),tv=(0,He.l6)("nb-list",function(me){var Q=me.componentCls;return oe()({},Q,{width:"100%",marginBottom:0,"&:hover":{"> .general-schema-designer":{display:"block"}},"> .general-schema-designer":{position:"absolute",zIndex:999,top:"0",bottom:"0",left:"0",right:"0",display:"none",background:"var(--colorBgSettingsHover)",border:"0",pointerEvents:"none","> .general-schema-designer-icons":{position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:"var(--colorSettings)",color:"#fff",lineHeight:"16px",width:"16px",paddingLeft:"1px"}}},".itemCss":{display:"flex",width:"100%",flexDirection:"column","&:not(:first-child)":{paddingTop:me.paddingContentVertical},"&:not(:last-child)":{paddingBottom:me.paddingContentVertical,borderBottom:"1px solid ".concat(me.colorBorderSecondary)}},".mbItemCss":{borderRadius:"0.8rem",border:"1px solid ".concat(me.colorPrimary),background:"".concat(me.xwColorPrimaryBackgroud),padding:"".concat(me.paddingSM/10,"rem"),marginBottom:"".concat(me.marginSM/10,"rem"),"&:last-child":{marginBottom:0},".ant-formily-item .ant-formily-item-control":{overflow:"auto"},".ant-formily-item-control-content-component > div:first-child":{display:"flex",flexWrap:"wrap",overflowWrap:"anywhere!important",whiteSpace:"break-spaces!important"},".ant-formily-item-layout-horizontal":{alignItems:"flex-start"}}})}),nv=tv,rv={size:["large","small"],wrap:!0},ov=function(){return{spaceProps:rv}},av=function(){var Q,ve=(0,w.aZ)(),Ce=(0,S.useFieldSchema)(),Ee=Re.Z.useToken(),Fe=Ee.token,Ie=(0,ut.useDesignable)(),Ne=Ie.designable,Ke=(0,w.gp)()||{},ze=Ke.heightProps,Xe=ze||{},Ge=Xe.title;if(ve){var st=Ge?Fe.fontSizeLG*Fe.lineHeightLG+Fe.padding*2-1:0,nt=Object.keys(((Q=Ce.parent.properties.actionBar)===null||Q===void 0?void 0:Q.properties)||{}).length>0,it=nt||Ne?Fe.controlHeight+2*Fe.marginLG:Fe.marginLG;return ve-st-it-Fe.marginLG}},yc,iv=function(Q){var ve=Q.basePath,Ce=Q.name,Ee=Q.schema,Fe=Q.loading;return(0,C.jsx)(ac.Z,{style:{height:"100%"},children:Fe?(0,C.jsx)(za.Z,{children:(0,C.jsx)(li.Z,{paragraph:{rows:4}})}):(0,C.jsx)(S.RecursionField,{basePath:ve,name:Ce,onlyRenderProperties:!0,schema:Ee})})},lv=function(Q){var ve,Ce,Ee,Fe=Qm(),Ie=Fe.service,Ne=Ie.run,Ke=Ie.params,ze=(0,S.useFieldSchema)(),Xe=(0,w.et)(),Ge=Ie==null||(ve=Ie.data)===null||ve===void 0?void 0:ve.meta,st=(0,S.useField)(),nt=(0,o.useState)(new Map),it=ye()(nt,1),lt=it[0],Et=nv(),Ut=Et.wrapSSR,At=Et.componentCls,tn=Et.hashId,Qt=av(),on=Re.Z.useToken(),Jt=on.token,Xt=(ze==null||(Ce=ze.parent)===null||Ce===void 0?void 0:Ce["x-component-props"])||{},On=Xt.asswipe,Hn=Xt.showfields;Ve.isMobile&&(0,ut.renderShowFields)(ze,Hn,"List.Item");var Zn=(0,o.useCallback)(function(Nn){return lt.has(Nn)||lt.set(Nn,new S.Schema({type:"object",properties:oe()({},Nn,ze.properties.item)})),lt.get(Nn)},[ze.properties,lt]),Jn=(0,o.useCallback)(function(Nn,Cn){Ne(r()(r()({},Ke==null?void 0:Ke[0]),{},{page:Nn,pageSize:Cn}))},[Ne,Ke]);return Ut((0,C.jsx)(D.G0,{scope:{useListItemProps:Jm,useListActionBarProps:ov},children:(0,C.jsxs)(y.SortableItem,{className:(0,pe.cx)("nb-list",At,tn,(0,pe.css)(yc||(yc=q()([`
            .nb-list-container {
              position: relative;
              height: `,`;
              overflow-y: `,`;
              margin-left: -`,`px;
              margin-right: -`,`px;
              padding-left: `,`px;
              padding-right: `,`px;
            }
          `])),Qt?Qt+"px":"100%",Qt?"auto":null,Ve.isMobile?Jt.margin:Jt.marginLG,Ve.isMobile?Jt.margin:Jt.marginLG,Ve.isMobile?Jt.margin:Jt.marginLG,Ve.isMobile?Jt.margin:Jt.marginLG)),children:[(0,C.jsx)("div",{className:"nb-list-container",children:On&&Ve.isMobile?(0,C.jsx)(ut.XSwiper,{field:st,service:Ie,renderLoading:(0,C.jsx)(za.Z,{children:(0,C.jsx)(li.Z,{paragraph:{rows:4}})}),children:(0,C.jsx)(iv,{schema:Zn})}):(0,C.jsx)(ic.Z,r()(r()({},Q),{},{pagination:!Ge||Ge.count<=Ge.pageSize?!1:{onChange:Jn,total:(Ge==null?void 0:Ge.count)||0,pageSize:(Ge==null?void 0:Ge.pageSize)||10,current:(Ge==null?void 0:Ge.page)||1},loading:Ie==null?void 0:Ie.loading,children:(Ee=st.value)!==null&&Ee!==void 0&&Ee.length?st.value.map(function(Nn,Cn){return(0,C.jsx)(S.RecursionField,{basePath:st.address,name:Cn,onlyRenderProperties:!0,schema:Zn(Cn)},Cn)}):null}))}),(0,C.jsx)(Xe,{})]})}))},Vi=(0,J.t)(lv);Vi.Item=ev,Vi.Designer=qm,Vi.Decorator=Xm;var sv=function(){var Q=(0,S.useField)(),ve=(0,ce.$)(),Ce=ve.t;return(0,C.jsxs)(F.aN,{children:[(0,C.jsx)(F.r2,{title:Ce("Edit markdown"),onClick:function(){Q.editable=!0}}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},Cc=e(93674),ns=e(64215),uv=function(Q){var ve=(0,ce.$)(),Ce=ve.t,Ee=(0,o.useState)(Q.defaultValue),Fe=ye()(Ee,2),Ie=Fe[0],Ne=Fe[1];return(0,C.jsxs)("div",{className:"mb-markdown",style:{position:"relative"},children:[(0,C.jsx)(Dn.Z.TextArea,r()(r()({autoSize:{minRows:3}},Q),{},{value:Ie,onChange:function(ze){Ne(ze.target.value)}})),(0,C.jsxs)(Dt.Z,{style:{position:"absolute",bottom:5,right:5},children:[(0,C.jsx)(Nr.ZP,{onClick:function(ze){var Xe;(Xe=Q.onCancel)===null||Xe===void 0||Xe.call(Q,ze)},children:Ce("Cancel")}),(0,C.jsx)(Nr.ZP,{type:"primary",onClick:function(){var ze;(ze=Q.onSubmit)===null||ze===void 0||ze.call(Q,Ie)},children:Ce("Save")})]})]})},cv=function(){var Q=Re.Z.useToken(),ve=Q.token,Ce=(0,ut.useBlockHeight)();if(Ce)return Ce-2*ve.paddingLG},bc=(0,S.observer)(function(me){var Q=cv(),ve=(0,We.mg)(),Ce=ve.isDarkTheme,Ee=(0,Cc.y)({isDarkTheme:Ce}),Fe=Ee.componentCls,Ie=Ee.hashId,Ne=me.content,Ke=me.className,ze=(0,S.useField)(),Xe=(0,S.useFieldSchema)(),Ge=(0,ut.useDesignable)(),st=Ge.dn,nt=me.onSave,it=me.onCancel,lt=(0,ns.qu)(Ne),Et=lt.html,Ut=lt.loading;return Ut?(0,C.jsx)(V.Z,{}):(0,C.jsxs)("div",{style:{height:Q||"auto",overflowY:Q?"auto":"initial"},children:[ze!=null&&ze.editable?(0,C.jsx)(uv,r()(r()({},me),{},{className:!0,defaultValue:Ne,onCancel:function(){ze.editable=!1,it==null||it()},onSubmit:function(){var At=p()(x()().mark(function tn(Qt){var on;return x()().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:ze.editable=!1,(on=Xe["x-component-props"])!==null&&on!==void 0||(Xe["x-component-props"]={}),Xe["x-component-props"].content=Qt,ze.componentProps.content=Qt,nt==null||nt(Xe),st.emit("patch",{schema:{"x-uid":Xe["x-uid"],"x-component-props":{content:Qt}}});case 6:case"end":return Xt.stop()}},tn)}));return function(tn){return At.apply(this,arguments)}}()})):(0,C.jsx)("div",{className:co()([Fe,Ie,"nb-markdown nb-markdown-default nb-markdown-table",Ke]),style:me.style,dangerouslySetInnerHTML:{__html:Et}}),me.children]})},{displayName:"MarkdownVoid"});bc.Designer=sv;var rs=(0,S.connect)(Dn.Z.TextArea,(0,S.mapProps)(function(me,Q){return r()(r()({autoSize:{maxRows:10,minRows:3}},me),{},{suffix:(0,C.jsx)("span",{children:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffix})})}),(0,S.mapReadPretty)(function(me){return(0,C.jsx)(os,r()({},me))})),os=function(Q){var ve=(0,We.mg)(),Ce=ve.isDarkTheme,Ee=(0,Cc.y)({isDarkTheme:Ce}),Fe=Ee.wrapSSR,Ie=Ee.hashId,Ne=Ee.componentCls,Ke=(0,ns.qu)(Q.value),ze=Ke.html,Xe=ze===void 0?"":ze,Ge=Ke.loading,st=(0,ns.Be)(Xe),nt=(0,C.jsx)("div",{className:"".concat(Ie," ").concat(Ne," nb-markdown nb-markdown-default nb-markdown-table"),dangerouslySetInnerHTML:{__html:Xe}});return Fe(Ge?(0,C.jsx)(V.Z,{}):(0,C.jsx)(la.iV.TextArea,r()(r()({},Q),{},{autop:!1,text:st,value:nt})))};rs.Void=bc;var p0=null,dv=e(68508),$i=e(74820),as=function(){return(0,ce.$)("lm-menus")},fv=e(48997),mv=function me(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=[];for(var Ce in Q)if(Object.prototype.hasOwnProperty.call(Q,Ce)){var Ee=Q[Ce],Fe={label:Ee.title,value:"".concat(Ee["x-uid"],"||").concat(Ee["x-component"])};if(Ee.properties){var Ie=me(Ee.properties);Ie!=null&&Ie.length&&(Fe.children=Ie)}ve.push(Fe)}return ve},vv=function(Q){for(var ve=Q.parent;ve;){if(ve["x-component"]==="Menu")return ve;ve=ve.parent}},is=function(Q){var ve=Q.eventKey,Ce=Q.title,Ee=Q.insertPosition,Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,ut.useDesignable)(),Ke=Ne.dn,ze=(0,S.useFieldSchema)(),Xe=ze["x-component"]==="Menu.SubMenu";if(!Xe&&Ee==="beforeEnd")return null;var Ge=[{type:"onSelfCreate",method:"bindMenuToRole"},{type:"onSelfSave",method:"extractTextToLocale"}];return(0,C.jsxs)(ut.SchemaSettingsSubMenu,{eventKey:ve,title:Ce,children:[(0,C.jsx)(ut.SchemaSettingsModalItem,{eventKey:"".concat(Ee,"group"),title:Ie("Group"),schema:{type:"object",title:Ie("Add group"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:Ie("Menu item title"),required:!0,"x-component-props":{}},icon:{title:Ie("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"}}},onSubmit:function(nt){var it=nt.title,lt=nt.icon;Ke.insertAdjacent(Ee,{type:"void",title:it,"x-component":"Menu.SubMenu","x-decorator":"ACLMenuItemProvider","x-component-props":{icon:lt},"x-server-hooks":Ge})}}),(0,C.jsx)(ut.SchemaSettingsModalItem,{eventKey:"".concat(Ee,"page"),title:Ie("Page"),schema:{type:"object",title:Ie("Add page"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:Ie("Menu item title"),required:!0,"x-component-props":{}},icon:{title:Ie("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"}}},onSubmit:function(nt){var it=nt.title,lt=nt.icon;Ke.insertAdjacent(Ee,{type:"void",title:it,"x-component":"Menu.Item","x-decorator":"ACLMenuItemProvider","x-component-props":{icon:lt},"x-server-hooks":Ge,properties:{page:{type:"void","x-component":"Page","x-async":!0,properties:{grid:{type:"void","x-component":"Grid","x-initializer":"page:addBlock",properties:{}}}}}})}}),(0,C.jsx)(ut.SchemaSettingsModalItem,{eventKey:"".concat(Ee,"link"),title:Ie("Link"),schema:{type:"object",title:Ie("Add link"),properties:{title:{title:Ie("Menu item title"),required:!0,"x-component":"Input","x-decorator":"FormItem"},icon:{title:Ie("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"},href:{title:Ie("Link"),"x-component":"Input","x-decorator":"FormItem"}}},onSubmit:function(nt){var it=nt.title,lt=nt.icon,Et=nt.href;Ke.insertAdjacent(Ee,{type:"void",title:it,"x-component":"Menu.URL","x-decorator":"ACLMenuItemProvider","x-component-props":{icon:lt,href:Et},"x-server-hooks":Ge})}})]})},pv=function(Q){var ve=Q.copyable;return(0,C.jsx)(fv.Z.Text,{copyable:ve,children:ve.text})},hv=function(){var Q=(0,ce.$)(),ve=Q.t;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.65)"},children:ve("Need to add corresponding menu permissions for guest roles")}),(0,C.jsx)(Nr.ZP,{type:"link",target:"_blank",href:"".concat(window.location.origin,"/app/settings/users-permissions/roles"),style:{marginLeft:-12},children:ve("Click to go")})]})},gv=function(){var Q,ve=(0,S.useFieldSchema)(),Ce=(0,ut.useDesignable)(),Ee=Ce.dn,Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,oo.useParams)();return Object.keys((ve==null?void 0:ve.properties)||{}).length?null:(0,C.jsx)(ut.SchemaSettingsModalItem,{title:Ie("Share"),schema:{type:"object",title:Ie("Share"),properties:{share:{title:Ie("msgjobsstatus"),enum:[{label:Ie("Open"),value:"open"},{label:Ie("Close"),value:"close"}],default:(ve==null||(Q=ve["x-component-props"])===null||Q===void 0?void 0:Q.share)||"close","x-component":"Radio.Group","x-decorator":"FormItem","x-reactions":[`{{(field) => {
                  field.query('.url').take(f => {
                    f.display = field.value === 'open' ? 'visible' : 'none';
                  });
                  field.query('.tips').take(f => {
                    f.display = field.value === 'open' ? 'visible' : 'none';
                  });
                }}}`]},url:{title:"URL",description:Ie("Without logging in to browse page"),"x-component":pv,"x-component-props":{copyable:{text:"".concat(window.location.origin,"/app/").concat(Ne==null?void 0:Ne.appName,"/").concat(ve["x-uid"],"?shared=true")}},"x-decorator":"FormItem"},tips:{"x-component":hv,"x-decorator":"FormItem"}}},onSubmit:function(ze){var Xe=ze.share,Ge=oe()({},"x-uid",ve["x-uid"]);ve["x-component-props"]=r()(r()({},ve["x-component-props"]||{}),{},{share:Xe}),Ge["x-component-props"]=ve["x-component-props"],Ee.emit("patch",{schema:Ge}),Ee.refresh()}})},_v=function(){var Q,ve=(0,S.useField)(),Ce=(0,S.useFieldSchema)(),Ee=(0,ut.useAPIClient)(),Fe=(0,ut.useDesignable)(),Ie=Fe.dn,Ne=Fe.refresh,Ke=(0,ut.useAppMenu)(),ze=Ke.refresh,Xe=(0,ce.$)(),Ge=Xe.t,st=vv(Ce),nt=(0,z.eJW)(),it=nt(st==null||(Q=st["x-component-props"])===null||Q===void 0?void 0:Q.onSelect),lt=mv(st==null?void 0:st.properties),Et=(0,oo.useParams)(),Ut=function(on){(0,N.onFieldChange)("target",function(Jt){var Xt,On,Hn=(Jt==null||(Xt=Jt.value)===null||Xt===void 0||(On=Xt.split)===null||On===void 0?void 0:On.call(Xt,"||"))||[],Zn=ye()(Hn,2),Jn=Zn[1];Jt.query("position").take(function(Nn){Nn.dataSource=Jn==="Menu.SubMenu"?[{label:Ge("Before"),value:"beforeBegin"},{label:Ge("After"),value:"afterEnd"},{label:Ge("Inner"),value:"beforeEnd"}]:[{label:Ge("Before"),value:"beforeBegin"},{label:Ge("After"),value:"afterEnd"}]})})},At={type:"object",title:Ge("Edit menu item"),properties:{title:{title:Ge("Menu item title"),required:!0,"x-decorator":"FormItem","x-component":"Input","x-component-props":{}},icon:{title:Ge("Menu item icon"),"x-component":"IconPicker","x-decorator":"FormItem"}}},tn={title:ve.title,icon:ve.componentProps.icon};return Ce["x-component"]==="Menu.URL"&&(At.properties.href={title:Ge("Link"),"x-component":"Input","x-decorator":"FormItem"},tn.href=ve.componentProps.href),(0,C.jsxs)(ut.GeneralSchemaDesigner,{children:[(0,C.jsx)(ut.SchemaSettingsModalItem,{title:Ge("Edit"),eventKey:"edit",schema:At,initialValues:tn,onSubmit:function(){var Qt=p()(x()().mark(function on(Jt){var Xt,On,Hn,Zn,Jn;return x()().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return On=Jt.title,Hn=Jt.icon,Zn=Jt.href,Jn=(Xt={},oe()(Xt,"x-uid",Ce["x-uid"]),oe()(Xt,"x-server-hooks",[{type:"onSelfSave",method:"extractTextToLocale"}]),Xt),On&&(Ce.title=On,ve.title=On,Jn.title=On,Ne()),ve.componentProps.icon=Hn,ve.componentProps.href=Zn,Jn["x-component-props"]={icon:Hn,href:Zn},Ce["x-component-props"]=Ce["x-component-props"]||{},Ce["x-component-props"].icon=Hn,Ce["x-component-props"].href=Zn,it==null||it({item:{props:{schema:Ce,params:Et}}}),Cn.next=12,Ie.emit("patch",{schema:Jn});case 12:ze();case 13:case"end":return Cn.stop()}},on)}));return function(on){return Qt.apply(this,arguments)}}()}),(0,C.jsx)(ut.SchemaSettingsModalItem,{title:Ge("Move to"),eventKey:"move-to",components:{TreeSelect:L.TreeSelect},effects:Ut,schema:{type:"object",title:Ge("Move to"),properties:{target:{title:Ge("Target"),enum:lt,required:!0,"x-decorator":"FormItem","x-component":"TreeSelect","x-component-props":{}},position:{title:Ge("Position"),required:!0,enum:[{label:Ge("Before"),value:"beforeBegin"},{label:Ge("After"),value:"afterEnd"}],default:"afterEnd","x-component":"Radio.Group","x-decorator":"FormItem"}}},onSubmit:function(on){var Jt,Xt=on.target,On=on.position,Hn=(Xt==null||(Jt=Xt.split)===null||Jt===void 0?void 0:Jt.call(Xt,"||"))||[],Zn=ye()(Hn,1),Jn=Zn[0];if(Jn){var Nn=ui(st,Jn),Cn=(0,z.Pls)({t:Ge,api:Ee,refresh:Ne,current:Nn});Cn.loadAPIClientEvents(),Cn.insertAdjacent(On,Ce)}}}),(0,C.jsx)(gv,{}),(0,C.jsx)(ut.SchemaSettingsThemeEditItem,{refresh:!0}),(0,C.jsx)(ut.SchemaSettingsDivider,{}),(0,C.jsx)(is,{eventKey:"insertbeforeBegin",title:Ge("Insert before"),insertPosition:"beforeBegin"}),(0,C.jsx)(is,{eventKey:"insertafterEnd",title:Ge("Insert after"),insertPosition:"afterEnd"}),(0,C.jsx)(is,{eventKey:"insertbeforeEnd",title:Ge("Insert inner"),insertPosition:"beforeEnd"}),(0,C.jsx)(ut.SchemaSettingsDivider,{}),(0,C.jsx)(ut.SchemaSettingsRemove,{confirm:{title:Ge("Delete menu item"),onOk:function(on){var Jt=on.fieldSchema,Xt=Jt["x-uid"],On=window.location.pathname.split("/").pop();if(Xt===On){var Hn=window.location.pathname.split("/");Hn.pop();var Zn=Hn.join("/");window.history.replaceState({},"",Zn),window.location.reload()}}}})]})};function ui(me,Q){return S.Schema.isSchemaInstance(me)||(me=new S.Schema(me)),me.reduceProperties(function(ve,Ce){if(Ce["x-uid"]===Q)return Ce;var Ee=ui(Ce,Q);return Ee||ve},null)}function ls(me){S.Schema.isSchemaInstance(me)||(me=new S.Schema(me));var Q=mt()(S.Schema.getOrderProperties(me)),ve;try{for(Q.s();!(ve=Q.n()).done;){var Ce=ve.value.schema;if(Ce["x-component"]==="Menu.Item")return Ce;var Ee=ls(Ce);if(Ee)return Ee}}catch(Fe){Q.e(Fe)}finally{Q.f()}return null}function ss(me){S.Schema.isSchemaInstance(me)||(me=new S.Schema(me));var Q=mt()(S.Schema.getOrderProperties(me)),ve;try{for(Q.s();!(ve=Q.n()).done;){var Ce=ve.value.schema;if(Ce["x-component"]==="Menu.SubMenu")return Ce;var Ee=ss(Ce);if(Ee)return Ee}}catch(Fe){Q.e(Fe)}finally{Q.f()}return null}function us(me){if(me){var Q=[];for(Q.push(me.name);me.parent&&me.parent["x-component"]!=="Menu";)Q.push(me.parent.name),me=me.parent;return Q.reverse()}}function xc(me){if(me){var Q=[];for(Q.push(me.title);me.parent&&me.parent["x-component"]!=="Menu";)Q.push(me.parent.title),me=me.parent;return Q[Q.length-1]}}function ci(me,Q){return us(ui(me,Q))}var yv=["onSelect","mode","selectedUid","collapsed","defaultSelectedUid","sideMenuRefScopeKey","defaultSelectedKeys","defaultOpenKeys","children"],Cv=["icon","children"],bv=["icon","children"],xv=["icon","children"],Sc,Pc,Ec,Dc,Mc,Ac,Sv=(0,pe.css)(Sc||(Sc=q()([`
  position: relative;
  display: inline-block;
  margin-left: -24px;
  margin-right: -34px;
  padding: 0 34px 0 24px;
  width: calc(100% + 58px);
  height: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  &:hover {
    > .general-schema-designer {
      display: block;
    }
  }
  &.nb-action-link {
    > .general-schema-designer {
      top: -10px;
      bottom: -10px;
      left: -10px;
      right: -10px;
    }
  }
  > .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover);
    border: 0;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`]))),Oc=(0,pe.css)(Pc||(Pc=q()([`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: -20px;
  margin-right: -20px;
  padding: 0 20px;
  width: calc(100% + 40px);
  height: 100%;
  &:hover {
    > .general-schema-designer {
      display: block;
    }
  }
  &.nb-action-link {
    > .general-schema-designer {
      top: -10px;
      bottom: -10px;
      left: -10px;
      right: -10px;
    }
  }
  > .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover);
    border: 0;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`]))),Pv=(0,pe.css)(Ec||(Ec=q()([`
  .ant-menu-item:hover {
    > .ant-menu-title-content > div {
      .general-schema-designer {
        display: block;
      }
    }
  }
`]))),Ev=function(Q){return(0,pe.css)(Dc||(Dc=q()([`
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;

  `,`

  .ant-menu-item {
    > .ant-menu-title-content {
      height: 100%;
      `,`
      > div {
        > .general-schema-designer {
          right: 6px !important;
        }
      }
    }
  }
  .ant-menu-submenu-title {
    .ant-menu-title-content {
      height: 100%;
      margin-left: -24px;
      margin-right: -34px;
      padding: 0 34px 0 24px;
      > div {
        > .general-schema-designer {
          right: 6px !important;
        }
        > span.anticon {
          margin-right: 10px;
        }
      }
      .nb-sortable-designer {
        `,`
      }
    }
  }
`])),Q&&`
    span {
      text-align: center;
    }

    span.anticon + span {
      display: none !important;
    } 

   .ant-menu-submenu-title  {
      text-align: center;
      span.anticon {
        margin: 0 !important;
      }

      .ant-menu-title-content div {
        text-align: center;
        margin: 0;
        padding: 0;
      }
    }

  
  `,Q?`
      margin-left: 0;
      margin-right: 0;
      padding: 0;
      `:`
      margin-left: -24px;
      margin-right: -16px;
      padding: 0 16px 0 24px;
      `,Q&&"width: 100%;")},Dv=(0,pe.css)(Mc||(Mc=q()([`
  .ant-menu-submenu-title {
    span.anticon {
      margin-right: 10px;
    }
  }
`]))),cs=(0,pe.css)(Ac||(Ac=q()([`
  :active {
    background: inherit;
  }
`]))),h0=function(Q){var ve=Q.others,Ce=Q.schema,Ee=Q.mode,Fe=Q.onSelect,Ie=Q.setLoading,Ne=Q.setDefaultSelectedKeys,Ke=Q.defaultSelectedKeys,ze=Q.defaultOpenKeys,Xe=Q.selectedKeys,Ge=Q.designable,st=Q.render,nt=Q.children,it=useNavigate(),lt=useParams(),Et=useMenuItem(),Ut=Et.Component,At=Et.getMenuItems,tn=useMemo(function(){var Qt={key:"x-designer-button",style:{padding:"0 8px",order:9999},label:st({"data-testid":"schema-initializer-Menu-header",style:{background:"none"}}),notdelete:!0,disabled:!0},on=At(function(){return nt});return on},[nt,Ge]);return _jsxs(_Fragment,{children:[_jsx(Ut,{}),_jsx(AntdMenu,_objectSpread(_objectSpread({},ve),{},{className:Pv,onSelect:function(on){var Jt,Xt=on.item.props.schema,On=(Jt=Xt["x-data"])===null||Jt===void 0||(Jt=Jt.appInfo)===null||Jt===void 0?void 0:Jt.name;it(On?"/app/".concat(On):"/app")},mode:Ee==="mix"?"horizontal":Ee,defaultOpenKeys:ze,defaultSelectedKeys:Ke,selectedKeys:Xe,items:tn}))]})},Mv=function(Q){var ve,Ce,Ee=Q.loading,Fe=Q.mode,Ie=Q.sideMenuSchema,Ne=Q.sideMenuRef,Ke=Q.defaultOpenKeys,ze=Q.inlineCollapsed,Xe=Q.defaultSelectedKeys,Ge=Q.selectedKeys,st=Q.onSelect,nt=Q.render,it=Q.t,lt=Q.api,Et=Q.refresh,Ut=Q.designable,At=(0,$i.iX)(),tn=At.Component,Qt=At.getMenuItems,on=(0,ut.useAppMenu)(),Jt=on.designModeSideMenuRef,Xt=(0,Ve.isAppDesignPage)()?Jt:Ne,On=(0,o.useRef)(Ie);On.current=Ie;var Hn=(0,ut.useApp)(),Zn=Hn.getComponent("SiderMenuSkeleton"),Jn=(0,o.useMemo)(function(){var Cn=Qt(function(){return(0,C.jsx)(S.RecursionField,{schema:Ie,onlyRenderProperties:!0},(0,$e.uid)())});return Ut&&Cn.push({key:"x-designer-button",disabled:!0,label:nt({"data-testid":"schema-initializer-Menu-side",insert:function(or){var vr=(0,z.Pls)({t:it,api:lt,refresh:Et,current:On.current});vr.loadAPIClientEvents(),vr.insertAdjacent("beforeEnd",or)}}),order:1,notdelete:!0}),Cn},[Qt,Ut,Ie,nt,it,lt,Et]);if(Ee){var Nn;return Xt!=null&&(Nn=Xt.current)!==null&&Nn!==void 0&&Nn.firstChild?(0,Yl.createPortal)((0,C.jsx)(Zn,{}),Xt.current.firstChild):null}return(ve=document.getElementById("side-bar-menu-skeleton"))===null||ve===void 0||ve.remove(),(0,Ve.isAppDesignPage)()&&Ne.current&&(Ne.current.style.display="none"),Fe==="mix"&&(Ie==null?void 0:Ie["x-component"])==="Menu.SubMenu"&&(Xt==null||(Ce=Xt.current)===null||Ce===void 0?void 0:Ce.firstChild)&&(0,Yl.createPortal)((0,C.jsxs)(Sl.Provider,{value:"inline",children:[(0,C.jsx)(tn,{}),(0,C.jsx)(dv.Z,{mode:"inline",defaultOpenKeys:ze?[]:Ke,defaultSelectedKeys:Xe,selectedKeys:Ge,onSelect:function(pn){st==null||st(pn)},className:Ev(ze),items:Jn,inlineCollapsed:(0,Ve.isAppDesignPage)()?!1:ze})]}),Xt.current.firstChild)},Sl=(0,o.createContext)(null);Sl.displayName="MenuModeContext";var Av=function(){var Q,ve=(0,S.useFieldSchema)(),Ce=(0,o.useContext)(S.SchemaExpressionScopeContext),Ee=ve==null||(Q=ve["x-component-props"])===null||Q===void 0?void 0:Q.sideMenuRefScopeKey;if(Ee)return Ce[Ee]},zi=(0,o.createContext)(null);zi.displayName="MenuItemDesignerContext";var Ga=(0,S.observer)(function(me){var Q=(0,Kt.w)(me),ve=Q.onSelect,Ce=Q.mode,Ee=Q.selectedUid,Fe=Q.collapsed,Ie=Q.defaultSelectedUid,Ne=Q.sideMenuRefScopeKey,Ke=Q.defaultSelectedKeys,ze=Q.defaultOpenKeys,Xe=Q.children,Ge=R()(Q,yv),st=(0,ce.$)(),nt=st.t,it=(0,z.ett)(),lt=(0,ut.useAppMenu)(),Et=lt.currentAppMenuSchema,Ut=lt.currentAppMenuSchemaRef,At=(0,S.useFieldSchema)(),tn=(0,z.ngQ)(),Qt=tn.refresh,on=(0,ut.useAPIClient)(),Jt=(0,ut.useSchemaInitializerRender)(At["x-initializer"],At["x-initializer-props"]),Xt=Jt.render,On=Av(),Hn=(0,o.useState)(),Zn=ye()(Hn,2),Jn=Zn[0],Nn=Zn[1],Cn=(0,o.useState)(function(){return Ke||(Ie?ci(At,Ie):[])}),pn=ye()(Cn,2),or=pn[0],vr=pn[1],gr=(0,o.useState)(!1),Wn=ye()(gr,2),Xn=Wn[0],fn=Wn[1],Fn=(0,o.useState)(function(){return["inline","mix"].includes(Ce)?ze||or:ze}),kn=ye()(Fn,2),ur=kn[0],Ln=kn[1];(0,o.useEffect)(function(){Ut.current=ui(At,Et["x-uid"])},[Et,At]);var sr=(0,o.useMemo)(function(){var Or;if(Ee){var jr=ci(At,Ee);Or=(jr==null?void 0:jr[0])||null}else Or=(or==null?void 0:or[0])||null;if(Ce==="mix"&&Or){var br,wr=(br=At.properties)===null||br===void 0?void 0:br[Or];if((wr==null?void 0:wr["x-component"])==="Menu.SubMenu")return wr}return null},[or,Ce,At,Ee]);(0,o.useEffect)(function(){Ie&&vr(ci(At,Ie))},[Ie,At]),(0,o.useEffect)(function(){if(!Ee){Nn(void 0);return}var Or=ci(At,Ee);Nn(Or),["inline","mix"].includes(Ce)&&Ln(ze||Or)},[Ee]),(0,o.useEffect)(function(){["inline","mix"].includes(Ce)&&Ln(or)},[or]);var Ur=(0,z.ngQ)(),Kr=Ur.designable;return(0,C.jsx)(z.LBT,{children:(0,C.jsx)(zi.Provider,{value:it,children:(0,C.jsx)(Sl.Provider,{value:Ce,children:(0,C.jsx)(Mv,{loading:Xn,mode:Ce,sideMenuSchema:sr,sideMenuRef:On,defaultOpenKeys:ur,defaultSelectedKeys:or,selectedKeys:Jn,onSelect:ve,render:Xt,t:nt,api:on,refresh:Qt,designable:Kr,inlineCollapsed:Fe})})})})},{displayName:"Menu"});Ga.Item=(0,S.observer)(function(me){var Q=as(),ve=Q.t,Ce=(0,$i.nu)(),Ee=Ce.pushMenuItem,Fe=me.icon,Ie=me.children,Ne=R()(me,Cv),Ke=(0,S.useFieldSchema)(),ze=(0,S.useField)(),Xe=(0,o.useContext)(zi),Ge=(0,o.useMemo)(function(){return r()(r()({},Ne),{},{className:cs,key:Ke.name,eventKey:Ke.name,schema:Ke,label:(0,C.jsx)(S.SchemaContext.Provider,{value:Ke,children:(0,C.jsx)(S.FieldContext.Provider,{value:ze,children:(0,C.jsxs)(z.TRI,{role:"button","aria-label":ve(ze.title),className:Oc,removeParentsIfNoChildren:!1,children:[(0,C.jsx)(ut.Icon,{type:Fe}),(0,C.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",width:"100%",verticalAlign:"middle"},title:ve(ze.title),children:ve(ze.title)}),Xe&&(0,C.jsx)(Xe,{})]})})})})},[ze.title,Fe,Ke,Xe]);return Ee?(Ee(Ge),null):((0,Ve.error)("Menu.Item must be wrapped by GetMenuItemsContext.Provider"),null)},{displayName:"Menu.Item"}),Ga.URL=(0,S.observer)(function(me){var Q=as(),ve=Q.t,Ce=(0,$i.nu)(),Ee=Ce.pushMenuItem,Fe=me.icon,Ie=me.children,Ne=R()(me,bv),Ke=(0,S.useFieldSchema)(),ze=(0,S.useField)(),Xe=(0,o.useContext)(zi);if(!Ee)return(0,Ve.error)("Menu.URL must be wrapped by GetMenuItemsContext.Provider"),null;var Ge=(0,o.useMemo)(function(){return r()(r()({},Ne),{},{className:cs,key:Ke.name,eventKey:Ke.name,schema:Ke,onClick:function(){},label:(0,C.jsx)(S.SchemaContext.Provider,{value:Ke,children:(0,C.jsx)(S.FieldContext.Provider,{value:ze,children:(0,C.jsxs)(z.TRI,{className:Oc,onClick:function(nt){window.open(me.href,"_blank"),nt.preventDefault(),nt.stopPropagation()},removeParentsIfNoChildren:!1,"aria-label":ve(ze.title),children:[(0,C.jsx)(ut.Icon,{type:Fe}),(0,C.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",width:"100%",verticalAlign:"middle"},children:ve(ze.title)}),Xe&&(0,C.jsx)(Xe,{})]})})})})},[ze.title,Fe,me.href,Ke,Xe]);return Ee(Ge),null},{displayName:"MenuURL"}),Ga.SubMenu=(0,S.observer)(function(me){var Q=as(),ve=Q.t,Ce=(0,$i.iX)(),Ee=Ce.Component,Fe=Ce.getMenuItems,Ie=(0,$i.nu)(),Ne=Ie.pushMenuItem,Ke=me.icon,ze=me.children,Xe=R()(me,xv),Ge=(0,S.useFieldSchema)(),st=(0,S.useField)(),nt=(0,o.useContext)(Sl),it=(0,o.useContext)(zi),lt=(0,o.useMemo)(function(){return r()(r()({},Xe),{},{className:cs,popupClassName:Dv,key:Ge.name,eventKey:Ge.name,label:(0,C.jsx)(S.SchemaContext.Provider,{value:Ge,children:(0,C.jsx)(S.FieldContext.Provider,{value:st,children:(0,C.jsxs)(z.TRI,{className:Sv,removeParentsIfNoChildren:!1,"aria-label":ve(st.title),children:[(0,C.jsx)(ut.Icon,{type:Ke}),(0,C.jsx)("span",{style:{margin:0},children:ve(st.title)}),it&&(0,C.jsx)(it,{})]})})}),children:Fe(function(){return(0,C.jsx)(S.RecursionField,{schema:Ge,onlyRenderProperties:!0})})})},[st.title,Ke,Ge,ze,it]);return Ne?nt==="mix"?(0,C.jsx)(Ga.Item,r()({},me)):(Ne(lt),(0,C.jsx)(Ee,{})):((0,Ve.error)("Menu.SubMenu must be wrapped by GetMenuItemsContext.Provider"),null)},{displayName:"Menu.SubMenu"}),Ga.Designer=_v;var Ic=e(38342),Ov=e(66705),Iv=["hidden"],Tc=(0,J.t)((0,S.observer)(function(me){var Q=(0,Kt.w)(me),ve=Q.hidden,Ce=R()(Q,Iv);if(ve)return null;var Ee=function(Ie){Ie.key==="Enter"&&Ie.preventDefault()};return(0,C.jsx)("div",{onKeyPress:Ee,children:(0,C.jsx)(Ov.Z,r()({},Ce))})},{displayName:"Pagination"})),di=function(Q){return Q>=48&&Q<=57},Pl=function(Q){return Q>=97&&Q<=122},El=function(Q){return Q>=65&&Q<=90},Fc=function(Q){return!(Pl(Q)||El(Q)||di(Q))},ds=function(Q){return Pl(Q)||El(Q)},Tv=function(Q){if(!Q)return 0;for(var ve=0,Ce=0,Ee=0,Fe=0,Ie=0,Ne=0,Ke=0,ze=0,Xe=0,Ge=function(){return ve+Ce+Ee+Fe},st=function(){var Jn=ve>0?1:0;return Jn+=Ce>0?1:0,Jn+=Ee>0?1:0,Jn+=Fe>0?1:0,Jn>2&&Ge()>=8?Jn+1:0},nt=0;nt<Q.length;nt++){var it=Q.charCodeAt(nt);di(it)?(ve++,nt!==0&&nt!==Q.length-1&&Ie++,nt>0&&di(Q.charCodeAt(nt-1))&&ze++):Pl(it)?(Ce++,nt>0&&Pl(Q.charCodeAt(nt-1))&&ze++):El(it)?(Ee++,nt>0&&El(Q.charCodeAt(nt-1))&&ze++):(Fe++,nt!==0&&nt!==Q.length-1&&Ie++);for(var lt=!1,Et=0;Et<Q.length;Et++)Q[nt]===Q[Et]&&nt!==Et&&(lt=!0,Ke+=Math.abs(Q.length/(Et-nt)));if(lt){Ne++;var Ut=Q.length-Ne;Ke=Math.ceil(Ut?Ke/Ut:Ke)}if(nt>1){var At=Q.charCodeAt(nt-1),tn=Q.charCodeAt(nt-2);if(ds(it)){if(ds(At)&&ds(tn)){var Qt=Q.toLowerCase(),on=Qt.charCodeAt(nt),Jt=Qt.charCodeAt(nt-1),Xt=Qt.charCodeAt(nt-2);on-Jt===Jt-Xt&&Math.abs(on-Jt)===1&&Xe++}}else di(it)?di(At)&&di(tn)&&it-At===At-tn&&Math.abs(it-At)===1&&Xe++:Fc(At)&&Fc(tn)&&it-At===At-tn&&Math.abs(it-At)===1&&Xe++}}var On=0,Hn=Ge();return On+=4*Hn,Ce>0&&(On+=2*(Hn-Ce)),Ee>0&&(On+=2*(Hn-Ee)),ve!==Hn&&(On+=4*ve),On+=6*Fe,On+=2*Ie,On+=2*st(),Hn===Ce+Ee&&(On-=Hn),Hn===ve&&(On-=ve),On-=Ke,On-=2*ze,On-=3*Xe,On=On<0?0:On,On=On>100?100:On,On>=80?100:On>=60?80:On>=40?60:On>=20?40:20},Fv=function(Q){return(0,$e.isFn)(Q.children)?Q.children(Tv(String(Q.value||""))):(0,C.jsx)(o.Fragment,{children:Q.children})},Rv=["value","className","checkStrength"],Rc=(0,S.connect)(function(me){var Q=me.value,ve=me.className,Ce=me.checkStrength,Ee=R()(me,Rv),Fe={position:"absolute",zIndex:1,height:8,top:0,background:"#fff",width:1,transform:"translate(-50%, 0)"};return(0,C.jsxs)("span",{className:ve,children:[(0,C.jsx)(Dn.Z.Password,r()(r()({},Ee),{},{value:Q})),Ce&&(0,C.jsx)(Fv,{value:Q,children:function(Ne){return(0,C.jsxs)("div",{style:{background:"#e0e0e0",marginBottom:3,position:"relative"},children:[(0,C.jsx)("div",{style:r()(r()({},Fe),{},{left:"20%"})}),(0,C.jsx)("div",{style:r()(r()({},Fe),{},{left:"40%"})}),(0,C.jsx)("div",{style:r()(r()({},Fe),{},{left:"60%"})}),(0,C.jsx)("div",{style:r()(r()({},Fe),{},{left:"80%"})}),(0,C.jsx)("div",{style:{position:"relative",backgroundImage:"-webkit-linear-gradient(left, #ff5500, #ff9300)",transition:"all 0.35s ease-in-out",height:8,width:"100%",marginTop:5,clipPath:"polygon(0 0,".concat(Ne,"% 0,").concat(Ne,"% 100%,0 100%)")}})]})}})]})},(0,S.mapReadPretty)(function(me){return me.value?(0,C.jsx)("div",{children:"********"}):(0,C.jsx)("div",{})})),g0=null,jv=function(Q){return(0,$e.isNum)(Q)||/^-?\d+(\.\d+)?$/.test(Q)},fs=function(Q,ve){return jv(Q)?pc.NMM(ve(Q),9):null},jc=(0,S.connect)(function(me){var Q=me.value,ve=me.onChange,Ce=(0,o.useMemo)(function(){return fs(Q,function(Ee){return Ee*100})},[Q]);return(0,C.jsx)(vc.Z,r()(r()({},me),{},{addonAfter:"%",value:Ce,onChange:function(Fe){ve&&ve(fs(Fe,function(Ie){return Ie/100}))}}))},(0,S.mapReadPretty)(function(me){var Q=(0,o.useMemo)(function(){return fs(me.value,function(ve){return ve*100})},[me.value]);return(0,C.jsx)(ql,r()(r()({},me),{},{value:Q}))})),Bv=e(58837),Bc,ms=(0,S.observer)(function(me){var Q=(0,S.useField)(),ve=(0,o.useRef)(null),Ce=(0,S.useFieldSchema)(),Ee=Q.value,Fe={name:Ce.name,"x-collection-field":Ce["x-collection-field"],"x-component":"CollectionField","x-read-pretty":!0,default:Ee,"x-component-props":Ce["x-component-props"]},Ie=(0,o.useMemo)(function(){return(0,N.createForm)({values:oe()({},Ce.name,Ee)})},[Q.value,Ce["x-component-props"]]),Ne=function(){return ve.current},Ke=o.Children.map(me.children,function(ze){return o.isValidElement(ze)?o.cloneElement(ze,{getContainer:Ne}):ze});return(0,C.jsx)(ae.x,r()(r()({},me),{},{labelStyle:{display:"none"},children:(0,C.jsx)(Ii.q,{content:(0,C.jsx)("div",{style:{width:"100%",height:"100%",minWidth:500},children:(0,C.jsx)("div",{ref:ve,children:Ke})}),trigger:"click",placement:"bottomLeft",overlayClassName:(0,pe.css)(Bc||(Bc=q()([`
            padding-top: 0;
            .ant-popover-arrow {
              display: none;
            }
          `]))),children:(0,C.jsx)("div",{style:{minHeight:30,padding:"0 8px"},children:(0,C.jsx)(S.FormContext.Provider,{value:Ie,children:(0,C.jsx)(S.RecursionField,{schema:Fe,name:Ce.name})})})})}))},{displayName:"Editable"}),Lc=(0,S.observer)(function(me){var Q=(0,S.useField)(),ve=(0,I.useCollectionManager_deprecated)(),Ce=ve.getCollectionJoinField,Ee=(0,Bv.Kx)(),Fe=(0,S.useFieldSchema)(),Ie=Ce(Fe["x-collection-field"])||(Ee==null?void 0:Ee.getField(Fe.name));return Ie?Q.editable||Q.disabled?(0,C.jsx)(ms,r()({},me)):(0,C.jsx)(ae.x,r()(r()({},me),{},{style:{padding:"0 8px"}})):null},{displayName:"QuickEdit"}),Dl=e(55742),Lv=e(65653),Uc,fi=(0,S.connect)(Dl.ZP,(0,S.mapProps)({value:"checked",onInput:"onChange"}));fi.__ANT_RADIO=!0,fi.Button=(0,J.t)((0,S.connect)(function(me){var Q,ve,Ce=(0,S.useFieldSchema)(),Ee=(0,Lv.d)(Ce),Fe=Ee.render;return(0,C.jsx)(Dl.ZP.Button,r()(r()({},me),{},{value:Ce==null?void 0:Ce.default,style:{padding:0},children:(0,C.jsxs)(y.SortableItem,{style:{paddingInline:15},children:[Ce!=null&&(Q=Ce["x-component-props"])!==null&&Q!==void 0&&Q.icon?(0,C.jsx)(Ye.JO,{type:Ce==null||(ve=Ce["x-component-props"])===null||ve===void 0?void 0:ve.icon,style:{marginRight:6}}):null,Ce==null?void 0:Ce.title,Fe()]})}))},(0,S.mapProps)({value:"checked",onInput:"onChange"}))),fi.Group=(0,S.connect)(Dl.ZP.Group,(0,S.mapProps)({dataSource:"options"},function(me,Q){return(0,o.useEffect)(function(){var ve,Ce=(ve=Q.dataSource)===null||ve===void 0?void 0:ve.find(function(Ee){return Ee.value==me.value});Ce&&Q.setValue(Ce.value)},[me.value,Q.dataSource]),r()({},me)}),(0,S.mapReadPretty)(function(me){var Q=me.value,ve=(0,S.useField)(),Ce=(0,Lt.Hy)(),Ee=ve.dataSource||(Ce==null?void 0:Ce.uiSchema.enum)||[];return(0,$e.isValid)(me.value)?(0,C.jsx)("div",{children:Ee.filter(function(Fe){return Fe.value==Q}).map(function(Fe,Ie){return(0,C.jsx)(Mt.Z,{color:Fe.color,icon:Fe.icon,children:Fe.label},Ie)})}):(0,C.jsx)("div",{})})),fi.Custom=(0,J.t)(function(me){var Q,ve=(0,S.useFieldSchema)(),Ce=(0,ut.useToken)(),Ee=Ce.token,Fe=(0,z.ngQ)(),Ie=Fe.designable,Ne=(0,tr.IU)(ve["x-initializer"],ve["x-initializer-props"]),Ke=Ne.render,ze=(ve==null||(Q=ve["x-component-props"])===null||Q===void 0?void 0:Q.style)||"Tight",Xe=(0,pe.css)(Uc||(Uc=q()([`
      display: flex;
      white-space: nowrap;
      overflow-x: auto;
      overflow-y: hidden;
      -ms-overflow-style: none;
      scrollbar-width: none;
      &::-webkit-scrollbar {
        display: none;
      }
      `,`
    `])),ze==="Dispersed"&&`.ant-radio-group {
          row-gap: `.concat(Ee.paddingXS,`px;
          column-gap: `).concat(Ee.paddingXS,`px;
          display: flex;
          `).concat(Ve.isMobile?"":"flex-wrap: wrap;",`
        .ant-radio-button-wrapper {
          border-left-width: 1px;
          border-radius: `).concat(Ee.borderRadius,`px;
          &::before {
            height: 0;
            width: 0;
          }
          &:last-child {
            margin-right: 0
          }
        }
      }`)),Ge=(0,o.useState)(),st=ye()(Ge,2),nt=st[0],it=st[1];return(0,o.useEffect)(function(){var lt,Et=(lt=(0,Ve.findSchema)(ve,function(Ut){var At;return(Ut==null?void 0:Ut["x-component"])==="Radio.Button"&&(Ut==null||(At=Ut["x-component-props"])===null||At===void 0?void 0:At.selected)}))===null||lt===void 0?void 0:lt.default;Et&&it(Et)},[JSON.stringify(ve.toJSON())]),(0,C.jsx)(y.DndContext,{children:(0,C.jsxs)("div",{className:Xe,children:[(0,C.jsx)(Dl.ZP.Group,{value:nt,onChange:function(Et){it(Et.target.value)},children:me==null?void 0:me.children}),(0,C.jsx)("span",{style:Ie?{marginLeft:8}:{},children:Ke()})]})})},{displayName:"Radio.Custom"});var _0=null,na=e(12753),wc=e(64086),Nc=function(Q){var ve,Ce=Q.split;Ce==="|"&&(Ce="");var Ee=(0,L.useFormLayout)();return o.createElement(Dt.Z,r()(r()({size:(ve=Q.size)!==null&&ve!==void 0?ve:Ee==null?void 0:Ee.spaceGap},Q),{},{split:Ce}))},y0=null,Uv=e(6166),kc=e(99663),Wc=e(22600),Kc=e(49135),Vc=e(93196),wv=e(45697),ka=e.n(wv);if(typeof Element!="undefined"&&!Element.prototype.matches){var mi=Element.prototype;mi.matches=mi.matchesSelector||mi.mozMatchesSelector||mi.msMatchesSelector||mi.oMatchesSelector||mi.webkitMatchesSelector}var $c=function(Q,ve,Ce){for(var Ee=Q;Ee;){var Fe=Ee===Ce||Ee===document.body;if(Fe||Ee.nodeType===1&&Ee.matches(ve)){Fe&&(Ee=null);break}Ee=Ee.parentNode}return Ee},Nv=function(Q){var ve=Q;do{var Ce=window.getComputedStyle(ve),Ee=Ce.overflow;if((Ee==="auto"||Ee==="scroll")&&ve&&ve.nodeType&&(ve.offsetWidth<ve.scrollWidth||ve.offsetHeight<ve.scrollHeight))break;if(!ve||!ve.nodeType||ve===document.body){ve=null;break}ve=ve.parentNode}while(ve);return ve},zc=function(Q,ve){return Array.from(Q.parentNode.children).filter(function(Ce){return ve===""?!0:!Ce.matches(ve)}).indexOf(Q)},kv="tr",Zi={TOP:1,BOTTOM:3},vs="px",Wv="position:fixed;z-index:9999;height:0;margin-top:-1px;border-bottom:dashed 2px red;display:none;",ps=function(me){(0,Vc.Z)(Q,me);function Q(ve){(0,kc.Z)(this,Q);var Ce=(0,Kc.Z)(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ve));return Ce.onMouseDown=Ce.onMouseDown.bind(Ce),Ce.onDragStart=Ce.onDragStart.bind(Ce),Ce.onDragEnter=Ce.onDragEnter.bind(Ce),Ce.onDragEnd=Ce.onDragEnd.bind(Ce),Ce.autoScroll=Ce.autoScroll.bind(Ce),Ce.state={fromIndex:-1,toIndex:-1},Ce.scrollElement=null,Ce.scrollTimerId=-1,Ce.direction=Zi.BOTTOM,Ce}return(0,Wc.Z)(Q,[{key:"componentWillUnmount",value:function(){this.dragLine&&this.dragLine.parentNode&&(this.dragLine.parentNode.removeChild(this.dragLine),this.dragLine=null,this.cacheDragTarget=null)}},{key:"onMouseDown",value:function(Ce){var Ee=this.getHandleNode(Ce.target);if(Ee){var Fe=!this.props.handleSelector||this.props.handleSelector===this.props.nodeSelector?Ee:this.getDragNode(Ee);Fe&&(Ee.setAttribute("draggable",!1),Fe.setAttribute("draggable",!0),Fe.ondragstart=this.onDragStart,Fe.ondragend=this.onDragEnd)}}},{key:"onDragStart",value:function(Ce){var Ee=this.getDragNode(Ce.target),Fe=Ce;if(Ee){var Ie=Ee.parentNode;Fe.dataTransfer.setData("Text",""),Fe.dataTransfer.effectAllowed="move",Ie.ondragenter=this.onDragEnter,Ie.ondragover=function(Ke){return Ke.preventDefault(),!0};var Ne=zc(Ee,this.props.ignoreSelector);this.setState({fromIndex:Ne,toIndex:Ne}),this.scrollElement=Nv(Ie)}}},{key:"onDragEnter",value:function(Ce){var Ee=this.getDragNode(Ce.target),Fe=Ce,Ie=void 0;Ee?(Ie=zc(Ee,this.props.ignoreSelector),this.props.enableScroll&&this.resolveAutoScroll(Fe,Ee)):(Ie=-1,this.stopAutoScroll()),this.cacheDragTarget=Ee,this.setState({toIndex:Ie}),this.fixDragLine(Ee)}},{key:"onDragEnd",value:function(Ce){var Ee=this.getDragNode(Ce.target);this.stopAutoScroll(),Ee&&(Ee.removeAttribute("draggable"),Ee.ondragstart=null,Ee.ondragend=null,Ee.parentNode.ondragenter=null,Ee.parentNode.ondragover=null,this.state.fromIndex>=0&&this.state.fromIndex!==this.state.toIndex&&this.props.onDragEnd(this.state.fromIndex,this.state.toIndex)),this.hideDragLine(),this.setState({fromIndex:-1,toIndex:-1})}},{key:"getDragNode",value:function(Ce){return $c(Ce,this.props.nodeSelector,this.dragList)}},{key:"getHandleNode",value:function(Ce){return $c(Ce,this.props.handleSelector||this.props.nodeSelector,this.dragList)}},{key:"getDragLine",value:function(){return this.dragLine||(this.dragLine=window.document.createElement("div"),this.dragLine.setAttribute("style",Wv),window.document.body.appendChild(this.dragLine)),this.dragLine.className=this.props.lineClassName||"",this.dragLine}},{key:"resolveAutoScroll",value:function(Ce,Ee){if(this.scrollElement){var Fe=this.scrollElement.getBoundingClientRect(),Ie=Fe.top,Ne=Fe.height,Ke=Ee.offsetHeight,ze=Ce.pageY,Xe=Ke*(2/3);this.direction=0,ze>Ie+Ne-Xe?this.direction=Zi.BOTTOM:ze<Ie+Xe&&(this.direction=Zi.TOP),this.direction?this.scrollTimerId<0&&(this.scrollTimerId=setInterval(this.autoScroll,20)):this.stopAutoScroll()}}},{key:"stopAutoScroll",value:function(){clearInterval(this.scrollTimerId),this.scrollTimerId=-1,this.fixDragLine(this.cacheDragTarget)}},{key:"autoScroll",value:function(){var Ce=this.scrollElement.scrollTop;this.direction===Zi.BOTTOM?(this.scrollElement.scrollTop=Ce+this.props.scrollSpeed,Ce===this.scrollElement.scrollTop&&this.stopAutoScroll()):this.direction===Zi.TOP?(this.scrollElement.scrollTop=Ce-this.props.scrollSpeed,this.scrollElement.scrollTop<=0&&this.stopAutoScroll()):this.stopAutoScroll()}},{key:"hideDragLine",value:function(){this.dragLine&&(this.dragLine.style.display="none")}},{key:"fixDragLine",value:function(Ce){var Ee=this.getDragLine();if(!Ce||this.state.fromIndex<0||this.state.fromIndex===this.state.toIndex){this.hideDragLine();return}var Fe=Ce.getBoundingClientRect(),Ie=Fe.left,Ne=Fe.top,Ke=Fe.width,ze=Fe.height,Xe=this.state.toIndex<this.state.fromIndex?Ne:Ne+ze;if(this.props.enableScroll&&this.scrollElement){var Ge=this.scrollElement.getBoundingClientRect(),st=Ge.height,nt=Ge.top;if(Xe<nt-2||Xe>nt+st+2){this.hideDragLine();return}}Ee.style.left=Ie+vs,Ee.style.width=Ke+vs,Ee.style.top=Xe+vs,Ee.style.display="block"}},{key:"render",value:function(){var Ce=this;return o.createElement("div",{role:"presentation",onMouseDown:this.onMouseDown,ref:function(Fe){Ce.dragList=Fe}},this.props.children)}}]),Q}(o.Component);ps.propTypes={onDragEnd:ka().func.isRequired,handleSelector:ka().string,nodeSelector:ka().string,ignoreSelector:ka().string,enableScroll:ka().bool,scrollSpeed:ka().number,lineClassName:ka().string,children:ka().node},ps.defaultProps={nodeSelector:kv,ignoreSelector:"",enableScroll:!0,scrollSpeed:10,handleSelector:"",lineClassName:"",children:null};var hs=ps,Kv=e(31234),gs="px",Vv="width:0;margin-left:-1px;margin-top:0;border-bottom:0 none;border-left:dashed 2px red;",Ml={RIGHT:2,LEFT:4},$v=function(me){(0,Vc.Z)(Q,me);function Q(){return(0,kc.Z)(this,Q),(0,Kc.Z)(this,(Q.__proto__||Object.getPrototypeOf(Q)).apply(this,arguments))}return(0,Wc.Z)(Q,[{key:"getDragLine",value:function(){return this.dragLine||((0,Kv.Z)(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"getDragLine",this).call(this),this.dragLine.setAttribute("style",this.dragLine.getAttribute("style")+Vv)),this.dragLine}},{key:"resolveAutoScroll",value:function(Ce,Ee){if(this.scrollElement){var Fe=this.scrollElement.getBoundingClientRect(),Ie=Fe.left,Ne=Fe.width,Ke=Ee.offsetWidth,ze=Ce.pageX,Xe=Ke*2/3;this.direction=0,ze>Ie+Ne-Xe?this.direction=Ml.RIGHT:ze<Ie+Xe&&(this.direction=Ml.LEFT),this.direction?this.scrollTimerId<0&&(this.scrollTimerId=setInterval(this.autoScroll,20)):this.stopAutoScroll()}}},{key:"autoScroll",value:function(){var Ce=this.scrollElement.scrollLeft;this.direction===Ml.RIGHT?(this.scrollElement.scrollLeft=Ce+this.props.scrollSpeed,Ce===this.scrollElement.scrollLeft&&this.stopAutoScroll()):this.direction===Ml.LEFT?(this.scrollElement.scrollLeft=Ce-this.props.scrollSpeed,this.scrollElement.scrollLeft<=0&&this.stopAutoScroll()):this.stopAutoScroll()}},{key:"fixDragLine",value:function(Ce){var Ee=this.getDragLine();if(!Ce||this.state.fromIndex<0||this.state.fromIndex===this.state.toIndex){this.hideDragLine();return}var Fe=Ce.getBoundingClientRect(),Ie=Fe.left,Ne=Fe.top,Ke=Fe.width,ze=Fe.height,Xe=this.state.toIndex<this.state.fromIndex?Ie:Ie+Ke;if(this.props.enableScroll&&this.scrollElement){var Ge=this.scrollElement.getBoundingClientRect(),st=Ge.width,nt=Ge.left;if(Xe<nt-2||Xe>nt+st+2){this.hideDragLine();return}}Ee.style.top=Ne+gs,Ee.style.height=ze+gs,Ee.style.left=Xe+gs,Ee.style.display="block"}}]),Q}(hs),zv=$v;hs.DragColumn=zv;var Zv=hs,Hv=["index"],Gv=["dragSort","showIndex","useSelectedRowKeys","useDataSource","useAction","onChange"],Zc,Hc,Gc,Yc,Xc,Qc,Jc,Yv=function(Q){var ve;return((ve=Q["x-component"])===null||ve===void 0?void 0:ve.endsWith(".Column"))>-1},Xv=function(){var Q=(0,S.useField)(),ve=(0,S.useFieldSchema)(),Ce=(0,ut.useSchemaInitializerRender)(ve["x-initializer"],ve["x-initializer-props"]),Ee=Ce.exists,Fe=Ce.render,Ie=(0,o.useContext)(S.SchemaExpressionScopeContext),Ne=(0,ut.useCollectionParentRecordData)(),Ke=(0,ut.useCollectionRecordData)(),ze=ve.reduceProperties(function(Xe,Ge){return Yv(Ge)&&Ie[Ge["x-visible"]]!==!1?Xe.concat([Ge]):Xe},[]).map(function(Xe){return{title:(0,C.jsx)(S.RecursionField,{name:Xe.name,schema:Xe,onlyRenderSelf:!0}),dataIndex:Xe.name,key:Xe.name,render:function(st,nt){var it,lt=(it=Q.value)===null||it===void 0?void 0:it.indexOf(nt);return(0,C.jsx)(ut.RecordIndexProvider,{index:lt,children:(0,C.jsx)(ut.RecordProvider,{record:nt,parent:Ne||Ke,children:(0,C.jsx)(S.RecursionField,{schema:Xe,name:nt.__index||lt,onlyRenderProperties:!0})})})}}});return Ee?ze.concat({title:Fe(),dataIndex:"TABLE_COLUMN_INITIALIZER",key:"TABLE_COLUMN_INITIALIZER"}):ze},Qv={header:{wrapper:function(Q){return(0,C.jsx)(z.LBT,{children:(0,C.jsx)("thead",r()({},Q))})},cell:function(Q){return(0,C.jsx)("th",r()(r()({},Q),{},{className:co()(Q.className,(0,pe.css)(Zc||(Zc=q()([`
              &:hover .general-schema-designer {
                display: block;
              }
            `]))))}))}},body:{wrapper:function(Q){return(0,C.jsx)(z.LBT,{children:(0,C.jsx)("tbody",r()({},Q))})},row:function(Q){return(0,C.jsx)("tr",r()({},Q))},cell:function(Q){return(0,C.jsx)("td",r()(r()({},Q),{},{className:co()(Q.className,(0,pe.css)(Hc||(Hc=q()([`
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          `]))))}))}}},Jv=function(){var Q=(0,o.useState)([]),ve=ye()(Q,2),Ce=ve[0],Ee=ve[1];return[Ce,Ee]},qv=function(Q,ve){var Ce=(0,S.useField)();return(0,ut.useRequest)(function(){return Promise.resolve({data:Ce.value})},Q)},ep=function(Q){return(0,C.jsx)(Uv.Z,r()({className:"drag-handle",style:{cursor:"grab"}},Q))},tp=function(Q){var ve=Q.index,Ce=R()(Q,Hv);return(0,C.jsx)("div",r()(r()({className:co()("nb-table-index"),style:{padding:"0 16px"}},Ce),{},{children:ve+1}))},np=function(){return{move:function(){return p()(x()().mark(function ve(){return x()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:case"end":return Ee.stop()}},ve)}))()}}},qc=(0,S.observer)(function(me){var Q,ve,Ce=(0,He.dQ)(),Ee=Ce.token,Fe=(0,S.useField)(),Ie=Xv(),Ne=me.dragSort,Ke=Ne===void 0?!1:Ne,ze=me.showIndex,Xe=ze===void 0?!0:ze,Ge=me.useSelectedRowKeys,st=Ge===void 0?Jv:Ge,nt=me.useDataSource,it=nt===void 0?qv:nt,lt=me.useAction,Et=lt===void 0?np:lt,Ut=me.onChange,At=R()(me,Gv),tn=st(),Qt=ye()(tn,2),on=Qt[0],Jt=Qt[1];it({onSuccess:function(Nn){Fe.value=(Nn==null?void 0:Nn.data)||[]}});var Xt=Et(),On=Xt.move,Hn={rowSelection:me.rowSelection?r()({type:"checkbox",selectedRowKeys:on,onChange:function(Nn){Jt(Nn)},getCheckboxProps:function(Nn){return{"aria-label":"checkbox-".concat(Nn.name)}},renderCell:function(Nn,Cn,pn,or){var vr,gr,Wn=me==null||(vr=me.pagination)===null||vr===void 0?void 0:vr.current,Xn=(me==null||(gr=me.pagination)===null||gr===void 0?void 0:gr.pageSize)||20;return Wn&&(pn=pn+(Wn-1)*Xn),(0,C.jsxs)("div",{className:co()(Nn?"checked":null,(0,pe.css)(Gc||(Gc=q()([`
                      position: relative;
                      display: flex;
                      align-items: center;
                      justify-content: space-evenly;
                      padding-right: 8px;
                      .nb-table-index {
                        opacity: 0;
                      }
                      &:not(.checked) {
                        .nb-table-index {
                          opacity: 1;
                        }
                      }
                      &:hover {
                        .nb-table-index {
                          opacity: 0;
                        }
                        .nb-origin-node {
                          display: block;
                        }
                      }
                    `])))),children:[(0,C.jsxs)("div",{className:co()(Nn?"checked":null,(0,pe.css)(Yc||(Yc=q()([`
                        position: relative;
                        display: flex;
                        align-items: center;
                        justify-content: space-evenly;
                      `])))),children:[Ke&&(0,C.jsx)(ep,{role:"button","aria-label":"sort-handle-".concat((Cn==null?void 0:Cn.name)||pn)}),Xe&&(0,C.jsx)(tp,{role:"button","aria-label":"table-index-".concat((Cn==null?void 0:Cn.name)||pn),index:pn})]}),(0,C.jsx)("div",{className:co()("nb-origin-node",Nn?"checked":null,(0,pe.css)(Xc||(Xc=q()([`
                        position: absolute;
                        right: 50%;
                        transform: translateX(50%);
                        &:not(.checked) {
                          display: none;
                        }
                      `])))),children:or})]})}},me.rowSelection):void 0},Zn=function(Nn){var Cn,pn;return(Cn=Fe.value)===null||Cn===void 0||(pn=Cn.indexOf)===null||pn===void 0?void 0:pn.call(Cn,Nn)};return(0,C.jsx)("div",{className:(0,pe.css)(Qc||(Qc=q()([`
          .ant-table {
            overflow-x: auto;
            overflow-y: hidden;
          }
        `]))),children:(0,C.jsx)(Zv,{handleSelector:".drag-handle",onDragEnd:function(){var Jn=p()(x()().mark(function Nn(Cn,pn){var or,vr;return x()().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:return or=Fe.value[Cn],vr=Fe.value[pn],Fe.move(Cn,pn),Wn.next=5,On(or,vr);case 5:case"end":return Wn.stop()}},Nn)}));return function(Nn,Cn){return Jn.apply(this,arguments)}}(),lineClassName:(0,pe.css)(Jc||(Jc=q()([`
            border-bottom: 2px solid `,` !important;
          `])),new Bi.C(Ee.colorSettings).setAlpha(.6).toHex8String()),children:(0,C.jsx)($s.Z,r()(r()(r()({rowKey:Zn},At),Hn),{},{components:Qv,columns:Ie,dataSource:Fe==null||(Q=Fe.value)===null||Q===void 0||(ve=Q.slice)===null||ve===void 0?void 0:ve.call(Q)}))})})},{displayName:"TableArray"}),rp=function(){return(0,C.jsx)(F.aN,{children:(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})})},ap=function(Q){var ve=(0,S.useField)();return(0,C.jsx)("div",{children:ve.title})},ip=e(29050),lp=e(70027),sp=function(Q){var ve,Ce,Ee=(0,w.eJ)(),Fe=(0,I.useCollectionManager_deprecated)(),Ie=Fe.getCollectionFields;if(!Q)return[];var Ne=Ie(Q);return Ne==null||(ve=Ne.filter)===null||ve===void 0||(ve=ve.call(Ne,function(Ke){return!(Ke!=null&&Ke.target)&&Ke.type!=="boolean"}))===null||ve===void 0||(Ce=ve.map)===null||Ce===void 0?void 0:Ce.call(ve,function(Ke){var ze;return{value:Ke.name,label:Ee((Ke==null||(ze=Ke.uiSchema)===null||ze===void 0?void 0:ze.title)||Ke.name)}})},up=function(Q){var ve,Ce,Ee=Q.uiSchema,Fe=Q.fieldSchema,Ie=Q.collectionField,Ne=(0,S.useField)(),Ke=(0,S.useFieldSchema)(),ze=(0,w.ng)(),Xe=ze.dn,Ge={title:Ke==null?void 0:Ke.title},st=sp(Ie==null?void 0:Ie.target);return(0,C.jsxs)(F.aN,{children:[(0,C.jsx)(F.D3,{title:"\u7F16\u8F91",schema:{title:"\u7F16\u8F91\u5B57\u6BB5","x-component":"Action.Modal","x-component-props":{width:520},"x-decorator":"Form","x-decorator-props":{initialValue:Ge},type:"void",properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:"\u5B57\u6BB5\u6807\u9898","x-component-props":{},description:"\u539F\u5B57\u6BB5\u6807\u9898\uFF1A".concat(Ie==null||(ve=Ie.uiSchema)===null||ve===void 0?void 0:ve.title)},footer:{type:"void","x-component":"Action.Modal.Footer",properties:{cancel:{type:"void",title:'{{t("Cancel")}}',"x-component":"Action","x-component-props":{useAction:function(){var it=(0,M.XC)();return{run:function(){return p()(x()().mark(function Et(){return x()().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:it.setVisible(!1);case 1:case"end":return At.stop()}},Et)}))()}}}}},submit:{type:"void",title:"Submit","x-component":"Action","x-component-props":{type:"primary",useAction:function(){var it=(0,S.useForm)(),lt=(0,M.XC)();return{run:function(){return p()(x()().mark(function Ut(){var At;return x()().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:At=it.values.title,At&&(Ne.title=At,Ke.title=At,Xe.emit("patch",{schema:{"x-uid":Ke["x-uid"],title:Ke.title}})),lt.setVisible(!1),Xe.refresh();case 4:case"end":return Qt.stop()}},Ut)}))()}}}}}}}}}}),(Ie==null?void 0:Ie.target)&&(0,C.jsx)(F.Qf,{title:"\u6807\u9898\u5B57\u6BB5",options:st,value:Fe==null||(Ce=Fe["x-component-props"])===null||Ce===void 0||(Ce=Ce.fieldNames)===null||Ce===void 0?void 0:Ce.label,onChange:function(it){var lt,Et=r()(r()({},(lt=Fe["x-component-props"])===null||lt===void 0?void 0:lt.fieldNames),{},{label:it});T().set(Fe,"x-component-props.fieldNames",Et),Ne.query(".*.".concat(Fe.name)).take(function(Ut){Ut.componentProps.fieldNames=Et}),Xe.emit("patch",{schema:{"x-uid":Fe["x-uid"],"x-component-props":{fieldNames:Et}}}),Xe.refresh()}}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},cp=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.name,Ce=Q.title;return(0,C.jsx)(F.aN,{title:Ce||ve,children:(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})})},ed=e(93876),td=e(69054),dp=function(Q){var ve=(0,S.useFieldSchema)(),Ce=(0,tr.IU)(ve["x-initializer"],ve["x-initializer-props"]),Ee=Ce.render,Fe=(0,td.z)(),Ie=Fe.getAriaLabel;return(0,C.jsx)("div",{className:"general-schema-designer",children:(0,C.jsx)("div",{className:"general-schema-designer-icons",children:(0,C.jsxs)(Dt.Z,{size:2,align:"center",children:[(0,C.jsx)(z.IWB,{children:(0,C.jsx)(ed.Z,{role:"button","aria-label":Ie("drag-handler")})}),Ee()]})})})},fp=function(Q,ve){var Ce,Ee;if(Q.pagination===!1)return!1;var Fe=Q.pagination||{};if(Q!=null&&(Ce=Q.request)!==null&&Ce!==void 0&&(Ce=Ce.params)!==null&&Ce!==void 0&&Ce.pageSize){var Ie;Fe.defaultPageSize=Q==null||(Ie=Q.request)===null||Ie===void 0||(Ie=Ie.params)===null||Ie===void 0?void 0:Ie.pageSize}if(!Fe.total&&ve!==null&&ve!==void 0&&(Ee=ve.data)!==null&&Ee!==void 0&&Ee.meta){var Ne=ve.data.meta,Ke=Ne.count,ze=Ne.page,Xe=Ne.pageSize;Fe.total=Ke,Fe.current=ze,Fe.pageSize=Xe}return r()(r()({showSizeChanger:!0},Fe),{},{onChange:function(st,nt){var it;ve==null||ve.run(r()(r()({},ve==null||(it=ve.params)===null||it===void 0?void 0:it[0]),{},{page:st,pageSize:nt}))}})},mp=function(Q){var ve=Q.request,Ce=Q.pagination,Ee=Q.dataSource;if(ve){if(Ce===!1)return ve;var Fe=(0,O.cloneDeep)(ve.params||{});return Fe.page||(Fe.page=(Ce==null?void 0:Ce.current)||(Ce==null?void 0:Ce.defaultCurrent)||1),Fe.pageSize||(Fe.pageSize=(Ce==null?void 0:Ce.pageSize)||(Ce==null?void 0:Ce.defaultPageSize)||10),ve.params=Fe,ve}return function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=Ie.page,Ke=Ne===void 0?1:Ne,ze=Ie.pageSize,Xe=ze===void 0?10:ze,Ge=(Ke-1)*Xe,st=Ge+Xe-1;return Promise.resolve({data:Ce===!1?Ee:Ee==null?void 0:Ee.slice(Ge,st+1),meta:{page:Ke,pageSize:Xe,count:(Ee==null?void 0:Ee.length)||0}})}},vp=function(Q,ve){return(0,ut.useRequest)(mp(ve),Q)},pp=function(){var Q,ve=(0,ut.useAsyncData)();return[ve==null||(Q=ve.state)===null||Q===void 0?void 0:Q.selectedRowKeys,function(Ce){var Ee;return ve==null||(Ee=ve.setState)===null||Ee===void 0?void 0:Ee.call(ve,{selectedRowKeys:Ce})}]},nd=(0,S.observer)(function(me){var Q=me.rowKey,ve=Q===void 0?"id":Q,Ce=me.useDataSource,Ee=Ce===void 0?vp:Ce,Fe=me.useSelectedRowKeys,Ie=Fe===void 0?pp:Fe,Ne=(0,S.useField)(),Ke=(0,S.useFieldSchema)(),ze=(0,o.useMemo)(function(){return(0,N.createForm)()},[]),Xe=(0,w.lI)(ze.createArrayField(r()(r()({},Ne.props),{},{basePath:""}))),Ge=Ee({uid:Ke["x-uid"],onSuccess:function(nt){var it,lt,Et,Ut;if(ze.setValues(oe()({},Ke.name,nt==null?void 0:nt.data)),(Ne==null||(it=Ne.componentProps)===null||it===void 0?void 0:it.pagination)!==!1){if(Ne.componentProps.pagination=Ne.componentProps.pagination||{},nt!=null&&(lt=nt.meta)!==null&&lt!==void 0&&lt.count){var At;Ne.componentProps.pagination.total=nt==null||(At=nt.meta)===null||At===void 0?void 0:At.count}Ne.componentProps.pagination.current=(nt==null||(Et=nt.meta)===null||Et===void 0?void 0:Et.page)||1,Ne.componentProps.pagination.pageSize=(nt==null||(Ut=nt.meta)===null||Ut===void 0?void 0:Ut.pageSize)||10}}},me);return(0,C.jsx)(ut.AsyncDataProvider,{value:Ge,children:(0,C.jsx)(S.FormContext.Provider,{value:ze,children:(0,C.jsx)(S.FieldContext.Provider,{value:Xe,children:(0,C.jsx)(qc,r()(r()({},me),{},{rowKey:ve,useSelectedRowKeys:Ie,loading:Ge==null?void 0:Ge.loading,pagination:fp(me,Ge)}))})})})},{displayName:"TableVoid"}),hp=function(Q){return(0,$e.isArr)(Q)?Q:(0,$e.isValid)(Q)?[Q]:[]},gp=(0,S.observer)(function(me){var Q=me.rowKey,ve=Q===void 0?"id":Q,Ce=me.objectValue,Ee=(0,S.useField)(),Fe=r()(r()({type:"checkbox"},me.rowSelection),{},{selectedRowKeys:hp(Ee.value).map(function(Ie){return St()(Ie)==="object"?Ie[ve]:Ie}),onChange:function(Ne,Ke){Fe.type==="checkbox"?me.onChange(Ce?Ke:Ne):me.onChange(ht()(Ce?Ke:Ne).shift())}});return(0,C.jsx)(nd,r()(r()({},me),{},{rowSelection:Fe}))},{displayName:"TableRowSelection"}),_p=function(){var Q,ve,Ce,Ee=(0,I.useCollection_deprecated)(),Fe=Ee.name,Ie=Ee.title,Ne=(0,S.useField)(),Ke=(0,S.useFieldSchema)(),ze=(0,Rr.useCollectionFilterOptions)(Fe),Xe=(0,Rr.useSortFields)(Fe),Ge=(0,I.useResourceActionContext)(),st=(0,ce.$)(),nt=st.t,it=(0,w.ng)(),lt=it.dn,Et=(Ke==null||(Q=Ke["x-decorator-props"])===null||Q===void 0||(Q=Q.request)===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.filter)||{},Ut=(Ke==null||(ve=Ke["x-decorator-props"])===null||ve===void 0||(ve=ve.request)===null||ve===void 0||(ve=ve.params)===null||ve===void 0?void 0:ve.sort)||[],At=Ut==null?void 0:Ut.map(function(Qt){return Qt.startsWith("-")?{field:Qt.substring(1),direction:"desc"}:{field:Qt,direction:"asc"}}),tn=(0,W.zy)();return(0,C.jsxs)(F.aN,{template:tn,title:Ie||Fe,children:[(0,C.jsx)(F.hj,{title:nt("Enable drag and drop sorting"),checked:Ne.decoratorProps.dragSort,onChange:function(on){var Jt,Xt;Ne.decoratorProps.dragSort=on,Ke["x-decorator-props"].dragSort=on,Ge.run(r()(r()({},(Jt=Ge.params)===null||Jt===void 0?void 0:Jt[0]),{},{sort:"sort"})),lt.emit("patch",{schema:(Xt={},oe()(Xt,"x-uid",Ke["x-uid"]),oe()(Xt,"x-decorator-props",Ke["x-decorator-props"]),Xt)})}}),(0,C.jsx)(F.B0,{title:"\u8BBE\u7F6E\u6570\u636E\u8303\u56F4",schema:{type:"object",title:"\u8BBE\u7F6E\u6570\u636E\u8303\u56F4",properties:{filter:{default:Et,title:"\u6570\u636E\u8303\u56F4",enum:ze,"x-component":"Filter","x-component-props":{}}}},onSubmit:function(on){var Jt,Xt,On=on.filter,Hn=Ne.decoratorProps.request.params||{};Hn.filter=On,Ne.decoratorProps.request.params=Hn,Ke["x-decorator-props"].request.params=Hn,Ge.run(r()(r()({},(Jt=Ge.params)===null||Jt===void 0?void 0:Jt[0]),{},{filter:On})),lt.emit("patch",{schema:(Xt={},oe()(Xt,"x-uid",Ke["x-uid"]),oe()(Xt,"x-decorator-props",Ke["x-decorator-props"]),Xt)})}}),(0,C.jsx)(F.B0,{title:nt("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:nt("Set default sorting rules"),properties:{sort:{type:"array",default:At,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:Xe,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:nt("ASC"),value:"asc"},{label:nt("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:nt("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(on){var Jt,Xt,On=on.sort,Hn=On.map(function(Jn){return Jn.direction==="desc"?"-".concat(Jn.field):Jn.field}),Zn=Ne.decoratorProps.request.params||{};Zn.sort=Hn,Ne.decoratorProps.request.params=Zn,Ke["x-decorator-props"].request.params=Zn,lt.emit("patch",{schema:(Jt={},oe()(Jt,"x-uid",Ke["x-uid"]),oe()(Jt,"x-decorator-props",Ke["x-decorator-props"]),Jt)}),Ge.run(r()(r()({},(Xt=Ge.params)===null||Xt===void 0?void 0:Xt[0]),{},{sort:Hn}))}}),(0,C.jsx)(F.Qf,{title:"\u6BCF\u9875\u663E\u793A",value:((Ce=Ne.decoratorProps.request.params)===null||Ce===void 0?void 0:Ce.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],onChange:function(on){var Jt,Xt,On=Ne.decoratorProps.request.params||{};On.pageSize=on,Ne.decoratorProps.request.params=On,Ke["x-decorator-props"].request.params=On,Ge.run(r()(r()({},(Jt=Ge.params)===null||Jt===void 0?void 0:Jt[0]),{},{pageSize:on})),lt.emit("patch",{schema:(Xt={},oe()(Xt,"x-uid",Ke["x-uid"]),oe()(Xt,"x-decorator-props",Ke["x-decorator-props"]),Xt)})}}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(X.G,{componentName:"Table",collectionName:Fe}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},ya=function(){return null};ya.Array=qc,ya.Void=nd,ya.Void.Designer=_p,ya.RowSelection=gp,ya.Column=ap,ya.Column.ActionBar=ip.p,ya.Column.Decorator=lp.h,ya.Column.Designer=up,ya.RowActionDesigner=dp,ya.Designer=cp,ya.Array.Designer=rp;var yp=function(Q){var ve=(0,S.useFieldSchema)(),Ce=(0,tr.IU)(ve["x-initializer"],ve["x-initializer-props"]),Ee=Ce.render,Fe=(0,td.z)(),Ie=Fe.getAriaLabel;return(0,C.jsx)("div",{className:"general-schema-designer",children:(0,C.jsx)("div",{className:"general-schema-designer-icons",children:(0,C.jsxs)(Dt.Z,{size:2,align:"center",children:[(0,C.jsx)(z.IWB,{children:(0,C.jsx)(ed.Z,{role:"button","aria-label":Ie("drag-handler")})}),Ee()]})})})},Cp=function(Q){var ve=(0,S.useField)();return(0,C.jsx)("div",{role:"button",children:ve.title})},bp=e(95686),_s=e(81230),xp=e(30970),Sp=function(Q){var ve=(0,xe.pW)();return(0,C.jsx)("div",{children:ve+1})},Pp=Vl,Ep=e(13845),ys=function(){var Q=(0,I.useCollection_deprecated)(),ve=Q.fields,Ce=(0,S.useField)(),Ee=(0,S.useFieldSchema)(),Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,w.ng)(),Ke=Ne.dn,ze=(0,z.eJW)(),Xe=(0,be.Si)(),Ge=Xe.service,st=ve.filter(function(nt){return!(nt!=null&&nt.target)&&nt.interface==="sort"}).map(function(nt){var it;return{value:nt==null?void 0:nt.name,label:ze(nt==null||(it=nt.uiSchema)===null||it===void 0?void 0:it.title)||(nt==null?void 0:nt.name)}});return(0,C.jsx)(F.Qf,{title:Ie("Drag and drop sorting field"),options:st,value:Ce.decoratorProps.dragSortBy,onChange:function(it){var lt,Et;Ee["x-decorator-props"].dragSortBy=it,Ge.run(r()(r()({},(lt=Ge.params)===null||lt===void 0?void 0:lt[0]),{},{sort:it})),Ce.decoratorProps.dragSortBy=it,Ke.emit("patch",{schema:(Et={},oe()(Et,"x-uid",Ee["x-uid"]),oe()(Et,"x-decorator-props",Ee["x-decorator-props"]),Et)}),Ke.refresh()}},"sort-field")},rd=function(){var Q,ve,Ce,Ee,Fe,Ie,Ne,Ke=(0,I.useCollection_deprecated)(),ze=Ke.name,Xe=Ke.title,Ge=(0,I.useCollectionManager_deprecated)(),st=Ge.getCollectionField,nt=Ge.getCollection,it=(0,S.useField)(),lt=(0,S.useFieldSchema)(),Et=(0,be.bz)(),Ut=Et.form,At=(0,Rr.useSortFields)(ze),tn=(0,be.Si)(),Qt=tn.service,on=(0,ce.$)(),Jt=on.t,Xt=(0,w.ng)(),On=Xt.dn,Hn=(lt==null||(Q=lt["x-decorator-props"])===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.sort)||[],Zn=(lt==null||(ve=lt["x-decorator-props"])===null||ve===void 0?void 0:ve.resource)||(lt==null||(Ce=lt["x-decorator-props"])===null||Ce===void 0?void 0:Ce.association),Jn=!(lt!=null&&(Ee=lt["x-decorator-props"])!==null&&Ee!==void 0&&Ee.disableTemplate),Nn=Hn==null?void 0:Hn.map(function(kn){return kn!=null&&kn.startsWith("-")?{field:kn.substring(1),direction:"desc"}:{field:kn,direction:"asc"}}),Cn=(0,W.zy)(),pn=(0,I.useCollection_deprecated)(),or=it.decoratorProps,vr=or.dragSort,gr=or.resource,Wn=gr&&st(gr),Xn=gr!=null&&gr.includes(".")?(Fe=nt(Wn==null?void 0:Wn.target))===null||Fe===void 0?void 0:Fe.tree:!!(pn!=null&&pn.tree),fn=(0,o.useCallback)(function(kn){var ur,Ln,sr,Ur=kn.filter;Ur=(0,he.Wm)(Ur);var Kr=it.decoratorProps.params||{};Kr.filter=Ur,it.decoratorProps.params=Kr,lt["x-decorator-props"].params=Kr;var Or=((ur=Qt.params)===null||ur===void 0||(ur=ur[1])===null||ur===void 0?void 0:ur.filters)||{};Qt.run(r()(r()({},(Ln=Qt.params)===null||Ln===void 0?void 0:Ln[0]),{},{filter:(0,K.EO)([].concat(ht()(Object.values(Or)),[Ur])),page:1}),{filters:Or}),On.emit("patch",{schema:(sr={},oe()(sr,"x-uid",lt["x-uid"]),oe()(sr,"x-decorator-props",lt["x-decorator-props"]),sr)})},[On,it.decoratorProps,lt,Qt]),Fn=(0,U.LY)();return(0,C.jsxs)(F.aN,{template:Cn,title:Xe||ze,children:[(0,C.jsx)(Gr._,{}),(pn==null?void 0:pn.tree)&&(Wn==null?void 0:Wn.collectionName)===(Wn==null?void 0:Wn.target)&&(0,C.jsx)(F.hj,{title:Jt("Tree table"),defaultChecked:!0,checked:Xn?it.decoratorProps.treeTable:!1,onChange:function(ur){var Ln;it.decoratorProps.treeTable=ur,lt["x-decorator-props"].treeTable=ur;var sr=r()(r()({},(Ln=Qt.params)===null||Ln===void 0?void 0:Ln[0]),{},{tree:ur?!0:null});On.emit("patch",{schema:lt}),On.refresh(),Qt.run(sr)}}),(0,C.jsx)(F.hj,{title:Jt("Enable drag and drop sorting"),checked:it.decoratorProps.dragSort,onChange:function(){var kn=p()(x()().mark(function ur(Ln){var sr,Ur,Kr;return x()().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:if(!(Ln&&Wn)){jr.next=5;break}return jr.next=3,Fn.resource("collections.fields",Wn.collectionName).update({filterByTk:Wn.name,values:{sortable:!0}});case 3:Ur=jr.sent,Kr=Ur.data;case 5:it.decoratorProps.dragSort=Ln,lt["x-decorator-props"].dragSort=Ln,On.emit("patch",{schema:(sr={},oe()(sr,"x-uid",lt["x-uid"]),oe()(sr,"x-decorator-props",lt["x-decorator-props"]),sr)});case 8:case"end":return jr.stop()}},ur)}));return function(ur){return kn.apply(this,arguments)}}()}),it.decoratorProps.dragSort&&(0,C.jsx)(ys,{}),(0,C.jsx)(Ae.H,{collectionName:ze,defaultFilter:(lt==null||(Ie=lt["x-decorator-props"])===null||Ie===void 0||(Ie=Ie.params)===null||Ie===void 0?void 0:Ie.filter)||{},form:Ut,onSubmit:fn}),!vr&&(0,C.jsx)(F.B0,{title:Jt("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:Jt("Set default sorting rules"),properties:{sort:{type:"array",default:Nn,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:At,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:Jt("ASC"),value:"asc"},{label:Jt("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:Jt("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(ur){var Ln,sr,Ur=ur.sort,Kr=Ur.map(function(jr){return jr.direction==="desc"?"-".concat(jr.field):jr.field}),Or=it.decoratorProps.params||{};Or.sort=Kr,it.decoratorProps.params=Or,lt["x-decorator-props"].params=Or,On.emit("patch",{schema:(Ln={},oe()(Ln,"x-uid",lt["x-uid"]),oe()(Ln,"x-decorator-props",lt["x-decorator-props"]),Ln)}),Qt.run(r()(r()({},(sr=Qt.params)===null||sr===void 0?void 0:sr[0]),{},{sort:Kr}))}}),(0,C.jsx)(Xr.jI,{}),(0,C.jsx)(F.Qf,{title:Jt("Records per page"),value:((Ne=it.decoratorProps)===null||Ne===void 0||(Ne=Ne.params)===null||Ne===void 0?void 0:Ne.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],onChange:function(ur){var Ln,sr,Ur=it.decoratorProps.params||{};Ur.pageSize=ur,it.decoratorProps.params=Ur,lt["x-decorator-props"].params=Ur,Qt.run(r()(r()({},(Ln=Qt.params)===null||Ln===void 0?void 0:Ln[0]),{},{pageSize:ur,page:1})),On.emit("patch",{schema:(sr={},oe()(sr,"x-uid",lt["x-uid"]),oe()(sr,"x-decorator-props",lt["x-decorator-props"]),sr)})}}),(0,C.jsx)(Ep.F,{type:K.vC.TABLE,emptyDescription:Jt("No blocks to connect")}),Jn&&(0,C.jsx)(F.Z5,{}),Jn&&(0,C.jsx)(X.G,{componentName:"Table",collectionName:ze,resourceName:Zn}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},Cs=(0,S.observer)(function(me){var Q=(0,S.useFieldSchema)(),ve=(0,I.useCollection_deprecated)(),Ce=ve.getField,Ee=(0,S.useField)(),Fe=Ce(Q.name),Ie=(0,w.eJ)(),Ne=(0,be.bz)();return(0,o.useEffect)(function(){if(!Ee.title){var Ke;Ee.title=Ie(Fe==null||(Ke=Fe.uiSchema)===null||Ke===void 0?void 0:Ke.title)}Ne!=null&&Ne.field&&(Ne.field.added=Ne.field.added||new Set,Ne.field.added.add(Q.name))},[]),(0,o.useEffect)(function(){Ee.decoratorProps.asterisk=Q.required},[Q.required]),(0,C.jsx)("div",{children:me.children})},{displayName:"TableField"});Cs.ActionBar=(0,S.observer)(function(me){var Q=(0,S.useForm)();return Q.readPretty?null:(0,C.jsx)("div",{style:{marginBottom:8,marginTop:-32},children:(0,C.jsx)(M.ol,r()({},me))})},{displayName:"TableField.ActionBar"});var od=e(22691),ad=function(){var Q,ve,Ce,Ee=(0,I.useCollection_deprecated)(),Fe=Ee.name,Ie=Ee.title,Ne=(0,I.useCollectionManager_deprecated)(),Ke=Ne.getCollectionJoinField,ze=Ne.getAllCollectionsInheritChain,Xe=(0,S.useField)(),Ge=(0,S.useFieldSchema)(),st=(0,be.bz)(),nt=st.form,it=(0,Rr.useSortFields)(Fe),lt=(0,be.CL)(),Et=lt.service,Ut=lt.extraFilter,At=(0,ce.$)(),tn=At.t,Qt=(0,w.ng)(),on=Qt.dn,Jt=(Ge==null||(Q=Ge["x-decorator-props"])===null||Q===void 0||(Q=Q.params)===null||Q===void 0?void 0:Q.sort)||[],Xt=(0,Lo.br)(Ge,"CollectionField"),On=Ke(Xt==null?void 0:Xt["x-collection-field"]),Hn=Jt==null?void 0:Jt.map(function(Wn){return Wn.startsWith("-")?{field:Wn.substring(1),direction:"desc"}:{field:Wn,direction:"asc"}}),Zn=(0,W.zy)(),Jn=(0,I.useCollection_deprecated)(),Nn=Xe.decoratorProps.dragSort,Cn=(0,xe.a)(),pn=(0,ge.OQ)(),or=(0,o.useContext)(na.b7),vr=or.currentFormCollection,gr=(0,ge.Kp)({collectionName:vr});return(0,C.jsxs)(F.aN,{template:Zn,title:Ie||Fe,disableInitializer:!0,children:[(0,C.jsx)(Ae.H,{defaultFilter:(Ge==null||(ve=Ge["x-decorator-props"])===null||ve===void 0||(ve=ve.params)===null||ve===void 0?void 0:ve.filter)||{},form:nt,onSubmit:function(Xn){var fn,Fn,kn=Xn.filter;kn=(0,he.Wm)(kn);var ur=Xe.decoratorProps.params||{};ur.filter=kn,Xe.decoratorProps.params=ur,Ge["x-decorator-props"].params=ur;var Ln=T().cloneDeep(kn);Ut&&(Ln?Ln={$and:[Ut,Ln]}:Ln=Ut),Et.run(r()(r()({},(fn=Et.params)===null||fn===void 0?void 0:fn[0]),{},{filter:Ln,page:1})),on.emit("patch",{schema:(Fn={},oe()(Fn,"x-uid",Ge["x-uid"]),oe()(Fn,"x-decorator-props",Ge["x-decorator-props"]),Fn)})},collectionName:Fe,dynamicComponent:function(Xn){return(0,C.jsx)(od.qj,r()(r()({},Xn),{},{form:nt,collectionField:Xn.collectionField,record:Cn,shouldChange:(0,od.Vc)({collectionField:Xn.collectionField,variables:pn,localVariables:gr,getAllCollectionsInheritChain:ze}),currentFormCollectionName:vr,currentIterationCollectionName:On.collectionName}))}}),(Jn==null?void 0:Jn.tree)&&(On==null?void 0:On.target)===(On==null?void 0:On.collectionName)&&(0,C.jsx)(F.hj,{title:tn("Tree table"),defaultChecked:!0,checked:Xe.decoratorProps.treeTable,onChange:function(Xn){var fn;Xe.form.clearFormGraph("".concat(Xe.address,".*")),Xe.decoratorProps.treeTable=Xn,Ge["x-decorator-props"].treeTable=Xn;var Fn=r()(r()({},(fn=Et.params)===null||fn===void 0?void 0:fn[0]),{},{tree:Xn?!0:null});on.emit("patch",{schema:Ge}),on.refresh(),Et.run(Fn)}}),(0,C.jsx)(Xr.jI,{}),!Nn&&(0,C.jsx)(F.B0,{title:tn("Set default sorting rules"),components:{ArrayItems:L.ArrayItems},schema:{type:"object",title:tn("Set default sorting rules"),properties:{sort:{type:"array",default:Hn,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:it,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:tn("ASC"),value:"asc"},{label:tn("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:tn("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(Xn){var fn,Fn,kn=Xn.sort,ur=kn.map(function(sr){return sr.direction==="desc"?"-".concat(sr.field):sr.field}),Ln=Xe.decoratorProps.params||{};Ln.sort=ur,Xe.decoratorProps.params=Ln,Ge["x-decorator-props"].params=Ln,on.emit("patch",{schema:(fn={},oe()(fn,"x-uid",Ge["x-uid"]),oe()(fn,"x-decorator-props",Ge["x-decorator-props"]),fn)}),Et.run(r()(r()({},(Fn=Et.params)===null||Fn===void 0?void 0:Fn[0]),{},{sort:ur}))}}),(0,C.jsx)(F.Qf,{title:tn("Records per page"),value:((Ce=Xe.decoratorProps)===null||Ce===void 0||(Ce=Ce.params)===null||Ce===void 0?void 0:Ce.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],onChange:function(Xn){var fn,Fn,kn=Xe.decoratorProps.params||{};kn.pageSize=Xn,Xe.decoratorProps.params=kn,Ge["x-decorator-props"].params=kn,Et.run(r()(r()({},(fn=Et.params)===null||fn===void 0?void 0:fn[0]),{},{pageSize:Xn,page:1})),on.emit("patch",{schema:(Fn={},oe()(Fn,"x-uid",Ge["x-uid"]),oe()(Fn,"x-decorator-props",Ge["x-decorator-props"]),Fn)})}}),(0,C.jsx)(F.Z5,{}),(0,C.jsx)(F.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},Ta=Vl;Ta.Column=Cp,Ta.Column.ActionBar=bp.p,Ta.Column.Decorator=_s.h,Ta.Column.Designer=xp._E,Ta.ActionColumnDesigner=yp,Ta.Selector=Pp,Ta.Index=Sp;var Dp=e(98146),Hi=e(47204),Mp=e(85438),Ap=function(Q){var ve=Q.confirm,Ce=Q.removeParentsIfNoChildren,Ee=Q.breakRemoveOn,Fe=(0,ut.useSchemaSettings)(),Ie=Fe.dn,Ne=Fe.template,Ke=(0,ce.$)(),ze=Ke.t,Xe=(0,S.useField)(),Ge=(0,S.useFieldSchema)(),st=(0,Mp.r)(),nt=(0,S.useForm)(),it=bi.Z.useApp(),lt=it.modal,Et=(0,ut.useFormActiveFields)()||{},Ut=Et.removeActiveFieldName,At=(0,ut.useFilterBlock)(),tn=At.removeDataBlock,Qt=(0,oo.useLocation)(),on=(0,Ei.ld)((0,ti.bP)(Qt)),Jt=(0,oo.useLocation)(),Xt=Jt.pathname,On=(0,ut.useNavigateNoUpdate)();return(0,C.jsx)(ut.SchemaSettingsItem,{title:"Delete",eventKey:"remove",onClick:function(){lt.confirm(r()(r()({title:ze("Delete block"),content:ze("Are you sure you want to delete it?")},ve),{},{onOk:function(){return p()(x()().mark(function Jn(){var Nn,Cn,pn,or,vr;return x()().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:if(pn={removeParentsIfNoChildren:Ce,breakRemoveOn:Ee},Xe!=null&&Xe.required&&(Xe.required=!1,Ge.required=!1),!(Ne&&Ne.uid===Ge["x-uid"]&&st!==null&&st!==void 0&&st.dn)){Wn.next=7;break}return Wn.next=5,st==null?void 0:st.dn.remove(null,pn);case 5:Wn.next=9;break;case 7:return Wn.next=9,Ie.remove(null,pn);case 9:return Wn.next=11,ve==null||(Nn=ve.onOk)===null||Nn===void 0?void 0:Nn.call(ve);case 11:delete nt.values[Ge.name],Ut==null||Ut(Ge.name),nt==null||nt.query(new RegExp("".concat(Ge.parent.name,".").concat(Ge.name,"$"))).forEach(function(Xn){var fn;(fn=Xn.setValue)===null||fn===void 0||fn.call(Xn,void 0)}),tn(Ge["x-uid"]),Ge.name===(on==null||(Cn=on[0])===null||Cn===void 0?void 0:Cn.tab)&&(vr=Object.keys((Ge==null||(or=Ge.parent)===null||or===void 0?void 0:or.properties)||{}),vr.length>0&&On(Xt.replace(/\/[^\/]+$/,"/".concat(vr[0])),{replace:!0}));case 16:case"end":return Wn.stop()}},Jn)}))()}}))},children:ze("Delete")})},Op=function(){var Q=(0,S.useField)(),ve=(0,S.useFieldSchema)(),Ce=(0,z.ngQ)(),Ee=Ce.dn,Fe=(0,ce.$)(),Ie=Fe.t;return(0,C.jsxs)(ut.GeneralSchemaDesigner,{disableInitializer:!0,children:[(0,C.jsx)(ut.SchemaSettingsModalItem,{title:Ie("Edit"),schema:{type:"object",title:Ie("Edit tab"),properties:{title:{title:Ie("Tab name"),required:!0,"x-decorator":"FormItem","x-component":"Input","x-component-props":{}},icon:{title:Ie("Icon"),"x-decorator":"FormItem","x-component":"IconPicker","x-component-props":{}}}},initialValues:{title:Q.title,icon:Q.componentProps.icon},onSubmit:function(Ke){var ze,Xe=Ke.title,Ge=Ke.icon,st=ve["x-component-props"]||{};ve.title=Xe,Q.title=Xe,st.icon=Ge,Q.componentProps.icon=Ge,ve["x-component-props"]=ve["x-component-props"]||{},ve["x-component-props"].icon=Ge,Ee.emit("patch",{schema:(ze={},oe()(ze,"x-uid",ve["x-uid"]),oe()(ze,"title",Xe),oe()(ze,"x-component-props",st),ze)}),Ee.refresh()}},"edit"),(0,C.jsx)(ut.SchemaSettingsThemeEditItem,{title:Ie("Tabs page theme")}),(0,C.jsx)(ut.SchemaSettingsDivider,{}),(0,C.jsx)(Ap,{})]})},id,Al=(0,S.observer)(function(me){var Q,ve=(0,S.useFieldSchema)(),Ce=(0,tr.IU)(ve["x-initializer"],ve["x-initializer-props"]),Ee=Ce.render,Fe=(0,Hi.g)(),Ie=Fe.PaneRoot,Ne=Ie===void 0?o.Fragment:Ie,Ke=(0,o.useState)(((Q=Object.values((ve==null?void 0:ve.properties)||{})[0])===null||Q===void 0?void 0:Q.name)||""),ze=ye()(Ke,2),Xe=ze[0],Ge=ze[1],st=(0,ut.useAPIClient)(),nt=st.auth.getOption("theme"),it={};ve.mapProperties(function(Et){var Ut;Et.name===Xe&&(Ut=JSON.parse(nt))!==null&&Ut!==void 0&&Ut.overridable&&(it=Et)});var lt=(0,o.useMemo)(function(){var Et=ve.mapProperties(function(Ut,At){return{key:At,label:(0,C.jsx)(S.RecursionField,{name:At,schema:Ut,onlyRenderSelf:!0}),children:(0,C.jsx)(Ne,r()(r()({},Ne!==o.Fragment?{active:At===Fe.activeKey}:{}),{},{children:(0,C.jsx)(D.n6,{name:At,schema:Ut,onlyRenderProperties:!0,distributed:!0})}),At)}});return Et},[ve.mapProperties(function(Et,Ut){return Ut}).join()]);return(0,C.jsx)(y.DndContext,{children:(0,C.jsx)(lo._w,{schema:it,children:(0,C.jsx)(ta.Z,r()(r()({},Fe),{},{destroyInactiveTabPane:!0,tabBarExtraContent:{right:Ee(),left:Fe==null?void 0:Fe.tabBarExtraContent},onTabClick:Ge,style:me.style,items:lt}))})})},{displayName:"Tabs"}),Ip=(0,pe.css)(id||(id=q()([`
  position: relative;
  &:hover {
    > .general-schema-designer {
      display: block;
    }
  }
  &.nb-action-link {
    > .general-schema-designer {
      top: -10px;
      bottom: -10px;
      left: -10px;
      right: -10px;
    }
  }
  > .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover);
    border: 0;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`])));Al.TabPane=(0,S.observer)(function(me){var Q=(0,Dp.e)(),ve=(0,S.useField)();return(0,C.jsxs)(y.SortableItem,{className:co()("nb-action-link",Ip,me.className),children:[me.icon&&(0,C.jsx)(Ye.JO,{style:{marginRight:2},type:me.icon})," ",me.tab||ve.title,(0,C.jsx)(Q,{})]})},{displayName:"Tabs.TabPane"}),Al.Designer=Op;var Tp=e(46073),ld=e(68351),sd=function(Q){var ve=Q.value,Ce=Q.format,Ee=Ce===void 0?"HH:mm:ss":Ce,Fe=(0,$l.F)("description-text",Q),Ie=(0,$e.toArr)(ve),Ne=function(){var ze=Ie.map(function(Xe){return et()(Xe,"HH:mm:ss").format(Ee)});return ze.join("~")};return(0,C.jsx)("div",{className:co()(Fe,Q.className),style:Q.style,children:Ne()})},ud=function(){return function(Q,ve){var Ce=Q.format||"HH:mm:ss",Ee=Q.onChange;return r()(r()({},Q),{},{format:Ce,value:Q.value?et()(Q.value,"HH:mm:ss"):null,onChange:function(Ie){Ee&&Ee((0,Tp.U)(Ie,"HH:mm:ss")||null)}})}},bs=(0,S.connect)(ld.Z,(0,S.mapProps)(ud()),(0,S.mapReadPretty)(sd));bs.RangePicker=(0,S.connect)(ld.Z.RangePicker,(0,S.mapProps)(ud()),(0,S.mapReadPretty)(sd));var C0=null,Fp=(0,S.observer)(function(me){var Q,ve,Ce=(0,S.useField)(),Ee=me.placeholder,Fe=(0,$l.F)("description-tree-select",me),Ie=Ce!=null&&(Q=Ce.dataSource)!==null&&Q!==void 0&&Q.length?Ce.dataSource:me!=null&&(ve=me.treeData)!==null&&ve!==void 0&&ve.length?me.treeData:[],Ne=function(){var Ge=me.value;return me.multiple?me.labelInValue?(0,$e.isArr)(Ge)?Ge:[]:(0,$e.isArr)(Ge)?Ge.map(function(st){return{label:st,value:st}}):[]:me.labelInValue?Ge?[Ge]:[]:Ge?[{label:Ge,value:Ge}]:[]},Ke=function Xe(Ge,st){for(var nt=0;nt<(st==null?void 0:st.length);nt++){var it=st[nt];if((it==null?void 0:it.value)===Ge)return it==null?void 0:it.label;var lt=Xe(Ge,it==null?void 0:it.children);if(lt)return lt}},ze=function(){var Ge=Ne();return Ge!=null&&Ge.length?Ge.map(function(st,nt){var it=st.value,lt=st.label;return(0,C.jsx)(Mt.Z,{children:Ke(it,Ie)||lt||Ee},nt)}):(0,C.jsx)(Mt.Z,{children:Ee})};return(0,C.jsx)("div",{className:co()(Fe,me.className),style:me.style,children:ze()})},{displayName:"ReadPretty"}),cd=(0,S.connect)(zn.Z,(0,S.mapProps)({dataSource:"treeData"},function(me,Q){return r()(r()({},me),{},{suffixIcon:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffixIcon})}),(0,S.mapReadPretty)(Fp)),b0=null,Rp=e(56935),xs=e(75991),dd=e(83146),Ss=e(40932),jp=e(44951),Ol=e(82422),Bp=["title","subTitle"],Gi=(0,S.connect)(function(me){return(0,C.jsx)(xs.Z,r()({},(0,Ss.NP)(me)))},(0,S.mapProps)({value:"fileList"}),(0,S.mapReadPretty)(dd.i.Upload));Gi.Attachment=(0,S.connect)(jp.ZP,(0,S.mapReadPretty)(dd.i.File)),Gi.Dragger=(0,S.connect)(function(me){var Q=me.tipContent;return(0,C.jsx)("div",{children:(0,C.jsxs)(xs.Z.Dragger,r()(r()({},(0,Ss.NP)(me)),{},{children:[Q,me.children]}))})},(0,S.mapProps)({value:"fileList"})),Gi.DraggerV2=(0,J.t)((0,S.connect)(function(me){var Q=(0,ce.$)(),ve=Q.t,Ce=ve("Click or drag file to this area to upload"),Ee=ve("Support for a single or bulk upload"),Fe=(0,S.useForm)(),Ie=(0,Kt.w)(me),Ne=Ie.title,Ke=Ne===void 0?Ce:Ne,ze=Ie.subTitle,Xe=ze===void 0?Ee:ze,Ge=R()(Ie,Bp),st=(0,o.useState)(!1),nt=ye()(st,2),it=nt[0],lt=nt[1],Et=function(){var At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],tn=Ge.onChange;tn==null||tn(At);var Qt=At.some(function(on){return on.status==="uploading"});lt(Qt),Object.values(Fe.fields).forEach(function(on){on.componentType==="Action"&&(on.disabled=Qt)})};return(0,C.jsx)("div",{children:(0,C.jsxs)(xs.Z.Dragger,r()(r()({},(0,Ss.NP)(r()(r()(r()({},me),Ge),{},{onChange:Et}))),{},{children:[(0,C.jsx)("p",{children:it?(0,C.jsx)(Tt.Z,{style:{fontSize:36},spin:!0}):(0,C.jsx)(Rp.Z,{})}),(0,C.jsx)("p",{children:Ke}),(0,C.jsx)("p",{children:Xe})]}))})},(0,S.mapProps)({value:"fileList"})),{displayName:"Upload.DraggerV2"});var x0=null,vi=e(95276),fd=function(Q,ve){return Q?Lp(Q,ve):null};function Lp(me){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"millisecond";return Q==="second"&&(me*=1e3),et()(me)}function Up(me){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"millisecond";return Q==="second"?et()(me).unix():et()(me).valueOf()}var md=(0,S.connect)(function(me){var Q=me.value,ve=me.onChange,Ce=me.accuracy,Ee=(0,o.useMemo)(function(){return fd(Q,Ce)},[Q]);return(0,C.jsx)(Na.Mt,r()(r()({},me),{},{value:Ee,onChange:function(Ie){ve&&ve(Up(Ie,Ce))}}))},(0,S.mapReadPretty)(function(me){var Q=me.value,ve=me.accuracy,Ce=(0,o.useMemo)(function(){return fd(Q,ve)},[Q]);return(0,C.jsx)(Na.Mt.ReadPretty,r()(r()({},me),{},{value:Ce}))})),wp=function(Q){return crypto.getRandomValues(new Uint8Array(Q))},Np=function(Q,ve,Ce){var Ee=(2<<Math.log(Q.length-1)/Math.LN2)-1,Fe=-~(1.6*Ee*ve/Q.length);return function(){for(var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve,Ne="";;)for(var Ke=Ce(Fe),ze=Fe;ze--;)if(Ne+=Q[Ke[ze]&Ee]||"",Ne.length===Ie)return Ne}},kp=function(Q){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:21;return Np(Q,ve,wp)},S0=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(Q)).reduce(function(ve,Ce){return Ce&=63,Ce<36?ve+=Ce.toString(36):Ce<62?ve+=(Ce-26).toString(36).toUpperCase():Ce>62?ve+="-":ve+="_",ve},"")},vd=Object.assign((0,S.connect)(Dn.Z,(0,S.mapProps)(function(me,Q){var ve=(0,Lt.Hy)()||{size:21},Ce=ve.size,Ee=ve.customAlphabet,Fe=(0,ce.$)(),Ie=Fe.t,Ne=(0,S.useForm)();function Ke(ze){if((ze==null?void 0:ze.length)!==Ce)return Ie("Field value size is")+" ".concat(Ce||21);for(var Xe=0;Xe<ze.length;Xe++)if((Ee==null?void 0:Ee.indexOf(ze[Xe]))===-1)return Ie("Field value do not meet the requirements")}return(0,o.useEffect)(function(){!Q.initialValue&&Ee&&Q.setInitialValue(kp(Ee,Ce)()),Ne.setFieldState(Q.props.name,function(ze){ze.validator=Ke})},[]),r()(r()({},me),{},{suffix:(0,C.jsx)("span",{children:Q!=null&&Q.loading||Q!=null&&Q.validating?(0,C.jsx)(Tt.Z,{}):me.suffix})})}),(0,S.mapReadPretty)(la.iV.Input)),{ReadPretty:la.iV.Input}),pd=function(){var Q=(0,S.useForm)(),ve=(0,U.LY)(),Ce=(0,o.useState)(!1),Ee=ye()(Ce,2),Fe=Ee[0],Ie=Ee[1],Ne=(0,o.useState)(""),Ke=ye()(Ne,2),ze=Ke[0],Xe=Ke[1],Ge=(0,o.useState)(!0),st=ye()(Ge,2),nt=st[0],it=st[1],lt=(0,o.useState)(!0),Et=ye()(lt,2),Ut=Et[0],At=Et[1],tn=(0,o.useState)(!1),Qt=ye()(tn,2),on=Qt[0],Jt=Qt[1],Xt=(0,o.useRef)((0,$e.uid)()),On=(0,je.d)(),Hn=On.token,Zn=function(){var Wn=p()(x()().mark(function Xn(){var fn,Fn,kn;return x()().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:return Ln.prev=0,Ln.next=3,ve.request({url:"googleRecaptcha:get"});case 3:return Fn=Ln.sent,kn=(Fn==null||(fn=Fn.data)===null||fn===void 0||(fn=fn.data)===null||fn===void 0?void 0:fn.status)||!1,Ie(kn),Ln.abrupt("return",kn);case 9:return Ln.prev=9,Ln.t0=Ln.catch(0),Ie(!1),Ln.abrupt("return",!1);case 13:case"end":return Ln.stop()}},Xn,null,[[0,9]])}));return function(){return Wn.apply(this,arguments)}}(),Jn=function(){var Wn=p()(x()().mark(function Xn(){var fn,Fn,kn;return x()().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:return Ln.prev=0,Ln.next=3,ve.request({url:"google:getSiteKey",method:"get"});case 3:Fn=Ln.sent,kn=Fn==null||(fn=Fn.data)===null||fn===void 0?void 0:fn.data,Xe(kn),Ln.next=11;break;case 8:Ln.prev=8,Ln.t0=Ln.catch(0),Xe("");case 11:case"end":return Ln.stop()}},Xn,null,[[0,8]])}));return function(){return Wn.apply(this,arguments)}}(),Nn=function(){var Wn=p()(x()().mark(function Xn(){var fn;return x()().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:return kn.next=2,Zn();case 2:fn=kn.sent,fn&&Jn();case 4:case"end":return kn.stop()}},Xn)}));return function(){return Wn.apply(this,arguments)}}(),Cn=function(Xn){Object.values(Q.fields).forEach(function(fn){fn.componentType==="Action"&&fn.setData({isRobot:Xn})})},pn=function(){var Wn=p()(x()().mark(function Xn(fn){return x()().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:return kn.abrupt("return",!1);case 1:case"end":return kn.stop()}},Xn)}));return function(fn){return Wn.apply(this,arguments)}}(),or=(0,o.useCallback)(function(){var Wn=p()(x()().mark(function Xn(fn){var Fn,kn;return x()().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:return Ln.next=2,pn(fn);case 2:Fn=Ln.sent,At(Fn),Fn&&((kn=window.grecaptcha)===null||kn===void 0||kn.reset(),Yr.ZP.error("Please verify the capture"));case 5:case"end":return Ln.stop()}},Xn)}));return function(Xn){return Wn.apply(this,arguments)}}(),[]),vr=function(){var Xn;(Xn=window.grecaptcha)===null||Xn===void 0||Xn.reset(),Cn(!0)},gr=function(){Cn(!1),it(!1)};return(0,o.useEffect)(function(){var Wn=Fe&&ze&&Ut;Cn(Wn)},[Fe,ze,Ut]),(0,o.useEffect)(function(){var Wn=function Xn(){Cn(!0);var fn=window.grecaptcha;fn!=null&&fn.render?fn.render(Xt.current,{sitekey:ze,callback:or,"expired-callback":vr,"error-callback":gr}):(Cn(!1),setTimeout(Xn,500))};ze&&on&&Wn()},[ze,on]),(0,o.useEffect)(function(){Nn();var Wn=document.createElement("script");return Wn.src="//recaptcha.net/recaptcha/api.js",Wn.async=!0,Wn.onload=function(){Jt(!0)},document.body.appendChild(Wn),function(){document.body.removeChild(Wn),Cn(!1)}},[]),!Fe||!ze||!nt?null:(0,C.jsx)("div",{id:Xt.current,style:{margin:"".concat(Hn.marginSM,"px 0")}})}},58812:function(se,j,e){"use strict";e.d(j,{B:function(){return i}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(55241),d=e(67294),h=e(85893),t=function(f){if(f){var l=document.createRange();l.selectNodeContents(f);var n=l.getBoundingClientRect().width;return n}},c={overflow:"hidden",overflowWrap:"break-word",textOverflow:"ellipsis",whiteSpace:"nowrap",wordBreak:"break-all"},i=(0,d.forwardRef)(function(a,f){var l=(0,d.useState)(!1),n=u()(l,2),r=n[0],o=n[1],g=(0,d.useState)(!1),y=u()(g,2),D=y[0],P=y[1],E=(0,d.useRef)();(0,d.useImperativeHandle)(f,function(){return{setPopoverVisible:P}});var O=(0,d.useCallback)(function(){var $;if(!E.current)return!1;var Z=t(E.current),K=($=E.current)===null||$===void 0?void 0:$.offsetWidth;return Z>K},[E.current]),T=(0,d.useMemo)(function(){return a.ellipsis?(0,h.jsx)("div",{ref:E,style:m()({},c),onMouseEnter:function(Z){var K=Z.target,z=O();z&&o(K.scrollWidth>=K.clientWidth)},children:a.children}):a.children},[a.children,a.ellipsis]);if(!a.ellipsis||!r)return T;var S=a.popoverContent;return(0,h.jsx)(p.Z,{open:r&&D,onOpenChange:function(Z){P(r&&Z)},content:(0,h.jsx)("div",{style:{width:300,overflow:"auto",maxHeight:400},children:S||a.children}),children:T})});i.displayName="EllipsisWithTooltip"},96157:function(se,j,e){"use strict";e.d(j,{BQ:function(){return S.B},gs:function(){return $.g},II:function(){return oe},mX:function(){return w},Ph:function(){return y},pr:function(){return ge},iV:function(){return w}});var v=e(97857),m=e.n(v),x=e(54494),u=e(94350),p=e(69677),d=e(67294),h=e(5574),t=e.n(h),c=e(13769),i=e.n(c),a=e(68400),f=e.n(a),l=e(97133),n=e(85893),r=["value","onChange","space"],o,g=(0,l.css)(o||(o=f()([`
  font-size: 80%;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
`]))),y=d.forwardRef(function(he,Pe){var Ae=he.value,Be=he.onChange,Le=he.space,Me=Le===void 0?2:Le,Te=i()(he,r),we=(0,u.useField)(),Ue=(0,d.useState)(""),je=t()(Ue,2),De=je[0],ye=je[1];return(0,d.useEffect)(function(){try{Ae!=null?ye(JSON.stringify(Ae,null,Me)):ye(void 0)}catch(_e){}},[Me,JSON.stringify(Ae)]),(0,n.jsx)(p.Z.TextArea,m()(m()({},Te),{},{className:(0,l.cx)(g,Te.className),ref:Pe,value:De,onChange:function(q){ye(q.target.value);try{var pe=q.target.value.trim()!==""?JSON.parse(q.target.value):null;q.target.value.trim()!==""&&JSON.parse(q.target.value),we.setFeedback({})}catch(Re){we.setFeedback({type:"error",code:"JSONSyntaxError",messages:[Re.message]})}},onBlur:function(q){try{var pe=q.target.value.trim()!==""?JSON.parse(q.target.value):null;we.setFeedback({}),Be==null||Be(pe)}catch(Re){we.setFeedback({type:"error",code:"JSONSyntaxError",messages:[Re.message]})}}}))});y.displayName="Json";var D=e(65078),P=e(48997),E=e(51271),O=e(94184),T=e.n(O),S=e(58812),$=e(27754),Z=e(3329),K=e(81560),z,w=function(){return null};w.Input=function(he){var Pe=(0,D.F)("description-input",he),Ae=(0,Z.eJ)();return(0,n.jsxs)("div",{className:T()(Pe,he.className),style:he.style,children:[he.addonBefore,he.prefix,(0,n.jsx)(S.B,{ellipsis:he.ellipsis,children:Ae(he.value)}),he.suffix,he.addonAfter]})},w.TextArea=function(he){var Pe,Ae=(0,D.F)("description-textarea",he),Be=(0,Z.eJ)(),Le=Be((Pe=he.value)!==null&&Pe!==void 0?Pe:""),Me=he.autop,Te=Me===void 0?!0:Me,we=he.ellipsis,Ue=he.text,je=(0,n.jsx)("div",{style:{lineHeight:1.612},dangerouslySetInnerHTML:{__html:(0,$.g)(Le).split(`
`).join("<br/>")}}),De=we?(0,n.jsx)(S.B,{ellipsis:we,popoverContent:Te?je:Le,children:Ue||Le}):Te?je:Le;return(0,n.jsxs)("div",{className:T()(Ae,he.className),style:m()({overflowWrap:"break-word"},he.style),children:[he.addonBefore,he.prefix,De,he.suffix,he.addonAfter]})};function A(he){var Pe=document.createElement("div");Pe.innerHTML=he;var Ae=Pe.innerText;return(Ae==null?void 0:Ae.replace(/[\n\r]/g,""))||""}w.Html=function(he){var Pe,Ae=(0,D.F)("description-textarea",he),Be=(0,Z.eJ)(),Le=Be((Pe=he.value)!==null&&Pe!==void 0?Pe:""),Me=he.autop,Te=Me===void 0?!0:Me,we=he.ellipsis,Ue=(0,n.jsx)("div",{style:{lineHeight:"1.42"},dangerouslySetInnerHTML:{__html:Le}}),je=A(Le),De=(0,n.jsx)(S.B,{ellipsis:we,popoverContent:Te?Ue:Le,children:we?je:Ue});return(0,n.jsxs)("div",{className:T()(Ae,he.className),style:m()({overflowWrap:"break-word"},he.style),children:[he.addonBefore,he.prefix,De,he.suffix,he.addonAfter]})},w.URL=function(he){var Pe=(0,D.F)("description-url",he),Ae=he.display,Be=Ae===void 0?K.d1.DEFAULT:Ae,Le=he.value&&(0,n.jsx)(P.Z.Link,{ellipsis:!0,target:"_blank",href:he.value,children:he.value});return(0,n.jsxs)("div",{className:T()(Pe,he.className),style:he.style,children:[K.d1.DEFAULT===Be&&(0,n.jsxs)(n.Fragment,{children:[he.addonBefore,he.prefix,Le,he.suffix,he.addonAfter]}),K.d1.QRCODE===Be&&(0,n.jsx)(E.Z,{type:"svg",value:he.value,color:"#000"})]})},w.JSON=function(he){var Pe,Ae=(0,D.F)("json",he);return(0,n.jsx)("pre",{className:(0,l.cx)(Ae,he.className,(0,l.css)(z||(z=f()([`
          margin-bottom: 0;
          line-height: 1.5;
          font-size: 90%;
        `])))),style:he.style,children:he.value!=null?JSON.stringify(he.value,null,(Pe=he.space)!==null&&Pe!==void 0?Pe:2):""})};var M=e(15009),b=e.n(M),R=e(19632),L=e.n(R),N=e(96695),B=e.n(N),V=e(99289),U=e.n(V),I=e(9783),F=e.n(I),W=e(15867),X=e(31811),J=e(26793),C=e(16869),k=e(34588),Y=e(98427),H=e(25813),te=e(77723),le=e(74614),ne,ie=["string","number","bigInt","text","date"],ee=["hasOne","hasMany","belongsTo","belongsToMany"],fe=function(Pe){var Ae=Pe.children;return Ae.find(function(Be){return ie.includes(Be.type)})},de=function(Pe){return["string","number","bigInt","text"].includes(Pe)||["date"].includes(Pe),"$like"},ue=function(Pe){var Ae=Pe.filter(function(Le){return!Le.type}),Be=Pe.filter(function(Le){return!!Le.type});return{collections:Ae,fields:Be}},Se=function(Pe,Ae){return Ae?"".concat(Ae,".").concat(Pe):Pe},ae=function(Pe,Ae){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",Le=[];return Pe.forEach(function(Me){if(ee.includes(Me.type)){var Te=fe(Me);Te&&Le.push(F()({},Se(Me.name,Be),F()({},Te.name,F()({},de(Te.type),"%".concat(Ae,"%")))))}else Le.push(F()({},Se(Me.name,Be),F()({},de(Me.type),"%".concat(Ae,"%"))))}),Le},G=(0,le.tl)((0,u.observer)(function(he){var Pe=(0,J.$)(),Ae=Pe.t,Be=(0,Z.wN)(he),Le=Be.options,Me=Be.onSubmit,Te=Be.onReset,we=Be.h5Filter,Ue=Be.showAction,je=ue(Le),De=je.collections,ye=je.fields,_e=(0,Z.et)(),q=(0,Y.ngQ)(),pe=q.designable,Re=(0,H.OQ)(),Oe=(0,H.Kp)(),$e=(0,d.useState)(!0),Ve=t()($e,2),Ze=Ve[0],qe=Ve[1],Qe=(0,u.useFieldSchema)(),ke=Qe["x-linkage-rules"],ft=(0,d.useState)(""),vt=t()(ft,2),_t=vt[0],Nt=vt[1],Kt=(0,C.G)(),ut=Kt.searchParams,Rt=Kt.setSearchParams,Dt=Kt.setFilterPopupVisible,dt=Kt.setIsFiltered;(0,d.useEffect)(function(){var He=function(){var ct=U()(b()().mark(function St(){var Tt,Mt,Zt,Je,et,rt;return b()().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(ke){xt.next=3;break}return qe(!0),xt.abrupt("return");case 3:Tt=[],Mt=B()(ke),xt.prev=5,Mt.s();case 7:if((Zt=Mt.n()).done){xt.next=15;break}return Je=Zt.value,xt.next=11,(0,k.jC)({ruleGroup:Je.condition,variables:Re,localVariables:Oe});case 11:et=xt.sent,et&&(rt=Je.actions.map(function(Ct){var mt=Ct.operator;return mt}),Tt.push.apply(Tt,L()(rt)));case 13:xt.next=7;break;case 15:xt.next=20;break;case 17:xt.prev=17,xt.t0=xt.catch(5),Mt.e(xt.t0);case 20:return xt.prev=20,Mt.f(),xt.finish(20);case 23:qe(!Tt.includes(te.Us.Hidden));case 24:case"end":return xt.stop()}},St,null,[[5,17,20,23]])}));return function(){return ct.apply(this,arguments)}}();He()},[ke]);var Bt=(0,d.useMemo)(function(){return{opacity:pe&&!Ze&&.4}},[pe,Ze]);return!pe&&!Ze?null:((0,d.useEffect)(function(){ut&&!Object.values(ut).length&&Nt("")},[ut]),(0,n.jsxs)("div",{style:Bt,children:[we?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{value:_t,prefix:(0,n.jsx)(X.Z,{}),placeholder:Ae("Search"),onChange:function(ct){var St=ct.target.value;if(Nt(St),!St){Rt({});return}var Tt=De.reduce(function(Mt,Zt){var Je=Zt.children;return Mt.concat(ae(Je,St,Zt.name))},[]);Rt({filter:{$or:[].concat(L()(ae(ye,St)),L()(Tt))}})}}),Ue&&(0,n.jsxs)("div",{className:(0,l.cx)((0,l.css)(ne||(ne=f()([`
                      position: fixed;
                      bottom: 3rem;
                      display: flex;
                      justify-content: flex-end;
                      width: calc(100% - 3rem);
                    `]))),"mb-action-box"),children:[(0,n.jsx)(W.ZP,{style:{flex:1,marginRight:20},onClick:function(){Nt(""),Te(),Dt(!1),dt(!1)},children:Ae("Reset")}),(0,n.jsx)(W.ZP,{style:{flex:1},type:"primary",onClick:function(){Me(ut),Dt(!1),dt(!0)},children:Ae("Submit")})]})]}):(0,n.jsx)(p.Z.Search,{placeholder:Ae("Search"),onSearch:function(ct){if(!ct){Te();return}var St=De.reduce(function(Tt,Mt){var Zt=Mt.children;return Tt.concat(ae(Zt,ct,Mt.name))},[]);Me({filter:{$or:[].concat(L()(ae(ye,ct)),L()(St))}})}}),(0,n.jsx)(_e,{})]}))},{displayName:"SearchAction"})),re=e(70173),oe=Object.assign((0,u.connect)(p.Z,(0,u.mapProps)(function(he,Pe){var Ae=he.onFocus;return m()(m()({maxLength:255},he),{},{suffix:(0,n.jsx)("span",{children:Pe!=null&&Pe.loading||Pe!=null&&Pe.validating?(0,n.jsx)(x.Z,{}):he.suffix}),onFocus:function(Le){re.isiOS&&setTimeout(function(){window.scrollTo(0,0),document.body.scrollTop=0},100),Ae==null||Ae(Le)}})}),(0,u.mapReadPretty)(w.Input)),{TextArea:(0,u.connect)(p.Z.TextArea,(0,u.mapProps)(function(he,Pe){return m()({autoSize:{maxRows:10,minRows:3}},he)}),(0,u.mapReadPretty)(w.TextArea)),URL:(0,u.connect)(p.Z,(0,u.mapReadPretty)(w.URL)),JSON:(0,u.connect)(y,(0,u.mapReadPretty)(w.JSON)),ReadPretty:w.Input,SearchAction:G});oe.displayName="Input";var ce=null,be=e(55241),xe,ge=(0,d.forwardRef)(function(he,Pe){var Ae=he.popoverContent,Be=he.lines,Le=Be===void 0?2:Be,Me=(0,d.useState)(!1),Te=t()(Me,2),we=Te[0],Ue=Te[1],je=(0,d.useState)(!1),De=t()(je,2),ye=De[0],_e=De[1],q=(0,d.useRef)();(0,d.useImperativeHandle)(Pe,function(){return{setPopoverVisible:_e}});var pe=(0,d.useMemo)(function(){return(0,l.css)(xe||(xe=f()([`
        word-break: break-word;
        display: -webkit-box;
        -webkit-line-clamp: `,`;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      `])),Le)},[Le]),Re=(0,d.useCallback)(function(){if(!q.current)return!1;var $e=q.current.scrollHeight,Ve=q.current.clientHeight;return $e>Ve},[q.current]),Oe=(0,d.useMemo)(function(){return he.ellipsis?(0,n.jsx)("span",{ref:q,className:pe,onMouseEnter:function(Ve){var Ze=Ve.target,qe=Re();qe&&Ue(Ze.scrollWidth>=Ze.clientWidth)},children:he.children}):he.children},[he.children,he.ellipsis]);return!he.ellipsis||!we?Oe:(0,n.jsx)(be.Z,{open:we&&ye,onOpenChange:function(Ve){_e(we&&Ve)},content:(0,n.jsx)("div",{style:{width:300,overflow:"auto",maxHeight:400},children:Ae||he.children}),children:Oe})});ge.displayName="MultipleLineEllipsisWithTooltip"},27754:function(se,j,e){"use strict";e.d(j,{g:function(){return v}});function v(m){var x=document.createElement("div");x.textContent!=null?x.textContent=m:x.innerText=m;var u=x.innerHTML;return x=null,u}},93674:function(se,j,e){"use strict";e.d(j,{y:function(){return h}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(10274),d=e(60094),h=(0,d.l6)("nb-markdown",function(t,c){var i=c.isDarkTheme,a=t.componentCls,f=new p.C(t.colorFillAlter).onBackground(t.colorBgContainer).toHexShortString(),l={"&.nb-markdown-default":{"pre code.hljs":{display:"block",overflowX:"auto",padding:"1em"},"code.hljs":{padding:"3px 5px"},":not(pre) code":{padding:"2px 5px",color:"#d56161",background:t.colorFillQuaternary,border:"1px solid ".concat(t.colorBorder),borderRadius:t.borderRadiusSM},blockquote:{borderLeft:"4px solid #ccc",paddingLeft:"20px",marginLeft:"0",color:"#666",fontStyle:"italic"},img:{maxWidth:"100%"},".hljs":{background:"#f8f8f8",color:"#444"},".hljs-comment":{color:"#697070"},".hljs-punctuation,.hljs-tag":{color:"#444a"},".hljs-tag .hljs-attr,.hljs-tag .hljs-name":{color:"#444"},".hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-name,.hljs-selector-tag":{fontWeight:700},".hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type":{color:"#800"},".hljs-section,.hljs-title":{color:"#800",fontWeight:700},".hljs-link,.hljs-operator,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable":{color:"#ab5656"},".hljs-literal":{color:"#695"},".hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code":{color:"#397300"},".hljs-meta":{color:"#1f7199"},".hljs-meta .hljs-string":{color:"#38a"},".hljs-emphasis":{fontStyle:"italic"},".hljs-strong":{fontWeight:700}},"&.nb-markdown-table":{table:{borderCollapse:"collapse",width:"100%",fontFamily:"Arial, sans-serif",marginBottom:"1.5rem"},"th, td":{borderBottom:"1px solid ".concat(t.colorBorderSecondary),padding:"".concat(t.paddingContentVertical,"px ").concat(t.paddingContentHorizontal,"px"),textAlign:"left"},th:{backgroundColor:f,fontWeight:"bold",color:t.colorText},"tr:hover":{backgroundColor:t.colorFillTertiary},"tr:last-child td":{borderBottom:"none"},"tr:first-child th":{borderTop:"none"}}},n={"&.nb-markdown-default":{"pre code.hljs":{display:"block",overflowX:"auto",padding:"1em"},"code.hljs":{padding:"3px 5px"},":not(pre) code":{padding:"2px 5px",color:"#d56161",background:t.colorFillQuaternary,border:"1px solid ".concat(t.colorBorder),borderRadius:t.borderRadiusSM},".hljs":{color:"#adbac7",background:"#22272e"},".hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_":{color:"#f47067"},".hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_":{color:"#dcbdfb"},".hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable":{color:"#6cb6ff"},".hljs-meta .hljs-string,.hljs-regexp,.hljs-string":{color:"#96d0ff"},".hljs-built_in,.hljs-symbol":{color:"#f69d50"},".hljs-code,.hljs-comment,.hljs-formula":{color:"#768390"},".hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag":{color:"#8ddb8c"},".hljs-subst":{color:"#adbac7"},".hljs-section":{color:"#316dca",fontWeight:700},".hljs-bullet":{color:"#eac55f"},".hljs-emphasis":{color:"#adbac7",fontStyle:"italic"},".hljs-strong":{color:"#adbac7",fontWeight:700},".hljs-addition":{color:"#b4f1b4",backgroundColor:"#1b4721"},".hljs-deletion":{color:"#ffd8d3",backgroundColor:"#78191b"}},"&.nb-markdown-table":{table:{borderCollapse:"collapse",width:"100%",fontFamily:"Arial, sans-serif",marginBottom:"1.5rem"},"th, td":{borderBottom:"1px solid ".concat(t.colorBorderSecondary),padding:"".concat(t.paddingContentVertical,"px ").concat(t.paddingContentHorizontal,"px"),textAlign:"left"},th:{backgroundColor:f,fontWeight:"bold",color:t.colorText},"tr:hover":{backgroundColor:t.colorFillTertiary},"tr:last-child td":{borderBottom:"none"},"tr:first-child th":{borderTop:"none"}}};return m()({},a,u()({lineHeight:t.lineHeight,"& > *:last-child":{marginBottom:"0"},".ant-description-textarea, .ant-description-input":{lineHeight:t.lineHeight},".field-interface-datetime":{minWidth:"100px"},"word-break":"break-word"},i?n:l))})},64215:function(se,j,e){"use strict";e.d(j,{Be:function(){return a},qu:function(){return i}});var v=e(15009),m=e.n(v),x=e(5574),u=e.n(x),p=e(99289),d=e.n(p),h=e(67294);function t(f){return c.apply(this,arguments)}function c(){return c=d()(m()().mark(function f(l){var n;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(l){o.next=2;break}return o.abrupt("return",l);case 2:return o.next=4,Promise.all([e.e(9517),e.e(5493),e.e(2698),e.e(6599),e.e(2300),e.e(5154),e.e(7531),e.e(7015),e.e(6094),e.e(6680),e.e(8370),e.e(1547),e.e(501)]).then(e.bind(e,80501));case 4:return n=o.sent,o.abrupt("return",n.default.render(l));case 6:case"end":return o.stop()}},f)})),c.apply(this,arguments)}function i(f){var l=(0,h.useState)(""),n=u()(l,2),r=n[0],o=n[1],g=(0,h.useState)(!1),y=u()(g,2),D=y[0],P=y[1];return(0,h.useEffect)(function(){P(!0),t(f).then(function(E){o(E),P(!1)})},[f]),{html:r,loading:D}}function a(f){var l=f,n=document.createElement("div");n.innerHTML=l;var r=n.innerText;return n=null,(r==null?void 0:r.replace(/[\n\r]/g,""))||""}},38342:function(se,j,e){"use strict";e.d(j,{y:function(){return m}});var v=e(59632),m=(0,v.kc)(function(x){var u=x.token;return{menuItem:{paddingLeft:"".concat(u.padding,"px !important"),paddingRight:"".concat(u.padding,"px !important")}}})},97855:function(se,j,e){"use strict";e.d(j,{K:function(){return h},M:function(){return t}});var v=e(96652),m=e(15867),x=e(67294),u=e(68230),p=e(534),d=e(85893),h=function(){var i=(0,p.XC)(),a=i.setVisible,f=(0,x.useCallback)(function(){a==null||a(!1)},[a]);return{goBack:f}},t=function(){var i=(0,u.d)(),a=i.token,f=h(),l=f.goBack,n=32,r=(0,x.useMemo)(function(){return{width:"auto",height:"auto",lineHeight:1,padding:a.paddingXS,marginRight:n-a.paddingXS}},[a.paddingXS]);return(0,d.jsx)(m.ZP,{"aria-label":"back-button",type:"text",icon:(0,d.jsx)(v.Z,{}),style:r,onClick:l})}},75585:function(se,j,e){"use strict";e.d(j,{d9:function(){return I},OA:function(){return L},Ao:function(){return M},bP:function(){return W},Zm:function(){return J}});var v=e(61227),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(97857),t=e.n(h),c=e(5574),i=e.n(c),a=e(94350),f=e(84327),l=e(59720),n=e(96486),r=e.n(n),o=e(67294),g=e(26793),y=e(89250),D=e(72029),P=e(87180),E=e(39742),O=e(6574),T=e(47204),S=e(14984),$={},Z=function(H){return $[H]||($[H]=(0,f.uid)())},K=function(H){return delete $[H]},z=e(22891),w=e(97505),A=e(85893),M=o.createContext(null),b=o.createContext(null),R=o.createContext(null);M.displayName="PopupVisibleProviderContext",b.displayName="PopupParamsProviderContext",R.displayName="AllPopupsPropsProviderContext";var L=function(H){var te=H.children,le=H.visible,ne=H.setVisible,ie=(0,o.useMemo)(function(){return{visible:le,setVisible:ne}},[le,ne]);return(0,A.jsx)(M.Provider,{value:ie,children:te})},N=function(H){var te=(0,o.useMemo)(function(){return{params:H.params,context:H.context,currentLevel:H.currentLevel}},[H.params,H.context,H.currentLevel]);return(0,A.jsx)(b.Provider,{value:te,children:H.children})},B=function(H){var te=H.children,le=J(),ne=le.params,ie=(0,z.ES)(),ee=ie.changeTab,fe=(0,o.useCallback)(function(Se){ee(Se)},[ee]),de=(0,S.a)(),ue=de.isPopupVisibleControlledByURL;return ue()?(0,A.jsx)(T.c,{activeKey:ne==null?void 0:ne.tab,onChange:fe,children:te}):(0,A.jsx)(A.Fragment,{children:te})},V=function(H){var te=H.params,le=H.context,ne=H.currentLevel,ie=H.children,ee=(0,z.ES)(),fe=ee.closePopup,de=(0,o.useState)(!0),ue=i()(de,2),Se=ue[0],ae=ue[1],G=function(ce){ce||(ae(!1),setTimeout(function(){fe(),K(te.popupuid)},300))},re=t()({},(0,z.XQ)(te.popupuid));return le||(le=re),r().isEmpty(le)?(0,A.jsx)(L,{visible:Se,setVisible:G,children:(0,A.jsx)("div",{style:{display:"none"},children:ie})}):(0,A.jsx)(N,{params:te,context:le,currentLevel:ne,children:(0,A.jsx)(L,{visible:Se,setVisible:G,children:(0,A.jsx)(P.KY,{dataSource:le.dataSource,collection:te.collection||le.collection,association:le.association,sourceId:te.sourceid,filterByTk:te.filterbytk,record:re.record,parentRecord:re.parentRecord,action:"get",children:(0,A.jsx)(E.do.Provider,{value:re.service,children:(0,A.jsx)(B,{children:(0,A.jsx)("div",{style:{display:"none"},children:ie})})})})})})},U=function(H){var te=H.childSchema,le=H.props,ne=H.parentSchema,ie=H.getPopupSchema,ee=ie===void 0?function(re){return r().get(re.properties,Object.keys(re.properties)[0])}:ie,fe=le.params,de=le.context,ue=le.currentLevel,Se={type:"void","x-component":"PagePopupsItemProvider","x-component-props":{params:fe,context:de,currentLevel:ue},properties:{popupAction:te}},ae=Z(fe.popupuid);if(ne.properties){var G=ee(ne);r().isEmpty(r().get(G,"properties.".concat(ae)))&&r().set(G,"properties.".concat(ae),Se)}},I=function(H){var te=(0,a.useFieldSchema)(),le=(0,y.useLocation)(),ne=H.paramsList||(0,z.ld)(W(le)),ie=F(),ee=ie.requestSchema,fe=(0,o.useState)(null),de=i()(fe,2),ue=de[0],Se=de[1],ae=(0,o.useRef)([]),G=(0,z.ES)(),re=G.savePopupSchemaToSchema,oe=G.getPopupSchemaFromSchema,ce=(0,o.useMemo)(function(){return ne.filter(function(he,Pe,Ae){return Pe===Ae.findIndex(function(Be){return Be.popupuid===he.popupuid})})},[ne]),be=function(){var Pe;if(ue){var Ae=t()(t()({},ue),{},{properties:{drawer:t()(t()({},(ue==null||(Pe=ue.properties)===null||Pe===void 0?void 0:Pe.drawer)||{}),{},{properties:{}})}});Se(Ae)}},xe=function(){var he=d()(u()().mark(function Pe(){var Ae,Be,Le,Me,Te;return u()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return be(),Ae=ce.map(function(je){return ee(je.popupuid)}),Ue.next=4,Promise.all(Ae);case 4:for(Be=Ue.sent,Le=Be.map(function(je,De){if(r().isEmpty(je))return C();var ye=ce[De];if(ye.puid){var _e=k(ye.puid,te.root);_e&&re(r().omit(_e,"parent"),je)}var q=r().cloneDeep(r().omit(je,"parent"));return q["x-read-pretty"]=!0,q}),ae.current=Le.map(function(je,De,ye){for(var _e=(0,w.S$)(je),q=!1,pe=De+1;pe<ye.length&&!X(ye[pe]);pe++);return{params:ce[De],context:_e,hidden:q,currentLevel:De+1,isSubPage:X(je)}}),Me=Le[0],Te=1;Te<Le.length;Te++)U({childSchema:Le[Te],props:ae.current[Te],parentSchema:Le[Te-1],getPopupSchema:function(De){return oe(De)||r().get(De.properties,Object.keys(De.properties)[0])}});Se(Me);case 10:case"end":return Ue.stop()}},Pe)}));return function(){return he.apply(this,arguments)}}();(0,o.useEffect)(function(){xe()},[te,oe,ne,ee,re]);var ge=(0,o.useMemo)(function(){return{PagePopupsItemProvider:V}},[]);return ue?(0,A.jsx)(R.Provider,{value:ae.current,children:(0,A.jsx)(V,{params:ae.current[0].params,context:ae.current[0].context,currentLevel:1,children:(0,A.jsx)(O.n6,{components:ge,schema:ue})})}):null},F=function(){var H=(0,D.LY)(),te=(0,o.useCallback)(function(){var le=d()(u()().mark(function ne(ie){var ee,fe;return u()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.prev=0,ue.next=3,H.request({url:"/uiSchemas:getJsonSchema/".concat(ie)});case 3:return fe=ue.sent,ue.abrupt("return",(ee=fe.data)===null||ee===void 0?void 0:ee.data);case 7:return ue.prev=7,ue.t0=ue.catch(0),console.error(ue.t0),ue.abrupt("return",null);case 11:case"end":return ue.stop()}},ne,null,[[0,7]])}));return function(ne){return le.apply(this,arguments)}}(),[]);return{requestSchema:te}},W=function(H){var te=H.pathname.split("/popups/"),le=m()(te),ne=le.slice(1);return ne.join("/popups/")};function X(Y){var H=r().get(Y,"x-component-props.openMode");return H==="page"}var J=function(){var H=o.useContext(b)||{},te=H.currentLevel,le=o.useContext(R);return(le==null?void 0:le[te-1])||{}};function C(){return{_isJSONSchemaObject:!0,version:"2.0",type:"void",title:'{{ t("Error message") }}',"x-action":"view","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:view","x-component":"Action.Link","x-component-props":{openMode:"drawer"},"x-action-context":{},"x-decorator":"ACLActionProvider","x-designer-props":{linkageAction:!0},properties:{drawer:{_isJSONSchemaObject:!0,version:"2.0",type:"void",title:"Error message","x-component":"Action.Container","x-component-props":{className:"nb-action-popup",level:99},properties:{tabs:{_isJSONSchemaObject:!0,version:"2.0",type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab",properties:{tab1:{_isJSONSchemaObject:!0,version:"2.0",type:"void",title:"404","x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{_isJSONSchemaObject:!0,version:"2.0",type:"void","x-component":function(){var H=(0,g.$)(),te=H.t;return(0,A.jsx)(l.ZP,{status:"404",title:"404",subTitle:te("Sorry, the page you visited does not exist.")})},"x-uid":(0,f.uid)(),"x-async":!1,"x-index":1}},"x-uid":(0,f.uid)(),"x-async":!1,"x-index":1}},"x-uid":(0,f.uid)(),"x-async":!1,"x-index":1}},"x-uid":(0,f.uid)(),"x-async":!1,"x-index":1}},name:(0,f.uid)(),"x-uid":(0,f.uid)(),"x-async":!1,"x-index":2,"x-read-pretty":!0}}function k(Y,H){var te,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{value:null};return le=le||{value:null},H==null||(te=H.mapProperties)===null||te===void 0||te.call(H,function(ne){ne["x-uid"]===Y?le.value=ne:k(Y,ne,le)}),le.value}},82518:function(se,j,e){"use strict";e.d(j,{P:function(){return i},T:function(){return a}});var v=e(93876),m=e(94350),x=e(42075),u=e(67294),p=e(98427),d=e(95346),h=e(1992),t=e(69054),c=e(85893),i=function(l){var n=l.title,r=(0,p.ngQ)(),o=r.designable,g=(0,m.useFieldSchema)(),y=(0,d.m)(g["x-settings"]||"PageSettings",g["x-settings-props"]),D=y.render;return o?(0,c.jsx)(h.V$,{title:n,children:(0,c.jsx)("div",{className:"general-schema-designer",style:{zIndex:1001},children:(0,c.jsx)("div",{className:"general-schema-designer-icons",children:(0,c.jsx)(x.Z,{size:2,align:"center",children:D()})})})}):null},a=function(l){var n=l.schema,r=(0,p.ngQ)(),o=r.designable,g=(0,t.z)(),y=g.getAriaLabel,D=(0,m.useFieldSchema)(),P=(0,d.m)(D["x-settings"]||"PageTabSettings",D["x-settings-props"]),E=P.render;return o?(0,c.jsx)(h.V$,{schema:n,children:(0,c.jsx)("div",{className:"general-schema-designer",children:(0,c.jsx)("div",{className:"general-schema-designer-icons",children:(0,c.jsxs)(x.Z,{size:3,align:"center",children:[(0,c.jsx)(p.IWB,{children:(0,c.jsx)(v.Z,{style:{marginRight:0},role:"button","aria-label":y("drag-handler","tab")})}),E()]})})})}):null}},14984:function(se,j,e){"use strict";e.d(j,{D:function(){return u},a:function(){return p}});var v=e(67294),m=e(85893),x=v.createContext({enableURL:!0}),u=function(h){var t=h.enableURL,c=t===void 0?!0:t,i=(0,v.useMemo)(function(){return{enableURL:c}},[c]);return(0,m.jsx)(x.Provider,{value:i,children:h.children})},p=function(){var h=v.useContext(x),t=h.enableURL,c=(0,v.useCallback)(function(){var i=window.location.pathname,a=window.location.hash,f=(i==null?void 0:i.includes("/mobile/"))||(a==null?void 0:a.includes("/mobile/")),l=i==null?void 0:i.includes("/m/"),n=i==null?void 0:i.includes("/app/");return(n||l)&&!f&&t},[t]);return{isPopupVisibleControlledByURL:c}}},22891:function(se,j,e){"use strict";e.d(j,{ES:function(){return $},XQ:function(){return y},Yd:function(){return E},dJ:function(){return O},hK:function(){return D},ld:function(){return T}});var v=e(19632),m=e.n(v),x=e(97857),u=e.n(x),p=e(61227),d=e.n(p),h=e(94350),t=e(96486),c=e.n(t),i=e(67294),a=e(74614),f=e(72594),l=e(25717),n=e(75585),r=e(14984),o=e(97505),g={},y=function(b){return g[b]},D=function(b,R){g[b]=R},P={},E=function(b){return P[b]},O=function(b,R){P[b]=R},T=c().memoize(function(M){var b=M.split("/popups/");return b.filter(Boolean).map(function(R){for(var L=R.split("/").filter(Boolean),N=d()(L),B=N[0],V=N.slice(1),U={},I=0;I<V.length;I+=2)U[V[I]]=A(V[I+1]);return u()({popupuid:B},U)})}),S=function(b){var R=b.popupuid,L=b.tab,N=b.filterbytk,B=b.sourceid,V=b.collection,U=b.puid,I=[R,U&&"puid",U,V&&"collection",V,N&&"filterbytk",N,B&&"sourceid",B,L&&"tab",L].filter(Boolean);return"/popups/".concat(I.map(function(F){return w(F)}).join("/"))},$=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=(0,a.WO)(),L=(0,a.fj)(),N=(0,h.useFieldSchema)(),B=(0,f.FC)(),V=(0,f.oV)(),U=(0,f.RA)(),I=(0,f.Kx)(),F=(0,f.d9)(),W=(0,f.Xo)(),X=(0,i.useContext)(n.Ao)||{visible:!1,setVisible:function(){}},J=X.visible,C=X.setVisible,k=(0,n.Zm)(),Y=k.params,H=(0,f.hS)(),te=(0,r.a)(),le=te.isPopupVisibleControlledByURL,ne=(0,i.useContext)(l.f),ie=ne.setVisible,ee=(0,o.z9)(),fe=ee.updatePopupContext,de=(0,n.Zm)(),ue=(0,i.useCallback)(function(ge){var he;return(he=ge||(U==null?void 0:U.data))===null||he===void 0?void 0:he[F.getSourceKeyByAssociation(W)]},[U,W]),Se=b.setVisible||ie,ae=(0,i.useCallback)(function(ge){var he=ge.tabKey,Pe=ge.popupUid,Ae=ge.recordData,Be=ge.sourceId,Le=ge.collection,Me=ge.puid,Te=F.getFilterByTK(W||I,Ae);return S({popupuid:Pe,puid:Me,collection:Le,filterbytk:Te,sourceid:Be,tab:he})},[W,F,I,B,U==null?void 0:U.data,W]),G=(0,i.useCallback)(function(){var ge={dataSource:B,collection:W?void 0:I.name,association:W};return c().omitBy(ge,c().isNil)},[B,I,W]),re=(0,i.useCallback)(function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ge.recordData,Pe=ge.parentRecordData,Ae=ge.collectionNameUsedInURL,Be=ge.popupUidUsedInURL,Le=ge.customActionSchema;if(!le())return Se==null?void 0:Se(!0);var Me=(Le==null?void 0:Le["x-uid"])||(N==null?void 0:N["x-uid"]),Te=ue(Pe);if(!L.pathname.includes("popups/".concat(Me))){he=he||(V==null?void 0:V.data);var we=ae({popupUid:Me,recordData:he,sourceId:Te,collection:Ae,puid:Be}),Ue=L.pathname;c().last(Ue)==="/"&&(Ue=Ue.slice(0,-1)),D(Me,{schema:Le||N,record:new f.DI({isNew:!1,data:he}),parentRecord:Pe?new f.DI({isNew:!1,data:Pe}):U,service:H,dataSource:B,collection:I.name,association:W,sourceId:Te}),Le&&fe(G(),Le),R(z("".concat(Ue).concat(we)))}},[W,F,I,B,N,ae,R,U,V,H,L,le,ue,G]),oe=(0,i.useCallback)(function(){if(!le())return Se==null?void 0:Se(!1);var ge=Z(K(L.pathname));R(z(ge),{replace:!0})},[le,Se,R,L==null?void 0:L.pathname]),ce=(0,i.useCallback)(function(ge){var he=ue(),Pe=ae({tabKey:ge,popupUid:Y==null?void 0:Y.popupuid,recordData:V==null?void 0:V.data,sourceId:he}),Ae=Z(L.pathname);c().last(Ae)==="/"&&(Ae=Ae.slice(0,-1)),R("".concat(Ae).concat(Pe),{replace:!0})},[ae,R,Y==null?void 0:Y.popupuid,V==null?void 0:V.data,L]),be=(0,i.useCallback)(function(ge,he){he.__popup=ge},[]),xe=(0,i.useCallback)(function(ge){return ge.__popup},[]);return{openPopup:re,closePopup:oe,savePopupSchemaToSchema:be,getPopupSchemaFromSchema:xe,context:de,visibleWithURL:J,setVisibleWithURL:C,popupParams:Y,changeTab:ce,getPopupContext:G}};function Z(M){if(!M.includes("popups"))return M;var b=M.split("popups").slice(0,-1).join("popups");return b.endsWith("/")?b.slice(0,-1):b}function K(M){var b=M.split("/popups"),R=b[0],L=b.slice(1),N=m()(new Set(L));return"".concat(R,"/popups").concat(N.join("/popups")).replace(/\/+/g,"/")}function z(M){return"".concat(M).concat(window.location.search)}function w(M){var b=encodeURIComponent(M);return b==="popups"?window.btoa(M):b}function A(M){return M===window.btoa("popups")?"popups":decodeURIComponent(M)}},97505:function(se,j,e){"use strict";e.d(j,{S$:function(){return i},ZQ:function(){return t},z9:function(){return c}});var v=e(9783),m=e.n(v),x=e(94350),u=e(96486),p=e.n(u),d=e(67294),h=e(94516),t="x-action-context",c=function(){var f=(0,x.useFieldSchema)(),l=(0,h.ng)(),n=l.dn,r=(0,d.useCallback)(function(o,g){if(g=g||f,o=p().omitBy(o,p().isNil),!p().isEqual(o,i(g)))return g[t]=o,n.emit("patch",{schema:m()({"x-uid":g["x-uid"]},t,o)})},[f,n]);return{updatePopupContext:r}};function i(a){return a[t]}},40454:function(se,j,e){"use strict";e.d(j,{q:function(){return d}});var v=e(97857),m=e.n(v),x=e(55241),u=e(67294),p=e(85893),d=function(c){var i=(0,u.useRef)(null),a=(0,u.useCallback)(function(l){i.current=l.target},[]),f=(0,u.useCallback)(function(l){setTimeout(function(){var n;if(!l&&i.current!==null&&!h(i.current)){i.current=null;return}(n=c.onOpenChange)===null||n===void 0||n.call(c,l)})},[c]);return(0,p.jsx)("div",{className:"popover-with-stop-propagation",onClick:a,children:(0,p.jsx)(x.Z,m()(m()({},c),{},{onOpenChange:f}))})};function h(t){if(!t)return!1;for(;t;){var c;if((c=t.classList)!==null&&c!==void 0&&c.contains("popover-with-stop-propagation"))return!0;t=t.parentNode}return!1}},13101:function(se,j,e){"use strict";e.d(j,{F:function(){return o},M:function(){return r}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(72240),d=e(94350),h=e(75991),t=e(67294),c=e(26793),i=e(83146),a=e(97133),f=e(92601),l=e(44951),n=e(85893),r=(0,d.connect)(function(y){return(0,n.jsx)(i.i.File,u()({},y))},(0,d.mapReadPretty)(i.i.File)),o=function(D){var P=D.action,E=D.disabled,O=D.multiple,T=D.value,S=D.quickUpload,$=D.selectFile,Z=D.onChange,K=D.onSelect,z=(0,c.$)(),w=z.t,A=$===void 0&&S===void 0,M=function(L){L.preventDefault(),L.stopPropagation(),K==null||K()},b=(0,a.cx)(m()({},f.s.fileItemSizeDefault,O),m()({},f.s.fileItemSizeLarge,!O));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:f.s.wrapper,children:(0,n.jsxs)("div",{className:f.s.fileList,children:[(0,n.jsx)(l.fU,{disabled:E,multiple:O,value:T,onChange:Z,fileItemSizeCss:b}),A?(0,n.jsx)("div",{className:b,children:(0,n.jsx)(h.Z,{disabled:E,multiple:O,listType:"picture-card",showUploadList:!1,children:(0,n.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:M,children:[(0,n.jsx)(p.Z,{}),w("Select")]})})}):null,S?(0,n.jsx)(l.Qm,{value:T,multiple:O,onChange:Z,action:P,fileItemSizeCss:b}):null,$?(0,n.jsx)("div",{className:b,children:(0,n.jsx)(h.Z,{disabled:E,multiple:O,listType:"picture-card",showUploadList:!1,children:(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%",justifyContent:"center",color:"#8F9098"},onClick:M,children:w("Select")})})}):null]})})})},g=null},12753:function(se,j,e){"use strict";e.d(j,{zD:function(){return U},OD:function(){return H},lb:function(){return te},b7:function(){return R},sU:function(){return I},C$:function(){return K},cN:function(){return z},el:function(){return W},Xd:function(){return O},Il:function(){return Z}});var v=e(26733),m=e(94350),x=e(9783),u=e.n(x),p=e(5574),d=e.n(p),h=e(13769),t=e.n(h),c=e(97857),i=e.n(c),a=e(19632),f=e.n(a),l=e(34041),n=e(96486),r=e(67294),o=e(78899),g=e(6145),y=e(6574),D=e(3329),P=e(76714),E=e(13101),O=function(ne){var ie,ee,fe=(0,m.useFieldSchema)(),de=((ie=fe["x-component-props"])===null||ie===void 0||(ie=ie.field)===null||ie===void 0||(ie=ie.uiSchema)===null||ie===void 0||(ie=ie["x-component-props"])===null||ie===void 0?void 0:ie.fieldNames)||(fe==null||(ee=fe["x-component-props"])===null||ee===void 0?void 0:ee.fieldNames)||ne.fieldNames;return i()({label:"label",value:"value"},de)},T=e(84327),S=e(70173),$=e(66309),Z=function(ne,ie){var ee=(0,g.useCollectionManager_deprecated)(),fe=ee.getCollectionJoinField;if(ne){var de=fe("".concat(ne.target,".").concat(ie));return de==null?void 0:de.uiSchema}},K=function(ne){var ie=(0,S.getDefaultFormat)(ne),ee=(0,S.str2moment)(ne.value,ne),fe=ee&&ee.isValid()?ee.format(ie):ne.value;return(0,T.isArr)(fe)?fe.join("~"):fe},z=function(ne,ie){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(ne==null?void 0:ne.enum)&&ie){var fe=ne.enum.find(function(de){return de.value===ie});return ee?r.createElement($.Z,{color:fe==null?void 0:fe.color},fe==null?void 0:fe.label):fe==null?void 0:fe.label}switch(ne==null?void 0:ne["x-component"]){case"DatePicker":return K(i()(i()({},ne==null?void 0:ne["x-component-props"]),{},{value:ie}));default:return ie}},w=e(85893),A=["onRowSelectionChange","rowKey"],M=["value","multiple","onChange","quickUpload","selectFile"],b=["multiple","onChange","selectedRows","setSelectedRows","options","collectionField"],R=(0,r.createContext)(null);R.displayName="RecordPickerContext";function L(le){for(var ne=[],ie=0;ie<le.length;ie++){var ee=le[ie].children;Array.isArray(ee)&&ne.push.apply(ne,f()(L(ee))),ne.push(i()({},le[ie]))}return ne}var N=function(){var ne=(0,m.useField)(),ie=(0,r.useContext)(R),ee=ie.multiple,fe=ie.options,de=fe===void 0?[]:fe,ue=ie.setSelectedRows,Se=ie.selectedRows,ae=Se===void 0?[]:Se,G=ie.onChange,re=(0,o.RP)(),oe=re.onRowSelectionChange,ce=re.rowKey,be=ce===void 0?"id":ce,xe=t()(re,A),ge=(0,P.XC)(),he=ge.setVisible;return i()(i()({},xe),{},{rowKey:be,rowSelection:{type:ee?"checkbox":"radio",selectedRowKeys:ae==null?void 0:ae.filter(function(Pe){return de.every(function(Ae){return Ae[be]!==Pe[be]})}).map(function(Pe){return Pe[be]})},onRowSelectionChange:function(Ae,Be){if(ee){var Le=L(ne.value)||[],Me=ae||[],Te=(0,n.differenceBy)(Me,Le,be),we=(0,n.unionBy)(Te,Be,be),Ue=we.map(function(je){return je[be]});ue==null||ue(we),oe==null||oe(Ue,we)}else ue==null||ue(Be),oe==null||oe(Ae,Be),G((Be==null?void 0:Be[0])||null),he(!1)}})},B=function(){var ne=(0,P.XC)(),ie=ne.setVisible,ee=(0,r.useContext)(R),fe=ee.multiple,de=ee.selectedRows,ue=ee.onChange,Se=ee.options,ae=ee.collectionField;return{onClick:function(){ue(fe?(0,n.unionBy)(de,Se,(ae==null?void 0:ae.targetKey)||"id"):(de==null?void 0:de[0])||null),ie(!1)}}},V=function(ne){var ie=(0,m.useFieldSchema)(),ee=ne.association,fe=(0,g.useCollection_deprecated)(),de=fe.getField;return ee||de(ie.name)},U=function(ne){var ie=ne.value,ee=ne.multiple,fe=ne.onChange,de=ne.quickUpload,ue=ne.selectFile,Se=t()(ne,M),ae=O(ne),G=(0,r.useState)(!1),re=d()(G,2),oe=re[0],ce=re[1],be=(0,m.useFieldSchema)(),xe=V(ne),ge=(0,D.eJ)(),he=Z(xe,(ae==null?void 0:ae.label)||"label"),Pe=W(he),Ae=(0,r.useState)([]),Be=d()(Ae,2),Le=Be[0],Me=Be[1],Te=(0,r.useState)([]),we=d()(Te,2),Ue=we[0],je=we[1];(0,r.useEffect)(function(){if(ie){var _e=(Array.isArray(ie)?ie:ie?[ie]:[]).map(function(q){var pe=q[ae.label];return i()(i()({},q),{},u()({},ae.label,z(he,ge(pe))))});je(_e)}},[ie,ae==null?void 0:ae.label]);var De=function(){return ee==null?null:Array.isArray(ie)?ie==null?void 0:ie.map(function(q){return q[ae.value]}):ie==null?void 0:ie[ae.value]},ye=function(){ce(!0),Me([])};return(0,w.jsxs)("div",{children:[Pe?(0,w.jsx)(E.F,{value:ee?Ue:Ue==null?void 0:Ue[0],multiple:ee,quickUpload:de,selectFile:ue,action:"".concat(xe==null?void 0:xe.target,":create"),onSelect:ye,onChange:fe}):(0,w.jsx)(l.default,i()(i()({},Se),{},{mode:ee?"multiple":ne.mode,fieldNames:ae,popupMatchSelectWidth:!1,onDropdownVisibleChange:function(q){ce(!0)},allowClear:!0,onChange:function(q){if(q){if(Array.isArray(q)){if(!q.length){fe([]),Me([]);return}var Re=Ue==null?void 0:Ue.filter(function(Oe){return q.includes(Oe[ae.value])});fe(Re),Me(Re)}}else{var pe=ee?[]:null;fe(pe),Me(pe),je([])}},options:Ue,value:De(),open:!1})),F({multiple:ee,onChange:fe,selectedRows:Le,setSelectedRows:Me,collectionField:xe,visible:oe,setVisible:ce,fieldSchema:be,options:Ue})]})},I=function(ne){var ie=ne.multiple,ee=ne.onChange,fe=ne.selectedRows,de=ne.setSelectedRows,ue=ne.options,Se=ne.collectionField,ae=t()(ne,b);return(0,w.jsx)(R.Provider,{value:i()({multiple:ie,onChange:ee,selectedRows:fe,setSelectedRows:de,options:ue,collectionField:Se},ae),children:ne.children})},F=function(ne){var ie=ne.multiple,ee=ne.onChange,fe=ne.selectedRows,de=ne.setSelectedRows,ue=ne.collectionField,Se=ne.visible,ae=ne.setVisible,G=ne.fieldSchema,re=ne.options,oe=function(){var xe=(ue==null?void 0:ue.targetKey)||"id",ge=re.map(function(Pe){return Pe[xe]}).filter(Boolean),he=ge.length?{$and:[u()({},"".concat(xe,".$ne"),ge)]}:{};return he},ce={multiple:ie,onChange:ee,selectedRows:fe,setSelectedRows:de,options:re,collectionField:ue};return(0,w.jsx)(I,i()(i()({},ce),{},{children:(0,w.jsx)(g.CollectionProvider_deprecated,{allowNull:!0,name:ue==null?void 0:ue.target,children:(0,w.jsx)(P.EI,{openMode:"drawer",visible:Se,setVisible:ae,children:(0,w.jsx)(y.RV,{children:(0,w.jsx)(o.Vs,{params:{filter:oe()},children:(0,w.jsx)(y.G0,{scope:{useTableSelectorProps:N,usePickActionProps:B},children:(0,w.jsx)(m.RecursionField,{schema:G,onlyRenderProperties:!0,filterProperties:function(xe){return xe["x-component"]==="RecordPicker.Selector"}})})})})})})}))};function W(le){return(le==null?void 0:le["x-component"])==="Preview"}var X=e(79531),J=e(23782),C=e(36586),k=e(58812),Y=function(ne,ie){return ne==null?ie:ne},H=(0,m.observer)(function(le){var ne,ie,ee=le.ellipsis,fe=(0,m.useFieldSchema)(),de=(0,C.a)(),ue=(0,g.useCollectionManager_deprecated)(),Se=ue.getCollectionJoinField,ae=O(le),G=(0,r.useState)(!1),re=d()(G,2),oe=re[0],ce=re[1],be=(0,g.useCollection_deprecated)(),xe=be.getField,ge=xe(fe.name)||Se(fe==null?void 0:fe["x-collection-field"]),he=(0,r.useState)({}),Pe=d()(he,2),Ae=Pe[0],Be=Pe[1],Le=(0,D.eJ)(),Me=Z(ge,(ae==null?void 0:ae.label)||"label"),Te=W(Me),we=(0,P.XC)(),Ue=we.snapshot,je=((ne=fe["x-component-props"])===null||ne===void 0?void 0:ne.mode)==="tags",De=(0,r.useRef)();if(Te)return ge?(0,w.jsx)(E.M,i()({},le)):null;var ye=function(){return(0,T.toArr)(le.value).map(function(Re,Oe,$e){var Ve=Y(Le(Re==null?void 0:Re[(ae==null?void 0:ae.label)||"label"]),"N/A"),Ze=z(Me,Ve,!0);return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)("span",{className:"test-record-picker-read-pretty-item",children:Ue||je?Ze:(0,w.jsx)("a",{onClick:function(Qe){var ke;Qe.stopPropagation(),Qe.preventDefault(),ce(!0),Be(Re),De==null||(ke=De.current)===null||ke===void 0||ke.setPopoverVisible(!1)},children:Ze})}),Oe<$e.length-1?(0,w.jsx)("span",{style:{marginRight:4,color:"#aaa"},children:","}):null]},"".concat(Re[ae.value],"_").concat(Oe))})},_e=function(){return(0,w.jsx)(X.s.Provider,{value:!0,children:(0,w.jsx)(y.RV,{children:(0,w.jsx)(m.RecursionField,{schema:fe,onlyRenderProperties:!0,filterProperties:function(Oe){return Oe["x-component"]==="RecordPicker.Viewer"}})})})},q=function(){var Re,Oe=fe==null||(Re=fe["x-collection-field"])===null||Re===void 0?void 0:Re.split(".");return Oe&&Oe.length>2?(0,w.jsx)(C.HV,{record:Ae,parent:de[Oe[1]],children:_e()}):(0,w.jsx)(C.HV,{record:Ae,parent:de,children:_e()})};return ge?(0,w.jsx)("div",{children:(0,w.jsx)(J.WJ.Provider,{value:"".concat(ge.collectionName,".").concat(ge.name),children:(0,w.jsxs)(g.CollectionProvider_deprecated,{name:(ie=ge.target)!==null&&ie!==void 0?ie:ge.targetCollection,children:[(0,w.jsx)(k.B,{ellipsis:ee,ref:De,children:ye()}),(0,w.jsx)(P.EI,{value:{visible:oe,setVisible:ce,openMode:"drawer",snapshot:ge.interface==="snapshot"},children:q()})]})})}):null},{displayName:"ReadPrettyRecordPicker"}),te=(0,m.connect)(U,(0,m.mapReadPretty)(H));te.Viewer=v.Z,te.Selector=v.Z},64086:function(se,j,e){"use strict";e.d(j,{H:function(){return E}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(99289),d=e.n(p),h=e(94350),t=e(67294),c=e(96157),i=e(9783),a=e.n(i),f=e(60094);var l=(0,f.l6)("nb-rich-text",function(O){var T,S=O.componentCls;return T={},a()(T,S,{".ql-container":{boxSizing:"border-box",height:"100%",margin:"0px",position:"relative"},".ql-container.ql-disabled .ql-tooltip":{visibility:"hidden"},".ql-container.ql-disabled .ql-editor ul[data-checked] > li::before":{pointerEvents:"none"},".ql-clipboard":{left:"-100000px",height:"1px",overflowY:"hidden",position:"absolute",top:"50%"},".ql-clipboard p":{margin:"0",padding:"0"},".ql-editor":{minHeight:"10em",boxSizing:"border-box",lineHeight:1.42,height:"100%",outline:"none",overflowY:"auto",padding:"12px 15px",tabSize:4,MozTabSize:"4",textAlign:"left",whiteSpace:"pre-wrap",wordWrap:"break-word"},".ql-snow.ql-toolbar:after,\n.ql-snow .ql-toolbar:after":{clear:"both",content:"''",display:"table"},".ql-snow.ql-toolbar button,\n.ql-snow .ql-toolbar button":{background:"none",border:"none",cursor:"pointer",display:"inline-block",cssFloat:"left",height:"24px",padding:"3px 5px",width:"28px",verticalAlign:"middle"},".ql-snow.ql-toolbar button svg,\n.ql-snow .ql-toolbar button svg":{cssFloat:"left",height:"100%"},".ql-snow.ql-toolbar button:active:hover,\n.ql-snow .ql-toolbar button:active:hover":{outline:"none"},".ql-snow.ql-toolbar input.ql-image[type='file'],\n.ql-snow .ql-toolbar input.ql-image[type='file']":{display:"none"},".ql-snow.ql-toolbar button:hover,\n.ql-snow .ql-toolbar button:hover,\n.ql-snow.ql-toolbar button:focus,\n.ql-snow .ql-toolbar button:focus,\n.ql-snow.ql-toolbar button.ql-active,\n.ql-snow .ql-toolbar button.ql-active,\n.ql-snow.ql-toolbar .ql-picker-label:hover,\n.ql-snow .ql-toolbar .ql-picker-label:hover,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active,\n.ql-snow.ql-toolbar .ql-picker-item:hover,\n.ql-snow .ql-toolbar .ql-picker-item:hover,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected":{color:O.colorPrimaryTextHover},".ql-snow.ql-toolbar button:hover .ql-fill,\n.ql-snow .ql-toolbar button:hover .ql-fill,\n.ql-snow.ql-toolbar button:focus .ql-fill,\n.ql-snow .ql-toolbar button:focus .ql-fill,\n.ql-snow.ql-toolbar button.ql-active .ql-fill,\n.ql-snow .ql-toolbar button.ql-active .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill":{fill:O.colorPrimaryTextHover},".ql-snow.ql-toolbar button:hover .ql-stroke,\n.ql-snow .ql-toolbar button:hover .ql-stroke,\n.ql-snow.ql-toolbar button:focus .ql-stroke,\n.ql-snow .ql-toolbar button:focus .ql-stroke,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n.ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter":{stroke:O.colorPrimaryTextHover},"@media (pointer: coarse)":{".ql-snow.ql-toolbar button:hover:not(.ql-active),\n  .ql-snow .ql-toolbar button:hover:not(.ql-active)":{color:O.colorTextSecondary},".ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill":{fill:O.colorTextSecondary},".ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter":{stroke:O.colorTextSecondary}},".ql-snow":{boxSizing:"border-box"},".ql-snow *":{boxSizing:"border-box"},".ql-snow .ql-hidden":{display:"none"},".ql-snow .ql-out-bottom,\n.ql-snow .ql-out-top":{visibility:"hidden"},".ql-snow .ql-tooltip":{position:"absolute",transform:"translateY(10px)",backgroundColor:"#fff",border:"1px solid ".concat(O.colorBorder),boxShadow:"0px 0px 5px #ddd",color:O.colorTextSecondary,padding:"5px 12px",whiteSpace:"nowrap"},".ql-snow .ql-tooltip a":{cursor:"pointer",textDecoration:"none",lineHeight:"26px"},".ql-snow .ql-tooltip.ql-flip":{transform:"translateY(-10px)"},".ql-snow .ql-formats":{display:"inline-block",verticalAlign:"middle"},".ql-snow .ql-formats:after":{clear:"both",content:"''",display:"table"},".ql-snow .ql-stroke":{fill:"none",stroke:O.colorTextSecondary,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2},".ql-snow .ql-stroke-miter":{fill:"none",stroke:O.colorTextSecondary,strokeMiterlimit:"10",strokeWidth:2},".ql-snow .ql-fill,\n.ql-snow .ql-stroke.ql-fill":{fill:O.colorTextSecondary},".ql-snow .ql-empty":{fill:"none"},".ql-snow .ql-even":{fillRule:"evenodd"},".ql-snow .ql-thin,\n.ql-snow .ql-stroke.ql-thin":{strokeWidth:1},".ql-snow .ql-transparent":{opacity:.4},".ql-snow .ql-direction svg:last-child":{display:"none"},".ql-snow .ql-direction.ql-active svg:last-child":{display:"inline"},".ql-snow .ql-direction.ql-active svg:first-child":{display:"none"},".ql-snow .ql-editor h1":{fontSize:"2em"},".ql-snow .ql-editor h2":{fontSize:"1.5em"},".ql-snow .ql-editor h3":{fontSize:"1.17em"},".ql-snow .ql-editor h4":{fontSize:"1em"},".ql-snow .ql-editor h5":{fontSize:"0.83em"},".ql-snow .ql-editor h6":{fontSize:"0.67em"},".ql-snow .ql-editor blockquote":{borderLeft:"4px solid #ccc",marginBottom:"5px",marginTop:"5px",paddingLeft:"16px"},".ql-snow .ql-editor code,\n.ql-snow .ql-editor pre":{backgroundColor:"#f0f0f0",borderRadius:"3px"},".ql-snow .ql-editor pre":{whiteSpace:"pre-wrap",marginBottom:"5px",marginTop:"5px",padding:"5px 10px"},".ql-snow .ql-editor code":{fontSize:"85%",padding:"2px 4px"},".ql-snow .ql-editor pre.ql-syntax":{backgroundColor:"#23241f",color:"#f8f8f2",overflow:"visible"},".ql-snow .ql-editor img":{maxWidth:"100%"},".ql-snow .ql-picker":{color:O.colorTextSecondary,display:"inline-block",cssFloat:"left",fontSize:"14px",fontWeight:500,height:"24px",position:"relative",verticalAlign:"middle"},".ql-snow .ql-picker-label":{cursor:"pointer",display:"inline-block",height:"100%",paddingLeft:"8px",paddingRight:"2px",position:"relative",width:"100%"},".ql-snow .ql-picker-label::before":{display:"inline-block",lineHeight:"22px"},".ql-snow .ql-picker-options":{backgroundColor:"#fff",display:"none",minWidth:"100%",padding:"4px 8px",position:"absolute",whiteSpace:"nowrap"},".ql-snow .ql-picker-options .ql-picker-item":{cursor:"pointer",display:"block",paddingBottom:"5px",paddingTop:"5px"},".ql-snow .ql-picker.ql-expanded .ql-picker-label":{color:"#ccc",zIndex:2},".ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill":{fill:"#ccc"},".ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke":{stroke:"#ccc"},".ql-snow .ql-picker.ql-expanded .ql-picker-options":{display:"block",marginTop:"-1px",top:"100%",zIndex:1},".ql-snow .ql-color-picker,\n.ql-snow .ql-icon-picker":{width:"28px"},".ql-snow .ql-color-picker .ql-picker-label,\n.ql-snow .ql-icon-picker .ql-picker-label":{padding:"2px 4px"},".ql-snow .ql-color-picker .ql-picker-label svg,\n.ql-snow .ql-icon-picker .ql-picker-label svg":{right:"4px"},".ql-snow .ql-icon-picker .ql-picker-options":{padding:"4px 0px"},".ql-snow .ql-icon-picker .ql-picker-item":{height:"24px",width:"24px",padding:"2px 4px"},".ql-snow .ql-color-picker .ql-picker-options":{padding:"3px 5px",width:"152px"},".ql-snow .ql-color-picker .ql-picker-item":{border:"1px solid transparent",cssFloat:"left",height:"16px",margin:"2px",padding:"0px",width:"16px"},".ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg":{position:"absolute",marginTop:"-9px",right:"0",top:"50%",width:"18px"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before":{content:"attr(data-label)"},".ql-snow .ql-picker.ql-header":{width:"98px"},".ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before":{content:"'Normal'"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before":{content:"'Heading 1'"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before":{content:"'Heading 2'"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before":{content:"'Heading 3'"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before":{content:"'Heading 4'"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before":{content:"'Heading 5'"},".ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before":{content:"'Heading 6'"},".ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before":{fontSize:"2em"},".ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before":{fontSize:"1.5em"},".ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before":{fontSize:"1.17em"},".ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before":{fontSize:"1em"},".ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before":{fontSize:"0.83em"},".ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before":{fontSize:"0.67em"},".ql-snow .ql-picker.ql-font":{width:"108px"},".ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before":{content:"'Sans Serif'"},".ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before":{content:"'Serif'"},".ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before":{content:"'Monospace'"},".ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before":{fontFamily:"Georgia, Times New Roman, serif"},".ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before":{fontFamily:"Monaco, Courier New, monospace"},".ql-snow .ql-picker.ql-size":{width:"98px"},".ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before":{content:"'Normal'"},".ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before":{content:"'Small'"},".ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before":{content:"'Large'"},".ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before":{content:"'Huge'"},".ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before":{fontSize:"10px"},".ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before":{fontSize:"18px"},".ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before":{fontSize:"32px"},".ql-snow .ql-color-picker.ql-background .ql-picker-item":{backgroundColor:"#fff"},".ql-snow .ql-color-picker.ql-color .ql-picker-item":{backgroundColor:"#000"},".ql-toolbar.ql-snow":{border:"1px solid ".concat(O.colorBorder),boxSizing:"border-box",padding:"8px",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",lineHeight:1.6},".ql-toolbar.ql-snow .ql-formats":{marginRight:"15px"},".ql-toolbar.ql-snow .ql-picker-label":{border:"1px solid transparent"},".ql-toolbar.ql-snow .ql-picker-options":{border:"1px solid transparent",boxShadow:"rgba(0, 0, 0, 0.2) 0 2px 8px"},".ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label":{borderColor:O.colorBorder},".ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options":{borderColor:O.colorBorder},".ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover":{borderColor:"#000"},".ql-toolbar.ql-snow + .ql-container.ql-snow":{borderTop:"0px",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px"},".ql-snow .ql-tooltip::before":{content:"'Visit URL:'",lineHeight:"26px",marginRight:"8px"},".ql-snow .ql-tooltip input[type='text']":{display:"none",border:"1px solid ".concat(O.colorBorder),fontSize:"13px",height:"26px",margin:"0px",padding:"3px 5px",width:"170px"},".ql-snow .ql-tooltip a.ql-preview":{display:"inline-block",maxWidth:"200px",overflowX:"hidden",textOverflow:"ellipsis",verticalAlign:"top"},".ql-snow .ql-tooltip a.ql-action::after":{borderRight:"1px solid #ccc",content:"'Edit'",marginLeft:"16px",paddingRight:"8px"},".ql-snow .ql-tooltip a.ql-remove::before":{content:"'Remove'",marginLeft:"8px"},".ql-snow .ql-tooltip.ql-editing a.ql-preview,\n.ql-snow .ql-tooltip.ql-editing a.ql-remove":{display:"none"},".ql-snow .ql-tooltip.ql-editing input[type='text']":{display:"inline-block"},".ql-snow .ql-tooltip.ql-editing a.ql-action::after":{borderRight:"0px",content:"'Save'",paddingRight:"0px"},".ql-snow .ql-tooltip[data-mode='link']::before":{content:"'Enter link:'"},".ql-snow .ql-tooltip[data-mode='formula']::before":{content:"'Enter formula:'"},".ql-snow .ql-tooltip[data-mode='video']::before":{content:"'Enter video:'"},".ql-snow a":{color:O.colorPrimaryTextHover},".ql-container.ql-snow":{border:"1px solid ".concat(O.colorBorder),borderBottomLeftRadius:"2px",borderBottomRightRadius:"2px"}}),a()(T,"".concat(S,"-disabled"),{color:O.colorTextQuaternary,backgroundColor:"rgba(0, 0, 0, 0.04)",borderColor:"#d9d9d9",boxShadow:"none",cursor:"not-allowed",opacity:1,".ql-snow.ql-toolbar button":{cursor:"not-allowed"},".ql-snow.ql-toolbar button:hover,\n.ql-snow .ql-toolbar button:hover,\n.ql-snow.ql-toolbar button:focus,\n.ql-snow .ql-toolbar button:focus,\n.ql-snow.ql-toolbar button.ql-active,\n.ql-snow .ql-toolbar button.ql-active,\n.ql-snow.ql-toolbar .ql-picker-label:hover,\n.ql-snow .ql-toolbar .ql-picker-label:hover,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active,\n.ql-snow.ql-toolbar .ql-picker-item:hover,\n.ql-snow .ql-toolbar .ql-picker-item:hover,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected":{color:"rgba(0, 0, 0, 0.65)"},".ql-snow.ql-toolbar button:hover .ql-fill,\n.ql-snow .ql-toolbar button:hover .ql-fill,\n.ql-snow.ql-toolbar button:focus .ql-fill,\n.ql-snow .ql-toolbar button:focus .ql-fill,\n.ql-snow.ql-toolbar button.ql-active .ql-fill,\n.ql-snow .ql-toolbar button.ql-active .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill":{fill:"rgba(0, 0, 0, 0.65)"},".ql-snow.ql-toolbar button:hover .ql-stroke,\n.ql-snow .ql-toolbar button:hover .ql-stroke,\n.ql-snow.ql-toolbar button:focus .ql-stroke,\n.ql-snow .ql-toolbar button:focus .ql-stroke,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n.ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter":{stroke:"rgba(0, 0, 0, 0.65)"}}),T}),n=e(5574),r=e.n(n),o=function(){return new Promise(function(T){if(document.getElementById("quill-core"))return T();var S=["core","snow"];Promise.all(S.map(function($){return new Promise(function(Z){var K=document.createElement("link");K.id="quill-".concat($),K.rel="stylesheet",K.href="/libs/quill/dist/quill.".concat($,".css"),K.onload=function(){return Z()},document.head.appendChild(K)})})).then(function(){return T()})})},g=function(){var O=d()(u()().mark(function T(){var S,$,Z,K,z,w;return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(window.Quill&&window.QuillBetterTable)){M.next=2;break}return M.abrupt("return");case 2:return M.prev=2,M.next=5,Promise.all([e.e(2386).then(e.t.bind(e,76095,23)),Promise.all([e.e(2386),e.e(1048)]).then(e.t.bind(e,15109,23)),o()]);case 5:S=M.sent,$=r()(S,2),Z=$[0],K=$[1],z=Z.default,w=K.default,z.register({"modules/better-table":w},!0),window.Quill=z,window.QuillBetterTable=w,M.next=19;break;case 16:throw M.prev=16,M.t0=M.catch(2),new Error("Quill load failed: ".concat(M.t0.message));case 19:case"end":return M.stop()}},T,null,[[2,16]])}));return function(){return O.apply(this,arguments)}}(),y=e(85893),D=["header","bold","italic","underline","strike","blockquote","list","indent","link","image"],P=function(T,S){var $=l(),Z=$.wrapSSR,K=$.hashId,z=$.componentCls,w=(0,t.useRef)(null),A=(0,t.useRef)(null),M=(0,t.useRef)(),b=(0,t.useRef)(!1),R=T.value,L=T.defaultValue,N=T.onChange,B=T.disabled,V=T.readOnly,U=T.onRef,I=R||L||"",F=B||V;(0,t.useEffect)(function(){var X=function(){var J=d()(u()().mark(function C(){var k;return u()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,g();case 2:k=new window.Quill(A.current,{readOnly:F,theme:"snow",formats:D,modules:{table:!1,"better-table":{operationMenu:{items:{unmergeCells:{text:"Another unmerge cells name"}}}},toolbar:{container:M.current},keyboard:{bindings:window.QuillBetterTable.keyboardBindings}}}),w.current=k,S&&(S.current=k),U&&U(k),w.current.on("text-change",function(te,le,ne){var ie,ee;N((ie=(ee=w.current).getSemanticHTML)===null||ie===void 0?void 0:ie.call(ee))});case 7:case"end":return H.stop()}},C)}));return function(){return J.apply(this,arguments)}}();X()},[]),(0,t.useEffect)(function(){w.current&&I&&!b.current&&(w.current.clipboard.dangerouslyPasteHTML(I),b.current=!0,w.current.blur())},[I]);var W=function(){var J=w.current.getModule("better-table");J.insertTable(3,3)};return Z((0,y.jsxs)("div",{className:"".concat(z," ").concat(K," ").concat(F?"".concat(z,"-disabled"):""),children:[(0,y.jsxs)("div",{ref:M,children:[(0,y.jsx)("button",{className:"ql-bold"}),(0,y.jsx)("button",{className:"ql-italic"}),(0,y.jsx)("button",{className:"ql-underline"}),(0,y.jsx)("button",{className:"ql-link"}),(0,y.jsx)("button",{className:"ql-list",value:"ordered"}),(0,y.jsx)("button",{className:"ql-list",value:"bullet"}),(0,y.jsx)("button",{onClick:W,children:(0,y.jsxs)("svg",{viewBox:"0 0 18 18",children:[(0,y.jsx)("rect",{className:"ql-stroke",height:"12",width:"12",x:"3",y:"3"})," ",(0,y.jsx)("rect",{className:"ql-fill",height:"2",width:"3",x:"5",y:"5"})," ",(0,y.jsx)("rect",{className:"ql-fill",height:"2",width:"4",x:"9",y:"5"})," ",(0,y.jsxs)("g",{className:"ql-fill ql-transparent",children:[(0,y.jsx)("rect",{height:"2",width:"3",x:"5",y:"8"})," ",(0,y.jsx)("rect",{height:"2",width:"4",x:"9",y:"8"})," ",(0,y.jsx)("rect",{height:"2",width:"3",x:"5",y:"11"})," ",(0,y.jsx)("rect",{height:"2",width:"4",x:"9",y:"11"})," "]})]})}),(0,y.jsx)("button",{className:"ql-clean"}),T.extraToolbar]}),(0,y.jsx)("div",{ref:A})]}))},E=(0,h.connect)((0,t.forwardRef)(P),(0,h.mapProps)({initialValue:"defaultValue"}),(0,h.mapReadPretty)(function(O){return(0,y.jsx)(c.iV.Html,m()({},O))}))},95686:function(se,j,e){"use strict";e.d(j,{m:function(){return i},p:function(){return a}});var v=e(68400),m=e.n(v),x=e(97133),u=e(94350),p=e(67294),d=e(98427),h=e(7686),t=e(85893),c,i=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=l.margin,r=n===void 0?"-18px -16px":n,o=l.padding,g=o===void 0?"18px 16px":o;return(0,x.css)(c||(c=m()([`
  position: relative;
  margin: `,`;
  padding: `,`;

  &:hover {
    > .general-schema-designer {
      display: block;
    }
  }
  > .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover) !important;
    border: 0 !important;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`])),r,g)},a=(0,u.observer)(function(f){var l=(0,d.ett)(),n=(0,h.P)()||{},r=n.isInSubTable;return(0,t.jsxs)(d.TRI,{className:i({margin:r?"-12px -8px":"-18px -16px",padding:r?"12px 8px":"18px 16px"}),children:[(0,t.jsx)(l,{}),f.children]})},{displayName:"TableColumnActionBar"})},81230:function(se,j,e){"use strict";e.d(j,{h:function(){return t},z:function(){return h}});var v=e(94350),m=e(67294),x=e(21143),u=e(95686),p=e(31018),d=e(85893),h=function(){var i=(0,x.useCollection_deprecated)(),a=i.getField,f=(0,x.useCompile)(),l=(0,v.useFieldSchema)(),n=(0,x.useCollectionManager_deprecated)(),r=n.getCollectionJoinField,o=l==null?void 0:l.reduceProperties(function(y,D){return(0,p.J9)(D)?D:y},null);if(!o)return{};var g=a(o.name)||r(o==null?void 0:o["x-collection-field"]);return{columnSchema:l,fieldSchema:o,collectionField:g,uiSchema:f(g==null?void 0:g.uiSchema)}},t=function(i){var a=(0,x.useDesigner)(),f=(0,v.useField)(),l=h(),n=l.fieldSchema,r=l.uiSchema,o=l.collectionField,g=(0,x.useCompile)(),y=(0,x.useFlag)()||{},D=y.isInSubTable;return(0,m.useLayoutEffect)(function(){f.title||n&&r!=null&&r.title&&(f.title=r==null?void 0:r.title)},[r==null?void 0:r.title]),(0,d.jsx)(x.SortableItem,{className:(0,u.m)({margin:D?"-12px -8px":"-18px -16px",padding:D?"12px 8px":"18px 16px"}),children:(0,d.jsxs)(x.CollectionFieldContext.Provider,{value:o,children:[(0,d.jsx)(a,{fieldSchema:n,uiSchema:r,collectionField:o}),(0,d.jsx)("div",{role:"button",children:(f==null?void 0:f.title)||g(r==null?void 0:r.title)})]})})}},30970:function(se,j,e){"use strict";e.d(j,{A8:function(){return S},_E:function(){return $}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(94350),d=e(96486),h=e.n(d),t=e(67294),c=e(26793),i=e(79531),a=e(6145),f=e(81560),l=e(29124),n=e(3329),r=e(29132),o=e(80564),g=e(21774),y=e(43319),D=e(88773),P=e(36248),E=e(93329),O=e(85893),T=function(z){var w,A,M=(0,n.eJ)(),b=(0,a.useCollectionManager_deprecated)(),R=b.getCollectionFields;if(!z)return[];var L=R(z);return L==null||(w=L.filter)===null||w===void 0||(w=w.call(L,function(N){return(N==null?void 0:N.interface)&&!(N!=null&&N.target)&&N.type!=="boolean"}))===null||w===void 0||(A=w.map)===null||A===void 0?void 0:A.call(w,function(N){var B;return{value:N.name,label:M((N==null||(B=N.uiSchema)===null||B===void 0?void 0:B.title)||N.name)}})},S=function(z){var w,A,M=(0,n.eJ)(),b=(0,a.useCollectionManager_deprecated)(),R=b.getCollectionFields;if(!z)return[];var L=R(z);return L==null||(w=L.filter)===null||w===void 0||(w=w.call(L,function(N){return(N==null?void 0:N.interface)==="color"}))===null||w===void 0||(A=w.map)===null||A===void 0?void 0:A.call(w,function(N){var B;return{value:N.name,label:M((N==null||(B=N.uiSchema)===null||B===void 0?void 0:B.title)||N.name)}})},$=function(z){var w,A,M,b,R,L,N,B,V,U,I=z.uiSchema,F=z.fieldSchema,W=z.collectionField,X=(0,i.bz)(),J=X.form,C=(0,a.useCollectionManager_deprecated)(),k=C.getInterface,Y=C.getCollection,H=(0,p.useField)(),te=(0,c.$)(),le=te.t,ne=(0,p.useFieldSchema)(),ie=(0,n.ng)(),ee=ie.dn,fe=(F==null||(w=F["x-component-props"])===null||w===void 0?void 0:w.fieldNames)||(I==null||(A=I["x-component-props"])===null||A===void 0?void 0:A.fieldNames),de=T((M=W==null?void 0:W.target)!==null&&M!==void 0?M:W==null?void 0:W.targetCollection),ue=S((b=W==null?void 0:W.target)!==null&&b!==void 0?b:W==null?void 0:W.targetCollection),Se=k(W==null?void 0:W.interface),ae=Y(W==null?void 0:W.target),G=Z(ae),re=["QuickEdit","FormItem"].includes(F["x-decorator"]),oe=(0,r.Ky)(),ce=oe.currentMode,be=(0,l.SF)({collectionField:W,fieldSchema:F}),xe=be.isAllowToSetDefaultValue,ge=["datetime","createdAt","updatedAt"].includes(W==null?void 0:W.interface),he=["obo","oho","o2o","o2m","m2m","m2o","snapshot"].includes(W==null?void 0:W.interface),Pe=(0,n.fd)({fieldSchema:F}),Ae=(F==null||(R=F["x-component-props"])===null||R===void 0?void 0:R.mode)||"Select",Be="editable";F["x-disabled"]===!0&&(Be="readonly"),F["x-read-pretty"]===!0&&(Be="read-pretty");var Le=he&&Ae==="Select";return(0,O.jsxs)(f.aN,{disableInitializer:!0,children:[(0,O.jsx)(f.B0,{title:le("Custom column title"),schema:{type:"object",title:le("Custom column title"),properties:{title:{title:le("Column title"),default:ne==null?void 0:ne.title,description:"".concat(le("Original field title: ")).concat((W==null||(L=W.uiSchema)===null||L===void 0?void 0:L.title)||(F==null?void 0:F.title)),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(Te){var we=Te.title;we&&(H.title=we,ne.title=we,ee.emit("patch",{schema:{"x-uid":ne["x-uid"],title:ne.title}})),ee.refresh()}}),Le&&!H.readPretty&&!(I!=null&&I["x-read-pretty"])&&re&&(0,O.jsx)(y.H,{collectionName:W==null?void 0:W.target,defaultFilter:(F==null||(N=F["x-component-props"])===null||N===void 0||(N=N.service)===null||N===void 0||(N=N.params)===null||N===void 0?void 0:N.filter)||{},form:J,onSubmit:function(Te){var we,Ue,je,De=Te.filter;De=(0,o.Wm)(De),(0,d.set)(H.componentProps,"service.params.filter",De),F["x-component-props"]=H.componentProps;var ye=(we=H.path)===null||we===void 0?void 0:we.splice(((Ue=H.path)===null||Ue===void 0?void 0:Ue.length)-1,1);H.form.query("".concat(ye.concat("*."+F.name))).forEach(function(_e){_e.componentProps.service=_e.componentProps.service||{params:{}},_e.componentProps.service.params.filter=De}),ee.emit("patch",{schema:(je={},u()(je,"x-uid",F["x-uid"]),u()(je,"x-component-props",H.componentProps),je)})}}),(0,O.jsx)(f.B0,{title:le("Column width"),schema:{type:"object",title:le("Column width"),properties:{width:{default:(ne==null||(B=ne["x-component-props"])===null||B===void 0?void 0:B.width)||200,"x-decorator":"FormItem","x-component":"InputNumber","x-component-props":{}}}},onSubmit:function(Te){var we=Te.width,Ue=ne["x-component-props"]||{};Ue.width=we;var je=u()({},"x-uid",ne["x-uid"]);je["x-component-props"]=Ue,ne["x-component-props"]=Ue,H.componentProps.width=we,ee.emit("patch",{schema:je}),ee.refresh()}}),Se&&Se.sortable===!0&&!ce&&(0,O.jsx)(f.hj,{title:le("Sortable"),checked:H.componentProps.sorter,onChange:function(Te){var we=u()({},"x-uid",ne["x-uid"]);ne["x-component-props"]=m()(m()({},ne["x-component-props"]),{},{sorter:Te}),we["x-component-props"]=ne["x-component-props"],H.componentProps.sorter=Te,ee.emit("patch",{schema:we}),ee.refresh()}}),["linkTo","m2m","m2o","o2m","obo","oho","snapshot","createdBy","updatedBy"].includes(W==null?void 0:W.interface)&&!G&&(Be==="read-pretty"||H.readPretty||H.readOnly)&&(0,O.jsx)(f.hj,{title:le("Enable link"),checked:((V=F["x-component-props"])===null||V===void 0?void 0:V.enableLink)!==!1,onChange:function(Te){F["x-component-props"]=m()(m()({},F==null?void 0:F["x-component-props"]),{},{enableLink:Te}),H.componentProps=m()(m()({},F==null?void 0:F["x-component-props"]),{},{enableLink:Te}),ee.emit("patch",{schema:{"x-uid":F["x-uid"],"x-component-props":m()({},F==null?void 0:F["x-component-props"])}}),ee.refresh()}}),["linkTo","m2m","m2o","o2m","obo","oho","snapshot"].includes(W==null?void 0:W.interface)&&(0,O.jsx)(f.Qf,{title:le("Title field"),options:de,value:fe==null?void 0:fe.label,onChange:function(Te){var we,Ue,je,De,ye=m()(m()(m()({},W==null||(we=W.uiSchema)===null||we===void 0||(we=we["x-component-props"])===null||we===void 0?void 0:we.fieldNames),F==null||(Ue=F["x-component-props"])===null||Ue===void 0?void 0:Ue.fieldNames),{},{label:Te});h().set(F,"x-component-props.fieldNames",ye);var _e=(je=H.path)===null||je===void 0?void 0:je.splice(((De=H.path)===null||De===void 0?void 0:De.length)-1,1);H.form.query("".concat(_e.concat("*."+F.name))).forEach(function(q){q.componentProps.fieldNames=ye}),ee.emit("patch",{schema:{"x-uid":F["x-uid"],"x-component-props":m()({},F["x-component-props"])}}),ee.refresh()}}),he&&(0,O.jsx)(f.Qf,{title:le("Field component"),options:Be==="read-pretty"?[{label:le("Title"),value:"Select"},G&&{label:le("File manager"),value:"FileManager"},{label:le("Tag"),value:"Tag"}].filter(Boolean):Pe,value:Ae,onChange:function(Te){var we=u()({},"x-uid",F["x-uid"]);F["x-component-props"]=F["x-component-props"]||{},F["x-component-props"].mode=Te,we["x-component-props"]=F["x-component-props"],H.componentProps=H.componentProps||{},H.componentProps.mode=Te,ee.emit("patch",{schema:we}),ee.refresh()}},"field-mode"),["Tag"].includes(Ae)&&(0,O.jsx)(f.Qf,{title:le("Tag color field"),options:ue,value:F==null||(U=F["x-component-props"])===null||U===void 0?void 0:U.tagColorField,onChange:function(Te){var we=u()({},"x-uid",F["x-uid"]);F["x-component-props"]=F["x-component-props"]||{},F["x-component-props"].tagColorField=Te,we["x-component-props"]=F["x-component-props"],H.componentProps.tagColorField=Te,ee.emit("patch",{schema:we}),ee.refresh()}},"title-field"),re&&!H.readPretty&&!(I!=null&&I["x-read-pretty"])&&(0,O.jsx)(f.hj,{title:le("Required"),checked:F.required,onChange:function(Te){var we,Ue,je=u()({},"x-uid",F["x-uid"]);F.required=Te,je.required=Te;var De=(we=H.path)===null||we===void 0?void 0:we.splice(((Ue=H.path)===null||Ue===void 0?void 0:Ue.length)-1,1);H.form.query("".concat(De.concat("*."+F.name))).forEach(function(ye){ye.required=Te}),ee.emit("patch",{schema:je}),ee.refresh()}},"required"),re&&!(H!=null&&H.readPretty)&&(W==null?void 0:W.interface)!=="o2m"&&!(0,D.V)(F)&&(0,O.jsx)(f.Qf,{title:le("Pattern"),options:[{label:le("Editable"),value:"editable"},{label:le("Readonly"),value:"readonly"},{label:le("Easy-reading"),value:"read-pretty"}],value:Be,onChange:function(Te){var we,Ue,je=u()({},"x-uid",F["x-uid"]),De=(we=H.path)===null||we===void 0?void 0:we.splice(((Ue=H.path)===null||Ue===void 0?void 0:Ue.length)-1,1);switch(Te){case"readonly":{F["x-read-pretty"]=!1,F["x-disabled"]=!0,je["x-read-pretty"]=!1,je["x-disabled"]=!0,H.form.query("".concat(De.concat("*."+F.name))).forEach(function(ye){ye.readonly=!0,ye.disabled=!0});break}case"read-pretty":{F["x-read-pretty"]=!0,F["x-disabled"]=!1,je["x-read-pretty"]=!0,je["x-disabled"]=!1,H.form.query("".concat(De.concat("*."+F.name))).forEach(function(ye){ye.readPretty=!0});break}default:{F["x-read-pretty"]=!1,F["x-disabled"]=!1,je["x-read-pretty"]=!1,je["x-disabled"]=!1,H.form.query("".concat(De.concat("*."+F.name))).forEach(function(ye){ye.readPretty=!1,ye.disabled+!1});break}}ee.emit("patch",{schema:je}),ee.refresh()}},"pattern"),ge&&(0,O.jsx)(P.y,{fieldSchema:F}),re&&!(H!=null&&H.readPretty)&&["obo","oho","o2o","o2m","m2m","m2o"].includes(W==null?void 0:W.interface)&&(0,O.jsx)(E.w,{fieldSchema:F,onSubmitCallBack:function(Te){var we,Ue,je=(we=H.path)===null||we===void 0?void 0:we.splice(((Ue=H.path)===null||Ue===void 0?void 0:Ue.length)-1,1);H.form.query("".concat(je.concat("*."+F.name))).forEach(function(De){De.componentProps.service=De.componentProps.service||{params:{}},De.componentProps.service.params.sort=Te})}}),xe(re)&&(0,O.jsx)(g.N,{fieldSchema:F}),(0,O.jsx)(f.Z5,{}),(0,O.jsx)(f.qx,{removeParentsIfNoChildren:!re,breakRemoveOn:{"x-component":"Grid"},confirm:{title:le("Delete table column")}})]})};function Z(K){return(K==null?void 0:K.template)==="file"}},31018:function(se,j,e){"use strict";e.d(j,{$Q:function(){return h},IM:function(){return c},J9:function(){return d},YR:function(){return t}});var v=e(68400),m=e.n(v),x=e(97133),u,p,d=function(a){return a["x-component"]==="CollectionField"},h=function(a){var f;return((f=a["x-component"])===null||f===void 0?void 0:f.endsWith(".Column"))>-1};function t(i){var a=[];return i==null||i.split(".").forEach(function(f){isNaN(f)||a.push(String(Number(f)+1))}),a.join(".")}var c=function(a){return{modal:{type:"void",title:'{{ t("Upload Data", ) }}',"x-component":"Action.Container","x-decorator":"Form","x-component-props":{width:"50%",className:(0,x.css)(u||(u=m()([`
          .ant-formily-item-label {
            height: var(--controlHeightLG);
          }
        `])))},properties:{formLayout:{type:"void","x-component":"FormLayout",properties:{download:{type:"void",title:'{{ t("Step 1: Download template" ) }}',"x-component":"FormItem","x-acl-ignore":!0,properties:{tip:{type:"void","x-component":"Markdown.Void","x-editable":!1,"x-component-props":{style:{padding:"var(--paddingContentVerticalSM)",backgroundColor:"var(--colorInfoBg)",border:"1px solid var(--colorInfoBorder)",color:"var(--colorText)",marginBottom:"var(--marginSM)"},content:'{{ t("Download tip" ) }}'}},downloadAction:{type:"void",title:'{{ t("Download template") }}',"x-component":"Action","x-component-props":{className:(0,x.css)(p||(p=m()([`
                      margin-top: 5px;
                    `]))),useAction:"{{ useDownloadXlsxTemplateAction }}"}}}},upload:{type:"array",title:'{{ t("Step 2: Upload Excel") }}',"x-decorator":"FormItem","x-acl-ignore":!0,"x-component":"Upload.Dragger","x-validator":"{{ uploadValidator }}","x-component-props":{action:"",height:"150px",tipContent:'{{ t("Upload placeholder") }}',beforeUpload:"{{ beforeUploadHandler }}"}}}},footer:{"x-component":"Action.Container.Footer","x-component-props":{},properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{},properties:{cancel:{type:"void",title:'{{ t("Cancel") }}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},startImport:{type:"void",title:'{{ t("Start upload") }}',"x-component":"Action","x-component-props":{type:"primary",htmlType:"submit",useAction:"{{ useImportStartAction }}",field:a},"x-reactions":{dependencies:["upload"],fulfill:{run:"validateUpload($form, $self, $deps)"}}}}}}}}}}}},29050:function(se,j,e){"use strict";e.d(j,{m:function(){return c},p:function(){return i}});var v=e(68400),m=e.n(v),x=e(97133),u=e(94350),p=e(67294),d=e(98427),h=e(85893),t,c=(0,x.css)(t||(t=m()([`
  position: relative;
  &:hover {
    > .general-schema-designer {
      display: block;
    }
  }
  > .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover) !important;
    border: 0 !important;
    top: -16px !important;
    bottom: -16px !important;
    left: -16px !important;
    right: -16px !important;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`]))),i=(0,u.observer)(function(a){var f=(0,d.ett)();return(0,h.jsxs)(d.TRI,{className:c,children:[(0,h.jsx)(f,{}),a.children]})},{displayName:"TableColumnActionBar"})},70027:function(se,j,e){"use strict";e.d(j,{h:function(){return h},z:function(){return d}});var v=e(94350),m=e(67294),x=e(21143),u=e(29050),p=e(85893),d=function(){var c=(0,x.useCollection_deprecated)(),i=c.getField,a=(0,x.useCompile)(),f=(0,v.useFieldSchema)(),l=f.reduceProperties(function(r,o){return o["x-component"]==="CollectionField"?o:r},null);if(!l)return{};var n=i(l.name);return{columnSchema:f,fieldSchema:l,collectionField:n,uiSchema:a(n==null?void 0:n.uiSchema)}},h=function(c){var i=(0,x.useDesigner)(),a=(0,v.useField)(),f=d(),l=f.fieldSchema,n=f.uiSchema,r=f.collectionField,o=(0,x.useDesignable)(),g=o.refresh,y=(0,x.useCompile)();return(0,m.useLayoutEffect)(function(){a.title||l&&n!=null&&n.title&&(a.title=n==null?void 0:n.title)},[n==null?void 0:n.title]),(0,p.jsxs)(x.SortableItem,{className:u.m,children:[(0,p.jsx)(i,{fieldSchema:l,uiSchema:n,collectionField:r}),a.title||y(n==null?void 0:n.title)]})}},47204:function(se,j,e){"use strict";e.d(j,{c:function(){return h},g:function(){return t}});var v=e(13769),m=e.n(v),x=e(67294),u=e(85893),p=["children"],d=x.createContext({}),h=function(i){var a=i.children,f=m()(i,p);return(0,u.jsx)(d.Provider,{value:f,children:a})},t=function(){return x.useContext(d)}},44951:function(se,j,e){"use strict";e.d(j,{Qm:function(){return J},ZP:function(){return Y},fU:function(){return k}});var v=e(96695),m=e.n(v),x=e(19632),u=e.n(x),p=e(5574),d=e.n(p),h=e(13769),t=e.n(h),c=e(97857),i=e.n(c),a=e(72240),f=e(49033),l=e(86615),n=e(94350),r=e(3321),o=e(75991),g=e(42075),y=e(15867),D=e(26410),P=e(83062),E=e(93162),O=e.n(E),T=e(67294),S=e(26793),$=e(92879),Z=e(87487),K=e(40932),z=e(97133),w=e(92601),A=e(70173),M=e(86087),b=e(82422),R=e(61933),L=e(3329),N=e(85893),B=["rules"],V={color:"#4B5563",fontSize:32},U={color:"#1E1E1E"},I={color:"#B3B3B3"},F=function(te){var le=te.sizeConfig,ne=te.uploadAreaConfig,ie=(0,L.eJ)();return Array.isArray(le)&&le[0]===b.LA.RESPONSIVE&&ne?(0,N.jsxs)("div",{className:w.s.uploadAreaContainer,children:[(0,N.jsx)(R.JO,{type:ne.icon,style:V}),(0,N.jsx)("span",{style:U,children:ie(ne.text)}),(0,N.jsx)("span",{style:I,children:ie(ne.hint)})]}):(0,N.jsx)(a.Z,{style:V})},W=[{matcher:K.Or,Component:function(te){var le,ne,ie,ee,fe=te.index,de=te.list,ue=te.onSwitchIndex,Se=te.hideDownload,ae=(0,T.useCallback)(function(re){re.preventDefault(),re.stopPropagation();var oe=de[fe];if(A.isInFlutter){(0,A.handleNativeMobileDownloadFile)(oe);return}oe.url&&(0,E.saveAs)(oe.url,"".concat(oe.title).concat(oe.extname))},[fe,de]),G=(0,T.useCallback)(function(re,oe){return(0,N.jsx)("div",i()(i()({},re),{},{style:i()(i()({},re.style),{},{zIndex:10003}),onClick:function(be){be.stopPropagation(),be.preventDefault()},children:oe}))},[]);return(0,N.jsx)($.Z,{reactModalProps:{overlayElement:G},mainSrc:(le=de[fe])===null||le===void 0?void 0:le.imageUrl,nextSrc:(ne=de[(fe+1)%de.length])===null||ne===void 0?void 0:ne.imageUrl,prevSrc:(ie=de[(fe+de.length-1)%de.length])===null||ie===void 0?void 0:ie.imageUrl,onCloseRequest:function(){return ue(null)},onMovePrevRequest:function(){return ue((fe+de.length-1)%de.length)},onMoveNextRequest:function(){return ue((fe+1)%de.length)},imageTitle:(ee=de[fe])===null||ee===void 0?void 0:ee.title,toolbarButtons:[!Se&&(0,N.jsx)("button",{style:{fontSize:22,background:"none",lineHeight:1},type:"button","aria-label":"Download",title:"Download",className:"ril-zoom-in ril__toolbarItemChild ril__builtinButton",onClick:ae,children:(0,N.jsx)(f.Z,{})},"preview-img")]})}},{matcher:K.Ze,Component:function(te){var le=te.index,ne=te.list,ie=te.onSwitchIndex,ee=te.hideDownload;return(0,N.jsx)(M.Z,{hideDownload:ee,zIndex:10003,open:le!=null,file:ne[le],setOpen:function(de){de||ie(null)},isAttachment:!0})}}];function X(H){var te,le=H.index,ne=H.onSwitchIndex,ie=H.list,ee=H.hideDownload;if(le==null)return null;var fe=ie[le],de=(te=W.find(function(Se){return Se.matcher(fe)}))!==null&&te!==void 0?te:{},ue=de.Component;return ue?(0,N.jsx)(ue,{index:le,list:ie,onSwitchIndex:ne,hideDownload:ee}):null}function J(H){var te=H.rules,le=t()(H,B),ne=le.disabled,ie=le.multiple,ee=le.value,fe=le.onChange,de=le.fileItemSizeCss,ue=le.accept,Se=le.maxCount,ae=le.sizeConfig,G=le.uploadAreaConfig,re=le.flutterFileSource,oe=re===void 0?b.xE:re,ce=r.Z.useApp(),be=ce.message,xe=(0,T.useState)([]),ge=d()(xe,2),he=ge[0],Pe=ge[1],Ae=(0,K.XN)(),Be=(0,T.useRef)(null),Le=Array.isArray(ee)?ee.length:ee?1:0,Me=Le+he.length,Te=typeof Se=="number"&&Me>=Se,we=ie&&Te||Me===1&&!ie,Ue=Te&&he.length===0||Le===1&&!ie,je=ne||Te,De=(0,n.useForm)();(0,T.useEffect)(function(){var $e=he==null?void 0:he.some(function(Ve){var Ze=Ve.status;return Ze==="uploading"});Object.values(De.fields).forEach(function(Ve){Ve.componentType==="Action"&&(Ve.disabled=$e)})},[he]);var ye=(0,K.NP)(le),_e=(0,K.CL)(te),q=(0,T.useCallback)(function($e){if(ie){var Ve=$e.fileList.filter(function(Qe){return Qe.status==="done"||Ae});if(Ve.length){var Ze=[].concat(u()(ee!=null?ee:[]),u()(Ve.map(function(Qe){return(0,K.e2)(Qe,Ae)})));fe==null||fe(Ze)}Pe($e.fileList.filter(function(Qe){return Ae?!1:Qe.status!=="done"}).map(K.gY))}else{var qe=$e.fileList.find(function(Qe){return Qe.uid===$e.file.uid});qe.status==="done"||Ae?(fe==null||fe((0,K.e2)(qe,Ae)),Pe([])):Pe([(0,K.gY)(qe)])}},[ee,ie,fe,Ae]),pe=(0,T.useCallback)(function($e){Pe(function(Ve){var Ze=Ve.indexOf($e);return Ve.splice(Ze,1),u()(Ve)})},[]),Re=function(Ve){if(Ve)try{var Ze=JSON.parse(Ve);if(Array.isArray(Ze)){var qe,Qe,ke=[],ft=m()(Ze),vt;try{for(ft.s();!(vt=ft.n()).done;){for(var _t=vt.value,Nt=_t.fileName,Kt=_t.mimeType,ut=_t.base64Data,Rt=atob(ut),Dt=new Array(Rt.length),dt=0;dt<Rt.length;dt++)Dt[dt]=Rt.charCodeAt(dt);var Bt=new Uint8Array(Dt),He=new Blob([Bt],{type:Kt}),ct=new File([He],Nt,{type:Kt});ke.push(ct)}}catch(St){ft.e(St)}finally{ft.f()}(qe=Be.current)===null||qe===void 0||(qe=qe.upload)===null||qe===void 0||(qe=qe.uploader)===null||qe===void 0||(Qe=qe.uploadFiles)===null||Qe===void 0||Qe.call(qe,ke)}else be.error("Flutter FileSelector Error: files is not array.")}catch(St){be.error("Flutter FileSelector Error: ".concat(St))}},Oe=function(){(0,A.callFlutter)("FileSelector",oe.map(function(Ve){var Ze=b.e0[Ve];if(Ve===b.j2.FILE_SELECTOR&&(Ze.assetType=ue.split(",")),Ve===b.j2.ALBUM||Ve===b.j2.FILE_SELECTOR){var qe=5;typeof Se=="number"&&(qe=Se-Me),Ze.maxAssets=qe}return Ze.allowMultiple=ie,Ze}),Re)};return(0,N.jsxs)(N.Fragment,{children:[he.map(function($e,Ve){return(0,N.jsx)(C,{file:$e,index:Ve,disabled:ne,onDelete:pe,fileItemSizeCss:de},$e.uid)}),A.isInFlutter&&(Ue?null:(0,N.jsx)("div",{className:de,style:we?{position:"absolute",zIndex:-1,opacity:0}:{},children:(0,N.jsx)("div",{className:"flutter-upload-container",onClick:Oe,children:(0,N.jsx)(F,{sizeConfig:ae,uploadAreaConfig:G})})})),Ue?null:(0,N.jsx)("div",{className:de,style:A.isInFlutter||we?{position:"absolute",zIndex:-1,opacity:0}:{},children:(0,N.jsx)(o.Z,i()(i()({ref:Be,accept:ue},ye),{},{disabled:je,multiple:ie,listType:"picture-card",fileList:he,beforeUpload:_e,onChange:q,showUploadList:!1,children:(0,N.jsx)(F,{sizeConfig:ae,uploadAreaConfig:G})}))})]})}function C(H){var te=H.file,le=H.disabled,ne=H.onPreview,ie=H.onDelete,ee=H.readPretty,fe=H.fileItemSizeCss,de=H.hideDownload,ue=(0,S.$)(),Se=ue.t,ae=(0,T.useCallback)(function(ce){ce.preventDefault(),ce.stopPropagation(),ne==null||ne(te)},[te,ne]),G=(0,T.useCallback)(function(){ie==null||ie(te)},[te,ie]),re=(0,T.useCallback)(function(ce){if(ce.preventDefault(),ce.stopPropagation(),A.isInFlutter){(0,A.handleNativeMobileDownloadFile)(te);return}te.url&&(0,E.saveAs)(te.url,"".concat(te.title).concat(te.extname))},[te]),oe=(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"".concat(w.s.fileItemInfo),children:[te.imageUrl&&(0,N.jsx)("img",{src:te.imageUrl,alt:te.title,className:w.s.fileItemInfoThumbnail,onClick:ae}),(0,N.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"".concat(w.s.fileItemInfoName),title:te.title,href:te.url,onClick:ae,children:te.status==="uploading"?Se("Uploading"):te.title})]}),(0,N.jsx)("span",{className:"".concat(w.s.fileItemActions),children:(0,N.jsxs)(g.Z,{size:3,children:[!ee&&te.id&&!de&&(0,N.jsx)(y.ZP,{size:"small",type:"text",icon:(0,N.jsx)(f.Z,{}),onClick:re}),!ee&&!le&&(0,N.jsx)(y.ZP,{size:"small",type:"text",icon:(0,N.jsx)(l.Z,{}),onClick:G})]})}),te.status==="uploading"&&(0,N.jsx)(D.Z,{strokeWidth:2,type:"line",showInfo:!1,percent:Number(te.percent),className:w.s.fileItemProgress})]});return(0,N.jsx)("div",{className:(0,z.cx)(w.s.fileItem,fe),children:te.status==="error"?(0,N.jsx)(P.Z,{title:te.response,getPopupContainer:function(be){return be.parentNode},children:oe}):oe},te.uid||te.id)}function k(H){var te=H.disabled,le=H.multiple,ne=H.value,ie=H.onChange,ee=H.readPretty,fe=H.fileItemSizeCss,de=H.hideDownload,ue=(0,T.useState)([]),Se=d()(ue,2),ae=Se[0],G=Se[1],re=(0,T.useState)(null),oe=d()(re,2),ce=oe[0],be=oe[1],xe=(0,K.XN)();(0,T.useEffect)(function(){var Pe=(0,K.$W)(ne,xe);G(Pe)},[ne,xe]);var ge=(0,T.useCallback)(function(Pe){var Ae=ae.findIndex(function(Le){return Le.id===Pe.id}),Be=W.find(function(Le){return Le.matcher(Pe)});if(Be)be(Ae);else if(Pe.id){if(A.isInFlutter){(0,A.handleNativeMobileDownloadFile)(Pe);return}Pe.url&&(0,E.saveAs)(Pe.url,"".concat(Pe.title).concat(Pe.extname))}},[ae]),he=(0,T.useCallback)(function(Pe){ie(le?ne.filter(function(Ae){return xe?Ae.uid!==Pe.uid:Ae.id!==Pe.id}):null)},[le,ie,ne,xe]);return(0,N.jsxs)(N.Fragment,{children:[ae.map(function(Pe,Ae){return(0,N.jsx)(C,{file:Pe,index:Ae,disabled:te,onPreview:ge,onDelete:he,hideDownload:de,readPretty:ee,fileItemSizeCss:fe},Pe.id)}),(0,N.jsx)(X,{index:ce,onSwitchIndex:be,list:ae,hideDownload:de})]})}function Y(H){var te=H.fileListVisible,le=te===void 0?!0:te,ne=H.hideDownload,ie=ne===void 0?!1:ne,ee=(0,b.t1)(H),fe=(0,w.R)(ee);return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:w.s.wrapper,children:(0,N.jsxs)("div",{className:w.s.fileList,children:[le&&(0,N.jsx)(k,i()(i()({},H),{},{fileItemSizeCss:fe,hideDownload:ie})),(0,N.jsx)(J,i()(i()({fileItemSizeCss:fe},H),{},{sizeConfig:ee}))]})})})}},83146:function(se,j,e){"use strict";e.d(j,{i:function(){return l}});var v=e(94350),m=e(70173),x=e(51271),u=e(67294),p=e(36586),d=e(40932),h=e(92601),t=e(81560),c=e(97133),i=e(44951),a=e(82422),f=e(85893),l=function(){return null};l.File=function(r){var o=(0,p.a)(),g=(0,v.useField)(),y=(0,m.isString)(g.value)?o:g.value,D=(0,d.l6)((0,d._K)(y)),P=r.display,E=P===void 0?t.d1.DEFAULT:P,O=r.disabled,T=r.multiple,S=r.hideDownload,$=S===void 0?!1:S,Z=(0,a.t1)(r),K=(0,h.R)(Z);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:(0,c.cx)(h.s.wrapper),children:(0,f.jsxs)("div",{className:h.s.fileList,children:[E===t.d1.DEFAULT&&(0,f.jsx)(i.fU,{disabled:O,multiple:T,value:D,fileItemSizeCss:K,hideDownload:$}),E===t.d1.QRCODE&&(0,f.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:D.map(function(z){return(0,f.jsx)(x.Z,{type:"svg",value:z.url,style:{margin:"0 6px 6px 0"},color:"#000"},z.id)})})]})})})},l.Upload=function(){var r=(0,v.useField)();return(r.value||[]).map(function(o){return(0,f.jsx)("div",{children:o.url?(0,f.jsx)("a",{target:"_blank",href:o.url,rel:"noreferrer",children:o.name}):(0,f.jsx)("span",{children:o.name})},o.name)})}},82422:function(se,j,e){"use strict";e.d(j,{LA:function(){return u},e0:function(){return c},j2:function(){return h},k_:function(){return p},t1:function(){return d},xE:function(){return t}});var v=e(9783),m=e.n(v),x,u=function(i){return i.FIXED="fixed",i.RESPONSIVE="responsive",i}({}),p=function(i){return i.LARGE="large",i.DEFAULT="default",i.SMALL="small",i}({}),d=function(a){return a!=null&&a.sizeConfig?a.sizeConfig:a!=null&&a.size?[u.FIXED,a==null?void 0:a.size]:[u.FIXED,p.DEFAULT]},h=function(i){return i[i.ALBUM=0]="ALBUM",i[i.CAMERA=1]="CAMERA",i[i.FILE_SELECTOR=2]="FILE_SELECTOR",i[i.DOCUMENT_SCANNER=3]="DOCUMENT_SCANNER",i}({}),t=[h.ALBUM,h.CAMERA,h.FILE_SELECTOR,h.DOCUMENT_SCANNER],c=(x={},m()(x,h.ALBUM,{name:"Choose from album",type:0,maxAssets:5,assetType:["image/*","video/*","audio/*"],allowMultiple:!0}),m()(x,h.CAMERA,{name:"Take photo or video",type:1,assetType:["image/*","video/*"],duration:0}),m()(x,h.FILE_SELECTOR,{name:"File Selector",type:2,assetType:["image/*","video/*","audio/*"],allowMultiple:!0}),m()(x,h.DOCUMENT_SCANNER,{name:"Document scanner",type:3}),x)},40932:function(se,j,e){"use strict";e.d(j,{Or:function(){return $},Ze:function(){return Z},gY:function(){return J},_K:function(){return z},$W:function(){return F},l6:function(){return K},e2:function(){return C},CL:function(){return te},XN:function(){return H},NP:function(){return U}});var v=e(19632),m=e.n(v),x=e(13769),u=e.n(x),p=e(97857),d=e.n(p),h=e(52677),t=e.n(h),c=e(94350),i=e(85667),a=e(84327),f=e(67294),l=e(24193),n=e.n(l),r=e(72029),o=[{ext:/\.docx?$/i,icon:"/file-placeholder/docx-200-200.png"},{ext:/\.pptx?$/i,icon:"/file-placeholder/pptx-200-200.png"},{ext:/\.jpe?g$/i,icon:"/file-placeholder/jpeg-200-200.png"},{ext:/\.pdf$/i,icon:"/file-placeholder/pdf-200-200.png"},{ext:/\.png$/i,icon:"/file-placeholder/png-200-200.png"},{ext:/\.eps$/i,icon:"/file-placeholder/eps-200-200.png"},{ext:/\.ai$/i,icon:"/file-placeholder/ai-200-200.png"},{ext:/\.gif$/i,icon:"/file-placeholder/gif-200-200.png"},{ext:/\.svg$/i,icon:"/file-placeholder/svg-200-200.png"},{ext:/\.xlsx?$/i,icon:"/file-placeholder/xlsx-200-200.png"},{ext:/\.psd?$/i,icon:"/file-placeholder/psd-200-200.png"},{ext:/\.(wav|aif|aiff|au|mp1|mp2|mp3|ra|rm|ram|mid|rmi)$/i,icon:"/file-placeholder/audio-200-200.png"},{ext:/\.(avi|wmv|mpg|mpeg|vob|dat|3gp|mp4|mkv|rm|rmvb|mov|flv)$/i,icon:"/file-placeholder/video-200-200.png"},{ext:/\.(zip|rar|arj|z|gz|iso|jar|ace|tar|uue|dmg|pkg|lzh|cab)$/i,icon:"/file-placeholder/zip-200-200.png"},{ext:/\.ipa$/i,icon:"/file-placeholder/ios.svg"},{ext:/\.apk$/i,icon:"/file-placeholder/android.svg"},{ext:/\.exe$/i,icon:"/file-placeholder/windows.svg"}],g="/file-placeholder/unknown-200-200.png",y=e(26793),D=e(14518),P=e(70173),E=e(85438),O=["serviceErrorMessage"],T=[".png",".jpg",".jpeg",".gif",".svg"],S=1024*1024*20,$=function(ne){return n()(ne.mimetype||ne.type,"image/*")},Z=function(ne){return n()(ne.mimetype||ne.type,"application/pdf")},K=function(ne){if(!ne)return[];if(t()(ne)!=="object")return[];if(Object.keys(ne).length===0)return[];var ie=ne;return!Array.isArray(ne)&&t()(ne)==="object"&&(ie=[ne]),ie.map(function(ee){return d()(d()({},ee),{},{title:ee.title||ee.name,imageUrl:A(ee.url,{exclude:T})})})},z=function(ne){return(0,a.isValid)(ne)?Object.keys(ne).length===0?[]:(0,a.toArr)(ne):[]},w=function(ne,ie){return ie&&(0,a.isArr)(ie.include)?ie.include.some(function(ee){return ne.test(ee)}):ie&&(0,a.isArr)(ie.exclude)?!ie.exclude.some(function(ee){return ne.test(ee)}):!0},A=function(ne){for(var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=0;ee<o.length;ee++)if(o[ee].ext.test(ne))return w(o[ee].ext,ie)?o[ee].icon||g:ne;return g},M=function(ne){return(ne==null?void 0:ne.url)||(ne==null?void 0:ne.downloadURL)||(ne==null?void 0:ne.imgURL)},b=function(ne){return(ne==null?void 0:ne.thumbUrl)||(ne==null?void 0:ne.url)||(ne==null?void 0:ne.downloadURL)||(ne==null?void 0:ne.imgURL)},R=function(ne){return ne!=null&&ne.errorMessage||ne!=null&&ne.errMsg||ne!=null&&ne.errorMsg||ne!=null&&ne.message||typeof(ne==null?void 0:ne.error)=="string"?ne.error:""},L=function(ne){return(ne==null?void 0:ne.success)===!1||(ne==null?void 0:ne.failed)===!0||ne!=null&&ne.error?"error":(ne==null?void 0:ne.state)||(ne==null?void 0:ne.status)},N=function(ne){return ne&&ne.length?ne.map(function(ie,ee){return d()(d()({},ie),{},{uid:ie.uid||"".concat(ee),status:L(ie.response)||L(ie),url:M(ie)||M(ie==null?void 0:ie.response),thumbUrl:A(b(ie)||b(ie==null?void 0:ie.response),{exclude:T})})}):[]},B=function(ne){var ie=(0,c.useField)();(0,f.useEffect)(function(){var ee=(0,i.reaction)(function(){return ie.value},function(fe){var de=ne(fe);ie.setFeedback({type:"error",code:"UploadError",messages:de?[de]:[]})});return function(){ee()}},[])},V=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Upload Service Error";B(function(ie){for(var ee=z(ie),fe=0;fe<ee.length;fe++){var de;if(((de=ee[fe])===null||de===void 0?void 0:de.status)==="error"){var ue;return R((ue=ee[fe])===null||ue===void 0?void 0:ue.response)||R(ee[fe])||ne}}})};function U(le){var ne=le.serviceErrorMessage,ie=u()(le,O);V(ne);var ee=function(ue){var Se;(Se=ie.onChange)===null||Se===void 0||Se.call(ie,N(m()(ue.fileList)))},fe=(0,r.LY)();return d()(d()({},ie),{},{customRequest:function(ue){var Se=ue.action,ae=ue.data,G=ue.file,re=ue.filename,oe=ue.headers,ce=ue.onError,be=ue.onProgress,xe=ue.onSuccess,ge=ue.withCredentials,he=new FormData;return ae&&Object.keys(ae).forEach(function(Pe){he.append(Pe,ae[Pe])}),he.append(re,G),fe.axios.post(Se,he,{withCredentials:ge,headers:oe,onUploadProgress:function(Ae){var Be=Ae.total,Le=Ae.loaded;be({percent:Math.round(Le/Be*100).toFixed(2)},G)}}).then(function(Pe){var Ae=Pe.data;xe(Ae,G)}).catch(ce).finally(function(){}),{abort:function(){console.log("upload progress is aborted.")}}},onChange:ee})}var I=function(ne,ie){var ee;if((ee=ne)!==null&&ee!==void 0&&(ee=ee.response)!==null&&ee!==void 0&&ee.data&&(ne=d()({uid:ne.uid},ne.response.data)),ie&&!ne.url){var fe=d()(d()({},ne),{},{id:ne.uid,title:ne.title||ne.name});if($(ne)){var de;ne.originFileObj instanceof File?fe.imageUrl=URL.createObjectURL(ne.originFileObj):(de=ne.originFileObj)!==null&&de!==void 0&&de.data&&(fe.imageUrl=ne.originFileObj.data)}else fe.imageUrl=A(fe.title);return fe}else{var ue,Se=d()(d()({},ne),{},{id:ne.id||ne.uid,title:ne.title||ne.name,imageUrl:A(ne.url,{exclude:T})});return $(ne)&&!(ne.originFileObj instanceof File)&&(ue=ne.originFileObj)!==null&&ue!==void 0&&ue.data?Se.imageUrl=ne.originFileObj.data:$(ne)&&!ne.url&&ne.originFileObj instanceof File?Se.imageUrl=URL.createObjectURL(ne.originFileObj):Se.imageUrl=A(ne.url,{exclude:T}),Se}},F=function(ne,ie){return z(ne).filter(Boolean).map(function(ee){return I(ee,ie)})},W=function(ne){return z(ne).filter(function(ie){return!ie.response||ie.status==="done"}).map(function(ie){var ee;return(ie==null||(ee=ie.response)===null||ee===void 0?void 0:ee.data)||ie})};function X(le){var ne,ie=le.error,ee=le.response;if(ie instanceof Error&&"isAxiosError"in ie)if(ie.response){var fe,de;return(fe=ie.response.data)===null||fe===void 0||(fe=fe.errors)===null||fe===void 0||(de=fe.map)===null||de===void 0?void 0:de.call(fe,function(ae){return ae==null?void 0:ae.message}).join(", ")}else return ie.message;if(!ee)return"";if(typeof ee=="string")return ee;var ue=(ne=ee.data)!==null&&ne!==void 0?ne:{},Se=ue.errors;return Se!=null&&Se.length?Se.map(function(ae){return ae==null?void 0:ae.message}).join(", "):""}function J(le){var ne=$(le)?URL.createObjectURL(le.originFileObj):A(le.name),ie=X(le);return d()(d()({},le),{},{title:le.name,thumbUrl:ne,imageUrl:ne,response:ie})}function C(le,ne){var ie;return ne?le:(ie=le.response)===null||ie===void 0?void 0:ie.data}var k={size:function(ne,ie){var ee=ie!=null?ie:S;return ee===0||ne.size<=ee?null:"File size exceeds the limit"},mimetype:function(ne){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*",ee=ie.toString().trim();return!ee||ee==="*"||ee.split(",").filter(Boolean).some(n()(ne.type))?null:"File type is not allowed"}};function Y(le,ne){if(!ne)return null;var ie=Object.keys(ne);if(!ie.length)return null;for(var ee=0,fe=ie;ee<fe.length;ee++){var de=fe[ee],ue=k[de](le,ne[de]);if(ue)return ue}return null}var H=function(){var ne,ie=(0,D.t_)(),ee=(0,c.useFieldSchema)(),fe=(0,E.r)();fe!=null&&fe.fieldSchema&&(ee=fe.fieldSchema);var de=(0,P.getCreateFormBlockSchemaByChildSchema)(ee),ue=(de==null||(ne=de["x-data"])===null||ne===void 0?void 0:ne.enableFormOfflineSubmit)||!1,Se=ie.isOfflineMode&&ue;return Se};function te(le){var ne=(0,y.$)(),ie=ne.t,ee=H();return(0,f.useCallback)(function(fe){var de=Y(fe,le);return de?(fe.status="error",fe.response=ie(de)):fe.status==="error"&&(delete fe.status,delete fe.response),ee?!1:!de},[le,ee])}},92601:function(se,j,e){"use strict";e.d(j,{R:function(){return o},s:function(){return l}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(97133),d=e(82422),h,t=function(g){return g[g.SMALL=48]="SMALL",g[g.DEFAULT=64]="DEFAULT",g[g.LARGE=150]="LARGE",g}(t||{}),c=function(y,D){return typeof D=="undefined"?{width:y,height:y}:{width:y,height:D}},i=(0,p.css)({transition:"all 0.1s",opacity:0,position:"absolute",top:0,right:0,".ant-btn.ant-btn-sm.ant-btn-icon-only":{color:"#fff",background:"rgba(0, 0, 0, 0.5)"}}),a=function(y,D){return u()(u()({},c(y,D)),{},{margin:0,verticalAlign:"unset",borderRadius:"6.5px",border:"1px solid #D1D5DB",background:"#F9FAFB"})},f={display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},l={wrapper:(0,p.css)({}),fileList:(0,p.css)({display:"flex",flexWrap:"wrap",gap:12}),fileItem:(0,p.css)({position:"relative",overflow:"hidden",borderRadius:"6.5px",border:"1px solid #D1D5DB","&:hover":m()({},".".concat(i),{opacity:1})}),fileItemSizeSmall:(0,p.css)(u()(u()({},c(t.SMALL)),{},{".ant-upload-wrapper.ant-upload-picture-card-wrapper .ant-upload.ant-upload-select":a(t.SMALL),".flutter-upload-container":u()(u()({},a(t.SMALL)),f)})),fileItemSizeDefault:(0,p.css)(u()(u()({},c(t.DEFAULT)),{},{".ant-upload-wrapper.ant-upload-picture-card-wrapper .ant-upload.ant-upload-select":a(t.DEFAULT),".flutter-upload-container":u()(u()({},a(t.DEFAULT)),f)})),fileItemSizeLarge:(0,p.css)(u()(u()({},c(t.LARGE)),{},{".ant-upload-wrapper.ant-upload-picture-card-wrapper .ant-upload.ant-upload-select":a(t.LARGE),".flutter-upload-container":u()(u()({},a(t.LARGE)),f)})),fileItemSize1_1:(0,p.css)(u()(u()({},c("100%","100%")),{},{aspectRatio:"1 / 1",".ant-upload-wrapper.ant-upload-picture-card-wrapper .ant-upload.ant-upload-select":u()(u()({},a("100%","100%")),{},{aspectRatio:"1 / 1"}),".flutter-upload-container":u()(u()(u()({},a("100%","100%")),f),{},{aspectRatio:"1 / 1"})})),fileItemSize16_9:(0,p.css)(u()(u()({},c("100%","100%")),{},{aspectRatio:"16 / 9",".ant-upload-wrapper.ant-upload-picture-card-wrapper .ant-upload.ant-upload-select":u()(u()({},a("100%","100%")),{},{aspectRatio:"16 / 9"}),".flutter-upload-container":u()(u()(u()({},a("100%","100%")),f),{},{aspectRatio:"16 / 9"})})),fileItemSize9_5:(0,p.css)(u()(u()({},c("100%","100%")),{},{aspectRatio:"9 / 5",".ant-upload-wrapper.ant-upload-picture-card-wrapper .ant-upload.ant-upload-select":u()(u()({},a("100%","100%")),{},{aspectRatio:"9 / 5"}),".flutter-upload-container":u()(u()(u()({},a("100%","100%")),f),{},{aspectRatio:"9 / 5"})})),fileItemInfo:(0,p.css)({width:"100%",height:"100%"}),fileItemInfoThumbnail:(0,p.css)({width:"100%",height:"100%",borderRadius:"6.5px",cursor:"pointer",objectFit:"contain"}),fileItemInfoName:(0,p.css)({position:"absolute",cursor:"pointer"}),fileItemActions:i,fileItemProgress:(0,p.css)({position:"absolute",top:0,".ant-progress-outer":{display:"flex"}}),uploadAreaContainer:(0,p.css)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:16,padding:16})},n=(h={},m()(h,d.k_.LARGE,l.fileItemSizeLarge),m()(h,d.k_.DEFAULT,l.fileItemSizeDefault),m()(h,d.k_.SMALL,l.fileItemSizeSmall),h),r={"1:1":l.fileItemSize1_1,"16:9":l.fileItemSize16_9,"9:5":l.fileItemSize9_5},o=function(y){var D=y[0]===d.LA.FIXED;return D?n[y[1]]:r[y[1]]}},95276:function(se,j,e){"use strict";e.d(j,{_w:function(){return dt},rj:function(){return Rt},ym:function(){return Dt}});var v=e(94350),m=e(67294),x=e(68400),u=e.n(x),p=e(15009),d=e.n(p),h=e(96695),t=e.n(h),c=e(99289),i=e.n(c),a=e(19632),f=e.n(a),l=e(5574),n=e.n(l),r=e(9783),o=e.n(r),g=e(97857),y=e.n(g),D=e(13769),P=e.n(D),E=e(52677),O=e.n(E),T=e(74214),S=e(97133),$=e(70173),Z=e(69677),K=e(91992),z=e(34041),w=e(40684),A=e(42075),M=e(66309),b=e(38089),R=e(47673),L=e(94184),N=e.n(L),B=e(27484),V=e.n(B),U=e(26793),I=e(3329),F=e(28459),W=e(15867),X=e(85893),J=["disableWave"],C=(0,m.forwardRef)(function(He,ct){var St=He.disableWave,Tt=St===void 0?!1:St,Mt=P()(He,J),Zt=(0,m.useMemo)(function(){return{fontStyle:"italic",fontFamily:"New York, Times New Roman, Times, serif"}},[]);return(0,X.jsx)(F.ZP,{wave:{disabled:Tt},children:(0,X.jsxs)(W.ZP,y()(y()({"aria-label":"variable-button",ref:ct,style:Zt},Mt),{},{children:["x",He.children]}))})});C.displayName="XButton";var k=e(60094),Y=(0,k.l6)("nb-variable",function(He){var ct=He.componentCls,St=He.lineWidth,Tt=He.colorFillQuaternary,Mt=He.paddingSM-1,Zt=8,Je=Zt-St,et=He.fontSizeSM,rt="".concat(He.lineHeightSM*et,"px"),yt=Tt;return o()({},ct,{width:"auto",display:"flex","&.ant-input-group-compact":{display:"flex"},".ant-input-disabled":{".ant-tag":{color:"#bfbfbf",borderColor:"#d9d9d9"}},".ant-input.null-value":{width:"4em",minWidth:"4em"},".ant-formily-item .ant-formily-item-control .ant-formily-item-control-content .ant-formily-item-control-content-component":{lineHeight:"normal"},".ant-formily-item":{marginBottom:0},".ant-input":{borderTopRightRadius:0,borderBottomRightRadius:0,padding:"8px 11px"},".ant-tag":{display:"inline-block",height:"auto",marginInlineEnd:He.marginXS,paddingInline:Je,fontSize:et,lineHeight:rt,whiteSpace:"nowrap",background:yt,border:"".concat(He.lineWidth,"px ").concat(He.lineType," ").concat(He.colorBorder),borderRadius:He.borderRadiusSM,opacity:1,transition:"all ".concat(He.motionDurationMid),textAlign:"start"},".ant-tag-blue":{color:He.colorPrimaryText,background:He.colorPrimaryBg,borderColor:He.colorPrimaryBorder},".clear-button":{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Mt,zIndex:1,display:"none",width:He.fontSizeIcon,height:He.fontSizeIcon,marginTop:-He.fontSizeIcon/2,color:He.colorTextQuaternary,fontSize:He.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:He.colorBgContainer,cursor:"pointer",opacity:.8,transition:"color ".concat(He.motionDurationMid," ease, opacity ").concat(He.motionDurationSlow," ease"),textRendering:"auto",userSelect:"none","&:before":{display:"block"},"&:hover":{color:He.colorTextTertiary}},".ant-btn":{height:"auto"},".variable":{flex:1}})}),H,te=["onChange","value"],le=["onChange","value"],ne=["onChange","value"],ie=["onChange","value"],ee=["component"],fe=/^\s*{{\s*([^{}]+)\s*}}\s*$/;function de(He){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(He==null)return"null";var St=O()(He);if(St==="string"){var Tt=He.match(fe);if(Tt)return Tt[1].split(".");if(ct.stringToDate&&!Number.isNaN(Date.parse(He)))return"date"}return St==="object"&&He instanceof Date?"date":St}function ue(){var He=(0,U.$)(),ct=He.t;return(0,X.jsx)(Z.Z,{style:{width:"100%"},readOnly:!0,placeholder:"<".concat(ct("Null"),">"),className:"null-value"})}var Se={string:{label:'{{t("String")}}',value:"string",component:function(ct){var St=ct.onChange,Tt=ct.value,Mt=P()(ct,te);return(0,X.jsx)(Z.Z,y()({value:Tt,onChange:function(Je){return St(Je.target.value)}},Mt))},default:""},number:{label:'{{t("Number")}}',value:"number",component:function(ct){var St=ct.onChange,Tt=ct.value,Mt=P()(ct,le);return(0,X.jsx)(K.Z,y()({value:Tt,onChange:St},Mt))},default:0},boolean:{label:'{{t("Boolean")}}',value:"boolean",component:function(ct){var St=ct.onChange,Tt=ct.value,Mt=P()(ct,ne),Zt=(0,U.$)(),Je=Zt.t;return(0,X.jsx)(z.default,y()(y()({value:Tt,onChange:St,placeholder:Je("Select"),options:[{value:!0,label:Je("True")},{value:!1,label:Je("False")}]},Mt),{},{className:N()(Mt.className,"auto-width")}))},default:!1},date:{label:'{{t("Date")}}',value:"date",component:function(ct){var St=ct.onChange,Tt=ct.value,Mt=P()(ct,ie);return(0,X.jsx)(w.default,y()({value:V()(Tt),onChange:function(Je){return Je?St(Je.toDate()):null},allowClear:!1,showTime:!0},Mt))},default:function(){var He=new Date;return new Date(He.getFullYear(),He.getMonth(),He.getDate(),0,0,0)}()},null:{label:'{{t("Null")}}',value:"null",component:ue,default:null}};function ae(He,ct,St){var Tt,Mt,Zt=Object.values(Se).filter(function(et){return et.value!=="null"}),Je=(ct?Zt.filter(function(et){return Array.isArray(ct)&&ct.filter(function(rt){return Array.isArray(rt)?rt[0]===et.value:rt===et.value}).length||ct===!0}):Zt).map(function(et){return Object.keys(St).reduce(function(rt,yt){return yt in et?Object.assign(rt,o()({},St[yt],et[yt])):rt},y()({},et))});return Mt={value:" ",label:'{{t("Constant")}}',children:Je},o()(Mt,St.value," "),o()(Mt,St.label,'{{t("Constant")}}'),o()(Mt,St.children,Je),o()(Mt,"component",(Tt=Se[He])===null||Tt===void 0?void 0:Tt.component),Mt}function G(He){var ct,St,Tt=He.value,Mt=Tt===void 0?"":Tt,Zt=He.onChange,Je=He.children,et=He.button,rt=He.useTypedConstant,yt=He.style,xt=He.className,Ct=He.changeOnSelect,mt=He.fieldNames,at=He.parseOptions,ht=typeof He.scope=="function"?He.scope():He.scope,ot=Y(),kt=ot.wrapSSR,nn=ot.hashId,Lt=ot.componentCls,hn=ot.rootPrefixCls;(0,R.ZP)("".concat(hn,"-input"));var Dn=(0,I.eJ)(),Gt=(0,U.$)(),mn=Gt.t,qt=(0,v.useForm)(),$t=m.useState([]),Pn=n()($t,2),vn=Pn[0],sn=Pn[1],Rn=m.useState([]),un=n()(Rn,2),jt=un[0],rn=un[1],An=m.useState(!!(Je&&Mt!=null)),En=n()(An,2),gn=En[0],jn=En[1],Yt=(0,m.useMemo)(function(){return de(Mt,at)},[at,Mt]),gt=typeof Yt=="string",wt=gt?Yt:"",Vt=gt?null:Yt,It=Object.assign({label:"label",value:"value",children:"children"},mt!=null?mt:{}),zt=(0,m.useMemo)(function(){if(Je){var nr;return nr={value:"$",label:mn("Constant")},o()(nr,It.value,"$"),o()(nr,It.label,mn("Constant")),nr}return rt?ae(wt,rt,It):null},[wt,rt]),In=zt&&!Je?zt.component:ue,Tn=Array.isArray(rt)?(ct=(St=rt.find(function(nr){return Array.isArray(nr)&&nr[0]===wt}))===null||St===void 0?void 0:St[1])!==null&&ct!==void 0?ct:{}:{},en;Mt==null?Je&&gn?en=["$"]:en=[""]:en=Je?["$"]:[" ",wt],(0,m.useEffect)(function(){var nr,rr=zt!=null?zt:{},hr=rr.component,Ar=P()(rr,ee),_r=[(nr={value:"",label:mn("Null")},o()(nr,It.value,""),o()(nr,It.label,mn("Null")),nr)].concat(f()(zt?[Dn(Ar)]:[]),f()(ht?f()(ht):[])).filter(function(Ir){return!Ir.deprecated||(Vt==null?void 0:Vt[0])===Ir[It.value]});sn(_r)},[ht,Vt,zt]);var qn=function(){var nr=i()(d()().mark(function rr(hr){var Ar,_r,Ir,Sr,Mr,Br;return d()().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:if(_r=hr[hr.length-1],!(!((Ar=_r.children)!==null&&Ar!==void 0&&Ar.length)&&!_r.isLeaf&&_r.loadChildren)){Wt.next=24;break}if(!(Vt&&Vt.length>=2)){Wt.next=21;break}Sr=t()(Vt),Wt.prev=4,Sr.s();case 6:if((Mr=Sr.n()).done){Wt.next=13;break}if(Br=Mr.value,Br!==_r[It.value]){Wt.next=11;break}return Ir=Br,Wt.abrupt("break",13);case 11:Wt.next=6;break;case 13:Wt.next=18;break;case 15:Wt.prev=15,Wt.t0=Wt.catch(4),Sr.e(Wt.t0);case 18:return Wt.prev=18,Sr.f(),Wt.finish(18);case 21:return Wt.next=23,_r.loadChildren(_r,Ir,Vt);case 23:sn(function(Ft){return f()(Ft)});case 24:case"end":return Wt.stop()}},rr,null,[[4,15,18,21]])}));return function(hr){return nr.apply(this,arguments)}}(),er=(0,m.useCallback)(function(nr,rr){if(nr[0]==="$"){jn(!0),Vt&&Zt(null,rr);return}else jn(!1);if(nr[0]===""){Zt(null);return}if(nr[0]===" "){if(nr[1]){if(nr[1]!==wt){var hr,Ar;Zt((hr=(Ar=Se[nr[1]])===null||Ar===void 0?void 0:Ar.default)!==null&&hr!==void 0?hr:null,rr)}}else Vt&&Zt(null,rr);return}Zt("{{".concat(nr.join("."),"}}"),rr)},[wt,Vt,Zt]);(0,m.useEffect)(function(){var nr=function(){var rr=i()(d()().mark(function hr(){var Ar,_r,Ir,Sr,Mr;return d()().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:if(!(!Vt||vn.length<=1)){Mn.next=2;break}return Mn.abrupt("return");case 2:Ar=null,_r=[],Ir=d()().mark(function Wt(){var Ft,an;return d()().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(Ft=Vt[Mr],Un.prev=1,Mr!==0){Un.next=6;break}Ar=vn.find(function(Gn){return Gn[It.value]===Ft}),Un.next=10;break;case 6:if(!(Ar.loadChildren&&!((an=Ar.children)!==null&&an!==void 0&&an.length))){Un.next=9;break}return Un.next=9,Ar.loadChildren(Ar,Ft,Vt);case 9:Ar=Ar.children.find(function(Gn){return Gn[It.value]===Ft});case 10:if(Ar){Un.next=12;break}return Un.abrupt("return",{v:void 0});case 12:_r.push(Ar[It.label]),Un.next=18;break;case 15:Un.prev=15,Un.t0=Un.catch(1),(0,$.error)(Un.t0);case 18:case"end":return Un.stop()}},Wt,null,[[1,15]])}),Mr=0;case 6:if(!(Mr<Vt.length)){Mn.next=14;break}return Mn.delegateYield(Ir(),"t0",8);case 8:if(Sr=Mn.t0,!Sr){Mn.next=11;break}return Mn.abrupt("return",Sr.v);case 11:Mr++,Mn.next=6;break;case 14:sn(f()(vn)),rn([].concat(_r));case 16:case"end":return Mn.stop()}},hr)}));return function(){return rr.apply(this,arguments)}}();nr()},[Vt,JSON.stringify(vn)]);var ar=He.disabled||qt.disabled;return kt((0,X.jsxs)(A.Z.Compact,{style:yt,className:N()(Lt,nn,xt),children:[Vt?(0,X.jsxs)("div",{className:(0,S.cx)("variable",(0,S.css)(H||(H=u()([`
              position: relative;
              line-height: 0;

              &:hover {
                .clear-button {
                  display: inline-block;
                }
              }

              .ant-input {
                overflow: auto;
                white-space: nowrap;
                `,`

                .ant-tag {
                  display: inline;
                  line-height: 19px;
                  margin: 0;
                  padding: 2px 7px;
                  border-radius: 10px;
                }
              }
            `])),ar?"":"padding-right: 28px;")),children:[(0,X.jsx)("div",{role:"button","aria-label":"variable-tag",style:{overflow:"hidden"},className:(0,S.cx)("ant-input",{"ant-input-disabled":ar},nn),children:(0,X.jsx)(M.Z,{contentEditable:!1,color:"blue",children:jt.map(function(nr,rr){return(0,X.jsxs)(m.Fragment,{children:[rr?" / ":"",nr]},nr)})})}),ar?null:(0,X.jsx)("span",{role:"button","aria-label":"icon-close",className:(0,S.cx)("clear-button"),unselectable:"on",onClick:function(){jn(!!Je),Zt(null)},children:(0,X.jsx)(T.Z,{})})]}):(0,X.jsx)("div",{style:{flex:1},children:Je&&gn?Je:In?(0,X.jsx)(In,y()(y()({role:"button","aria-label":"variable-constant"},Tn),{},{value:Mt,onChange:Zt})):null}),(0,X.jsx)(b.Z,{options:vn,value:Vt!=null?Vt:en,onChange:er,loadData:qn,changeOnSelect:Ct,fieldNames:mt,disabled:ar,children:et!=null?et:(0,X.jsx)(C,{className:(0,S.css)(`
              margin-left: -1px;
            `),type:Vt?"primary":"default"})})]}))}var re=e(96157),oe=e(96486),ce=(0,k.l6)("nb-variable-select",function(He){var ct=He.componentCls;return o()({},ct,{position:"relative",".ant-select.ant-cascader":{position:"absolute",top:"-1px",right:"-1px",minWidth:"auto",width:"calc(100% + 2px)",height:"calc(100% + 2px)",overflow:"hidden",opacity:0},".variable-btn":{fontStyle:"italic",fontFamily:"'New York', 'Times New Roman', Times, serif"},".Cascader-popupClassName":{".ant-cascader-menu":{marginBottom:0}}})}),be=ce;function xe(He){var ct=He.options,St=He.setOptions,Tt=He.onInsert,Mt=He.changeOnSelect,Zt=Mt===void 0?!1:Mt,Je=He.fieldNames,et=Je===void 0?{}:Je,rt=He.className,yt=He.disableBtnWave,xt=yt===void 0?!1:yt,Ct=(0,U.$)(),mt=Ct.t,at=(0,m.useState)([]),ht=n()(at,2),ot=ht[0],kt=ht[1],nn=be(),Lt=nn.wrapSSR,hn=nn.componentCls,Dn=nn.hashId,Gt=(0,k.dQ)(),mn=Gt.token;function qt(Pn){return $t.apply(this,arguments)}function $t(){return $t=i()(d()().mark(function Pn(vn){var sn,Rn;return d()().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:if(Rn=vn[vn.length-1],!(!((sn=Rn.children)!==null&&sn!==void 0&&sn.length)&&!Rn.isLeaf&&Rn.loadChildren)){jt.next=5;break}return jt.next=4,Rn.loadChildren(Rn);case 4:St(function(rn){return f()(rn)});case 5:case"end":return jt.stop()}},Pn)})),$t.apply(this,arguments)}return Lt((0,X.jsx)(C,{className:(0,S.cx)("x-button",hn,Dn,rt),disableWave:xt,children:(0,X.jsx)(b.Z,{placeholder:mt("Select a variable"),value:[],options:ct,fieldNames:et,loadData:qt,onChange:function(){var vn,sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(kt(sn),!!sn.length){var un=Rn[Rn.length-1];(!(un!=null&&(vn=un.children)!==null&&vn!==void 0&&vn.length)&&!(un!=null&&un.loadChildren)||un!=null&&un.isLeaf)&&Tt(sn)}},changeOnSelect:Zt,onClick:function(vn){if(!(vn.detail!==2||!Zt))for(var sn=vn.target;sn&&sn!==vn.currentTarget;sn=sn.parentNode){var Rn;Array.from((Rn=sn.classList)!==null&&Rn!==void 0?Rn:[]).includes("ant-cascader-menu-item")&&Tt(ot)}},popupClassName:"Cascader-popupClassName",dropdownRender:Zt?function(Pn){return(0,X.jsxs)(X.Fragment,{children:[Pn,(0,X.jsx)("div",{style:{padding:"0.5em",borderTop:"1px solid ".concat(mn.colorBorder),color:mn.colorTextDescription},children:mt("Double click to choose entire object")})]})}:null})}))}var ge,he,Pe,Ae=["changeOnSelect","component"];function Be(He,ct){var St,Tt=(St=Object.getOwnPropertyDescriptor(He.constructor.prototype,"value"))===null||St===void 0?void 0:St.set;Tt==null||Tt.call(He,ct),He.dispatchEvent(new Event("input",{bubbles:!0}))}function Le(He){var ct,St=(0,m.useRef)(null),Tt=He.changeOnSelect,Mt=He.component,Zt=Mt===void 0?Z.Z.TextArea:Mt,Je=P()(He,Ae),et=typeof He.scope=="function"?He.scope():He.scope,rt=(0,m.useState)(et?(0,oe.cloneDeep)(et):[]),yt=n()(rt,2),xt=yt[0],Ct=yt[1];(0,m.useEffect)(function(){et&&Ct(et)},[JSON.stringify(et)]);function mt(at){if(St.current){var ht="{{".concat(at.join("."),"}}"),ot=St.current.resizableTextArea.textArea,kt=ot.value.slice(0,ot.selectionStart)+ht+ot.value.slice(ot.selectionEnd),nn=[ot.selectionStart,ot.selectionStart+ht.length];Be(ot,kt),ot.setSelectionRange.apply(ot,nn),ot.focus()}}return(0,X.jsxs)("div",{className:(0,S.css)(ge||(ge=u()([`
        position: relative;
        .ant-input {
          width: 100%;
        }
      `]))),children:[(0,X.jsx)(Zt,y()(y()({},Je),{},{ref:St})),(0,X.jsx)(W.ZP.Group,{className:(0,S.css)(he||(he=u()([`
          position: absolute;
          right: 0;
          top: 0;
          .ant-btn-sm {
            font-size: 85%;
          }
        `]))),children:(0,X.jsx)(xe,{className:(ct=He.buttonClass)!==null&&ct!==void 0?ct:(0,S.css)(Pe||(Pe=u()([`
              &:not(:hover) {
                border-right-color: transparent;
                border-top-color: transparent;
              }
              background-color: transparent;
            `]))),fieldNames:He.fieldNames,options:xt,setOptions:Ct,onInsert:mt,changeOnSelect:Tt})})]})}var Me;function Te(He){return(0,X.jsx)(Le,y()(y()({buttonClass:(0,S.css)(Me||(Me=u()([`
        &:not(:hover) {
          border-right-color: transparent;
          border-top-color: transparent;
        }
        background-color: transparent;
      `])))},He),{},{component:re.II.JSON}))}var we=e(97762),Ue=e(91036),je=e.n(Ue),De=e(84327),ye=e(98427),_e,q,pe,Re=/{{\s*([^{}]+)\s*}}/g;function Oe(He,ct){var St,Tt,Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Zt=Mt.selectPastedContent,Je=Zt===void 0?!1:Zt,et=Mt.range,rt=(St=(Tt=window).getSelection)===null||St===void 0?void 0:St.call(Tt),yt=rt==null?void 0:rt.getRangeAt(0);if(yt){if(et){var xt=Array.from(He.childNodes);et[0]===-1?et[1]?yt.setStartAfter(xt[et[1]-1]):yt.setStart(He,0):yt.setStart(xt[et[0]],et[1]),et[2]===-1?et[3]?yt.setEndAfter(xt[et[3]-1]):yt.setEnd(He,0):yt.setEnd(xt[et[2]],et[3])}var Ct=document.createElement("div");Ct.innerHTML=ct;for(var mt=document.createDocumentFragment(),at;Ct.firstChild;)at=mt.appendChild(Ct.firstChild);var ht=mt.firstChild;if(yt.deleteContents(),yt.insertNode(mt),at){var ot=new Range;ot.setStartAfter(at),Je?ht&&ot.setStartBefore(ht):ot.collapse(!0),rt.removeAllRanges(),rt.addRange(ot)}}}function $e(He){var ct=[],St=t()(He.childNodes),Tt;try{for(St.s();!(Tt=St.n()).done;){var Mt=Tt.value;Mt.nodeName==="SPAN"&&Mt.dataset.variable?ct.push("{{".concat(Mt.dataset.variable,"}}")):ct.push(Mt.textContent)}}catch(Zt){St.e(Zt)}finally{St.f()}return ct.join("")}function Ve(He,ct){return He.replace(Re,function(St,Tt){var Mt,Zt=Tt.trim();return(Mt=qe(Zt,ct))!==null&&Mt!==void 0?Mt:""})}function Ze(He){var ct=new Map,St=t()(He),Tt;try{for(St.s();!(Tt=St.n()).done;){var Mt=Tt.value;if(ct.set(Mt.value,[Mt.label]),Mt.children){var Zt=t()(Ze(Mt.children)),Je;try{for(Zt.s();!(Je=Zt.n()).done;){var et=n()(Je.value,2),rt=et[0],yt=et[1];ct.set("".concat(Mt.value,".").concat(rt),[Mt.label].concat(f()(yt)))}}catch(xt){Zt.e(xt)}finally{Zt.f()}}}}catch(xt){St.e(xt)}finally{St.f()}return ct}function qe(He,ct){var St=ct.get(He);return St&&(St=St.map(function(Tt){return(0,De.isReactElement)(Tt)?(0,we.Dq)(Tt):Tt})),'<span class="ant-tag ant-tag-blue" contentEditable="false" data-variable="'.concat(He,'">').concat(St?St.join(" / "):"...","</span>")}function Qe(He,ct,St){if(ct===-1){var Tt,Mt=St,Zt=!1;Mt&&He[Mt-1].nodeName==="#text"&&((Tt=He[Mt])===null||Tt===void 0?void 0:Tt.nodeName)==="#text"&&(Zt=!0);for(var Je=0,et=St-1;et>=0;et--){var rt;Zt&&(He[et].nodeName==="#text"?Je+=He[et].textContent.length:Zt=!1),He[et].nodeName==="#text"&&((rt=He[et+1])===null||rt===void 0?void 0:rt.nodeName)==="#text"&&(Mt-=1)}return Je?[Mt,Je]:[-1,Mt]}else{for(var yt=0,xt=0,Ct=0;Ct<ct+1;Ct++)He[Ct].nodeName==="#text"?(Ct!==ct&&He[Ct+1]&&He[Ct+1].nodeName!=="#text"&&(yt+=1),xt+=Ct===ct?St:He[Ct].textContent.length):(yt+=1,xt=0);return[yt,xt]}}function ke(He){var ct,St,Tt=(ct=(St=window).getSelection)===null||ct===void 0?void 0:ct.call(St),Mt=Tt==null?void 0:Tt.getRangeAt(0);if(!Mt)return[-1,0,-1,0];var Zt=Array.from(He.childNodes);if(!Zt.length)return[-1,0,-1,0];var Je=Mt.startContainer===He?-1:Zt.indexOf(Mt.startContainer),et=Mt.endContainer===He?-1:Zt.indexOf(Mt.endContainer),rt=[].concat(f()(Qe(Zt,Je,Mt.startOffset)),f()(Qe(Zt,et,Mt.endOffset)));return rt}function ft(He){var ct=Y(),St=ct.wrapSSR,Tt=ct.hashId,Mt=ct.componentCls,Zt=He.value,Je=Zt===void 0?"":Zt,et=He.scope,rt=He.onChange,yt=He.multiline,xt=yt===void 0?!0:yt,Ct=He.changeOnSelect,mt=(0,m.useRef)(null),at=(0,m.useState)([]),ht=n()(at,2),ot=ht[0],kt=ht[1],nn=(0,v.useForm)(),Lt=(0,m.useMemo)(function(){return Ze(ot)},[ot]),hn=(0,m.useState)(!1),Dn=n()(hn,2),Gt=Dn[0],mn=Dn[1],qt=(0,m.useState)(!1),$t=n()(qt,2),Pn=$t[0],vn=$t[1],sn=(0,m.useState)(function(){return Ve(Je!=null?Je:"",Lt)}),Rn=n()(sn,2),un=Rn[0],jt=Rn[1],rn=(0,m.useState)([-1,0,-1,0]),An=n()(rn,2),En=An[0],gn=An[1];(0,m.useEffect)(function(){vt(et,Je).then(function(Tn){kt(Tn)}).catch(function(Tn){(0,$.captureException)(Tn)})},[et,Je]),(0,m.useEffect)(function(){jt(Ve(Je!=null?Je:"",Lt)),Pn||gn([-1,0,-1,0])},[Je,Lt]),(0,m.useEffect)(function(){var Tn=mt.current;if(Tn){var en=new Range;if(Pn){var qn,er;if(En.join()==="-1,0,-1,0")return;var ar=(qn=(er=window).getSelection)===null||qn===void 0?void 0:qn.call(er);if(ar)try{var nr=Array.from(Tn.childNodes);nr.length&&(En[0]===-1?En[1]&&en.setStartAfter(nr[En[1]-1]):en.setStart(nr[En[0]],En[1]),En[2]===-1?En[3]&&en.setEndAfter(nr[En[3]-1]):en.setEnd(nr[En[2]],En[3])),en.collapse(!0),ar.removeAllRanges(),ar.addRange(en)}catch(Ir){}}else{var rr=Tn.lastChild;if(rr){en.setStartAfter(rr),en.setEndAfter(rr);var hr=Array.from(Tn.childNodes),Ar=en.startContainer===Tn?-1:hr.indexOf(rr),_r=en.startContainer===Tn?-1:hr.indexOf(rr);gn([Ar,en.startOffset,_r,en.endOffset])}}}},[un]);var jn=(0,m.useCallback)(function(Tn){var en=Tn.filter(function(ar){return!!ar.trim()}),qn=mt.current;if(!(!qn||!en)){qn.focus();var er=qe(en.join("."),Lt);Oe(qn,er,{range:En}),vn(!0),gn(ke(qn)),rt($e(qn))}},[Lt,rt,En]),Yt=(0,m.useCallback)(function(Tn){var en=Tn.currentTarget;Gt||(vn(!0),gn(ke(en)),rt($e(en)))},[Gt,rt]),gt=(0,m.useCallback)(function(Tn){var en=Tn.currentTarget;gn(ke(en))},[]),wt=(0,m.useCallback)(function(Tn){Tn.key==="Enter"&&Tn.preventDefault()},[]),Vt=(0,m.useCallback)(function(){mn(!0)},[]),It=(0,m.useCallback)(function(Tn){var en=Tn.currentTarget;mn(!1),vn(!0),gn(ke(en)),rt($e(en))},[rt]),zt=(0,m.useCallback)(function(Tn){Tn.preventDefault();var en=Tn.clipboardData.getData("text/html")||Tn.clipboardData.getData("text"),qn=je()(en,{allowedTags:["span"],allowedAttributes:{span:["data-variable","contenteditable"]},allowedClasses:{span:["ant-tag","ant-tag-*"]},transformTags:{span:function(ar,nr){return nr["data-variable"]?{tagName:ar,attribs:nr}:{}}}}).replace(/\n/g," ");vn(!0),Oe(Tn.currentTarget,qn),gn(ke(Tn.currentTarget)),rt($e(Tn.currentTarget))},[rt]),In=He.disabled||nn.disabled;return St((0,X.jsxs)(A.Z.Compact,{className:(0,S.cx)(Mt,Tt,(0,S.css)(_e||(_e=u()([`
          display: flex;
          .ant-input {
            flex-grow: 1;
            min-width: 200px;
            word-break: break-all;
          }
          .ant-input-disabled {
            .ant-tag {
              color: #bfbfbf;
              border-color: #d9d9d9;
            }
          }
        `])))),children:[(0,X.jsx)("div",{role:"button","aria-label":"textbox",onInput:Yt,onBlur:gt,onKeyDown:wt,onPaste:zt,onCompositionStart:Vt,onCompositionEnd:It,className:(0,S.cx)(Tt,"ant-input",{"ant-input-disabled":In},(0,S.css)(q||(q=u()([`
            overflow: auto;
            white-space: `,`;

            .ant-tag {
              display: inline;
              line-height: 19px;
              margin: 0 0.5em;
              padding: 2px 7px;
              border-radius: 10px;
            }
          `])),xt?"normal":"nowrap")),ref:mt,contentEditable:!In,dangerouslySetInnerHTML:{__html:un}}),In?null:(0,X.jsx)(xe,{className:"",options:ot,setOptions:kt,onInsert:jn,changeOnSelect:Ct})]}))}function vt(He,ct){return _t.apply(this,arguments)}function _t(){return _t=i()(d()().mark(function He(ct,St){var Tt,Mt,Zt,Je,et,rt;return d()().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:Tt=f()(ct!=null?ct:[]),Tt=Tt.filter(function(Ct){return!Ct.deprecated||(St==null?void 0:St.includes(Ct.value))}),Re.lastIndex=0;case 3:if(!(Mt=Re.exec(St!=null?St:""))){xt.next=15;break}Zt=Mt[1].split("."),Je=null,et=d()().mark(function Ct(){var mt,at;return d()().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(mt=Zt[rt],ot.prev=1,rt!==0){ot.next=6;break}Je=Tt.find(function(kt){return kt.value===mt}),ot.next=10;break;case 6:if(!(Je.loadChildren&&!((at=Je.children)!==null&&at!==void 0&&at.length))){ot.next=9;break}return ot.next=9,Je.loadChildren(Je);case 9:Je=Je.children.find(function(kt){return kt.value===mt});case 10:ot.next=15;break;case 12:ot.prev=12,ot.t0=ot.catch(1),(0,$.error)(ot.t0);case 15:case"end":return ot.stop()}},Ct,null,[[1,12]])}),rt=0;case 8:if(!(rt<Zt.length)){xt.next=13;break}return xt.delegateYield(et(),"t0",10);case 10:rt++,xt.next=8;break;case 13:xt.next=3;break;case 15:return xt.abrupt("return",Tt);case 16:case"end":return xt.stop()}},He)})),_t.apply(this,arguments)}ft.ReadPretty=function(ct){var St=ct.value,Tt=typeof ct.scope=="function"?ct.scope():ct.scope,Mt=(0,m.useState)([]),Zt=n()(Mt,2),Je=Zt[0],et=Zt[1],rt=(0,m.useMemo)(function(){return Ze(Je)},[Je]);(0,m.useEffect)(function(){vt(Tt,St).then(function(Ct){et(Ct)}).catch($.error)},[Tt,St]);var yt=Ve(St!=null?St:"",rt),xt=(0,X.jsx)("span",{dangerouslySetInnerHTML:{__html:yt},className:(0,S.css)(pe||(pe=u()([`
        overflow: auto;

        .ant-tag {
          display: inline;
          line-height: 19px;
          margin: 0 0.25em;
          padding: 2px 7px;
          border-radius: 10px;
        }
      `])))});return(0,X.jsx)(ye.BQs,{ellipsis:!0,popoverContent:xt,children:xt})};var Nt=e(64086);function Kt(He){var ct=He.value,St=He.onChange,Tt=He.scope,Mt=(0,m.useState)([]),Zt=n()(Mt,2),Je=Zt[0],et=Zt[1],rt=(0,m.useRef)(null);(0,m.useEffect)(function(){vt(Tt,ct).then(function(xt){et(xt)}).catch(function(xt){(0,$.captureException)(xt)})},[Tt,ct]);function yt(xt){if(rt.current){var Ct="{{".concat(xt.join("."),"}}");rt.current.focus();var mt=rt.current.getSelection(),at=mt?mt.index:0;rt.current.insertText(at,Ct),St(rt.current.getSemanticHTML())}}return(0,X.jsx)(Nt.H,y()(y()({ref:rt},(0,oe.pick)(He,["defaultValue","disabled","onBlur","onChange","onFocus","readOnly","value"])),{},{extraToolbar:(0,X.jsx)(xe,{className:"",disableBtnWave:!0,options:Je,setOptions:et,onInsert:yt})}))}Kt.ReadPretty=function(ct){return(0,X.jsx)(re.iV.Html,y()({},ct))},Kt.mapProps=function(){return{initialValue:"defaultValue"}};var ut=(0,m.createContext)([]);ut.displayName="VariableScopeContext";function Rt(He){var ct=He.scope,St=ct===void 0?[]:ct,Tt=He.children;return(0,X.jsx)(ut.Provider,{value:St,children:Tt})}function Dt(){return(0,m.useContext)(ut)}function dt(){return null}dt.Input=(0,v.connect)(G),dt.TextArea=(0,v.connect)(ft,(0,v.mapReadPretty)(ft.ReadPretty)),dt.RawTextArea=(0,v.connect)(Le),dt.RichTextArea=(0,v.connect)(Kt,(0,v.mapProps)(Kt.mapProps()),(0,v.mapReadPretty)(Kt.ReadPretty)),dt.JSON=(0,v.connect)(Te);var Bt=null},72724:function(se,j,e){"use strict";e.d(j,{L:function(){return l}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(94697),d=e(94350),h=e(67294),t=e(26793),c=e(21143),i=e(3329),a=e(85893),f=function(r){var o=(0,i.ng)(),g=o.refresh,y=(0,c.useAPIClient)(),D=(0,t.$)(),P=D.t;return(0,h.useCallback)(function(E){var O,T,S,$,Z,K,z,w,A=E.active,M=E.over,b=A==null||(O=A.data)===null||O===void 0||(O=O.current)===null||O===void 0?void 0:O.schema,R=M==null||(T=M.data)===null||T===void 0||(T=T.current)===null||T===void 0?void 0:T.schema,L=M==null||(S=M.data)===null||S===void 0||(S=S.current)===null||S===void 0?void 0:S.insertAdjacent,N=M==null||($=M.data)===null||$===void 0||($=$.current)===null||$===void 0?void 0:$.breakRemoveOn,B=M==null||(Z=M.data)===null||Z===void 0||(Z=Z.current)===null||Z===void 0?void 0:Z.wrapSchema,V=M==null||(K=M.data)===null||K===void 0||(K=K.current)===null||K===void 0?void 0:K.onSuccess,U=(z=M==null||(w=M.data)===null||w===void 0||(w=w.current)===null||w===void 0?void 0:w.removeParentsIfNoChildren)!==null&&z!==void 0?z:!0;if(!b||!R){r==null||r(E);return}if(b===R){r==null||r(E);return}if(b.parent===R&&L==="beforeEnd"){r==null||r(E);return}var I=(0,i.Pl)({t:P,api:y,refresh:g,current:R});if(I.loadAPIClientEvents(),b.parent===R.parent){I.insertBeforeBeginOrAfterEnd(b),r==null||r(E);return}if(L){I.insertAdjacent(L,b,{wrap:B,breakRemoveOn:N,removeParentsIfNoChildren:U,onSuccess:V}),r==null||r(E);return}},[r])},l=(0,d.observer)(function(n){var r=(0,t.$)(),o=r.t,g=(0,h.useState)(!0),y=u()(g,2),D=y[0],P=y[1],E=(0,h.useCallback)(function(T){var S,$=T.active,Z=$==null||(S=$.data)===null||S===void 0||(S=S.current)===null||S===void 0?void 0:S.schema;if(P(!!Z),n!=null&&n.onDragStart){var K;n==null||(K=n.onDragStart)===null||K===void 0||K.call(n,T)}},[n==null?void 0:n.onDragStart]),O=f(n==null?void 0:n.onDragEnd);return(0,a.jsxs)(p.DndContext,m()(m()({collisionDetection:p.rectIntersection},n),{},{onDragStart:E,onDragEnd:O,children:[(0,a.jsx)(p.DragOverlay,{dropAnimation:{duration:10,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:D&&(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},children:o("Dragging")})}),n.children]}))},{displayName:"DndContext"})},79136:function(se,j,e){"use strict";e.d(j,{I:function(){return o},U:function(){return r}});var v=e(5574),m=e.n(v),x=e(68400),u=e.n(x),p=e(67294),d=e(9361),h=e(97133),t=e(94350),c=e(96486),i=e.n(c),a=e(58809),f=e(85893),l,n=function(y){return(0,h.css)(l||(l=u()([`
  .nb-theme {
    padding: `,"px ",`px;
    margin-bottom: `,`px;
    border-radius: `,`px;
    cursor: pointer;
  }
  .nb-theme-flex {
    display: flex;
    align-items: center;
  }
  .nb-theme-color {
    flex: 1;
    height: 30px;
    border-radius: `,`px;
  }
`])),y.padding,y.paddingXL,y.margin,y.borderRadiusLG,y.borderRadiusLG)},r=(0,t.observer)(function(g){var y,D=g.style,P=D===void 0?{}:D,E=g.value,O=d.Z.useToken(),T=O.token,S=(0,p.useState)((y=E||{})===null||y===void 0?void 0:y.name),$=m()(S,2),Z=$[0],K=$[1];return(0,f.jsx)("div",{className:n(T),style:P,children:a.Zj.map(function(z){return(0,f.jsx)("section",{className:"nb-theme",style:{border:"2px solid ".concat(Z===z.name?T.colorPrimary:T.colorBorder)},onClick:function(){var A;K(z.name),g==null||(A=g.onChange)===null||A===void 0||A.call(g,(0,c.pick)(a.Zj.filter(function(M){return M.name===z.name})[0],["name"]))},children:(0,f.jsxs)("div",{className:"nb-theme-flex",children:[(0,f.jsx)("span",{style:{width:115},children:z.name}),(0,f.jsx)("div",{className:"nb-theme-color",style:{background:z.token.xwColorPrimary}})]})},z.name)})})},{displayName:"EditTheme"}),o=function(y){var D=a.Zj.filter(function(P){return Object.keys(P.token).every(function(E){return P.token[E]===(y==null?void 0:y[E])})})[0];return D}},13006:function(se,j,e){"use strict";e.r(j),e.d(j,{DndContext:function(){return v.L},DragHandler:function(){return x.IW},DraggableContext:function(){return x.LC},EditTheme:function(){return m.U},Sortable:function(){return x.bt},SortableContext:function(){return x.Fo},SortableItem:function(){return x.TR},SortableProvider:function(){return x.OR},XPopup:function(){return y},XSwiper:function(){return X},checkThemeType:function(){return m.I},conditionAnalyses:function(){return u.jC},getInnermostKeyAndValue:function(){return u.od},getRenderContent:function(){return u.I9},getTargetField:function(){return u.Rq},handleScroll:function(){return d},parseVariables:function(){return u.e7},targetFieldToVariableString:function(){return u.qf}});var v=e(72724),m=e(79136),x=e(20493),u=e(34588),p=e(70173),d=function(C,k,Y){if(p.isMobile){var H=C==null?void 0:C.querySelectorAll(":scope > .CardRow"),te=C==null?void 0:C.querySelectorAll(".x-swiper-content");te&&te.forEach(function(le){var ne=window.innerHeight/2,ie=le.getBoundingClientRect();ie.height>window.innerHeight&&ie.top<=ne&&ie.bottom>=ne?le.classList.add("x-swiper-opt_fixed"):le.classList.remove("x-swiper-opt_fixed")}),H&&H.forEach(function(le){var ne=le.querySelector(".nb-action-bar, .ant-card-head"),ie=le.querySelector(".nb-action-bar-footer_virtual"),ee=le.getBoundingClientRect();Math.ceil(ee.top)<k&&ee.bottom>=window.innerHeight?(ie&&(ie.style.display="flex"),ne&&(ne.classList.add("nb-block-header-sticky"),ne.style.top="".concat(Y,"px"))):(ie&&(ie.style.display="none"),ne&&ne.classList.remove("nb-block-header-sticky")),ne=ie=null}),H=te=null}},h=e(68400),t=e.n(h),c=e(67294),i=e(73935),a=e(94184),f=e.n(a),l=e(97133),n=e(85893),r,o=(0,l.css)(r||(r=t()([`
  &.x-popup {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    top: 0;
    z-index: 10001;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: center;
    align-items: flex-end;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }
  .x-popup-content {
    min-height: 10rem;
    width: 100%;
    padding: 3rem 1.6rem 1.6rem;
    border-radius: 0.8rem 0.8rem 0 0;
    background: #fff;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    transform: translateY(100%);
    transition: transform 0.3s ease;
  }
  &.x-popup.visible {
    opacity: 1;
    visibility: visible;
    .x-popup-content {
      transform: translateY(0);
    }
  }
`]))),g=window.innerHeight,y=function(C){var k=C.visible,Y=C.setVisible,H=C.children,te=C.getContainer,le=C.className,ne=le===void 0?"":le,ie=C.handleKeyboardVisible,ee=ie===void 0?function(){}:ie,fe=(0,c.useRef)(null);(0,c.useEffect)(function(){var ue=function(){var ae,G=window.innerHeight,re=G<g;ee(re),(ae=fe.current)===null||ae===void 0||(ae=ae.classList)===null||ae===void 0||ae[re?"add":"remove"]("x-popup-content_focus")};return window.addEventListener("resize",ue),function(){window.removeEventListener("resize",ue)}},[]);var de=(0,n.jsx)("div",{className:f()("x-popup ".concat(k?"visible":""),o,ne),onClick:function(Se){Se.stopPropagation(),Y(!1)},children:(0,n.jsx)("div",{ref:fe,className:"x-popup-content",onClick:function(Se){return Se.stopPropagation()},children:H})});return te?i.createPortal(de,document.querySelector(te)):de},D=e(97857),P=e.n(D),E=e(5574),O=e.n(E),T=e(15746),S=Object.defineProperty,$=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,z=(J,C,k)=>C in J?S(J,C,{enumerable:!0,configurable:!0,writable:!0,value:k}):J[C]=k,w=(J,C)=>{for(var k in C||(C={}))Z.call(C,k)&&z(J,k,C[k]);if($)for(var k of $(C))K.call(C,k)&&z(J,k,C[k]);return J};const A=J=>React.createElement("svg",w({width:53,height:60,fill:"none",xmlns:"http://www.w3.org/2000/svg"},J),React.createElement("g",{filter:"url(#left_svg__a)"},React.createElement("rect",{x:3,y:6,width:40,height:40,rx:20,fill:"#fff"}),React.createElement("rect",{x:3.5,y:6.5,width:39,height:39,rx:19.5,stroke:"#E5E6EB"}),React.createElement("path",{d:"M15.28 26.105a.794.794 0 0 1 0-1.21l10.507-8.724c.489-.406 1.213-.044 1.213.606v17.446c0 .65-.724 1.012-1.213.606L15.28 26.105Z",fill:"#4B5563"})),React.createElement("defs",null,React.createElement("filter",{id:"left_svg__a",x:-7,y:0,width:60,height:60,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},React.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),React.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),React.createElement("feOffset",{dy:4}),React.createElement("feGaussianBlur",{stdDeviation:5}),React.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),React.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1765_7388"}),React.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1765_7388",result:"shape"}))));var M="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cmVjdCB4PSIzIiB5PSI2IiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHJ4PSIyMCIgZmlsbD0iI2ZmZiIvPjxyZWN0IHg9IjMuNSIgeT0iNi41IiB3aWR0aD0iMzkiIGhlaWdodD0iMzkiIHJ4PSIxOS41IiBzdHJva2U9IiNFNUU2RUIiLz48cGF0aCBkPSJNMTUuMjggMjYuMTA1YS43OTQuNzk0IDAgMCAxIDAtMS4yMWwxMC41MDctOC43MjRjLjQ4OS0uNDA2IDEuMjEzLS4wNDQgMS4yMTMuNjA2djE3LjQ0NmMwIC42NS0uNzI0IDEuMDEyLTEuMjEzLjYwNkwxNS4yOCAyNi4xMDVaIiBmaWxsPSIjNEI1NTYzIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImEiIHg9Ii03IiB5PSIwIiB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz48ZmVPZmZzZXQgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI1Ii8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjEgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18xNzY1XzczODgiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTc2NV83Mzg4IiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==",b=Object.defineProperty,R=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,B=(J,C,k)=>C in J?b(J,C,{enumerable:!0,configurable:!0,writable:!0,value:k}):J[C]=k,V=(J,C)=>{for(var k in C||(C={}))L.call(C,k)&&B(J,k,C[k]);if(R)for(var k of R(C))N.call(C,k)&&B(J,k,C[k]);return J};const U=J=>React.createElement("svg",V({width:52,height:60,fill:"none",xmlns:"http://www.w3.org/2000/svg"},J),React.createElement("g",{filter:"url(#right_svg__a)"},React.createElement("rect",{x:50,y:46,width:40,height:40,rx:20,transform:"rotate(-180 50 46)",fill:"#fff"}),React.createElement("rect",{x:49.5,y:45.5,width:39,height:39,rx:19.5,transform:"rotate(-180 49.5 45.5)",stroke:"#E5E6EB"}),React.createElement("path",{d:"M37.72 25.895c.373.31.373.9 0 1.21L27.214 35.83c-.49.406-1.214.044-1.214-.606V17.777c0-.65.724-1.012 1.213-.606l10.507 8.724Z",fill:"#4B5563"})),React.createElement("defs",null,React.createElement("filter",{id:"right_svg__a",x:0,y:0,width:60,height:60,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},React.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),React.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),React.createElement("feOffset",{dy:4}),React.createElement("feGaussianBlur",{stdDeviation:5}),React.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),React.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1765_7389"}),React.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1765_7389",result:"shape"}))));var I="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cmVjdCB4PSI1MCIgeT0iNDYiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcng9IjIwIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTgwIDUwIDQ2KSIgZmlsbD0iI2ZmZiIvPjxyZWN0IHg9IjQ5LjUiIHk9IjQ1LjUiIHdpZHRoPSIzOSIgaGVpZ2h0PSIzOSIgcng9IjE5LjUiIHRyYW5zZm9ybT0icm90YXRlKC0xODAgNDkuNSA0NS41KSIgc3Ryb2tlPSIjRTVFNkVCIi8+PHBhdGggZD0iTTM3LjcyIDI1Ljg5NWMuMzczLjMxLjM3My45IDAgMS4yMUwyNy4yMTQgMzUuODNjLS40OS40MDYtMS4yMTQuMDQ0LTEuMjE0LS42MDZWMTcuNzc3YzAtLjY1LjcyNC0xLjAxMiAxLjIxMy0uNjA2bDEwLjUwNyA4LjcyNFoiIGZpbGw9IiM0QjU1NjMiLz48L2c+PGRlZnM+PGZpbHRlciBpZD0iYSIgeD0iMCIgeT0iMCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+PGZlT2Zmc2V0IGR5PSI0Ii8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNSIvPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4xIDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTc2NV83Mzg5Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzE3NjVfNzM4OSIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=",F,W=(0,l.css)(F||(F=t()([`
  .x-swiper-opt {
    position: absolute;
    top: 50%;
    z-index: 9999;
    width: 4rem;
    height: 4rem;
  }
  .x-swiper-opt_prev {
    left: 0.2rem;
  }
  .x-swiper-opt_next {
    right: 0.2rem;
  }

  &.x-swiper-opt_fixed {
    .x-swiper-opt {
      position: fixed;
    }
  }
`]))),X=function(C){var k,Y=C.field,H=C.service,te=C.renderLoading,le=C.style,ne=C.children,ie=H.run,ee=H.params,fe=H.loading,de=H==null||(k=H.data)===null||k===void 0?void 0:k.meta,ue=(0,c.useState)(1),Se=O()(ue,2),ae=Se[0],G=Se[1],re=(0,c.useState)(0),oe=O()(re,2),ce=oe[0],be=oe[1],xe=(0,c.useRef)(ce),ge=function(){ce===Y.value.length-1&&ae*de.pageSize>=de.count||(ce<Y.value.length-1&&be(ce+1),ce===Y.value.length-1&&(G(ae+1),be(0)))},he=function(){ce===0&&ae<=1||(ce>0&&be(ce-1),ce===0&&(G(ae-1),be(de.pageSize-1)))};(0,c.useEffect)(function(){de&&(ae-1)*de.pageSize<=de.count&&ie(P()(P()({},ee==null?void 0:ee[0]),{},{page:ae,pageSize:de.pageSize}))},[ae]),(0,c.useEffect)(function(){xe.current=ce},[ce]);var Pe=(0,c.useRef)(0),Ae=(0,c.useRef)(0),Be=function(we){Pe.current=Ae.current=we.touches[0].clientX},Le=function(we){Ae.current=we.touches[0].clientX},Me=function(){Pe.current-Ae.current>50?ge():Pe.current-Ae.current<-50&&he()};return(0,n.jsx)("div",{style:le,onTouchStart:Be,onTouchMove:Le,onTouchEnd:Me,children:Y.value.length?(0,n.jsxs)("div",{className:(0,l.cx)(W,"x-swiper-content"),style:{overflow:"hidden",width:"100%"},children:[(0,n.jsx)("div",{style:{display:"flex",transition:Math.abs(ce-xe.current)<=1?"transform 0.3s ease":"",transform:"translateX(-".concat(ce*100,"%)")},children:Y.value.map(function(Te,we){var Ue;return(0,n.jsx)(T.Z,{style:{flex:"0 0 100%",maxWidth:"100%",height:ce===we?"100%":0},className:"x-swiper-item",children:c.cloneElement(ne,{basePath:Y.address,name:we,schema:ne!=null&&(Ue=ne.props)!==null&&Ue!==void 0&&Ue.schema&&typeof ne.props.schema=="function"?ne.props.schema(we):ne.props.schema,loading:!!(fe||Math.abs(ce-xe.current)>1)})},Te.id)})}),!(fe||Math.abs(ce-xe.current)>1)&&(0,n.jsxs)(n.Fragment,{children:[ce===0&&ae<=1?null:(0,n.jsx)("span",{onClick:he,className:"x-swiper-opt x-swiper-opt_prev",style:{background:"url('".concat(M,"') no-repeat center center/cover")}}),ce===Y.value.length-1&&ae*de.pageSize>=de.count?null:(0,n.jsx)("span",{onClick:ge,className:"x-swiper-opt x-swiper-opt_next",style:{background:"url('".concat(I,"') no-repeat center center/cover")}})]})]}):te})}},20493:function(se,j,e){"use strict";e.d(j,{IW:function(){return E},LC:function(){return n},bt:function(){return g},Fo:function(){return r},TR:function(){return P},OR:function(){return o}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(10274),d=e(94697),h=e(97133),t=e(94350),c=e(67294),i=e(60094),a=e(85893),f=["component","overStyle","style","children","openMode"],l=["schema","id","eid","removeParentsIfNoChildren"],n=(0,c.createContext)(null);n.displayName="DraggableContext";var r=(0,c.createContext)(null);r.displayName="SortableContext";var o=function(T){var S=T.id,$=T.data,Z=T.children,K=(0,d.useDraggable)({id:S,data:$}),z=(0,d.useDroppable)({id:S,data:$});return(0,a.jsx)(r.Provider,{value:{draggable:K,droppable:z},children:Z})},g=function(T){var S,$,Z=T.component,K=T.overStyle,z=T.style,w=T.children,A=T.openMode,M=u()(T,f),b=(0,i.dQ)(),R=b.token,L=(0,c.useContext)(r),N=L.draggable,B=L.droppable,V=B.isOver,U=B.setNodeRef,I=m()({},z);return V&&(N==null||(S=N.active)===null||S===void 0?void 0:S.id)!==(B==null||($=B.over)===null||$===void 0?void 0:$.id)&&(I[Z==="a"?"color":"background"]=new p.C(R.colorSettings).setAlpha(.15).toHex8String(),Object.assign(I,K)),c.createElement(Z||"div",m()(m()({role:"none"},M),{},{className:(0,h.cx)("nb-sortable-designer",T.className),ref:U,style:I}),w)},y=function(T){var S=D(T),$=(0,t.useFieldSchema)();return T.schema?m()(m()({},T),{},{id:S}):m()(m()({},T),{},{id:S,schema:$})},D=function(T){var S=(0,t.useField)();return T.id?T.id:S.address.toString()},P=(0,t.observer)(function(O){var T=y(O),S=T.schema,$=T.id,Z=T.eid,K=T.removeParentsIfNoChildren,z=u()(T,l),w=(0,c.useMemo)(function(){return{insertAdjacent:"afterEnd",schema:S,removeParentsIfNoChildren:K!=null?K:!0}},[S,K]);return(0,a.jsx)(o,{id:$,data:w,children:(0,a.jsx)(g,m()(m()({id:Z},z),{},{children:O.children}))})},{displayName:"SortableItem"}),E=function(T){var S=(0,c.useContext)(r),$=S.draggable,Z=$.attributes,K=$.listeners,z=$.setNodeRef;return(0,a.jsx)("div",{style:{display:"inline-block",width:14,height:14,lineHeight:"14px",textAlign:"left"},children:(0,a.jsx)("div",m()(m()(m()({ref:z,style:{position:"relative",zIndex:1,lineHeight:0,fontSize:0,display:"inline-block"}},K),Z),{},{role:"none",children:(0,a.jsx)("span",{style:{cursor:"move",fontSize:14},children:T.children})}))})}},34588:function(se,j,e){"use strict";e.d(j,{jC:function(){return R},od:function(){return A},I9:function(){return B},Rq:function(){return M},e7:function(){return w},qf:function(){return L}});var v=e(97857),m=e.n(v),x=e(15009),u=e.n(x),p=e(9783),d=e.n(p),h=e(5574),t=e.n(h),c=e(99289),i=e.n(c),a=e(52677),f=e.n(a),l=e(96750),n=e.n(l),r=e(96486),o=e.n(r),g=e(70173),y=e(19958),D=e(76690),P=e(65565),E=e(27484);function O(){"use strict";Array.isArray||(Array.isArray=function(X){return Object.prototype.toString.call(X)==="[object Array]"});function U(X){for(var J=[],C=0,k=X.length;C<k;C++)J.indexOf(X[C])===-1&&J.push(X[C]);return J}function I(X,J){return JSON.stringify(X)===JSON.stringify(J)}var F={},W={$is:function(J,C){return J===C},$match:function(J,C){return Array.isArray(J)&&Array.isArray(C)&&J.some(function(k){return Array.isArray(k)})?J.some(function(k){return(k==null?void 0:k.length)===C.length&&(k==null?void 0:k.every(function(Y,H){return Y===C[H]}))}):JSON.stringify(J)===JSON.stringify(C)},$eq:function(J,C){return Array.isArray(J)&&Array.isArray(C)?I(J,C):Array.isArray(J)?J.includes(C):J==C},$ne:function(J,C){return J!=C},"!==":function(J,C){return J!==C},$gt:function(J,C){return Array.isArray(J)?J.some(function(k){return k>C}):J>C},$gte:function(J,C){return J>=C},$lt:function(J,C,k){return Array.isArray(J)?J.some(function(Y){return Y<C}):k===void 0?J<C:J<C&&C<k},$lte:function(J,C,k){return k===void 0?J<=C:J<=C&&C<=k},$exists:function(J){return F.truthy(J)},$notEmpty:function(J){return F.truthy(J)},$empty:function(J){return Array.isArray(J)?J.length===0||J.every(function(C){return!F.truthy(C)}):!F.truthy(J)},$notExists:function(J){return!F.truthy(J)},"%":function(J,C){return J%C},log:function(J){return J},$in:function(J,C){return!C||typeof C.indexOf=="undefined"?!1:Array.isArray(J)&&Array.isArray(C)?C.some(function(k){return J.includes(k)}):C.indexOf(J)!==-1},$notIn:function(J,C){return!C||typeof C.indexOf=="undefined"?!1:C.indexOf(J)===-1},$includes:function(J,C){return!J||typeof J.indexOf=="undefined"?!1:Array.isArray(J)?J.some(function(k){return k==null?void 0:k.includes(C)}):J.indexOf(C)!==-1},$notIncludes:function(J,C){return Array.isArray(J)?!J.some(function(k){return(k||"").includes(C)}):(J=J||"",!J.includes(C))},$anyOf:function(J,C){return J.length===0?!1:Array.isArray(J)&&Array.isArray(C)&&J.some(function(k){return Array.isArray(k)})?J.some(function(k){return k.some(function(Y){return C.includes(Y)})}):J.some(function(k){return C.includes(k)})},$noneOf:function(J,C){return!J||(J==null?void 0:J.length)===0?!0:Array.isArray(J)&&Array.isArray(C)&&J.some(function(k){return Array.isArray(k)})?J.some(function(k){return k.every(function(Y){return!C.some(function(H){return Y.includes(H)})})}):C.some(function(k){return!J.includes(k)})},$notMatch:function(J,C){if(J.length!==C.length)return!0;for(var k=0;k<J.length;k++)if(J[k]!==C[k])return!0;return!1},$dateOn:function(J,C){return!J||!C?!1:J===C},$dateBefore:function(J,C){if(!J||!C)return!1;var k=K(J),Y=K(C);if(!k||!Y)throw new Error("Invalid date format");return k<Y},$dateNotBefore:function(J,C){if(!J||!C)return!1;var k=K(J),Y=K(C);if(!k||!Y)throw new Error("Invalid date format");return k>=Y},$dateAfter:function(J,C){if(!J||!C)return!1;var k=K(J),Y=K(C);return k>Y},$dateNotAfter:function(J,C){if(!J||!C)return!1;var k=K(J),Y=K(C);if(!k||!Y)throw new Error("Invalid date format");return k<=Y},$dateBetween:function(J,C){if(!J||!C)return!1;var k=T(J),Y=T(C[0]),H=T(C[1]);if(!k||!Y||!H)throw new Error("Invalid date format");return k>=Y&&k<=H},$dateNotOn:function(J,C){return!J||!C?!1:J!==C},$isTruly:function(J){return Array.isArray(J)?J.some(function(C){return C===!0||C===1}):J===!0||J===1},$isFalsy:function(J){return Array.isArray(J)?J.some(function(C){return!F.truthy(C)}):!F.truthy(J)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(J,C,k){if(k<0){var Y=String(J).substr(C);return Y.substr(0,Y.length+k)}return String(J).substr(C,k)},"+":function(){return Array.prototype.reduce.call(arguments,function(J,C){return parseFloat(J,10)+parseFloat(C,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(J,C){return parseFloat(J,10)*parseFloat(C,10)})},"-":function(J,C){return C===void 0?-J:J-C},"/":function(J,C){return J/C},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(J,C){return J.concat(C)},[])},var:function(J,C){var k=C===void 0?null:C,Y=this;if(typeof J=="undefined"||J===""||J===null)return Y;for(var H=String(J).split("."),te=0;te<H.length;te++)if(Y==null||(Y=Y[H[te]],Y===void 0))return k;return Y},missing:function(){for(var J=[],C=Array.isArray(arguments[0])?arguments[0]:arguments,k=0;k<C.length;k++){var Y=C[k],H=F.apply({var:Y},this);(H===null||H==="")&&J.push(Y)}return J},missing_some:function(J,C){var k=F.apply({missing:C},this);return C.length-k.length>=J?[]:k}};return F.is_logic=function(X){return f()(X)==="object"&&X!==null&&!Array.isArray(X)&&Object.keys(X).length===1},F.truthy=function(X){return Array.isArray(X)&&X.length===0?!1:!!X},F.get_operator=function(X){return Object.keys(X)[0]},F.get_values=function(X){return X[F.get_operator(X)]},F.apply=function(X,J){if(Array.isArray(X))return X.map(function(fe){return F.apply(fe,J)});if(!F.is_logic(X))return X;var C=F.get_operator(X),k=X[C],Y,H,te,le,ne;if(Array.isArray(k)||(k=[k]),C==="if"||C=="?:"){for(Y=0;Y<k.length-1;Y+=2)if(F.truthy(F.apply(k[Y],J)))return F.apply(k[Y+1],J);return k.length===Y+1?F.apply(k[Y],J):null}else if(C==="$and"){for(Y=0;Y<k.length;Y+=1)if(H=F.apply(k[Y],J),!F.truthy(H))return H;return H}else if(C==="or"){for(Y=0;Y<k.length;Y+=1)if(H=F.apply(k[Y],J),F.truthy(H))return H;return H}else{if(C==="filter")return le=F.apply(k[0],J),te=k[1],Array.isArray(le)?le.filter(function(fe){return F.truthy(F.apply(te,fe))}):[];if(C==="map")return le=F.apply(k[0],J),te=k[1],Array.isArray(le)?le.map(function(fe){return F.apply(te,fe)}):[];if(C==="reduce")return le=F.apply(k[0],J),te=k[1],ne=typeof k[2]!="undefined"?k[2]:null,Array.isArray(le)?le.reduce(function(fe,de){return F.apply(te,{current:de,accumulator:fe})},ne):ne;if(C==="all"){if(le=F.apply(k[0],J),te=k[1],!Array.isArray(le)||!le.length)return!1;for(Y=0;Y<le.length;Y+=1)if(!F.truthy(F.apply(te,le[Y])))return!1;return!0}else if(C==="none"){if(le=F.apply(k[0],J),te=k[1],!Array.isArray(le)||!le.length)return!0;for(Y=0;Y<le.length;Y+=1)if(F.truthy(F.apply(te,le[Y])))return!1;return!0}else if(C==="some"){if(le=F.apply(k[0],J),te=k[1],!Array.isArray(le)||!le.length)return!1;for(Y=0;Y<le.length;Y+=1)if(F.truthy(F.apply(te,le[Y])))return!0;return!1}}if(k=k.map(function(fe){return F.apply(fe,J)}),W.hasOwnProperty(C)&&typeof W[C]=="function")return W[C].apply(J,k);if(C.indexOf(".")>0){var ie=String(C).split("."),ee=W;for(Y=0;Y<ie.length;Y++){if(!ee.hasOwnProperty(ie[Y]))throw new Error("Unrecognized operation "+C+" (failed at "+ie.slice(0,Y+1).join(".")+")");ee=ee[ie[Y]]}return ee.apply(J,k)}throw new Error("Unrecognized operation "+C)},F.uses_data=function(X){var J=[];if(F.is_logic(X)){var C=F.get_operator(X),k=X[C];Array.isArray(k)||(k=[k]),C==="var"?J.push(k[0]):k.forEach(function(Y){J.push.apply(J,F.uses_data(Y))})}return U(J)},F.add_operation=function(X,J){W[X]=J},F.rm_operation=function(X){delete W[X]},F.rule_like=function(X,J){if(J===X||J==="@")return!0;if(J==="number")return typeof X=="number";if(J==="string")return typeof X=="string";if(J==="array")return Array.isArray(X)&&!F.is_logic(X);if(F.is_logic(J)){if(F.is_logic(X)){var C=F.get_operator(J),k=F.get_operator(X);if(C==="@"||C===k)return F.rule_like(F.get_values(X,!1),F.get_values(J,!1))}return!1}if(Array.isArray(J))if(Array.isArray(X)){if(J.length!==X.length)return!1;for(var Y=0;Y<J.length;Y+=1)if(!F.rule_like(X[Y],J[Y]))return!1;return!0}else return!1;return!1},F}function T(U){return new Date(U)}function S(U){var I=U.split("-").map(Number),F=t()(I,2),W=F[0],X=F[1];return new Date(W,X-1)}function $(U){var I=parseInt(U.slice(0,4)),F=parseInt(U.slice(5,6)),W=(F-1)*3;return new Date(I,W)}function Z(U){var I=parseInt(U);return new Date(I,0)}function K(U){var I=Array.isArray(U)?U[1]:U;return/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(I)?new Date(I):/^\d{4}-\d{2}-\d{2}$/.test(I)?T(I):/^\d{4}-\d{2}$/.test(I)?S(I):/^\d{4}Q[1-4]$/.test(I)?$(I):/^\d{4}$/.test(I)?Z(I):null}var z=e(61341),w=function(I,F){var W,X=/{{(.*?)}}/,J=I==null||(W=I.match)===null||W===void 0?void 0:W.call(I,X);if(J){var C=o().get(F,J[1]);return o().isFunction(C)?C():C}else return I};function A(U){if(f()(U)!=="object"||U===null)return null;for(var I in U)if(Object.prototype.hasOwnProperty.call(U,I))return Object.prototype.toString.call(U[I])==="[object Object]"&&U[I]!==null?A(U[I]):{key:I,value:U[I]};return null}var M=function(I){var F=b(I),W=(0,r.findIndex)(F,function(J,C,k){if(J.includes("$")&&C>0)return!0}),X=F.slice(0,W);return X};function b(U){var I=[];function F(W){Object.keys(W).sort().forEach(function(X){I.push(X),W[X]&&f()(W[X])==="object"&&F(W[X])})}return F(U),I}var R=function(){var U=i()(u()().mark(function I(F){var W,X,J,C,k,Y,H,te;return u()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return W=F.ruleGroup,X=F.variables,J=F.localVariables,C=F.field,k=F.variableNameOfLeftCondition,Y=Object.keys(W)[0]||"$and",H=W[Y],te=H.map(function(){var ie=i()(u()().mark(function ee(fe){var de,ue,Se,ae,G,re,oe,ce,be,xe,ge,he,Pe,Ae,Be;return u()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(!("$and"in fe||"$or"in fe)){Me.next=4;break}return Me.next=3,R({ruleGroup:fe,variables:X,localVariables:J,field:C});case 3:return Me.abrupt("return",Me.sent);case 4:if(de=A(fe),ue=de==null?void 0:de.key,ue){Me.next=8;break}return Me.abrupt("return",!0);case 8:return Se=L(M(fe),k),ae=X.parseVariable(Se,J,{doNotRequest:!0}).then(function(Te){var we=Te.value;return we}),G=(0,D.cG)(de==null?void 0:de.value)?[X.parseVariable(de==null?void 0:de.value,J).then(function(Te){var we=Te.value;return we}),ae]:[de==null?void 0:de.value,ae],Me.prev=11,re=O(),Me.next=15,Promise.all(G);case 15:return oe=Me.sent,ce=t()(oe,2),be=ce[0],xe=ce[1],Me.next=21,X.getCollectionField(Se,J);case 21:return ge=Me.sent,he=(0,P.J)(xe,{targetCollectionField:ge}),Pe=(0,P.J)(be,{targetCollectionField:ge}),ge!=null&&ge.type&&["datetime","date","datetimeNoTz","dateOnly","unixTimestamp"].includes(ge.type)&&he&&(Ae=(0,z.CE)(Pe),Be=(0,g.getPickerFormat)(Ae),he=(0,g.dayjs)(he).format(Be)),Me.abrupt("return",re.apply(d()({},ue,[he,Pe])));case 28:throw Me.prev=28,Me.t0=Me.catch(11),Me.t0;case 31:case"end":return Me.stop()}},ee,null,[[11,28]])}));return function(ee){return ie.apply(this,arguments)}}()),ne.next=6,Promise.all(te);case 6:if(te=ne.sent,Y!=="$and"){ne.next=11;break}return ne.abrupt("return",(0,r.every)(te,function(ie){return ie}));case 11:return ne.abrupt("return",(0,r.some)(te,function(ie){return ie}));case 12:case"end":return ne.stop()}},I)}));return function(F){return U.apply(this,arguments)}}();function L(U){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$nForm";return"{{ ".concat(I,".").concat(U.join(".")," }}")}var N=function(I){var F={};return I.map(function(W){F[W.name]=W.ctx}),F};function B(U,I,F,W,X){return V.apply(this,arguments)}function V(){return V=i()(u()().mark(function U(I,F,W,X,J){var C,k,Y,H,te,le;return u()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!(F&&I==="handlebars")){ie.next=19;break}return ie.prev=1,C=n().compile(F),k=N(X),Y=W.ctxRef.current.$nDate,H={},Object.keys(Y).map(function(ee){H[ee]=Y[ee]()}),te=C(m()(m()(m()({},W.ctxRef.current),k),{},{$nDate:H})),ie.next=10,J(te);case 10:return ie.abrupt("return",ie.sent);case 13:return ie.prev=13,ie.t0=ie.catch(1),console.log(ie.t0),ie.abrupt("return",F);case 17:ie.next=31;break;case 19:return ie.prev=19,ie.next=22,(0,y.replaceVariableValue)(F,W,X);case 22:return le=ie.sent,ie.next=25,J(le);case 25:return ie.abrupt("return",ie.sent);case 28:return ie.prev=28,ie.t1=ie.catch(19),ie.abrupt("return",F);case 31:case"end":return ie.stop()}},U,null,[[1,13],[19,28]])})),V.apply(this,arguments)}},61736:function(se,j,e){"use strict";e.d(j,{D:function(){return m}});var v=e(67294),m=(0,v.createContext)({});m.displayName="SchemaComponentContext.Provider"},6574:function(se,j,e){"use strict";e.d(j,{_b:function(){return re},RV:function(){return we},m1:function(){return Dt},n6:function(){return Nt},G0:function(){return Ae},a$:function(){return Mt},Tz:function(){return St},Bs:function(){return Pe}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(31897),n=e(83062),r=e(15867),o=e(67294),g=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function y(Je,et,rt,yt){Je.addEventListener?Je.addEventListener(et,rt,yt):Je.attachEvent&&Je.attachEvent("on".concat(et),function(){rt(window.event)})}function D(Je,et){for(var rt=et.slice(0,et.length-1),yt=0;yt<rt.length;yt++)rt[yt]=Je[rt[yt].toLowerCase()];return rt}function P(Je){typeof Je!="string"&&(Je=""),Je=Je.replace(/\s/g,"");for(var et=Je.split(","),rt=et.lastIndexOf("");rt>=0;)et[rt-1]+=",",et.splice(rt,1),rt=et.lastIndexOf("");return et}function E(Je,et){for(var rt=Je.length>=et.length?Je:et,yt=Je.length>=et.length?et:Je,xt=!0,Ct=0;Ct<rt.length;Ct++)yt.indexOf(rt[Ct])===-1&&(xt=!1);return xt}for(var O={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":g?173:189,"=":g?61:187,";":g?59:186,"'":222,"[":219,"]":221,"\\":220},T={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},S={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},$={16:!1,18:!1,17:!1,91:!1},Z={},K=1;K<20;K++)O["f".concat(K)]=111+K;var z=[],w=!1,A="all",M=[],b=function(et){return O[et.toLowerCase()]||T[et.toLowerCase()]||et.toUpperCase().charCodeAt(0)};function R(Je){A=Je||"all"}function L(){return A||"all"}function N(){return z.slice(0)}function B(Je){var et=Je.target||Je.srcElement,rt=et.tagName,yt=!0;return(et.isContentEditable||(rt==="INPUT"||rt==="TEXTAREA"||rt==="SELECT")&&!et.readOnly)&&(yt=!1),yt}function V(Je){return typeof Je=="string"&&(Je=b(Je)),z.indexOf(Je)!==-1}function U(Je,et){var rt,yt;Je||(Je=L());for(var xt in Z)if(Object.prototype.hasOwnProperty.call(Z,xt))for(rt=Z[xt],yt=0;yt<rt.length;)rt[yt].scope===Je?rt.splice(yt,1):yt++;L()===Je&&R(et||"all")}function I(Je){var et=Je.keyCode||Je.which||Je.charCode,rt=z.indexOf(et);if(rt>=0&&z.splice(rt,1),Je.key&&Je.key.toLowerCase()==="meta"&&z.splice(0,z.length),(et===93||et===224)&&(et=91),et in $){$[et]=!1;for(var yt in T)T[yt]===et&&(k[yt]=!1)}}function F(Je){if(typeof Je=="undefined")Object.keys(Z).forEach(function(mt){return delete Z[mt]});else if(Array.isArray(Je))Je.forEach(function(mt){mt.key&&W(mt)});else if(typeof Je=="object")Je.key&&W(Je);else if(typeof Je=="string"){for(var et=arguments.length,rt=new Array(et>1?et-1:0),yt=1;yt<et;yt++)rt[yt-1]=arguments[yt];var xt=rt[0],Ct=rt[1];typeof xt=="function"&&(Ct=xt,xt=""),W({key:Je,scope:xt,method:Ct,splitKey:"+"})}}var W=function(et){var rt=et.key,yt=et.scope,xt=et.method,Ct=et.splitKey,mt=Ct===void 0?"+":Ct,at=P(rt);at.forEach(function(ht){var ot=ht.split(mt),kt=ot.length,nn=ot[kt-1],Lt=nn==="*"?"*":b(nn);if(Z[Lt]){yt||(yt=L());var hn=kt>1?D(T,ot):[];Z[Lt]=Z[Lt].filter(function(Dn){var Gt=xt?Dn.method===xt:!0;return!(Gt&&Dn.scope===yt&&E(Dn.mods,hn))})}})};function X(Je,et,rt,yt){if(et.element===yt){var xt;if(et.scope===rt||et.scope==="all"){xt=et.mods.length>0;for(var Ct in $)Object.prototype.hasOwnProperty.call($,Ct)&&(!$[Ct]&&et.mods.indexOf(+Ct)>-1||$[Ct]&&et.mods.indexOf(+Ct)===-1)&&(xt=!1);(et.mods.length===0&&!$[16]&&!$[18]&&!$[17]&&!$[91]||xt||et.shortcut==="*")&&et.method(Je,et)===!1&&(Je.preventDefault?Je.preventDefault():Je.returnValue=!1,Je.stopPropagation&&Je.stopPropagation(),Je.cancelBubble&&(Je.cancelBubble=!0))}}}function J(Je,et){var rt=Z["*"],yt=Je.keyCode||Je.which||Je.charCode;if(k.filter.call(this,Je)){if((yt===93||yt===224)&&(yt=91),z.indexOf(yt)===-1&&yt!==229&&z.push(yt),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(Dn){var Gt=S[Dn];Je[Dn]&&z.indexOf(Gt)===-1?z.push(Gt):!Je[Dn]&&z.indexOf(Gt)>-1?z.splice(z.indexOf(Gt),1):Dn==="metaKey"&&Je[Dn]&&z.length===3&&(Je.ctrlKey||Je.shiftKey||Je.altKey||(z=z.slice(z.indexOf(Gt))))}),yt in $){$[yt]=!0;for(var xt in T)T[xt]===yt&&(k[xt]=!0);if(!rt)return}for(var Ct in $)Object.prototype.hasOwnProperty.call($,Ct)&&($[Ct]=Je[S[Ct]]);Je.getModifierState&&!(Je.altKey&&!Je.ctrlKey)&&Je.getModifierState("AltGraph")&&(z.indexOf(17)===-1&&z.push(17),z.indexOf(18)===-1&&z.push(18),$[17]=!0,$[18]=!0);var mt=L();if(rt)for(var at=0;at<rt.length;at++)rt[at].scope===mt&&(Je.type==="keydown"&&rt[at].keydown||Je.type==="keyup"&&rt[at].keyup)&&X(Je,rt[at],mt,et);if(yt in Z){for(var ht=0;ht<Z[yt].length;ht++)if((Je.type==="keydown"&&Z[yt][ht].keydown||Je.type==="keyup"&&Z[yt][ht].keyup)&&Z[yt][ht].key){for(var ot=Z[yt][ht],kt=ot.splitKey,nn=ot.key.split(kt),Lt=[],hn=0;hn<nn.length;hn++)Lt.push(b(nn[hn]));Lt.sort().join("")===z.sort().join("")&&X(Je,ot,mt,et)}}}}function C(Je){return M.indexOf(Je)>-1}function k(Je,et,rt){z=[];var yt=P(Je),xt=[],Ct="all",mt=document,at=0,ht=!1,ot=!0,kt="+",nn=!1;for(rt===void 0&&typeof et=="function"&&(rt=et),Object.prototype.toString.call(et)==="[object Object]"&&(et.scope&&(Ct=et.scope),et.element&&(mt=et.element),et.keyup&&(ht=et.keyup),et.keydown!==void 0&&(ot=et.keydown),et.capture!==void 0&&(nn=et.capture),typeof et.splitKey=="string"&&(kt=et.splitKey)),typeof et=="string"&&(Ct=et);at<yt.length;at++)Je=yt[at].split(kt),xt=[],Je.length>1&&(xt=D(T,Je)),Je=Je[Je.length-1],Je=Je==="*"?"*":b(Je),Je in Z||(Z[Je]=[]),Z[Je].push({keyup:ht,keydown:ot,scope:Ct,mods:xt,shortcut:yt[at],method:rt,key:yt[at],splitKey:kt,element:mt});typeof mt!="undefined"&&!C(mt)&&window&&(M.push(mt),y(mt,"keydown",function(Lt){J(Lt,mt)},nn),w||(w=!0,y(window,"focus",function(){z=[]},nn)),y(mt,"keyup",function(Lt){J(Lt,mt),I(Lt)},nn))}function Y(Je){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Z).forEach(function(rt){var yt=Z[rt].find(function(xt){return xt.scope===et&&xt.shortcut===Je});yt&&yt.method&&yt.method()})}var H={setScope:R,getScope:L,deleteScope:U,getPressedKeyCodes:N,isPressed:V,filter:B,trigger:Y,unbind:F,keyMap:O,modifier:T,modifierMap:S};for(var te in H)Object.prototype.hasOwnProperty.call(H,te)&&(k[te]=H[te]);if(typeof window!="undefined"){var le=window.hotkeys;k.noConflict=function(Je){return Je&&window.hotkeys===k&&(window.hotkeys=le),k},window.hotkeys=k}function ne(){return hotkeys.isPressed}k.filter=function(){return!0};var ie=function(et,rt){var yt=et.target,xt=yt&&yt.tagName;return!!(xt&&rt&&rt.includes(xt))},ee=function(et){return ie(et,["INPUT","TEXTAREA","SELECT"])};function fe(Je,et,rt,yt){rt instanceof Array&&(yt=rt,rt=void 0);var xt=rt||{},Ct=xt.enableOnTags,mt=xt.filter,at=xt.keyup,ht=xt.keydown,ot=xt.filterPreventDefault,kt=ot===void 0?!0:ot,nn=xt.enabled,Lt=nn===void 0?!0:nn,hn=xt.enableOnContentEditable,Dn=hn===void 0?!1:hn,Gt=(0,o.useRef)(null),mn=(0,o.useCallback)(function(qt,$t){var Pn,vn;return mt&&!mt(qt)?!kt:ee(qt)&&!ie(qt,Ct)||(Pn=qt.target)!=null&&Pn.isContentEditable&&!Dn?!0:Gt.current===null||document.activeElement===Gt.current||(vn=Gt.current)!=null&&vn.contains(document.activeElement)?(et(qt,$t),!0):!1},yt?[Gt,Ct,mt].concat(yt):[Gt,Ct,mt]);return(0,o.useEffect)(function(){if(!Lt){k.unbind(Je,mn);return}return at&&ht!==!0&&(rt.keydown=!1),k(Je,rt||{},mn),function(){return k.unbind(Je,mn)}},[mn,Je,Lt]),Gt}var de=k.isPressed,ue=e(26793),Se=e(98427),ae=e(68230),G=e(85893),re=function(){var et=(0,Se.ngQ)(),rt=et.designable,yt=et.setDesignable,xt=(0,ue.$)(),Ct=xt.t,mt=(0,ae.d)(),at=mt.token,ht={};return rt&&(ht.backgroundColor="var(--colorSettings)"),fe("Ctrl+Shift+U",function(){return yt(!rt)},[rt]),(0,G.jsx)(n.Z,{title:Ct("UI Editor"),children:(0,G.jsx)(r.ZP,{"data-testid":"ui-editor-button",icon:(0,G.jsx)(l.Z,{style:{color:at.colorTextHeaderMenu}}),title:Ct("UI Editor"),style:ht,onClick:function(){yt(!rt)}})})},oe=e(97857),ce=e.n(oe),be=e(13769),xe=e.n(be),ge=e(86201),he=e(94350),Pe=function(){var et=(0,o.useContext)(he.SchemaOptionsContext);return et||{}},Ae=(0,o.memo)(function(Je){var et=Je.children,rt=Pe(),yt=(0,o.useMemo)(function(){return ce()(ce()({},rt.components),Je.components)},[rt.components,Je.components]),xt=(0,o.useMemo)(function(){return ce()(ce()({},rt.scope),Je.scope)},[rt.scope,Je.scope]),Ct=(0,o.useMemo)(function(){return{scope:xt,components:yt}},[xt,yt]);return(0,G.jsx)(he.SchemaOptionsContext.Provider,{value:Ct,children:(0,G.jsx)(he.SchemaComponentsContext.Provider,{value:yt,children:(0,G.jsx)(he.ExpressionScope,{value:xt,children:et})})})});Ae.displayName="SchemaComponentOptions";var Be=["children","form"],Le=["children"],Me=function(et){var rt=et.children,yt=et.form,xt=xe()(et,Be),Ct=(0,o.useContext)(he.SchemaOptionsContext),mt=(0,o.useContext)(he.SchemaExpressionScopeContext),at=ce()(ce()({},Ct==null?void 0:Ct.scope),mt),ht=ce()({},Ct==null?void 0:Ct.components);return(0,G.jsx)(he.FormProvider,ce()(ce()({},xt),{},{form:yt,children:(0,G.jsx)(Ae,{components:ht,scope:at,children:rt})}))},Te=function(et){var rt=et.children,yt=xe()(et,Le),xt=(0,o.useContext)(he.SchemaOptionsContext),Ct=(0,o.useContext)(he.SchemaExpressionScopeContext),mt=ce()(ce()({},xt==null?void 0:xt.scope),Ct),at=ce()({},xt==null?void 0:xt.components),ht=(0,o.useMemo)(function(){return(0,ge.createForm)()},[]);return(0,G.jsx)(he.FormProvider,ce()(ce()({},yt),{},{form:ht,children:(0,G.jsx)(Ae,{components:at,scope:mt,children:rt})}))},we=function(et){return et.form?(0,G.jsx)(Me,ce()({},et)):(0,G.jsx)(Te,ce()({},et))},Ue=e(5574),je=e.n(Ue),De=e(48054),ye=e(21143),_e=e(70173),q=e(72029),pe=e(3329),Re=e(9783),Oe=e.n(Re),$e=e(61736),Ve=e(90105),Ze=["components","scope","schema","distributed"],qe=["schema"],Qe=["memoized"];function ke(Je){return he.Schema.isSchemaInstance(Je)?Je:Je!=null&&Je.name?new he.Schema({type:"object",properties:Oe()({},Je.name,Je)}):new he.Schema(Je)}var ft=function(et){return(0,o.useMemo)(function(){return ke(et)},[])},vt=function(et){var rt=et.components,yt=et.scope,xt=et.schema,Ct=et.distributed,mt=xe()(et,Ze),at=(0,o.useContext)($e.D),ht=(0,o.useMemo)(function(){return ke(xt)},[xt]),ot=(0,Ve.Z)();return(0,G.jsx)($e.D.Provider,{value:ce()(ce()({},at),{},{distributed:at.distributed==!1?!1:Ct,refresh:function(){var nn;if(ot(),at.distributed===!1||Ct===!1){var Lt;(Lt=at.refresh)===null||Lt===void 0||Lt.call(at)}(nn=et.onChange)===null||nn===void 0||nn.call(et,ht)}}),children:(0,G.jsx)(Ae,{inherit:!0,components:rt,scope:yt,children:(0,G.jsx)(he.RecursionField,ce()(ce()({},mt),{},{schema:ht}))})})},_t=function(et){var rt=et.schema,yt=xe()(et,qe),xt=ft(rt);return(0,G.jsx)(vt,ce()(ce()({},yt),{},{schema:xt}))},Nt=function(et){var rt=et.memoized,yt=xe()(et,Qe);return rt?(0,G.jsx)(_t,ce()({},yt)):(0,G.jsx)(vt,ce()({},yt))},Kt=e(42708),ut=function(et){var rt,yt;return _e.isMobile&&((rt=et)===null||rt===void 0?void 0:rt["x-decorator"])==="TableBlockProvider"&&(yt=et)!==null&&yt!==void 0&&(yt=yt["x-component-props"])!==null&&yt!==void 0&&yt.aslist&&(et={properties:{properties:(0,ye.convertTableSchemaToListSchema)(new he.Schema(et)).toJSON()}}),et},Rt=function(et){var rt=et.noForm,yt=et.onlyRenderProperties,xt=et.hidden,Ct=et.scope,mt=et.skeleton,at=et.skeletonWrapperCss,ht=et.uid,ot=et.components,kt=et.onSuccess,nn=et.keepOriginSchemaSort,Lt=et.schemaTransform,hn=Lt===void 0?ut:Lt,Dn=(0,pe.Dm)(),Gt=Dn.reset,mn=(0,Kt.YD)({threshold:0,initialInView:!1,triggerOnce:!0}),qt=mn.ref,$t=mn.inView,Pn=(0,o.useState)(!1),vn=je()(Pn,2),sn=vn[0],Rn=vn[1],un=(0,o.useMemo)(function(){return(0,ge.createForm)()},[ht]),jt=(0,q.QT)({url:"/uiSchemas:".concat(yt?"getProperties":"getJsonSchema","/").concat(ht),params:nn?{keepOriginSchemaSort:nn}:{}},{refreshDeps:[ht],onSuccess:function(gn){gn.data=hn((gn==null?void 0:gn.data)||{}),Rn(!0),kt&&kt(gn),Gt&&Gt()},manual:!0}),rn=jt.data,An=jt.run;return(0,o.useEffect)(function(){$t&&(Rn(!1),An())},[$t,ht]),xt?null:sn?rt?(0,G.jsx)(Nt,{memoized:!0,components:ot,scope:Ct,schema:hn((rn==null?void 0:rn.data)||{})}):(0,G.jsx)(we,{form:un,children:(0,G.jsx)(Nt,{memoized:!0,components:ot,scope:Ct,schema:hn((rn==null?void 0:rn.data)||{})})}):(0,G.jsx)("div",{ref:qt,style:ce()({margin:yt?24:0},at),children:mt||(0,G.jsx)(De.Z,{active:!0,paragraph:{rows:4}})})},Dt=function(et){return et.uid?(0,G.jsx)(Rt,ce()({},et)):null},dt=e(84327),Bt=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(et).concat((0,dt.uid)())};he.Schema.silent(!0);var He={},ct={silent:!0,compile:function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yt=function(){if(ct.silent)try{return new Function("$root","with($root) { return (".concat(et,"); }"))(rt)}catch(Ct){return"{{".concat(et,"}}")}else return new Function("$root","with($root) { return (".concat(et,"); }"))(rt)};return He[et]?He[et]:et.trim().startsWith("t(")?(He[et]=yt(),He[et]):yt()}};he.Schema.registerCompiler(ct.compile);var St=function(et){var rt=et.designable,yt=et.onDesignableChange,xt=et.components,Ct=et.children,mt=(0,o.useContext)($e.D),at=Pe(),ht=(0,Ve.Z)(),ot=(0,o.useState)((0,dt.uid)()),kt=je()(ot,2),nn=kt[0],Lt=kt[1],hn=(0,o.useMemo)(function(){return et.form||(0,ge.createForm)()},[nn]),Dn=(0,ue.$)(),Gt=Dn.t,mn=(0,o.useMemo)(function(){return ce()(ce()({},et.scope),{},{t:Gt,randomString:Bt})},[et.scope,Gt,at==null?void 0:at.scope]),qt=(0,o.useState)(rt),$t=je()(qt,2),Pn=$t[0],vn=$t[1],sn=(0,o.useMemo)(function(){return typeof rt=="boolean"?rt:Pn},[rt,Pn,mt.designable]),Rn=(0,o.useMemo)(function(){return function(jt){typeof sn!="boolean"&&vn(jt),yt==null||yt(jt)}},[sn,yt]),un=(0,o.useCallback)(function(){Lt((0,dt.uid)())},[]);return(0,G.jsx)($e.D.Provider,{value:{scope:mn,components:xt,reset:un,refresh:ht,designable:sn,setDesignable:Rn},children:(0,G.jsx)(he.FormProvider,{form:hn,children:(0,G.jsx)(Ae,{inherit:!0,scope:mn,components:xt,children:Ct})})})};St.displayName="SchemaComponentProvider";var Tt=e(31601),Mt=function(Je){i()(rt,Je);var et=f()(rt);function rt(){return d()(this,rt),et.apply(this,arguments)}return t()(rt,[{key:"load",value:function(){var yt=u()(m()().mark(function Ct(){return m()().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:this.addComponents();case 1:case"end":return at.stop()}},Ct,this)}));function xt(){return yt.apply(this,arguments)}return xt}()},{key:"addComponents",value:function(){this.app.addComponents({DesignableSwitch:re})}}]),rt}(Tt.S),Zt=null},3329:function(se,j,e){"use strict";e.d(j,{zz:function(){return t.zz},EB:function(){return we},Pl:function(){return t.Pl},tj:function(){return I},oB:function(){return t.oB},lI:function(){return m},hi:function(){return ne},gp:function(){return U},jp:function(){return V},eJ:function(){return x.e},Co:function(){return h},aZ:function(){return le},ng:function(){return t.ng},et:function(){return c.e},ki:function(){return Ue},cL:function(){return g},fd:function(){return S},Cl:function(){return f},vH:function(){return y},jf:function(){return fe},sR:function(){return t.sR},w$:function(){return je},wN:function(){return D.w},Dm:function(){return n},zY:function(){return xe},fM:function(){return T},zr:function(){return Me},Oc:function(){return Te}});var v=e(67294),m=function(ye){var _e=(0,v.useRef)(null);return(0,v.useEffect)(function(){return _e.current&&ye!==_e.current&&_e.current.onUnmount(),_e.current=ye,ye.onMount(),function(){ye.onUnmount()}},[ye]),ye},x=e(96365),u=e(94350),p=e(96486),d=e.n(p),h=function(ye,_e){var q=(0,v.useContext)(u.SchemaOptionsContext),pe=q.components;return ye?typeof ye!="string"?ye:(0,p.get)(pe,ye)||_e:_e},t=e(94516),c=e(98146),i=e(97857),a=e.n(i),f=function(ye){var _e=(0,v.useContext)(u.SchemaOptionsContext),q=(0,v.useContext)(u.SchemaExpressionScopeContext),pe=(0,v.useRef)();return pe.current=q,ye.toFieldProps(a()(a()({},_e),{},{get scope(){return a()(a()({},_e.scope),pe.current)}}))},l=e(61736);function n(){return(0,v.useContext)(l.D)}var r=e(26793),o=e(6145),g=function(){var ye,_e=(0,o.useCollectionManager_deprecated)(),q=_e.getCollectionJoinField,pe=_e.getCollection,Re=(0,u.useFieldSchema)(),Oe=(0,o.useCollection_deprecated)(),$e=Oe.getField,Ve=$e(Re.name)||q(Re["x-collection-field"]),Ze=(0,r.$)(),qe=Ze.t,Qe=((ye=Re["x-component-props"])===null||ye===void 0?void 0:ye.fieldNames)||{},ke=Qe.label,ft=(0,v.useMemo)(function(){if(!(!Ve||!(Ve!=null&&Ve.interface))&&["o2o","oho","obo","o2m","linkTo","m2o","m2m"].includes(Ve.interface)){var vt=pe(Ve.target);if((vt==null?void 0:vt.template)==="file")return[{label:qe("Record picker"),value:"CollectionField"},{label:qe("Select"),value:"AssociationSelect"}];switch(Ve.interface){case"o2m":return[{label:qe("Record picker"),value:"CollectionField"},{label:qe("Subtable"),value:"TableField"},{label:qe("Select"),value:"AssociationSelect"}];case"m2o":case"m2m":case"linkTo":return[{label:qe("Record picker"),value:"CollectionField"},{label:qe("Select"),value:"AssociationSelect"}];default:return[{label:qe("Record picker"),value:"CollectionField"},{label:qe("Subform"),value:"FormField"},{label:qe("Select"),value:"AssociationSelect"}]}}},[qe,Ve==null?void 0:Ve.interface,ke]);return ft},y=function(){var ye,_e=(0,u.useField)(),q=(0,u.useFieldSchema)(),pe=(0,o.useCollection_deprecated)(),Re=pe.getField,Oe=(0,o.useCollectionManager_deprecated)(),$e=Oe.getCollectionJoinField,Ve=Re(q.name)||$e(q["x-collection-field"]),Ze=(0,x.e)();(0,v.useEffect)(function(){if(!(_e!=null&&_e.title)){var qe;_e.title=Ze(Ve==null||(qe=Ve.uiSchema)===null||qe===void 0?void 0:qe.title)}},[Ve==null||(ye=Ve.uiSchema)===null||ye===void 0?void 0:ye.title])},D=e(9780),P=e(5574),E=e.n(P),O=e(83204),T=function(ye){var _e=(0,v.useState)(0),q=E()(_e,2),pe=q[0],Re=q[1],Oe=(0,v.useState)(0),$e=E()(Oe,2),Ve=$e[0],Ze=$e[1],qe=(0,v.useRef)(null),Qe=(0,v.useCallback)((0,p.debounce)(function(){var ft,vt,_t;if(!(!qe.current||!ye)){var Nt=qe.current.getBoundingClientRect(),Kt=Math.ceil((Nt==null?void 0:Nt.height)||0),ut=((ft=qe.current.querySelector(".ant-table-header"))===null||ft===void 0?void 0:ft.getBoundingClientRect().height)||0,Rt=(vt=qe.current.querySelector(".ant-table"))===null||vt===void 0?void 0:vt.getBoundingClientRect();if(Rt){var Dt=(_t=qe.current.querySelector(".ant-table-pagination"))===null||_t===void 0?void 0:_t.getBoundingClientRect(),dt=Dt?Dt.y-Rt.height-Rt.y+Dt.height:0;Ze(Nt.width),Re(Kt-ut-dt)}}},100),[ye]),ke=(0,v.useCallback)(function(ft){qe.current=ft&&ft.children?ft.children[0]:null,Qe()},[Qe]);return(0,O.Z)("resize",Qe),{height:pe,width:Ve,tableSizeRefCallback:ke}},S=function(ye){var _e,q=(0,r.$)(),pe=q.t,Re=(0,o.useCollectionManager_deprecated)(),Oe=Re.getCollectionJoinField,$e=Re.getCollection,Ve=(0,u.useFieldSchema)(),Ze=(ye==null?void 0:ye.fieldSchema)||Ve,qe=(0,u.useField)(),Qe=(0,u.useForm)(),ke=(Ze==null?void 0:Ze["x-read-pretty"])||qe.readPretty||Qe.readPretty,ft=ye==null?void 0:ye.fieldSchema,vt=(0,o.useCollection_deprecated)(),_t=vt.getField,Nt=(ye==null?void 0:ye.collectionField)||_t(Ze.name)||Oe(Ze["x-collection-field"]),Kt=((_e=Ze["x-component-props"])===null||_e===void 0?void 0:_e.fieldNames)||{},ut=Kt.label,Rt=(0,v.useMemo)(function(){if(!(!Nt||!(Nt!=null&&Nt.interface))&&["o2o","oho","obo","o2m","linkTo","m2o","m2m","updatedBy","createdBy"].includes(Nt.interface)){var Dt=$e(Nt.target);if((Dt==null?void 0:Dt.template)==="file")return ke?[{label:pe("Title"),value:"Select"},{label:pe("File manager"),value:"FileManager"},{label:pe("Tag"),value:"Tag"}]:[{label:pe("Select"),value:"Select"},{label:pe("Record picker"),value:"Picker"},{label:pe("File manager"),value:"FileManager"}];if((Dt==null?void 0:Dt.template)==="tree"&&["m2m","o2m","m2o"].includes(Nt.interface))return ke?[{label:pe("Title"),value:"Select"},{label:pe("Tag"),value:"Tag"},!ft&&{label:pe("Sub-details"),value:"Nester"},!ft&&{label:pe("Sub-table"),value:"SubTable"}]:[{label:pe("Select"),value:"Select"},{label:pe("Record picker"),value:"Picker"},["m2m","o2m"].includes(Nt.interface)&&{label:pe("Sub-table"),value:"SubTable"},{label:pe("Cascade Select"),value:"CascadeSelect"},!ft&&{label:pe("Sub-form"),value:"Nester"},{label:pe("Sub-form(Popover)"),value:"PopoverNester"}];switch(Nt.interface){case"o2m":return ke?[{label:pe("Title"),value:"Select"},{label:pe("Tag"),value:"Tag"},!ft&&{label:pe("Sub-table"),value:"SubTable"},!ft&&{label:pe("Sub-details"),value:"Nester"}]:[{label:pe("Select"),value:"Select"},{label:pe("Record picker"),value:"Picker"},!ft&&{label:pe("Sub-form"),value:"Nester"},{label:pe("Sub-form(Popover)"),value:"PopoverNester"},!ft&&{label:pe("Sub-table"),value:"SubTable"}];case"m2m":return ke?[{label:pe("Title"),value:"Select"},{label:pe("Tag"),value:"Tag"},!ft&&{label:pe("Sub-details"),value:"Nester"},!ft&&{label:pe("Sub-table"),value:"SubTable"}]:[{label:pe("Select"),value:"Select"},{label:pe("Record picker"),value:"Picker"},!ft&&{label:pe("Sub-table"),value:"SubTable"},!ft&&{label:pe("Sub-form"),value:"Nester"},{label:pe("Sub-form(Popover)"),value:"PopoverNester"}];case"m2o":case"linkTo":return ke?[{label:pe("Title"),value:"Select"},{label:pe("Tag"),value:"Tag"},!ft&&{label:pe("Sub-details"),value:"Nester"}]:[{label:pe("Select"),value:"Select"},{label:pe("Record picker"),value:"Picker"},!ft&&{label:pe("Sub-form"),value:"Nester"},{label:pe("Sub-form(Popover)"),value:"PopoverNester"}];default:return ke?[{label:pe("Title"),value:"Select"},{label:pe("Tag"),value:"Tag"},!ft&&{label:pe("Sub-details"),value:"Nester"}]:[{label:pe("Select"),value:"Select"},{label:pe("Record picker"),value:"Picker"},!ft&&{label:pe("Sub-form"),value:"Nester"},{label:pe("Sub-form(Popover)"),value:"PopoverNester"}]}}},[pe,Nt==null?void 0:Nt.interface,ut]);return(Rt||[]).filter(Boolean)},$=e(68400),Z=e.n($),K=e(97133),z=e(70173),w=e(9361),A=e(98427),M=e(21143),b=e(81560),R=e(85438),L,N,B,V=function(ye){var _e=z.isMobile?{}:ye,q=(0,v.useMemo)(function(){var Re=_e||{},Oe=Re.alignMode;return Oe?(0,K.css)(L||(L=Z()([`
          @media (min-width: 992px) {
            display: flex;
            justify-content: `,`;
            width: auto;
          }
        `])),Oe):(0,K.css)(N||(N=Z()([""])))},[_e]),pe=(0,v.useMemo)(function(){var Re=_e||{},Oe=Re.pcWidth,$e=Re.largeScreenWidth;return(0,K.css)(B||(B=Z()([`
      @media (min-width: 992px) and (max-width: 1599px) {
        width: `,`;
      }
      @media (min-width: 1600px) {
        width: `,`;
      }
    `])),Oe?Oe+"px":"auto",$e?$e+"px":"auto")},[_e]);return{pStyle:q,cStyle:pe}},U=function(){var ye,_e=(0,u.useFieldSchema)(),q=F(_e),pe=(ye=(0,R.r)())===null||ye===void 0?void 0:ye.fieldSchema,Re=(0,v.useMemo)(function(){return I(pe||_e)},[]),Oe=(Re==null?void 0:Re["x-component-props"])||{},$e=Oe.disablePageHeader,Ve=Oe.enablePageTabs,Ze=Oe.hidePageTitle;return{heightProps:a()(a()({},q==null?void 0:q["x-component-props"]),{},{disablePageHeader:$e,enablePageTabs:Ve,hidePageTitle:Ze})}},I=function De(ye){return ye?ye["x-component"]==="Page"?ye:De(ye.parent):null},F=function De(ye){return ye?["BlockItem","CardItem"].includes(ye["x-component"])?ye:De(ye.parent):null},W=function(ye,_e,q,pe){return ye?pe.paddingContentHorizontalLG:q?_e?pe.controlPaddingHorizontal+3*pe.controlPaddingHorizontalSM+22+pe.paddingContentHorizontalLG:pe.paddingContentHorizontalLG+12:_e?pe.paddingSM+pe.controlHeight+pe.marginXS+2*pe.controlPaddingHorizontalSM+22+pe.paddingContentHorizontalLG:pe.controlHeight+pe.marginXS+(pe.paddingXXS+2)*2+pe.paddingContentHorizontalLG},X=function(ye){var _e=w.Z.useToken(),q=_e.token,pe=(0,A.ngQ)(),Re=pe.designable,Oe=U(),$e=Oe.heightProps,Ve=ye||$e||{},Ze=Ve.disablePageHeader,qe=Ve.enablePageTabs,Qe=Ve.hidePageTitle,ke=q.sizeXXL-2,ft=Re?q.controlHeight+2*q.paddingContentHorizontalLG:2*q.paddingContentHorizontalLG,vt=W(Ze,qe,Qe,q);return ke+vt+ft},J=function De(ye){return ye?ye["x-component"]==="Action.Container"&&ye["x-settings"]==="fieldSettings:Drawer"?ye:De(ye.parent):null},C=function(){var ye=w.Z.useToken(),_e=ye.token,q=(0,A.ngQ)(),pe=q.designable,Re=(0,u.useFieldSchema)(),Oe=J(Re),$e=(Oe==null?void 0:Oe["x-component-props"])||{},Ve=$e.enablePageTabs,Ze=_e.paddingContentVerticalLG*2+_e.fontSizeLG*_e.lineHeightLG,qe=_e.paddingContentVerticalLG+_e.margin+2*_e.paddingContentVertical+22,Qe=pe?_e.controlHeight+2*_e.paddingContentHorizontalLG:2*_e.paddingContentHorizontalLG;return Ve===!1?Ze+Qe+_e.paddingLG:Ze+qe+Qe+_e.paddingLG},k=function De(ye){return ye?ye["x-component"]==="Action.Container"?!0:De(ye.parent):null},Y=function(ye){var _e=(0,u.useFieldSchema)(),q=k(_e),pe=X(ye),Re=C();return q?Re:pe},H=null,te=function(){var ye,_e,q=theme.useToken(),pe=q.token,Re=U(),Oe=Re.heightProps,$e=useTableBlockContext(),Ve=$e.heightProps,Ze=useDesignable(),qe=Ze.designable,Qe=useFieldSchema(),ke=Ve||Oe,ft=Y(ke),vt=(ye=useDataBlockRequest())!==null&&ye!==void 0?ye:{},_t=vt.data,Nt=useCollection(),Kt=Nt.name,ut=(_t==null?void 0:_t.meta)||{},Rt=ut.count,Dt=ut.pageSize,dt=Rt>Dt,Bt=ke.heightMode,He=ke.height,ct=ke.title;if(!(!(ke!=null&&ke.heightMode)||Bt===HeightMode.DEFAULT)){var St=Object.keys(((_e=Qe.parent.properties.actions)===null||_e===void 0?void 0:_e.properties)||{}).length>0,Tt=dt?pe.controlHeight+pe.padding+pe.marginLG:pe.marginLG,Mt=St||qe?pe.controlHeight+2*pe.marginLG:pe.marginLG,Zt=(qe&&!H.includes(Kt)?pe.controlHeight:22)+2*pe.padding+1,Je=ct?pe.fontSizeLG*pe.lineHeightLG+pe.padding*2-1:0;return Bt===HeightMode.FULL_HEIGHT?window.innerHeight-ft-Je-Zt-Mt-Tt:He-Je-Mt-Zt-Tt}},le=function(ye){var _e=U(),q=_e.heightProps,pe=Y(),Re=w.Z.useToken(),Oe=Re.token,$e=q||{},Ve=$e.heightMode,Ze=$e.height,qe=$e.title,Qe=qe?Oe.fontSizeLG*Oe.lineHeightLG+Oe.padding*2-1:0;if(!(!(q!=null&&q.heightMode)||Ve===b.j0.DEFAULT)){if(Ve===b.j0.FULL_HEIGHT){var ke=window.innerHeight-pe;return ye!=null&&ye.removeBlockHeaderHeight&&(ke=ke-Qe),ye!=null&&ye.innerExtraHeight&&(ke=ke-ye.innerExtraHeight),ke}return Ze}},ne=function(){var ye=(0,u.useFieldSchema)(),_e=(0,v.useMemo)(function(){return I(ye)},[]),q=(_e==null?void 0:_e["x-component-props"])||{},pe=q.disablePageHeader,Re=q.enablePageTabs,Oe=q.hidePageTitle,$e=a()(a()({},ye==null?void 0:ye["x-component-props"]),{},{disablePageHeader:pe,enablePageTabs:Re,hidePageTitle:Oe}),Ve=Y($e),Ze=$e||{},qe=Ze.heightMode,Qe=Ze.height;if(!(!($e!=null&&$e.heightMode)||qe===b.j0.DEFAULT))return qe===b.j0.FULL_HEIGHT?window.innerHeight-Ve:Qe},ie=e(19632),ee=e.n(ie),fe=function(ye){var _e=(0,M.useCollectionManager_deprecated)(),q=_e.getCollectionFields,pe=q(ye),Re=function(Ve,Ze){var qe;if(Ve.interface){var Qe={name:Ve.name,title:(Ve==null||(qe=Ve.uiSchema)===null||qe===void 0?void 0:qe.title)||Ve.name,schema:Ve==null?void 0:Ve.uiSchema};if(!Ve.target||Ze>=3)return Qe;if(Ve.target){var ke,ft=q(Ve.target),vt=Oe(ft,Ze+1).filter(Boolean);Qe.children=Qe.children||[],(ke=Qe.children).push.apply(ke,ee()(vt))}return Qe}},Oe=function(Ve,Ze){var qe=[];return Ve.forEach(function(Qe){var ke=Re(Qe,Ze);ke&&qe.push(ke)}),qe};return Oe(pe,1)},de=e(15009),ue=e.n(de),Se=e(99289),ae=e.n(Se),G=e(96695),re=e.n(G),oe=e(72594),ce=e(72029);function be(De){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_e=arguments.length>2?arguments[2]:void 0,q=function Re(Oe,$e){var Ve=Oe,Ze=re()($e),qe;try{var Qe=function(){var vt,_t=qe.value;if(Array.isArray(Ve))return{v:Ve.map(function(Nt){return Re(Nt,[_t])}).flat().filter(function(Nt){return Nt!==void 0}).join(", ")};if(Ve=(vt=Ve)===null||vt===void 0?void 0:vt[_t],Ve===void 0)return 0},ke;for(Ze.s();!(qe=Ze.n()).done&&(ke=Qe(),ke!==0);)if(ke)return ke.v}catch(ft){Ze.e(ft)}finally{Ze.f()}return Ve},pe=ye.map(function(Re){var Oe={},$e=re()(De),Ve;try{var Ze=function(){var Qe=Ve.value,ke=q(Re,Qe.dataIndex),ft=Qe.title||_e(Qe.defaultTitle);if(Qe.enum){var vt,_t=Qe.enum.find(function(Nt){return Nt.value===ke});Oe[ft]=(vt=_t==null?void 0:_t.label)!==null&&vt!==void 0?vt:ke}else Oe[ft]=ke};for($e.s();!(Ve=$e.n()).done;)Ze()}catch(qe){$e.e(qe)}finally{$e.f()}return Oe});return pe}var xe=function(){var ye,_e=(0,u.useFieldSchema)(),q=((ye=_e["x-component-props"])===null||ye===void 0?void 0:ye.tableData)||[],pe=(0,x.e)(),Re=(0,r.$)(),Oe=Re.t,$e=(0,oe.Kx)(),Ve=$e.name,Ze=$e.title,qe=(0,o.useCollectionManager_deprecated)(),Qe=qe.getCollectionJoinField,ke=(0,ce.LY)(),ft=q.filter(function(vt){var _t=vt.__actions__;return!(_t!=null&&_t.includes("hidden"))});return{onClick:function(){return ae()(ue()().mark(function _t(){var Nt,Kt,ut,Rt,Dt;return ue()().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:Kt=d().cloneDeep((Nt=_e==null?void 0:_e["x-action-settings"])!==null&&Nt!==void 0?Nt:{}),ut=Kt.downloadFields,ut.forEach(function(He){var ct,St,Tt=(ct=Qe("".concat(Ve,".").concat(He.dataIndex.join("."))))!==null&&ct!==void 0?ct:{},Mt=Tt.uiSchema;He.enum=Mt==null||(St=Mt.enum)===null||St===void 0?void 0:St.map(function(Zt){return{value:Zt.value,label:Zt.label}}),!He.enum&&(Mt==null?void 0:Mt.type)==="boolean"&&(He.enum=[{value:!0,label:Oe("Yes")},{value:!1,label:Oe("No")}]),He.defaultTitle=Mt==null?void 0:Mt.title}),Rt=ut.map(function(He){var ct=He.title,St=He.defaultTitle;return ct||pe(St)}),Dt=be(ut,ft,pe),(0,z.exportToExcel)(ke,Dt||[],"".concat(pe(Ze),".xlsx"),Rt);case 5:case"end":return Bt.stop()}},_t)}))()}}},ge=e(84327),he=e(45360),Pe=e(93162),Ae=e(79531),Be=e(98592),Le=function(ye){for(var _e=ye;_e&&_e["x-action"]!=="importXlsx";)_e=_e.parent;return{schema:_e}},Me=function(){var ye=(0,r.$)(),_e=ye.t;return{uploadValidator:function(pe){var Re,Oe=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"];if(pe.length>1)return{type:"error",message:_e("Only one file is allowed to be uploaded")};var $e=(Re=pe[0])!==null&&Re!==void 0?Re:{};return Oe.includes($e.type)?"":{type:"error",message:_e("Please upload the file of Excel")}}}},Te=function(ye,_e,q){var pe,Re=E()(q,1),Oe=Re[0];_e.disabled=(Oe==null?void 0:Oe.length)===0,_e.componentProps=a()(a()({},_e.componentProps),{},{disabled:(Oe==null?void 0:Oe.length)===0||((pe=ye.errors)===null||pe===void 0?void 0:pe.length)>0})},we=function(){return!1},Ue=function(){var ye=(0,Ae.BU)(),_e=ye.resource,q=(0,u.useFieldSchema)(),pe=(0,x.e)(),Re=(0,o.useCollectionManager_deprecated)(),Oe=Re.getCollectionJoinField,$e=Re.getCollectionField,Ve=(0,o.useCollection_deprecated)(),Ze=Ve.name,qe=Ve.title,Qe=Le(q),ke=Qe.schema,ft=(0,r.$)(),vt=ft.t,_t=(0,M.useAPIClient)();return{run:function(){return ae()(ue()().mark(function Kt(){var ut,Rt,Dt,dt,Bt,He,ct,St,Tt;return ue()().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:if(Rt=d().cloneDeep((ut=ke==null?void 0:ke["x-action-settings"])!==null&&ut!==void 0?ut:{}),Dt=Rt.updateFields,dt=Rt.updateKeys,Bt=Rt.explain,!(!dt||!dt.length)){Zt.next=4;break}return he.ZP.error(vt("Please configure the Update keys first")),Zt.abrupt("return");case 4:return He=(0,ge.toArr)([].concat(ee()(dt),ee()(Dt))).map(function(Je){var et,rt=$e("".concat(Ze,".").concat(Je.dataIndex[0]));if(rt){if(Je.defaultTitle=Je.title||pe(rt==null||(et=rt.uiSchema)===null||et===void 0?void 0:et.title)||rt.name,Je.dataIndex.length>1){var yt,xt=Oe("".concat(Ze,".").concat(Je.dataIndex.join(".")));if(!xt)return;Je.defaultTitle=Je.title||Je.defaultTitle+"/"+pe(xt==null||(yt=xt.uiSchema)===null||yt===void 0?void 0:yt.title)||xt.name}return Je}}).filter(Boolean),Zt.next=7,_e.downloadXlsxTemplate({values:{title:pe(qe),explain:Bt,columns:pe(He)}},{method:"post",responseType:"blob"});case 7:if(ct=Zt.sent,St=ct.data,Tt=new Blob([St],{type:"application/x-xls"}),!z.isInFlutter){Zt.next=13;break}return(0,z.definedUploadFileHandle)(_t,Tt,"".concat(pe(qe),".xlsx")),Zt.abrupt("return");case 13:(0,Pe.saveAs)(Tt,"".concat(pe(qe),".xlsx"));case 14:case"end":return Zt.stop()}},Kt)}))()}}},je=function(){var ye=(0,u.useFieldSchema)(),_e=Le(ye),q=_e.schema,pe=(0,u.useForm)(),Re=(0,u.useField)(),Oe=(0,r.$)(),$e=Oe.t,Ve=(0,Be.useActionContext)(),Ze=Ve.setVisible,qe=function(vt){return vt.map(function(_t){var Nt=_t.dataIndex;return Nt})},Qe=function(vt,_t,Nt){var Kt=vt.slice(Nt?2:1);return Kt.map(function(ut){var Rt={};return _t.forEach(function(Dt,dt){for(var Bt=Rt,He=0;He<Dt.dataIndex.length-1;He++){var ct=Dt.dataIndex[He];Bt[ct]=Bt[ct]||{},Bt=Bt[ct]}var St=Dt.dataIndex[Dt.dataIndex.length-1];Bt[St]=ut[dt]}),Rt})},ke=function(vt,_t,Nt,Kt){var ut=ee()(_t),Rt=Nt.map(function(dt){return dt.join(".")}),Dt=Kt.map(function(dt){return dt.join(".")});return vt.forEach(function(dt){var Bt=ut.findIndex(function(He){return Rt.map(function(ct){return d().get(He,ct)===d().get(dt,ct)}).every(function(ct){return ct===!0})});Bt>-1&&Dt.map(function(He){var ct=d().get(dt,He);ct!=null&&d().set(ut[Bt],He,ct)})}),ut};return{run:function(){return ae()(ue()().mark(function vt(){var _t,Nt,Kt,ut,Rt,Dt,dt,Bt,He,ct,St,Tt;return ue()().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Nt=d().cloneDeep((_t=q==null?void 0:q["x-action-settings"])!==null&&_t!==void 0?_t:{}),Kt=Nt.updateKeys,ut=Nt.updateFields,Rt=Nt.explain,Dt=pe.values.upload.map(function(Je){return Je.originFileObj}),dt=Re.componentProps.field.value,Zt.prev=3,Zt.next=6,(0,z.parseExcel)(Dt[0]);case 6:Bt=Zt.sent,He=Qe(Bt,[].concat(ee()(Kt),ee()(ut)),Rt),ct=qe(Kt),St=qe(ut),Tt=ke(He,dt,ct,St),Re.componentProps.field.value=Tt,Ze(!1),pe.reset(),he.ZP.success($e("Upload Successfully")),Zt.next=22;break;case 17:Zt.prev=17,Zt.t0=Zt.catch(3),console.error(Zt.t0),he.ZP.error($e("Failed to parse Excel content, please upload again.")),pe.reset();case 22:case"end":return Zt.stop()}},vt,null,[[3,17]])}))()}}}},96365:function(se,j,e){"use strict";e.d(j,{e:function(){return t}});var v=e(97857),m=e.n(v),x=e(52677),u=e.n(x),p=e(94350),d=e(67294),h={},t=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{noCache:!1},a=i.noCache,f=(0,d.useContext)(p.SchemaOptionsContext),l=(0,d.useContext)(p.SchemaExpressionScopeContext);return function(n,r){var o=!1,g;if(typeof n=="string"&&n.startsWith("{{")&&(o=!0,g=n),n&&u()(n)==="object"&&!(0,d.isValidElement)(n)&&(o=!0,g=JSON.stringify(n)),Array.isArray(n)&&(o=!0),o){var y=m()(m()(m()({},f.scope),l),r);if(!g)return p.Schema.compile(n,y);try{return a?p.Schema.compile(n,y):(h[g]=h[g]||p.Schema.compile(n,y),h[g])}catch(D){return console.log("useCompile error",n,D),p.Schema.compile(n,y)}}return n}}},94516:function(se,j,e){"use strict";e.d(j,{zz:function(){return F},Pl:function(){return L},oB:function(){return U},ng:function(){return X},sR:function(){return W}});var v=e(5574),m=e.n(v),x=e(19632),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(12444),i=e.n(c),a=e(72004),f=e.n(a),l=e(9783),n=e.n(l),r=e(97857),o=e.n(r),g=e(94350),y=e(84327),D=e(45360),P=e(50361),E=e.n(P),O=e(27361),T=e.n(O),S=e(36968),$=e.n(S),Z=e(67294),K=e(26793),z=e(72029),w=e(61736);function A(J,C){if(J)return J["x-app-version"]||(J["x-app-version"]=C),Object.keys(J.properties||{}).forEach(function(k){var Y;A((Y=J.properties)===null||Y===void 0?void 0:Y[k],C)}),J}var M=e(70173),b=JSON.parse('{"i8":"1.1.0-alpha.0"}'),R=e(85893);function L(J){return new F(J)}var N=function J(C){C["x-uid"]||(C["x-uid"]=(0,y.uid)()),Object.keys(C.properties||{}).forEach(function(k){J(C.properties[k])})},B=function(C){return C},V=function(C,k){if(!(!C||!k)){for(var Y in k)if(Object.prototype.hasOwnProperty.call(k,Y)){var H=k[Y];if(H!==(C==null?void 0:C[Y]))return!1}return!0}},U=function(C,k){if(C["x-uid"]&&C["x-uid"]===k["x-uid"])return[null,C.toJSON()];var Y=C.toJSON(),H=o()(o()({},Y),{},{properties:{}}),te=null,le=function ne(ie,ee){Object.keys(ie||{}).forEach(function(fe){var de=ie[fe];if(de["x-uid"]===k["x-uid"]){te=ie[fe];return}else ee.properties[fe]=o()(o()({},de),{},{properties:{}}),ne(de==null?void 0:de.properties,ee.properties[fe])})};return le(Y.properties,H),[H,te]},I=function(C){return C},F=function(){function J(C){i()(this,J),n()(this,"current",void 0),n()(this,"options",void 0),n()(this,"appVersion",void 0),n()(this,"events",{}),this.options=C,this.current=C.current,this.appVersion=C.appVersion}return f()(J,[{key:"model",get:function(){return this.options.model}},{key:"query",get:function(){return this.options.query}},{key:"loadAPIClientEvents",value:function(){var k=this,Y=this.options,H=Y.api,te=Y.t,le=te===void 0?I:te;if(H){var ne=function(ee){if(!ee)return[];var fe=Object.values(ee.properties).length,de=[];return ee.mapProperties(function(ue){ue["x-component-props"]=ue["x-component-props"]||{},ue["x-component-props"].width=100/fe,ue["x-uid"]&&de.push({"x-uid":ue["x-uid"],"x-component-props":ue["x-component-props"]})}),ee["x-uid"]&&de.length?de:[]};this.on("insertAdjacent",function(){var ie=t()(d()().mark(function ee(fe){var de,ue,Se,ae,G,re,oe,ce,be,xe;return d()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(ue=fe.onSuccess,Se=fe.current,ae=fe.position,G=fe.schema,re=fe.wrap,oe=fe.wrapped,ce=fe.removed,be=[],(oe==null?void 0:oe["x-component"])==="Grid.Col"&&(be=be.concat(ne(oe.parent))),(ce==null?void 0:ce["x-component"])==="Grid.Col"&&(be=be.concat(ne(ce.parent))),k.refresh(),Se["x-uid"]){he.next=7;break}return he.abrupt("return");case 7:return he.next=9,H.request({url:"/uiSchemas:insertAdjacent/".concat(Se["x-uid"],"?position=").concat(ae),method:"post",data:{schema:A(G,k.appVersion),wrap:re}});case 9:if(xe=he.sent,!be.length){he.next=13;break}return he.next=13,H.request({url:"/uiSchemas:batchPatch",method:"post",data:be});case 13:if(!(ce!=null&&ce["x-uid"])){he.next=16;break}return he.next=16,H.request({url:"/uiSchemas:remove/".concat(ce["x-uid"]),method:"post"});case 16:ue==null||ue(xe==null||(de=xe.data)===null||de===void 0?void 0:de.data),D.ZP.success(le("Saved successfully"),.2);case 18:case"end":return he.stop()}},ee)}));return function(ee){return ie.apply(this,arguments)}}()),this.on("patch",function(){var ie=t()(d()().mark(function ee(fe){var de;return d()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(de=fe.schema,k.refresh(),de!=null&&de["x-uid"]){Se.next=4;break}return Se.abrupt("return");case 4:return Se.next=6,H.request({url:"/uiSchemas:patch",method:"post",data:o()({},de)});case 6:D.ZP.success(le("Saved successfully"),.2);case 7:case"end":return Se.stop()}},ee)}));return function(ee){return ie.apply(this,arguments)}}()),this.on("batchPatch",function(){var ie=t()(d()().mark(function ee(fe){var de;return d()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return de=fe.schemas,k.refresh(),Se.next=4,H.request({url:"/uiSchemas:batchPatch",method:"post",data:de});case 4:D.ZP.success(le("Saved successfully"),.2);case 5:case"end":return Se.stop()}},ee)}));return function(ee){return ie.apply(this,arguments)}}()),this.on("remove",function(){var ie=t()(d()().mark(function ee(fe){var de,ue;return d()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(de=fe.removed,ue=[],(de==null?void 0:de["x-component"])==="Grid.Col"&&(ue=ne(de.parent)),k.refresh(),de!=null&&de["x-uid"]){ae.next=6;break}return ae.abrupt("return");case 6:return ae.next=8,H.request({url:"/uiSchemas:remove/".concat(de["x-uid"]),method:"post"});case 8:if(!ue.length){ae.next=11;break}return ae.next=11,H.request({url:"/uiSchemas:batchPatch",method:"post",data:ue});case 11:D.ZP.success(le("Saved successfully"),.2);case 12:case"end":return ae.stop()}},ee)}));return function(ee){return ie.apply(this,arguments)}}())}}},{key:"prepareProperty",value:function(k){k.type||(k.type="void"),k.name||(k.name=(0,y.uid)()),this.current["x-uid"]&&N(k)}},{key:"on",value:function(k,Y){this.events[k]||(this.events[k]=[]),this.events[k].push(Y)}},{key:"emit",value:function(){var C=t()(d()().mark(function Y(H){var te=this,le,ne,ie,ee,fe,de=arguments;return d()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(this.events[H]){Se.next=2;break}return Se.abrupt("return");case 2:for(le=de.length,ne=new Array(le>1?le-1:0),ie=1;ie<le;ie++)ne[ie-1]=de[ie];return ee=ne[0],fe=ne.slice(1),Se.abrupt("return",Promise.all(this.events[H].map(function(ae){return ae.bind(te).apply(void 0,[o()({current:te.current},ee)].concat(u()(fe)))})));case 5:case"end":return Se.stop()}},Y,this)}));function k(Y){return C.apply(this,arguments)}return k}()},{key:"parentsIn",value:function(k){if(!k||!g.Schema.isSchemaInstance(k))return!1;for(var Y=this.current;(H=Y)!==null&&H!==void 0&&H.parent;){var H;if(Y.parent===k)return!0;Y=Y.parent}return!1}},{key:"refresh",value:function(){var k=this.options.refresh;return k==null?void 0:k()}},{key:"deepMerge",value:function(k){var Y=this,H={title:"title",description:"description",default:"initialValue",readOnly:"readOnly",writeOnly:"editable",enum:"dataSource","x-pattern":"pattern","x-display":"display","x-validator":"validator","x-decorator":"decorator","x-component":"component","x-reactions":"reactions","x-content":"content","x-visible":"visible","x-hidden":"hidden","x-disabled":"disabled","x-editable":"editable","x-read-only":"readOnly"},te={"x-decorator-props":"decoratorProps","x-component-props":"componentProps","x-data":"data"};Object.keys(k).forEach(function(le){H[le]?(Y.current[le]=k[le],Y.updateModel(H[le],k[le])):te[le]?Object.keys(k[le]).forEach(function(ne){$()(Y.current,[le,ne],k[le][ne]),Y.updateModel([te[le],ne],k[le][ne])}):Y.current[le]=k[le]}),this.emit("patch",{schema:k})}},{key:"getSchemaAttribute",value:function(k,Y){return T()(this.current,k,Y)}},{key:"shallowMerge",value:function(k){var Y=this,H={title:"title",description:"description",default:"initialValue",readOnly:"readOnly",writeOnly:"editable",enum:"dataSource","x-pattern":"pattern","x-display":"display","x-validator":"validator","x-decorator":"decorator","x-component":"component","x-reactions":"reactions","x-content":"content","x-visible":"visible","x-hidden":"hidden","x-disabled":"disabled","x-editable":"editable","x-read-only":"readOnly","x-decorator-props":"decoratorProps","x-component-props":"componentProps","x-data":"data"};Object.keys(k).forEach(function(te){Y.current[te]=k[te],H[te]&&Y.updateModel(H[te],k[te])}),this.emit("patch",{schema:k})}},{key:"updateModel",value:function(k,Y){var H=function(le){$()(le,k,Y)};this.model&&H(this.model),this.query&&this.query.take(H)}},{key:"insertAdjacent",value:function(k,Y){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};switch(k){case"beforeBegin":return this.insertBeforeBegin(Y,H);case"afterBegin":return this.insertAfterBegin(Y,H);case"beforeEnd":return this.insertBeforeEnd(Y,H);case"afterEnd":return this.insertAfterEnd(Y,H)}}},{key:"recursiveRemoveIfNoChildren",value:function(k,Y){if(k){for(var H=k,te,le=Y==null?void 0:Y.breakRemoveOn;H;){if(typeof le=="function"){if(le(H))break}else if(V(H,le))break;var ne=Object.keys(H.properties||{}).length;if(ne>0)break;H.parent&&(te=H.parent.removeProperty(H.name)),H=H.parent}return te}}},{key:"remove",value:function(k){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=Y.breakRemoveOn,te=Y.removeParentsIfNoChildren,le=k||this.current,ne=le.parent.removeProperty(le.name);if(te){var ie=this.recursiveRemoveIfNoChildren(le.parent,{breakRemoveOn:H});ie&&(ne=ie)}return this.emit("remove",{removed:ne})}},{key:"removeWithoutEmit",value:function(k){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=Y.breakRemoveOn,te=Y.removeParentsIfNoChildren,le=k||this.current,ne=le.parent.removeProperty(le.name);if(te){var ie=this.recursiveRemoveIfNoChildren(le.parent,{breakRemoveOn:H});ie&&(ne=ie)}return ne}},{key:"insertBeforeBeginOrAfterEnd",value:function(k){var Y=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g.Schema.isSchemaInstance(this.current)&&g.Schema.isSchemaInstance(k)&&this.current.parent===k.parent){var te=0,le=0;return this.current.parent.mapProperties(function(ne,ie,ee){Y.current.name===ie&&(le=ee),k.name===ie&&(te=ee)}),te>le?this.insertBeforeBegin(k,H):this.insertAfterEnd(k,H)}}},{key:"insertBeforeBegin",value:function(k){var Y=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g.Schema.isSchemaInstance(this.current)){var te={onSuccess:H.onSuccess},le=H.wrap,ne=le===void 0?B:le,ie=H.breakRemoveOn,ee=H.removeParentsIfNoChildren;if(g.Schema.isSchemaInstance(k)){if(this.parentsIn(k)){this.emit("error",{code:"parent_is_not_allowed",schema:k});return}k.parent.removeProperty(k.name),ee&&(te.removed=this.recursiveRemoveIfNoChildren(k.parent,{breakRemoveOn:ie}))}else k&&(k=E()(k));var fe={},de=!1,ue=0,Se=0;this.current.parent.mapProperties(function(xe,ge){ge===Y.current.name&&(Se=ue,de=!0,++ue),xe["x-index"]=ue,++ue,de&&(fe[ge]=xe,Y.current.parent.removeProperty(ge))}),this.prepareProperty(k);var ae=ne(k),G=this.current.parent.addProperty(ae.name||(0,y.uid)(),ae);G["x-index"]=Se,G.parent=this.current.parent,this.current.parent.setProperties(fe);var re=U(G,k),oe=m()(re,2),ce=oe[0],be=oe[1];this.emit("insertAdjacent",o()({position:"beforeBegin",schema:be,wrapped:ae,wrap:ce},te))}}},{key:"insertAfterBegin",value:function(k){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g.Schema.isSchemaInstance(this.current)){var H={onSuccess:Y.onSuccess},te=Y.wrap,le=te===void 0?B:te,ne=Y.breakRemoveOn,ie=Y.removeParentsIfNoChildren;if(g.Schema.isSchemaInstance(k)){if(this.parentsIn(k)){this.emit("error",{code:"parent_is_not_allowed",schema:k});return}k.parent.removeProperty(k.name),ie&&(H.removed=this.recursiveRemoveIfNoChildren(k.parent,{breakRemoveOn:ne}))}else k&&(k=E()(k));var ee={},fe=1;this.current.mapProperties(function(oe,ce){oe["x-index"]=fe,++fe,ee[ce]=oe}),this.current.properties={},this.prepareProperty(k);var de=le(k),ue=this.current.addProperty(de.name||(0,y.uid)(),de);ue["x-index"]=0,ue.parent=this.current,this.current.setProperties(ee);var Se=U(ue,k),ae=m()(Se,2),G=ae[0],re=ae[1];this.emit("insertAdjacent",o()({position:"afterBegin",schema:re,wrap:G,wrapped:de},H))}}},{key:"insertBeforeEnd",value:function(k){var Y=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g.Schema.isSchemaInstance(this.current)){delete k["x-index"];var te={onSuccess:H.onSuccess},le=H.wrap,ne=le===void 0?B:le,ie=H.breakRemoveOn,ee=H.removeParentsIfNoChildren;if(g.Schema.isSchemaInstance(k)){if(this.parentsIn(k)){this.emit("error",{code:"parent_is_not_allowed",schema:k});return}k.parent.removeProperty(k.name),ee&&(te.removed=this.recursiveRemoveIfNoChildren(k.parent,{breakRemoveOn:ie}))}else k&&(k=E()(k));this.prepareProperty(k);var fe=ne(k),de=0;this.current.mapProperties(function(oe,ce){var be=oe["x-index"];typeof be=="number"&&be>de&&(de=be),typeof be!="number"&&(oe["x-index"]=++de,Y.current.addProperty(ce,oe))}),fe["x-index"]=++de;var ue=this.current.addProperty(fe.name||(0,y.uid)(),fe);ue.parent=this.current;var Se=U(ue,k),ae=m()(Se,2),G=ae[0],re=ae[1];return this.emit("insertAdjacent",o()({position:"beforeEnd",schema:re,wrap:G,wrapped:fe},te))}}},{key:"insertAfterEnd",value:function(k){var Y=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g.Schema.isSchemaInstance(this.current)){var te={onSuccess:H==null?void 0:H.onSuccess},le=H.wrap,ne=le===void 0?B:le,ie=H.breakRemoveOn,ee=H.removeParentsIfNoChildren,fe=0,de=0,ue=!1,Se={};if(this.current.parent.mapProperties(function(xe,ge){xe["x-index"]=fe,ge===Y.current.name&&(++fe,de=fe,ue=!0),++fe,ue&&ge!==Y.current.name&&(Se[ge]=xe,Y.current.parent.removeProperty(ge))}),g.Schema.isSchemaInstance(k)){if(this.parentsIn(k)){this.emit("error",{code:"parent_is_not_allowed",schema:k});return}k.parent.removeProperty(k.name),ee&&(te.removed=this.recursiveRemoveIfNoChildren(k.parent,{breakRemoveOn:ie})),k.parent=null}else k&&(k=E()(k));this.prepareProperty(k);var ae=ne(k),G=this.current.parent.addProperty(ae.name||(0,y.uid)(),ae);G.parent=this.current.parent,G["x-index"]=de,this.current.parent.setProperties(Se);var re=U(G,k),oe=m()(re,2),ce=oe[0],be=oe[1];this.emit("insertAdjacent",o()({position:"afterEnd",schema:be,wrap:ce,wrapped:ae},te))}}}]),J}();function W(){var J=(0,Z.useContext)(g.SchemaOptionsContext),C=(0,Z.useMemo)(function(){return(J==null?void 0:J.components)||{}},[J]),k=function(H){if(!H)return null;if(typeof H!="string")return H;var te=T()(C,H);return te||(0,M.captureException)('[nocobase]: Component "'.concat(H,'" not found')),te};return k}function X(){var J=(0,Z.useContext)(w.D),C=J.designable,k=J.setDesignable,Y=J.refresh,H=J.reset,te=(0,Z.useContext)(g.SchemaOptionsContext),le=(0,Z.useMemo)(function(){return(te==null?void 0:te.components)||{}},[te]),ne=(0,Z.useMemo)(function(){return function(){return(0,R.jsx)(R.Fragment,{})}},[]),ie=(0,g.useField)(),ee=(0,g.useFieldSchema)(),fe=(0,z.LY)(),de=(0,K.$)(),ue=de.t,Se=(0,Z.useMemo)(function(){return L({t:ue,api:fe,refresh:Y,current:ee,model:ie,appVersion:b.i8})},[ue,fe,Y,ee,ie]);return(0,Z.useEffect)(function(){Se.loadAPIClientEvents()},[Se]),{dn:Se,designable:(0,M.isAppDesignPage)()?C:!1,reset:H,refresh:Y,setDesignable:k,DesignableBar:ne,findComponent:(0,Z.useCallback)(function(ae){return ae?typeof ae!="string"?ae:T()(le,ae):null},[T()]),on:Se.on.bind(Se),patch:(0,Z.useCallback)(function(ae,G){var re=function(be){Object.keys(be).forEach(function(xe){var ge=be[xe];xe==="title"&&(ie.title=ge,ee.title=ge),xe==="x-decorator-props"&&(ie.decoratorProps||(ie.decoratorProps={}),ee["x-decorator-props"]||(ee["x-decorator-props"]={}),Object.keys(ge).forEach(function(he){ie.decoratorProps[he]=ge[he],ee["x-decorator-props"][he]=ge[he]})),xe==="x-component-props"&&(ie.componentProps||(ie.componentProps={}),ee["x-component-props"]||(ee["x-component-props"]={}),Object.keys(ge).forEach(function(he){ie.componentProps[he]=ge[he],ee["x-component-props"][he]=ge[he]})),xe==="x-data"&&(ie.data||(ie.data={}),ee["x-data"]||(ee["x-data"]={}),Object.keys(ge).forEach(function(he){ie.data[he]=ge[he],ee["x-data"][he]=ge[he]}))})};if(typeof ae=="string"){var oe={};return $()(oe,ae,G),re(oe)}re(ae),Y()},[Se]),shallowMerge:(0,Z.useCallback)(function(ae){Se.shallowMerge(ae)},[Se]),deepMerge:(0,Z.useCallback)(function(ae){Se.deepMerge(ae)},[Se]),remove:(0,Z.useCallback)(function(ae,G){Se.remove(ae,G)},[Se]),insertAdjacent:(0,Z.useCallback)(function(ae,G,re){return Se.insertAdjacent(ae,G,re)},[Se]),insertBeforeBegin:(0,Z.useCallback)(function(ae){return Se.insertBeforeBegin(ae)},[Se]),insertAfterBegin:(0,Z.useCallback)(function(ae){return Se.insertAfterBegin(ae)},[Se]),insertBeforeEnd:(0,Z.useCallback)(function(ae,G){return Se.insertBeforeEnd(ae,G)},[Se]),insertAfterEnd:(0,Z.useCallback)(function(ae){return Se.insertAfterEnd(ae)},[Se])}}},98146:function(se,j,e){"use strict";e.d(j,{e:function(){return d}});var v=e(94350),m=e(3329),x=e(67294),u=e(81560),p=function(){return null},d=function(){var t=(0,m.ng)(),c=t.designable,i=(0,v.useFieldSchema)(),a=(0,x.useMemo)(function(){return i["x-designer"]||i["x-toolbar"]?i["x-designer"]||i["x-toolbar"]:i["x-settings"]?u.Mf:p},[i]),f=(0,m.Co)(a);return c&&f||p}},9780:function(se,j,e){"use strict";e.d(j,{w:function(){return h}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=["useProps"],d=function(){return{}},h=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=c.useProps,a=i===void 0?d:i,f=u()(c,p),l=a;typeof a!="function"&&(l=d);var n=l();return m()(m()({},f),n)}},98427:function(se,j,e){"use strict";e.d(j,{$18:function(){return v.IconPicker},$9M:function(){return v.filterFormItemSettings},$Lt:function(){return v.ActionDesigner},$N2:function(){return v.useFixedSchema},$SD:function(){return v.AssociationSelect},$b8:function(){return v.AfterSuccess},$w$:function(){return v.EditTitle},AOY:function(){return v.DetailsDesigner},ASv:function(){return v.TableSelectorDesigner},AsW:function(){return v.FixedBlock},BQs:function(){return v.EllipsisWithTooltip},Bc8:function(){return v.FormV2},Bsl:function(){return u.Bs},C$H:function(){return v.getDatePickerLabels},C1I:function(){return v.ButtonEditor},CXR:function(){return v.Editable},Cld:function(){return p.Cl},Cor:function(){return p.Co},Cqo:function(){return v.GridCard},DBW:function(){return v.PopupSettingsProvider},DCh:function(){return v.G2PlotRenderer},DDN:function(){return v.findKeys},DDd:function(){return x.D},DU1:function(){return v.useActionBarContext},D_t:function(){return v.FormDialog},DiB:function(){return v.useGridRowContext},Dmu:function(){return p.Dm},EBS:function(){return p.EB},EIK:function(){return v.ActionContextProvider},F5R:function(){return v.FileSelector},Fjw:function(){return v.WorkflowConfig},Fop:function(){return m.SortableContext},FyH:function(){return v.EditComponent},Fy_:function(){return m.XSwiper},G0E:function(){return u.G0},G5e:function(){return v.useIsFileField},GzZ:function(){return v.FilterAction},HGA:function(){return v.EditOperator},HIW:function(){return v.NanoIDInput},HS$:function(){return v.useGetAriaLabelOfAction},HTy:function(){return v.AntdSchemaComponentPlugin},HYy:function(){return v.Empty},Hj5:function(){return v.ErrorFallback},Hof:function(){return v.RichText},I1X:function(){return m.checkThemeType},I9l:function(){return m.getRenderContent},IIB:function(){return v.Input},IKQ:function(){return v.PageEventEmitterContext},IWB:function(){return m.DragHandler},Ils:function(){return v.useLabelUiSchema},JEX:function(){return v.EditRequired},JV7:function(){return v.SaveMode},Kgy:function(){return v.useGetFilterFieldOptions},Kup:function(){return v.useIsFieldOnlyModify},KxP:function(){return v.useBackButton},L39:function(){return v.TestDesigner},LBT:function(){return m.DndContext},LCt:function(){return m.DraggableContext},Lip:function(){return v.DataSourceSelect},M0b:function(){return v.Expand},MBS:function(){return v.Preview},MLy:function(){return v.BackButtonUsedInSubPage},Mev:function(){return v.pageTabSettings},MkN:function(){return v.RequestSettings},Mtg:function(){return v.DatePicker},N0i:function(){return v.ActionBarProvider},Nir:function(){return v.EditDefaultValue},ODP:function(){return v.ReadPrettyRecordPicker},ORg:function(){return m.SortableProvider},OcP:function(){return p.Oc},Oct:function(){return v.EditTooltip},Ofb:function(){return v.formItemSettings},Oxq:function(){return v.defaultFieldNames},P1D:function(){return v.useDatePickerContext},PLH:function(){return v.useFilterActionProps},POi:function(){return v.Details},PhF:function(){return v.Select},Phs:function(){return v.Json},Pls:function(){return p.Pl},Pok:function(){return v.Cron},Q5L:function(){return v.ColorSelect},QTe:function(){return v.EditPattern},QYZ:function(){return v.useGetAriaLabelOfModal},QZ3:function(){return v.Templates},QcG:function(){return v.AutoComplete},RVL:function(){return u.RV},Rat:function(){return v.AssociationField},RnZ:function(){return v.InputNumber},RqK:function(){return m.getTargetField},SLL:function(){return v.actionSettings},SnY:function(){return v.TableField},Ssf:function(){return v.CardItem},T3C:function(){return v.Page},TRI:function(){return m.SortableItem},TaI:function(){return v.Space},Tt2:function(){return v.CollectionSelect},TzZ:function(){return u.Tz},UGj:function(){return v.Markdown},UxO:function(){return m.EditTheme},V8t:function(){return v.useFilterFieldOptions},Vm0:function(){return v.CronSet},WGR:function(){return v.getCurrentOptions},WLi:function(){return v.fetchTemplateData},WiK:function(){return v.FormField},WmO:function(){return v.removeNullCondition},WyG:function(){return v.formV1Settings},XCj:function(){return v.useActionContext},XZJ:function(){return v.Checkbox},Xdt:function(){return v.useFieldNames},Y8K:function(){return v.Radio},ZZb:function(){return v.isFileCollection},Zd$:function(){return v.useEnsureOperatorsValid},_Ko:function(){return v.pageSettings},_bl:function(){return u._b},_wD:function(){return v.Variable},a$w:function(){return u.a$},aJ2:function(){return v.useGetFilterOptions},aUM:function(){return v.Action},aVo:function(){return v.List},aZq:function(){return p.aZ},b7w:function(){return v.RecordPickerContext},baz:function(){return v.useFieldMode},bts:function(){return m.Sortable},bwk:function(){return v.TableV2},cLM:function(){return v.FixedBlockDesignerItem},cLh:function(){return p.cL},cNQ:function(){return v.getLabelFormatValue},c__:function(){return v.TabsContextProvider},cof:function(){return v.SkipValidation},d97:function(){return v.PagePopups},dDF:function(){return v.useDataTemplates},e7N:function(){return m.parseVariables},eJW:function(){return p.eJ},eT6:function(){return v.useTitleFieldOptions},eYL:function(){return v.AssignedFieldValues},elO:function(){return v.isShowFilePicker},ett:function(){return p.et},fAH:function(){return v.EditSortField},fMB:function(){return p.fM},fWn:function(){return v.ActionContext},fde:function(){return p.fd},frb:function(){return v.useFixedBlock},gCg:function(){return v.useTabsContext},gGi:function(){return v.Percent},gOu:function(){return v.Block},glM:function(){return v.RemoteSelect},gpC:function(){return p.gp},gqx:function(){return v.Upload},gsn:function(){return v.HTMLEncode},gvM:function(){return v.TableBlockDesigner},hG9:function(){return v.G2Plot},hGv:function(){return v.PageTabs},hKP:function(){return v.storePopupContext},hi9:function(){return p.hi},i2K:function(){return v.readPrettyFormSettings},iA_:function(){return v.Table},iNG:function(){return v.findKeysByUid},iNu:function(){return v.DatePickerProvider},iTm:function(){return v.allowAddNew},iVT:function(){return v.ReadPretty},ibf:function(){return v.formSettings},igR:function(){return v.useA},j2Y:function(){return v.FLUTTER_FILE_SOURCE_TYPE},jCg:function(){return m.conditionAnalyses},jII:function(){return v.TimePicker},jYG:function(){return v.BlockItem},jfA:function(){return p.jf},jpu:function(){return p.jp},kJM:function(){return v.useIsFieldReadOnly},ki9:function(){return p.ki},l09:function(){return v.Form},l1O:function(){return v.useIsAddNewForm},l6$:function(){return v.genStyleHook},lIL:function(){return p.lI},lbb:function(){return v.RecordPicker},lkv:function(){return v.AntdSchemaComponentProvider},m1v:function(){return u.m1},mPs:function(){return v.TreeSelect},mPw:function(){return v.GoogleReCaptcha},mQc:function(){return v.Tabs},mX2:function(){return v.InputReadPretty},m__:function(){return v.FixedBlockWrapper},mn3:function(){return v.findFilterOperators},n14:function(){return v.useGridContext},n6:function(){return u.n6},nBj:function(){return v.EditTitleField},nCn:function(){return v.findByUid},ngQ:function(){return p.ng},oBi:function(){return p.oB},odx:function(){return m.getInnermostKeyAndValue},olz:function(){return v.ActionBar},p27:function(){return v.useCloseAction},p3Q:function(){return v.useIsFieldReadPretty},pE_:function(){return v.AfterFailure},pGO:function(){return v.QuickEdit},pg9:function(){return v.formDetailsSettings},prg:function(){return v.MultipleLineEllipsisWithTooltip},q4O:function(){return v.useValidateSchema},q8U:function(){return v.EditDescription},qHe:function(){return v.StablePopover},qfB:function(){return m.targetFieldToVariableString},rDu:function(){return v.AppendsTreeSelect},rdB:function(){return m.handleScroll},rjZ:function(){return v.Grid},rjl:function(){return v.VariableScopeProvider},rop:function(){return v.Password},rxY:function(){return v.useIsSelectFieldMode},sBv:function(){return v.actionSettingsItems},sRe:function(){return p.sR},sUk:function(){return v.RecordPickerProvider},t9d:function(){return v.useGetAriaLabelOfPopover},tD8:function(){return v.findMenuItem},tJZ:function(){return v.FilterActionContext},tMk:function(){return v.useFilterFieldProps},tgM:function(){return v.UnixTimestamp},tjY:function(){return p.tj},tlE:function(){return v.Pagination},v2r:function(){return v.Menu},vBu:function(){return v.useGetAriaLabelOfDrawer},vH8:function(){return p.vH},vTp:function(){return v.Cascader},w$u:function(){return p.w$},w5o:function(){return v.useIsAssociationField},w7j:function(){return v.getTopSubMenuTitle},wKF:function(){return m.XPopup},wNf:function(){return p.wN},wn$:function(){return v.Filter},x1j:function(){return v.RefreshDataBlockRequest},xE:function(){return v.DEFAULT_FLUTTER_FILE_SOURCE_TYPES},xI_:function(){return v.DataSourceCollectionCascader},xJW:function(){return v.FormItem},xQm:function(){return v.useFilterOptions},xZD:function(){return v.RemoveButton},xj2:function(){return v.useIsFormReadPretty},y00:function(){return v.SecondConFirm},yKv:function(){return v.useStyles},ymE:function(){return v.useVariableScope},yni:function(){return v.findSubMenu},yq5:function(){return v.MarkdownReadPretty},z9d:function(){return v.useColumnSchema},zCB:function(){return v.useLinkageAction},zDC:function(){return v.InputRecordPicker},zH8:function(){return v.ColorPicker},zYX:function(){return p.zY},zdw:function(){return v.EditValidationRules},zr3:function(){return p.zr},zzt:function(){return p.zz}});var v=e(98592),m=e(13006),x=e(61736),u=e(6574),p=e(3329)},76326:function(se,j,e){"use strict";e.d(j,{EC:function(){return i},Pg:function(){return t},cd:function(){return h},d6:function(){return c}});var v=e(67294),m=e(26793),x=e(74614),u=e(98427),p=e(40341),d=e(85893),h=function(){var f=(0,p.BD)(),l=(0,m.$)(),n=l.t,r=(0,u.eJW)();if(!(f!=null&&f.length))return null;var o=[];return f.forEach(function(g){Object.values(g)[0].length&&o.push({type:"itemGroup",divider:!0,title:n("Parent collection fields")+"("+r("".concat(Object.keys(g)[0]))+")",children:Object.values(g)[0]})}),(0,d.jsx)(x.E0,{children:o})},t=function(){var f=(0,p.hg)({readPretty:!0,block:"Form"}),l=(0,m.$)(),n=l.t;if(f.length===0)return null;var r=[{type:"itemGroup",title:n("Display association fields"),children:f}];return(0,d.jsx)(x.E0,{children:r})},c=function(){var f=(0,p.fE)(),l=(0,m.$)(),n=l.t,r=(0,u.eJW)(),o=[];return(f==null?void 0:f.length)>0&&f.forEach(function(g){Object.values(g)[0].length&&o.push({divider:!0,type:"itemGroup",title:n("Parent collection fields")+"("+r("".concat(Object.keys(g)[0]))+")",children:Object.values(g)[0]})}),(0,d.jsx)(x.E0,{children:o})},i=function(){var f=(0,p.z4)(),l=(0,m.$)(),n=l.t,r=[{type:"itemGroup",title:n("Display association fields"),children:f}];return(0,d.jsx)(x.E0,{children:r})}},94080:function(se,j,e){"use strict";e.r(j),e.d(j,{AssignedField:function(){return P},AssignedFieldValueType:function(){return D},CreateAction:function(){return X},CreateRecordAction:function(){return C},actionDesignerCss:function(){return V},useAclCheck:function(){return U}});var v=e(97857),m=e.n(v),x=e(94350),u=e(84327),p=e(96486),d=e.n(p),h=e(67294),t=e(79531),c=e(6145),i=e(36586),a=e(98427),f=e(22691),l=e(42121),n=e(25813),r=e(72594),o=e(85893),g=function(Y){var H=(0,x.useField)(),te=(0,x.useFieldSchema)(),le=(0,c.useCollectionField_deprecated)(),ne=le.uiSchema,ie=(0,a.Cor)(ne==null?void 0:ne["x-component"]),ee=(0,a.eJW)(),fe=function(ae,G){H[ae]=typeof H[ae]=="undefined"?G:H[ae]},de=function(){typeof te.required=="undefined"&&(H.required=!!ne.required)},ue=(0,t.bz)();return(0,h.useEffect)(function(){ue!=null&&ue.field&&(ue.field.added=ue.field.added||new Set,ue.field.added.add(te.name))}),(0,h.useEffect)(function(){if(ne){fe("content",ne["x-content"]),fe("title",ne.title),fe("description",ne.description),fe("initialValue",ne.default),te["x-disabled"]===!0&&(H.disabled=!0),te["x-read-pretty"]===!0&&(H.readPretty=!0),de(),H.dataSource=ne.enum;var Se=ee(ne["x-component-props"])||{},ae=(0,u.merge)(Se,H.componentProps||{});H.componentProps=ae}},[JSON.stringify(ne)]),ne?h.createElement(ie,Y,Y.children):null},y=function(Y){var H=(0,x.useFieldSchema)();return(0,o.jsx)(r.YT,{name:H.name,children:(0,o.jsx)(g,m()({},Y))})},D=function(k){return k.ConstantValue="constantValue",k.DynamicValue="dynamicValue",k}({}),P=function(Y){var H=Y.value,te=Y.onChange,le=(0,c.useCollectionManager_deprecated)(),ne=le.getCollectionFields,ie=le.getAllCollectionsInheritChain,ee=(0,c.useCollection_deprecated)(),fe=(0,t.bz)(),de=fe.form,ue=(0,x.useFieldSchema)(),Se=(0,i.a)(),ae=(0,n.OQ)(),G=(0,n.Kp)(),re=(0,c.useCollectionFilterOptions)(ee),oe=ee.name,ce=ee.getField,be=ce(ue.name),xe=(0,h.useMemo)(function(){return(0,f.Vc)({collectionField:be,variables:ae,localVariables:G,getAllCollectionsInheritChain:ie})},[be,ie,G,ae]),ge=(0,h.useCallback)(function(Pe){var Ae=Pe.find(function(Le){return Le.value==="$nForm"}),Be=ne(oe);return!(Be!=null&&Be.length)&&Ae&&(Ae.children=(0,l.X)(re)),Pe},[re,oe]),he=(0,h.useCallback)(function(Pe){var Ae=Pe.value,Be=Pe.onChange;return(0,o.jsx)(y,m()(m()({},Y),{},{value:Ae,onChange:Be}))},[JSON.stringify(d().omit(Y,"value"))]);return(0,o.jsx)(f.qj,{form:de,record:Se,value:H,onChange:te,renderSchemaComponent:he,collectionField:be,shouldChange:xe,returnScope:ge,targetFieldSchema:ue})},E=e(5574),O=e.n(E),T=e(68400),S=e.n(T),$=e(13582),Z=e(97133),K=e(85418),z=e(15867),w=e(75531),A=e(21143),M=e(75667),b=e(67354),R=e(75496),L=e(22891),N=e(34588),B,V=(0,Z.css)(B||(B=S()([`
  position: relative;
  &:hover {
    .general-schema-designer {
      display: block;
    }
  }
  .general-schema-designer {
    position: absolute;
    z-index: 999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    background: var(--colorBgSettingsHover);
    border: 0;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    > .general-schema-designer-icons {
      position: absolute;
      right: 2px;
      top: 2px;
      line-height: 16px;
      pointer-events: all;
      .ant-space-item {
        background-color: var(--colorSettings);
        color: #fff;
        line-height: 16px;
        width: 16px;
        padding-left: 1px;
        align-self: stretch;
      }
    }
  }
`])));function U(k){var Y=I();return Y(k)}function I(){var k=(0,M.xd)(),Y=k.data,H=k.inResources,te=k.getResourceActionParams,le=k.getStrategyActionParams,ne=(0,M.Jn)(),ie=(0,c.useCollection_deprecated)();function ee(fe){var de,ue=ie.resource,Se=function(re){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=re.split(":"),be=O()(ce,1),xe=be[0];return Y!=null&&Y.allowAll?{}:H(xe)?te(re):le(re)};if(!fe&&ue&&(fe="".concat(ue,":create}")),(de=fe)!==null&&de!==void 0&&de.includes(":")||(fe="".concat(ue,":").concat(fe)),!fe)return!0;var ae=Se(fe,{recordPkValue:ne});return!!ae}return ee}var F=function(Y,H){var te=(0,h.useState)(!1),le=O()(te,2),ne=le[0],ie=le[1],ee=(0,c.useCollection_deprecated)(),fe=(0,x.useFieldSchema)(),de=(0,x.useField)(),ue=(0,h.useState)(ee.name),Se=O()(ue,2),ae=Se[0],G=Se[1],re=(0,h.useState)(ee.dataSource),oe=O()(re,2),ce=oe[0],be=oe[1],xe=(fe==null?void 0:fe["x-linkage-rules"])||[],ge=(0,i.a)(),he=(0,a.XCj)(),Pe=(0,n.OQ)(),Ae=(0,n.Kp)({currentForm:{values:ge}}),Be=(0,L.ES)(),Le=Be.openPopup,Me=(0,b.t)(),Te=(0,A.useCollectionManager)();(0,h.useEffect)(function(){de.stateOfLinkageRules={},xe.filter(function(je){return!je.disabled}).forEach(function(je){var De;(De=je.actions)===null||De===void 0||De.forEach(function(ye){(0,R.yB)({operator:ye.operator,field:de,condition:je.condition,variables:Pe,localVariables:Ae})})})},[de,xe,Ae,Pe]);var we=(0,h.createRef)(),Ue=(0,w.sQ)(H,we);return(0,o.jsx)("div",{className:V,ref:Ue,children:(0,o.jsxs)(a.EIK,{value:m()(m()({},he),{},{fieldSchema:fe,visible:ne,setVisible:ie}),children:[(0,o.jsx)(X,m()(m()({},Y),{},{onClick:function(De){if(De=Te.getCollection(De.name)||De,Me)Le({recordData:Me});else{var ye,_e;(ye=(_e=De).isInherited)!==null&&ye!==void 0&&ye.call(_e)?Le({collectionNameUsedInURL:De.name}):Le()}}})),(0,o.jsx)(c.CollectionProvider_deprecated,{name:ae,dataSource:ce,children:(0,o.jsx)(x.RecursionField,{schema:fe,basePath:de.address,onlyRenderProperties:!0})})]})})};function W(k,Y,H){var te={$form:Y.values,$iteration:Y.values};if(k.includes("$iteration")){var le=H.path.segments.concat([]);le.splice(-2),k=k.replace("$iteration.","$iteration.".concat(le.join("."),"."));var ne=(0,N.e7)(k,te);return ne}else{var ie=(0,N.e7)(k,{$form:Y.values});return ie}}var X=(0,x.observer)(function(k){var Y,H=k.onClick,te=(0,c.useCollection_deprecated)(),le=(0,x.useFieldSchema)(),ne=(0,x.useField)(),ie=(0,x.useForm)(),ee=(0,n.OQ)(),fe=I(),de=le["x-enable-children"]||[],ue=le==null?void 0:le["x-allow-add-to-current"],Se=le==null||(Y=le["x-component-props"])===null||Y===void 0?void 0:Y.linkageFromForm,ae=ne.componentProps.type==="danger"?void 0:ne.componentProps.type||"primary",G=(0,c.useCollectionManager_deprecated)(),re=G.getChildrenCollections,oe=re(te.name),ce=(0,h.useMemo)(function(){return de.map(function(Te){if(Te){var we=oe.find(function(Ue){return Ue.name===Te.collection});if(we)return m()(m()({},we.getOptions()),{},{title:Te.title||we.title})}}).filter(function(Te){return Te&&fe("".concat(Te.name,":create"))})},[de,oe]),be=(le==null?void 0:le["x-linkage-rules"])||[],xe=(0,i.a)(),ge=(0,n.Kp)({currentForm:{values:xe}}),he=(0,a.eJW)(),Pe=(0,A.useDesignable)(),Ae=Pe.designable,Be=k.icon||null,Le=(0,h.useMemo)(function(){return ce.map(function(Te){return{key:Te.name,label:he(Te.title),onClick:function(){return H==null?void 0:H(Te)}}})},[ce,H]),Me=(0,h.useMemo)(function(){return{items:Le}},[Le]);return(0,h.useEffect)(function(){ne.stateOfLinkageRules={},be.filter(function(Te){return!Te.disabled}).forEach(function(Te){var we;(we=Te.actions)===null||we===void 0||we.forEach(function(Ue){(0,R.yB)({operator:Ue.operator,field:ne,condition:Te.condition,variables:ee,localVariables:ge})})})},[ne,be,ge,ee]),(0,o.jsx)("div",{className:V,children:(0,o.jsx)(J,{inheritsCollections:ce,linkageFromForm:Se,allowAddToCurrent:ue,props:k,componentType:ae,menu:Me,onClick:H,collection:te,icon:Be,field:ne,form:ie,designable:Ae})})},{displayName:"CreateAction"});function J(k){var Y,H,te,le=k.inheritsCollections,ne=k.linkageFromForm,ie=k.allowAddToCurrent,ee=k.props,fe=k.componentType,de=k.menu,ue=k.onClick,Se=k.collection,ae=k.icon,G=k.field,re=k.form,oe=k.designable,ce=(0,c.useCollectionManager_deprecated)(),be=ce.getCollection,xe=(0,M.Hq)(),ge=(0,h.useMemo)(function(){var Ae;return{opacity:oe&&((G==null||(Ae=G.data)===null||Ae===void 0?void 0:Ae.hidden)||!xe)&&.1}},[oe,G==null||(Y=G.data)===null||Y===void 0?void 0:Y.hidden]);if((le==null?void 0:le.length)>0){var he,Pe;return ne?(0,o.jsx)(z.ZP,{"aria-label":ee["aria-label"],type:fe,disabled:G.disabled,danger:ee.danger,icon:ae,onClick:function(Be){var Le=W(ne,re,G),Me=le.find(function(we){return we.name===Le})?Le:Se.name,Te=be(Me);ue==null||ue(Te)},style:m()({display:!oe&&(G==null||(he=G.data)===null||he===void 0?void 0:he.hidden)&&"none",opacity:oe&&(G==null||(Pe=G.data)===null||Pe===void 0?void 0:Pe.hidden)&&.1},ge),children:ee.children}):ie===void 0||ie?(0,o.jsxs)(K.Z.Button,{"aria-label":ee["aria-label"],danger:ee.danger,type:fe,icon:(0,o.jsx)($.Z,{}),style:m()(m()({},ee==null?void 0:ee.style),ge),buttonsRender:function(Be){var Le=O()(Be,2),Me=Le[0],Te=Le[1];return[h.cloneElement(Me,{style:ee==null?void 0:ee.style}),h.cloneElement(Te,{loading:!1,style:ee==null?void 0:ee.style})]},menu:de,onClick:function(Be){ue==null||ue(Se)},children:[ae,ee.children]}):(0,o.jsx)(K.Z,{menu:de,children:(0,o.jsxs)(z.ZP,{"aria-label":ee["aria-label"],icon:ae,type:fe,danger:ee.danger,style:m()(m()({},ee==null?void 0:ee.style),ge),children:[ee.children," ",(0,o.jsx)($.Z,{})]})})}return(0,o.jsx)(z.ZP,m()(m()({},ee),{},{"aria-label":ee["aria-label"],type:fe,disabled:G.disabled,danger:ee.danger,icon:ae,onClick:function(Be){ue==null||ue(Se)},style:m()(m()({},ee==null?void 0:ee.style),{},{display:!oe&&(G==null||(H=G.data)===null||H===void 0?void 0:H.hidden)&&"none",opacity:oe&&(G==null||(te=G.data)===null||te===void 0?void 0:te.hidden)&&.1},ge),children:ee.children}))}var C=(0,h.forwardRef)(F)},96256:function(se,j,e){"use strict";e.d(j,{d:function(){return u}});var v=e(94350),m=e(67294),x=e(6145),u=function(){var d=(0,v.useFieldSchema)(),h=(0,x.useCollection_deprecated)(),t=h.name,c=(0,m.useCallback)(function(i){if(!d)return"";var a=d["x-component"],f=typeof a=="string"?a:(a==null?void 0:a.displayName)||a.name,l=d["x-initializer"]?"-".concat(d["x-initializer"]):"",n=t?"-".concat(t):"";return i=i?"-".concat(i):"","schema-initializer-".concat(f).concat(l).concat(n).concat(i)},[d,t]);return{getAriaLabel:c}}},46167:function(se,j,e){"use strict";e.d(j,{cm:function(){return ce},$M:function(){return K},Pg:function(){return _o.Pg},tr:function(){return Je},nr:function(){return rt},N2:function(){return yt},Ys:function(){return et},bn:function(){return I},VD:function(){return F},nl:function(){return xt},cz:function(){return Ct},yE:function(){return mt},dn:function(){return at.dn},BS:function(){return ht},EC:function(){return _o.EC},d6:function(){return _o.d6},oY:function(){return ot},sp:function(){return Z},cd:function(){return _o.cd},$i:function(){return hn},Mr:function(){return $t},EK:function(){return Rn},zb:function(){return An},Ok:function(){return Yt},CC:function(){return It},dH:function(){return Ji},zH:function(){return at.zH},w_:function(){return In},E$:function(){return $},ss:function(){return Tn},VU:function(){return en},Tc:function(){return ua},e6:function(){return O.e6},NH:function(){return O.NH},Uc:function(){return O.Uc},BU:function(){return O.BU},Ic:function(){return To},Jn:function(){return Mo},BM:function(){return O.BM},Z_:function(){return O.Z_},vV:function(){return Ci},Sq:function(){return ja},U2:function(){return bi},o_:function(){return Ja},$T:function(){return Ba},zg:function(){return ti},d4:function(){return Pi},xc:function(){return Yi},hg:function(){return O.hg},V0:function(){return O.V0},HD:function(){return O.HD},Dc:function(){return Pn},yZ:function(){return zt},Qr:function(){return un},yG:function(){return En},R_:function(){return gt},Rm:function(){return Dn},pZ:function(){return O.pZ},I_:function(){return O.I_},yi:function(){return O.yi},jA:function(){return at.jA},bQ:function(){return O.bQ},EY:function(){return O.EY},bJ:function(){return O.bJ}});var v={};e.r(v),e.d(v,{ActionBarAssociationFilterAction:function(){return ce},ActionInitializer:function(){return K},AssociationFilter:function(){return Je},AssociationFilterDesignerDelete:function(){return rt},AssociationFilterDesignerDisplayField:function(){return yt},AssociationFilterPlugin:function(){return et},BlockInitializer:function(){return I},BlockItemInitializer:function(){return F},CreateFilterActionInitializer:function(){return xt},CreateResetActionInitializer:function(){return Ct},CustomizeActionInitializer:function(){return mt},DataBlockInitializer:function(){return at.dn},DeleteEventActionInitializer:function(){return ht},G2PlotInitializer:function(){return ot},InitializerWithSwitch:function(){return Z},RecordAssociationBlockInitializer:function(){return hn},RecordAssociationDetailsBlockInitializer:function(){return $t},RecordAssociationFormBlockInitializer:function(){return Rn},RecordAssociationGridCardBlockInitializer:function(){return An},RecordAssociationListBlockInitializer:function(){return Yt},RecordReadPrettyAssociationFormBlockInitializer:function(){return It},SearchCollections:function(){return at.zH},SelectActionInitializer:function(){return In},SelectAllInitializerWithSwitch:function(){return $},SubmitActionInitializer:function(){return Tn},TableActionColumnInitializer:function(){return en},useCreateAssociationDetailsBlock:function(){return Pn},useCreateAssociationDetailsWithoutPagination:function(){return zt},useCreateAssociationFormBlock:function(){return un},useCreateAssociationGridCardBlock:function(){return En},useCreateAssociationListBlock:function(){return gt},useCreateAssociationTableBlock:function(){return Dn},useMenuSearch:function(){return at.jA}});var m=e(15009),x=e.n(m),u=e(97857),p=e.n(u),d=e(99289),h=e.n(d),t=e(12444),c=e.n(t),i=e(72004),a=e.n(i),f=e(31996),l=e.n(f),n=e(26037),r=e.n(n),o=e(31601),g=e(9783),y=e.n(g),D=e(67294),P=e(26793),E=e(84327),O=e(40341),T=e(74614),S=e(85893),$=function(tt){var xn=tt.disabled,$n=tt.name,Qn=tt.title,zn=tt.allItems,pr=tt.type,lr=(0,O.db)({allItems:zn,type:pr}),Cr=lr.isSelectAll,xr=lr.insertAll,Dr=lr.removeAll;return(0,S.jsx)(T._n,{checked:Cr,disabled:xn,title:Qn||$n,onClick:function(){if(!xn){if(Cr)return Dr();xr()}}})},Z=function(tt){var xn,$n=tt.type,Qn=tt.schema,zn=tt.item,pr=tt.remove,lr=tt.disabled,Cr=(0,O.pZ)((Qn==null?void 0:Qn[$n])||(zn==null||(xn=zn.schema)===null||xn===void 0?void 0:xn[$n]),$n,zn.find,pr!=null?pr:zn.remove),xr=Cr.exists,Dr=Cr.remove,kr=(0,T.q_)(),Fr=kr.insert;return(0,S.jsx)(T._n,{checked:xr,disabled:lr,title:zn.title,onClick:function(){var Yr;if(!lr){if(xr)return Dr();var to=(0,E.merge)(Qn||{},zn.schema||{});zn==null||(Yr=zn.schemaInitialize)===null||Yr===void 0||Yr.call(zn,to),Fr(to)}}})},K=function(tt){var xn=(0,T.UR)();return(0,S.jsx)(Z,p()(p()(p()({},xn),tt),{},{item:xn,type:"x-action"}))},z=e(22891),w=e(97505),A=function(tt){var xn=(0,P.$)(),$n=xn.t,Qn=(0,z.ES)(),zn=Qn.getPopupContext,pr=y()({type:"void",title:'{{ t("Add child") }}',"x-action":"create","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:addChild","x-component":"Action","x-visible":"{{treeTable}}","x-component-props":{openMode:"drawer",type:"link",addChild:!0,style:{padding:"0px",marginTop:"-5px"},component:"CreateRecordAction"},properties:{drawer:{type:"void",title:'{{t("Add record")}}',"x-component":"Action.Container","x-component-props":{className:"nb-action-popup",enablePageTabs:!0},"x-settings":"fieldSettings:Drawer",properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-initializer-props":{gridInitializer:"popup:addNew:addBlock"},"x-index":1,properties:{tab1:{type:"void",title:'{{t("Add new")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:addNew:addBlock",properties:{}}}}}},grid:{type:"void","x-component":"Grid","x-initializer":"popup:addNew:addBlock","x-display":"hidden","x-index":2}}}}},w.ZQ,zn());return(0,S.jsx)(K,p()(p()({},tt),{},{schema:pr}))},M=function(){var tt=(0,P.$)(),xn=tt.t,$n=(0,z.ES)(),Qn=$n.getPopupContext,zn=y()({type:"void","x-action":"create","x-acl-action":"create",title:"{{t('Add new')}}","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:addNew","x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{openMode:"drawer",type:"primary",component:"CreateRecordAction",icon:"PlusOutlined"},properties:{drawer:{type:"void",title:'{{t("Add record")}}',"x-component":"Action.Container","x-component-props":{className:"nb-action-popup",enablePageTabs:!0},"x-settings":"fieldSettings:Drawer",properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-initializer-props":{gridInitializer:"popup:addNew:addBlock"},"x-index":1,properties:{tab1:{type:"void",title:'{{t("Add new")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:addNew:addBlock",properties:{}}}}}},grid:{type:"void","x-component":"Grid","x-initializer":"popup:addNew:addBlock","x-display":"hidden","x-index":2}}}}},w.ZQ,Qn()),pr=(0,T.UR)();return(0,S.jsx)(K,p()(p()({},pr),{},{item:pr,schema:zn}))},b=e(3806),R=new b.n({name:"CreateFormBlockInitializers",wrap:O.BM,title:'{{t("Add block")}}',icon:"PlusOutlined",items:[{type:"itemGroup",title:'{{t("Data blocks")}}',name:"dataBlocks",children:[{name:"form",title:'{{t("Form")}}',Component:"CreateFormBlockInitializer"}]},{type:"itemGroup",title:'{{t("Other blocks")}}',name:"otherBlocks",children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]}),L=new b.n({name:"popup:addNew:addBlock",wrap:O.BM,title:'{{t("Add block")}}',icon:"PlusOutlined",items:[{type:"itemGroup",title:'{{t("Data blocks")}}',name:"dataBlocks",children:[{name:"form",title:'{{t("Form")}}',Component:"CreateFormBlockInitializer"}]},{type:"itemGroup",title:'{{t("Other blocks")}}',name:"otherBlocks",children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]},R),N=e(13769),B=e.n(N),V=["item","schema"],U=["schema"],I=function(tt){var xn=tt.item,$n=tt.schema,Qn=B()(tt,V),zn=(0,T.q_)(),pr=zn.insert;return(0,S.jsx)(T.lV,p()(p()({},Qn),{},{onClick:function(){var Cr,xr,Dr=(0,E.merge)($n||{},xn.schema||{});xn==null||(Cr=xn.schemaInitialize)===null||Cr===void 0||Cr.call(xn,Dr),pr(Dr),(xr=tt.onClick)===null||xr===void 0||xr.call(tt,Dr)}}))},F=function(){var tt=(0,T.UR)(),xn=tt.schema,$n=B()(tt,U);return(0,S.jsx)(I,p()(p()({},$n),{},{item:tt}))},W=function(){var tt=(0,P.$)(),xn=tt.t,$n={type:"void",title:'{{t("Add record")}}',"x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:addRecord","x-component":"Action","x-action":"customize:create","x-component-props":{openMode:"drawer",icon:"PlusOutlined"},properties:{drawer:{type:"void",title:'{{t("Add record")}}',"x-component":"Action.Container","x-component-props":{className:"nb-action-popup",enablePageTabs:!0},"x-settings":"fieldSettings:Drawer",properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-initializer-props":{gridInitializer:"popup:addRecord:addBlock"},"x-index":1,properties:{tab1:{type:"void",title:'{{t("Add record")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:addRecord:addBlock",properties:{}}}}}},grid:{type:"void","x-component":"Grid","x-initializer":"popup:addRecord:addBlock","x-display":"hidden","x-index":2}}}}},Qn=(0,T.UR)();return(0,S.jsx)(I,p()(p()({},Qn),{},{schema:$n,item:Qn}))},X=new b.n({name:"CusomeizeCreateFormBlockInitializers",wrap:O.BM,title:'{{t("Add block")}}',icon:"PlusOutlined",items:[{type:"itemGroup",title:'{{t("Data blocks")}}',name:"dataBlocks",children:[{name:"form",title:'{{t("Form")}}',Component:"FormBlockInitializer",isCusomeizeCreate:!0}]},{type:"itemGroup",title:'{{t("Other blocks")}}',name:"otherBlocks",children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]}),J=new b.n({name:"popup:addRecord:addBlock",wrap:O.BM,title:'{{t("Add block")}}',icon:"PlusOutlined",items:[{type:"itemGroup",title:'{{t("Data blocks")}}',name:"dataBlocks",children:[{name:"form",title:'{{t("Form")}}',Component:"FormBlockInitializer",isCusomeizeCreate:!0}]},{type:"itemGroup",title:'{{t("Other blocks")}}',name:"otherBlocks",children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]},X),C=e(6145),k=function(tt){var xn=(0,C.useCollection_deprecated)(),$n={title:'{{ t("Delete") }}',"x-action":"destroy","x-component":"Action","x-use-component-props":"useBulkDestroyActionProps","x-component-props":{icon:"DeleteOutlined",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"}},"x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:bulkDelete","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0},"x-action-settings":{triggerWorkflows:[]}};return xn&&($n["x-acl-action"]="".concat(xn.name,":destroy")),(0,S.jsx)(K,p()(p()({},tt),{},{schema:$n}))},Y=function(tt){var xn={title:'{{ t("Delete") }}',"x-action":"destroy","x-component":"Action","x-use-component-props":"useDestroyActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:delete","x-component-props":{icon:"DeleteOutlined",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"},refreshDataBlockRequest:!0},"x-action-settings":{triggerWorkflows:[]}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},H=function(tt){var xn={title:'{{ t("Disassociate") }}',"x-action":"disassociate","x-component":"Action","x-use-component-props":"useDisassociateActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:disassociate","x-component-props":{icon:"DeleteOutlined",confirm:{title:"{{t('Disassociate record')}}",content:"{{t('Are you sure you want to disassociate it?')}}"},refreshDataBlockRequest:!0},"x-action-settings":{triggerWorkflows:[]}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},te=function(tt){var xn={"x-action":"expandAll","x-component":"Action","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:expendable","x-component-props":{titleExpand:"{{t('Expand all')}}",titleCollapse:"{{t('Collapse all')}}",iconExpand:"nodeexpandoutlined",iconCollapse:"nodecollapseoutlined",component:"Expand.Action",useAction:function(){return{run:function(){}}}}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},le=function(tt){var xn={type:"void",title:'{{ t("Filter") }}',"x-action":"filter","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:filter","x-component":"Filter.Action","x-use-component-props":"useFilterActionProps","x-component-props":{icon:"FilterOutlined"}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},ne=function(tt){var xn=(0,P.$)(),$n=xn.t,Qn={type:"void","x-action":"filterGroup","x-decorator":"BlockItem","x-toolbar":"ActionSchemaToolbar","x-toolbar-props":{showBorder:!0},"x-settings":"actionSettings:filterGroup",properties:y()({},(0,E.uid)(),{type:"void","x-component":"Radio.Custom","x-initializer":"action:filterGroup:add",properties:y()({},(0,E.uid)(),{type:"void",title:$n("Filter"),default:(0,E.uid)(),"x-component":"Radio.Button","x-use-component-props":"useFilterGroupActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:filterButton","x-index":1})})};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:Qn}))},ie=e(21143),ee=e(43868),fe=function(){var tt=(0,ie.useDesignable)(),xn=tt.designable,$n=tt.insertBeforeEnd,Qn=(0,P.$)(),zn=Qn.t,pr=function(){return{run:function(){$n({type:"void",title:zn("Filter"),default:(0,E.uid)(),"x-component":"Radio.Button","x-use-component-props":"useFilterGroupActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:filterButton"})}}},lr={type:"void",properties:{add:{type:"void","x-component":"Action","x-component-props":{icon:"PlusOutlined",style:{borderColor:"var(--colorSettings)",color:"var(--colorSettings)"},type:"dashed",useAction:"{{ useInsertRadioButton }}"},title:'{{ t("Add filter button") }}'}}};return xn?(0,S.jsx)(ie.SchemaComponent,{schema:lr,scope:{useInsertRadioButton:pr}}):null},de=new ee.e({name:"action:filterGroup:add",popover:!1,Component:fe}),ue=function(tt){var xn={title:'{{ t("Refresh") }}',"x-action":"refresh","x-component":"Action","x-use-component-props":"useRefreshActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:refresh","x-component-props":{icon:"ReloadOutlined"}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},Se=e(94350),ae=e(98427),G=e(72029),re=e(79531),oe=e(87714),ce=function(tt){var xn=(0,D.useContext)(ae.DDd),$n=xn.refresh,Qn=(0,Se.useFieldSchema)(),zn=(0,G.LY)(),pr=(0,P.$)(),lr=pr.t,Cr=(0,ae.Pls)({t:lr,api:zn,refresh:$n,current:Qn}),xr=(0,re.BU)(),Dr=xr.service,kr=xr.props;Cr.loadAPIClientEvents();var Fr=function(xo){Cr.insertBeforeBegin(xo)},Qr=function(xo,fo){var yo,Ao;fo(xo),Dr.run(p()(p()({},(yo=Dr.params)===null||yo===void 0?void 0:yo[0]),{},{filter:(0,oe.EO)([kr==null||(Ao=kr.params)===null||Ao===void 0?void 0:Ao.filter])}))},Yr={type:"void","x-action":"associateFilter","x-initializer":"AssociationFilter.Initializer","x-component":"AssociationFilter",properties:{}},to=p()(p()({},tt),{},{insert:Fr,remove:Qr,wrap:function(xo){return xo}});return(0,S.jsx)(K,p()(p()({},to),{},{schema:Yr}))},be=e(68400),xe=e.n(be),ge=e(97133),he=e(94184),Pe=e.n(he),Ae=e(13006),Be=e(3329),Le=e(60094),Me=e(81560),Te=e(95354),we=e(25750),Ue=e(64016),je=e(13845),De=function(){var tt,xn,$n=(0,C.useCollection_deprecated)(),Qn=$n.name,zn=$n.title,pr=(0,Te.zy)(),lr=(0,Se.useFieldSchema)(),Cr=(0,P.$)(),xr=Cr.t,Dr=(lr==null||(tt=lr["x-decorator-props"])===null||tt===void 0?void 0:tt.resource)||(lr==null||(xn=lr["x-decorator-props"])===null||xn===void 0?void 0:xn.association);return(0,S.jsxs)(Me.aN,{template:pr,title:zn||Qn,children:[(0,S.jsx)(we._,{}),(0,S.jsx)(Ue.G,{componentName:"FilterCollapse",collectionName:Qn,resourceName:Dr}),(0,S.jsx)(je.F,{type:oe.vC.COLLAPSE,emptyDescription:xr("No blocks to connect")}),(0,S.jsx)(Me.Z5,{}),(0,S.jsx)(Me.qx,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})]})},ye=e(5574),_e=e.n(ye),q=e(55556),pe=e(31811),Re=e(69234),Oe=e(71230),$e=e(15746),Ve=e(69677),Ze=e(20863),qe=e(96157),Qe=e(12753),ke=(0,Le.l6)("nb-association-filter-item",function(Vn){var tt=Vn.componentCls;return y()({},tt,{"&.SortableItem":{position:"relative","&:hover":{"> .general-schema-designer":{display:"block"}},"&.nb-form-item:hover":{"> .general-schema-designer":{background:"var(--colorBgSettingsHover) !important",border:"0 !important",top:"-".concat(Vn.sizeXXS,"px !important"),bottom:"-".concat(Vn.sizeXXS,"px !important"),left:"-".concat(Vn.sizeXXS,"px !important"),right:"-".concat(Vn.sizeXXS,"px !important")}},"> .general-schema-designer":{position:"absolute",zIndex:999,top:"0",bottom:"0",left:"0",right:"0",display:"none",border:"2px solid var(--colorBorderSettingsHover)",pointerEvents:"none","> .general-schema-designer-icons":{position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:"var(--colorSettings)",color:"#fff",lineHeight:"16px",width:"16px",paddingLeft:"1px"}}}},".Panel":{"& .ant-collapse-content-box":{padding:"0 ".concat(Vn.paddingXS,"px !important"),maxHeight:"400px",overflow:"auto"},"& .ant-collapse-header.ant-collapse-header.ant-collapse-header":{background:Vn.colorFillQuaternary,borderRadius:0}},".headerRow":{alignItems:"center",width:"100%",minWidth:"0",height:"22px",flexWrap:"nowrap"},".headerCol":{flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",".search":{outline:"none",background:Vn.colorFillQuaternary,width:"100%",border:"none",height:"20px",padding:"4px","&::placeholder":{color:Vn.colorTextPlaceholder}}},".CloseOutlined":{color:"".concat(Vn.colorIcon," !important"),fontSize:"11px"},".SearchOutlined":{color:"".concat(Vn.colorIcon," !important")},".Tree":{padding:"".concat(Vn.padding,"px 0"),".ant-tree-node-content-wrapper":{overflowX:"hidden"}}})}),ft=ke,vt=e(90635),_t=Re.Z.Panel,Nt=(0,vt.t)(function(Vn){var tt,xn,$n,Qn=ft(),zn=Qn.wrapSSR,pr=Qn.componentCls,lr=Qn.hashId,Cr=(0,Le.dQ)(),xr=Cr.token,Dr=Je.useAssociationField(),kr=(0,Se.useFieldSchema)(),Fr=(0,Be.et)(),Qr=(0,Be.eJ)(),Yr=(0,Be.wN)(Vn),to=Yr.list,Wr=Yr.onSelected,xo=Yr.handleSearchInput,fo=Yr.params,yo=Yr.run,Ao=Yr.valueKey,mo=Yr.labelKey,ia=Yr.defaultCollapse,fa=(0,D.useState)(!1),Lo=_e()(fa,2),Go=Lo[0],zo=Lo[1],Jo=(0,D.useMemo)(function(){return ia&&Dr!==null&&Dr!==void 0&&Dr.name?[Dr.name]:[]},[]),Ea=Ao||(Dr==null?void 0:Dr.targetKey)||"id",ri=mo||((tt=kr["x-component-props"])===null||tt===void 0||(tt=tt.fieldNames)===null||tt===void 0?void 0:tt.label)||Ea,oi={title:ri||Ea,key:Ea},jl=(0,D.useState)([]),qi=_e()(jl,2),Bl=qi[0],el=qi[1],tl=(0,D.useState)([]),Di=_e()(tl,2),Ll=Di[0],nl=Di[1],Ul=(0,D.useState)(!0),ai=_e()(Ul,2),Mi=ai[0],ii=ai[1],rl=(0,Qe.Il)(Dr,(oi==null?void 0:oi.title)||"label");if(!Dr)return null;var ol=function(ma){el(ma),ii(!1)},wl=function(ma){nl(ma),Wr(ma)},al=function(ma){var Oi,ll=fo==null||(Oi=fo[0])===null||Oi===void 0?void 0:Oi.filter;(Go||ll)&&yo(p()(p()({},fo==null?void 0:fo[0]),{},{filter:void 0})),zo(!Go),ma.stopPropagation()},Ai=function(ma){ma.stopPropagation()},Nl=function(ma){xo(ma)},il=(xn=kr.title)!==null&&xn!==void 0?xn:Dr==null||($n=Dr.uiSchema)===null||$n===void 0?void 0:$n.title;return zn((0,S.jsxs)(Ae.SortableItem,{className:Pe()(pr,lr,"nb-block-item",Vn.className,"SortableItem"),children:[(0,S.jsx)(Fr,{}),(0,S.jsx)(Re.Z,{defaultActiveKey:Jo,ghost:!0,expandIcon:Go?function(){return null}:void 0,children:(0,S.jsx)(_t,{className:"Panel",header:(0,S.jsxs)(Oe.Z,{className:"headerRow",style:{borderBottom:Go?"1px solid ".concat(xr.colorBorder):"none"},gutter:5,children:[(0,S.jsx)($e.Z,{title:Qr(il),className:"headerCol",children:Go?(0,S.jsx)(Ve.Z,{bordered:!1,autoFocus:!0,placeholder:"Search...",className:"search",onClick:Ai,onChange:Nl}):Qr(il)}),(0,S.jsx)($e.Z,{style:{flex:"0 0 auto"},children:Go?(0,S.jsx)(q.Z,{className:"CloseOutlined",onClick:al}):(0,S.jsx)(pe.Z,{className:"SearchOutlined",onClick:al})})]}),children:(0,S.jsx)(Ze.Z,{className:"Tree",onExpand:ol,expandedKeys:Bl,autoExpandParent:Mi,treeData:to,onSelect:wl,fieldNames:oi,titleRender:function(ma){return(0,S.jsx)(qe.BQ,{ellipsis:!0,children:(0,Qe.cN)(rl,Qr(ma[ri]))})},selectedKeys:Ll,blockNode:!0})},Jo[0])})]}))},{displayName:"AssociationFilterItem"}),Kt=e(96486),ut=e.n(Kt),Rt=e(43319),Dt=function(tt){var xn,$n,Qn,zn=(0,Se.useFieldSchema)(),pr=(0,re.bz)(),lr=pr.form,Cr=(0,Se.useField)(),xr=(0,P.$)(),Dr=xr.t,kr=(0,C.useCollectionManager_deprecated)(),Fr=kr.getCollectionJoinField,Qr=(0,C.useCollection_deprecated)(),Yr=Qr.getField,to=Yr(zn.name)||Fr(zn["x-collection-field"]),Wr=(0,C.useCollectionManager_deprecated)(),xo=Wr.getCollectionFields,fo=(0,Be.eJ)(),yo=(0,Be.ng)(),Ao=yo.dn,mo=to!=null&&to.target?xo(to==null?void 0:to.target):[],ia=mo.filter(function(Lo){return!(Lo!=null&&Lo.target)&&Lo.type!=="boolean"}).map(function(Lo){var Go;return{value:Lo==null?void 0:Lo.name,label:fo(Lo==null||(Go=Lo.uiSchema)===null||Go===void 0?void 0:Go.title)||(Lo==null?void 0:Lo.name)}}),fa=function(Go){var zo,Jo,Ea=y()({},"x-uid",zn["x-uid"]),ri=p()(p()(p()({},to==null||(zo=to.uiSchema)===null||zo===void 0||(zo=zo["x-component-props"])===null||zo===void 0?void 0:zo.fieldNames),(Jo=zn["x-component-props"])===null||Jo===void 0?void 0:Jo.fieldNames),{},{label:Go});zn["x-component-props"]=zn["x-component-props"]||{},zn["x-component-props"].fieldNames=ri,Ea["x-component-props"]=zn["x-component-props"],Ao.emit("patch",{schema:Ea}),Ao.refresh()};return(0,S.jsxs)(Me.aN,p()(p()({},tt),{},{disableInitializer:!0,children:[(0,S.jsx)(Me.B0,{title:Dr("Custom title"),schema:{type:"object",title:Dr("Custom title"),properties:{title:{default:zn==null?void 0:zn.title,description:"".concat(Dr("Original title: ")).concat((to==null||(xn=to.uiSchema)===null||xn===void 0?void 0:xn.title)||(zn==null?void 0:zn.title)),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(Go){var zo=Go.title;zo&&(zn.title=zo,Ao.emit("patch",{schema:{"x-uid":zn["x-uid"],title:zn.title}})),Ao.refresh()}}),(0,S.jsx)(Me.hj,{title:Dr("Default collapse"),checked:Cr.componentProps.defaultCollapse,onChange:function(Go){var zo;Cr.componentProps.defaultCollapse=Go,ut().set(zn,"x-component-props.defaultCollapse",Go),Ao.emit("patch",{schema:(zo={},y()(zo,"x-uid",zn["x-uid"]),y()(zo,"x-component-props",zn["x-component-props"]),zo)}),Ao.refresh()}}),(0,S.jsx)(Rt.H,{collectionName:to==null?void 0:to.target,defaultFilter:(zn==null||($n=zn["x-component-props"])===null||$n===void 0||($n=$n.params)===null||$n===void 0?void 0:$n.filter)||{},form:lr,onSubmit:function(Go){var zo,Jo,Ea=Go.filter;ut().set(Cr.componentProps,"params",p()(p()({},(zo=Cr.componentProps)===null||zo===void 0?void 0:zo.params),{},{filter:Ea})),zn["x-component-props"].params=Cr.componentProps.params,Ao.emit("patch",{schema:(Jo={},y()(Jo,"x-uid",zn["x-uid"]),y()(Jo,"x-component-props",zn["x-component-props"]),Jo)})}}),(0,S.jsx)(Me.y5,{name:to==null?void 0:to.target}),(0,S.jsx)(Me.Qf,{title:Dr("Title field"),options:ia,value:(Qn=zn["x-component-props"])===null||Qn===void 0||(Qn=Qn.fieldNames)===null||Qn===void 0?void 0:Qn.label,onChange:fa},"title-field"),(0,S.jsx)(Me.qx,{breakRemoveOn:{"x-component":"Grid"}})]}))},dt=e(1892),Bt=e(19958),He={style:{marginTop:16},icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"associationFields",title:'{{t("Association fields")}}',useChildren:function(){var tt=(0,C.useCollectionManager_deprecated)(),xn=(0,oe.Fp)(),$n=xn.map(function(Qn){var zn,pr,lr;return{name:Qn.key,title:(zn=Qn.uiSchema)===null||zn===void 0?void 0:zn.title,Component:"AssociationFilterDesignerDisplayField",schema:{name:Qn.name,title:(pr=Qn.uiSchema)===null||pr===void 0?void 0:pr.title,type:"void","x-toolbar":"CollapseItemSchemaToolbar","x-settings":"fieldSettings:FilterCollapseItem","x-component":"AssociationFilter.Item","x-use-component-props":"useAssociationFilterBlockProps","x-component-props":{fieldNames:{label:Qn.targetKey||((lr=tt.getCollection(Qn.target))===null||lr===void 0?void 0:lr.getPrimaryKey())||"id"}},properties:{}}}});return $n}},{name:"choicesFields",type:"itemGroup",title:'{{t("Choices fields")}}',hideIfNoChildren:!0,useChildren:function(){var tt=(0,Bt.useOptionalFieldList)(),xn=tt.map(function($n){return{name:$n.key,title:$n.uiSchema.title,Component:"AssociationFilterDesignerDisplayField",schema:{name:$n.name,title:$n.uiSchema.title,interface:$n.interface,type:"void","x-toolbar":"CollapseItemSchemaToolbar","x-settings":"fieldSettings:FilterCollapseItem","x-component":"AssociationFilter.Item","x-use-component-props":"useAssociationFilterBlockProps","x-component-props":{fieldNames:{label:$n.name}},properties:{}}}});return xn}}]},ct=new ee.e(p()({name:"AssociationFilter.FilterBlockInitializer"},He)),St=new b.n(p()({name:"AssociationFilterInitializers"},He)),Tt=new b.n(p()({name:"filterCollapse:configureFields"},He),St),Mt=new ee.e({name:"AssociationFilter.Initializer",style:{marginTop:16},icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{name:"associationFields",type:"itemGroup",title:'{{t("Association fields")}}',useChildren:function(){var tt=(0,oe.Fp)(),xn=tt.map(function($n){var Qn,zn;return{type:"item",name:$n.key,title:(Qn=$n.uiSchema)===null||Qn===void 0?void 0:Qn.title,Component:"AssociationFilterDesignerDisplayField",schema:{name:$n.name,title:(zn=$n.uiSchema)===null||zn===void 0?void 0:zn.title,type:"void","x-toolbar":"CollapseItemSchemaToolbar","x-settings":"fieldSettings:FilterCollapseItem","x-component":"AssociationFilter.Item","x-use-component-props":"useAssociationFilterProps","x-component-props":{fieldNames:{label:$n.targetKey||"id"}},properties:{}}}});return xn}},{name:"divider",type:"divider"},{name:"delete",title:'{{t("Delete")}}',Component:"AssociationFilterDesignerDelete"}]}),Zt,Je=function(tt){var xn=(0,Le.dQ)(),$n=xn.token,Qn=(0,Be.et)(),zn=(0,Se.useFieldSchema)(),pr=(0,T.IU)(zn["x-initializer"],zn["x-initializer-props"]),lr=pr.render;return(0,S.jsx)(Ae.DndContext,{children:(0,S.jsxs)(Ae.SortableItem,{className:Pe()("nb-block-item",tt.className,(0,ge.css)(Zt||(Zt=xe()([`
            height: 100%;
            overflow-y: auto;
            position: relative;
            border-radius: `,`px;
            &:hover {
              > .general-schema-designer {
                display: block;
              }
            }
            &.nb-form-item:hover {
              > .general-schema-designer {
                background: var(--colorBgSettingsHover) !important;
                border: 0 !important;
                top: -5px !important;
                bottom: -5px !important;
                left: -5px !important;
                right: -5px !important;
              }
            }
            > .general-schema-designer {
              position: absolute;
              z-index: 999;
              top: 0;
              bottom: 0;
              left: 0;
              right: 0;
              display: none;
              border: 2px solid var(--colorBorderSettingsHover);
              pointer-events: none;
              > .general-schema-designer-icons {
                position: absolute;
                right: 2px;
                top: 2px;
                line-height: 16px;
                pointer-events: all;
                .ant-space-item {
                  background-color: var(--colorSettings);
                  color: #fff;
                  line-height: 16px;
                  width: 16px;
                  padding-left: 1px;
                  align-self: stretch;
                }
              }
            }
          `])),$n.borderRadiusLG)),children:[(0,S.jsx)(Qn,{}),tt.children,lr()]})})};Je.Provider=dt._0,Je.Item=Nt,Je.Item.Designer=Dt,Je.BlockDesigner=De,Je.useAssociationField=function(){var Vn=(0,Se.useFieldSchema)(),tt=(0,C.useCollection_deprecated)(),xn=tt.getField;return D.useMemo(function(){return xn(Vn.name)},[Vn.name])};var et=function(Vn){l()(xn,Vn);var tt=r()(xn);function xn(){return c()(this,xn),tt.apply(this,arguments)}return a()(xn,[{key:"load",value:function(){var $n=h()(x()().mark(function zn(){return x()().wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:this.app.schemaInitializerManager.add(ct),this.app.schemaInitializerManager.add(St),this.app.schemaInitializerManager.add(Tt),this.app.schemaInitializerManager.add(Mt);case 4:case"end":return lr.stop()}},zn,this)}));function Qn(){return $n.apply(this,arguments)}return Qn}()}]),xn}(o.S),rt=function(){var tt=(0,T.UR)(),xn=(0,D.useContext)(ae.DDd),$n=xn.refresh,Qn=(0,Se.useFieldSchema)(),zn=(0,G.LY)(),pr=(0,P.$)(),lr=pr.t,Cr=(0,ae.Pls)({t:lr,api:zn,refresh:$n,current:Qn});Cr.loadAPIClientEvents();var xr=function(){Cr.remove(Qn)};return(0,S.jsx)(T.lV,{onClick:xr,children:(0,S.jsx)("div",{children:tt.title})})},yt=function(){var tt=(0,T.UR)(),xn=tt.schema,$n=(0,O.pZ)(xn.name,"name",tt.find,tt.remove),Qn=$n.exists,zn=$n.remove,pr=(0,T.q_)(),lr=pr.insert;return(0,S.jsx)(T._n,{checked:Qn,title:tt.title,onClick:function(){var xr;if(Qn)return zn();var Dr=(0,E.merge)(xn||{},tt.schema||{});tt==null||(xr=tt.schemaInitialize)===null||xr===void 0||xr.call(tt,Dr),lr(Dr)}})},xt=function(tt){var xn={title:'{{ t("Filter") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"useFilterBlockActionProps","x-designer":"Action.Designer","x-component-props":{type:"primary",htmlType:"submit"}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},Ct=function(tt){var xn={title:'{{ t("Reset") }}',"x-component":"Action","x-use-component-props":"useResetBlockActionProps","x-designer":"Action.Designer"};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},mt=function(){var tt=(0,T.UR)();return(0,S.jsx)(I,p()(p()({},tt),{},{item:tt}))},at=e(61818),ht=function(tt){var xn={title:'{{ t("Delete Event") }}',"x-action":"deleteEvent","x-component":"Action","x-designer":"Action.Designer","x-component-props":{icon:"DeleteOutlined"},properties:{modal:{"x-component":"CalendarV2.DeleteEvent"}}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},ot=function(){var tt=(0,T.UR)(),xn=(0,T.q_)(),$n=xn.insert;return(0,S.jsx)(T.lV,p()(p()({},tt),{},{onClick:function(){$n(p()({},tt.schema))}}))},kt=e(31356),nn=e(54961),Lt=["onCreateBlockSchema","componentType","createBlockSchema"],hn=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=B()(tt,Lt),pr=(0,T.q_)(),lr=pr.insert,Cr=(0,Te.$t)(),xr=Cr.getTemplateSchemaByMode,Dr=(0,C.useCollectionManager_deprecated)(),kr=Dr.getCollection,Fr=tt.field,Qr=kr(Fr.target),Yr="".concat(Fr.collectionName,".").concat(Fr.name);return(0,S.jsx)(T.lV,p()(p()({icon:(0,S.jsx)(kt.Z,{})},zn),{},{onClick:function(){var to=h()(x()().mark(function Wr(xo){var fo,yo;return x()().wrap(function(mo){for(;;)switch(mo.prev=mo.next){case 0:if(fo=xo.item,!fo.template){mo.next=8;break}return mo.next=4,xr(fo);case 4:yo=mo.sent,lr(yo),mo.next=9;break;case 8:lr((0,nn.O)({rowKey:Qr.filterTargetKey,dataSource:Qr.dataSource,association:Yr}));case 9:case"end":return mo.stop()}},Wr)}));return function(Wr){return to.apply(this,arguments)}}(),items:(0,O.bQ)("Table",tt,Fr.target,Yr)}))};function Dn(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,C.useCollectionManager_deprecated)(),$n=xn.getCollection,Qn=(0,D.useCallback)(function(zn){var pr=zn.item,lr=pr.associationField,Cr=$n(lr.target);tt((0,nn.O)({rowKey:Cr.filterTargetKey,dataSource:Cr.dataSource,association:"".concat(lr.collectionName,".").concat(lr.name)}))},[$n,tt]);return{createAssociationTableBlock:Qn}}var Gt=e(84779);function mn(Vn){var tt,xn=Vn.collectionName,$n=Vn.dataSource,Qn=Vn.association,zn=Vn.templateSchema,pr=Vn.hideActionInitializer,lr=Vn.rowKey,Cr=Qn||xn;if(!$n||!lr)throw new Error("dataSource and rowKey are required");return{type:"void","x-acl-action":"".concat(Cr,":view"),"x-decorator":"DetailsBlockProvider","x-use-decorator-props":"useDetailsWithPaginationDecoratorProps","x-decorator-props":{dataSource:$n,collection:xn,association:Qn,readPretty:!0,action:"list",params:{pageSize:1}},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:detailsWithPagination","x-component":"CardItem",properties:y()({},(0,E.uid)(),{type:"void","x-component":"Details","x-read-pretty":!0,"x-use-component-props":"useDetailsWithPaginationProps",properties:(tt={},y()(tt,(0,E.uid)(),{type:"void","x-initializer":pr?void 0:"details:configureActions","x-component":"ActionBar","x-component-props":{style:{marginBottom:24}},properties:{}}),y()(tt,"grid",zn||{type:"void","x-component":"Grid","x-initializer":"details:configureFields",properties:{}}),y()(tt,"pagination",{type:"void","x-component":"Pagination","x-use-component-props":"useDetailsPaginationProps"}),tt)})}}var qt=["onCreateBlockSchema","componentType","createBlockSchema"],$t=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=B()(tt,qt),pr=(0,T.q_)(),lr=pr.insert,Cr=(0,Te.$t)(),xr=Cr.getTemplateSchemaByMode,Dr=(0,C.useCollectionManager_deprecated)(),kr=Dr.getCollection,Fr=tt.field,Qr=kr(Fr.target),Yr="".concat(Fr.collectionName,".").concat(Fr.name);return(0,S.jsx)(T.lV,p()(p()({icon:(0,S.jsx)(Gt.Z,{})},zn),{},{onClick:function(){var to=h()(x()().mark(function Wr(xo){var fo,yo;return x()().wrap(function(mo){for(;;)switch(mo.prev=mo.next){case 0:if(fo=xo.item,!fo.template){mo.next=8;break}return mo.next=4,xr(fo);case 4:yo=mo.sent,lr(yo),mo.next=9;break;case 8:lr(mn({dataSource:Qr.dataSource,association:Yr,rowKey:Qr.filterTargetKey||"id"}));case 9:case"end":return mo.stop()}},Wr)}));return function(Wr){return to.apply(this,arguments)}}(),items:(0,O.bQ)("Details",tt,Fr.target,Yr)}))};function Pn(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,C.useCollectionManager_deprecated)(),$n=xn.getCollection,Qn=(0,D.useCallback)(function(zn){var pr=zn.item,lr=pr.associationField,Cr=$n(lr.target);tt(mn({dataSource:Cr.dataSource,association:"".concat(lr.collectionName,".").concat(lr.name),rowKey:Cr.filterTargetKey||"id"}))},[$n,tt]);return{createAssociationDetailsBlock:Qn}}var vn=e(58590),sn=["onCreateBlockSchema","componentType","createBlockSchema"],Rn=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=B()(tt,sn),pr=(0,T.q_)(),lr=pr.insert,Cr=(0,C.useCollectionManager_deprecated)(),xr=Cr.getCollection,Dr=(0,Te.$t)(),kr=Dr.getTemplateSchemaByMode,Fr=tt.field,Qr=Fr.target,Yr=(0,D.useMemo)(function(){return xr(Qr)},[Qr]);return(0,S.jsx)(T.lV,p()(p()({icon:(0,S.jsx)(Gt.Z,{})},zn),{},{onClick:function(){var to=h()(x()().mark(function Wr(xo){var fo,yo,Ao;return x()().wrap(function(ia){for(;;)switch(ia.prev=ia.next){case 0:if(fo=xo.item,!fo.template){ia.next=8;break}return ia.next=4,kr(fo);case 4:yo=ia.sent,fo.template.componentName==="FormItem"?(Ao=(0,vn.l)({collectionName:Yr.name,dataSource:Yr.dataSource,association:"".concat(Fr.collectionName,".").concat(Fr.name),templateSchema:yo}),fo.mode==="reference"&&(Ao["x-template-key"]=fo.template.key),lr(Ao)):lr(yo),ia.next=9;break;case 8:lr((0,vn.l)({collectionName:Yr.name,dataSource:Yr.dataSource,association:"".concat(Fr.collectionName,".").concat(Fr.name)}));case 9:case"end":return ia.stop()}},Wr)}));return function(Wr){return to.apply(this,arguments)}}(),items:(0,O.bQ)("FormItem",tt,Yr,"".concat(Fr.collectionName,".").concat(Fr.name))}))};function un(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,C.useCollectionManager_deprecated)(),$n=xn.getCollection,Qn=(0,D.useCallback)(function(pr){var lr=pr.item,Cr=lr.associationField,xr=$n(Cr.target);tt((0,vn.l)({collectionName:xr.name,dataSource:xr.dataSource,association:"".concat(Cr.collectionName,".").concat(Cr.name)}))},[$n,tt]),zn=(0,D.useCallback)(function(pr,lr){var Cr=lr.item;if(Cr.template.componentName==="FormItem"&&Cr.associationField){var xr=Cr.associationField,Dr=$n(xr.target),kr=(0,vn.l)({collectionName:Dr.name,dataSource:Dr.dataSource,association:"".concat(xr.collectionName,".").concat(xr.name),templateSchema:pr});return Cr.mode==="reference"&&(kr["x-template-key"]=Cr.template.key),kr}else return pr},[$n]);return{createAssociationFormBlock:Qn,templateWrap:zn}}var jt=function(tt){var xn=tt.collectionName,$n=tt.association,Qn=tt.templateSchema,zn=tt.dataSource,pr=tt.rowKey,lr=$n||xn;if(!zn)throw new Error("dataSource are required");return{type:"void","x-acl-action":"".concat(lr,":view"),"x-decorator":"GridCard.Decorator","x-use-decorator-props":"useGridCardBlockDecoratorProps","x-decorator-props":{collection:xn,association:$n,dataSource:zn,readPretty:!0,action:"list",params:p()(p()({},pr==="id"?{sort:["-id"]}:{}),{},{pageSize:12}),runWhenParamsChanged:!0,rowKey:pr},"x-component":"BlockItem","x-use-component-props":"useGridCardBlockItemProps","x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:gridCard",properties:{actionBar:{type:"void","x-initializer":"gridCard:configureActions","x-component":"ActionBar","x-component-props":{showTitle:!0},"x-index":1},list:{type:"array","x-component":"GridCard","x-use-component-props":"useGridCardBlockProps",properties:{item:{type:"object","x-component":"GridCard.Item","x-read-pretty":!0,"x-use-component-props":"useGridCardItemProps",properties:{actionBar:{type:"void","x-align":"left","x-initializer":"gridCard:configureItemActions","x-component":"ActionBar","x-use-component-props":"useGridCardActionBarProps","x-index":2},grid:Qn?p()(p()({},Qn),{},{"x-index":1}):{type:"void","x-component":"Grid","x-initializer":"details:configureFields","x-index":1}}}},"x-index":2}}}},rn=["onCreateBlockSchema","componentType","createBlockSchema"],An=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=B()(tt,rn),pr=(0,T.q_)(),lr=pr.insert,Cr=(0,Te.$t)(),xr=Cr.getTemplateSchemaByMode,Dr=(0,C.useCollectionManager_deprecated)(),kr=Dr.getCollection,Fr=tt.field,Qr=kr(Fr.target),Yr="".concat(Fr.collectionName,".").concat(Fr.name);return(0,S.jsx)(T.lV,p()(p()({icon:(0,S.jsx)(kt.Z,{})},zn),{},{onClick:function(){var to=h()(x()().mark(function Wr(xo){var fo,yo;return x()().wrap(function(mo){for(;;)switch(mo.prev=mo.next){case 0:if(fo=xo.item,!fo.template){mo.next=8;break}return mo.next=4,xr(fo);case 4:yo=mo.sent,lr(yo),mo.next=9;break;case 8:lr(jt({rowKey:Qr.filterTargetKey,dataSource:Qr.dataSource,association:Yr}));case 9:case"end":return mo.stop()}},Wr)}));return function(Wr){return to.apply(this,arguments)}}(),items:(0,O.bQ)("GridCard",tt,Fr.target,Yr)}))};function En(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,C.useCollectionManager_deprecated)(),$n=xn.getCollection,Qn=(0,D.useCallback)(function(zn){var pr=zn.item,lr=pr.associationField,Cr=$n(lr.target);tt(jt({rowKey:Cr.filterTargetKey,dataSource:Cr.dataSource,association:"".concat(lr.collectionName,".").concat(lr.name)}))},[$n,tt]);return{createAssociationGridCardBlock:Qn}}var gn=function(tt){var xn=tt.collectionName,$n=tt.dataSource,Qn=tt.association,zn=tt.templateSchema,pr=tt.rowKey,lr=Qn||xn;return{type:"void","x-acl-action":"".concat(lr,":view"),"x-decorator":"List.Decorator","x-use-decorator-props":"useListBlockDecoratorProps","x-decorator-props":{collection:xn,dataSource:$n,association:Qn,readPretty:!0,action:"list",params:{pageSize:10},runWhenParamsChanged:!0,rowKey:pr},"x-component":"CardItem","x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:list",properties:{actionBar:{type:"void","x-initializer":"list:configureActions","x-component":"ActionBar","x-component-props":{style:{marginBottom:"var(--nb-spacing)"}}},list:{type:"array","x-component":"List","x-use-component-props":"useListBlockProps",properties:{item:{type:"object","x-component":"List.Item","x-read-pretty":!0,"x-use-component-props":"useListItemProps",properties:{grid:zn||{type:"void","x-component":"Grid","x-initializer":"details:configureFields"},actionBar:{type:"void","x-align":"left","x-initializer":"list:configureItemActions","x-component":"ActionBar","x-use-component-props":"useListActionBarProps","x-component-props":{layout:"one-column"}}}}}}}}},jn=["onCreateBlockSchema","componentType","createBlockSchema"],Yt=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=B()(tt,jn),pr=(0,T.q_)(),lr=pr.insert,Cr=(0,Te.$t)(),xr=Cr.getTemplateSchemaByMode,Dr=(0,C.useCollectionManager_deprecated)(),kr=Dr.getCollection,Fr=tt.field,Qr=kr(Fr.target),Yr="".concat(Fr.collectionName,".").concat(Fr.name);return(0,S.jsx)(T.lV,p()(p()({icon:(0,S.jsx)(kt.Z,{})},zn),{},{onClick:function(){var to=h()(x()().mark(function Wr(xo){var fo,yo;return x()().wrap(function(mo){for(;;)switch(mo.prev=mo.next){case 0:if(fo=xo.item,!fo.template){mo.next=8;break}return mo.next=4,xr(fo);case 4:yo=mo.sent,lr(yo),mo.next=9;break;case 8:lr(gn({rowKey:Qr.filterTargetKey,dataSource:Qr.dataSource,association:Yr}));case 9:case"end":return mo.stop()}},Wr)}));return function(Wr){return to.apply(this,arguments)}}(),items:(0,O.bQ)("List",tt,Fr.target,Yr)}))};function gt(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,C.useCollectionManager_deprecated)(),$n=xn.getCollection,Qn=(0,D.useCallback)(function(zn){var pr=zn.item,lr=pr.associationField,Cr=$n(lr.target);tt(gn({rowKey:Cr.filterTargetKey,dataSource:Cr.dataSource,association:"".concat(lr.collectionName,".").concat(lr.name)}))},[$n,tt]);return{createAssociationListBlock:Qn}}function wt(Vn){var tt,xn=Vn.collectionName,$n=Vn.dataSource,Qn=Vn.association,zn=Vn.templateSchema,pr=Qn||xn,lr=Vn.isCurrent?{"x-is-current":!0}:{};if(!$n)throw new Error("dataSource are required");return p()(p()({type:"void","x-acl-action":"".concat(pr,":get"),"x-decorator":"DetailsBlockProvider","x-use-decorator-props":"useDetailsDecoratorProps","x-decorator-props":{dataSource:$n,collection:xn,association:Qn,readPretty:!0,action:"get"},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:details","x-component":"CardItem"},lr),{},{properties:y()({},(0,E.uid)(),{type:"void","x-component":"Details","x-read-pretty":!0,"x-use-component-props":"useDetailsProps",properties:(tt={},y()(tt,(0,E.uid)(),{type:"void","x-initializer":"details:configureActions","x-component":"ActionBar","x-component-props":{style:{marginBottom:24}},properties:{}}),y()(tt,"grid",zn||{type:"void","x-component":"Grid","x-initializer":"details:configureFields",properties:{}}),tt)})})}var Vt=["onCreateBlockSchema","componentType","createBlockSchema"],It=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=B()(tt,Vt),pr=(0,T.q_)(),lr=pr.insert,Cr=(0,C.useCollectionManager_deprecated)(),xr=Cr.getCollection,Dr=(0,Te.$t)(),kr=Dr.getTemplateSchemaByMode,Fr=tt.field,Qr=Fr.target,Yr=xr(Qr),to="".concat(Fr.collectionName,".").concat(Fr.name);return(0,S.jsx)(T.lV,p()(p()({icon:(0,S.jsx)(Gt.Z,{})},zn),{},{onClick:function(){var Wr=h()(x()().mark(function xo(fo){var yo,Ao,mo;return x()().wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:if(yo=fo.item,!yo.template){fa.next=8;break}return fa.next=4,kr(yo);case 4:Ao=fa.sent,yo.template.componentName==="ReadPrettyFormItem"?(mo=wt({dataSource:Yr.dataSource,association:to,templateSchema:Ao}),yo.mode==="reference"&&(mo["x-template-key"]=yo.template.key),lr(mo)):lr(Ao),fa.next=9;break;case 8:lr(wt({association:to,dataSource:Yr.dataSource}));case 9:case"end":return fa.stop()}},xo)}));return function(xo){return Wr.apply(this,arguments)}}(),items:(0,O.bQ)("ReadPrettyFormItem",tt,Yr,to)}))};function zt(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,C.useCollectionManager_deprecated)(),$n=xn.getCollection,Qn=(0,D.useCallback)(function(pr){var lr=pr.item,Cr=lr.associationField,xr=$n(Cr.target);tt(wt({dataSource:xr.dataSource,association:"".concat(Cr.collectionName,".").concat(Cr.name)}))},[$n,tt]),zn=(0,D.useCallback)(function(pr,lr){var Cr=lr.item,xr=Cr.associationField,Dr=$n(xr.target);if(Cr.template.componentName==="ReadPrettyFormItem"){var kr=wt({dataSource:Dr.dataSource,association:"".concat(xr.collectionName,".").concat(xr.name),templateSchema:pr});return Cr.mode==="reference"&&(kr["x-template-key"]=Cr.template.key),kr}else return pr},[$n]);return{createAssociationDetailsWithoutPagination:Qn,templateWrap:zn}}var In=function(tt){var xn={type:"void",title:'{{ t("Select") }}',"x-action":"update","x-designer":"Action.Designer","x-component":"Action","x-component-props":{openMode:"drawer"},properties:{drawer:{type:"void","x-component":"AssociationField.Selector",title:'{{ t("Select record") }}',"x-component-props":{className:"nb-record-picker-selector"},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:tableSelector:addBlock",properties:{}},footer:{"x-component":"Action.Container.Footer","x-component-props":{},properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{},properties:{submit:{title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"usePickActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:submit","x-component-props":{type:"primary",htmlType:"submit"}}}}}}}}}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},Tn=function(tt){var xn={title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:submit","x-component-props":{type:"primary",htmlType:"submit"}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},en=function(){var tt={type:"void",title:'{{ t("Actions") }}',"x-decorator":"TableV2.Column.ActionBar","x-component":"TableV2.Column","x-designer":"TableV2.ActionColumnDesigner","x-initializer":"table:configureItemActions","x-action-column":"actions",properties:y()({},(0,E.uid)(),{type:"void","x-decorator":"DndContext","x-component":"Space","x-component-props":{split:"|"},properties:{}})},xn=(0,T.UR)();return(0,S.jsx)(Z,p()(p()({},xn),{},{schema:tt,item:xn,type:"x-action-column"}))},qn=function(){var tt={title:'{{ t("Save record") }}',"x-action":"customize:save","x-component":"Action","x-use-component-props":"useCreateActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:saveRecord","x-designer-props":{modalTip:'{{ t("When the button is clicked, the following fields will be assigned and saved together with the fields in the form. If there are overlapping fields, the value here will overwrite the value in the form.") }}'},"x-action-settings":{assignedValues:{},skipValidator:!1,onSuccess:{manualClose:!0,redirecting:!1,successMessage:'{{t("Submitted successfully")}}'},triggerWorkflows:[]}},xn=(0,T.UR)();return(0,S.jsx)(I,p()(p()({},xn),{},{schema:tt,item:xn}))},er=function(tt){var xn={type:"void",title:'{{ t("Search") }}',"x-action":"search","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:search","x-component":"Input.SearchAction","x-component-props":{useProps:"{{ useFilterActionProps }}"}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},ar=function(tt){var xn={title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"useCreateActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:createSubmit","x-component-props":{type:"primary",htmlType:"submit"},"x-action-settings":{triggerWorkflows:[]}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},nr=function(tt){var xn={title:'{{ t("Submit") }}',"x-action":"submit","x-component":"Action","x-use-component-props":"useUpdateActionProps","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:updateSubmit","x-component-props":{type:"primary",htmlType:"submit"},"x-action-settings":{triggerWorkflows:[]}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:xn}))},rr=function(tt){var xn={title:'{{ t("Update record") }}',"x-component":(tt==null?void 0:tt["x-component"])||"Action.Link","x-use-component-props":"useCustomizeUpdateActionProps","x-action":"customize:update","x-decorator":"ACLActionProvider","x-acl-action":"update","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:updateRecord","x-action-settings":{assignedValues:{},onSuccess:{manualClose:!0,redirecting:!1,successMessage:'{{t("Updated successfully")}}'},triggerWorkflows:[]}},$n=(0,T.UR)();return(0,S.jsx)(I,p()(p()({},$n),{},{schema:xn,item:$n}))},hr=function(tt){var xn=(0,P.$)(),$n=xn.t,Qn={type:"void",title:'{{ t("Popup") }}',"x-action":"customize:popup","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:popup","x-component":(tt==null?void 0:tt["x-component"])||"Action.Link","x-component-props":{openMode:"drawer",refreshDataBlockRequest:!0},properties:{drawer:{type:"void",title:$n("Popup"),"x-component":"Action.Container","x-component-props":{className:"nb-action-popup",enablePageTabs:!0},"x-settings":"fieldSettings:Drawer",properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-index":1,properties:{tab1:{type:"void",title:'{{t("Details")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock",properties:{}}}}}},grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock","x-display":"hidden","x-index":2}}}}},zn=(0,T.UR)();return(0,S.jsx)(I,p()(p()({},zn),{},{schema:Qn,item:zn}))},Ar=new ee.e({name:"RecordFormBlockInitializers",title:'{{ t("Add block") }}',icon:"PlusOutlined",wrap:O.BM,items:[{type:"itemGroup",title:'{{ t("Data blocks") }}',name:"dataBlocks",children:[{name:"form",title:'{{ t("Form") }}',Component:"RecordFormBlockInitializer"}]},{type:"itemGroup",title:'{{t("Other blocks")}}',name:"otherBlocks",children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]}),_r=function(tt){var xn=(0,P.$)(),$n=xn.t,Qn={type:"void",title:'{{ t("Edit") }}',"x-action":"update","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:edit","x-component":"Action","x-component-props":{openMode:"drawer",icon:"EditOutlined"},properties:{drawer:{type:"void",title:$n("Edit record"),"x-component":"Action.Container","x-component-props":{className:"nb-action-popup",enablePageTabs:!0},"x-settings":"fieldSettings:Drawer",properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-index":1,properties:{tab1:{type:"void",title:'{{t("Edit")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock",properties:{}}}}}},grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock","x-display":"hidden","x-index":2}}}}};return(0,S.jsx)(K,p()(p()({},tt),{},{schema:Qn}))},Ir=function(tt){var xn=(0,P.$)(),$n=xn.t,Qn=(0,z.ES)(),zn=Qn.getPopupContext,pr=y()({type:"void",title:'{{ t("View") }}',"x-action":"view","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:view","x-component":"Action","x-component-props":{openMode:"drawer",icon:"EyeOutlined"},properties:{drawer:{type:"void",title:$n("View record"),"x-component":"Action.Container","x-component-props":{className:"nb-action-popup",enablePageTabs:!0},"x-settings":"fieldSettings:Drawer",properties:{tabs:{type:"void","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-index":1,properties:{tab1:{type:"void",title:'{{t("Details")}}',"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock",properties:{}}}}}},grid:{type:"void","x-component":"Grid","x-initializer":"popup:common:addBlock","x-display":"hidden","x-index":2}}}}},w.ZQ,zn());return(0,S.jsx)(K,p()(p()({},tt),{},{schema:pr}))},Sr=new b.n({name:"DetailsActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{type:"primary"}}},{name:"delete",title:'{{t("Delete")}}',Component:"DestroyActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider"}}]},{name:"divider",type:"divider"},{type:"subMenu",name:"customize",title:'{{t("Customize")}}',children:[]}]}),Mr=new b.n({name:"detailsWithPaging:configureActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{type:"primary"}}},{name:"delete",title:'{{t("Delete")}}',Component:"DestroyActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider"}}]}]},Sr),Br=function(tt){var xn=tt.filterCollections,$n=tt.onlyCurrentDataSource,Qn=tt.hideSearch,zn=tt.componentType,pr=zn===void 0?"Details":zn,lr=tt.createBlockSchema,Cr=tt.templateWrap,xr=tt.showAssociationFields,Dr=tt.hideChildrenIfSingleCollection,kr=(0,T.UR)(),Fr=Mn(),Qr=Fr.createDetailsBlock,Yr=(0,ae.Dmu)();return(0,S.jsx)(at.dn,p()(p()({},kr),{},{icon:(0,S.jsx)(kt.Z,{}),componentType:pr,onCreateBlockSchema:function(){var to=h()(x()().mark(function Wr(xo){return x()().wrap(function(yo){for(;;)switch(yo.prev=yo.next){case 0:if(!lr){yo.next=2;break}return yo.abrupt("return",lr(xo));case 2:Qr(xo,Yr);case 3:case"end":return yo.stop()}},Wr)}));return function(Wr){return to.apply(this,arguments)}}(),onlyCurrentDataSource:!!$n,hideSearch:Qn,filter:xn,templateWrap:Cr,showAssociationFields:xr,hideChildrenIfSingleCollection:Dr}))},Mn=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,C.useCollectionManager_deprecated)(),Qn=$n.getCollection,zn=(0,D.useCallback)(function(pr,lr){var Cr=pr.item,xr=Qn(Cr.name,Cr.dataSource),Dr=mn({collectionName:Cr.name,dataSource:Cr.dataSource,rowKey:xr.filterTargetKey||"id",hideActionInitializer:!((xr.template!=="view"||xr!=null&&xr.writableView)&&xr.template!=="sql")});lr!=null&&lr.filter&&(Dr["x-decorator-props"].params=p()(p()({},Dr["x-decorator-props"].params),{},{filter:lr.filter})),xn(Dr)},[Qn,xn]);return{createDetailsBlock:zn}},Wt=e(7939),Ft=function(){var tt=(0,Wt.U)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"},an=new b.n({name:"ReadPrettyFormActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",name:"enableActions",title:'{{t("Enable actions")}}',children:[{title:'{{t("Edit")}}',name:"edit",Component:"UpdateActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{type:"primary"}},useVisible:Ft},{title:'{{t("Delete")}}',name:"delete",Component:"DestroyActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider"},useVisible:Ft}]},{name:"divider",type:"divider"},{type:"subMenu",name:"customize",title:'{{t("Customize")}}',children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action"}}},{name:"updateRecord",title:'{{t("Update record")}}',Component:"UpdateRecordActionInitializer",useComponentProps:function(){return{"x-component":"Action"}},useVisible:Ft},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",useVisible:Ft}]}]}),Bn=new b.n({name:"details:configureActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",name:"enableActions",title:'{{t("Enable actions")}}',children:[{title:'{{t("Edit")}}',name:"edit",Component:"UpdateActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{type:"primary"}},useVisible:Ft},{title:'{{t("Delete")}}',name:"delete",Component:"DestroyActionInitializer",schema:{"x-component":"Action","x-decorator":"ACLActionProvider"},useVisible:Ft}]},{name:"divider",type:"divider"},{type:"subMenu",name:"customize",title:'{{t("Customize")}}',children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action"}}},{name:"updateRecord",title:'{{t("Update record")}}',Component:"UpdateRecordActionInitializer",useComponentProps:function(){return{"x-component":"Action"}},useVisible:Ft},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",useVisible:Ft}]}]},an),Un=e(45705),Gn=function(){var tt=(0,O.BD)(),xn=(0,P.$)(),$n=xn.t,Qn=(0,ae.eJW)();if(!(tt!=null&&tt.length))return null;var zn=[];return tt.forEach(function(pr){Object.values(pr)[0].length&&zn.push({type:"itemGroup",divider:!0,title:$n("Parent collection fields")+"("+Qn("".concat(Object.keys(pr)[0]))+")",children:Object.values(pr)[0]})}),(0,S.jsx)(Un.E,{children:zn})},mr=function(){var tt=(0,O.hg)({readPretty:!0,block:"Form"}),xn=(0,P.$)(),$n=xn.t;if(tt.length===0)return null;var Qn=[{type:"itemGroup",title:$n("Display association fields"),children:tt}];return(0,S.jsx)(Un.E,{children:Qn})},dr=new b.n({name:"ReadPrettyFormItemInitializers",wrap:O.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"displayFields",title:'{{t("Display fields")}}',useChildren:O.I_},{name:"parentCollectionFields",Component:Gn},{name:"associationFields",Component:mr},{name:"divider",type:"divider"},{name:"addText",title:'{{t("Add text")}}',Component:"BlockItemInitializer",schema:{type:"void","x-editable":!1,"x-decorator":"FormItem","x-toolbar":"FormItemSchemaToolbar","x-settings":"blockSettings:markdown","x-component":"Markdown.Void","x-component-props":{content:'{{t("This is a demo text, **supports Markdown syntax**.")}}'}}}]}),Hr=new b.n({name:"details:configureFields",wrap:O.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"displayFields",title:'{{t("Display fields")}}',useChildren:O.I_},{name:"parentCollectionFields",Component:Gn},{name:"associationFields",Component:mr},{name:"divider",type:"divider"},{name:"addText",title:'{{t("Add text")}}',Component:"BlockItemInitializer",schema:{type:"void","x-editable":!1,"x-decorator":"FormItem","x-toolbar":"FormItemSchemaToolbar","x-settings":"blockSettings:markdown","x-component":"Markdown.Void","x-component-props":{content:'{{t("This is a demo text, **supports Markdown syntax**.")}}'}}}]},dr),Lr=e(72594),Zr=["onCreateBlockSchema","componentType","createBlockSchema","icon","targetCollection"],no=function(){var tt=(0,T.UR)(),xn=tt.onCreateBlockSchema,$n=tt.componentType,Qn=tt.createBlockSchema,zn=tt.icon,pr=zn===void 0?!0:zn,lr=tt.targetCollection,Cr=B()(tt,Zr),xr=(0,T.q_)(),Dr=xr.insert,kr=(0,Te.$t)(),Fr=kr.getTemplateSchemaByMode,Qr=(0,C.useCollection_deprecated)(),Yr=lr||Qr,to=Jr(),Wr=to.createSingleDetailsSchema;return(0,S.jsx)(T.lV,p()(p()({icon:pr&&(0,S.jsx)(Gt.Z,{})},Cr),{},{onClick:function(fo){return Wr(fo)},items:(0,O.bQ)("ReadPrettyFormItem",null,Yr==null?void 0:Yr.name)}))};function Jr(){var Vn=(0,T.q_)(),tt=Vn.insert,xn=(0,Te.$t)(),$n=xn.getTemplateSchemaByMode,Qn=(0,Lr.Xo)(),zn=(0,D.useCallback)(function(lr,Cr){var xr=Cr.item;if(xr.template.componentName==="ReadPrettyFormItem"){var Dr=wt(Qn?{association:Qn,collectionName:xr.collectionName||xr.name,dataSource:xr.dataSource,templateSchema:lr,isCurrent:!0}:{collectionName:xr.collectionName||xr.name,dataSource:xr.dataSource,templateSchema:lr});return xr.mode==="reference"&&(Dr["x-template-key"]=xr.template.key),Dr}else return lr},[Qn]),pr=(0,D.useCallback)(function(){var lr=h()(x()().mark(function Cr(xr){var Dr,kr;return x()().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(Dr=xr.item,!Dr.template){Qr.next=8;break}return Qr.next=4,$n(Dr);case 4:kr=Qr.sent,tt(zn(kr,{item:Dr})),Qr.next=9;break;case 8:tt(wt(Qn?{association:Qn,collectionName:Dr.collectionName||Dr.name,dataSource:Dr.dataSource,isCurrent:!0}:{collectionName:Dr.collectionName||Dr.name,dataSource:Dr.dataSource}));case 9:case"end":return Qr.stop()}},Cr)}));return function(Cr){return lr.apply(this,arguments)}}(),[Qn,$n,tt,zn]);return{createSingleDetailsSchema:pr,templateWrap:zn}}var ho=e(26392),eo=e(12445),ro=e(12002),qr=e(73377),ao=e(68942),io=e(25616),Eo=e(56994),cn=new b.n({name:"GridCardActionInitializers",title:"{{t('Configure actions')}}",icon:"SettingOutlined",items:[{type:"itemGroup",title:"{{t('Enable actions')}}",name:"enableActions",children:[{name:"search",title:"{{t('Search')}}",Component:"SearchActionInitializer",schema:{"x-align":"left"}},{name:"filter",title:"{{t('Filter')}}",Component:"FilterActionInitializer",schema:{"x-align":"left"}},{name:"addNew",title:"{{t('Add new')}}",Component:"CreateActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return!["view","file","sql"].includes(tt.template)||(tt==null?void 0:tt.writableView)}},{name:"refresh",title:"{{t('Refresh')}}",Component:"RefreshActionInitializer",schema:{"x-align":"right"}},{name:"import",title:"{{t('Import')}}",Component:"ImportActionInitializer",schema:{"x-align":"right","x-acl-action":"importXlsx","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"export",title:"{{t('Export')}}",Component:"ExportActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}}}]}]}),Ot=new b.n({name:"gridCard:configureActions",title:"{{t('Configure actions')}}",icon:"SettingOutlined",items:[{type:"itemGroup",title:"{{t('Enable actions')}}",name:"enableActions",children:[{name:"search",title:"{{t('Search')}}",Component:"SearchActionInitializer",schema:{"x-align":"left"}},{name:"filter",title:"{{t('Filter')}}",Component:"FilterActionInitializer",schema:{"x-align":"left"}},{name:"filterGroup",title:'{{t("Filter group")}}',Component:"FilterGroupActionInitializer",schema:{"x-align":"left"}},{name:"addNew",title:"{{t('Add new')}}",Component:"CreateActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return!["view","file","sql"].includes(tt.template)||(tt==null?void 0:tt.writableView)}},{name:"refresh",title:"{{t('Refresh')}}",Component:"RefreshActionInitializer",schema:{"x-align":"right"}},{name:"import",title:"{{t('Import')}}",Component:"ImportActionInitializer",schema:{"x-align":"right","x-acl-action":"importXlsx","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"export",title:"{{t('Export')}}",Component:"ExportActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}}}]}]},cn),ln=e(22393),Sn=function(tt){var xn=tt.filterCollections,$n=tt.onlyCurrentDataSource,Qn=tt.hideSearch,zn=tt.createBlockSchema,pr=tt.componentType,lr=pr===void 0?"FormItem":pr,Cr=tt.templateWrap,xr=tt.showAssociationFields,Dr=(0,T.UR)(),kr=Kn(),Fr=kr.createGridCardBlock,Qr=(0,ae.Dmu)();return(0,S.jsx)(at.dn,p()(p()({},Dr),{},{icon:(0,S.jsx)(ln.Z,{}),componentType:"GridCard",onCreateBlockSchema:function(){var Yr=h()(x()().mark(function to(Wr){return x()().wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:if(!zn){fo.next=2;break}return fo.abrupt("return",zn(Wr));case 2:Fr(Wr,Qr);case 3:case"end":return fo.stop()}},to)}));return function(to){return Yr.apply(this,arguments)}}(),onlyCurrentDataSource:$n,hideSearch:Qn,filter:xn,showAssociationFields:xr}))},Kn=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,C.useCollectionManager_deprecated)(),Qn=$n.getCollection,zn=function(lr,Cr){var xr=lr.item,Dr=Qn(xr.name,xr.dataSource),kr=jt({collectionName:xr.name,dataSource:xr.dataSource,rowKey:Dr.filterTargetKey||"id"});Cr!=null&&Cr.filter&&(kr["x-decorator-props"].params=p()(p()({},kr["x-decorator-props"].params),{},{filter:Cr==null?void 0:Cr.filter})),xn(kr)};return{createGridCardBlock:zn}},tr=new b.n({name:"GridCardItemActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enable-actions",children:[{name:"view",title:'{{t("View")}}',Component:"ViewActionInitializer",schema:{"x-component":"Action.Icon","x-action":"view","x-decorator":"ACLActionProvider","x-align":"right"}},{name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action.Icon","x-action":"update","x-decorator":"ACLActionProvider","x-align":"right"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"delete",title:'{{t("Delete")}}',Component:"DestroyActionInitializer",schema:{"x-component":"Action.Icon","x-action":"destroy","x-decorator":"ACLActionProvider","x-align":"right"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return tt.template!=="sql"}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action.Link"}}},{name:"update-record",title:'{{t("Update record")}}',Component:"UpdateRecordActionInitializer",useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",schema:{"x-action":"customize:table:request"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}}]}]}),fr=new b.n({name:"gridCard:configureItemActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enable-actions",children:[{name:"view",title:'{{t("View")}}',Component:"ViewActionInitializer",schema:{"x-component":"Action.Icon","x-action":"view","x-decorator":"ACLActionProvider","x-align":"right"}},{name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action.Icon","x-action":"update","x-decorator":"ACLActionProvider","x-align":"right"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"delete",title:'{{t("Delete")}}',Component:"DestroyActionInitializer",schema:{"x-component":"Action.Icon","x-action":"destroy","x-decorator":"ACLActionProvider","x-align":"right"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return tt.template!=="sql"}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action.Link"}}},{name:"update-record",title:'{{t("Update record")}}',Component:"UpdateRecordActionInitializer",useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",schema:{"x-action":"customize:table:request"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}}]}]},tr),ir=new b.n({name:"ListActionInitializers",title:"{{t('Configure actions')}}",icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",name:"enableActions",title:"{{t('Enable actions')}}",children:[{name:"filter",title:"{{t('Filter')}}",Component:"FilterActionInitializer",schema:{"x-align":"left"}},{name:"addNew",title:"{{t('Add new')}}",Component:"CreateActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="file"&&tt.template!=="sql"}},{name:"refresh",title:"{{t('Refresh')}}",Component:"RefreshActionInitializer",schema:{"x-align":"right"}},{name:"import",title:"{{t('Import')}}",Component:"ImportActionInitializer",schema:{"x-align":"right","x-acl-action":"importXlsx","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"export",title:"{{t('Export')}}",Component:"ExportActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}}}]}]}),Rr=new b.n({name:"list:configureActions",title:"{{t('Configure actions')}}",icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",name:"enableActions",title:"{{t('Enable actions')}}",children:[{name:"filter",title:"{{t('Filter')}}",Component:"FilterActionInitializer",schema:{"x-align":"left"}},{name:"addNew",title:"{{t('Add new')}}",Component:"CreateActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="file"&&tt.template!=="sql"}},{name:"refresh",title:"{{t('Refresh')}}",Component:"RefreshActionInitializer",schema:{"x-align":"right"}},{name:"import",title:"{{t('Import')}}",Component:"ImportActionInitializer",schema:{"x-align":"right","x-acl-action":"importXlsx","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"export",title:"{{t('Export')}}",Component:"ExportActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}}},{name:"filterGroup",title:'{{t("Filter group")}}',Component:"FilterGroupActionInitializer",schema:{"x-align":"left"}}]}]},ir),Tr=function(tt){var xn=tt.filterCollections,$n=tt.onlyCurrentDataSource,Qn=tt.hideSearch,zn=tt.createBlockSchema,pr=tt.componentType,lr=pr===void 0?"FormItem":pr,Cr=tt.templateWrap,xr=tt.showAssociationFields,Dr=(0,T.UR)(),kr=Xr(),Fr=kr.createListBlock,Qr=(0,ae.Dmu)();return(0,S.jsx)(at.dn,p()(p()({},Dr),{},{icon:(0,S.jsx)(ln.Z,{}),componentType:"List",onCreateBlockSchema:function(){var Yr=h()(x()().mark(function to(Wr){return x()().wrap(function(fo){for(;;)switch(fo.prev=fo.next){case 0:if(!zn){fo.next=2;break}return fo.abrupt("return",zn(Wr));case 2:Fr(Wr,Qr);case 3:case"end":return fo.stop()}},to)}));return function(to){return Yr.apply(this,arguments)}}(),onlyCurrentDataSource:$n,hideSearch:Qn,filter:xn,showAssociationFields:xr}))},Xr=function(){var tt=(0,C.useCollectionManager_deprecated)(),xn=tt.getCollection,$n=(0,T.q_)(),Qn=$n.insert,zn=function(lr,Cr){var xr=lr.item,Dr=xn(xr.name,xr.dataSource),kr=gn({collectionName:xr.name,dataSource:xr.dataSource,rowKey:Dr.filterTargetKey||"id"});Cr!=null&&Cr.filter&&(kr["x-decorator-props"].params=p()(p()({},kr["x-decorator-props"].params),{},{filter:Cr.filter})),Qn(kr)};return{createListBlock:zn}},Gr=new b.n({name:"ListItemActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",name:"enableActions",title:'{{t("Enable actions")}}',children:[{name:"view",title:'{{t("View")}}',Component:"ViewActionInitializer",schema:{"x-component":"Action.Link","x-action":"view","x-decorator":"ACLActionProvider","x-align":"left"}},{name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action.Link","x-action":"update","x-decorator":"ACLActionProvider","x-align":"left"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"delete",title:'{{t("Delete")}}',Component:"DestroyActionInitializer",schema:{"x-component":"Action.Link","x-action":"destroy","x-decorator":"ACLActionProvider","x-align":"left"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return tt.template!=="sql"}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action.Link"}}},{name:"updateRecord",title:'{{t("Update record")}}',Component:"UpdateRecordActionInitializer",useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",schema:{"x-action":"customize:table:request"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}}]}]}),po=new b.n({name:"list:configureItemActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",name:"enableActions",title:'{{t("Enable actions")}}',children:[{name:"view",title:'{{t("View")}}',Component:"ViewActionInitializer",schema:{"x-component":"Action.Link","x-action":"view","x-decorator":"ACLActionProvider","x-align":"left"}},{name:"edit",title:'{{t("Edit")}}',Component:"UpdateActionInitializer",schema:{"x-component":"Action.Link","x-action":"update","x-decorator":"ACLActionProvider","x-align":"left"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"delete",title:'{{t("Delete")}}',Component:"DestroyActionInitializer",schema:{"x-component":"Action.Link","x-action":"destroy","x-decorator":"ACLActionProvider","x-align":"left"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return tt.template!=="sql"}}]},{name:"divider",type:"divider"},{type:"subMenu",title:'{{t("Customize")}}',name:"customize",children:[{name:"popup",title:'{{t("Popup")}}',Component:"PopupActionInitializer",useComponentProps:function(){return{"x-component":"Action.Link"}}},{name:"updateRecord",title:'{{t("Update record")}}',Component:"UpdateRecordActionInitializer",useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}},{name:"customRequest",title:'{{t("Custom request")}}',Component:"CustomRequestInitializer",schema:{"x-action":"customize:table:request"},useVisible:function(){var tt=(0,C.useCollection_deprecated)();return(tt.template!=="view"||(tt==null?void 0:tt.writableView))&&tt.template!=="sql"}}]}]},Gr),So=e(38889),Co=e(61403),bo=e(93355),ko=e(7497),Oo=e(26105),ta=function(tt){var xn=tt.collectionName,$n=tt.dataSource,Qn=tt.blockType;return{type:"void","x-decorator":"AssociationFilter.Provider","x-use-decorator-props":"useCollapseBlockDecoratorProps","x-decorator-props":{collection:xn,dataSource:$n,blockType:Qn,associationFilterStyle:{width:"100%"},name:"filter-collapse"},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:filterCollapse","x-component":"CardItem","x-filter-targets":[],properties:y()({},(0,E.uid)(),{type:"void","x-action":"associateFilter","x-initializer":"filterCollapse:configureFields","x-component":"AssociationFilter"})}},Nr=function(tt){var xn=tt.filterCollections,$n=tt.onlyCurrentDataSource,Qn=tt.hideChildrenIfSingleCollection,zn=(0,T.UR)(),pr=(0,T.q_)(),lr=pr.insert;return(0,S.jsx)(at.dn,p()(p()({},zn),{},{onlyCurrentDataSource:$n,icon:(0,S.jsx)(kt.Z,{}),componentType:"FilterCollapse",onCreateBlockSchema:function(){var Cr=h()(x()().mark(function xr(Dr){var kr,Fr;return x()().wrap(function(Yr){for(;;)switch(Yr.prev=Yr.next){case 0:kr=Dr.item,Fr=ta({dataSource:kr.dataSource,collectionName:kr.collectionName||kr.name,blockType:"filter"}),lr(Fr);case 3:case"end":return Yr.stop()}},xr)}));return function(xr){return Cr.apply(this,arguments)}}(),filter:xn,hideChildrenIfSingleCollection:Qn}))},Ko=new b.n({name:"FilterFormActionInitializers",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"filter",title:'{{t("Filter")}}',Component:"CreateFilterActionInitializer",schema:{"x-action-settings":{}}},{name:"reset",title:'{{t("Reset")}}',Component:"CreateResetActionInitializer",schema:{"x-action-settings":{}}}]}]}),co=new b.n({name:"filterForm:configureActions",title:'{{t("Configure actions")}}',icon:"SettingOutlined",items:[{type:"itemGroup",title:'{{t("Enable actions")}}',name:"enableActions",children:[{name:"filter",title:'{{t("Filter")}}',Component:"CreateFilterActionInitializer",schema:{"x-action-settings":{}}},{name:"reset",title:'{{t("Reset")}}',Component:"CreateResetActionInitializer",schema:{"x-action-settings":{}}}]}]},Ko),Io=function(tt){var xn=tt.collectionName,$n=tt.dataSource,Qn=tt.templateSchema;if(!xn||!$n)throw new Error("collectionName and dataSource are required");var zn={type:"void","x-decorator":"FilterFormBlockProvider","x-use-decorator-props":"useFilterFormBlockDecoratorProps","x-decorator-props":{dataSource:$n,collection:xn},"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:filterForm","x-component":"CardItem","x-filter-targets":[],"x-filter-operators":{},properties:y()({},(0,E.uid)(),{type:"void","x-component":"FormV2","x-use-component-props":"useFilterFormBlockProps",properties:y()({grid:Qn||{type:"void","x-component":"Grid","x-initializer":"filterForm:configureFields"}},(0,E.uid)(),{type:"void","x-initializer":"filterForm:configureActions","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{float:"right"}}})})};return zn},oo=at.dn,Yo=function(tt){var xn=tt.filterCollections,$n=tt.onlyCurrentDataSource,Qn=tt.hideChildrenIfSingleCollection,zn=(0,T.UR)(),pr=(0,T.q_)(),lr=pr.insert;return(0,S.jsx)(oo,p()(p()({},zn),{},{icon:(0,S.jsx)(Gt.Z,{}),onlyCurrentDataSource:$n,componentType:"FilterFormItem",templateWrap:function(xr,Dr){var kr=Dr.item,Fr=Io({templateSchema:xr,dataSource:kr.dataSource,collectionName:kr.name||kr.collectionName});return kr.template&&kr.mode==="reference"&&(Fr["x-template-key"]=kr.template.key),Fr},onCreateBlockSchema:function(xr){var Dr=xr.item;return lr(Io({collectionName:Dr.collectionName||Dr.name,dataSource:Dr.dataSource}))},filter:xn,hideChildrenIfSingleCollection:Qn}))},_o=e(76326),Uo=new b.n({name:"FilterFormItemInitializers",wrap:O.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"displayFields",title:'{{t("Display fields")}}',useChildren:O.Kv},{name:"parentCollectionFields",Component:_o.d6},{name:"associationFields",Component:_o.EC},{name:"divider",type:"divider"},{title:'{{t("Add text")}}',Component:"MarkdownFormItemInitializer",name:"addText"}]}),_n=new b.n({name:"filterForm:configureFields",wrap:O.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",name:"displayFields",title:'{{t("Display fields")}}',useChildren:O.Kv},{name:"parentCollectionFields",Component:_o.d6},{name:"associationFields",Component:_o.EC},{name:"divider",type:"divider"},{title:'{{t("Add text")}}',Component:"MarkdownFormItemInitializer",name:"addText"}]},Uo),We=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,P.$)(),Qn=$n.t,zn=(0,T.UR)();return(0,S.jsx)(T.lV,p()(p()({},zn),{},{icon:(0,S.jsx)(Gt.Z,{}),onClick:function(){xn({type:"void","x-settings":"blockSettings:markdown","x-decorator":"CardItem","x-decorator-props":{name:"markdown"},"x-component":"Markdown.Void","x-editable":!1,"x-component-props":{content:Qn("This is a demo text, **supports Markdown syntax**.")},properties:{actions:{type:"void","x-component":"MarkdownActionBar","x-component-props":{style:{marginTop:"15px",display:"flex"}},"x-initializer":"markdownButtonInitializer"}}})}}))},Ye=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,T.UR)();return(0,S.jsx)(T.lV,p()(p()({},$n),{},{icon:(0,S.jsx)(Gt.Z,{}),onClick:function(){xn({type:"void","x-editable":!1,"x-decorator":"FormItem","x-toolbar":"FormItemSchemaToolbar","x-settings":"blockSettings:markdown","x-component":"Markdown.Void","x-component-props":{content:'{{t("This is a demo text, **supports Markdown syntax**.")}}'}})}}))},pt=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,T.UR)(),Qn={name:"googleReCaptcha",type:"void","x-decorator":"FormItem","x-settings":"blockSettings:googleReCaptcha","x-component":"GoogleReCaptcha"},zn=(0,O.pZ)(Qn.name,"name",$n.find,$n.remove),pr=zn.exists,lr=zn.remove;return(0,S.jsx)(T._n,p()(p()({},$n),{},{checked:pr,onClick:function(){var xr;if(pr)return lr();$n==null||(xr=$n.schemaInitialize)===null||xr===void 0||xr.call($n,Qn),xn(Qn)}}))},Pt={wrap:O.BM,title:'{{t("Add block")}}',icon:"PlusOutlined",items:[{type:"itemGroup",title:'{{t("Selector")}}',name:"selector",children:[{name:"title",title:"Table",Component:"TableSelectorInitializer"}]},{type:"itemGroup",title:'{{t("Filter blocks")}}',name:"filterBlocks",useChildren:function(){var tt=(0,ie.useCollection_deprecated)(),xn=tt.name,$n=tt.dataSource;return[{name:"filterFormBlockInTableSelector",title:'{{t("Form")}}',Component:"FilterFormBlockInitializer",componentProps:{filterCollections:function(){return!1},onlyCurrentDataSource:!0},collectionName:xn,dataSource:$n},{name:"filterCollapseBlockInTableSelector",title:'{{t("Collapse")}}',Component:"FilterCollapseBlockInitializer",componentProps:{filterCollections:function(){return!1},onlyCurrentDataSource:!0},collectionName:xn,dataSource:$n}]}},{type:"itemGroup",title:'{{t("Other blocks")}}',name:"otherBlocks",children:[{title:'{{t("Add text")}}',Component:"BlockItemInitializer",name:"addText",schema:{type:"void","x-editable":!1,"x-decorator":"BlockItem","x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:markdown","x-component":"Markdown.Void","x-component-props":{content:'{{t("This is a demo text, **supports Markdown syntax**.")}}'}}}]}]},bt=new b.n(p()({name:"TableSelectorInitializers"},Pt)),Ht=new b.n(p()({name:"popup:tableSelector:addBlock"},Pt),bt),dn=function(){var tt={},xn=(0,T.UR)();return(0,S.jsx)(Z,p()(p()({},xn),{},{item:xn,schema:tt,type:"x-collection-field",disabled:xn.disabled}))},yn=function(){var tt={},xn=(0,T.UR)(),$n=xn.name==="select_all"&&!xn.schema;return $n?(0,S.jsx)($,{name:xn.name,title:xn.title,type:"x-collection-field",allItems:xn.allItems||[]}):(0,S.jsx)(Z,p()(p()({},xn),{},{schema:tt,item:xn,type:"x-collection-field"}))},Yn=e(57134),bn=e(58809),wn=e(38342),cr=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,P.$)(),Qn=$n.t,zn=(0,D.useContext)(Se.SchemaOptionsContext),pr=(0,bn.mg)(),lr=pr.theme,Cr=(0,wn.y)(),xr=Cr.styles,Dr=(0,D.useCallback)(h()(x()().mark(function kr(){var Fr,Qr,Yr,to;return x()().wrap(function(xo){for(;;)switch(xo.prev=xo.next){case 0:return xo.next=2,(0,ae.D_t)(Qn("Add link"),function(){return(0,S.jsx)(ae.G0E,{scope:zn.scope,components:p()({},zn.components),children:(0,S.jsx)(Yn.FormLayout,{layout:"vertical",children:(0,S.jsx)(ae.n6,{schema:{properties:{title:{title:Qn("Menu item title"),required:!0,"x-component":"Input","x-decorator":"FormItem"},icon:{title:Qn("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"},href:{title:Qn("Link"),"x-component":"Input","x-decorator":"FormItem"}}}})})})},lr).open({initialValues:{}});case 2:Fr=xo.sent,Qr=Fr.title,Yr=Fr.href,to=Fr.icon,xn({type:"void",title:Qr,"x-component":"Menu.URL","x-decorator":"ACLMenuItemProvider","x-component-props":{icon:to,href:Yr},"x-server-hooks":[{type:"onSelfCreate",method:"bindMenuToRole"},{type:"onSelfSave",method:"extractTextToLocale"}]});case 5:case"end":return xo.stop()}},kr)})),[xn,zn.components,zn.scope,Qn,lr]);return(0,S.jsx)(T.lV,{title:Qn("Link"),onClick:Dr,className:xr.menuItem})},yr=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,P.$)(),Qn=$n.t,zn=(0,D.useContext)(Se.SchemaOptionsContext),pr=(0,bn.mg)(),lr=pr.theme,Cr=(0,wn.y)(),xr=Cr.styles,Dr=(0,D.useCallback)(h()(x()().mark(function kr(){var Fr,Qr,Yr;return x()().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:return Wr.next=2,(0,ae.D_t)(Qn("Add page"),function(){return(0,S.jsx)(ae.G0E,{scope:zn.scope,components:p()({},zn.components),children:(0,S.jsx)(Yn.FormLayout,{layout:"vertical",children:(0,S.jsx)(ae.n6,{schema:{properties:{title:{title:Qn("Menu item title"),required:!0,"x-component":"Input","x-decorator":"FormItem"},icon:{title:Qn("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"}}}})})})},lr).open({initialValues:{}});case 2:Fr=Wr.sent,Qr=Fr.title,Yr=Fr.icon,xn({type:"void",title:Qr,"x-component":"Menu.Item","x-decorator":"ACLMenuItemProvider","x-component-props":{icon:Yr},"x-server-hooks":[{type:"onSelfCreate",method:"bindMenuToRole"},{type:"onSelfSave",method:"extractTextToLocale"}],properties:{page:{type:"void","x-component":"Page","x-async":!0,properties:y()({},(0,E.uid)(),{type:"void","x-component":"Grid","x-initializer":"page:addBlock",properties:{}})}}});case 5:case"end":return Wr.stop()}},kr)})),[xn,zn.components,zn.scope,Qn,lr]);return(0,S.jsx)(T.lV,{title:Qn("Page"),onClick:Dr,className:xr.menuItem})},Er=function(){var tt=(0,T.q_)(),xn=tt.insert,$n=(0,P.$)(),Qn=$n.t,zn=(0,D.useContext)(Se.SchemaOptionsContext),pr=(0,bn.mg)(),lr=pr.theme,Cr=(0,wn.y)(),xr=Cr.styles,Dr=(0,D.useCallback)(h()(x()().mark(function kr(){var Fr,Qr,Yr;return x()().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:return Wr.next=2,(0,ae.D_t)(Qn("Add group"),function(){return(0,S.jsx)(ae.G0E,{scope:zn.scope,components:p()({},zn.components),children:(0,S.jsx)(Yn.FormLayout,{layout:"vertical",children:(0,S.jsx)(ae.n6,{schema:{properties:{title:{title:Qn("Menu item title"),"x-component":"Input","x-decorator":"FormItem",required:!0},icon:{title:Qn("Icon"),"x-component":"IconPicker","x-decorator":"FormItem"}}}})})})},lr).open({initialValues:{}});case 2:Fr=Wr.sent,Qr=Fr.title,Yr=Fr.icon,xn({type:"void",title:Qr,"x-component":"Menu.SubMenu","x-decorator":"ACLMenuItemProvider","x-component-props":{icon:Yr},"x-server-hooks":[{type:"onSelfCreate",method:"bindMenuToRole"},{type:"onSelfSave",method:"extractTextToLocale"}]});case 5:case"end":return Wr.stop()}},kr)})),[xn,zn.components,zn.scope,Qn,lr]);return(0,S.jsx)(T.lV,{title:Qn("Group"),onClick:Dr,className:xr.menuItem})},Pr=new ee.e({name:"MenuItemInitializers",insertPosition:"beforeEnd",icon:"PlusOutlined",title:'{{t("Add menu item")}}',style:{width:"100%"},items:[{name:"group",Component:Er},{name:"page",Component:yr},{name:"link",Component:cr}]}),$r=new ee.e({name:"menuInitializers:menuItem",insertPosition:"beforeEnd",icon:"PlusOutlined",title:'{{t("Add menu item")}}',items:[{name:"group",Component:Er},{name:"page",Component:yr},{name:"link",Component:cr}]}),Vr=new b.n({name:"BlockInitializers",title:'{{t("Add block")}}',icon:"PlusOutlined",wrap:O.BM,items:[{name:"dataBlocks",title:'{{t("Data blocks")}}',type:"itemGroup",children:[{name:"table",title:'{{t("Table")}}',Component:"TableBlockInitializer"},{name:"form",title:'{{t("Form")}}',Component:"FormBlockInitializer"},{name:"details",title:'{{t("Details")}}',Component:"DetailsBlockInitializer"},{name:"list",title:'{{t("List")}}',Component:"ListBlockInitializer"},{name:"gridCard",title:'{{t("Grid Card")}}',Component:"GridCardBlockInitializer"}]},{name:"filterBlocks",title:'{{t("Filter blocks")}}',type:"itemGroup",children:[{name:"filterForm",title:'{{t("Form")}}',Component:"FilterFormBlockInitializer"},{name:"filterCollapse",title:'{{t("Collapse")}}',Component:"FilterCollapseBlockInitializer"}]},{name:"otherBlocks",type:"itemGroup",title:'{{t("Other blocks")}}',children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]}),zr=new b.n({name:"page:addBlock",title:'{{t("Add block")}}',icon:"PlusOutlined",wrap:O.BM,items:[{name:"dataBlocks",title:'{{t("Data blocks")}}',type:"itemGroup",children:[{name:"table",title:'{{t("Table")}}',Component:"TableBlockInitializer"},{name:"form",title:'{{t("Form")}}',Component:"FormBlockInitializer"},{name:"details",title:'{{t("Details")}}',Component:"DetailsBlockInitializer"},{name:"list",title:'{{t("List")}}',Component:"ListBlockInitializer"},{name:"gridCard",title:'{{t("Grid Card")}}',Component:"GridCardBlockInitializer"}]},{name:"filterBlocks",title:'{{t("Filter blocks")}}',type:"itemGroup",children:[{name:"filterForm",title:'{{t("Form")}}',Component:"FilterFormBlockInitializer"},{name:"filterCollapse",title:'{{t("Collapse")}}',Component:"FilterCollapseBlockInitializer"}]},{name:"otherBlocks",type:"itemGroup",title:'{{t("Other blocks")}}',children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]},Vr),lo=function(){var tt=(0,O.BD)({component:"AssignedField"}),xn=(0,P.$)(),$n=xn.t,Qn=(0,ae.eJW)();if(!(tt!=null&&tt.length))return null;var zn=[];return tt.forEach(function(pr){Object.values(pr)[0].length&&zn.push({type:"itemGroup",divider:!0,title:$n("Parent collection fields")+"("+Qn("".concat(Object.keys(pr)[0]))+")",children:Object.values(pr)[0]})}),(0,S.jsx)(Un.E,{children:zn})},Mo=new b.n({name:"CustomFormItemInitializers",wrap:O.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",title:'{{t("Configure fields")}}',name:"configureFields",useChildren:O.bR},{name:"parentCollectionFields",Component:lo}]}),To=new b.n({name:"assignFieldValuesForm:configureFields",wrap:O.BM,icon:"SettingOutlined",title:'{{t("Configure fields")}}',items:[{type:"itemGroup",title:'{{t("Configure fields")}}',name:"configureFields",useChildren:O.bR},{name:"parentCollectionFields",Component:lo}]},Mo),wo=e(19632),Ho=e.n(wo),sa=function Vn(tt){var xn;if(!tt)return null;if((xn=tt["x-decorator"])!==null&&xn!==void 0&&xn.endsWith("BlockProvider")){var $n;return($n=tt["x-decorator-props"])===null||$n===void 0?void 0:$n.collection}else return Vn(tt.parent)},ua=function(tt){return["linkTo","subTable","o2m","m2m","obo","oho","o2o","m2o"].includes(tt.interface)};function Sa(){var Vn=(0,ie.useCollection_deprecated)(),tt=(0,ie.useCollectionManager_deprecated)(),xn=tt.getChildrenCollections,$n=xn(Vn.name,!0,Vn.dataSource).filter(function(zn){return zn==null?void 0:zn.filterTargetKey}),Qn=[{name:"details",title:'{{t("Details")}}',Component:"DetailsBlockInitializer",collectionName:Vn.name,dataSource:Vn.dataSource,useComponentProps:function(){var pr=(0,ie.useCollection_deprecated)(),lr=Jr(),Cr=lr.createSingleDetailsSchema,xr=lr.templateWrap,Dr=(0,ie.useCreateAssociationDetailsBlock)(),kr=Dr.createAssociationDetailsBlock,Fr=(0,ie.useCreateAssociationDetailsWithoutPagination)(),Qr=Fr.createAssociationDetailsWithoutPagination,Yr=Fr.templateWrap,to=Mn(),Wr=to.createDetailsBlock,xo=[pr].concat(Ho()($n)),fo=(0,D.useCallback)(function(yo){var Ao=yo.item,mo=yo.fromOthersInPopup;return mo?Wr({item:Ao}):Ao.associationField?["hasOne","belongsTo"].includes(Ao.associationField.type)?Qr({item:Ao}):kr({item:Ao}):Cr({item:Ao})},[kr,Qr,Wr,Cr]);return{filterCollections:function(Ao){var mo=Ao.collection,ia=Ao.associationField;return mo?xo.some(function(fa){return fa.name===mo.name}):!!ia},onlyCurrentDataSource:!0,hideSearch:!0,componentType:"ReadPrettyFormItem",createBlockSchema:fo,templateWrap:(0,D.useCallback)(function(yo,Ao){var mo=Ao.item;return mo.associationField?["hasOne","belongsTo"].includes(mo.associationField.type)?Yr(yo,{item:mo}):yo:xr(yo,{item:mo})},[xr,Yr]),showAssociationFields:!0}}},{name:"editForm",title:'{{t("Form (Edit)")}}',Component:"FormBlockInitializer",collectionName:Vn.name,dataSource:Vn.dataSource,useComponentProps:function(){var pr=(0,ie.useCollection_deprecated)(),lr=(0,ie.useCreateEditFormBlock)(),Cr=lr.createEditFormBlock,xr=lr.templateWrap,Dr=[pr].concat(Ho()($n));return{filterCollections:function(Fr){var Qr=Fr.collection;return Qr?Dr.some(function(Yr){return Yr.name===Qr.name}):!1},onlyCurrentDataSource:!0,hideSearch:!0,hideOtherRecordsInPopup:!0,componentType:"FormItem",createBlockSchema:Cr,templateWrap:xr,showAssociationFields:!0}},useVisible:function(){return(Vn.template!=="view"||(Vn==null?void 0:Vn.writableView))&&Vn.template!=="sql"}},{name:"createForm",title:'{{t("Form (Add new)")}}',Component:"FormBlockInitializer",collectionName:Vn.name,dataSource:Vn.dataSource,useComponentProps:function(){var pr=(0,ie.useCreateAssociationFormBlock)(),lr=pr.createAssociationFormBlock,Cr=pr.templateWrap,xr=(0,ie.useCreateFormBlock)(),Dr=xr.createFormBlock,kr=xr.templateWrap;return{filterCollections:function(Qr){var Yr=Qr.collection,to=Qr.associationField;return to?["hasMany","belongsToMany"].includes(to.type):!1},onlyCurrentDataSource:!0,hideSearch:!0,componentType:"FormItem",createBlockSchema:function(Qr){var Yr=Qr.item,to=Qr.fromOthersInPopup;if(to)return Dr({item:Yr});lr({item:Yr})},templateWrap:function(Qr,Yr){var to=Yr.item,Wr=Yr.fromOthersInPopup;if(Wr)return kr(Qr,{item:to});Cr(Qr,{item:to})},showAssociationFields:!0}}},{name:"table",title:'{{t("Table")}}',Component:"TableBlockInitializer",useComponentProps:function(){var pr=(0,ie.useCreateAssociationTableBlock)(),lr=pr.createAssociationTableBlock,Cr=(0,ie.useCreateTableBlock)(),xr=Cr.createTableBlock;return{hideSearch:!0,onlyCurrentDataSource:!0,filterCollections:function(kr){var Fr=kr.associationField;return Fr?["hasMany","belongsToMany"].includes(Fr.type):!1},createBlockSchema:function(kr){var Fr=kr.item,Qr=kr.fromOthersInPopup;if(Qr)return xr({item:Fr});lr({item:Fr})},showAssociationFields:!0}}},{name:"list",title:'{{t("List")}}',Component:"ListBlockInitializer",useComponentProps:function(){var pr=(0,ie.useCreateAssociationListBlock)(),lr=pr.createAssociationListBlock,Cr=Xr(),xr=Cr.createListBlock;return{hideSearch:!0,onlyCurrentDataSource:!0,filterCollections:function(kr){var Fr=kr.associationField;return Fr?["hasMany","belongsToMany"].includes(Fr.type):!1},createBlockSchema:function(kr){var Fr=kr.item,Qr=kr.fromOthersInPopup;if(Qr)return xr({item:Fr});lr({item:Fr})},showAssociationFields:!0}}},{name:"gridCard",title:'{{t("Grid Card")}}',Component:"GridCardBlockInitializer",useComponentProps:function(){var pr=(0,ie.useCreateAssociationGridCardBlock)(),lr=pr.createAssociationGridCardBlock,Cr=Kn(),xr=Cr.createGridCardBlock;return{hideSearch:!0,onlyCurrentDataSource:!0,filterCollections:function(kr){var Fr=kr.associationField;return Fr?["hasMany","belongsToMany"].includes(Fr.type):!1},createBlockSchema:function(kr){var Fr=kr.item,Qr=kr.fromOthersInPopup;if(Qr)return xr({item:Fr});lr({item:Fr})},showAssociationFields:!0}}},{name:"dataBlocks.chartV2",title:'{{t("Chart")}}',Component:"ChartV2BlockInitializer"}];return Qn}var Pa={wrap:O.BM,title:'{{t("Add block")}}',icon:"PlusOutlined",items:[{type:"itemGroup",name:"dataBlocks",title:'{{t("Data blocks")}}',useChildren:Sa},{name:"filterBlocks",title:'{{t("Filter blocks")}}',type:"itemGroup",useVisible:function(){var tt=(0,ie.useCollection)();return(0,D.useMemo)(function(){return tt.fields.some(function(xn){return ua(xn)&&["hasMany","belongsToMany"].includes(xn.type)})},[tt.fields])},children:[{name:"filterForm",title:'{{t("Form")}}',Component:"FilterFormBlockInitializer",useComponentProps:function(){return{filterCollections:function(xn){var $n=xn.collection;return!0}}}},{name:"filterCollapse",title:'{{t("Collapse")}}',Component:"FilterCollapseBlockInitializer",useComponentProps:function(){return{filterCollections:function(xn){var $n=xn.collection;return!0}}}}]},{type:"itemGroup",name:"otherBlocks",title:'{{t("Other blocks")}}',children:[{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"}]}]},ja=new b.n(p()({name:"RecordBlockInitializers"},Pa)),Ci=new b.n(p()({name:"popup:common:addBlock"},Pa),ja),Ja=new b.n({name:"SubTableActionInitializers",title:"{{t('Configure actions')}}",icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",title:"{{t('Enable actions')}}",name:"enableActions",children:[{name:"addNew",title:"{{t('Add new')}}",Component:"CreateActionInitializer",schema:{"x-align":"right"}},{name:"delete",title:"{{t('Delete')}}",Component:"BulkDestroyActionInitializer",schema:{"x-align":"right"}}]}]}),bi=new b.n({name:"subTable:configureActions",title:"{{t('Configure actions')}}",icon:"SettingOutlined",style:{marginLeft:8},items:[{type:"itemGroup",title:"{{t('Enable actions')}}",name:"enableActions",children:[{name:"addNew",title:"{{t('Add new')}}",Component:"CreateActionInitializer",schema:{"x-align":"right"}},{name:"delete",title:"{{t('Delete')}}",Component:"BulkDestroyActionInitializer",schema:{"x-align":"right"}}]}]},Ja),qa=e(96256),xi=function(tt){var xn=(0,ie.useDesignable)(),$n=xn.designable,Qn=xn.insertBeforeEnd,zn=tt.isCreate,pr=tt.isBulkEdit,lr=tt.options,Cr=lr.gridInitializer,xr=(0,qa.d)(),Dr=xr.getAriaLabel,kr=(0,ie.useRecord)(),Fr=function(){var to=(0,Se.useForm)(),Wr=(0,ie.useActionContext)(),xo=Cr;return xo||(xo="popup:common:addBlock",zn||!kr?xo="popup:addNew:addBlock":pr&&(xo="popup:bulkEdit:addBlock")),{run:function(){return h()(x()().mark(function yo(){var Ao,mo,ia;return x()().wrap(function(Lo){for(;;)switch(Lo.prev=Lo.next){case 0:return Lo.next=2,to.submit();case 2:return Ao=to.values,mo=Ao.title,ia=Ao.icon,Qn({type:"void",title:mo,"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{icon:ia},properties:{grid:{type:"void","x-component":"Grid","x-initializer":xo,properties:{}}}}),Lo.next=6,to.reset();case 6:Wr.setVisible(!1);case 7:case"end":return Lo.stop()}},yo)}))()}}},Qr=(0,D.useMemo)(function(){return{type:"void",properties:{action1:{type:"void","x-component":"Action","x-component-props":{icon:"PlusOutlined",style:{borderColor:"var(--colorSettings)",color:"var(--colorSettings)"},type:"dashed","aria-label":Dr()},title:'{{t("Add tab")}}',properties:{drawer1:{"x-decorator":"Form","x-component":"Action.Modal","x-component-props":{width:520},type:"void",title:'{{t("Add tab")}}',properties:{title:{title:'{{t("Tab name")}}',required:!0,"x-component":"Input","x-decorator":"FormItem"},icon:{title:'{{t("Icon")}}',"x-component":"IconPicker","x-decorator":"FormItem"},footer:{"x-component":"Action.Modal.Footer",type:"void",properties:{cancel:{title:'{{t("Cancel")}}',"x-component":"Action","x-component-props":{useAction:function(){var to=(0,ie.useActionContext)();return{run:function(){return h()(x()().mark(function xo(){return x()().wrap(function(yo){for(;;)switch(yo.prev=yo.next){case 0:to.setVisible(!1);case 1:case"end":return yo.stop()}},xo)}))()}}}}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",useAction:Fr}}}}}}}}}}},[]);return $n?(0,S.jsx)(ie.SchemaComponent,{schema:Qr}):null},Si=function(tt){return(0,S.jsx)(xi,p()(p()({},tt),{},{isCreate:!0}))},$a=function(tt){return(0,S.jsx)(xi,p()(p()({},tt),{},{isBulkEdit:!0}))},ei={Component:xi,popover:!1},Yi=new ee.e(p()({name:"TabPaneInitializers"},ei)),Ba=new ee.e(p()({name:"popup:addTab"},ei)),Pi=new ee.e({name:"TabPaneInitializersForCreateFormBlock",Component:Si,popover:!1}),ti=new ee.e({name:"TabPaneInitializersForBulkEditFormBlock",Component:$a,popover:!1}),Ei=e(94080),Xi=(0,Se.observer)(function(){var Vn=(0,Se.useFieldSchema)(),tt=(0,ie.useSchemaInitializerRender)(Vn["x-initializer"]),xn=tt.render;return xn()},{displayName:"MarkdownButtonInitializerRender"}),ni=(0,Se.observer)(function(Vn){return(0,S.jsxs)("div",{style:p()({},Vn==null?void 0:Vn.style),children:[Vn.children,(0,S.jsx)(Xi,{})]})},{displayName:"MarkdownActionBar"}),Qi=new ie.SchemaInitializer({name:"markdownButtonInitializer",title:'{{ t("Configure actions") }}',insertPosition:"beforeEnd",items:[{name:(0,E.uid)(),type:"item",useComponentProps:function(){var tt=(0,ie.useSchemaInitializer)(),xn=tt.insert,$n=(0,P.$)(),Qn=$n.t;return{title:Qn("Link"),onClick:function(){xn({name:(0,E.uid)(),title:Qn("Link"),type:"void","x-component":"Action","x-component-props":{style:{marginRight:"15px"}},"x-settings":"markdownButtonSettings","x-use-component-props":"useLinkActionProps"})}}}}]}),Ji=function(Vn){l()(xn,Vn);var tt=r()(xn);function xn(){return c()(this,xn),tt.apply(this,arguments)}return a()(xn,[{key:"load",value:function(){var $n=h()(x()().mark(function zn(){return x()().wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:this.app.addComponents(p()(p()(p()({},Ei),v),{},{DestroyActionInitializer:Y,CreateFormBlockInitializer:ho.K,FormBlockInitializer:eo.J,RecordFormBlockInitializer:ro.s,TableBlockInitializer:ko.k,TableSelectorInitializer:So.S,RecordReadPrettyFormBlockInitializer:no,DetailsBlockInitializer:Br,ListBlockInitializer:Tr,GridCardBlockInitializer:Sn,FilterFormBlockInitializer:Yo,FilterCollapseBlockInitializer:Nr,MarkdownBlockInitializer:We,MarkdownFormItemInitializer:Ye,GoogleReCaptchaFormItemInitializer:pt,TableCollectionFieldInitializer:yn,CollectionFieldInitializer:dn,CreateActionInitializer:M,CustomizeAddRecordActionInitializer:W,CreateChildInitializer:A,ViewActionInitializer:Ir,UpdateActionInitializer:_r,PopupActionInitializer:hr,SaveRecordActionInitializer:qn,UpdateRecordActionInitializer:rr,CreateSubmitActionInitializer:ar,UpdateSubmitActionInitializer:nr,BulkDestroyActionInitializer:k,ExpandableActionInitializer:te,DisassociateActionInitializer:H,FilterActionInitializer:le,FilterGroupActionInitializer:ne,SearchActionInitializer:er,RefreshActionInitializer:ue,MarkdownActionBar:ni})),this.app.schemaInitializerManager.add(Vr),this.app.schemaInitializerManager.add(zr),this.app.schemaInitializerManager.add(bo.E),this.app.schemaInitializerManager.add(bo.H),this.app.schemaInitializerManager.add(Oo.T),this.app.schemaInitializerManager.add(Oo.U),this.app.schemaInitializerManager.add(Co.Xe),this.app.schemaInitializerManager.add(Co.Rp),this.app.schemaInitializerManager.add(io.e),this.app.schemaInitializerManager.add(io.A),this.app.schemaInitializerManager.add(ao.v),this.app.schemaInitializerManager.add(Sr),this.app.schemaInitializerManager.add(Mr),this.app.schemaInitializerManager.add(dr),this.app.schemaInitializerManager.add(Hr),this.app.schemaInitializerManager.add(an),this.app.schemaInitializerManager.add(Bn),this.app.schemaInitializerManager.add(R),this.app.schemaInitializerManager.add(L),this.app.schemaInitializerManager.add(X),this.app.schemaInitializerManager.add(J),this.app.schemaInitializerManager.add(Mo),this.app.schemaInitializerManager.add(To),this.app.schemaInitializerManager.add(Ko),this.app.schemaInitializerManager.add(co),this.app.schemaInitializerManager.add(qr.$),this.app.schemaInitializerManager.add(qr.n),this.app.schemaInitializerManager.add(Eo.C),this.app.schemaInitializerManager.add(Eo.S),this.app.schemaInitializerManager.add(Uo),this.app.schemaInitializerManager.add(_n),this.app.schemaInitializerManager.add(de),this.app.schemaInitializerManager.add(cn),this.app.schemaInitializerManager.add(Ot),this.app.schemaInitializerManager.add(tr),this.app.schemaInitializerManager.add(fr),this.app.schemaInitializerManager.add(ir),this.app.schemaInitializerManager.add(Rr),this.app.schemaInitializerManager.add(Gr),this.app.schemaInitializerManager.add(po),this.app.schemaInitializerManager.add(ja),this.app.schemaInitializerManager.add(Ci),this.app.schemaInitializerManager.add(Ar),this.app.schemaInitializerManager.add(Ja),this.app.schemaInitializerManager.add(bi),this.app.schemaInitializerManager.add(bt),this.app.schemaInitializerManager.add(Ht),this.app.schemaInitializerManager.add(Yi),this.app.schemaInitializerManager.add(Ba),this.app.schemaInitializerManager.add(Pi),this.app.schemaInitializerManager.add(ti),this.app.schemaInitializerManager.add(Pr),this.app.schemaInitializerManager.add($r),this.app.schemaInitializerManager.add(Qi);case 55:case"end":return lr.stop()}},zn,this)}));function Qn(){return $n.apply(this,arguments)}return Qn}()}]),xn}(o.S)},61818:function(se,j,e){"use strict";e.d(j,{dn:function(){return z},jA:function(){return K},zH:function(){return $}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(97857),d=e.n(p),h=e(19632),t=e.n(h),c=e(5574),i=e.n(c),a=e(31356),f=e(9149),l=e(69677),n=e(57953),r=e(67294),o=e(26793),g=e(74614),y=e(98427),D=e(95354),P=e(40341),E=e(16097),O=e(85893),T=40,S=15,$=function(A){var M=A.value,b=A.onChange,R=(0,o.$)(),L=R.t,N=(0,r.useState)(M),B=i()(N,2),V=B[0],U=B[1],I=r.useRef(null);return(0,r.useEffect)(function(){U(M)},[M]),(0,r.useEffect)(function(){I.current.input.focus();var F=new IntersectionObserver(function(W){W[0].isIntersecting&&I.current.input.focus()});return F.observe(I.current.input),function(){F.disconnect()}},[]),(0,O.jsx)("div",{style:{width:220},onClick:function(W){return W.stopPropagation()},children:(0,O.jsx)(l.Z,{ref:I,allowClear:!0,style:{padding:"0 4px 6px",boxShadow:"none"},bordered:!1,placeholder:L("Search and select collection"),value:V,onClick:function(W){W.stopPropagation()},onChange:function(W){b(W.target.value),U(W.target.value)}})})},Z=function(A){var M=A.loadMore,b=A.maxHeight,R=(0,r.useRef)(null);return(0,r.useEffect)(function(){var L=R.current;if(L){for(var N=L.parentElement;N&&N.tagName!=="UL";)N=N.parentElement;var B=function(){N&&Math.abs(N.scrollHeight-N.scrollTop-N.clientHeight)<=T&&M()};return N&&(N.style.height="".concat(b-T,"px"),N.style.maxHeight="inherit",N.style.overflowY="scroll",N.addEventListener("scroll",B)),function(){N&&(N.removeEventListener("scroll",B),delete N.style.height)}}},[M,b]),(0,O.jsx)("div",{ref:R,onClick:function(N){return N.stopPropagation()},children:(0,O.jsx)(n.Z,{size:"small",style:{width:"100%"}})})};function K(w){var A=w.data,M=w.openKeys,b=w.showType,R=w.hideSearch,L=(0,r.useState)(""),N=i()(L,2),B=N[0],V=N[1],U=(0,r.useState)(S),I=i()(U,2),F=I[0],W=I[1],X=(0,r.useMemo)(function(){return A.length>1},[A]),J=(0,r.useMemo)(function(){return X?M==null?void 0:M[1]:(M==null?void 0:M.length)>0},[M]);(0,r.useEffect)(function(){J||V("")},[J]);var C=(0,r.useMemo)(function(){var ne;if(X){var ie;return J?((ie=A.find(function(ee){return(ee.key||ee.name)===J}))===null||ie===void 0?void 0:ie.children)||[]:[]}return((ne=A[0])===null||ne===void 0?void 0:ne.children)||[]},[A,X,J]),k=(0,r.useMemo)(function(){if(!B)return C;var ne=B.toLocaleLowerCase();return C.filter(function(ie){return(ie.label||ie.title)&&String(ie.label||ie.title).toLocaleLowerCase().includes(ne)})},[B,C]),Y=(0,r.useMemo)(function(){return k.length>F},[F,k]),H=(0,r.useMemo)(function(){return k.slice(0,F)},[k,F]),te=(0,r.useMemo)(function(){var ne=[];return R||ne.push(Object.assign({key:"search",label:(0,O.jsx)($,{value:B,onChange:function(ee){W(S),V(ee)}}),onClick:function(ee){var fe=ee.domEvent;fe.stopPropagation()}},b?{isMenuType:!0}:{})),H.length>0?(ne.push.apply(ne,t()(H)),Y&&ne.push(Object.assign({key:"load-more",label:(0,O.jsx)(Z,{maxHeight:S*T,loadMore:function(){W(function(ee){return ee+S})}})},b?{isMenuType:!0}:{}))):ne.push(Object.assign({key:"empty",style:{height:150},label:(0,O.jsx)("div",{onClick:function(ee){return ee.stopPropagation()},children:(0,O.jsx)(y.HYy,{})})},b?{isMenuType:!0}:{})),ne},[R,H,B,Y,b]),le=(0,r.useMemo)(function(){return X?A.map(function(ne){return J&&ne.key===J?d()(d()({},ne),{},{children:te}):d()(d()({},ne),{},{children:[]})}):te},[A,X,J,te]);return le}var z=function(A){var M,b=A.templateWrap,R=A.onCreateBlockSchema,L=A.componentType,N=A.icon,B=N===void 0?a.Z:N,V=A.name,U=A.title,I=A.filter,F=A.onlyCurrentDataSource,W=A.hideSearch,X=A.showAssociationFields,J=A.hideChildrenIfSingleCollection,C=A.filterDataSource,k=A.items,Y=A.hideOtherRecordsInPopup,H=A.onClick,te=A.filterOtherRecordsCollection,le=A.renderSubMenuIfNoChildren,ne=(0,y.Dmu)(),ie=(0,g.q_)(),ee=ie.insert,fe=ie.setVisible,de=(0,y.eJW)(),ue=(0,D.$t)(),Se=ue.getTemplateSchemaByMode,ae=(0,r.useCallback)(function(){var Ae=u()(m()().mark(function Be(Le){var Me,Te,we;return m()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(Me=Le.item,Te=Le.fromOthersInPopup,!H){je.next=3;break}return je.abrupt("return",H(Le));case 3:if(!Me.template){je.next=11;break}return je.next=6,Se(Me);case 6:we=je.sent,ne!=null&&ne.filter&&we!==null&&we!==void 0&&we["x-decorator-props"]&&(we["x-decorator-props"].params=d()(d()({},we["x-decorator-props"].params||{}),{},{filter:ne.filter})),ee(b?b(we,{item:Me,fromOthersInPopup:Te}):we),je.next=12;break;case 11:R&&R({item:Me,fromOthersInPopup:Te});case 12:fe(!1);case 13:case"end":return je.stop()}},Be)}));return function(Be){return Ae.apply(this,arguments)}}(),[Se,ee,R,H,fe,b]),G=k||(0,P.HD)({componentName:L,filter:I,filterDataSource:C,filterOtherRecordsCollection:te,onlyCurrentDataSource:F,showAssociationFields:X,dataBlockInitializerProps:A,hideOtherRecordsInPopup:Y,onClick:ae}),re=(0,g.bw)(ae),oe=(0,r.useMemo)(function(){var Ae=re(G,V);if(L===E.sR.Charts){var Be;return((Be=Ae[0])===null||Be===void 0||(Be=Be.children)===null||Be===void 0?void 0:Be.filter(function(Te){return Te.label===E.Mq}))||[]}if(ne!=null&&ne.collectionName&&Ae!==null&&Ae!==void 0&&Ae[0]){var Le,Me=((Le=Ae[0])===null||Le===void 0?void 0:Le.children)||[];return Ae[0].children=Me.filter(function(Te){var we,Ue=Te.name;return Ue?(((we=Ue.match(/(.+)_\d+/))===null||we===void 0?void 0:we[1])||Ue)===ne.collectionName:!0}),Ae}return Ae},[re,G,V]),ce=(0,r.useState)([]),be=i()(ce,2),xe=be[0],ge=be[1],he=K({data:oe,openKeys:xe,hideSearch:!!(ne!=null&&ne.collectionName)||W}),Pe=(0,r.useMemo)(function(){var Ae=he.filter(function(Be){return Be.key!=="search"&&Be.key!=="empty"});return J&&Ae.length===1?Ae=Ae[0].children:Ae=he,[{key:V,label:de(U),icon:typeof B=="string"?(0,O.jsx)(f.Z,{type:B}):B,onClick:function(Le){Le.key===V&&ae(d()(d()({},Le),{},{item:A}))},children:Ae}]},[he,J,V,de,U,B,ae,A]);return(oe==null||(M=oe[0])===null||M===void 0||(M=M.children)===null||M===void 0?void 0:M.length)>0||le?(0,O.jsx)(g.tu,{onOpenChange:function(Be){ge(Be)},items:Pe}):(0,O.jsx)(g.lV,d()(d()({},A),{},{onClick:ae}))}},40341:function(se,j,e){"use strict";e.d(j,{BD:function(){return le},BM:function(){return N},BU:function(){return be},EY:function(){return U},HD:function(){return G},I_:function(){return C},Kv:function(){return k},NH:function(){return oe},Uc:function(){return ce},V0:function(){return X},Z_:function(){return L},bJ:function(){return W},bQ:function(){return ae},bR:function(){return ie},db:function(){return ue},e6:function(){return re},fE:function(){return ne},hg:function(){return Y},pZ:function(){return Se},yi:function(){return J},z4:function(){return te}});var v=e(13769),m=e.n(v),x=e(15009),u=e.n(x),p=e(96695),d=e.n(p),h=e(99289),t=e.n(h),c=e(97857),i=e.n(c),a=e(19632),f=e.n(a),l=e(9783),n=e.n(l),r=e(94350),o=e(84327),g=e(96486),y=e.n(g),D=e(67294),P=e(89250),E=e(26793),O=e(21143),T=e(44899),S=e(6145),$=e(13511),Z=e(87714),K=e(98427),z=e(95354),w=e(8217),A=["formItemInitializers","actionInitializers","collection","dataSource","association","template","settings","action"],M=["formItemInitializers","actionInitializers","collection","resource","dataSource","association","action","actions","x-designer","template","title","settings"],b=["formItemInitializers","actionInitializers","collection","association","dataSource","resource","template","settings"],R=["collection","rowKey","tableActionInitializers","tableColumnInitializers","tableActionColumnInitializers","tableBlockProvider","disableTemplate","dataSource","blockType","pageSize"],L=function(Pe){return Pe},N=function(Pe){return{type:"void","x-component":"Grid.Row",properties:n()({},(0,o.uid)(),{type:"void","x-component":"Grid.Col",properties:n()({},Pe.name||(0,o.uid)(),Pe)})}},B=function(Pe,Ae){Ae(Pe.parent)},V=function(Pe,Ae){Ae(Pe,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}})},U=function(){var Pe=(0,r.useForm)();return function(Ae,Be){var Le;Be(Ae,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}),(Le=Pe.values)===null||Le===void 0||delete Le[Ae.name]}},I=function(Pe,Ae,Be){var Le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return Pe.reduceProperties(function(Me,Te){if(Te[Ae]===Be)return Te;var we=Te.reduceProperties(function(Ue,je){return je[Ae]===Be?je:Ue});return we||Me})},F=["markdown","json","richText","polygon","circle","point","lineString"],W=function(){var Pe=(0,S.useCollection_deprecated)(),Ae=Pe.name,Be=Pe.currentFields,Le=Be===void 0?[]:Be,Me=(0,S.useCollectionManager_deprecated)(),Te=Me.getInterface,we=Me.getCollection,Ue=(0,r.useFieldSchema)(),je=Ue["x-component"]==="AssociationField.SubTable",De=(0,r.useForm)(),ye=je?De.readPretty:!0,_e=Le.filter(function(q){return(q==null?void 0:q.interface)&&!["subTable","deletedAt"].includes(q==null?void 0:q.interface)&&!(q!=null&&q.treeChildren)}).map(function(q){var pe,Re,Oe,$e,Ve=Te(q.interface),Ze=(q==null?void 0:q.target)&&((pe=we(q==null?void 0:q.target))===null||pe===void 0?void 0:pe.template)==="file",qe=(q==null||(Re=q.uiSchema)===null||Re===void 0?void 0:Re["x-component"])==="Preview",Qe={name:q.name,"x-collection-field":"".concat(Ae,".").concat(q.name),"x-component":"CollectionField","x-component-props":Ze?{fieldNames:{label:"preview",value:"id"}}:qe?{size:"small"}:{},"x-read-pretty":ye||((Oe=q.uiSchema)===null||Oe===void 0?void 0:Oe["x-read-pretty"]),"x-decorator":je?F.includes(q.interface)?"QuickEdit":"FormItem":null,"x-decorator-props":{labelStyle:{display:"none"}}};return{type:"item",name:q.name,title:(q==null||($e=q.uiSchema)===null||$e===void 0?void 0:$e.title)||q.name,Component:"TableCollectionFieldInitializer",find:I,remove:B,schemaInitialize:function(ft){var vt;Ve==null||(vt=Ve.schemaInitialize)===null||vt===void 0||vt.call(Ve,ft,{field:q,readPretty:ye,block:"Table",targetCollection:we(q.target)})},field:q,schema:Qe}});return _e=[{type:"item",name:"select_all",title:'{{t("Select all")}}',component:"TableCollectionFieldInitializer",allItems:f()(_e)}].concat(f()(_e)),_e},X=function(){var Pe,Ae=(0,S.useCollection_deprecated)(),Be=Ae.name,Le=Ae.fields,Me=(0,S.useCollectionManager_deprecated)(),Te=Me.getInterface,we=Me.getCollectionFields,Ue=Me.getCollection,je=Le==null||(Pe=Le.filter(function(De){return["o2o","oho","obo","m2o"].includes(De.interface)}))===null||Pe===void 0?void 0:Pe.map(function(De){var ye,_e,q,pe=we(De.target),Re=pe==null||(ye=pe.filter(function(Oe){return(Oe==null?void 0:Oe.interface)&&!["subTable","deletedAt"].includes(Oe==null?void 0:Oe.interface)&&!(Oe!=null&&Oe.treeChildren)}))===null||ye===void 0?void 0:ye.map(function(Oe){var $e,Ve=Te(Oe.interface),Ze={name:"".concat(De.name,".").concat(Oe.name),"x-component":"CollectionField","x-read-pretty":!0,"x-collection-field":"".concat(Be,".").concat(De.name,".").concat(Oe.name),"x-component-props":{}};return{type:"item",name:Oe.name,title:(Oe==null||($e=Oe.uiSchema)===null||$e===void 0?void 0:$e.title)||Oe.name,Component:"TableCollectionFieldInitializer",find:I,remove:B,schemaInitialize:function(Qe){var ke;Ve==null||(ke=Ve.schemaInitialize)===null||ke===void 0||ke.call(Ve,Qe,{field:Oe,readPretty:!0,block:"Table",targetCollection:Ue(De.target)})},field:Oe,schema:Ze}});return{type:"subMenu",name:(_e=De.uiSchema)===null||_e===void 0?void 0:_e.title,title:(q=De.uiSchema)===null||q===void 0?void 0:q.title,children:Re}});return je},J=function(){var Pe=(0,S.useCollection_deprecated)(),Ae=Pe.name,Be=(0,S.useCollectionManager_deprecated)(),Le=Be.getInterface,Me=Be.getInheritCollections,Te=Be.getCollection,we=Be.getParentCollectionFields,Ue=(0,r.useFieldSchema)(),je=Ue["x-component"]==="AssociationField.SubTable",De=(0,r.useForm)(),ye=je?De.readPretty:!0,_e=Me(Ae);return _e==null?void 0:_e.map(function(q){var pe=we(q,Ae),Re=Te(q);return n()({},Re==null?void 0:Re.title,pe==null?void 0:pe.filter(function(Oe){return Oe==null?void 0:Oe.interface}).map(function(Oe){var $e,Ve,Ze,qe,Qe=Le(Oe.interface),ke=(Oe==null?void 0:Oe.target)&&(($e=Te(Oe==null?void 0:Oe.target))===null||$e===void 0?void 0:$e.template)==="file",ft={name:"".concat(Oe.name),"x-component":"CollectionField","x-read-pretty":ye||((Ve=Oe.uiSchema)===null||Ve===void 0?void 0:Ve["x-read-pretty"]),"x-collection-field":"".concat(Ae,".").concat(Oe.name),"x-component-props":ke?{fieldNames:{label:"preview",value:"id"}}:{},"x-decorator":je?F.includes(Oe.interface)||ke?"QuickEdit":"FormItem":null,"x-decorator-props":{labelStyle:{display:"none"}}};return{name:(Oe==null||(Ze=Oe.uiSchema)===null||Ze===void 0?void 0:Ze.title)||Oe.name,type:"item",title:(Oe==null||(qe=Oe.uiSchema)===null||qe===void 0?void 0:qe.title)||Oe.name,Component:"TableCollectionFieldInitializer",find:I,remove:B,schemaInitialize:function(_t){var Nt;Qe==null||(Nt=Qe.schemaInitialize)===null||Nt===void 0||Nt.call(Qe,_t,{field:Oe,readPretty:!0,block:"Table",targetCollection:Te(Oe==null?void 0:Oe.target)})},field:Oe,schema:ft}}))})},C=function(Pe){var Ae,Be=(0,S.useCollection_deprecated)(),Le=Be.name,Me=Be.currentFields,Te=(0,S.useCollectionManager_deprecated)(),we=Te.getInterface,Ue=Te.getCollection,je=(0,r.useForm)(),De=Pe||{},ye=De.readPretty,_e=ye===void 0?je.readPretty:ye,q=De.block,pe=q===void 0?"Form":q,Re=(0,K.XCj)(),Oe=Re.fieldSchema,$e=Oe==null?void 0:Oe["x-action"],Ve=Me==null||(Ae=Me.filter(function(Ze){return(Ze==null?void 0:Ze.interface)&&!["deletedAt"].includes(Ze==null?void 0:Ze.interface)&&!(Ze!=null&&Ze.treeChildren)}))===null||Ae===void 0?void 0:Ae.map(function(Ze){var qe,Qe,ke,ft,vt=we(Ze.interface),_t=Ue(Ze.target),Nt=(Ze==null?void 0:Ze.target)&&((qe=Ue(Ze==null?void 0:Ze.target))===null||qe===void 0?void 0:qe.template)==="file",Kt=_t,ut=Ze==null||(Qe=Ze.uiSchema["x-component-props"])===null||Qe===void 0?void 0:Qe.fieldNames,Rt={type:"string",name:Ze.name,disabled:Ze.disabled,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FormItem","x-component":"CollectionField","x-decorator":"FormItem","x-collection-field":"".concat(Le,".").concat(Ze.name),"x-component-props":Nt?{fieldNames:{label:"preview",value:"id"}}:Kt&&ut?{fieldNames:i()(i()({},ut),{},{label:(_t==null?void 0:_t.titleField)||ut.label})}:{},"x-read-pretty":Ze==null||(ke=Ze.uiSchema)===null||ke===void 0?void 0:ke["x-read-pretty"]},Dt={type:"item",name:Ze.name,disabled:Ze.disabled,title:(Ze==null||(ft=Ze.uiSchema)===null||ft===void 0?void 0:ft.title)||Ze.name,Component:"CollectionFieldInitializer",remove:V,schemaInitialize:function(Bt){var He;vt==null||(He=vt.schemaInitialize)===null||He===void 0||He.call(vt,Bt,{field:Ze,block:pe,readPretty:_e,action:$e,targetCollection:_t})},schema:Rt};return pe=="Kanban"&&(Dt.find=function(dt,Bt,He){var ct=ee(dt,"x-component",pe);return ee(ct,Bt,He)}),Dt});return Ve},k=function(Pe){var Ae,Be=(0,S.useCollection_deprecated)(),Le=Be.name,Me=Be.currentFields,Te=(0,S.useCollectionManager_deprecated)(),we=Te.getInterface,Ue=Te.getCollection,je=(0,r.useForm)(),De=Pe||{},ye=De.readPretty,_e=ye===void 0?je.readPretty:ye,q=De.block,pe=q===void 0?"FilterForm":q,Re=(0,K.XCj)(),Oe=Re.snapshot,$e=Re.fieldSchema,Ve=$e==null?void 0:$e["x-action"];return Me==null||(Ae=Me.filter(function(Ze){var qe;return(Ze==null?void 0:Ze.interface)&&!["deletedAt"].includes(Ze==null?void 0:Ze.interface)&&((qe=we(Ze.interface))===null||qe===void 0?void 0:qe.filterable)}))===null||Ae===void 0?void 0:Ae.map(function(Ze){var qe,Qe,ke=we(Ze.interface),ft=Ue(Ze.target),vt={type:"string",name:Ze.name,required:!1,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FilterFormItem","x-component":"CollectionField","x-decorator":"FormItem","x-collection-field":"".concat(Le,".").concat(Ze.name),"x-component-props":{}};if((0,Z.$f)(Ze)){var _t;vt={type:"string",name:"".concat(Ze.name),required:!1,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FilterFormItem","x-component":"CollectionField","x-decorator":"FormItem","x-collection-field":"".concat(Le,".").concat(Ze.name),"x-component-props":(_t=Ze.uiSchema)===null||_t===void 0?void 0:_t["x-component-props"]}}var Nt={name:(Ze==null||(qe=Ze.uiSchema)===null||qe===void 0?void 0:qe.title)||Ze.name,type:"item",title:(Ze==null||(Qe=Ze.uiSchema)===null||Qe===void 0?void 0:Qe.title)||Ze.name,Component:"CollectionFieldInitializer",remove:V,schemaInitialize:function(ut){var Rt;ke==null||(Rt=ke.schemaInitialize)===null||Rt===void 0||Rt.call(ke,ut,{field:Ze,block:pe,readPretty:_e,action:Ve,targetCollection:ft})},schema:vt};return Nt})},Y=function(Pe){var Ae,Be=(0,S.useCollection_deprecated)(),Le=Be.name,Me=Be.fields,Te=(0,S.useCollectionManager_deprecated)(),we=Te.getInterface,Ue=Te.getCollectionFields,je=Te.getCollection,De=(0,r.useForm)(),ye=Pe||{},_e=ye.readPretty,q=_e===void 0?De.readPretty:_e,pe=ye.block,Re=pe===void 0?"Form":pe,Oe=Re==="Form"?["m2o"]:["o2o","oho","obo","m2o"],$e=Me==null||(Ae=Me.filter(function(Ve){return Oe.includes(Ve.interface)}))===null||Ae===void 0?void 0:Ae.map(function(Ve){var Ze,qe,Qe,ke=Ue(Ve.target),ft=ke==null||(Ze=ke.filter(function(vt){return(vt==null?void 0:vt.interface)&&!["subTable","deletedAt"].includes(vt==null?void 0:vt.interface)&&!vt.treeChildren}))===null||Ze===void 0?void 0:Ze.map(function(vt){var _t,Nt,Kt,ut=we(vt.interface),Rt=(Ve==null?void 0:Ve.target)&&((_t=je(Ve==null?void 0:Ve.target))===null||_t===void 0?void 0:_t.template)==="file",Dt={type:"string",name:"".concat(Ve.name,".").concat(vt.name),"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FormItem","x-component":"CollectionField","x-read-pretty":q,"x-component-props":{"pattern-disable":Re==="Form"&&q,fieldNames:Rt?{label:"preview",value:"id"}:void 0},"x-decorator":"FormItem","x-collection-field":"".concat(Le,".").concat(Ve.name,".").concat(vt.name)};return{name:(vt==null||(Nt=vt.uiSchema)===null||Nt===void 0?void 0:Nt.title)||vt.name,type:"item",title:(vt==null||(Kt=vt.uiSchema)===null||Kt===void 0?void 0:Kt.title)||vt.name,Component:"CollectionFieldInitializer",remove:V,schemaInitialize:function(Bt){var He;ut==null||(He=ut.schemaInitialize)===null||He===void 0||He.call(ut,Bt,{field:vt,block:Re,readPretty:q,targetCollection:je(Ve.target)})},schema:Dt}});return{type:"subMenu",name:(qe=Ve.uiSchema)===null||qe===void 0?void 0:qe.title,title:(Qe=Ve.uiSchema)===null||Qe===void 0?void 0:Qe.title,children:ft}});return $e},H=function he(Pe,Ae,Be,Le,Me){var Te,we;if(Pe.interface==="m2o"){var Ue;if(Me.includes(Pe.target))return null;var je=Le(Pe.target);return{type:"subMenu",name:Ae,title:(Ue=Pe.uiSchema)===null||Ue===void 0?void 0:Ue.title,children:je.filter(function(ye){return(ye==null?void 0:ye.interface)!=="deletedAt"}).map(function(ye){return he(ye,"".concat(Ae,".").concat(ye.name),Be,Le,[].concat(f()(Me),[Pe.target]))}).filter(Boolean)}}if((0,Z.$f)(Pe))return null;var De={type:"string",name:Ae,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FilterFormItem","x-designer-props":{interface:Pe.interface},"x-component":"CollectionField","x-read-pretty":!1,"x-decorator":"FormItem","x-collection-field":"".concat(Be,".").concat(Ae)};return{name:((Te=Pe.uiSchema)===null||Te===void 0?void 0:Te.title)||Pe.name,type:"item",title:((we=Pe.uiSchema)===null||we===void 0?void 0:we.title)||Pe.name,Component:"CollectionFieldInitializer",remove:V,schema:De}},te=function(){var Pe,Ae=(0,S.useCollection_deprecated)(),Be=Ae.name,Le=Ae.fields,Me=(0,S.useCollectionManager_deprecated)(),Te=Me.getCollectionFields,we=["m2o"],Ue=Le==null||(Pe=Le.filter(function(je){return we.includes(je.interface)}))===null||Pe===void 0?void 0:Pe.map(function(je){return H(je,je.name,Be,Te,[])});return Ue},le=function(Pe){var Ae=(0,S.useCollection_deprecated)(),Be=Ae.name,Le=(0,S.useCollectionManager_deprecated)(),Me=Le.getInterface,Te=Le.getInheritCollections,we=Le.getCollection,Ue=Le.getParentCollectionFields,je=Te(Be),De=(0,K.XCj)(),ye=De.snapshot,_e=(0,r.useForm)();return je==null?void 0:je.map(function(q){var pe,Re=Ue(q,Be),Oe=Pe||{},$e=Oe.readPretty,Ve=$e===void 0?_e.readPretty:$e,Ze=Oe.block,qe=Ze===void 0?"Form":Ze,Qe=Oe.component,ke=Qe===void 0?"CollectionField":Qe,ft=we(q);return n()({},ft==null?void 0:ft.title,Re==null||(pe=Re.filter(function(vt){return(vt==null?void 0:vt.interface)&&!["deletedAt"].includes(vt==null?void 0:vt.interface)}))===null||pe===void 0?void 0:pe.map(function(vt){var _t,Nt,Kt,ut,Rt=Me(vt.interface),Dt=we(vt.target),dt={type:"string",name:vt.name,title:(vt==null||(_t=vt.uiSchema)===null||_t===void 0?void 0:_t.title)||vt.name,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FormItem","x-component":ke,"x-decorator":"FormItem","x-collection-field":"".concat(Be,".").concat(vt.name),"x-component-props":{},"x-read-pretty":vt==null||(Nt=vt.uiSchema)===null||Nt===void 0?void 0:Nt["x-read-pretty"]};return{name:(vt==null||(Kt=vt.uiSchema)===null||Kt===void 0?void 0:Kt.title)||vt.name,type:"item",title:(vt==null||(ut=vt.uiSchema)===null||ut===void 0?void 0:ut.title)||vt.name,Component:"CollectionFieldInitializer",remove:V,schemaInitialize:function(He){var ct;Rt==null||(ct=Rt.schemaInitialize)===null||ct===void 0||ct.call(Rt,He,{field:vt,block:qe,readPretty:Ve,targetCollection:Dt})},schema:dt}}))})},ne=function(Pe){var Ae=(0,S.useCollection_deprecated)(),Be=Ae.name,Le=(0,S.useCollectionManager_deprecated)(),Me=Le.getInterface,Te=Le.getInheritCollections,we=Le.getCollection,Ue=Le.getParentCollectionFields,je=Te(Be),De=(0,K.XCj)(),ye=De.snapshot,_e=(0,r.useForm)();return je==null?void 0:je.map(function(q){var pe,Re=Ue(q,Be),Oe=Pe||{},$e=Oe.readPretty,Ve=$e===void 0?_e.readPretty:$e,Ze=Oe.block,qe=Ze===void 0?"Form":Ze,Qe=we(q);return n()({},Qe.title,Re==null||(pe=Re.filter(function(ke){var ft;return(ke==null?void 0:ke.interface)&&!["deletedAt"].includes(ke==null?void 0:ke.interface)&&((ft=Me(ke.interface))===null||ft===void 0?void 0:ft.filterable)}))===null||pe===void 0?void 0:pe.map(function(ke){var ft,vt,_t,Nt,Kt=Me(ke.interface),ut=we(ke.target),Rt={type:"string",name:ke.name,title:(ke==null||(ft=ke.uiSchema)===null||ft===void 0?void 0:ft.title)||ke.name,required:!1,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FilterFormItem","x-component":"CollectionField","x-decorator":"FormItem","x-collection-field":"".concat(Be,".").concat(ke.name),"x-component-props":{},"x-read-pretty":ke==null||(vt=ke.uiSchema)===null||vt===void 0?void 0:vt["x-read-pretty"]};return{name:(ke==null||(_t=ke.uiSchema)===null||_t===void 0?void 0:_t.title)||ke.name,type:"item",title:(ke==null||(Nt=ke.uiSchema)===null||Nt===void 0?void 0:Nt.title)||ke.name,Component:"CollectionFieldInitializer",remove:V,schemaInitialize:function(dt){var Bt;Kt==null||(Bt=Kt.schemaInitialize)===null||Bt===void 0||Bt.call(Kt,dt,{field:ke,block:qe,readPretty:Ve,targetCollection:ut})},schema:Rt}}))})},ie=function(Pe){var Ae,Be=(0,S.useCollection_deprecated)(),Le=Be.name,Me=Be.currentFields,Te=(0,S.useCollectionManager_deprecated)(),we=Te.getInterface,Ue=Te.getCollection,je=(0,r.useForm)(),De=Pe||{},ye=De.readPretty,_e=ye===void 0?je.readPretty:ye,q=De.block,pe=q===void 0?"Form":q,Re=U();return Me==null||(Ae=Me.filter(function(Oe){return(Oe==null?void 0:Oe.interface)&&!["snapshot","deletedAt"].includes(Oe==null?void 0:Oe.interface)&&Oe.type!=="sequence"}))===null||Ae===void 0?void 0:Ae.map(function(Oe){var $e,Ve,Ze,qe=we(Oe.interface),Qe={type:"string",name:Oe.name,title:(Oe==null||($e=Oe.uiSchema)===null||$e===void 0?void 0:$e.title)||Oe.name,"x-toolbar":"FormItemSchemaToolbar","x-settings":"fieldSettings:FormItem","x-component":"AssignedField","x-decorator":"FormItem","x-collection-field":"".concat(Le,".").concat(Oe.name)};return{name:(Oe==null||(Ve=Oe.uiSchema)===null||Ve===void 0?void 0:Ve.title)||Oe.name,type:"item",title:(Oe==null||(Ze=Oe.uiSchema)===null||Ze===void 0?void 0:Ze.title)||Oe.name,Component:"CollectionFieldInitializer",remove:Re,schemaInitialize:function(ft){var vt;qe==null||(vt=qe.schemaInitialize)===null||vt===void 0||vt.call(qe,ft,{field:Oe,block:pe,readPretty:_e,targetCollection:Ue(Oe.target)})},schema:Qe}})},ee=function he(Pe,Ae,Be){return r.Schema.isSchemaInstance(Pe)?Pe.reduceProperties(function(Le,Me){if(Me[Ae]===Be)return Me;if(Me["x-component"]!=="Action.Container"&&Me["x-component"]!=="AssociationField.Viewer"){var Te=he(Me,Ae,Be);if(Te)return Te}return Le}):null},fe=function(Pe,Ae){return Ae(Pe)},de=function he(Pe){return Pe.parent?Pe.parent["x-initializer"]?Pe.parent:he(Pe.parent):null},ue=function(Pe){var Ae=Pe.allItems,Be=Pe.type,Le=(0,r.useFieldSchema)(),Me=(0,K.ngQ)(),Te=Me.remove,we=(0,O.useSchemaInitializer)(),Ue=we.insert,je=Ae.map(function(pe){return ee(Le,Be,pe.schema[Be])}),De=je.filter(function(pe){return pe}).map(function(pe){return pe[Be]}),ye=je.every(function(pe){return!!pe}),_e=function(){var pe=t()(u()().mark(function Re(){var Oe,$e,Ve,Ze,qe;return u()().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:Oe=d()(Ae),ke.prev=1,Oe.s();case 3:if(($e=Oe.n()).done){ke.next=13;break}if(Ze=$e.value,!De.includes(Ze.schema[Be])){ke.next=7;break}return ke.abrupt("continue",11);case 7:return qe=Ze.schema,(Ve=Ze.schemaInitialize)===null||Ve===void 0||Ve.call(Ze,qe),ke.next=11,Ue(qe);case 11:ke.next=3;break;case 13:ke.next=18;break;case 15:ke.prev=15,ke.t0=ke.catch(1),Oe.e(ke.t0);case 18:return ke.prev=18,Oe.f(),ke.finish(18);case 21:case"end":return ke.stop()}},Re,null,[[1,15,18,21]])}));return function(){return pe.apply(this,arguments)}}(),q=function(){var Re=d()(je),Oe;try{for(Re.s();!(Oe=Re.n()).done;){var $e=Oe.value;$e&&Te($e.parent)}}catch(Ve){Re.e(Ve)}finally{Re.f()}};return{isSelectAll:ye,insertAll:_e,removeAll:q}},Se=function(Pe,Ae){var Be,Le,Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ee,Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fe,we=(0,T.z)()||{},Ue=we.removeActiveFieldName,je=(0,O.useFormBlockContext)(),De=je.form,ye=(0,r.useFieldSchema)();if(!((Be=ye)!==null&&Be!==void 0&&Be["x-initializer"])&&((Le=ye)===null||Le===void 0?void 0:Le["x-decorator"])==="FormItem"){var _e=de(ye);_e&&(ye=_e)}var q=(0,K.ngQ)(),pe=q.remove,Re=Me(ye,Ae,Pe);return{schema:Re,exists:!!Re,remove:function(){Ue==null||Ue(Re.name),De==null||De.query(new RegExp("".concat(Re.parent.name,".").concat(Re.name,"$"))).forEach(function($e){var Ve;(Ve=$e.setValue)===null||Ve===void 0||Ve.call($e,void 0)}),Re&&Te(Re,pe)}}},ae=function(Pe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Me=(0,E.$)(),Te=Me.t,we=(0,S.useCollection_deprecated)(),Ue=(0,z.$t)(),je=Ue.getTemplatesByCollection,De=je(we.dataSource,Be||we.name).filter(function(_e){return Pe&&_e.componentName===Pe}).filter(function(_e){return["FormItem","ReadPrettyFormItem"].includes(Pe)||_e.resourceName===Le});if(!De.length)return[];var ye=0;return[{key:"".concat(Be||Pe,"_table_blank"),type:"item",name:we.name,title:Te("Blank block"),item:Ae},{type:"divider"},{key:"".concat(Be||Pe,"_table_subMenu_").concat(ye,"_copy"),type:"subMenu",name:"copy",title:Te("Duplicate template"),children:De.map(function(_e){var q=["FormItem","ReadPrettyFormItem"].includes(_e==null?void 0:_e.componentName)?"".concat(_e==null?void 0:_e.name," ").concat(Te("(Fields only)")):_e==null?void 0:_e.name;return{type:"item",mode:"copy",name:we.name,template:_e,item:Ae,title:q||Te("Untitled")}})},{key:"".concat(Be||Pe,"_table_subMenu_").concat(ye,"_ref"),type:"subMenu",name:"ref",title:Te("Reference template"),children:De.map(function(_e){var q=["FormItem","ReadPrettyFormItem"].includes(_e==null?void 0:_e.componentName)?"".concat(_e==null?void 0:_e.name," ").concat(Te("(Fields only)")):_e==null?void 0:_e.name;return{type:"item",mode:"reference",name:we.name,template:_e,item:Ae,title:q||Te("Untitled")}})}]},G=function(Pe){var Ae,Be=Pe.componentName,Le=Pe.filter,Me=Le===void 0?function(){return!0}:Le,Te=Pe.onlyCurrentDataSource,we=Te===void 0?!1:Te,Ue=Pe.showAssociationFields,je=Pe.filterDataSource,De=Pe.dataBlockInitializerProps,ye=Pe.hideOtherRecordsInPopup,_e=Pe.onClick,q=Pe.filterOtherRecordsCollection,pe=(0,E.$)(),Re=pe.t,Oe=(0,$.fp)(),$e=(0,O.useDataSourceKey)(),Ve=(0,O.useCollection)(),Ze=ge({componentName:Be,filterCollections:Me,showAssociationFields:Ue}),qe=(0,P.useParams)(),Qe=qe.appName,ke=(0,w.oR)(),ft=ke.appGroupList,vt=(Ae=(0,w.lW)(ft,Qe))===null||Ae===void 0?void 0:Ae.id,_t=Oe.getAllCollections({filterCollection:function(Dt){return we&&Dt.dataSource!==$e?!1:Me({collection:Dt})},filterDataSource:je});we&&(_t=_t.filter(function(Rt){return Rt.key===$e}));var Nt=(0,z.$t)(),Kt=Nt.getTemplatesByCollection,ut=(0,D.useMemo)(function(){return _t.map(function(Rt){var Dt=Rt.key,dt=Rt.displayName,Bt=Rt.collections;return{name:Dt,label:dt,type:"subMenu",children:f()(xe({collections:Bt,componentName:Be,searchValue:"",dataSource:Dt,getTemplatesByCollection:Kt,t:Re}).sort(function(He){var ct=y().toArray((Ve==null?void 0:Ve.inherits)||[]);if(He.name===(Ve==null?void 0:Ve.name)||ct.some(function(St){return St===He.name}))return-1}))}})},[_t,Ve==null?void 0:Ve.inherits,Ve==null?void 0:Ve.name,Be,Kt,Re]);return Ue?(0,D.useMemo)(function(){var Rt={name:"currentRecord",collectionName:Ve.name,dataSource:Ve.dataSource,Component:O.DataBlockInitializer,onClick:function(){},componentProps:i()(i()({},De),{},{icon:null,title:Re("Current record"),name:"currentRecord",hideSearch:!1,hideChildrenIfSingleCollection:!0,items:ut})},Dt={name:"associationRecords",Component:O.DataBlockInitializer,onClick:function(){},componentProps:i()(i()({},De),{},{icon:null,title:Re("Associated records"),name:"associationRecords",hideSearch:!1,items:[{name:"associationFields",label:Re("Association fields"),type:"subMenu",children:Ze}]})},dt={ReadPrettyFormItem:"Details"},Bt={name:"otherRecords",Component:O.DataBlockInitializer,onClick:function(){},componentProps:{icon:null,title:Re("Other records"),name:"otherRecords",showAssociationFields:!1,onlyCurrentDataSource:!1,hideChildrenIfSingleCollection:!1,onCreateBlockSchema:De.onCreateBlockSchema,componentType:dt[Be]||Be,filter:function(Mt){var Zt=Mt.collection,Je=Mt.associationField;return q?q(Zt):!0},onClick:function(Mt){_e(i()(i()({},Mt),{},{fromOthersInPopup:!0}))}}},He,ct=Ze.length?Dt:null;if(ut[0].children.length&&Ze.length)ye?He=[Rt,ct]:He=[Rt,ct,Bt];else if(ut[0].children.length)if(ye){if(ut[0].children.length<=1){var St;return ut[0].children=((St=ut[0].children[0])===null||St===void 0?void 0:St.children)||[],ut}He=[Rt]}else He=[Rt,Bt];else ye?He=[ct]:He=[ct,Bt];return[{name:"records",label:Re("Records"),type:"subMenu",children:He.filter(Boolean)}]},[Ze,Ve.dataSource,Ve.name,Be,De,ye,ut,_e,Re]):ut},re=function(Pe){var Ae,Be=Pe.formItemInitializers,Le=Be===void 0?"details:configureFields":Be,Me=Pe.actionInitializers,Te=Me===void 0?"detailsWithPaging:configureActions":Me,we=Pe.collection,Ue=Pe.dataSource,je=Pe.association,De=Pe.template,ye=Pe.settings,_e=Pe.action,q=_e===void 0?"list":_e,pe=m()(Pe,A),Re=je||we,Oe={type:"void","x-acl-action":q==="get"?"".concat(Re,":get"):"".concat(Re,":view"),"x-decorator":"DetailsBlockProvider","x-decorator-props":i()(i()({dataSource:Ue,collection:we,association:je,readPretty:!0,action:q},q==="list"?{params:{pageSize:1}}:{}),pe),"x-toolbar":"BlockSchemaToolbar","x-settings":ye,"x-component":"CardItem",properties:n()({},(0,o.uid)(),{type:"void","x-component":"Details","x-use-component-props":"useDetailsBlockProps","x-read-pretty":!0,properties:i()((Ae={},n()(Ae,(0,o.uid)(),{type:"void","x-initializer":Te,"x-component":"ActionBar","x-component-props":{style:{marginBottom:24}},properties:{}}),n()(Ae,"grid",De||{type:"void","x-component":"Grid","x-initializer":Le,properties:{}}),Ae),q==="list"?{pagination:{type:"void","x-component":"Pagination","x-use-component-props":"useDetailsPaginationProps"}}:{})})};return Oe},oe=function(Pe){var Ae=Pe.formItemInitializers,Be=Ae===void 0?"form:configureFields":Ae,Le=Pe.actionInitializers,Me=Le===void 0?"createForm:configureActions":Le,Te=Pe.collection,we=Pe.resource,Ue=Pe.dataSource,je=Pe.association,De=Pe.action,ye=Pe.actions,_e=ye===void 0?{}:ye,q=Pe["x-designer"],pe=q===void 0?"FormV2.Designer":q,Re=Pe.template,Oe=Pe.title,$e=Pe.settings,Ve=m()(Pe,M),Ze=we||je||Te,qe=i()(i()({type:"void","x-acl-action-props":{skipScopeCheck:!De},"x-acl-action":De?"".concat(Ze,":update"):"".concat(Ze,":create"),"x-decorator":"FormBlockProvider","x-decorator-props":i()(i()({},Ve),{},{action:De,dataSource:Ue,resource:Ze,collection:Te,association:je}),"x-toolbar":"BlockSchemaToolbar"},$e?{"x-settings":$e}:{"x-designer":pe}),{},{"x-component":"CardItem","x-component-props":{title:Oe},properties:n()({},(0,o.uid)(),{type:"void","x-component":"FormV2","x-use-component-props":"useFormBlockProps",properties:n()({grid:Re||{type:"void","x-component":"Grid","x-initializer":Be,properties:{}}},(0,o.uid)(),{type:"void","x-initializer":Me,"x-component":"ActionBar","x-component-props":{layout:"one-column",style:{marginTop:24}},properties:_e})})});return qe},ce=function(Pe){var Ae,Be=Pe.formItemInitializers,Le=Be===void 0?"details:configureFields":Be,Me=Pe.actionInitializers,Te=Me===void 0?"details:configureActions":Me,we=Pe.collection,Ue=Pe.association,je=Pe.dataSource,De=Pe.resource,ye=Pe.template,_e=Pe.settings,q=m()(Pe,b),pe=De||Ue||we,Re={type:"void","x-acl-action":"".concat(pe,":get"),"x-decorator":"FormBlockProvider","x-decorator-props":i()({resource:pe,collection:we,association:Ue,dataSource:je,readPretty:!0,action:"get",useParams:"{{ useParamsFromRecord }}"},q),"x-toolbar":"BlockSchemaToolbar","x-settings":_e,"x-component":"CardItem",properties:n()({},(0,o.uid)(),{type:"void","x-component":"FormV2","x-use-component-props":"useFormBlockProps","x-read-pretty":!0,properties:(Ae={},n()(Ae,(0,o.uid)(),{type:"void","x-initializer":Te,"x-component":"ActionBar","x-component-props":{style:{marginBottom:24}},properties:{}}),n()(Ae,"grid",ye||{type:"void","x-component":"Grid","x-initializer":Le,properties:{}}),Ae)})};return Re},be=function(Pe){var Ae=Pe.collection,Be=Pe.rowKey,Le=Pe.tableActionInitializers,Me=Pe.tableColumnInitializers,Te=Pe.tableActionColumnInitializers,we=Pe.tableBlockProvider,Ue=Pe.disableTemplate,je=Pe.dataSource,De=Pe.blockType,ye=Pe.pageSize,_e=ye===void 0?20:ye,q=m()(Pe,R),pe={type:"void","x-decorator":we!=null?we:"TableBlockProvider","x-acl-action":"".concat(Ae,":list"),"x-decorator-props":i()({collection:Ae,dataSource:je,action:"list",params:{pageSize:_e},rowKey:Be,showIndex:!0,dragSort:!1,disableTemplate:Ue!=null?Ue:!1,blockType:De},q),"x-toolbar":"BlockSchemaToolbar","x-settings":"blockSettings:table","x-component":"CardItem","x-filter-targets":[],properties:n()({actions:{type:"void","x-initializer":Le!=null?Le:"table:configureActions","x-component":"ActionBar","x-component-props":{style:{marginBottom:"var(--nb-spacing)"}},properties:{}}},(0,o.uid)(),{type:"array","x-initializer":Me!=null?Me:"table:configureColumns","x-component":"TableV2","x-use-component-props":"useTableBlockProps","x-component-props":{rowKey:"id",rowSelection:{type:"checkbox"}},properties:{actions:{type:"void",title:'{{ t("Actions") }}',"x-action-column":"actions","x-decorator":"TableV2.Column.ActionBar","x-component":"TableV2.Column","x-designer":"TableV2.ActionColumnDesigner","x-initializer":Te!=null?Te:"table:configureItemActions",properties:n()({},(0,o.uid)(),{type:"void","x-decorator":"DndContext","x-component":"Space","x-component-props":{},properties:{}})}}})};return pe},xe=function(Pe){var Ae,Be=Pe.collections,Le=Pe.dataSource,Me=Pe.componentName,Te=Pe.searchValue,we=Pe.getTemplatesByCollection,Ue=Pe.t;return Be==null||(Ae=Be.filter(function(je){if(je.inherit)return!1;if(["Table","Chart"].includes(Me)&&je.template=="sql")return!0;if(je.filterTargetKey){if(["Kanban","FormItem"].includes(Me)&&(je.template==="view"&&!je.writableView||je.template==="sql"))return!1;if(je.template==="file"&&["Kanban","FormItem","Calendar"].includes(Me))return!1;var De=je.title||je.tableName;return De?De.toUpperCase().includes(Te.toUpperCase())&&!(je!=null&&je.isThrough&&je!==null&&je!==void 0&&je.autoCreate):!1}else return!1}))===null||Ae===void 0?void 0:Ae.map(function(je,De){var ye=je.title||je.tableName||je.label,_e=we(Le,je.name).filter(function(q){return Me&&q.componentName===Me&&(["FormItem","ReadPrettyFormItem"].includes(Me)||!q.resourceName||q.resourceName===je.name)});return _e.length?{key:"".concat(Me,"_table_subMenu_").concat(De),type:"subMenu",name:"".concat(je.name,"_").concat(De),title:ye,dataSource:Le,children:[{type:"item",name:je.name,dataSource:Le,title:Ue("Blank block")},{type:"divider"},{key:"".concat(Me,"_table_subMenu_").concat(De,"_copy"),type:"subMenu",name:"copy",dataSource:Le,title:Ue("Duplicate template"),children:_e.map(function(q){var pe=["FormItem","ReadPrettyFormItem"].includes(q==null?void 0:q.componentName)?"".concat(q==null?void 0:q.name," ").concat(Ue("(Fields only)")):q==null?void 0:q.name;return{type:"item",mode:"copy",name:je.name,template:q,dataSource:Le,title:pe||Ue("Untitled")}})},{key:"".concat(Me,"_table_subMenu_").concat(De,"_ref"),type:"subMenu",name:"ref",dataSource:Le,title:Ue("Reference template"),children:_e.map(function(q){var pe=["FormItem","ReadPrettyFormItem"].includes(q==null?void 0:q.componentName)?"".concat(q==null?void 0:q.name," ").concat(Ue("(Fields only)")):q==null?void 0:q.name;return{type:"item",mode:"reference",name:je.name,template:q,dataSource:Le,title:pe||Ue("Untitled")}})}]}:{type:"item",name:je.name,title:ye,dataSource:Le}})};function ge(he){var Pe=he.componentName,Ae=he.filterCollections,Be=he.showAssociationFields,Le=(0,r.useFieldSchema)(),Me=(0,S.useCollectionManager_deprecated)(),Te=Me.getCollectionFields,we=(0,S.useCollection_deprecated)(),Ue=(0,O.useCollectionManager)(),je=(0,O.useDataSourceKey)(),De=(0,z.$t)(),ye=De.getTemplatesByCollection,_e=(0,E.$)(),q=_e.t,pe=(0,K.eJW)();return(0,D.useMemo)(function(){if(!Be)return[];var Re=[];if(Le["x-initializer"])Re=we.fields;else{var Oe=de(Le.parent);Oe&&(Re=Te(Oe))}return Re.filter(function($e){return["linkTo","subTable","o2m","m2m","obo","oho","o2o","m2o"].includes($e.interface)}).filter(function($e){return Ae({associationField:$e})}).map(function($e,Ve){var Ze=pe($e.uiSchema.title||$e.name),qe=ye(je,$e.target).filter(function(Qe){return Pe==="ReadPrettyFormItem"?["hasOne","belongsTo"].includes($e.type)?Qe.componentName==="ReadPrettyFormItem":Qe.componentName==="Details":Pe&&Qe.componentName===Pe&&(["FormItem","ReadPrettyFormItem"].includes(Pe)||!Qe.resourceName||Qe.resourceName==="".concat($e.collectionName,".").concat($e.name))});return qe.length?{key:"associationFiled_".concat(Pe,"_table_subMenu_").concat(Ve),type:"subMenu",name:"".concat($e.target,"_").concat(Ve),title:Ze,dataSource:je,children:[{type:"item",name:"".concat($e.collectionName,".").concat($e.name),collectionName:$e.target,dataSource:je,title:q("Blank block"),associationField:$e},{type:"divider"},{key:"associationFiled_".concat(Pe,"_table_subMenu_").concat(Ve,"_copy"),type:"subMenu",name:"copy",dataSource:je,title:q("Duplicate template"),children:qe.map(function(Qe){var ke=["FormItem","ReadPrettyFormItem"].includes(Qe==null?void 0:Qe.componentName)?"".concat(Qe==null?void 0:Qe.name," ").concat(q("(Fields only)")):Qe==null?void 0:Qe.name;return{type:"item",mode:"copy",name:"".concat($e.collectionName,".").concat($e.name),collectionName:$e.target,template:Qe,dataSource:je,title:ke||q("Untitled"),associationField:$e}})},{key:"associationFiled_".concat(Pe,"_table_subMenu_").concat(Ve,"_ref"),type:"subMenu",name:"ref",dataSource:je,title:q("Reference template"),children:qe.map(function(Qe){var ke=["FormItem","ReadPrettyFormItem"].includes(Qe==null?void 0:Qe.componentName)?"".concat(Qe==null?void 0:Qe.name," ").concat(q("(Fields only)")):Qe==null?void 0:Qe.name;return{type:"item",mode:"reference",name:"".concat($e.collectionName,".").concat($e.name),collectionName:$e.target,template:Qe,dataSource:je,title:ke||q("Untitled"),associationField:$e}})}]}:{type:"item",name:"".concat($e.collectionName,".").concat($e.name),collectionName:$e.target,title:Ze,dataSource:je,associationField:$e}})},[we.fields,pe,Pe,je,Le,Ae,Te,ye,Be,q])}},90810:function(se,j,e){"use strict";e.d(j,{Mj:function(){return P},EU:function(){return i},HA:function(){return a}});var v=e(94350),m=e(34041),x=e(67294),u=e(26793),p=e(74614),d=e(98427),h=e(14984),t=e(81560),c=e(85893),i=function(O){var T,S,$,Z,K=O.openMode,z=K===void 0?!0:K,w=O.openSize,A=w===void 0?!0:w,M=(0,v.useFieldSchema)(),b=(0,v.useField)(),R=(0,u.$)(),L=R.t,N=(0,d.ngQ)(),B=N.dn,V=(0,h.a)(),U=V.isPopupVisibleControlledByURL,I=(M==null||(T=M["x-component-props"])===null||T===void 0?void 0:T.openMode)||"drawer",F=(0,x.useMemo)(function(){return U()?[{label:L("Drawer"),value:"drawer"},{label:L("Dialog"),value:"modal"},{label:L("Page"),value:"page"}]:[{label:L("Drawer"),value:"drawer"},{label:L("Dialog"),value:"modal"}]},[L,U()]);return(0,c.jsxs)(c.Fragment,{children:[z?(0,c.jsx)(p.iW,{closeInitializerMenuWhenClick:!1,title:L("Open mode"),options:F,value:I,onChange:function(X){b.componentProps.openMode=X;var J={"x-uid":M["x-uid"]};J["x-component-props"]=M["x-component-props"]||{},J["x-component-props"].openMode=X,M["x-component-props"].openMode=X,Reflect.deleteProperty(M["x-component-props"],"openSize"),B.emit("patch",{schema:J}),B.refresh()}}):null,A&&["modal","drawer"].includes(I)?(0,c.jsx)(p.lV,{closeInitializerMenuWhenClick:!1,children:(0,c.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[L("Popup size"),(0,c.jsx)(m.default,{"data-testid":"antd-select",bordered:!1,options:[{label:L("Small"),value:"small"},{label:L("Middle"),value:"middle"},{label:L("Large"),value:"large"}],value:(S=M==null||($=M["x-component-props"])===null||$===void 0?void 0:$.openSize)!==null&&S!==void 0?S:(M==null||(Z=M["x-component-props"])===null||Z===void 0?void 0:Z.openMode)=="modal"?"large":"middle",onChange:function(X){b.componentProps.openSize=X;var J={"x-uid":M["x-uid"]};J["x-component-props"]=M["x-component-props"]||{},J["x-component-props"].openSize=X,M["x-component-props"].openSize=X,B.emit("patch",{schema:J}),B.refresh()},style:{textAlign:"right",minWidth:100}})]})}):null]})},a=function(O){var T,S,$,Z,K=O.openMode,z=K===void 0?!0:K,w=O.openSize,A=w===void 0?!0:w,M=O.modeOptions,b=(0,v.useFieldSchema)(),R=(0,v.useField)(),L=(0,u.$)(),N=L.t,B=(0,d.ngQ)(),V=B.dn,U=(b==null||(T=b["x-component-props"])===null||T===void 0?void 0:T.openMode)||"drawer",I=(0,x.useMemo)(function(){return M||[{label:N("Drawer"),value:"drawer"},{label:N("Dialog"),value:"modal"},{label:N("Page"),value:"page"}]},[M,N]);return(0,c.jsxs)(c.Fragment,{children:[z?(0,c.jsx)(t.Qf,{title:N("Open mode"),options:I,value:U,onChange:function(W){R.componentProps.openMode=W;var X={"x-uid":b["x-uid"]};X["x-component-props"]=b["x-component-props"]||{},X["x-component-props"].openMode=W,b["x-component-props"].openMode=W,Reflect.deleteProperty(b["x-component-props"],"openSize"),V.emit("patch",{schema:X}),V.refresh()}}):null,A&&["modal","drawer"].includes(U)?(0,c.jsx)(t.Qf,{title:N("Popup size"),options:[{label:N("Small"),value:"small"},{label:N("Middle"),value:"middle"},{label:N("Large"),value:"large"}],value:(S=b==null||($=b["x-component-props"])===null||$===void 0?void 0:$.openSize)!==null&&S!==void 0?S:(b==null||(Z=b["x-component-props"])===null||Z===void 0?void 0:Z.openMode)=="modal"?"large":"middle",onChange:function(W){R.componentProps.openSize=W;var X={"x-uid":b["x-uid"]};X["x-component-props"]=b["x-component-props"]||{},X["x-component-props"].openSize=W,b["x-component-props"].openSize=W,V.emit("patch",{schema:X}),V.refresh()}}):null]})},f=e(9783),l=e.n(f),n=e(97857),r=e.n(n),o=e(96486),g=e.n(o),y=e(6145),D=e(22229),P=(0,v.observer)(function(E){var O,T,S,$,Z=E.required,K=Z===void 0?!0:Z,z=(0,y.useCollectionManager_deprecated)(),w=z.getCollectionJoinField,A=(0,y.useCollection_deprecated)(),M=A.getField,b=(0,v.useField)(),R=(0,v.useFieldSchema)(),L=(0,u.$)(),N=L.t,B=(0,d.ngQ)(),V=B.dn,U=B.refresh,I=M(R.name)||w(R["x-collection-field"]);return(0,c.jsxs)(c.Fragment,{children:[I&&(0,c.jsx)(t.B0,{title:N("Edit field title"),schema:{type:"object",title:N("Edit field title"),properties:{title:{title:N("Field title"),default:b==null?void 0:b.title,description:"".concat(N("Original field title: ")).concat(I==null||(O=I.uiSchema)===null||O===void 0?void 0:O.title),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(W){var X=W.title;X&&(b.title=X,R.title=X,V.emit("patch",{schema:{"x-uid":R["x-uid"],title:R.title}})),V.refresh()}},"edit-field-title"),(0,c.jsx)(t.hj,{checked:(T=(S=R["x-decorator-props"])===null||S===void 0?void 0:S.showTitle)!==null&&T!==void 0?T:!0,title:N("Display title"),onChange:function(W){R["x-decorator-props"]=R["x-decorator-props"]||{},R["x-decorator-props"].showTitle=W,b.decoratorProps.showTitle=W,V.emit("patch",{schema:{"x-uid":R["x-uid"],"x-decorator-props":r()(r()({},R["x-decorator-props"]),{},{showTitle:W})}}),V.refresh()}}),!b.readPretty&&(0,c.jsx)(t.B0,{title:N("Edit description"),schema:{type:"object",title:N("Edit description"),properties:{description:{default:b==null?void 0:b.description,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(W){var X=W.description;b.description=X,R.description=X,V.emit("patch",{schema:{"x-uid":R["x-uid"],description:R.description}}),V.refresh()}},"edit-description"),b.readPretty&&(0,c.jsx)(t.B0,{title:N("Edit tooltip"),schema:{type:"object",title:N("Edit description"),properties:{tooltip:{default:R==null||($=R["x-decorator-props"])===null||$===void 0?void 0:$.tooltip,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(W){var X=W.tooltip;b.decoratorProps.tooltip=X,R["x-decorator-props"]=R["x-decorator-props"]||{},R["x-decorator-props"].tooltip=X,V.emit("patch",{schema:{"x-uid":R["x-uid"],"x-decorator-props":R["x-decorator-props"]}}),V.refresh()}},"edit-tooltip"),!b.readPretty&&R["x-component"]!=="FormField"&&K&&(0,c.jsx)(t.hj,{title:N("Required"),checked:R.required,onChange:function(W){var X=l()({},"x-uid",R["x-uid"]);b.required=W,g().set(b,"initStateOfLinkageRules.required",(0,D.TF)(!0,W)),R.required=W,X.required=W,V.emit("patch",{schema:X}),U()}},"required")]})},{displayName:"GeneralSchemaItems"})},32268:function(se,j,e){"use strict";e.d(j,{$y:function(){return ge},ss:function(){return xe}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(13769),d=e.n(p),h=e(94350),t=e(85667),c=e(20863),i=e(96486),a=e.n(i),f=e(67294),l=e(26793),n=e(6145),r=e(87714),o=e(98427),g=e(82041),y=e(57134),D=e(59637),P=e(85893),E=f.forwardRef(function(Ae,Be){var Le,Me=y.ArrayBase.useArray(),Te=y.ArrayBase.useIndex(Ae.index),we=(0,l.$)(),Ue=we.t;return(0,P.jsx)(D.Z,u()(u()({},Ae),{},{checkedChildren:Ue("Default"),unCheckedChildren:Ue("Default"),checked:Me==null||(Le=Me.field)===null||Le===void 0?void 0:Le.value[Te].default,style:{transition:"all 0.25s ease-in-out",color:"rgba(0, 0, 0, 0.8)",fontSize:16,marginLeft:6,marginBottom:3},onChange:function(De,ye){var _e;ye.stopPropagation(),Me.field.value.splice(Te,1,u()(u()({},Me==null||(_e=Me.field)===null||_e===void 0?void 0:_e.value[Te]),{},{default:De})),Me.field.value.forEach(function(q,pe){if(pe!==Te){var Re;Me.field.value.splice(pe,1,u()(u()({},Me==null||(Re=Me.field)===null||Re===void 0?void 0:Re.value[pe]),{},{default:!1}))}})},onClick:function(De,ye){ye.stopPropagation()}}))});E.displayName="AsDefaultTemplate";var O=e(5574),T=e.n(O),S=e(87360),$=e(84327),Z=e(69677),K=e(4393),z=e(32983),w=e(69234),A=e(40411),M=e(94184),b=e.n(M),R=e(59632),L=(0,R.kc)(function(){return{arrayCollapseItem:{marginBottom:"10px"}}}),N=(0,h.observer)(function(Ae){var Be,Le=y.ArrayBase.useArray(),Me=y.ArrayBase.useIndex(Ae.index),Te=(0,l.$)(),we=Te.t,Ue=Le==null||(Be=Le.field)===null||Be===void 0?void 0:Be.value[Me];return(0,f.useEffect)(function(){if(Ue.key||(Ue.key=(0,$.uid)()),!Ue.title){var je;Ue.title="".concat(we("Template name")," ").concat(Le==null||(je=Le.field)===null||je===void 0||(je=je.value)===null||je===void 0?void 0:je.length)}},[]),(0,P.jsx)(Z.Z.TextArea,{value:Ue.title,placeholder:we("Template name"),onChange:function(De){De.stopPropagation(),Ue.title=De.target.value},onBlur:function(De){De.stopPropagation(),Ue.title=De.target.value},autoSize:!0,style:{width:"70%",border:"none"},onClick:function(De){De.stopPropagation()}})}),B=function(Be){var Le,Me;return((Le=Be["x-component"])===null||Le===void 0||(Me=Le.indexOf)===null||Me===void 0?void 0:Me.call(Le,"Addition"))>-1},V=function(Be){var Le,Me;return((Le=Be["x-component"])===null||Le===void 0||(Me=Le.indexOf)===null||Me===void 0?void 0:Me.call(Le,"Index"))>-1},U=function(Be){var Le,Me;return((Le=Be["x-component"])===null||Le===void 0||(Me=Le.indexOf)===null||Me===void 0?void 0:Me.call(Le,"Remove"))>-1},I=function(Be){var Le,Me;return((Le=Be["x-component"])===null||Le===void 0||(Me=Le.indexOf)===null||Me===void 0?void 0:Me.call(Le,"MoveUp"))>-1},F=function(Be){var Le,Me;return((Le=Be["x-component"])===null||Le===void 0||(Me=Le.indexOf)===null||Me===void 0?void 0:Me.call(Le,"MoveDown"))>-1},W=function(Be){var Le,Me;return((Le=Be["x-component"])===null||Le===void 0||(Me=Le.indexOf)===null||Me===void 0?void 0:Me.call(Le,"Copy"))>-1},X=function(Be){return B(Be)||U(Be)||F(Be)||I(Be)||W(Be)},J=function(Be){return Array.from({length:Be}).map(function(Le,Me){return Me})},C=function(Be,Le){return Be<Le?J(Be):J(Le)},k=function(Be,Le){return Be.length<=Le?Be.concat(Le):Be.reduce(function(Me,Te){return Te<Le?Me.concat(Te):Te===Le?Me.concat([Te,Te+1]):Me.concat(Te+1)},[])},Y=(0,h.observer)(function(Ae){var Be=L(),Le=Be.styles,Me=(0,h.useField)(),Te=Array.isArray(Me.value)?Me.value:[],we=(0,f.useState)(C(Te.length,Ae.defaultOpenPanelCount)),Ue=T()(we,2),je=Ue[0],De=Ue[1],ye=(0,h.useFieldSchema)();if((0,f.useEffect)(function(){!Me.modified&&Te.length&&De(C(Te.length,Ae.defaultOpenPanelCount))},[Te.length,Me]),!ye)throw new Error("can not found schema object");var _e=function(){return ye.reduceProperties(function(Oe,$e,Ve){return B($e)?(0,P.jsx)(h.RecursionField,{schema:$e,name:Ve}):Oe},null)},q=function(){if(!Te.length)return(0,P.jsx)(K.Z,{className:b()("".concat(Le.arrayCollapseItem),Ae.className),children:(0,P.jsx)(z.Z,{})})},pe=function(){return(0,P.jsx)(w.Z,u()(u()({},Ae),{},{activeKey:je,onChange:function($e){return De((0,$.toArr)($e).map(Number))},className:b()("".concat(Le.arrayCollapseItem),Ae.className),children:Te.map(function(Oe,$e){var Ve=Array.isArray(ye.items)?ye.items[$e]||ye.items[0]:ye.items,Ze=Me.query("".concat(Me.address,".").concat($e)).get("componentProps"),qe=Ve["x-component-props"],Qe=function(){var _t="".concat((Ze==null?void 0:Ze.header)||qe.header||Me.title),Nt=Me.address.concat($e),Kt=Me.form.queryFeedbacks({type:"error",address:"".concat(Nt,".**")});return(0,P.jsxs)(y.ArrayBase.Item,{index:$e,record:function(){var Rt;return(Rt=Me.value)===null||Rt===void 0?void 0:Rt[$e]},children:[(0,P.jsx)(h.RecursionField,{schema:Ve,name:$e,filterProperties:function(Rt){return!!V(Rt)},onlyRenderProperties:!0}),Kt.length?(0,P.jsx)(A.Z,{size:"small",className:"errors-badge",count:Kt.length,children:_t}):(0,P.jsx)(N,{item:Oe.initialValue||Oe,index:$e})]})},ke=(0,P.jsxs)(y.ArrayBase.Item,{index:$e,record:Oe,children:[(0,P.jsx)(h.RecursionField,{schema:Ve,name:$e,filterProperties:function(_t){return!!X(_t)},onlyRenderProperties:!0}),Ze==null?void 0:Ze.extra]}),ft=(0,P.jsx)(h.RecursionField,{schema:Ve,name:$e,filterProperties:function(_t){return!(V(_t)||X(_t))}});return(0,f.createElement)(w.Z.Panel,u()(u()(u()({},qe),Ze),{},{forceRender:!0,key:$e,header:Qe(),extra:ke}),(0,P.jsx)(y.ArrayBase.Item,{index:$e,record:Oe,children:ft},$e))})}))};return(0,P.jsxs)(y.ArrayBase,{onAdd:function(Oe){De(k(je,Oe))},onRemove:function(){Me.initialValue=Me.value},children:[q(),pe(),_e()]})},{displayName:"ArrayCollapse"}),H=function(Be){var Le=Be.children;return(0,P.jsx)(f.Fragment,{children:Le})};H.displayName="CollapsePanel",Y.defaultProps={defaultOpenPanelCount:5},Y.displayName="ArrayCollapse",Y.CollapsePanel=H,y.ArrayBase.mixin(Y);var te=null;Y.Copy=f.forwardRef(function(Ae,Be){var Le,Me=(0,h.useField)(),Te=y.ArrayBase.useArray(),we=y.ArrayBase.useIndex(Ae.index);return!Te||((Le=Te.field)===null||Le===void 0?void 0:Le.pattern)!=="editable"?null:(0,P.jsx)(S.Z,u()(u()({},Ae),{},{style:{transition:"all 0.25s ease-in-out",color:"rgba(0, 0, 0, 0.8)",fontSize:"16px",marginLeft:6},ref:Be,onClick:function(je){var De,ye;if(!(Me!=null&&Me.disabled)&&(je.stopPropagation(),!((De=Te.props)!==null&&De!==void 0&&De.disabled))){var _e=(0,i.clone)(Te==null||(ye=Te.field)===null||ye===void 0?void 0:ye.value[we]);Te.field.push(_e),Ae.onClick&&Ae.onClick(je)}}}))}),Y.Copy.displayName="ArrayCollapse.Copy";var le=e(70173),ne=e(34041),ie=e(81560),ee=e(79531),fe=e(43319),de=["title","options","value","onChange"],ue=(0,h.observer)(function(){var Ae=(0,n.useCollectionManager_deprecated)(),Be=Ae.getCollectionFields,Le=Ae.getCollectionField,Me=Ae.getCollection,Te=Ae.isTitleField,we=(0,h.useField)(),Ue=(0,h.useFieldSchema)(),je=(0,l.$)(),De=je.t,ye=(0,o.ngQ)(),_e=ye.dn,q=(0,o.eJW)(),pe=Ue["x-designer-props"],Re=pe.formSchema,Oe=pe.data,$e=(0,ee.bz)(),Ve=$e.form,Ze=we.componentProps.service.resource,qe=Me(Ze),Qe=Be(Ze);if(!Oe)return(0,le.error)("data is required"),null;var ke=function(){var ut;return((ut=Oe.config)===null||ut===void 0||(ut=ut[Ze])===null||ut===void 0?void 0:ut.filter)||{}},ft=function(ut){try{a().set(Oe,"config.".concat(Ze,".filter"),(0,o.WmO)(ut))}catch(Rt){(0,le.error)(Rt)}},vt=function(){var ut;return((ut=Oe.config)===null||ut===void 0||(ut=ut[Ze])===null||ut===void 0?void 0:ut.titleField)||(qe==null?void 0:qe.titleField)||"id"},_t=function(ut){try{a().set(Oe,"config.".concat(Ze,".titleField"),ut)}catch(Rt){(0,le.error)(Rt)}},Nt=Qe.filter(function(Kt){return Te(Kt)}).map(function(Kt){var ut;return{value:Kt==null?void 0:Kt.name,label:q(Kt==null||(ut=Kt.uiSchema)===null||ut===void 0?void 0:ut.title)||(Kt==null?void 0:Kt.name)}});return(0,P.jsxs)(ie.aN,{draggable:!1,children:[(0,P.jsx)(fe.H,{collectionName:Ze,defaultFilter:ke(),form:Ve,onSubmit:function(ut){var Rt,Dt=ut.filter;ft(Dt);try{we.query("fieldReaction.items.*.layout.dataId").forEach(function(dt){dt.componentProps.service.resource===Ze&&(dt.componentProps.service.params={filter:a().isEmpty(Dt)?{}:(0,o.WmO)((0,r.EO)([Dt,Se(we.value)],"$or"))})})}catch(dt){(0,le.error)(dt)}Re["x-data-templates"]=Oe,_e.emit("patch",{schema:(Rt={},m()(Rt,"x-uid",Re["x-uid"]),m()(Rt,"x-data-templates",Oe),Rt)}),_e.refresh()}}),(0,P.jsx)(ae,{title:De("Title field"),options:Nt,value:vt(),onChange:function(ut){var Rt;_t(ut);try{we.query("fieldReaction.items.*.layout.dataId").forEach(function(dt){dt.componentProps.service.resource===Ze&&(dt.componentProps.fieldNames.label=ut,dt.componentProps.targetField=Le("".concat(Ze,".").concat(ut||(qe==null?void 0:qe.titleField)||"id")))})}catch(dt){(0,le.captureException)(dt)}Re["x-data-templates"]=Oe;var Dt=(Rt={},m()(Rt,"x-uid",Re["x-uid"]),m()(Rt,"x-data-templates",Oe),Rt);_e.emit("patch",{schema:Dt}),_e.refresh()}},"title-field")]})},{displayName:"Designer"});function Se(Ae){return Ae?{id:{$eq:Ae}}:null}function ae(Ae){var Be=Ae.title,Le=Ae.options,Me=Ae.value,Te=Ae.onChange,we=d()(Ae,de);return(0,P.jsx)(ie.r2,u()(u()({title:Be},we),{},{children:(0,P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Be,(0,P.jsx)(ne.default,u()({popupMatchSelectWidth:!1,bordered:!1,value:Me,onChange:Te,options:Le,style:{textAlign:"right",minWidth:100}},we))]})}))}var G=e(77517),re=e(94004),oe=e(90635),ce=["dataId"],be=(0,h.connect)(c.Z,(0,h.mapProps)({value:"checkedKeys",dataSource:"treeData"}));be.displayName="Tree";var xe=function(Be,Le){return Be==null?void 0:Be.map(function(Me){var Te=Me.dataId,we=d()(Me,ce),Ue=u()({},we);if(Te){var je;Ue.dataScope={$and:[{id:{$eq:Te}}]},Ue.titleField=(Ue==null?void 0:Ue.titleField)||(Le==null||(je=Le[Me.collection])===null||je===void 0?void 0:je.titleField)||"id"}return Ue})},ge=(0,oe.t)((0,h.observer)(function(Ae){var Be=(0,o.wNf)(Ae),Le=Be.formSchema,Me=Be.designerCtx,Te=Be.defaultValues,we=Be.collectionName,Ue=(0,G.I)(we),je=Ue.collectionList,De=Ue.getEnableFieldTree,ye=Ue.getOnLoadData,_e=Ue.getOnCheck,q=Ue.getScopeDataSource,pe=Ue.useTitleFieldDataSource,Re=(0,n.useCollectionManager_deprecated)(),Oe=Re.getCollection,$e=Re.getCollectionField,Ve=(0,l.$)(),Ze=Ve.t,qe=(0,f.useMemo)(function(){return(0,t.observable)(u()(u()({},Te),{},{items:xe((Te==null?void 0:Te.items)||[],Te==null?void 0:Te.config)})||{items:[],display:!0,config:m()({},we,{titleField:"",filter:{}})})},[]),Qe=function(ut){var Rt,Dt=Oe(ut);return $e("".concat(ut,".").concat((qe==null||(Rt=qe.config[ut])===null||Rt===void 0?void 0:Rt.titleField)||(Dt==null?void 0:Dt.titleField)||"id"))},ke=function(ut){var Rt,Dt=Oe(ut);return{label:he(((Rt=qe.config)===null||Rt===void 0||(Rt=Rt[ut])===null||Rt===void 0?void 0:Rt.titleField)||(Dt==null?void 0:Dt.titleField)||"id"),value:"id"}},ft=function(ut,Rt){var Dt,dt=(Dt=qe.config)===null||Dt===void 0||(Dt=Dt[ut])===null||Dt===void 0?void 0:Dt.filter;return a().isEmpty(dt)?{}:(0,o.WmO)((0,r.EO)([dt,Se(Rt)],"$or"))},vt=(0,f.useMemo)(function(){return{ArrayCollapse:Y}},[]),_t=(0,f.useMemo)(function(){return{getEnableFieldTree:De,getTargetField:Qe,getFieldNames:ke,getFilter:ft,getResource:Pe,getOnLoadData:ye,getOnCheck:_e,collectionName:we,getScopeDataSource:q,useTitleFieldDataSource:pe}},[]),Nt=(0,f.useMemo)(function(){return{type:"object",properties:{items:{type:"array",default:qe==null?void 0:qe.items,"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{extra:[(0,P.jsx)(E,{},"0")]},properties:{layout:{type:"void","x-component":"FormLayout","x-component-props":{layout:"vertical"},properties:{collection:{type:"string",title:'{{ t("Collection") }}',required:!0,description:Ze("If collection inherits, choose inherited collections as templates"),default:"{{ collectionName }}","x-display":je.length>1?"visible":"hidden","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:je}},dataScope:{type:"object",title:'{{ t("Filter out a single piece or a group of records as a template") }}',"x-decorator":"FormItem","x-component":"Filter","x-component-props":{dynamicComponent:g.qj},"x-decorator-props":{style:{marginBottom:"0px"}},required:!0,"x-reactions":[{dependencies:[".collection"],fulfill:{state:{disabled:"{{ !$deps[0] }}"},schema:{enum:"{{ getScopeDataSource($deps[0]) }}"}}}]},titleField:{type:"string","x-decorator":"FormItem",title:'{{ t("Title field") }}',"x-decorator-props":{tooltip:'{{t("The title field is used to identify the template record")}}'},"x-component":"Select",required:!0,"x-reactions":"{{useTitleFieldDataSource}}"},syncFromForm:{type:"void",title:'{{ t("Sync from form fields") }}',"x-component":"Action.Link","x-component-props":{type:"primary",style:{float:"right",position:"relative",zIndex:1200},useAction:function(){return(0,re.F)(Le)}}},fields:{type:"array",title:'{{ t("Template fields") }}',"x-decorator-props":{tooltip:'{{t("The selected fields will automatically populate the form")}}'},required:!0,description:Ze("Only the selected fields will be used as the initialization data for the form"),"x-decorator":"FormItem","x-component":be,"x-component-props":{treeData:[],checkable:!0,checkStrictly:!0,selectable:!1,loadData:"{{ getOnLoadData($self) }}",onCheck:"{{ getOnCheck($self) }}",rootStyle:{padding:"8px 0",border:"1px solid #d9d9d9",borderRadius:"2px",maxHeight:"30vh",overflow:"auto",margin:"2px 0"}},"x-reactions":[{dependencies:[".collection"],fulfill:{state:{disabled:"{{ !$deps[0] }}",componentProps:{treeData:"{{ getEnableFieldTree($deps[0], $self) }}"}}}}]}}},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add template") }}',"x-component":"ArrayCollapse.Addition"}}},display:{type:"boolean","x-content":'{{ t("Enable form data template") }}',default:(qe==null?void 0:qe.display)!==!1,"x-decorator":"FormItem","x-component":"Checkbox"}}}},[]);return(0,P.jsx)(o.DDd.Provider,{value:u()(u()({},Me),{},{designable:!0}),children:(0,P.jsx)(o.n6,{components:vt,scope:_t,schema:Nt})})}),{displayName:"FormDataTemplates"});function he(Ae){return Ae||"label"}function Pe(Ae,Be){return Ae!==Be.componentProps.service.resource&&(Be.value=void 0),Ae}},45381:function(se,j,e){"use strict";e.d(j,{O:function(){return u}});var v=e(66309),m=e(67294),x=e(85893),u=function(d){var h=d.tag,t=d.type,c={reference:"Reference",duplicate:"Duplicate",preloading:"Preloading"},i={reference:"blue",duplicate:"green",preloading:"cyan"};return(0,x.jsx)("div",{children:(0,x.jsxs)(v.Z,{color:i[t],children:[(0,x.jsx)("span",{children:h})," (",c[t],")"]})})}},77517:function(se,j,e){"use strict";e.d(j,{I:function(){return n},o:function(){return l}});var v=e(19632),m=e.n(v),x=e(97857),u=e.n(x),p=e(5574),d=e.n(p),h=e(94350),t=e(67294),c=e(6145),i=e(98427),a=e(45381),f=e(70173),l=["sort","createdById","createdBy","createdAt","updatedById","updatedBy","updatedAt","password","sequence"],n=function(y){var D=(0,c.useCollectionManager_deprecated)(),P=D.getCollectionFields,E=D.getAllCollectionsInheritChain,O=D.getCollection,T=D.getInterface,S=(0,t.useState)(w),$=d()(S,1),Z=$[0],K=(0,i.eJW)(),z=(0,h.useField)();function w(){var U=E(y)||[];return U.map(function(I){var F;return{label:(F=O(I))===null||F===void 0?void 0:F.title,value:I}})}var A=function U(I,F){var W=F.exclude,X=W===void 0?[]:W,J=F.depth,C=J===void 0?0:J,k=F.maxDepth,Y=F.prefix,H=Y===void 0?"":Y;return C>k?[]:P(I).map(function(te){var le;if(!X.includes(te.name)&&te.interface&&!["sort","password","sequence"].includes(te.type)){var ne={type:"duplicate",tag:K((le=te.uiSchema)===null||le===void 0?void 0:le.title)||te.name},ie=u()(u()({},ne),{},{role:"button",title:t.createElement(a.O,ne),key:H?"".concat(H,".").concat(te.name):te.name,isLeaf:!0,field:te});return["belongsTo","belongsToMany"].includes(te.type)?(ne.type="reference",ie.type="reference",ie.title=t.createElement(a.O,u()(u()({},ne),{},{type:"reference"})),ie.isLeaf=!1,ie.children=M(te.target,{depth:C+1,maxDepth:k,prefix:ie.key,exclude:l})):["hasOne","hasMany"].includes(te.type)&&(ie.isLeaf=!1,ie.children=U(te.target,{depth:C+1,maxDepth:k,prefix:ie.key,exclude:["id"].concat(l)})),ie}}).filter(Boolean)},M=function U(I,F){var W=F.prefix,X=F.maxDepth,J=F.depth,C=J===void 0?0:J,k=F.exclude,Y=k===void 0?[]:k;return C>X?[]:P(I).map(function(H){var te;if(!(!H.target||!H.interface)&&!Y.includes(H.name)){var le={type:"preloading",tag:K((te=H.uiSchema)===null||te===void 0?void 0:te.title)||H.name},ne=W?"".concat(W,".").concat(H.name):H.name;return{role:"button",title:t.createElement(a.O,le),key:ne,isLeaf:!1,field:H,children:U(H.target,{prefix:ne,depth:C+1,maxDepth:X,exclude:Y})}}}).filter(Boolean)},b=function U(I){return I.map(function(F){return u()(u()({},F),{},{role:"button",title:t.createElement(a.O,u()(u()({},F),{},{type:F.type})),children:F.children?U(F.children):null})})},R=(0,t.useCallback)(function(U,I,F){var W,X=I.index,J=(W=z.initialValue)===null||W===void 0||(W=W.items)===null||W===void 0?void 0:W[X];if(!U)return[];if(J!=null&&J.treeData||F)return b(F||J.treeData);try{return A(U,{exclude:["id"].concat(l),maxDepth:1})}catch(C){return(0,f.captureException)(C),[]}},[]),L=(0,t.useCallback)(function(U){return function(I){return new Promise(function(F){if(I.children.length)return I.children.forEach(function(W){o({node:W,traverseAssociations:M,traverseFields:A,systemKeys:l,fields:U})}),F(void 0);o({node:I,traverseAssociations:M,traverseFields:A,systemKeys:l,fields:U}),F(void 0)})}},[]),N=(0,t.useCallback)(function(U){return function(I){U.value=I}},[]),B=function(I){var F=P(I),W=function(k,Y){var H,te;if(k.interface){var le=T(k.interface);if(le!=null&&le.filterable){var ne=le.filterable,ie=ne.nested,ee=ne.children,fe=ne.operators,de={name:k.name,title:(k==null||(H=k.uiSchema)===null||H===void 0?void 0:H.title)||k.name,schema:k==null?void 0:k.uiSchema,operators:(fe==null||(te=fe.filter)===null||te===void 0?void 0:te.call(fe,function(G){return!(G!=null&&G.visible)||G.visible(k)}))||[],interface:k.interface};if(!(k.target&&Y>2)){if(Y>2)return de;if(ee!=null&&ee.length&&(de.children=ee),ie){var ue,Se=P(k.target),ae=X(Se,Y+1).filter(Boolean);de.children=de.children||[],(ue=de.children).push.apply(ue,m()(ae))}return de}}}},X=function(k,Y){var H=[];return k.forEach(function(te){var le=W(te,Y);le&&H.push(le)}),H},J=X(F,1);return J},V=function(I){var F=I.path.entire.replace("titleField","collection"),W=I.query(F).get("value"),X=P(W),J=X.filter(function(C){var k;return(k=T(C.interface))===null||k===void 0?void 0:k.titleUsable}).map(function(C){var k;return{value:C==null?void 0:C.name,label:K(C==null||(k=C.uiSchema)===null||k===void 0?void 0:k.title)||(C==null?void 0:C.name)}});I.dataSource=J};return{collectionList:Z,getEnableFieldTree:R,getOnLoadData:L,getOnCheck:N,getScopeDataSource:B,useTitleFieldDataSource:V}};function r(g,y){for(var D=m()(g);D.length;){var P=D.shift();if(P.key===y.key)return P;P.children&&D.push.apply(D,m()(P.children))}}function o(g){var y=g.node,D=g.traverseAssociations,P=g.traverseFields,E=g.systemKeys,O=g.fields,T=r(O.dataSource||O.componentProps.treeData,y),S=[];return["belongsTo","belongsToMany"].includes(y.field.type)&&(y==null?void 0:y.type)==="reference"?S=D(y.field.target,{exclude:E,prefix:y.key,maxDepth:1}):(["hasOne","hasMany"].includes(y.field.type)||(y==null?void 0:y.type)==="duplicate")&&(S=P(y.field.target,{exclude:["id"].concat(m()(E)),prefix:y.key,maxDepth:1})),S.length?T.children=S:T.isLeaf=!0,S}},94004:function(se,j,e){"use strict";e.d(j,{F:function(){return O}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(19632),d=e.n(p),h=e(97857),t=e.n(h),c=e(57134),i=e(94350),a=e(45360),f=e(67294),l=e(26793),n=e(19958),r=e(6145),o=e(98427),g=e(45381),y=e(77517),D=e(39593),P=e.n(D),E=e(70173),O=function(S,$,Z){var K=(0,r.useCollectionManager_deprecated)(),z=K.getCollectionJoinField,w=K.getCollectionFields,A=c.ArrayBase.useArray(),M=c.ArrayBase.useIndex(),b=c.ArrayBase.useRecord(),R=(0,o.eJW)(),L=(0,l.$)(),N=L.t,B=(0,i.useForm)(),V=function(F){return function(W,X,J){var C=X.exclude,k=C===void 0?[]:C,Y=X.depth,H=Y===void 0?0:Y,te=X.maxDepth,le=X.prefix,ne=le===void 0?"":le,ie=X.disabled,ee=ie===void 0?!1:ie,fe="".concat(W,"-").concat(k.join(","),"-").concat(H,"-").concat(te,"-").concat(ne),de=F.get(fe);if(de)return de;if(H>te)return[];var ue=w(W).map(function(Se){var ae;if(!k.includes(Se.name)&&Se.interface&&!["sort","password","sequence"].includes(Se.type)){var G={type:"duplicate",tag:R((ae=Se.uiSchema)===null||ae===void 0?void 0:ae.title)||Se.name},re=t()(t()({},G),{},{title:f.createElement(g.O,G),key:ne?"".concat(ne,".").concat(Se.name):Se.name,isLeaf:!0,field:Se,disabled:ee}),oe=J.find(function(be){return be.name===re.key});if(["belongsTo","belongsToMany"].includes(Se.type)&&(!oe||["Select","Picker"].includes(oe==null?void 0:oe.fieldMode)))G.type="reference",re.type="reference",re.title=f.createElement(g.O,t()(t()({},G),{},{type:"reference"})),re.isLeaf=!1,re.children=U(Se.target,{depth:H+1,maxDepth:te,prefix:re.key,exclude:y.o});else if(["hasOne","hasMany"].includes(Se.type)||["Nester","SubTable"].includes(oe==null?void 0:oe.fieldMode)){var ce=!1;["hasOne","hasMany"].includes(Se.type)&&["Select","Picker"].includes(oe==null?void 0:oe.fieldMode)&&(ce=!0),re.disabled=!0,re.isLeaf=!1,re.children=V(Se.target,{depth:H+1,maxDepth:te,prefix:re.key,exclude:["id"].concat(d()(y.o)),disabled:ce},J)}return re}}).filter(Boolean);return F.set(fe,ue),ue}}(new(P())({max:100})),U=function(F){return function(W,X){var J=X.prefix,C=X.maxDepth,k=X.depth,Y=k===void 0?0:k,H=X.exclude,te=H===void 0?[]:H,le="".concat(W,"-").concat(te.join(","),"-").concat(Y,"-").concat(C,"-").concat(J),ne=F.get(le);if(ne)return ne;if(Y>C)return[];var ie=w(W).map(function(ee){var fe,de;if(!(!ee.target||!ee.interface)&&!te.includes(ee.name)){var ue={type:"preloading",tag:R((fe=ee.uiSchema)===null||fe===void 0?void 0:fe.title)||ee.name},Se=J?"".concat(J,".").concat(ee.name):ee.name;return{type:"preloading",tag:R((de=ee.uiSchema)===null||de===void 0?void 0:de.title)||ee.name,title:f.createElement(g.O,ue),key:Se,isLeaf:!1,field:ee,children:U(ee.target,{prefix:Se,depth:Y+1,maxDepth:C,exclude:te})}}}).filter(Boolean);return F.set(le,ie),ie}}(new(P())({max:100})),I=(0,f.useCallback)(function(F,W){if(!F)return[];try{return V(F,{exclude:["id"].concat(d()(y.o)),maxDepth:1,disabled:!1},W)}catch(X){return(0,E.captureException)(X),[]}},[]);return{run:function(){return u()(m()().mark(function W(){var X,J,C,k,Y;return m()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:X=new Set([]),J=new Set([]),C=function le(ne,ie){var ee;ne==null||(ee=ne.reduceProperties)===null||ee===void 0||ee.call(ne,function(fe,de){var ue,Se=fe||ie,ae=de["x-collection-field"]&&z(de["x-collection-field"]),G=de.name.includes("."),re=ae&&["hasOne","hasMany","belongsTo","belongsToMany"].includes(ae.type),oe=!re&&G?(0,n.getAssociationPath)(de.name):de.name,ce=Se===""||!Se?oe:Se+"."+oe;if(ae&&!(["hasOne","hasMany"].includes(ae.type)||["SubForm","Nester"].includes((ue=de["x-component-props"])===null||ue===void 0?void 0:ue.mode))&&J.add(ce),ae&&(re||G)&&de["x-component"]!=="TableField"){var be,xe;if(X.add({name:ce,fieldMode:((be=de["x-component-props"])===null||be===void 0?void 0:be.mode)||"Select"}),["Nester","SubTable"].includes((xe=de["x-component-props"])===null||xe===void 0?void 0:xe.mode)){var ge=Se&&Se!==""?Se+"."+de.name:de.name;le(de,ge)}}else["ActionBar","Action","Action.Link","Action.Modal","Selector","Viewer","AddNewer","AssociationField.Selector","AssociationField.AddNewer","TableField"].includes(de["x-component"])||le(de,ie)},ie)},C(S,""),k=I((b==null?void 0:b.collection)||$,d()(X)),Z?Z(k,d()(J),B):(A==null||A.field.form.query("fieldReaction.items.".concat(M,".layout.fields")).take(function(le){le.componentProps.treeData=[],setTimeout(function(){return le.componentProps.treeData=k})}),A==null||A.field.value.splice(M,1,t()(t()({},A==null||(Y=A.field)===null||Y===void 0?void 0:Y.value[M]),{},{fields:d()(J),treeData:k}))),a.ZP.success(N("Sync successfully"));case 7:case"end":return te.stop()}},W)}))()}}}},50679:function(se,j,e){"use strict";e.d(j,{a:function(){return w},M:function(){return M}});var v=e(97857),m=e.n(v),x=e(68400),u=e.n(x),p=e(72240),d=e(93876),h=e(6166),t=e(97133),c=e(94350),i=e(42075),a=e(94184),f=e.n(a),l=e(67294),n=e(26793),r=e(74614),o=e(13511),g=e(44990),y=e(98427),D=e(40341),P=e(62662),E=e(69054),O=e(59632),T=(0,O.kc)(function(){return{toolbar:{position:"absolute",zIndex:999,display:"none",top:0,left:0,right:0,bottom:0,border:"2px solid var(--colorBorderSettingsHover)",background:"var(--colorBgSettingsHover)",pointerEvents:"none",".ant-space-item .anticon":{margin:0}},toolbarTitle:{pointerEvents:"none",position:"absolute",fontSize:12,padding:0,lineHeight:"16px",height:"16px",borderBottomRightRadius:2,borderRadius:2,top:2,left:2},toolbarTitleTag:{padding:"0 3px",borderRadius:2,background:"var(--colorSettings)",color:"#fff",display:"block"},toolbarIcons:{position:"absolute",right:"2px",top:"2px",lineHeight:"16px",pointerEvents:"all",".ant-space-item":{backgroundColor:"var(--colorSettings)",color:"#fff",lineHeight:"16px",width:"16px",paddingLeft:"1px",alignSelf:"stretch"}}}}),S=e(85893),$,Z,K=(0,t.css)($||($=u()([`
  pointer-events: none;
  position: absolute;
  font-size: 12px;
  /* background: var(--colorSettings);
  color: #fff; */
  padding: 0;
  line-height: 16px;
  height: 16px;
  border-bottom-right-radius: 2px;
  border-radius: 2px;
  top: 2px;
  left: 2px;
  .title-tag {
    padding: 0 3px;
    border-radius: 2px;
    background: var(--colorSettings);
    color: #fff;
    display: block;
  }
`]))),z=(0,t.css)(Z||(Z=u()([`
  & .ant-space-item .anticon {
    margin: 0;
  }

  &:hover {
    display: block !important;
  }
`]))),w=function(R){var L,N,B=R.disableInitializer,V=R.title,U=R.template,I=R.schemaSettings,F=R.contextValue,W=R.draggable,X=W===void 0?!0:W,J=R.showDataSource,C=J===void 0?!0:J,k=(0,y.ngQ)(),Y=k.dn,H=k.designable,te=(0,c.useField)(),le=(0,n.$)(),ne=le.t,ie=(0,c.useFieldSchema)(),ee=(0,y.eJW)(),fe=(0,E.z)(),de=fe.getAriaLabel,ue={dn:Y,field:te,fieldSchema:ie},Se=(0,r.mQ)(ie["x-settings"]||I,ie["x-settings-props"]),ae=Se.render,G=Se.exists,re=(0,y.DiB)(),oe=(0,y.n14)(),ce=(0,o.fp)(),be=ce==null?void 0:ce.getDataSources(),xe=(0,g.wl)(),ge=(be==null?void 0:be.length)>1&&xe,he=["FormItem","ReadPrettyFormItem"].includes(U==null?void 0:U.componentName)?"".concat(U==null?void 0:U.name," ").concat(ne("(Fields only)")):U==null?void 0:U.name,Pe=(0,l.useMemo)(function(){var Ae;return{insertPosition:"afterEnd",wrap:(re==null||(Ae=re.cols)===null||Ae===void 0?void 0:Ae.length)>1?void 0:D.BM,Component:function(Le){return(0,S.jsx)(p.Z,m()(m()({},Le),{},{role:"button","aria-label":de("schema-initializer"),style:{cursor:"pointer",fontSize:14}}))}}},[de,re==null||(L=re.cols)===null||L===void 0?void 0:L.length]);return H?(0,S.jsx)(r.V$,m()(m()({},F),{},{children:(0,S.jsxs)("div",{className:f()("general-schema-designer",z),children:[V&&(0,S.jsx)("div",{className:f()("general-schema-designer-title",K),children:(0,S.jsxs)(i.Z,{size:2,children:[(0,S.jsx)("span",{className:"title-tag",children:C&&ge?"".concat(ee(ge==null?void 0:ge.displayName)," > ").concat(ee(V)):ee(V)}),U&&(0,S.jsxs)("span",{className:"title-tag",children:[ne("Reference template"),": ",he||ne("Untitled")]})]})}),(0,S.jsx)("div",{className:"general-schema-designer-icons",children:(0,S.jsxs)(i.Z,{size:3,align:"center",children:[X&&(0,S.jsx)(y.IWB,{children:(0,S.jsx)(d.Z,{role:"button","aria-label":de("drag-handler")})}),!B&&(oe!=null&&oe.InitializerComponent?(0,S.jsx)(oe.InitializerComponent,m()({},Pe)):oe==null||(N=oe.renderSchemaInitializer)===null||N===void 0?void 0:N.call(oe,Pe)),G?ae(F):(0,S.jsx)(P.cM,m()(m()({title:(0,S.jsx)(h.Z,{role:"button","aria-label":de("schema-settings"),style:{cursor:"pointer",fontSize:12}})},ue),{},{children:R.children}))]})})]})})):null},A=function(R){var L,N=R.title,B=R.initializer,V=R.settings,U=R.showBackground,I=R.showBorder,F=I===void 0?!0:I,W=R.draggable,X=W===void 0?!0:W,J=(0,y.ngQ)(),C=J.designable,k=(0,c.useFieldSchema)(),Y=(0,y.eJW)(),H=T(),te=H.styles,le=(0,E.z)(),ne=le.getAriaLabel,ie=(0,o.fp)(),ee=ie==null?void 0:ie.getDataSources(),fe=(0,g.wl)(),de=(ee==null?void 0:ee.length)>1&&fe,ue=(0,l.useMemo)(function(){if(N){if(typeof N=="string")return[Y(N)];if(Array.isArray(N))return N.map(function(Le){return Y(Le)})}},[Y,N]),Se=(0,r.mQ)(k["x-settings"]||V,k["x-settings-props"]),ae=Se.render,G=Se.exists,re=(0,r.IU)(k["x-initializer"]||B,k["x-initializer-props"]),oe=re.render,ce=re.exists,be=(0,y.DiB)(),xe=(0,y.n14)(),ge=(0,l.useMemo)(function(){var Le;return{insertPosition:"afterEnd",wrap:(be==null||(Le=be.cols)===null||Le===void 0?void 0:Le.length)>1?void 0:D.BM,Component:function(Te){return(0,S.jsx)(p.Z,m()(m()({},Te),{},{role:"button","aria-label":ne("schema-initializer"),style:{cursor:"pointer",fontSize:14}}))}}},[ne,be==null||(L=be.cols)===null||L===void 0?void 0:L.length]),he=(0,l.useMemo)(function(){return X===!1?null:(0,S.jsx)(y.IWB,{children:(0,S.jsx)(d.Z,{role:"button","aria-label":ne("drag-handler")})})},[X,ne]),Pe=(0,l.useMemo)(function(){if(B===!1)return null;if(xe!=null&&xe.InitializerComponent||xe!=null&&xe.renderSchemaInitializer){var Le;return xe!=null&&xe.InitializerComponent?(0,S.jsx)(xe.InitializerComponent,m()({},ge)):(Le=xe.renderSchemaInitializer)===null||Le===void 0?void 0:Le.call(xe,ge)}return ce?oe(ge):null},[xe,B,ge,ce,oe]),Ae=(0,l.useMemo)(function(){return V!==!1&&G?ae():null},[G,ae,V]),Be=(0,l.useRef)(null);return(0,l.useEffect)(function(){var Le=Be.current,Me=Le==null?void 0:Le.parentElement;function Te(){Le&&(Le.style.display="block")}function we(){Le&&(Le.style.display="none")}if(Me){var Ue=window.getComputedStyle(Me);Ue.position==="static"&&(Me.style.position="relative"),Me.addEventListener("mouseenter",Te),Me.addEventListener("mouseleave",we)}return function(){Me&&(Me.removeEventListener("mouseenter",Te),Me.removeEventListener("mouseleave",we))}},[]),C?(0,S.jsxs)("div",{ref:Be,className:te.toolbar,style:{border:F?"auto":0,background:U?"auto":0},children:[ue&&(0,S.jsx)("div",{className:te.toolbarTitle,children:(0,S.jsx)(i.Z,{size:2,children:ue.map(function(Le){return(0,S.jsx)("span",{className:te.toolbarTitleTag,children:de?"".concat(Y(de==null?void 0:de.displayName)," > ").concat(Le):Le},Le)})})}),(0,S.jsx)("div",{className:te.toolbarIcons,children:(0,S.jsxs)(i.Z,{size:3,align:"center",children:[he,Pe,Ae]})})]}):null},M=function(R){var L=(0,y.ngQ)(),N=L.designable;return N?(0,S.jsx)(A,m()({},R)):null}},22229:function(se,j,e){"use strict";e.d(j,{Jy:function(){return z},TF:function(){return w},bU:function(){return b},jd:function(){return E}});var v=e(5574),m=e.n(v),x=e(97857),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(9783),i=e.n(c),a=e(85667),f=e(27655),l=e(70173),n=e(96486),r=e.n(n),o=e(34588),g=e(90615),y=e(44256),D=e(76690),P=e(77723);function E(L){var N,B,V,U,I=L.field,F=L.linkageRules,W=L.formValues,X=L.localVariables,J=L.action,C=L.rule,k=L.variables,Y=L.variableNameOfLeftCondition;return I.initStateOfLinkageRules={display:((N=I.initStateOfLinkageRules)===null||N===void 0?void 0:N.display)||w(!0,I.display),required:((B=I.initStateOfLinkageRules)===null||B===void 0?void 0:B.required)||w(!0,I.required||!1),pattern:((V=I.initStateOfLinkageRules)===null||V===void 0?void 0:V.pattern)||w(!0,I.pattern),value:((U=I.initStateOfLinkageRules)===null||U===void 0?void 0:U.value)||w(!0,I.value||I.initialValue)},(0,a.reaction)(function(){var H=O({linkageRules:F,formValues:W}),te=T({linkageRules:F,localVariables:X}),le=S({action:J,localVariables:X}),ne=[H,te,le].map(function(ie){return JSON.stringify(ie)}).join(",");return ne},Z({action:J,field:I,rule:C,variables:k,localVariables:X,variableNameOfLeftCondition:Y}),{fireImmediately:!0,equals:r().isEqual})}function O(L){var N=L.linkageRules,B=L.formValues;return N.map(function(V){var U=function I(F){var W=Object.keys(F)[0]||"$and",X=F[W];return X.map(function(J){if("$and"in J||"$or"in J)return I(J);var C=(0,o.Rq)(J).join(".");return(0,l.getValuesByPath)(B,C)}).filter(Boolean)};return U(V.condition)})}function T(L){var N=L.linkageRules,B=L.localVariables;return N.map(function(V){var U=Object.keys(V.condition)[0]||"$and",I=V.condition[U];return I.map(function(F){var W=(0,o.od)(F);return W?(0,D.cG)(W.value)?$(W.value,B):W.value:null}).filter(Boolean)})}function S(L){var N,B=L.action,V=L.localVariables,U=B.value,I=U==null?void 0:U.mode,F=(U==null?void 0:U.value)||(U==null?void 0:U.result);if(I==="express"&&F!=null)return(N=(0,D.fN)(F))===null||N===void 0?void 0:N.map(function(W){return $(W,V)}).filter(Boolean)}function $(L,N){var B;if((0,D.cG)(L)){var V=(0,y.H)(L),U=i()({},V,(B=N.find(function(I){return I.name===V}))===null||B===void 0?void 0:B.ctx);return(0,l.getValuesByPath)(U,(0,g.D)(L))}}function Z(L){var N=L.action,B=L.field,V=L.rule,U=L.variables,I=L.localVariables,F=L.variableNameOfLeftCondition;return function(){z({operator:N.operator,value:N.value,field:B,condition:V.condition,variables:U,localVariables:I,variableNameOfLeftCondition:F}),setTimeout(t()(d()().mark(function W(){var X,J,C,k;return d()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(J=K(N.operator),(X=B.stateOfLinkageRules)!==null&&X!==void 0&&X[J]){H.next=3;break}return H.abrupt("return");case 3:return C=B.stateOfLinkageRules[J],H.next=6,Promise.all(C);case 6:C=H.sent,C=C.filter(function(te){return te.condition}),k=C[C.length-1],J==="value"?C.length>1&&(B.value=k.value):(B[J]=k==null?void 0:k.value,requestAnimationFrame(function(){B.setState(function(te){te[J]=k==null?void 0:k.value})}),J==="display"&&(k==null?void 0:k.value)==="none"&&(B.value=null)),B.stateOfLinkageRules[J]=null;case 11:case"end":return H.stop()}},W)})))}}function K(L){switch(L){case P.Us.Required:case P.Us.InRequired:return"required";case P.Us.Visible:case P.Us.None:case P.Us.Hidden:return"display";case P.Us.Editable:case P.Us.ReadOnly:case P.Us.ReadPretty:return"pattern";case P.Us.Value:return"value";default:return null}}var z=function(N){var B,V,U,I,F,W,X,J,C=N.operator,k=N.value,Y=N.field,H=N.condition,te=N.variables,le=N.localVariables,ne=N.variableNameOfLeftCondition,ie=(Y==null||(B=Y.stateOfLinkageRules)===null||B===void 0?void 0:B.required)||[Y==null||(V=Y.initStateOfLinkageRules)===null||V===void 0?void 0:V.required],ee=(Y==null||(U=Y.stateOfLinkageRules)===null||U===void 0?void 0:U.display)||[Y==null||(I=Y.initStateOfLinkageRules)===null||I===void 0?void 0:I.display],fe=(Y==null||(F=Y.stateOfLinkageRules)===null||F===void 0?void 0:F.pattern)||[Y==null||(W=Y.initStateOfLinkageRules)===null||W===void 0?void 0:W.pattern],de=(Y==null||(X=Y.stateOfLinkageRules)===null||X===void 0?void 0:X.value)||[Y==null||(J=Y.initStateOfLinkageRules)===null||J===void 0?void 0:J.value],ue=f.evaluators.get("formula.js"),Se=ue.evaluate,ae={ruleGroup:H,variables:te,localVariables:le,field:Y,variableNameOfLeftCondition:ne};switch(C){case P.Us.Required:ie.push(w((0,o.jC)(ae),!0)),Y.stateOfLinkageRules=u()(u()({},Y.stateOfLinkageRules),{},{required:ie});break;case P.Us.InRequired:ie.push(w((0,o.jC)(ae),!1)),Y.stateOfLinkageRules=u()(u()({},Y.stateOfLinkageRules),{},{required:ie});break;case P.Us.Visible:case P.Us.None:case P.Us.Hidden:ee.push(w((0,o.jC)(ae),C)),Y.stateOfLinkageRules=u()(u()({},Y.stateOfLinkageRules),{},{display:ee});break;case P.Us.Editable:case P.Us.ReadOnly:case P.Us.ReadPretty:case P.Us.ModifyOnly:fe.push(w((0,o.jC)(ae),C)),Y.stateOfLinkageRules=u()(u()({},Y.stateOfLinkageRules),{},{pattern:fe});break;case P.Us.Value:{var G=function(){var re=t()(d()().mark(function oe(){var ce,be,xe,ge,he;return d()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if((k==null?void 0:k.mode)!=="express"){Ae.next=18;break}if((k.value||k.result)!=null){Ae.next=3;break}return Ae.abrupt("return");case 3:return Ae.next=5,b(k.value||k.result,{variables:te,localVariables:le});case 5:return ce=Ae.sent,be=ce.exp,xe=ce.scope,Ae.prev=8,ge=Se(be,u()({now:function(){return new Date().toString()}},xe)),Ae.abrupt("return",ge);case 13:Ae.prev=13,Ae.t0=Ae.catch(8),(0,l.captureException)(Ae.t0);case 16:Ae.next=23;break;case 18:if((k==null?void 0:k.mode)!=="constant"){Ae.next=22;break}return Ae.abrupt("return",(he=k==null?void 0:k.value)!==null&&he!==void 0?he:k);case 22:return Ae.abrupt("return",null);case 23:case"end":return Ae.stop()}},oe,null,[[8,13]])}));return function(){return re.apply(this,arguments)}}();M(H)?de.push(w(!0,G())):de.push(w((0,o.jC)(ae),G())),Y.stateOfLinkageRules=u()(u()({},Y.stateOfLinkageRules),{},{value:de})}break;default:return null}};function w(L,N){return A.apply(this,arguments)}function A(){return A=t()(d()().mark(function L(N,B){var V,U;return d()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Promise.all([N,B]);case 2:return V=F.sent,U=m()(V,2),N=U[0],B=U[1],F.abrupt("return",{condition:N,value:B});case 7:case"end":return F.stop()}},L)})),A.apply(this,arguments)}function M(L){var N=Object.keys(L)[0]||"$and",B=L[N];return r().isEmpty(B)}function b(L,N){return R.apply(this,arguments)}function R(){return R=t()(d()().mark(function L(N,B){var V,U,I,F,W,X;return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(U=B.variables,I=B.localVariables,F={},W={},N!=null){C.next=5;break}return C.abrupt("return");case 5:if(X=(V=N.match(D.Bj))===null||V===void 0?void 0:V.map(function(){var k=t()(d()().mark(function Y(H){var te,le,ne;return d()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,U.parseVariable(H,I,{doNotRequest:H.includes("$nForm")});case 2:return te=ee.sent,le=te.value,ne="_".concat((0,l.uid)()),W[ne]=le,F[H]=ne,ee.abrupt("return",le);case 8:case"end":return ee.stop()}},Y)}));return function(Y){return k.apply(this,arguments)}}()),!X){C.next=9;break}return C.next=9,Promise.all(X);case 9:return C.abrupt("return",{exp:N.replace(D.Bj,function(k){return"{{".concat(F[k]||k,"}}")}),scope:W});case 10:case"end":return C.stop()}},L)})),R.apply(this,arguments)}},68654:function(se,j,e){"use strict";e.d(j,{U:function(){return Zt}});var v=e(68400),m=e.n(v),x=e(97857),u=e.n(x),p=e(97133),d=e(94350),h=e(67294),t=e(26793),c=e(6145),i=e(49834),a=e(58837),f=e(36586),l=e(98427),n=e(29132),r=e(13794),o=e(22691),g=e(5574),y=e.n(g),D=e(86201),P=e(42075),E=e(19553),O=e(57134),T=e(84327),S=e(34041),$=e(21143),Z=e(6574),K=e(3329),z=(0,h.createContext)(null);z.displayName="RemoveActionContext";var w=(0,h.createContext)(null);w.displayName="FilterContext";var A=(0,h.createContext)(null);A.displayName="LinkageLogicContext";var M=e(85893),b=function(et){var rt=(0,h.useContext)(w)||{},yt=rt.dynamicComponent,xt=rt.disabled,Ct=(0,K.Co)(yt),mt=(0,h.useMemo)(function(){return(0,D.createForm)({values:{value:et.value},disabled:xt,effects:function(){(0,D.onFieldValueChange)("value",function(ot){var kt;et==null||(kt=et.onChange)===null||kt===void 0||kt.call(et,ot.value)})}})},[JSON.stringify(et.schema),JSON.stringify(et.value)]),at=function(){var ot;return(0,M.jsx)(d.FieldContext.Provider,{value:null,children:(0,M.jsx)(Z.n6,{schema:u()(u()({"x-component":"Input"},et.schema),{},{"x-component-props":(0,T.merge)((et==null||(ot=et.schema)===null||ot===void 0?void 0:ot["x-component-props"])||{},{style:{minWidth:150,width:"100%"}}),name:"value","x-read-pretty":!1,"x-validator":void 0,"x-decorator":void 0})})})};return(0,M.jsx)(d.FormContext.Provider,{value:mt,children:Ct?h.createElement(Ct,{value:et.value,onChange:et==null?void 0:et.onChange,renderSchemaComponent:at}):at()})},R=e(69677),L=e(7340),N=e(54885),B,V=S.default.Option,U=function(et){var rt=et.fieldValue,yt=et.schema,xt=et.setValue,Ct=et.collectionName,mt=et.inputModes,at=(0,h.useState)((rt==null?void 0:rt.mode)||"constant"),ht=y()(at,2),ot=ht[0],kt=ht[1],nn=(0,t.$)(),Lt=nn.t,hn=(0,L.bz)(),Dn=hn.form,Gt=(0,f.a)(),mn=(0,N.Y)({collectionField:{uiSchema:yt},form:Dn,record:Gt,uiSchema:yt,noDisabled:!0}),qt=(0,o.b1)({collectionField:{uiSchema:yt,collectionName:Ct},uiSchema:yt,blockCollectionName:Ct}),$t=qt.compatOldVariables,Pn=(0,h.useMemo)(function(){return{minWidth:150,maxWidth:430}},[]);(0,h.useEffect)(function(){kt((rt==null?void 0:rt.mode)||"constant")},[rt==null?void 0:rt.mode]);var vn=(0,h.useCallback)(function(gn){xt({mode:ot,value:gn})},[ot,xt]),sn=(0,h.useMemo)(function(){return{minWidth:150,maxWidth:430,fontSize:13}},[]),Rn=(0,h.useCallback)(function(gn){var jn=gn.replaceAll("".concat(Ct,"."),"").replaceAll("$system.","").trim();xt({mode:ot,value:gn,result:jn})},[Ct,ot,xt]),un=(0,h.useMemo)(function(){return{minWidth:460,borderRadius:0}},[]),jt=(0,h.useMemo)(function(){return $t(mn,{value:rt==null?void 0:rt.value})},[$t,rt==null?void 0:rt.value,mn]),rn={constant:(0,M.jsx)("div",{role:"button","aria-label":"dynamic-component-linkage-rules",style:Pn,className:(0,p.css)(B||(B=m()([`
          .ant-input-affix-wrapper {
            border-radius: 0px;
          }
        `]))),children:h.createElement(b,{value:rt==null?void 0:rt.value,schema:yt,onChange:vn})}),express:(0,M.jsxs)("div",{role:"button","aria-label":"dynamic-component-linkage-rules",style:sn,children:[(0,M.jsx)(l._wD.TextArea,{value:rt==null?void 0:rt.value,onChange:Rn,scope:jt,style:un}),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("span",{style:{marginLeft:".25em"},className:"ant-formily-item-extra",children:[Lt("Syntax references"),":"]}),(0,M.jsx)("a",{href:"https://formulajs.info/functions/",target:"_blank",rel:"noreferrer",children:"Formula.js"})]})]})},An=function(jn){return mt?mt.indexOf(jn)>-1:!0},En=[{value:"constant",label:Lt("Constant value")},{value:"express",label:Lt("Expression")},{value:"empty",label:Lt("Empty")}].filter(function(gn){return An(gn.value)});return(0,M.jsxs)(R.Z.Group,{compact:!0,style:{display:"flex",alignItems:"center"},children:[(0,M.jsx)(S.default,{role:"button","data-testid":"select-linkage-value-type",value:ot,style:{width:150},onChange:function(jn){kt(jn),xt({mode:jn||(rt==null?void 0:rt.mode)})},children:En.map(function(gn){return(0,M.jsx)(V,{value:gn.value,children:gn.label},gn.value)})}),rn[ot]]})},I=e(77723),F=function(){var et,rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],yt=arguments.length>1?arguments[1]:void 0,xt=yt,Ct;return rt==null||(et=rt.forEach)===null||et===void 0||et.call(rt,function(mt,at){var ht=xt.find(function(ot){return ot.name===mt});ht&&(Ct=ht),xt=(ht==null?void 0:ht.children)||[]}),Ct},W=function(et){var rt=(0,d.useField)(),yt=(0,h.useContext)(A),xt=function(){var mt;rt.data=u()({},rt.initialValue||rt.value);var at=(mt=rt.data)===null||mt===void 0?void 0:mt.targetFields,ht=at&&F(at,et)||{},ot=(ht==null?void 0:ht.operators)||[];rt.data.operators=ot,rt.data.schema=ht==null?void 0:ht.schema};return(0,h.useEffect)(xt,[yt]),u()(u()({fields:et},rt.data),{},{setDataIndex:function(mt){var at=F(mt,et);rt.data=rt.data||{};var ht=at==null?void 0:at.operators;rt.data.operators=ht==null?void 0:ht.filter(function(ot){return mt.length>1?ot.value!=="value":!0}),rt.data.schema=at==null?void 0:at.schema,rt.value=rt.value||[],rt.data.operator=void 0,rt.data.value=void 0,rt.value=u()(u()({},rt.value),{},{targetFields:mt,operator:void 0,value:void 0})},setOperator:function(mt){rt.data.operator=mt,rt.value=u()(u()({},rt.value),{},{operator:mt})},setValue:function(mt){rt.data.value=mt,rt.value=u()(u()({},rt.value),{},{value:mt})}})},X,J,C,k,Y,H,te,le,ne=(0,d.observer)(function(Je){var et=Je.value,rt=Je.options,yt=Je.collectionName,xt=(0,t.$)(),Ct=xt.t,mt=(0,$.useCompile)(),at=(0,h.useContext)(z),ht=W(rt),ot=ht.schema,kt=ht.fields,nn=ht.operator,Lt=ht.setDataIndex,hn=ht.setOperator,Dn=ht.setValue,Gt=ht.value,mn=ht.operators;return(0,M.jsx)(A.Provider,{value:(0,T.uid)(),children:(0,M.jsx)("div",{style:{marginBottom:8},className:(0,p.css)(X||(X=m()([`
            .ant-space {
              display: inline-block;
            }
          `]))),children:(0,M.jsxs)(P.Z,{className:(0,p.css)(J||(J=m()([`
              .ant-space {
                display: inline-block;
              }
              .ant-space-item {
                max-width: 95%;
                vertical-align: middle;
                display: inline-block;
                margin: 2px;
              }
            `]))),children:[(0,M.jsx)(O.TreeSelect,{role:"button","data-testid":"select-linkage-property-field",className:(0,p.css)(C||(C=m()([`
                  min-width: 160px;
                `]))),fieldNames:{label:"title",value:"name",children:"children"},treeCheckable:!0,value:et==null?void 0:et.targetFields,multiple:!0,popupMatchSelectWidth:!1,allowClear:!0,treeData:mt(kt),onChange:function($t){Lt($t)},placeholder:Ct("Select field")}),(0,M.jsx)(S.default,{role:"button","data-testid":"select-linkage-action-field",popupMatchSelectWidth:!1,value:nn,className:(0,p.css)(k||(k=m()([`
                min-width: 120px;
              `]))),options:mt(mn),onChange:function($t){hn($t)},placeholder:Ct("action")}),[I.Us.Value].includes(nn)&&(0,M.jsx)(U,{fieldValue:Gt,schema:ot,setValue:Dn,collectionName:yt}),!Je.disabled&&(0,M.jsx)("a",{role:"button","aria-label":"icon-close",children:(0,M.jsx)(E.Z,{onClick:function(){return at()},style:{color:"#bfbfbf"}})})]})})})},{displayName:"FormFieldLinkageRuleAction"}),ie=(0,d.observer)(function(Je){var et=Je.value,rt=Je.options,yt=(0,t.$)(),xt=yt.t,Ct=(0,$.useCompile)(),mt=(0,h.useState)(!1),at=y()(mt,2),ht=at[0],ot=at[1],kt=(0,h.useContext)(z),nn=W(rt),Lt=nn.schema,hn=nn.operator,Dn=nn.setOperator,Gt=nn.setValue,mn=(0,h.useMemo)(function(){var vn=rt.filter(function(sn){return sn.isTodoStatusBool}).length>0;return Ct(vn?rt:[{label:xt("Visible"),value:I.Us.Visible,schema:{}},{label:xt("Hidden"),value:I.Us.Hidden,schema:{}},{label:xt("Disabled"),value:I.Us.Disabled,schema:{}},{label:xt("Enabled"),value:I.Us.Active,schema:{}}])},[Ct,xt]),qt=(0,h.useCallback)(function(vn){var sn=[I.Us.Value].includes(vn);ot(sn),Dn(vn)},[Dn]),$t=(0,h.useCallback)(function(vn){Gt(vn)},[Gt]),Pn=(0,h.useMemo)(function(){return{color:"#bfbfbf"}},[]);return(0,M.jsx)("div",{style:{marginBottom:8},children:(0,M.jsxs)(P.Z,{children:[(0,M.jsx)(S.default,{"data-testid":"select-linkage-properties",popupMatchSelectWidth:!1,value:hn,options:mn,onChange:qt,placeholder:xt("action")}),ht&&h.createElement(b,{value:et,schema:Lt,onChange:$t}),!Je.disabled&&(0,M.jsx)("a",{role:"button","aria-label":"icon-close",children:(0,M.jsx)(E.Z,{onClick:kt,style:Pn})})]})})},{displayName:"FormButtonLinkageRuleAction"}),ee=(0,d.observer)(function(Je){var et=(0,d.useField)(),rt=et.parent.query(".appliedTo").value(),yt=rt===I.ps.FIELD,xt=Je.value,Ct=Je.options,mt=Je.collectionName,at=Je.readPretty,ht=(0,t.$)(),ot=ht.t,kt=(0,$.useCompile)(),nn=(0,h.useContext)(z),Lt=W(Ct),hn=Lt.schema,Dn=Lt.fields,Gt=Lt.operator,mn=Lt.setDataIndex,qt=Lt.setOperator,$t=Lt.setValue,Pn=Lt.value,vn=Lt.operators,sn=[{label:ot(at?"Hidden":"Hidden(reserved value)"),value:I.Us.Hidden,selected:!1,schema:{}}];return(0,M.jsx)(A.Provider,{value:(0,T.uid)(),children:(0,M.jsx)("div",{style:{marginBottom:8},className:(0,p.css)(Y||(Y=m()([`
            .ant-space {
              display: inline-block;
            }
          `]))),children:(0,M.jsxs)(P.Z,{className:(0,p.css)(H||(H=m()([`
              .ant-space {
                display: inline-block;
              }
              .ant-space-item {
                max-width: 95%;
                vertical-align: middle;
                display: inline-block;
                margin: 2px;
              }
            `]))),children:[yt&&(0,M.jsx)(O.TreeSelect,{role:"button","data-testid":"select-linkage-property-field",className:(0,p.css)(te||(te=m()([`
                  min-width: 160px;
                `]))),fieldNames:{label:"title",value:"name",children:"children"},treeCheckable:!0,value:xt==null?void 0:xt.targetFields,multiple:!0,popupMatchSelectWidth:!1,allowClear:!0,treeData:kt(Dn),onChange:function(un){mn(un)},placeholder:ot("Select field")}),(0,M.jsx)(S.default,{role:"button","data-testid":"select-linkage-action-field",popupMatchSelectWidth:!1,value:Gt,className:(0,p.css)(le||(le=m()([`
                min-width: 120px;
              `]))),options:kt(yt?vn:sn),onChange:function(un){qt(un)},placeholder:ot("action")}),[I.Us.Value].includes(Gt)&&(0,M.jsx)(U,{fieldValue:Pn,schema:hn,setValue:$t,collectionName:mt}),!Je.disabled&&(0,M.jsx)("a",{role:"button","aria-label":"icon-close",children:(0,M.jsx)(E.Z,{onClick:function(){return nn()},style:{color:"#bfbfbf"}})})]})})})},{displayName:"FormFieldLinkageRuleAction"}),fe=e(90635),de=e(9780),ue=(0,d.observer)(function(Je){var et,rt=Je.type,yt=Je.linkageOptions,xt=Je.isSubRecordMode,Ct=Je.readPretty,mt=(0,d.useField)();return mt==null||(et=mt.value)===null||et===void 0?void 0:et.map(function(at,ht){return(0,M.jsx)(z.Provider,{value:function(){return mt.remove(ht)},children:(0,M.jsx)(d.ObjectField,{name:ht,component:[xt?ee:rt==="button"?ie:ne,u()(u()({},Je),{},{readPretty:Ct,options:yt})]})},ht)})},{displayName:"LinkageRuleActions"}),Se=(0,fe.t)(function(Je){var et,rt=(0,t.$)(),yt=rt.t,xt=(0,d.useForm)(),Ct=(0,d.useField)(),mt=Ct.query(".actions").take(),at=Ct.query(".appliedTo").take(),ht=(0,h.useState)(at?at.value===I.ps.FIELD:!0),ot=y()(ht,2),kt=ot[0],nn=ot[1];(0,h.useEffect)(function(){var un="appliedToEffect-".concat(Ct.index),jt=at==null?void 0:at.path;return xt.addEffects(un,function(){(0,D.onFieldValueChange)(jt,function(rn){rn.value===I.ps.FIELD?nn(!0):nn(!1),mt.value=[]})}),function(){xt.removeEffects(un)}},[Ct,xt]);var Lt="actions",hn=(0,de.w)(Je),Dn=hn.type,Gt=hn.linkageOptions,mn=hn.collectionName,qt=hn.isSubRecordMode,$t=hn.readPretty,Pn=(0,h.useMemo)(function(){return{marginLeft:10}},[]),vn=(0,h.useMemo)(function(){return[ue,{type:Dn,linkageOptions:Gt,collectionName:mn,isSubRecordMode:qt,isAppliedToField:kt,readPretty:$t}]},[mn,Gt,Dn,qt,kt,$t]),sn=(0,h.useMemo)(function(){return{marginTop:8,marginBottom:8}},[]),Rn=(0,h.useCallback)(function(){var un=mt.value||[];un.push({}),mt.value=un},[mt]);return(0,M.jsxs)("div",{style:Pn,children:[(0,M.jsx)(d.ArrayField,{name:Lt,component:vn,disabled:!1}),kt?(0,M.jsx)(P.Z,{size:16,style:sn,children:(0,M.jsx)("a",{onClick:Rn,children:yt("Add property")})}):((et=mt.value)===null||et===void 0?void 0:et.length)===0&&(0,M.jsx)(P.Z,{size:16,style:sn,children:(0,M.jsx)("a",{onClick:Rn,children:yt("Add property")})})]})},{displayName:"LinkageRuleActionGroup"}),ae=e(59637),G=h.forwardRef(function(Je,et){var rt,yt=O.ArrayBase.useArray(),xt=O.ArrayBase.useIndex(Je.index),Ct=(0,t.$)(),mt=Ct.t;return(0,M.jsx)(ae.Z,u()(u()({},Je),{},{checkedChildren:mt("On"),unCheckedChildren:mt("Off"),checked:!(yt!=null&&(rt=yt.field)!==null&&rt!==void 0&&rt.value[xt].disabled),size:"small",style:{transition:"all 0.25s ease-in-out",color:"rgba(0, 0, 0, 0.8)",fontSize:16,marginLeft:6,marginBottom:3},onChange:function(ht,ot){var kt;ot.stopPropagation(),yt.field.value.splice(xt,1,u()(u()({},yt==null||(kt=yt.field)===null||kt===void 0?void 0:kt.value[xt]),{},{disabled:!ht}))},onClick:function(ht,ot){ot.stopPropagation()}}))});G.displayName="EnableLinkage";var re=e(87360),oe=e(15867),ce=e(4393),be=e(32983),xe=e(69234),ge=e(86250),he=e(40411),Pe=e(72240),Ae=e(94184),Be=e.n(Ae),Le=e(96486),Me=e(68230),Te=e(59632),we=(0,Te.kc)(function(){return{arrayCollapseItem:{marginBottom:"10px"}}}),Ue=e(66309),je=h.forwardRef(function(Je){var et,rt=O.ArrayBase.useArray(),yt=O.ArrayBase.useIndex(Je.index),xt=(0,t.$)(),Ct=xt.t,mt=(0,Me.d)(),at=mt.token;return(0,M.jsx)(Ue.Z,{style:{display:"flex",alignItems:"center",background:at.colorPrimary,color:"#fff"},children:Ct(I.eQ[rt==null||(et=rt.field)===null||et===void 0?void 0:et.value[yt].type])})});je.displayName="LinkageTypeTag";var De,ye=function(et){var rt,yt=O.ArrayBase.useArray(),xt=O.ArrayBase.useIndex(et.index),Ct=(0,t.$)(),mt=Ct.t,at=yt==null||(rt=yt.field)===null||rt===void 0?void 0:rt.value[xt];return(0,M.jsx)(R.Z.TextArea,{value:at.title,defaultValue:mt("Linkage rule"),onChange:function(ot){ot.stopPropagation(),yt.field.value.splice(xt,1,u()(u()({},at),{},{title:ot.target.value}))},onBlur:function(ot){ot.stopPropagation(),yt.field.value.splice(xt,1,u()(u()({},at),{},{title:ot.target.value}))},autoSize:!0,style:{width:"70%",border:"none"},onClick:function(ot){ot.stopPropagation()}})},_e=function(et){var rt,yt;return((rt=et["x-component"])===null||rt===void 0||(yt=rt.indexOf)===null||yt===void 0?void 0:yt.call(rt,"Addition"))>-1},q=function(et){var rt,yt;return((rt=et["x-component"])===null||rt===void 0||(yt=rt.indexOf)===null||yt===void 0?void 0:yt.call(rt,"Index"))>-1},pe=function(et){var rt,yt;return((rt=et["x-component"])===null||rt===void 0||(yt=rt.indexOf)===null||yt===void 0?void 0:yt.call(rt,"Remove"))>-1},Re=function(et){var rt,yt;return((rt=et["x-component"])===null||rt===void 0||(yt=rt.indexOf)===null||yt===void 0?void 0:yt.call(rt,"MoveUp"))>-1},Oe=function(et){var rt,yt;return((rt=et["x-component"])===null||rt===void 0||(yt=rt.indexOf)===null||yt===void 0?void 0:yt.call(rt,"MoveDown"))>-1},$e=function(et){var rt,yt;return((rt=et["x-component"])===null||rt===void 0||(yt=rt.indexOf)===null||yt===void 0?void 0:yt.call(rt,"Copy"))>-1},Ve=function(et){return _e(et)||pe(et)||Oe(et)||Re(et)||$e(et)},Ze=function(et){return Array.from({length:et}).map(function(rt,yt){return yt})},qe=function(et,rt){return et<rt?Ze(et):Ze(rt)},Qe=function(et,rt){return et.length<=rt?et.concat(rt):et.reduce(function(yt,xt){return xt<rt?yt.concat(xt):xt===rt?yt.concat([xt,xt+1]):yt.concat(xt+1)},[])},ke=(0,d.observer)(function(Je){var et=we(),rt=et.styles,yt=(0,d.useField)(),xt=Array.isArray(yt.value)?yt.value:[],Ct=(0,h.useState)(qe(xt.length,Je.defaultOpenPanelCount)),mt=y()(Ct,2),at=mt[0],ht=mt[1],ot=(0,d.useFieldSchema)(),kt=(0,t.$)(),nn=kt.t;if((0,h.useEffect)(function(){!yt.modified&&xt.length&&ht(qe(xt.length,Je.defaultOpenPanelCount))},[xt.length,yt]),!ot)throw new Error("can not found schema object");var Lt=function(){var mn=function(Pn){yt.push({title:"".concat(Pn===I.v4.Api?"API":"General"," linkage rule"),type:Pn}),ht([yt.value.length-1])},qt=Je.type==="button"||Je.readPretty;return(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[(0,M.jsx)(oe.ZP,{icon:(0,M.jsx)(Pe.Z,{}),onClick:function(){return mn(I.v4.General)},style:{borderStyle:"dashed",flex:1},children:nn("General Linkage")}),!qt&&(0,M.jsx)(oe.ZP,{icon:(0,M.jsx)(Pe.Z,{}),onClick:function(){return mn(I.v4.Api)},style:{borderStyle:"dashed",flex:1},children:nn("API Linkage")})]})},hn=function(){if(!xt.length)return(0,M.jsx)(ce.Z,{className:Be()("".concat(rt.arrayCollapseItem),Je.className),children:(0,M.jsx)(be.Z,{})})},Dn=function(){return(0,M.jsx)(xe.Z,u()(u()({},Je),{},{activeKey:at,onChange:function(qt){return ht((0,T.toArr)(qt).map(Number))},className:Be()("".concat(rt.arrayCollapseItem),Je.className,(0,p.css)(De||(De=m()([`
              .ant-collapse-item > .ant-collapse-header {
                align-items: center;
              }
            `])))),children:xt.map(function(mn,qt){var $t=Array.isArray(ot.items)?ot.items[qt]||ot.items[0]:ot.items,Pn=yt.query("".concat(yt.address,".").concat(qt)).get("componentProps"),vn=$t["x-component-props"],sn=function(){var rn="".concat((Pn==null?void 0:Pn.header)||vn.header||yt.title),An=yt.address.concat(qt),En=yt.form.queryFeedbacks({type:"error",address:"".concat(An,".**")});return(0,M.jsxs)(O.ArrayBase.Item,{index:qt,record:function(){var jn;return(jn=yt.value)===null||jn===void 0?void 0:jn[qt]},children:[(0,M.jsx)(d.RecursionField,{schema:$t,name:qt,filterProperties:function(jn){return!!q(jn)},onlyRenderProperties:!0}),En.length?(0,M.jsxs)(ge.Z,{gap:12,children:[(0,M.jsxs)(ge.Z,{gap:4,children:[(0,M.jsx)(he.Z,{size:"small",className:"errors-badge",count:En.length}),(0,M.jsx)(ye,{item:mn.initialValue||mn,index:qt})]}),(0,M.jsx)(je,{index:qt})]}):(0,M.jsxs)(ge.Z,{gap:12,children:[(0,M.jsx)(ye,{item:mn.initialValue||mn,index:qt}),(0,M.jsx)(je,{index:qt})]})]})},Rn=(0,M.jsxs)(O.ArrayBase.Item,{index:qt,record:mn,children:[(0,M.jsx)(d.RecursionField,{schema:$t,name:qt,filterProperties:function(rn){return!!Ve(rn)},onlyRenderProperties:!0}),Pn==null?void 0:Pn.extra]}),un=(0,M.jsx)(d.RecursionField,{schema:$t,name:qt,filterProperties:function(rn){return!(q(rn)||Ve(rn))}});return(0,h.createElement)(xe.Z.Panel,u()(u()(u()({},vn),Pn),{},{forceRender:!0,key:qt,header:sn(),extra:Rn}),(0,M.jsx)(O.ArrayBase.Item,{index:qt,record:mn,children:un},qt))})}))};return(0,M.jsxs)(O.ArrayBase,{onAdd:function(mn){ht(Qe(at,mn))},children:[hn(),Dn(),Lt()]})},{displayName:"ArrayCollapse"}),ft=function(et){var rt=et.children;return(0,M.jsx)(h.Fragment,{children:rt})};ft.displayName="CollapsePanel",ke.defaultProps={defaultOpenPanelCount:5},ke.displayName="ArrayCollapse",ke.CollapsePanel=ft,O.ArrayBase.mixin(ke);var vt=null;ke.Copy=h.forwardRef(function(Je,et){var rt,yt=(0,Me.d)(),xt=yt.token,Ct=(0,d.useField)(),mt=O.ArrayBase.useArray(),at=O.ArrayBase.useIndex(Je.index);return!mt||((rt=mt.field)===null||rt===void 0?void 0:rt.pattern)!=="editable"?null:(0,M.jsx)(re.Z,u()(u()({},Je),{},{style:{transition:"all 0.25s ease-in-out",color:xt.colorText,fontSize:xt.fontSizeLG,marginLeft:6},ref:et,onClick:function(ot){var kt,nn;if(!(Ct!=null&&Ct.disabled)&&(ot.stopPropagation(),!((kt=mt.props)!==null&&kt!==void 0&&kt.disabled))){var Lt=(0,Le.cloneDeep)(mt==null||(nn=mt.field)===null||nn===void 0?void 0:nn.value[at]);mt.field.push(Lt),Je.onClick&&Je.onClick(ot)}}}))}),ke.Copy.displayName="ArrayCollapse.Copy";var _t=e(15009),Nt=e.n(_t),Kt=e(99289),ut=e.n(Kt),Rt=e(38089),Dt=e(57953),dt=e(22150),Bt=e(16455),He=e(72029),ct=e(82041),St=function(et){var rt,yt,xt=et.linkageOptions,Ct=(0,t.$)(),mt=Ct.t,at=(0,He.LY)(),ht=(0,$.useCompile)(),ot=(0,d.useField)(),kt=W(xt),nn=kt.fields,Lt=(0,ct.DA)(),hn=Lt.currentFormSettings,Dn=ot.query(".actions").take(),Gt=(0,h.useState)(!1),mn=y()(Gt,2),qt=mn[0],$t=mn[1],Pn=(0,h.useState)([]),vn=y()(Pn,2),sn=vn[0],Rn=vn[1],un=(0,h.useState)(null),jt=y()(un,2),rn=jt[0],An=jt[1],En=(0,h.useState)({inputParams:[]}),gn=y()(En,2),jn=gn[0],Yt=gn[1],gt=[{title:mt("Key label"),dataIndex:"label",key:"label",render:function(en,qn){return(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[qn.required&&(0,M.jsx)("span",{style:{color:"#ff4d4f"},children:"*"}),en]})}},{title:mt("Description"),dataIndex:"desc",key:"desc"},{title:mt("Value"),dataIndex:"value",key:"value",width:"300px",render:function(en,qn,er){return(0,M.jsx)($.Variable.Input,{value:en,onChange:function(nr){var rr=u()({},rn);rr.externalParams[er].value=nr,An(rr),Dn.value=[u()(u()({},Dn.value[0]),{},{config:rr})],Dn.validate()},scope:[hn],useTypedConstant:!0})}}],wt=[{title:mt("Key label"),dataIndex:"title",key:"title"},{title:mt("Description"),dataIndex:"description",key:"description"},{title:mt("Autofill field"),dataIndex:"autoFillField",key:"autoFillField",width:"300px",render:function(en,qn,er){return(0,M.jsx)(Rt.Z,{value:en,options:ht(nn),fieldNames:{label:"title",value:"name",children:"children"},allowClear:!0,onChange:function(nr){var rr=u()({},rn);rr.subSequentParams[er].autoFillField=nr,An(rr),Dn.value=[u()(u()({},Dn.value[0]),{},{config:rr})]},placeholder:mt("Select field")})}}],Vt=function(){Yt({inputParams:[]})},It=function(en){if(Vt(),!en)return"";var qn={inputParams:[]},er=en[0].config,ar=er===void 0?{}:er,nr=ar.externalParams,rr=nr===void 0?[]:nr;return rr.forEach(function(hr){hr.required&&!hr.value&&qn.inputParams.push("".concat(hr.label," is required"))}),Yt(qn),Object.values(qn).flat().join(`
`)};(0,h.useEffect)(function(){Dn.setValidator(It)},[]);var zt=function(){var Tn=ut()(Nt()().mark(function en(){var qn,er,ar,nr,rr,hr,Ar,_r,Ir,Sr,Mr,Br,Mn,Wt;return Nt()().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return $t(!0),ar=(qn=Dn.value)===null||qn===void 0||(qn=qn[0])===null||qn===void 0?void 0:qn.apiId,nr=(er=Dn.value)===null||er===void 0||(er=er[0])===null||er===void 0?void 0:er.config,rr=function(Un,Gn){return Un.status===Gn.status?0:Un.status?-1:1},an.prev=4,an.next=7,at.request({url:"/externalApis:listForBlock",method:"GET",params:{appends:["configurations"],pagination:!1}});case 7:if(Ir=an.sent,Sr=((Ir==null||(hr=Ir.data)===null||hr===void 0?void 0:hr.data)||[]).filter(function(Bn){var Un;return!!((Un=Bn.configurations)!==null&&Un!==void 0&&Un.length)}).map(function(Bn){var Un;return u()(u()({},Bn),{},{disabled:!Bn.status,configurations:(Un=Bn.configurations)===null||Un===void 0?void 0:Un.map(function(Gn){return u()(u()({},Gn),{},{disabled:!Gn.status})}).sort(rr)})}).sort(rr),Rn(Sr),$t(!1),Mr=ar&&(!Sr.find(function(Bn){return Bn.id===ar[0]})||!((Ar=Sr.find(function(Bn){return Bn.id===ar[0]}))!==null&&Ar!==void 0&&(Ar=Ar.configurations)!==null&&Ar!==void 0&&Ar.find(function(Bn){return Bn.id===ar[1]}))),!Mr){an.next=15;break}return Dn.value=[],an.abrupt("return");case 15:Br=((_r=Sr.find(function(Bn){return Bn.id===ar[0]}))===null||_r===void 0||(_r=_r.configurations)===null||_r===void 0||(_r=_r.find(function(Bn){return Bn.id===ar[1]}))===null||_r===void 0?void 0:_r.config)||{},Mn=Br.externalParams,Wt=Br.subSequentParams,Mn.forEach(function(Bn){var Un;Bn.value=(Un=nr.externalParams)===null||Un===void 0||(Un=Un.find(function(Gn){return Gn.key===Bn.key}))===null||Un===void 0?void 0:Un.value}),Wt.forEach(function(Bn){var Un;Bn.autoFillField=((Un=nr.subSequentParams)===null||Un===void 0||(Un=Un.find(function(Gn){return Gn.key===Bn.key}))===null||Un===void 0?void 0:Un.autoFillField)||[]}),An({externalParams:Mn,subSequentParams:Wt}),an.next=24;break;case 21:an.prev=21,an.t0=an.catch(4),$t(!1);case 24:case"end":return an.stop()}},en,null,[[4,21]])}));return function(){return Tn.apply(this,arguments)}}(),In=function(en,qn){var er=y()(qn,2),ar=er[0],nr=er[1],rr=u()(u()({},ar.config),nr.config);Dn.setValue([{apiId:en,config:rr}]),An(rr)};return(0,h.useEffect)(function(){zt()},[]),qt?(0,M.jsx)(Dt.Z,{}):(0,M.jsx)("div",{children:(0,M.jsxs)(dt.Z,{layout:"vertical",initialValues:(Dn==null||(rt=Dn.value)===null||rt===void 0?void 0:rt[0])||{},children:[(0,M.jsx)(dt.Z.Item,{label:mt("Call API"),name:"apiId",children:(0,M.jsx)(Rt.Z,{options:sn,fieldNames:{label:"name",value:"id",children:"configurations"},placeholder:mt("Please select Call API"),onChange:In,showSearch:{filter:function(en,qn){return qn.some(function(er){return er.label.toLowerCase().includes(en.toLowerCase())})}},allowClear:!1})}),rn&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(dt.Z.Item,{label:mt("Input Params"),name:"externalParams",help:jn==null||(yt=jn.inputParams)===null||yt===void 0?void 0:yt.map(function(Tn,en){return(0,M.jsx)("p",{style:{color:"#FF4D4F"},children:Tn},en)}),children:(0,M.jsx)(Bt.Z,{columns:gt,dataSource:(rn==null?void 0:rn.externalParams)||[],pagination:!1,size:"small"})}),(0,M.jsx)(dt.Z.Item,{label:mt("Form auto fill"),name:"subSequentParams",children:(0,M.jsx)(Bt.Z,{columns:wt,dataSource:(rn==null?void 0:rn.subSequentParams)||[],pagination:!1,size:"small"})})]})]})})},Tt=e(72594),Mt,Zt=(0,fe.t)((0,d.observer)(function(Je){var et=(0,d.useFieldSchema)(),rt=(0,l.wNf)(Je),yt=rt.options,xt=rt.defaultValues,Ct=rt.collectionName,mt=rt.form,at=rt.variables,ht=rt.localVariables,ot=rt.record,kt=rt.dynamicComponent,nn=rt.isSubRecordMode,Lt=rt.readPretty,hn=rt.type,Dn=(0,c.useCollectionManager_deprecated)(),Gt=Dn.getAllCollectionsInheritChain,mn=(0,i.Kv)(),qt=(0,h.useMemo)(function(){return{ArrayCollapse:ke}},[]),$t=(0,h.useMemo)(function(){return{type:"object",properties:{rules:{type:"array",default:xt,"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0,type:hn,readPretty:Lt},items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{extra:(0,M.jsx)(G,{})},properties:{layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:8,wrapperCol:16},properties:u()(u()({conditions:{"x-component":"h4","x-content":'{{ t("Condition") }}'},condition:{"x-component":"Filter","x-use-component-props":function(){return{options:yt,isSubTable:nn,className:(0,p.css)(Mt||(Mt=m()([`
                            position: relative;
                            width: 100%;
                            margin-left: 10px;
                          `])))}},"x-component-props":{collectionName:Ct,dynamicComponent:function(sn){var Rn=sn.collectionField;return(0,M.jsx)(o.qj,u()(u()({},sn),{},{form:mt,record:ot,shouldChange:(0,o.Vc)({collectionField:Rn,variables:at,localVariables:ht,getAllCollectionsInheritChain:Gt})}))}}}},nn?{appliedToLabel:{"x-component":"h4","x-content":'{{ t("Applied to") }}'},appliedTo:{type:"string",required:!0,"x-component":"Select","x-component-props":{style:{margin:"0 0 8px 10px",width:"150px"},options:[{label:"Entire record",value:I.ps.ENTIRE_RECORD},{label:"Field",value:I.ps.FIELD}]}}}:{}),{},{actions:{"x-component":function(){var sn=(0,t.$)(),Rn=sn.t,un=ke.useRecord()||{};return un.type===I.v4.Api?null:(0,M.jsx)("h4",{children:Rn("Properties")})}},action:{type:"void","x-component":function(sn){var Rn=ke.useRecord()||{},un=Rn.type;return un===I.v4.Api?(0,M.jsx)(St,u()(u()(u()({},sn),Je),{},{readPretty:Lt})):(0,M.jsx)(Se,u()(u()(u()({},sn),Je),{},{readPretty:Lt}))}}})},type:{type:"string","x-component":"LinkageTypeTag"},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"},copy:{type:"void","x-component":"ArrayCollapse.Copy"}}}}}}},[Ct,xt,mt,Gt,ht,yt,Je,ot,at]),Pn=(0,h.useMemo)(function(){return{field:yt,fieldSchema:et,dynamicComponent:kt,options:yt||[]}},[kt,et,yt]);return(0,M.jsx)(Tt.j5,{collections:[{name:"attachments",fields:[{interface:"input",type:"string",name:"filename",uiSchema:{type:"string",title:'{{t("Filename")}}',"x-component":"Input"}},{interface:"input",type:"string",name:"url",uiSchema:{type:"string",title:'{{t("URL")}}',"x-component":"Input"}}]}],children:(0,M.jsx)(n._c,{value:{value:null,collection:{name:Ct}},children:(0,M.jsx)(f.HV,{record:ot,parent:mn,children:(0,M.jsx)(r.fo.Provider,{value:Pn,children:(0,M.jsx)(a.YQ,{name:Ct,children:(0,M.jsx)(l.n6,{components:qt,schema:$t})})})})})})}),{displayName:"FormLinkageRules"})},77723:function(se,j,e){"use strict";e.d(j,{ps:function(){return h},Us:function(){return d},v4:function(){return t},eQ:function(){return c}});var v=e(9783),m=e.n(v),x=function(i){return i.NONE="NONE",i}({}),u=function(i){return i.JSON="application/json",i.FORM="application/x-www-form-urlencoded",i.TEXT="text/plain",i.XML="application/xml",i}({}),p,d=function(i){return i.Visible="visible",i.Editable="editable",i.ModifyOnly="only-modify",i.ReadOnly="disabled",i.ReadPretty="readPretty",i.None="none",i.Hidden="hidden",i.Required="required",i.InRequired="notRequired",i.Disabled="disabled",i.Value="value",i.Active="enabled",i}({}),h={ENTIRE_RECORD:"entireRecord",FIELD:"field"},t=function(i){return i.General="general",i.Api="api",i}({}),c=(p={},m()(p,t.General,"General Linkage"),m()(p,t.Api,"API Linkage"),p)},62662:function(se,j,e){"use strict";e.d(j,{Qh:function(){return dt},ns:function(){return ut},ON:function(){return Mt},y5:function(){return He},Z5:function(){return _t},cM:function(){return Ve},L3:function(){return Zt},vC:function(){return Qe},UD:function(){return St},r2:function(){return ke},bw:function(){return ft},lc:function(){return ct},j0:function(){return Bt},D3:function(){return Dt},Rh:function(){return Oe},qx:function(){return Nt},Qf:function(){return Kt},m$:function(){return vt},hj:function(){return Rt},ZL:function(){return Je},Dz:function(){return Ze},PO:function(){return et},os:function(){return yt},Mq:function(){return rt},DD:function(){return Re}});var v=e(9783),m=e.n(v),x=e(96695),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(68400),i=e.n(c),a=e(5574),f=e.n(a),l=e(97857),n=e.n(l),r=e(13769),o=e.n(r),g=e(97133),y=e(57134),D=e(86201),P=e(94350),E=e(84327),O=e(85418),T=e(3321),S=e(38089),$=e(59637),Z=e(5914),K=e(42075),z=e(15867),w=e(38925),A=e(28459),M=e(96486),b=e.n(M),R=e(67294),L=e(73935),N=e(26793),B=e(21143),V=e(79531),U=e(19958),I=e(23782),F=e(5346),W=e(52967),X=e(13511),J=e(44990),C=e(67205),k=e(53285),Y=e(74820),H=e(29132),te=e(95354),le=e(85438),ne=e(25813),ie=e(32268),ee=e(85667),fe=e(6145),de=e(98427),ue=e(90635),Se=e(85893),ae=(0,ue.t)((0,P.observer)(function(xt){var Ct=(0,de.wNf)(xt),mt=Ct.defaultValues,at=Ct.collectionName,ht=(0,P.useForm)(),ot=(0,de.eJW)(),kt=(0,fe.useCollectionManager_deprecated)(),nn=kt.getChildrenCollections,Lt=nn(at),hn=function(mn){return function(qt,$t){qt.loading=!0,mn(qt,$t).then(ee.action.bound(function(Pn){qt.dataSource=Pn,qt.loading=!1,qt.initialValue&&(qt.disabled=!0)}))}},Dn=function(){var Gt=t()(d()().mark(function mn(qt){var $t,Pn,vn,sn;return d()().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return vn=(($t=ht.values)===null||$t===void 0?void 0:$t.enableChildren)||{},sn=vn.childrenCollections,un.abrupt("return",(Pn=Lt.filter(function(jt){return!sn.find(function(rn){return rn.collection===jt.name})||qt.initialValue||jt.name===qt.value}))===null||Pn===void 0?void 0:Pn.map(function(jt){return{label:ot(jt.title),value:jt.name}}));case 2:case"end":return un.stop()}},mn)}));return function(qt){return Gt.apply(this,arguments)}}();return(0,Se.jsx)(de.n6,{schema:{type:"object",properties:{childrenCollections:{type:"array",default:mt==null?void 0:mt.filter(function(Gt){return Lt.find(function(mn){return mn.name===Gt.collection})}),"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},collection:{type:"string","x-decorator":"FormItem",required:!0,"x-component":"Select","x-component-props":{style:{width:260}},"x-reactions":["{{useAsyncDataSource(loadData)}}"]},title:{type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{style:{width:235}}},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:'{{ t("Add collection") }}',"x-component":"ArrayItems.Addition"}}}}},scope:{useAsyncDataSource:hn,loadData:Dn}})}),{displayName:"EnableChildCollections"}),G=e(90499),re=e(23971),oe,ce=(0,P.observer)(function(xt){var Ct=xt.rootCollection,mt=xt.onChange,at=xt.value,ht=xt.collectionField,ot=(0,P.useFieldSchema)(),kt=(0,G.DA)({collectionName:Ct,collectionField:ht}),nn=kt.currentFormSettings,Lt=(0,re.j)({schema:ht==null?void 0:ht.uiSchema,collectionField:ht}),hn=Lt.currentObjectSettings,Dn=(0,de.eJW)(),Gt=(0,R.useMemo)(function(){return[nn,hn].filter(Boolean)},[nn,hn]),mn=Dn(Gt);return(0,R.useEffect)(function(){mt(ot.default)},[]),(0,Se.jsx)(de._wD.Input,{value:at,onChange:function($t){return mt($t)},scope:mn,style:{minWidth:"400px",marginRight:15},className:(0,g.css)(oe||(oe=i()([`
          .ant-input {
            width: 100% !important;
          }
        `])))})},{displayName:"ChildDynamicComponent"}),be=e(68654),xe=e(77723),ge=function(Ct,mt){var at=(0,fe.useCollectionManager_deprecated)(),ht=at.getCollectionFields,ot=at.getInterface,kt=ht(Ct).filter(function(mn){return!["id","createdAt","createdBy","updatedAt","updatedBy"].includes(mn.name)}),nn=(0,N.$)(),Lt=nn.t,hn=[{label:Lt("Visible"),value:xe.Us.Visible,selected:!0,schema:{}},{label:Lt("Editable"),value:xe.Us.Editable,selected:!1,schema:{}},{label:Lt("Modify only"),value:xe.Us.ModifyOnly,selected:!1,schema:{}},{label:Lt("Disabled"),value:xe.Us.ReadOnly,selected:!1,schema:{}},{label:Lt("Easy reading"),value:xe.Us.ReadPretty,selected:!1,schema:{}},{label:Lt("Hidden"),value:xe.Us.None,selected:!1,schema:{}},{label:Lt("Hidden(reserved value)"),value:xe.Us.Hidden,selected:!1,schema:{}},{label:Lt("Required"),value:xe.Us.Required,selected:!1,schema:{}},{label:Lt("Not required"),value:xe.Us.InRequired,selected:!1,schema:{}},{label:Lt("Value"),value:xe.Us.Value,selected:!1,schema:{}}].filter(function(mn){return mt?[xe.Us.Visible,xe.Us.None].includes(mn.value):mn}),Dn=function(qt,$t){var Pn,vn,sn=ot(qt.interface);if(sn){var Rn=(sn==null?void 0:sn.filterable)||{},un=Rn.nested,jt=Rn.children,rn={name:qt.name,title:(qt==null||(Pn=qt.uiSchema)===null||Pn===void 0?void 0:Pn.title)||qt.name,schema:qt==null?void 0:qt.uiSchema,interface:qt.interface,target:qt.target,operators:(hn==null||(vn=hn.filter)===null||vn===void 0?void 0:vn.call(hn,function(An){return un||jt||["formula","richText","sequence"].includes(sn.name)?(An==null?void 0:An.value)!==xe.Us.Value:!0}))||[]};if(!(qt.target&&$t>2))return $t>2,rn}},Gt=function(qt,$t){var Pn=[];return qt.forEach(function(vn){var sn=Dn(vn,$t);sn&&Pn.push(sn)}),Pn};return Gt(kt,1)},he=e(70173),Pe=e(73691),Ae=e(29250),Be,Le,Me,Te=["children","fieldSchema"],we=["title","dn"],Ue=["title","options","value","onChange","disabled"],je=["title","options","value","onChange"],De=["title","onChange"],ye=["schema"],_e=["title","onSubmit","initialValues","beforeOpen","initialSchema","schema","modalTip","components","scope"],q=["hidden","title","components","scope","effects","onSubmit","asyncGetInitialValues","initialValues","width","noRecord"],pe=(0,R.createContext)(null);pe.displayName="SchemaSettingsContext";function Re(){return(0,R.useContext)(pe)}var Oe=function(Ct){var mt=Ct.children,at=Ct.fieldSchema,ht=o()(Ct,Te),ot=(0,te.$t)(),kt=ot.getTemplateBySchema,nn=(0,B.useCollection_deprecated)(),Lt=nn.name,hn=kt(at);return(0,Se.jsx)(pe.Provider,{value:n()({collectionName:Lt,template:hn,fieldSchema:at},ht),children:mt})},$e=100,Ve=function(Ct){var mt=Ct.title,at=Ct.dn,ht=o()(Ct,we),ot=(0,R.useState)(!1),kt=f()(ot,2),nn=kt[0],Lt=kt[1],hn=(0,R.useState)([]),Dn=f()(hn,2),Gt=Dn[0],mn=Dn[1],qt=(0,Y.iX)(),$t=qt.Component,Pn=qt.getMenuItems,vn=(0,R.useTransition)(),sn=f()(vn,2),Rn=sn[1],un=(0,W.e)([nn]),jt=(0,R.useRef)(!1),rn=(0,R.useCallback)(function(En,gn){(gn.source==="trigger"||En)&&Rn(function(){Lt(En)})},[]),An=Pn(function(){return Ct.children});return(0,Se.jsxs)(Oe,n()(n()({visible:nn,setVisible:Lt,dn:at},ht),{},{children:[(0,Se.jsx)($t,{}),(0,Se.jsx)(O.Z,{open:nn,onOpenChange:rn,overlayClassName:(0,g.css)(Be||(Be=i()([`
          .ant-dropdown-menu-item-group-list {
            max-height: 400px;
            overflow-y: auto;
          }
        `]))),menu:{items:An,"data-testid":"schema-settings-menu",style:{maxHeight:un,overflowY:"auto"},openKeys:Gt,onOpenChange:function(gn){jt.current||mn(gn)},onClick:function(){jt.current=!0,setTimeout(function(){jt.current=!1},$e)}},children:(0,Se.jsx)("div",{"data-testid":Ct["data-testid"],children:typeof mt=="string"?(0,Se.jsx)("span",{children:mt}):mt})})]}))},Ze=function(Ct){return Ct.reduceProperties(function(mt,at){if(at["x-component"]==="FormV2"||at["x-component"]==="Details"){var ht=at.reduceProperties(function(ot,kt){return kt["x-component"]==="Grid"||kt["x-component"]==="BlockTemplate"?kt:ot},null);if(ht)return ht}return mt},null)},qe=function(Ct){return Ct.reduceProperties(function(mt,at){if(at["x-component"]==="FormV2"||at["x-component"]==="Details"){var ht=at.reduceProperties(function(ot,kt){return kt["x-component"]==="BlockTemplate"?kt:ot},null);if(ht)return ht}return mt},null)},Qe=function(Ct){var mt=Ct.insertAdjacentPosition,at=mt===void 0?"afterBegin":mt,ht=Ct.componentName,ot=Ct.collectionName,kt=Ct.resourceName,nn=(0,N.$)(),Lt=nn.t,hn=(0,B.useCompile)(),Dn=(0,B.useCollectionManager_deprecated)(),Gt=Dn.getCollection,mn=Re(),qt=mn.dn,$t=mn.setVisible,Pn=mn.template,vn=mn.fieldSchema,sn=(0,B.useAPIClient)(),Rn=(0,te.$t)(),un=Rn.saveAsTemplate,jt=Rn.copyTemplateSchema,rn=(0,B.useGlobalTheme)(),An=rn.theme;return ot?Pn?(0,Se.jsx)(ke,{title:"Convert reference to duplicate",onClick:t()(d()().mark(function En(){var gn,jn,Yt;return d()().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.next=2,jt(Pn);case 2:return gn=wt.sent,jn=qe(vn),Yt=(0,B.createDesignable)({t:Lt,api:sn,refresh:qt.refresh.bind(qt),current:jn.parent}),Yt.loadAPIClientEvents(),Yt.removeWithoutEmit(jn),Yt.insertAdjacent(at,gn,{onSuccess:function(){return t()(d()().mark(function It(){return d()().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:return In.next=2,sn.request({url:"/uiSchemas:remove/".concat(jn["x-uid"])});case 2:case"end":return In.stop()}},It)}))()}}),vn["x-template-key"]=null,wt.next=11,sn.request({url:"uiSchemas:patch",method:"post",data:{"x-uid":vn["x-uid"],"x-template-key":null}});case 11:qt.refresh();case 12:case"end":return wt.stop()}},En)})),children:Lt("Convert reference to duplicate")}):(0,Se.jsx)(ke,{title:"Save as block template",onClick:t()(d()().mark(function En(){var gn,jn,Yt,gt,wt,Vt;return d()().wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return $t(!1),gn=ot&&Gt(ot),jn=Ze(vn),zt.next=5,(0,B.FormDialog)(Lt("Save as template"),function(){var In={FormItem:Lt("Form"),ReadPrettyFormItem:Lt("Details")};return(0,Se.jsx)(y.FormLayout,{layout:"vertical",children:(0,Se.jsx)(B.SchemaComponent,{components:{Input:y.Input,FormItem:y.FormItem},schema:{type:"object",properties:{name:{title:Lt("Template name"),required:!0,default:gn?"".concat(hn((gn==null?void 0:gn.title)||(gn==null?void 0:gn.name)),"_").concat(Lt(In[ht]||ht)):Lt(In[ht]||ht),"x-decorator":"FormItem","x-component":"Input"}}}})})},An).open({});case 5:return Yt=zt.sent,gt=(0,B.createDesignable)({t:Lt,api:sn,refresh:qt.refresh.bind(qt),current:jn.parent}),gt.loadAPIClientEvents(),zt.next=10,un({collectionName:ot,resourceName:kt,componentName:ht,dataSourceKey:gn.dataSource,name:Yt.name,uid:jn["x-uid"]});case 10:return wt=zt.sent,Vt=wt.key,gt.removeWithoutEmit(jn),gt.insertAdjacent(at,{type:"void","x-component":"BlockTemplate","x-component-props":{templateId:Vt}}),vn["x-template-key"]=Vt,zt.next=17,sn.request({url:"uiSchemas:patch",method:"post",data:{"x-uid":vn["x-uid"],"x-template-key":Vt}});case 17:case"end":return zt.stop()}},En)})),children:Lt("Save as block template")}):null},ke=function(Ct){var mt=(0,Y.nu)(),at=mt.pushMenuItem,ht=(0,Y.d5)(),ot=ht.collectMenuItem,kt=Ct.eventKey,nn=Ct.title,Lt=Ct.itemKey,hn=n()(n()({key:Lt||nn},b().omit(Ct,["children","name","itemKey"])),{},{eventKey:kt,onClick:function(Gt){var mn;Gt.domEvent.preventDefault(),Gt.domEvent.stopPropagation(),Ct==null||(mn=Ct.onClick)===null||mn===void 0||mn.call(Ct,Gt)},style:{minWidth:120},label:Ct.children||Ct.title,title:Ct.title});return at==null||at(hn),ot==null||ot(hn),null},ft=function(Ct){var mt=(0,Y.iX)(),at=mt.Component,ht=mt.getMenuItems,ot=(0,Y.nu)(),kt=ot.pushMenuItem,nn=(0,R.useMemo)(function(){return(0,E.uid)()},[]),Lt={key:nn,type:"group",title:Ct.title,label:Ct.title,children:ht(function(){return Ct.children})};return kt(Lt),(0,Se.jsx)(at,{})},vt=function(Ct){var mt=(0,Y.iX)(),at=mt.Component,ht=mt.getMenuItems,ot=(0,Y.nu)(),kt=ot.pushMenuItem,nn=(0,R.useMemo)(function(){return(0,E.uid)()},[]),Lt={key:nn,label:Ct.title,title:Ct.title,children:ht(function(){return Ct.children})};return kt(Lt),(0,Se.jsx)(at,{})},_t=function(){var Ct=(0,Y.nu)(),mt=Ct.pushMenuItem,at=(0,R.useMemo)(function(){return(0,E.uid)()},[]),ht={key:at,type:"divider"};return mt(ht),null},Nt=function(Ct){var mt=Ct.confirm,at=Ct.removeParentsIfNoChildren,ht=Ct.breakRemoveOn,ot=Re(),kt=ot.dn,nn=ot.template,Lt=(0,N.$)(),hn=Lt.t,Dn=(0,P.useField)(),Gt=(0,P.useFieldSchema)(),mn=(0,le.r)(),qt=(0,P.useForm)(),$t=T.Z.useApp(),Pn=$t.modal,vn=(0,U.useFormActiveFields)()||{},sn=vn.removeActiveFieldName,Rn=(0,C.kO)(),un=Rn.removeDataBlock;return(0,Se.jsx)(ke,{title:"Delete",eventKey:"remove",onClick:function(){Pn.confirm(n()(n()({title:hn("Delete block"),content:hn("Are you sure you want to delete it?")},mt),{},{onOk:function(){return t()(d()().mark(function An(){var En,gn;return d()().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:if(gn={removeParentsIfNoChildren:at,breakRemoveOn:ht},Dn!=null&&Dn.required&&(Dn.required=!1,Gt.required=!1),!(nn&&nn.uid===Gt["x-uid"]&&mn!==null&&mn!==void 0&&mn.dn)){Yt.next=7;break}return Yt.next=5,mn==null?void 0:mn.dn.remove(null,gn);case 5:Yt.next=9;break;case 7:return Yt.next=9,kt.remove(null,gn);case 9:return Yt.next=11,mt==null||(En=mt.onOk)===null||En===void 0?void 0:En.call(mt,{fieldSchema:Gt});case 11:delete qt.values[Gt.name],sn==null||sn(Gt.name),qt==null||qt.query(new RegExp("".concat(Gt.parent.name,".").concat(Gt.name,"$"))).forEach(function(gt){var wt;(wt=gt.setValue)===null||wt===void 0||wt.call(gt,void 0)}),un(Gt["x-uid"]);case 15:case"end":return Yt.stop()}},An)}))()}}))},children:hn("Delete")})},Kt=function(Ct){var mt=Ct.title,at=Ct.options,ht=Ct.value,ot=Ct.onChange,kt=Ct.disabled,nn=o()(Ct,Ue);return(0,Se.jsx)(ke,n()(n()({title:mt},nn),{},{children:(0,Se.jsx)(F.T,{title:mt,defaultValue:ht,onChange:ot,options:at,disabled:kt})}))},ut=function(Ct){var mt=Ct.title,at=Ct.options,ht=Ct.value,ot=Ct.onChange,kt=o()(Ct,je);return(0,Se.jsx)(ke,n()(n()({title:mt},kt),{},{children:(0,Se.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[mt,(0,Se.jsx)(S.Z,n()({bordered:!1,defaultValue:ht,onChange:ot,options:at,style:{textAlign:"right",minWidth:100}},Ct))]})}))},Rt=function(Ct){var mt=Ct.title,at=Ct.onChange,ht=o()(Ct,De),ot=(0,R.useState)(!!Ct.checked),kt=f()(ot,2),nn=kt[0],Lt=kt[1];return(0,Se.jsx)(ke,n()(n()({title:mt},ht),{},{onClick:function(){at==null||at(!nn),Lt(!nn)},children:(0,Se.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[mt,(0,Se.jsx)($.Z,{size:"small",checked:nn,style:{marginLeft:32}})]})}))},Dt=function(Ct){var mt=Ct.schema,at=o()(Ct,ye),ht=(0,R.useState)(!1),ot=f()(ht,2),kt=ot[0],nn=ot[1],Lt=(0,R.useContext)(pe);return(0,Se.jsxs)(B.ActionContextProvider,{value:{visible:kt,setVisible:nn},children:[(0,Se.jsx)(ke,n()(n()({title:Ct.title},at),{},{onClick:function(){Lt.setVisible(!1),nn(!0)},children:Ct.children||Ct.title})),(0,Se.jsx)(B.SchemaComponent,{schema:n()({name:(0,E.uid)()},mt)})]})},dt=R.memo(function(xt){var Ct=xt.title,mt=xt.onSubmit,at=xt.initialValues,ht=xt.beforeOpen,ot=xt.initialSchema,kt=xt.schema,nn=xt.modalTip,Lt=xt.components,hn=xt.scope,Dn=o()(xt,_e),Gt=(0,R.useState)(!1),mn=f()(Gt,2),qt=mn[0],$t=mn[1],Pn=(0,R.useState)(xt.uid),vn=f()(Pn,2),sn=vn[0],Rn=vn[1],un=(0,N.$)(),jt=un.t,rn=(0,P.useFieldSchema)(),An=(0,R.useContext)(pe),En=Re(),gn=En.dn,jn=(0,B.useCompile)(),Yt=(0,B.useAPIClient)(),gt=(0,U.useFormActiveFields)(),wt=(0,R.useMemo)(function(){return(0,D.createForm)({initialValues:(0,M.cloneDeep)(at),values:(0,M.cloneDeep)(at)})},[at]);(0,R.useEffect)(function(){wt.setInitialValues((0,M.cloneDeep)(at))},[JSON.stringify(at||{})]);var Vt=(0,R.useCallback)(function(){$t(!1),wt.reset()},[wt]),It=(0,R.useCallback)(t()(d()().mark(function Tn(){return d()().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return qn.next=2,wt.submit();case 2:mt==null||mt((0,M.cloneDeep)(wt.values)),$t(!1);case 4:case"end":return qn.stop()}},Tn)})),[wt,mt]),zt=(0,R.useCallback)(t()(d()().mark(function Tn(){return d()().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:if(!(!sn&&ot!==null&&ot!==void 0&&ot["x-uid"])){qn.next=6;break}return rn["x-action-settings"].schemaUid=ot["x-uid"],gn.emit("patch",{schema:rn}),qn.next=5,Yt.resource("uiSchemas").insert({values:ot});case 5:Rn(ot["x-uid"]);case 6:typeof ht=="function"&&(ht==null||ht()),An.setVisible(!1),$t(!0);case 9:case"end":return qn.stop()}},Tn)})),[Yt,An,gn,rn,ot,sn]),In=(0,R.useCallback)(function(Tn){return Tn.stopPropagation()},[]);return(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(ke,n()(n()({title:jn(Ct)},Dn),{},{onClick:zt,onKeyDown:In,children:xt.children||xt.title})),(0,L.createPortal)((0,Se.jsx)(Z.Z,n()(n()({width:"50%",title:jn(Ct)},Dn),{},{destroyOnClose:!0,open:qt,onCancel:Vt,footer:(0,Se.jsxs)(K.Z,{children:[(0,Se.jsx)(z.ZP,{onClick:Vt,children:jt("Cancel")}),(0,Se.jsx)(z.ZP,{type:"primary",onClick:It,children:jt("Submit")})]}),children:(0,Se.jsx)(U.FormActiveFieldsProvider,{name:"form",getActiveFieldsName:gt==null?void 0:gt.getActiveFieldsName,children:(0,Se.jsx)(B.FormProvider,{form:wt,children:(0,Se.jsxs)(y.FormLayout,{layout:"vertical",children:[nn&&(0,Se.jsx)(w.Z,{message:nn}),nn&&(0,Se.jsx)("br",{}),qt&&sn&&(0,Se.jsx)(B.RemoteSchemaComponent,{noForm:!0,components:Lt,scope:hn,uid:sn}),qt&&kt&&(0,Se.jsx)(B.SchemaComponent,{components:Lt,scope:hn,schema:kt})]})})})})),document.body)]})});dt.displayName="SchemaSettingsActionModalItem";var Bt=function(Ct){var mt=Ct.hidden,at=Ct.title,ht=Ct.components,ot=Ct.scope,kt=Ct.effects,nn=Ct.onSubmit,Lt=Ct.asyncGetInitialValues,hn=Ct.initialValues,Dn=Ct.width,Gt=Dn===void 0?"fit-content":Dn,mn=Ct.noRecord,qt=mn===void 0?!1:mn,$t=o()(Ct,q),Pn=(0,R.useContext)(P.SchemaOptionsContext),vn=(0,B.useCollection_deprecated)(),sn=(0,B.useAPIClient)(),Rn=(0,B.useApp)(),un=(0,B.useGlobalTheme)(),jt=un.theme,rn=(0,I.BU)(),An=(0,U.useFormActiveFields)(),En=(0,R.useContext)(A.ZP.ConfigContext),gn=En.locale,jn=(0,X.fp)(),Yt=(0,J.FC)(),gt=(0,B.useCollectionRecord)(),wt=(0,B.useDataBlockProps)()||{},Vt=wt.association,It=(0,V.bz)(),zt=(0,I.VG)(),In=(0,Ae.Q)(),Tn=In.getOperators,en=(0,B.useLocationSearch)(),qn=(0,H.eI)(),er=qn.formValue,ar=qn.collection,nr=qn.parent,rr=(0,Pe.Sw)(),hr=(0,Pe.ec)();return mt?null:(0,Se.jsx)(ke,n()(n()({title:at},$t),{},{onClick:t()(d()().mark(function Ar(){var _r,Ir;return d()().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:if(!Lt){Mr.next=6;break}return Mr.next=3,Lt();case 3:Mr.t0=Mr.sent,Mr.next=7;break;case 6:Mr.t0=hn;case 7:_r=Mr.t0,Ir=b().isFunction(Ct.schema)?Ct.schema():Ct.schema,(0,B.FormDialog)({title:Ir.title||at,width:Gt},function(){return(0,Se.jsx)(Ae.H,{defaultOperators:Tn(),children:(0,Se.jsx)(I.Qj.Provider,{value:zt,children:(0,Se.jsx)(Pe.Rm,{recordData:rr==null?void 0:rr.value,collection:rr==null?void 0:rr.collection,parent:{recordData:hr==null?void 0:hr.value,collection:hr==null?void 0:hr.collection},children:(0,Se.jsx)(B.CollectionRecordProvider,{record:qt?null:gt,children:(0,Se.jsx)(V.TC.Provider,{value:It,children:(0,Se.jsx)(H._c,{value:{value:er,collection:ar,parent:nr},children:(0,Se.jsx)(U.FormActiveFieldsProvider,{name:"form",getActiveFieldsName:An==null?void 0:An.getActiveFieldsName,children:(0,Se.jsx)(B.LocationSearchContext.Provider,{value:en,children:(0,Se.jsx)(I.br.Provider,{value:rn,children:(0,Se.jsx)(B.DataSourceApplicationProvider,{dataSourceManager:jn,dataSource:Yt,children:(0,Se.jsx)(B.AssociationOrCollectionProvider,{allowNull:!0,collection:vn.name,association:Vt,children:(0,Se.jsx)(B.SchemaComponentOptions,{scope:Pn.scope,components:Pn.components,children:(0,Se.jsx)(y.FormLayout,{layout:"vertical",className:(0,g.css)(Le||(Le=i()([`
                                          // screen > 576px
                                          @media (min-width: 576px) {
                                            min-width: 520px;
                                          }

                                          // screen <= 576px
                                          @media (max-width: 576px) {
                                            min-width: 320px;
                                          }
                                        `]))),children:(0,Se.jsx)(B.ApplicationContext.Provider,{value:Rn,children:(0,Se.jsx)(B.APIClientProvider,{apiClient:sn,children:(0,Se.jsx)(A.ZP,{locale:gn,children:(0,Se.jsx)(B.SchemaComponent,{components:ht,scope:ot,schema:Ir})})})})})})})})})})})})})})})})})},jt).open({initialValues:_r,effects:kt}).then(function(Br){return nn(Br),Br}).catch(function(Br){(0,he.captureException)(Br)});case 10:case"end":return Mr.stop()}},Ar)})),children:Ct.children||Ct.title}))},He=function(Ct){var mt=Ct.path,at=mt===void 0?"x-component-props.params.sort":mt,ht=(0,N.$)(),ot=ht.t,kt=(0,B.useDesignable)(),nn=kt.dn,Lt=(0,P.useFieldSchema)(),hn=(0,P.useField)(),Dn=Ct.title||ot("Set default sorting rules"),Gt=(0,B.useCollection_deprecated)(),mn=Gt.name,qt=(0,M.get)(Lt,at)||[],$t=qt==null?void 0:qt.map(function(sn){return sn.startsWith("-")?{field:sn.substring(1),direction:"desc"}:{field:sn,direction:"asc"}}),Pn=(0,B.useSortFields)(Ct.name||mn),vn=function(){var sn=t()(d()().mark(function Rn(un){var jt,rn,An;return d()().wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:if(rn=un.sort,!(Ct!=null&&Ct.onSubmit)){gn.next=3;break}return gn.abrupt("return",Ct.onSubmit({sort:rn}));case 3:return An=rn.map(function(jn){return jn.direction==="desc"?"-".concat(jn.field):jn.field}),(0,M.set)(hn,at.replace("x-component-props","componentProps").replace("x-decorator-props","decoratorProps"),An),(0,M.set)(Lt,at,An),gn.next=8,nn.emit("patch",{schema:Lt});case 8:return gn.abrupt("return",(jt=Ct.onSubmitAfter)===null||jt===void 0?void 0:jt.call(Ct));case 9:case"end":return gn.stop()}},Rn)}));return function(un){return sn.apply(this,arguments)}}();return(0,Se.jsx)(Bt,{title:Dn,components:{ArrayItems:y.ArrayItems},schema:{type:"object",title:Dn,properties:{sort:{type:"array",default:$t,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:Pn,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:ot("ASC"),value:"asc"},{label:ot("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:ot("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:vn})},ct=function(Ct){var mt=Ct.collectionName,at=Ct.readPretty,ht=Ct.isSubRecordMode,ot=(0,P.useFieldSchema)(),kt=(0,V.bz)(),nn=kt.form,Lt=(0,B.useDesignable)(),hn=Lt.dn,Dn=(0,N.$)(),Gt=Dn.t,mn=(0,te.$t)(),qt=mn.getTemplateById,$t=(0,ne.OQ)(),Pn=(0,ne.Kp)(),vn=(0,B.useRecord)(),sn=(0,V.th)(),Rn=sn.type,un=Ct!=null&&Ct.type||["Action","Action.Link","Action.Icon"].includes(ot["x-component"])?"button":"field",jt=Ze(ot)||ot,rn=(0,R.useMemo)(function(){return{type:"object",title:Gt("Linkage rules"),properties:{fieldReaction:{"x-component":be.U,"x-use-component-props":function(){var jn=(0,B.useLinkageCollectionFilterOptions)(mt),Yt=ge(mt,at);return{options:jn,defaultValues:(jt==null?void 0:jt["x-linkage-rules"])||(ot==null?void 0:ot["x-linkage-rules"]),type:un,linkageOptions:Yt,collectionName:mt,form:nn,variables:$t,localVariables:Pn,record:vn,formBlockType:Rn,isSubRecordMode:ht,readPretty:at}}}}}},[mt,ot,nn,jt,Pn,vn,Gt,un,$t]),An=(0,R.useMemo)(function(){return{ArrayCollapse:y.ArrayCollapse,FormLayout:y.FormLayout}},[]),En=(0,R.useCallback)(function(gn){var jn,Yt=[],gt=u()(gn.fieldReaction.rules),wt;try{for(gt.s();!(wt=gt.n()).done;){var Vt=wt.value;Yt.push(b().pickBy(Vt,b().identity))}}catch(Tn){gt.e(Tn)}finally{gt.f()}var It=jt["x-component"]==="BlockTemplate"&&((jn=jt["x-component-props"])===null||jn===void 0?void 0:jn.templateId),zt=It&&qt(It).uid||jt["x-uid"],In=m()({},"x-uid",zt);jt["x-linkage-rules"]=Yt,In["x-linkage-rules"]=Yt,hn.emit("patch",{schema:In}),hn.refresh()},[hn,qt,jt]);return(0,Se.jsx)(Bt,{title:Gt("Linkage rules"),components:An,width:770,schema:rn,onSubmit:En})},St=function(Ct){var mt=(0,P.useFieldSchema)(),at=(0,B.useDesignable)(),ht=at.dn,ot=(0,N.$)(),kt=ot.t,nn=(0,te.$t)(),Lt=nn.getTemplateById,hn=Ze(mt)||mt,Dn=(0,R.useContext)(he.BlockPowerSettingDataContext),Gt=function(){return{type:"object",title:kt("setPowerRange"),properties:{power:{"x-component":"Filter","x-component-props":{collectionName:Ct.collectionName,useProps:"{{ useFilterActionProps }}"}}}}},mn=(0,R.useCallback)(function($t){var Pn=hn["x-component"]==="BlockTemplate"&&hn["x-component-props"].templateId,vn=Pn&&Lt(Pn).uid||hn["x-uid"],sn=m()({},"x-uid",vn);hn["x-set-power"]=$t.power,sn["x-set-power"]=$t.power,ht.emit("patch",{schema:sn}),ht.refresh()},[ht,Lt,hn]),qt=function(){var Pn;return{options:[{type:"string",name:"roleGroup",title:'{{t("rolegrouppower")}}',schema:{type:"array",title:'{{t("rolegrouppower")}}',rawTitle:'{{t("rolegrouppower")}}',"x-component":"Select","x-component-props":{mode:"tags"},isPowerFlagBool:!0,enum:(Pn=Dn.state)===null||Pn===void 0||(Pn=Pn.roleList)===null||Pn===void 0?void 0:Pn.map(function(vn){return{label:vn.label,value:vn.value,rawLabel:vn.label}})},operators:[{label:'{{t("contains")}}',value:"$includes"}]}]}};return(0,Se.jsx)(Bt,{title:kt("setPowerRange"),initialValues:{power:hn["x-set-power"]},schema:Gt,scope:{useFilterActionProps:qt},onSubmit:mn})},Tt=function(Ct){var mt=(0,P.useFieldSchema)();if(Ct)return{templateData:b().cloneDeep(Ct["x-data-templates"])};var at=(0,B.findFormBlock)(mt)||mt;return{templateData:b().cloneDeep(at==null?void 0:at["x-data-templates"])}},Mt=function(Ct){var mt=(0,R.useContext)(B.SchemaComponentContext),at=Ct.collectionName,ht=(0,P.useFieldSchema)(),ot=(0,B.useDesignable)(),kt=ot.dn,nn=(0,N.$)(),Lt=nn.t,hn=(0,B.findFormBlock)(ht)||ht,Dn=Tt(),Gt=Dn.templateData,mn=(0,R.useMemo)(function(){return{type:"object",title:Lt("Form data templates"),properties:{fieldReaction:{"x-decorator":function(sn){return(0,Se.jsx)(k.Cm,n()(n()({},sn),{},{isInFormDataTemplate:!0}))},"x-component":ie.$y,"x-use-component-props":function(){return{defaultValues:Gt,collectionName:at}},"x-component-props":{designerCtx:mt,formSchema:hn}}}}},[Gt]),qt=(0,R.useCallback)(function(vn){var sn,Rn=n()(n()({},hn["x-data-templates"]||{}),vn.fieldReaction);Rn.items.forEach(function(jt){jt.fields=Array.isArray(jt.fields)?jt.fields:jt.fields.checked});var un=(sn={},m()(sn,"x-uid",hn["x-uid"]),m()(sn,"x-data-templates",Rn),sn);hn["x-data-templates"]=Rn,kt.emit("patch",{schema:un}),kt.refresh()},[]),$t=(0,R.useMemo)(function(){return Lt("Form data templates")},[]),Pn=(0,R.useMemo)(function(){return{ArrayCollapse:y.ArrayCollapse,FormLayout:y.FormLayout}},[]);return(0,Se.jsx)(Bt,{title:$t,components:Pn,width:770,schema:mn,onSubmit:qt})};function Zt(xt){var Ct,mt,at,ht=xt.collectionName,ot=(0,P.useFieldSchema)(),kt=(0,P.useField)(),nn=(0,B.useDesignable)(),Lt=nn.dn,hn=(0,N.$)(),Dn=hn.t,Gt=ot==null?void 0:ot["x-allow-add-to-current"],mn=(0,B.useCollectionManager_deprecated)(),qt=mn.getCollectionJoinField,$t=(0,I.BU)(),Pn=qt(ot==null||(Ct=ot.parent)===null||Ct===void 0?void 0:Ct["x-collection-field"])||{},vn=(ot==null||(mt=ot.parent)===null||mt===void 0?void 0:mt["x-component"])==="CollectionField";return(0,Se.jsx)(Bt,{title:Dn("Enable child collections"),components:{ArrayItems:y.ArrayItems,FormLayout:y.FormLayout},scope:{isAssocationAdd:vn},schema:{type:"object",title:Dn("Enable child collections"),properties:{enableChildren:{"x-component":ae,"x-use-component-props":function(){return{defaultValues:ot==null?void 0:ot["x-enable-children"],collectionName:ht}}},allowAddToCurrent:{type:"boolean","x-content":"{{t('Allow adding records to the current collection')}}","x-decorator":"FormItem","x-component":"Checkbox",default:Gt===void 0?!0:Gt},linkageFromForm:{type:"string",title:"{{t('Linkage with form fields')}}","x-visible":"{{isAssocationAdd}}","x-decorator":"FormItem","x-component":ce,"x-component-props":{rootCollection:$t.props.collection||$t.props.resource,collectionField:Pn},default:ot==null||(at=ot["x-component-props"])===null||at===void 0?void 0:at.linkageFromForm}}},onSubmit:function(Rn){var un=[],jt=u()(Rn.enableChildren.childrenCollections),rn;try{for(jt.s();!(rn=jt.n()).done;){var An=rn.value;un.push(b().pickBy(An,b().identity))}}catch(jn){jt.e(jn)}finally{jt.f()}var En=ot["x-uid"],gn=m()({},"x-uid",En);ot["x-enable-children"]=un,ot["x-allow-add-to-current"]=Rn.allowAddToCurrent,ot["x-component-props"]=n()(n()({},ot["x-component-props"]),{},{component:"CreateRecordAction",linkageFromForm:Rn==null?void 0:Rn.linkageFromForm}),gn["x-enable-children"]=un,gn["x-allow-add-to-current"]=Rn.allowAddToCurrent,gn["x-component-props"]=n()(n()({},ot["x-component-props"]),{},{component:"CreateRecordAction",linkageFromForm:Rn==null?void 0:Rn.linkageFromForm}),kt.componentProps.linkageFromForm=Rn.linkageFromForm,Lt.emit("patch",{schema:gn}),Lt.refresh()}})}var Je=(0,g.css)(Me||(Me=i()([`
  & > .nb-form-item {
    flex: 1;
  }
`]))),et=function(Ct){for(var mt=Ct.parent;mt;){if(mt["x-component"]==="CollectionField")return mt;mt=mt.parent}},rt=function(Ct,mt){var at=mt==null?void 0:mt(Ct==null?void 0:Ct.interface);return(at==null?void 0:at.group)==="systemInfo"};function yt(xt,Ct){var mt,at=(mt=xt==null?void 0:xt.default)!==null&&mt!==void 0?mt:Ct==null?void 0:Ct.defaultValue;return at}},25750:function(se,j,e){"use strict";e.d(j,{_:function(){return c}});var v=e(9783),m=e.n(v),x=e(94350),u=e(67294),p=e(26793),d=e(94516),h=e(62662),t=e(85893);function c(){var i,a=(0,x.useField)(),f=(0,x.useFieldSchema)(),l=(0,d.ng)(),n=l.dn,r=(0,p.$)(),o=r.t;return(0,t.jsx)(h.j0,{title:o("Edit block title"),schema:{type:"object",title:o("Edit block title"),properties:{title:{title:o("Block title"),type:"string",default:f==null||(i=f["x-component-props"])===null||i===void 0?void 0:i.title,"x-decorator":"FormItem","x-component":"Input"}}},onSubmit:function(y){var D,P=y.title,E=f["x-component-props"]||{};E.title=P,f["x-component-props"]=E,a.componentProps.title=P,n.emit("patch",{schema:(D={},m()(D,"x-uid",f["x-uid"]),m()(D,"x-component-props",f["x-component-props"]),D)}),n.refresh()}})}},13845:function(se,j,e){"use strict";e.d(j,{F:function(){return g}});var v=e(19632),m=e.n(v),x=e(9783),u=e.n(x),p=e(94350),d=e(98427),h=e(70173),t=e(67294),c=e(26793),i=e(21143),a=e(19958),f=e(87714),l=e(67205),n=function(D){return(D==null?void 0:D.targetKey)||"id"},r=e(62662),o=e(85893),g=function(D){var P=D.type,E=D.emptyDescription,O=(0,p.useFieldSchema)(),T=(0,i.useDesignable)(),S=T.dn,$=(0,c.$)(),Z=$.t,K=(0,i.useCollection_deprecated)(),z=(0,l.kO)(),w=z.inProvider,A=(0,f.Um)(P),M=(0,a.findFilterTargets)(O),b=M.targets,R=b===void 0?[]:b,L=M.uid,N=(0,i.useCompile)(),B=(0,i.useCollectionManager_deprecated)(),V=B.getAllCollectionsInheritChain;if(!w)return null;var U=A.map(function(I){var F="".concat(N(I.collection.title)," #").concat(I.uid.slice(0,4)),W=function(){var k=I.dom,Y=k.querySelector(".general-schema-designer");Y&&(Y.style.display="block"),k.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.2)",k.scrollIntoView({behavior:"smooth",block:"center"})},X=function(){var k=I.dom,Y=k.querySelector(".general-schema-designer");Y&&(Y.style.display=null),k.style.boxShadow="none"};if((0,f.yr)(I.collection,K)||(0,f.ZN)(I.collection))return(0,o.jsx)(r.hj,{title:F,checked:R.some(function(C){return C.uid===I.uid}),onChange:function(k){var Y;k?R.push({uid:I.uid}):(R=R.filter(function(H){return H.uid!==I.uid}),I.clearFilter(L)),(0,a.updateFilterTargets)(O,R),S.emit("patch",{schema:(Y={},u()(Y,"x-uid",L),u()(Y,"x-filter-targets",R),Y)}).catch(h.error),S.refresh()},onMouseEnter:W,onMouseLeave:X},I.uid);var J=R.find(function(C){return C.uid===I.uid});return(0,o.jsx)(r.Qf,{title:F,value:(J==null?void 0:J.field)||"",options:[].concat(m()((0,f.x5)(V(K.name),I).map(function(C){return{label:N(C.uiSchema.title)||C.name,value:"".concat(C.name,".").concat(n(C))}})),m()((0,f.zv)(K,I).map(function(C){return{label:"".concat(N(C.uiSchema.title)||C.name," [").concat(Z("Foreign key"),"]"),value:C.name}})),[{label:Z("Unconnected"),value:""}]),onChange:function(k){var Y;k===""?(R=R.filter(function(H){return H.uid!==I.uid}),I.clearFilter(L)):(R=R.filter(function(H){return H.uid!==I.uid}),R.push({uid:I.uid,field:k})),(0,a.updateFilterTargets)(O,R),S.emit("patch",{schema:(Y={},u()(Y,"x-uid",L),u()(Y,"x-filter-targets",R),Y)}),S.refresh()},onMouseEnter:W,onMouseLeave:X},I.uid)});return(0,o.jsx)(r.m$,{title:Z("Connect data blocks"),children:U.length?U:(0,o.jsx)(r.r2,{title:"empty",children:(0,o.jsx)(d.HYy,{style:{width:160,padding:"0 1em"},description:E})})})}},43319:function(se,j,e){"use strict";e.d(j,{H:function(){return r},d:function(){return o}});var v=e(97857),m=e.n(v),x=e(67294),u=e(26793),p=e(21143),d=e(79531),h=e(44355),t=e(53285),c=e(25813),i=e(62662),a=e(22691),f=e(25661),l=e(70173),n=e(85893),r=function(D){var P=(0,u.$)(),E=P.t,O=(0,h.useCollectionFilterOptionsV2)(D.collectionName),T=O.getFields,S=(0,p.useRecord)(),$=(0,d.bz)(),Z=$.form,K=(0,c.OQ)(),z=(0,c.Kp)(),w=(0,p.useCollectionManager_deprecated)(),A=w.getAllCollectionsInheritChain,M=(0,t.P5)()||{},b=M.isInSubForm,R=M.isInSubTable,L=(0,p.useApp)(),N=(0,x.useCallback)(function(V){return(0,n.jsx)(p.ApplicationContext.Provider,{value:L,children:(0,n.jsx)(p.DatePickerProvider,{value:{utc:!1},children:(0,n.jsx)(a.qj,m()(m()({},V),{},{form:Z,record:S,noDisabled:!0,shouldChange:(0,a.Vc)({collectionField:V.collectionField,variables:K,localVariables:z,getAllCollectionsInheritChain:A})}))})})},[Z,A,z,S,K]),B=function(){return{type:"object",title:E("Set the data scope"),properties:{filter:{enum:D.collectionFilterOption||T(),"x-decorator":function(I){return(0,n.jsx)(f.Nx,m()(m()({},I),{},{children:(0,n.jsx)(t.Cm,{isInSubForm:b,isInSubTable:R,children:I.children})}))},"x-decorator-props":{isDisabled:g},"x-component":"Filter","x-component-props":{collectionName:D.collectionName,dynamicComponent:D.dynamicComponent||N}}}}};return(0,n.jsx)(i.j0,{title:E("Set the data scope"),initialValues:{filter:D.defaultFilter},schema:B,onSubmit:D.onSubmit,noRecord:D.noRecord})},o=function(D){var P=(0,u.$)(),E=P.t,O=(0,h.useCollectionFilterOptionsV2)(D.collectionName),T=O.getFields,S=(0,p.useRecord)(),$=(0,d.bz)(),Z=$.form,K=(0,c.OQ)(),z=(0,c.Kp)(),w=(0,p.useCollectionManager_deprecated)(),A=w.getAllCollectionsInheritChain,M=(0,t.P5)()||{},b=M.isInSubForm,R=M.isInSubTable,L=(0,x.useContext)(l.BlockPowerSettingDataContext),N=(0,x.useCallback)(function(U){return(0,n.jsx)(p.DatePickerProvider,{value:{utc:!1},children:(0,n.jsx)(a.qj,m()(m()({},U),{},{form:Z,record:S,shouldChange:(0,a.Vc)({collectionField:U.collectionField,variables:K,localVariables:z,getAllCollectionsInheritChain:A})}))})},[Z,A,z,S,K]),B=function(){return{type:"object",title:E("setPowerRange"),properties:{power:{enum:D.collectionFilterOption||T(),"x-decorator":function(F){return(0,n.jsx)(f.Nx,m()(m()({},F),{},{children:(0,n.jsx)(t.Cm,{isInSubForm:b,isInSubTable:R,children:F.children})}))},"x-decorator-props":{isDisabled:g},"x-component":"Filter","x-component-props":{collectionName:D.collectionName,dynamicComponent:D.dynamicComponent||N,useProps:"{{ useFilterActionProps }}"}}}}},V=function(){var I;return{options:[{type:"string",name:"roleGroup",title:'{{t("rolegrouppower")}}',schema:{type:"array",title:'{{t("rolegrouppower")}}',rawTitle:'{{t("rolegrouppower")}}',"x-component":"Select","x-component-props":{mode:"tags"},isPowerFlagBool:!0,enum:(I=L.state)===null||I===void 0||(I=I.roleList)===null||I===void 0?void 0:I.map(function(F){return{label:F.label,value:F.value,rawLabel:F.label}})},operators:[{label:'{{t("contains")}}',value:"$includes"}]}]}};return(0,n.jsx)(i.j0,{title:E("setPowerRange"),initialValues:{power:D.defaultFilter},schema:B,onSubmit:D.onSubmit,scope:{useFilterActionProps:V}})};function g(y){var D,P=y.option,E=y.collectionField,O=y.uiSchema;if(!O||!E)return!0;if(E.interface==="json"||P.target)return!1;if(["input","markdown","richText","textarea","username"].includes(E.interface)){var T;return!["string","number"].includes((T=P.schema)===null||T===void 0?void 0:T.type)}return E.interface&&P.interface?E.interface!==P.interface:(O==null?void 0:O["x-component"])!==((D=P.schema)===null||D===void 0?void 0:D["x-component"])}},36248:function(se,j,e){"use strict";e.d(j,{y:function(){return b}});var v=e(97857),m=e.n(v),x=e(9783),u=e.n(x),p=e(68400),d=e.n(p),h=e(97133),t=e(94350),c=e(67294),i=e(26793),a=e(21143),f=e(5574),l=e.n(f),n=e(27484),r=e.n(n),o=e(36705),g=e(42075),y=e(55742),D=e(69677),P=e(85893),E,O=r()(),T=(0,h.css)(E||(E=d()([`
  width: 100%;
  & > .ant-space-item {
    flex: 1;
  }
`]))),S=function(L){var N=r()();return(0,P.jsxs)("div",{style:{display:"inline-flex"},children:[(0,P.jsx)("span",{children:L.format}),(0,P.jsx)($,{content:N.format(L.format)})]})},$=function(L){var N=L.content,B=(0,a.useToken)(),V=B.token;return(0,P.jsx)("span",{style:{display:"inline-block",background:V.colorBgTextHover,marginLeft:V.marginMD,lineHeight:"1",padding:V.paddingXXS,borderRadius:V.borderRadiusOuter},children:N})},Z=function(L){var N=L.onChange,B=L.defaultValue,V=L.formats,U=L.timeFormat,I=(0,o.Z)(L.value&&!V.includes(L.value)),F=l()(I,2),W=F[0],X=F[1],J=X.setFalse,C=X.setTrue,k=L.value&&!V.includes(L.value)?L.value:B,Y=(0,c.useState)(k?O.format(k):null),H=l()(Y,2),te=H[0],le=H[1],ne=function(ee){ee.target.value==="custom"?(C(),N(k)):(J(),N(ee.target.value))};return(0,P.jsx)(g.Z,{className:T,children:(0,P.jsx)(y.ZP.Group,{value:W?"custom":L.value,onChange:ne,children:(0,P.jsx)(g.Z,{direction:"vertical",children:L.options.map(function(ie){return ie.value==="custom"?(0,P.jsxs)(y.ZP,{value:ie.value,children:[(0,P.jsx)(D.Z,{style:{width:"150px"},defaultValue:k,onChange:function(fe){fe.target.value?le(O.format(fe.target.value)):le(null),W&&N(fe.target.value)}}),(0,P.jsx)($,{content:te})]},ie.value):(0,P.jsx)(y.ZP,{value:ie.value,"aria-label":ie.value,children:(0,P.jsx)("span",{role:"button","aria-label":ie.value,children:ie.label})},ie.value)})})})})},K=(0,t.connect)(Z,(0,t.mapProps)({dataSource:"options"})),z=e(62662),w,A,M,b=function(L){var N,B,V,U,I,F,W=L.fieldSchema,X=(0,t.useField)(),J=(0,a.useDesignable)(),C=J.dn,k=(0,i.$)(),Y=k.t,H=(0,a.useCollectionManager_deprecated)(),te=H.getCollectionJoinField,le=te(W==null?void 0:W["x-collection-field"])||{},ne=W==null||(N=W["x-component-props"])===null||N===void 0?void 0:N.showTime,ie=(W==null||(B=W["x-component-props"])===null||B===void 0?void 0:B.dateFormat)||(le==null||(V=le.uiSchema)===null||V===void 0||(V=V["x-component-props"])===null||V===void 0?void 0:V.dateFormat)||"YYYY-MM-DD",ee=(W==null||(U=W["x-component-props"])===null||U===void 0?void 0:U.timeFormat)||(le==null||(I=le.uiSchema)===null||I===void 0||(I=I["x-component-props"])===null||I===void 0?void 0:I.timeFormat)||"HH:mm:ss";return(0,P.jsx)(z.j0,{title:Y("Date display format"),schema:{type:"object",properties:{dateFormat:{type:"string",title:'{{t("Date format")}}',"x-component":K,"x-decorator":"FormItem","x-decorator-props":{},"x-component-props":{className:(0,h.css)(w||(w=d()([`
                  .ant-radio-wrapper {
                    display: flex;
                    margin: 5px 0px;
                  }
                `]))),defaultValue:"dddd",formats:["MMMM Do YYYY","YYYY-MM-DD","MM/DD/YY","YYYY/MM/DD","DD/MM/YYYY"]},default:ie,enum:[{label:S({format:"MMMM Do YYYY"}),value:"MMMM Do YYYY"},{label:S({format:"YYYY-MM-DD"}),value:"YYYY-MM-DD"},{label:S({format:"MM/DD/YY"}),value:"MM/DD/YY"},{label:S({format:"YYYY/MM/DD"}),value:"YYYY/MM/DD"},{label:S({format:"DD/MM/YYYY"}),value:"DD/MM/YYYY"},{label:"custom",value:"custom"}]},showTime:{default:ne===void 0?le==null||(F=le.uiSchema)===null||F===void 0||(F=F["x-component-props"])===null||F===void 0?void 0:F.showTime:ne,type:"boolean","x-decorator":"FormItem","x-component":"Checkbox","x-content":'{{t("Show time")}}',"x-reactions":[`{{(field) => {
              field.query('.timeFormat').take(f => {
                f.display = field.value ? 'visible' : 'none';
              });
            }}}`]},timeFormat:{type:"string",title:'{{t("Time format")}}',"x-component":K,"x-decorator":"FormItem","x-decorator-props":{className:(0,h.css)(A||(A=d()([`
                  margin-bottom: 0px;
                `])))},"x-component-props":{className:(0,h.css)(M||(M=d()([`
                  color: red;
                  .ant-radio-wrapper {
                    display: flex;
                    margin: 5px 0px;
                  }
                `]))),defaultValue:"h:mm a",formats:["hh:mm:ss a","HH:mm:ss"],timeFormat:!0},default:ee,enum:[{label:S({format:"hh:mm:ss a"}),value:"hh:mm:ss a"},{label:S({format:"HH:mm:ss"}),value:"HH:mm:ss"},{label:"custom",value:"custom"}]}}},onSubmit:function(de){var ue=u()({},"x-uid",W["x-uid"]);ue["x-component-props"]=W["x-component-props"]||{},W["x-component-props"]=m()(m()({},W["x-component-props"]||{}),de),ue["x-component-props"]=W["x-component-props"],X.componentProps=W["x-component-props"];var Se=X.path.entire.split(".");Se.pop();var ae=Se.join(".");X.query("".concat(ae,".*[0:].").concat(W.name)).forEach(function(G){G.props.name===W.name&&G.setComponentProps(m()({},de))}),C.emit("patch",{schema:ue}),C.refresh()}})}},21774:function(se,j,e){"use strict";e.d(j,{N:function(){return T}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(57134),d=e(94350),h=e(96486),t=e.n(h),c=e(67294),i=e(26793),a=e(21143),f=e(7340),l=e(1892),n=e(44355),r=e(53285),o=e(25813),g=e(76690),y=e(62662),D=e(22691),P=e(42121),E=e(85893),O=function($){var Z,K=((Z=$.fieldSchema)===null||Z===void 0?void 0:Z["x-action-context"])||{};return K},T=function($){var Z,K=(0,d.useFieldSchema)(),z=(Z=$==null?void 0:$.fieldSchema)!==null&&Z!==void 0?Z:K,w=(0,d.useField)(),A=(0,a.useDesignable)(),M=A.dn,b=(0,i.$)(),R=b.t,L=(0,a.useActionContext)(),N=O(L).collection,B,V=(0,a.useCollection_deprecated)(),U=V.getField,I=(0,a.useCollectionManager_deprecated)(),F=I.getCollectionJoinField,W=I.getCollectionFields,X=I.getAllCollectionsInheritChain,J=(0,o.OQ)(),C=(0,o.Kp)(),k=(0,a.useCollection_deprecated)(),Y=(0,a.useRecord)(),H=(0,f.bz)(),te=H.form,le=(0,n.useCollectionFilterOptionsV2)(k),ne=le.getFields,ie=(0,r.P5)()||{},ee=ie.isInSubForm,fe=ie.isInSubTable,de=k.name,ue=(0,c.useMemo)(function(){return U(z.name)||F(z["x-collection-field"])},[z,F,U]),Se=t().omit(z,"required");if(ue!=null&&ue.target){var ae;B=F("".concat(ue.target,".").concat(((ae=z["x-component-props"])===null||ae===void 0||(ae=ae.fieldNames)===null||ae===void 0?void 0:ae.label)||"id"))}var G=(ue==null?void 0:ue.interface)==="m2o"&&(0,y.PO)(z),re=G&&F(G==null?void 0:G["x-collection-field"]),oe=(0,l.Si)(),ce=(ue==null?void 0:ue.interface)==="m2m"||(re==null?void 0:re.type)==="hasMany"&&(ue==null?void 0:ue.interface)==="m2o",be=(0,c.useCallback)(function(Pe){var Ae=Pe.find(function(Le){return Le.value==="$nForm"}),Be=W(de);return!(Be!=null&&Be.length)&&Ae&&(Ae.children=(0,P.X)(ne())),Pe},[ne,de]),xe=(0,c.useMemo)(function(){return{ArrayCollapse:p.ArrayCollapse,FormLayout:p.FormLayout,VariableInput:function(Ae){return(0,E.jsx)(r.Cm,{isInSubForm:ee,isInSubTable:fe,isInSetDefaultValueDialog:!0,children:(0,E.jsx)(D.qj,u()({},Ae))})}}},[ee,fe]),ge=(0,c.useMemo)(function(){return{type:"object",title:R("Set default value"),properties:{default:{"x-decorator":"FormItem","x-component":"VariableInput","x-component-props":u()(u()({},(z==null?void 0:z["x-component-props"])||{}),{},{collectionField:ue,contextCollectionName:ce?N:"",schema:ue==null?void 0:ue.uiSchema,targetFieldSchema:z,className:y.ZL,form:te,record:Y,returnScope:be,shouldChange:(0,D.Vc)({collectionField:ue,variables:J,localVariables:C,getAllCollectionsInheritChain:X}),renderSchemaComponent:function(Ae){var Be=t().cloneDeep(Se)||{};Be.title="",Be.name="default",Be["x-read-pretty"]=!1,Be["x-disabled"]=!1;var Le=(0,y.os)(Be,ue);ue.target&&Be["x-component-props"]&&(Be["x-component-props"].mode="Select"),ue!=null&&ue.uiSchema.type&&(Be.type=ue.uiSchema.type),(ue==null?void 0:ue.uiSchema["x-component"])==="Checkbox"&&(t().set(Be,"x-component-props.defaultChecked",Le),Be.type="void");var Me=u()(u()({},Be||{}),{},{"x-decorator":"FormItem","x-component-props":u()(u()({},Be["x-component-props"]),{},{collectionName:ue==null?void 0:ue.collectionName,targetField:B,onChange:Ae.onChange,defaultValue:(0,g.cG)(Le)?"":Le,style:{width:"100%",verticalAlign:"top",minWidth:"200px"}}),default:(0,g.cG)(Le)?"":Le});return(0,E.jsx)(a.FormProvider,{children:(0,E.jsx)(a.SchemaComponent,{schema:Me})})}}),title:R("Default value"),default:(0,y.os)(z,ue)}}}},[ue,z,Se,te,X,ce,C,Y,be,R,oe.collection,B,J]),he=(0,c.useCallback)(function(Pe){var Ae,Be,Le=m()({},"x-uid",z["x-uid"]);if(z.default=(Ae=Pe.default)!==null&&Ae!==void 0?Ae:null,!(0,g.cG)(Pe.default)){var Me;(Me=w.setInitialValue)===null||Me===void 0||Me.call(w,Pe.default)}Le.default=(Be=Pe.default)!==null&&Be!==void 0?Be:null,M.emit("patch",{schema:Le,currentSchema:K})},[K,M,w,z]);return(0,E.jsx)(y.j0,{title:R("Set default value"),components:xe,width:800,schema:ge,onSubmit:he})}},93130:function(se,j,e){"use strict";e.d(j,{Zr:function(){return P},_z:function(){return g},sK:function(){return o}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(67294),d=e(94350),h=e(84327),t=e(26793),c=e(70173),i=e(6145),a=e(94516),f=e(62662),l=e(85893),n=function(O,T){var S=[];return O&&(S=O.mapProperties(function($){var Z=(0,c.findSchema)($,function(K){return K["x-component"]==="CollectionField"});return Z==null?void 0:Z.name}).filter(function($){return $})),S.map(function($){var Z;return{value:$,label:((Z=T.filter(function(K){return K.name===$})[0])===null||Z===void 0||(Z=Z.uiSchema)===null||Z===void 0?void 0:Z.title)||$}})},r=function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return T.filter(function(S){return(0,c.findSchema)(O,function($){return($==null?void 0:$.name)===S&&($==null?void 0:$["x-component"])==="CollectionField"})})},o=function E(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";O.mapProperties(function($){var Z;($==null||(Z=$.parent)===null||Z===void 0||(Z=Z.parent)===null||Z===void 0||(Z=Z.parent)===null||Z===void 0||(Z=Z.parent)===null||Z===void 0?void 0:Z["x-component"])===S&&($==null?void 0:$["x-component"])==="CollectionField"&&(T.length&&!T.some(function(K){return($==null?void 0:$.name)===K}))?$["x-visible"]=!1:E($,T,S)})},g=function(){var O,T,S,$,Z=(0,d.useFieldSchema)(),K=(0,a.ng)(),z=K.dn,w=(0,t.$)(),A=w.t,M=(0,i.useCollection_deprecated)(),b=M.currentFields,R=b===void 0?[]:b,L=(0,c.findSchema)(Z,function(F){return(F==null?void 0:F["x-initializer"])==="details:configureFields"}),N=(0,c.findSchema)(Z,function(F){return(F==null?void 0:F["x-initializer"])==="table:configureColumns"}),B={type:"boolean",title:A("Display format"),"x-decorator":"FormItem","x-component":"Checkbox",default:!!(Z!=null&&(O=Z["x-component-props"])!==null&&O!==void 0&&O.aslist),"x-content":A("Displayed as list"),"x-reactions":[`{{(field) => {
        field.query('.showfields').take(f => {
          f.display = field.value ? 'visible' : 'none';
        });
      }}}`]},V={type:"array",title:A("Fields for list display"),"x-decorator":"FormItem","x-component":"Select","x-component-props":{multiple:!0},"x-validator":`{{(value) => {
      if (value?.length > 5) {
        return t('Please select 1 to 5 fields');
      }
    }}}`},U={type:"boolean",title:A("Card switching method"),"x-decorator":"FormItem","x-component":"Checkbox",default:!!(Z!=null&&(T=Z["x-component-props"])!==null&&T!==void 0&&T.asswipe),"x-content":A("Left-right swipe")},I={type:"object",title:A("Mobile adaptation")};return["blockSettings:gridCard","blockSettings:list"].includes(Z["x-settings"])&&(I.properties={showfields:u()(u()({},V),{},{enum:n(L,R),default:r(L,Z==null||(S=Z["x-component-props"])===null||S===void 0?void 0:S.showfields)}),asswipe:U}),["blockSettings:table"].includes(Z["x-settings"])&&(I.properties={aslist:B,showfields:u()(u()({},V),{},{enum:n(N,R),default:r(N,Z==null||($=Z["x-component-props"])===null||$===void 0?void 0:$.showfields)})}),["blockSettings:auditTodo"].includes(Z["x-settings"])&&(I.properties={asswipe:U}),(0,l.jsx)(f.j0,{title:A("Mobile adaptation"),width:580,schema:I,onSubmit:function(W){var X,J=W.aslist,C=W.showfields,k=W.asswipe,Y=Z["x-component-props"]||{};Y=u()(u()({},Y),{},{aslist:J,showfields:C,asswipe:k}),Z["x-component-props"]=Y,z.emit("patch",{schema:(X={},m()(X,"x-uid",Z["x-uid"]),m()(X,"x-component-props",Z["x-component-props"]),X)}),z.refresh()}})},y=function(O){var T=[],S=(0,c.findSchema)(O,function(Z){return(Z==null?void 0:Z["x-component"])==="TableV2"}),$=function Z(K){K.mapProperties(function(z){var w;(z==null?void 0:z["x-component"])==="CollectionField"&&(z==null||(w=z.parent)===null||w===void 0||(w=w.parent)===null||w===void 0?void 0:w["x-component"])==="TableV2"?T.push(z.toJSON()):Z(z)})};return S&&$(S),T},D=function E(O,T){if(T(O))return O;for(var S in(O==null?void 0:O.properties)||{}){var $=E(O.properties[S],T);if($)return $}return null},P=function(O){var T,S,$=((T=D(O,function(w){return(w==null?void 0:w["x-initializer"])==="table:configureActions"}))===null||T===void 0?void 0:T.properties)||{},Z=((S=D(O,function(w){return(w==null?void 0:w["x-component"])==="Space"&&(w==null?void 0:w["x-decorator"])==="DndContext"}))===null||S===void 0?void 0:S.properties)||{},K={};y(O).map(function(w){K[(0,h.uid)()]={type:"void","x-component":"Grid.Row",properties:m()({},(0,h.uid)(),{type:"void","x-component":"Grid.Col",properties:m()({},w==null?void 0:w.name,u()(u()({},w),{},{type:"string","x-decorator":"FormItem","x-decorator-props":u()(u()({},(w==null?void 0:w["x-decorator-props"])||{}),{},{labelStyle:{dispaly:"block"}})}))})}});var z=u()(u()({},(O==null?void 0:O.toJSON())||{}),{},{"x-settings":null,"x-toolbar":null,"x-component":"CardItem","x-decorator":"List.Decorator","x-decorator-props":u()(u()({},(O==null?void 0:O["x-decorator-props"])||{}),{},{readPretty:!0,runWhenParamsChanged:!0}),"x-use-decorator-props":"useListBlockDecoratorProps",properties:{actionBar:{type:"void","x-component":"ActionBar","x-initializer":"list:configureActions","x-component-props":{style:{marginBottom:"var(--nb-spacing)"}},properties:$,"x-index":1},list:{type:"array","x-component":"List","x-use-component-props":"useListBlockProps",properties:{item:{type:"object","x-component":"List.Item","x-read-pretty":!0,"x-use-component-props":"useListItemProps",properties:{grid:{type:"void","x-component":"Grid",properties:K,"x-index":1},actionBar:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column"},"x-use-component-props":"useListActionBarProps","x-initializer":"list:configureItemActions",properties:Z,"x-index":2}}}},"x-index":2}}});return new d.Schema(z)}},93329:function(se,j,e){"use strict";e.d(j,{w:function(){return f}});var v=e(9783),m=e.n(v),x=e(94350),u=e(96486),p=e.n(u),d=e(67294),h=e(26793),t=e(21143),c=e(62662),i=e(57134),a=e(85893),f=function(n){var r,o,g=(0,x.useField)(),y=(0,t.useDesignable)(),D=y.dn,P=(0,h.$)(),E=P.t,O=(0,x.useFieldSchema)(),T=(0,t.useCollection_deprecated)(),S=T.getField,$=(0,t.useCollectionManager_deprecated)(),Z=$.getCollectionJoinField,K=(r=n==null?void 0:n.fieldSchema)!==null&&r!==void 0?r:O,z=S(K.name)||Z(K["x-collection-field"]),w=(0,t.useSortFields)(z==null?void 0:z.target),A=((o=K["x-component-props"])===null||o===void 0||(o=o.service)===null||o===void 0||(o=o.params)===null||o===void 0?void 0:o.sort)||[],M=A==null?void 0:A.map(function(b){return b!=null&&b.startsWith("-")?{field:b.substring(1),direction:"desc"}:{field:b,direction:"asc"}});return(0,a.jsx)(c.j0,{title:E("Set default sorting rules"),components:{ArrayItems:i.ArrayItems},schema:{type:"object",title:E("Set default sorting rules"),properties:{sort:{type:"array",default:M,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:w,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:E("ASC"),value:"asc"},{label:E("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:E("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(R){var L,N,B=R.sort,V=B.map(function(U){return U.direction==="desc"?"-".concat(U.field):U.field});g.query(new RegExp("[0-9]+\\.".concat(K.name,"$"))).forEach(function(U){p().set(U,"componentProps.service.params.sort",V)}),p().set(K,"x-component-props.service.params.sort",V),n==null||(L=n.onSubmitCallBack)===null||L===void 0||L.call(n,V),D.emit("patch",{schema:(N={},m()(N,"x-uid",K["x-uid"]),m()(N,"x-component-props",K["x-component-props"]),N)})}})}},64016:function(se,j,e){"use strict";e.d(j,{G:function(){return n}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(57134),d=e(45360),h=e(67294),t=e(26793),c=e(21143),i=e(95354),a=e(85438),f=e(62662),l=e(85893),n=function(o){var g=o.componentName,y=o.collectionName,D=o.resourceName,P=o.needRender,E=o.schemaOnlyHasName,O=(0,t.$)(),T=O.t,S=(0,c.useCollectionManager_deprecated)(),$=S.getCollection,Z=(0,f.DD)(),K=Z.dn,z=Z.setVisible,w=Z.template,A=Z.fieldSchema,M=(0,c.useCompile)(),b=(0,c.useAPIClient)(),R=(0,a.r)(),L=R.dn,N=(0,i.$t)(),B=N.saveAsTemplate,V=N.copyTemplateSchema,U=(0,c.useGlobalTheme)(),I=U.theme;return!y&&!P?null:w&&!E?(0,l.jsx)(f.r2,{title:"Convert reference to duplicate",onClick:u()(m()().mark(function F(){var W,X;return m()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,V(w);case 2:W=C.sent,X=L.removeWithoutEmit(),L.insertAfterEnd(W,{onSuccess:function(){return u()(m()().mark(function Y(){return m()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,b.request({url:"/uiSchemas:remove/".concat(X["x-uid"])});case 2:case"end":return te.stop()}},Y)}))()}});case 5:case"end":return C.stop()}},F)})),children:T("Convert reference to duplicate")}):(0,l.jsx)(f.r2,{title:"Save as template",onClick:u()(m()().mark(function F(){var W,X,J,C,k,Y,H;return m()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return z(!1),W=y&&$(y),le.next=4,(0,c.FormDialog)(T("Save as template"),function(){return(0,l.jsx)(p.FormLayout,{layout:"vertical",children:(0,l.jsx)(c.SchemaComponent,{components:{Input:p.Input,FormItem:p.FormItem},schema:{type:"object",properties:{name:{title:T("Template name"),required:!0,default:W?"".concat(M((W==null?void 0:W.title)||(W==null?void 0:W.name)),"_").concat(T(g)):T(g),"x-decorator":"FormItem","x-component":"Input"}}}})})},I).open({});case 4:if(X=le.sent,J=(0,c.createDesignable)({t:T,api:b,refresh:K.refresh.bind(K),current:A.parent}),J.loadAPIClientEvents(),C=A["x-uid"]||A.name,!E){le.next=24;break}return k=A.toJSON(),k["x-uid"]=C,le.prev=11,b.silent(),le.next=15,b.resource("uiSchemas").insert({values:k,keepOriginSchemaSort:!0});case 15:le.next=21;break;case 17:return le.prev=17,le.t0=le.catch(11),le.next=21,b.resource("uiSchemas").patch({values:k});case 21:return le.prev=21,b.silence=!1,le.finish(21);case 24:return le.next=26,B({collectionName:y,resourceName:D,componentName:g,dataSourceKey:W.dataSource,name:X.name,uid:C});case 26:if(Y=le.sent,H=Y.key,!E){le.next=31;break}return d.ZP.success(T("Save template success")),le.abrupt("return");case 31:J.removeWithoutEmit(A),J.insertBeforeEnd({type:"void","x-component":"BlockTemplate","x-component-props":{templateId:H,keepOriginSchemaSort:!!E}});case 33:case"end":return le.stop()}},F,null,[[11,17,21,24]])})),children:T("Save as template")})}},52301:function(se,j,e){"use strict";e.d(j,{h:function(){return h},s:function(){return t}});var v=e(67294),m=e(94350),x=e(26793),u=e(94516),p=e(62662),d=e(85893),h=function(c){return c.Follow="follow",c.Custom="custom",c}({}),t=function(i){var a,f,l=(0,m.useFieldSchema)(),n=(0,u.ng)(),r=n.dn,o=(0,x.$)(),g=o.t,y=i.title,D=y===void 0?g("Edit theme"):y,P=i.onSubmit,E=i.themeMode,O=i.themeConfig,T=i.refresh;return(0,d.jsx)(p.j0,{title:D,schema:{type:"object",title:D,properties:{themeMode:{title:g("Theme color"),type:"string",enum:[{label:g("Follow superior"),value:h.Follow},{label:g("Customized"),value:h.Custom}],default:E||(Object.values((l==null||(a=l["x-data"])===null||a===void 0?void 0:a.themeConfig)||{}).length?h.Custom:h.Follow),"x-decorator":"FormItem","x-component":"Radio.Group"},themeConfig:{type:"string","x-component":"EditTheme",default:O||(l==null||(f=l["x-data"])===null||f===void 0?void 0:f.themeConfig)||{},"x-reactions":{dependencies:["themeMode"],fulfill:{state:{hidden:'{{ $deps[0]==="follow" }}'}}}}}},onSubmit:P?function(S){return P(S)}:function(S){var $=S.themeMode,Z=S.themeConfig,K=(l==null?void 0:l["x-data"])||{};K.themeConfig=$===h.Custom?Z:{},l["x-data"]=K,r.emit("patch",{schema:{"x-uid":l["x-uid"],"x-data":l["x-data"]}}),r.refresh(),T&&window.location.reload()}})}},22691:function(se,j,e){"use strict";e.d(j,{qj:function(){return Z},Vc:function(){return K},b1:function(){return z}});var v=e(97857),m=e.n(v),x=e(19632),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(96486),i=e.n(c),a=e(67294),f=e(26793),l=e(98427),n=e(38632),r=e(76690),o=e(67527),g=e(70173),y=e(6145),D=function(){var A=(0,y.useCollectionManager_deprecated)(),M=A.getChildrenCollections;return function(b,R){if(b===R)return!0;var L=M(R);return L==null?void 0:L.some(function(N){return N.name===b})}},P=function(A,M,b,R){var L=M.schema,N=M.depth,B=M.maxDepth,V=M.loadChildren,U=M.compile,I=A.map(function(F){var W=!R(F.target,b==null?void 0:b.target);return F.target?N>=B?null:{key:F.name,value:F.name,label:U(F.title),disabled:W,isLeaf:!0,field:F,depth:N,loadChildren:V}:{key:F.name,value:F.name,label:U(F.title),disabled:W,isLeaf:!0,depth:N}}).filter(Boolean);return I},E=function(A){var M=A.schema,b=A.maxDepth,R=b===void 0?3:b,L=A.contextCollectionName,N=A.collectionField,B=(0,f.$)(),V=B.t,U=(0,l.eJW)(),I=(0,l.aJ2)(),F=D(),W=function J(C){var k;if(!((k=C.field)!==null&&k!==void 0&&k.target))return new Promise(function(H){(0,g.error)("Must be set field target"),C.children=[],H(void 0)});var Y=C.field.target;return new Promise(function(H){setTimeout(function(){var te=P(I(Y).filter(function(le){var ne=["hasOne","hasMany","belongsTo","belongsToMany"].includes(le.type);return ne}),{schema:M,depth:C.depth+1,maxDepth:R,loadChildren:J,compile:U},N,F)||[];if(te.length===0){C.disabled=!0,C.children=[],H();return}C.children=te,H()},5)})},X=(0,a.useMemo)(function(){return{label:V("Table selected records"),value:"$context",key:"$context",isLeaf:!1,field:{target:L},depth:0,loadChildren:W}},[M==null?void 0:M["x-component"]]);return X},O=e(37018),T=e(43932),S=e(54885),$=e(85893),Z=function(A){var M=A.value,b=A.onChange,R=A.renderSchemaComponent,L=A.style,N=A.schema,B=A.className,V=A.contextCollectionName,U=A.collectionField,I=A.shouldChange,F=A.form,W=A.record,X=A.returnScope,J=X===void 0?i().identity:X,C=A.targetFieldSchema,k=A.noDisabled,Y=(0,o.J)(),H=Y.name,te=(0,l.ymE)(),le=(0,n.s)(),ne=le.operator,ie=le.schema,ee=ie===void 0?U==null?void 0:U.uiSchema:ie,fe=(0,S.Y)({collectionField:U,form:F,record:W,operator:ne,uiSchema:ee,targetFieldSchema:C,noDisabled:k}),de=E({schema:N,maxDepth:2,contextCollectionName:V,collectionField:U}),ue=z({collectionField:U,uiSchema:ee,targetFieldSchema:C,blockCollectionName:H}),Se=ue.compatOldVariables;V&&fe.every(function(G){return G.value!==de.value})&&fe.push(de);var ae=(0,a.useCallback)(function(G,re){if(!I)return b(G);setTimeout(t()(d()().mark(function oe(){return d()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,I(G,re);case 2:if(!be.sent){be.next=4;break}b(G);case 4:case"end":return be.stop()}},oe)})))},[b,I]);return(0,$.jsx)(l._wD.Input,{className:B,value:M,onChange:ae,scope:J(Se(i().isEmpty(te)?fe:te,{value:M})),style:L,changeOnSelect:!0,children:(0,$.jsx)(R,{value:M,onChange:b})})},K=function(A){var M=A.collectionField,b=A.variables,R=A.localVariables,L=A.getAllCollectionsInheritChain,N=M?L(M.target):[];return function(){var B=t()(d()().mark(function V(U,I){var F,W;return d()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!(i().isString(U)&&U.includes("$nRole"))){J.next=2;break}return J.abrupt("return",!0);case 2:if(!(!(0,r.cG)(U)||!b||!M)){J.next=4;break}return J.abrupt("return",!0);case 4:if(M.interface!=="json"){J.next=6;break}return J.abrupt("return",!0);case 6:if(F=I[I.length-1],!(F&&i().isEmpty(F.children)&&!F.loadChildren)){J.next=9;break}return J.abrupt("return",!0);case 9:return J.next=11,b.getCollectionField(U,R);case 11:if(W=J.sent,M){J.next=14;break}return J.abrupt("return",!1);case 14:if(!["o2o","o2m","oho"].includes(W==null?void 0:W.interface)){J.next=16;break}return J.abrupt("return",!1);case 16:if(!(M.target&&W!==null&&W!==void 0&&W.target&&!N.includes(W==null?void 0:W.target))){J.next=18;break}return J.abrupt("return",!1);case 18:return J.abrupt("return",!0);case 19:case"end":return J.stop()}},V)}));return function(V,U){return B.apply(this,arguments)}}()};function z(w){var A=w.uiSchema,M=w.collectionField,b=w.noDisabled,R=w.targetFieldSchema,L=w.blockCollectionName,N=(0,f.$)(),B=N.t,V=(0,T.A)({maxDepth:1,uiSchema:A,collectionField:M,noDisabled:b,targetFieldSchema:R}),U=V.currentUserSettings,I=(0,O.a)({schema:A,collectionField:M,noDisabled:b,targetFieldSchema:R}),F=I.currentRecordSettings,W=(0,a.useCallback)(function(X,J){var C=J.value;if(!(0,r.cG)(C))return X;X=u()(X);var k={value:"$system",key:"$system",label:B("System variables"),isLeaf:!1,children:[{value:"now",key:"now",label:B("Current time"),isLeaf:!0,depth:1}],depth:0},Y={value:"currentTime",label:B("Current time"),children:null};if(C.includes("$system")&&X.push(k),C.includes("".concat(L,"."))){var H=X.find(function(ee){return ee.value==="$nForm"||ee.value==="$nRecord"});H&&(H.value=L)}if(C.includes("$form")){var te=X.find(function(ee){return ee.value==="$nForm"});te&&(te.value="$form")}if(C.includes("currentUser")){var le=X.find(function(ee){return ee.value==="$user"});le?le.value="currentUser":X.unshift(m()(m()({},U),{},{value:"currentUser"}))}if(C.includes("currentRecord")){var ne=X.find(function(ee){return ee.value==="$nRecord"});ne?ne.value="currentRecord":X.unshift(m()(m()({},F),{},{value:"currentRecord"}))}if(C.includes("currentTime")&&X.push(Y),C.includes("$date")){var ie=X.find(function(ee){return ee.value==="$nDate"});ie&&(ie.value="$date")}return X},[L]);return{compatOldVariables:W}}},25661:function(se,j,e){"use strict";e.d(j,{Nx:function(){return t},rB:function(){return i},zI:function(){return a}});var v=e(83062),m=e(67294),x=e(35746),u=e(98427),p=e(21995),d=e(85893),h=m.createContext(null),t=function(n){return(0,d.jsx)(h.Provider,{value:n,children:n.children})},c=function(n,r){var o=r.collectionField,g=r.uiSchema,y=r.depth,D=r.maxDepth,P=r.noDisabled,E=r.loadChildren,O=r.compile,T=r.isDisabled,S=r.targetFieldSchema,$=r.getCollectionField,Z=r.deprecated,K=n.map(function(z){return!z.target||z.target==="chinaRegions"?{key:z.name,value:z.name,label:O(z.title),disabled:Z||(P?!1:T({option:z,collectionField:o,uiSchema:g,targetFieldSchema:S,getCollectionField:$})),isLeaf:!0,depth:y}:y>=D?null:{key:z.name,value:z.name,label:O(z.title),isLeaf:!1,field:z,depth:y,disabled:Z||(P?!1:T({option:z,collectionField:o,uiSchema:g,targetFieldSchema:S,getCollectionField:$})),loadChildren:E}}).filter(Boolean);return K},i=function(n,r){return r?(0,d.jsx)(v.Z,{placement:"left",title:r,zIndex:9999,children:(0,d.jsx)("span",{style:{position:"relative",display:"inline-block",marginLeft:-14,paddingLeft:14,marginRight:-80,paddingRight:80,zIndex:1},children:n})}):n},a=function(n){var r=n.collectionField,o=n.uiSchema,g=n.targetFieldSchema,y=n.maxDepth,D=y===void 0?3:y,P=n.name,E=n.title,O=n.collectionName,T=n.noChildren,S=T===void 0?!1:T,$=n.noDisabled,Z=$===void 0?!0:$,K=n.dataSource,z=n.returnFields,w=z===void 0?function(I){return I}:z,A=n.deprecated,M=n.tooltip,b=(0,u.eJW)(),R=(0,u.aJ2)(),L=(0,m.useContext)(h)||{},N=L.isDisabled,B=(0,x.d9)(),V=function I(F){var W;if(!((W=F.field)!==null&&W!==void 0&&W.target))return Promise.resolve(void 0);var X=F.field.target;return new Promise(function(J){setTimeout(function(){var C=!0,k=(c(w(R(X,K,C),F),{collectionField:r,uiSchema:o,targetFieldSchema:g,depth:F.depth+1,maxDepth:D,noDisabled:Z,loadChildren:I,compile:b,isDisabled:N||f,getCollectionField:B.getCollectionField,deprecated:A})||[]).sort(function(Y,H){return Y.isLeaf&&!H.isLeaf?-1:!Y.isLeaf&&H.isLeaf?1:0}).sort(function(Y,H){return Y.disabled&&!H.disabled?1:!Y.disabled&&H.disabled?-1:0});if(k.length===0){F.disabled=!0,F.isLeaf=!0,J();return}F.children=k,J()},5)})},U=(0,m.useMemo)(function(){return{label:i(E,M),value:P,key:P,isLeaf:S,field:{target:O},depth:0,loadChildren:V,children:[],disabled:!!A,deprecated:A}},[o==null?void 0:o["x-component"]]);return U};function f(l){var n,r=l.option,o=l.collectionField,g=l.uiSchema,y=l.targetFieldSchema,D=l.getCollectionField;if(!g||!o)return!0;if(o.interface==="json")return!1;if(!o.target&&["hasMany","belongsToMany"].includes(r.type))return!0;if(!o.target&&["hasOne","belongsTo"].includes(r.type)||r.target&&(0,p.k)({collectionField:o,fieldSchema:y,getCollectionField:D}))return!1;if(["hasOne","belongsTo"].includes(o.type)&&["hasMany","belongsToMany"].includes(r.type))return!0;if(["hasOne","belongsTo"].includes(o.type)&&["hasOne","belongsTo"].includes(r.type)||["hasMany","belongsToMany"].includes(o.type)&&r.target)return!1;if(["input","markdown","richText","textarea","username"].includes(o.interface)){var P;return!["string","number"].includes((P=r.schema)===null||P===void 0?void 0:P.type)}return o.interface&&r.interface?o.interface!==r.interface:(g==null?void 0:g["x-component"])!==((n=r.schema)===null||n===void 0?void 0:n["x-component"])}},67527:function(se,j,e){"use strict";e.d(j,{J:function(){return m}});var v=e(23782),m=function(){var u,p,d=(0,v.BU)(),h=((u=d.props)===null||u===void 0?void 0:u.collection)||((p=d.props)===null||p===void 0?void 0:p.resource);return{name:h}}},25801:function(se,j,e){"use strict";e.d(j,{L:function(){return h},d:function(){return d}});var v=e(67294),m=e(26793),x=e(29250),u=e(68435),p=e(61341),d=function(c){var i=c.operator,a=c.schema,f=c.noDisabled,l=(0,m.$)(),n=l.t,r=(i==null?void 0:i.value)||"",o=f?!1:!["DatePicker","DatePicker.RangePicker"].includes(a==null?void 0:a["x-component"]),g=[{key:"now",value:"now",label:n("Current time"),disabled:f?!1:(a==null?void 0:a["x-component"])!=="DatePicker"||r==="$dateBetween"},{key:"yesterday",value:"yesterday",label:n("Yesterday"),disabled:o},{key:"today",value:"today",label:n("Today"),disabled:o},{key:"tomorrow",value:"tomorrow",label:n("Tomorrow"),disabled:o},{key:"lastIsoWeek",value:"lastIsoWeek",label:n("Last week"),disabled:o},{key:"thisIsoWeek",value:"thisIsoWeek",label:n("This week"),disabled:o},{key:"nextIsoWeek",value:"nextIsoWeek",label:n("Next week"),disabled:o},{key:"lastMonth",value:"lastMonth",label:n("Last month"),disabled:o},{key:"thisMonth",value:"thisMonth",label:n("This month"),disabled:o},{key:"nextMonth",value:"nextMonth",label:n("Next month"),disabled:o},{key:"lastQuarter",value:"lastQuarter",label:n("Last quarter"),disabled:o},{key:"thisQuarter",value:"thisQuarter",label:n("This quarter"),disabled:o},{key:"nextQuarter",value:"nextQuarter",label:n("Next quarter"),disabled:o},{key:"lastYear",value:"lastYear",label:n("Last year"),disabled:o},{key:"thisYear",value:"thisYear",label:n("This year"),disabled:o},{key:"nextYear",value:"nextYear",label:n("Next year"),disabled:o},{key:"last7Days",value:"last7Days",label:n("Last 7 days"),disabled:o},{key:"next7Days",value:"next7Days",label:n("Next 7 days"),disabled:o},{key:"last30Days",value:"last30Days",label:n("Last 30 days"),disabled:o},{key:"next30Days",value:"next30Days",label:n("Next 30 days"),disabled:o},{key:"last90Days",value:"last90Days",label:n("Last 90 days"),disabled:o},{key:"next90Days",value:"next90Days",label:n("Next 90 days"),disabled:o}],y=(0,v.useMemo)(function(){return{label:n("Date variables"),value:"$nDate",key:"$nDate",disabled:g.every(function(D){return D.disabled}),children:g}},[a==null?void 0:a["x-component"]]);return a?y:null},h=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=c.operator,a=c.schema,f=c.noDisabled,l=c.targetFieldSchema,n=(0,m.$)(),r=n.t,o=(0,x.Q)(),g=o.getOperator,y=(0,u.P1)(),D=y.utc,P=D===void 0?!0:D,E=(0,v.useMemo)(function(){var T=(i==null?void 0:i.value)||g(l==null?void 0:l.name)||"",S=f?!1:!["DatePicker.RangePicker"].includes(a==null?void 0:a["x-component"])&&!T,$=[{key:"now",value:"now",label:r("Current time"),disabled:f?!1:(a==null?void 0:a["x-component"])!=="DatePicker"||T==="$dateBetween"},{key:"yesterday",value:"yesterday",label:r("Yesterday"),disabled:S},{key:"today",value:"today",label:r("Today"),disabled:S},{key:"tomorrow",value:"tomorrow",label:r("Tomorrow"),disabled:S},{key:"lastIsoWeek",value:"lastIsoWeek",label:r("Last week"),disabled:S},{key:"thisIsoWeek",value:"thisIsoWeek",label:r("This week"),disabled:S},{key:"nextIsoWeek",value:"nextIsoWeek",label:r("Next week"),disabled:S},{key:"lastMonth",value:"lastMonth",label:r("Last month"),disabled:S},{key:"thisMonth",value:"thisMonth",label:r("This month"),disabled:S},{key:"nextMonth",value:"nextMonth",label:r("Next month"),disabled:S},{key:"lastQuarter",value:"lastQuarter",label:r("Last quarter"),disabled:S},{key:"thisQuarter",value:"thisQuarter",label:r("This quarter"),disabled:S},{key:"nextQuarter",value:"nextQuarter",label:r("Next quarter"),disabled:S},{key:"lastYear",value:"lastYear",label:r("Last year"),disabled:S},{key:"thisYear",value:"thisYear",label:r("This year"),disabled:S},{key:"nextYear",value:"nextYear",label:r("Next year"),disabled:S},{key:"last7Days",value:"last7Days",label:r("Last 7 days"),disabled:S},{key:"next7Days",value:"next7Days",label:r("Next 7 days"),disabled:S},{key:"last30Days",value:"last30Days",label:r("Last 30 days"),disabled:S},{key:"next30Days",value:"next30Days",label:r("Next 30 days"),disabled:S},{key:"last90Days",value:"last90Days",label:r("Last 90 days"),disabled:S},{key:"next90Days",value:"next90Days",label:r("Next 90 days"),disabled:S}];return{label:r("Date variables"),value:"$nDate",key:"$nDate",disabled:$.every(function(Z){return Z.disabled}),children:$}},[a==null?void 0:a["x-component"],l]),O=(0,v.useMemo)(function(){return(0,p.SE)({shouldBeString:!0,utc:P})},[P]);return{datetimeSettings:E,datetimeCtx:O}}},90499:function(se,j,e){"use strict";e.d(j,{DA:function(){return c},bU:function(){return t},qK:function(){return d}});var v=e(26793),m=e(7340),x=e(72594),u=e(7686),p=e(25661),d=function(a){var f=a.collectionName,l=a.collectionField,n=a.schema,r=a.noDisabled,o=a.targetFieldSchema,g=(0,v.$)(),y=g.t,D=(0,p.zI)({collectionField:l,uiSchema:n,targetFieldSchema:o,maxDepth:4,name:"$nForm",title:y("Current form"),collectionName:f,noDisabled:r,returnFields:function(E,O){return E}});return D},h=function(){var a,f,l,n=useDataBlockRequest();if(!((n==null||(a=n.data)===null||a===void 0||(a=a.data)===null||a===void 0?void 0:a.length)>1))return(n==null||(f=n.data)===null||f===void 0||(f=f.data)===null||f===void 0?void 0:f[0])||(n==null||(l=n.data)===null||l===void 0?void 0:l.data)},t=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.form,l=(0,m.bz)(),n=l.form,r=(0,u.P)(),o=r.isVariableParsedInOtherContext,g=f||n;return{currentFormCtx:g==null?void 0:g.values,shouldDisplayCurrentForm:g&&!g.readPretty&&!o}},c=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.collectionField,l=a.schema,n=a.noDisabled,r=a.targetFieldSchema,o=a.form,g=t({form:o}),y=g.currentFormCtx,D=g.shouldDisplayCurrentForm,P=(0,v.$)(),E=P.t,O=(0,m.bz)(),T=O.collectionName,S=(0,p.zI)({collectionField:f,uiSchema:l,targetFieldSchema:r,maxDepth:4,name:"$nForm",title:E("Current form"),collectionName:T,noDisabled:n,returnFields:function(Z,K){return Z}});return{currentFormSettings:S,currentFormCtx:y,shouldDisplayCurrentForm:D}}},23971:function(se,j,e){"use strict";e.d(j,{j:function(){return h}});var v=e(26793),m=e(53285),x=e(29132),u=e(25661),p=e(72594),d=function(c){var i=c.currentCollection,a=c.collectionField,f=c.schema,l=c.noDisabled,n=c.targetFieldSchema,r=useTranslation(),o=r.t,g=useBaseVariable({collectionField:a,uiSchema:f,targetFieldSchema:n,maxDepth:4,name:"$iteration",title:o("Current object"),collectionName:i,noDisabled:l,returnFields:function(D,P){return D}});return g},h=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=c.collectionField,a=c.schema,f=c.noDisabled,l=c.targetFieldSchema,n=(0,p.Kx)(),r=(0,x.eI)(),o=r.formValue,g=r.collection,y=(0,m.P5)()||{},D=y.isInSubForm,P=y.isInSubTable,E=(0,v.$)(),O=E.t,T=(0,u.zI)({collectionField:i,uiSchema:a,targetFieldSchema:l,maxDepth:4,name:"$iteration",title:O("Current object"),collectionName:(g==null?void 0:g.name)||(n==null?void 0:n.name),noDisabled:f,returnFields:function($,Z){return $}});return{shouldDisplayCurrentObject:D||P,currentObjectCtx:o,currentObjectSettings:T}}},43139:function(se,j,e){"use strict";e.d(j,{Z:function(){return p}});var v=e(26793),m=e(53285),x=e(29132),u=e(25661),p=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=h.collectionField,c=h.schema,i=h.noDisabled,a=h.targetFieldSchema,f=(0,x.eI)(),l=f.parent,n=l||{},r=n.value,o=n.collection,g=(0,m.P5)()||{},y=g.isInSubForm,D=g.isInSubTable,P=(0,v.$)(),E=P.t,O=(0,u.zI)({collectionField:t,uiSchema:c,targetFieldSchema:a,maxDepth:4,name:"$nParentIteration",title:E("Parent object"),collectionName:o==null?void 0:o.name,noDisabled:i,returnFields:function(S,$){return S}});return{shouldDisplayParentObject:(y||D)&&!!o,parentObjectCtx:r,parentObjectSettings:O,collectionName:o==null?void 0:o.name}}},56062:function(se,j,e){"use strict";e.d(j,{h:function(){return u}});var v=e(7686),m=e(73691),x=e(25661),u=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=(0,m.ec)()||{},t=h.value,c=h.title,i=h.collection,a=(0,v.P)(),f=a.isVariableParsedInOtherContext,l=(0,x.zI)({collectionField:d.collectionField,uiSchema:d.schema,name:"$nParentPopupRecord",title:c,collectionName:i==null?void 0:i.name,noDisabled:d.noDisabled,targetFieldSchema:d.targetFieldSchema,dataSource:i==null?void 0:i.dataSource});return{settings:l,parentPopupRecordCtx:t,shouldDisplayParentPopupRecord:!!t&&!f,collectionName:i==null?void 0:i.name,dataSource:i==null?void 0:i.dataSource,defaultValue:void 0}}},11764:function(se,j,e){"use strict";e.d(j,{S:function(){return t},j:function(){return h}});var v=e(26793),m=e(72594),x=e(49834),u=e(19271),p=e(7686),d=e(25661),h=function(i){var a=(0,v.$)(),f=a.t,l=(0,d.zI)({collectionField:i.collectionField,uiSchema:i.schema,name:"$nParentRecord",title:f("Parent record"),collectionName:i.collectionName,noDisabled:i.noDisabled,targetFieldSchema:i.targetFieldSchema});return l},t=function(){var i,a,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=(0,v.$)(),n=l.t,r=(0,x.oV)(),o=(0,u.lb)()||{},g=o.name,y=o.dataSource,D=(0,m.Kx)(),P=(0,p.P)()||{},E=P.isInSubForm,O=P.isInSubTable,T=g?y:D==null?void 0:D.dataSource,S=(0,d.zI)({collectionField:f.collectionField,uiSchema:f.schema,name:"$nParentRecord",title:n("Parent record"),collectionName:g||(D==null?void 0:D.name),noDisabled:f.noDisabled,targetFieldSchema:f.targetFieldSchema,dataSource:T});return{currentParentRecordSettings:S,currentParentRecordCtx:(r==null||(i=r.parentRecord)===null||i===void 0?void 0:i.data)||(r==null?void 0:r.data),shouldDisplayCurrentParentRecord:!!(r!=null&&(a=r.parentRecord)!==null&&a!==void 0&&a.data)&&!E&&!O,collectionName:g||(D==null?void 0:D.name),dataSource:T}}},57519:function(se,j,e){"use strict";e.d(j,{A:function(){return u}});var v=e(7686),m=e(73691),x=e(25661),u=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=(0,m.Sw)()||{},t=h.value,c=h.title,i=h.collection,a=(0,v.P)(),f=a.isVariableParsedInOtherContext,l=(0,x.zI)({collectionField:d.collectionField,uiSchema:d.schema,name:"$nPopupRecord",title:c,collectionName:i==null?void 0:i.name,noDisabled:d.noDisabled,targetFieldSchema:d.targetFieldSchema,dataSource:i==null?void 0:i.dataSource});return{settings:l,popupRecordCtx:t,shouldDisplayPopupRecord:!!t&&!f,collectionName:i==null?void 0:i.name,dataSource:i==null?void 0:i.dataSource,defaultValue:void 0}}},37018:function(se,j,e){"use strict";e.d(j,{a:function(){return c},t:function(){return t}});var v=e(96486),m=e.n(v),x=e(26793),u=e(23782),p=e(7340),d=e(72594),h=e(25661),t=function(a){var f=(0,x.$)(),l=f.t,n=(0,h.zI)({collectionField:a.collectionField,uiSchema:a.schema,name:"$nRecord",title:l("Current record"),collectionName:a.collectionName,noDisabled:a.noDisabled,targetFieldSchema:a.targetFieldSchema});return n},c=function(){var a,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=(0,x.$)(),n=l.t,r=(0,u.VG)()||{},o=r.name,g=(0,d.Kx)(),y=(0,d.nE)(),D=(0,p.bz)(),P=D.formRecord,E=D.collectionName,O=P!=null&&P.data?E:g==null?void 0:g.name,T=(0,h.zI)({collectionField:f.collectionField,uiSchema:f.schema,name:"$nRecord",title:n("Current record"),collectionName:(a=f==null?void 0:f.collectionName)!==null&&a!==void 0?a:O,noDisabled:f.noDisabled,targetFieldSchema:f.targetFieldSchema,deprecated:o==="form",tooltip:o==="form"?n('This variable has been deprecated and can be replaced with "Current form"'):""});return{currentRecordSettings:T,currentRecordCtx:(P==null?void 0:P.data)||y,shouldDisplayCurrentRecord:!m().isEmpty(m().omit(y,["__collectionName","__parent"]))||!!(P!=null&&P.data),collectionName:O}}},45621:function(se,j,e){"use strict";e.d(j,{K:function(){return p},b:function(){return u}});var v=e(26793),m=e(72029),x=e(25661),u=function(h){var t=h.collectionField,c=h.uiSchema,i=h.noDisabled,a=h.targetFieldSchema,f=h.maxDepth,l=f===void 0?0:f,n=(0,v.$)(),r=n.t,o=(0,x.zI)({collectionField:t,uiSchema:c,maxDepth:l,name:"$nRole",title:r("Current role"),collectionName:"roles",noDisabled:i,targetFieldSchema:a,noChildren:!0});return o},p=function(){var h,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=t.collectionField,i=t.uiSchema,a=t.noDisabled,f=t.targetFieldSchema,l=t.maxDepth,n=l===void 0?0:l,r=(0,v.$)(),o=r.t,g=(0,m.LY)(),y=(0,x.zI)({collectionField:c,uiSchema:i,maxDepth:n,name:"$nRole",title:o("Current role"),collectionName:"roles",noDisabled:a,targetFieldSchema:f,noChildren:!0});return{currentRoleSettings:y,currentRoleCtx:(h=g.auth)===null||h===void 0?void 0:h.role}}},43932:function(se,j,e){"use strict";e.d(j,{A:function(){return d},K:function(){return p}});var v=e(26793),m=e(57638),x=e(8985),u=e(25661),p=function(t){var c=t.collectionField,i=t.uiSchema,a=t.noDisabled,f=t.targetFieldSchema,l=t.maxDepth,n=l===void 0?3:l,r=(0,v.$)(),o=r.t,g=(0,u.zI)({collectionField:c,uiSchema:i,maxDepth:n,name:"$user",title:o("Current user"),collectionName:"users",dataSource:m.ym,noDisabled:a,targetFieldSchema:f});return g},d=function(){var t,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=c.collectionField,a=c.uiSchema,f=c.noDisabled,l=c.targetFieldSchema,n=c.maxDepth,r=n===void 0?4:n,o=(0,v.$)(),g=o.t,y=(0,x.OP)(),D=(0,u.zI)({collectionField:i,uiSchema:a,maxDepth:r,name:"$user",title:g("Current user"),collectionName:"users",noDisabled:f,targetFieldSchema:l,dataSource:m.ym});return{currentUserSettings:D,currentUserCtx:y==null||(t=y.data)===null||t===void 0?void 0:t.data}}},54885:function(se,j,e){"use strict";e.d(j,{Y:function(){return f}});var v=e(67294),m=e(25801),x=e(90499),u=e(23971),p=e(43139),d=e(56062),h=e(11764),t=e(57519),c=e(37018),i=e(45621),a=e(43932),f=function(n){var r,o=n.collectionField,g=n.form,y=n.uiSchema,D=n.operator,P=n.noDisabled,E=n.targetFieldSchema,O=n.record,T=O==null||(r=O.__parent)===null||r===void 0?void 0:r.__collectionName,S=(0,a.A)({maxDepth:3,uiSchema:y,collectionField:o,noDisabled:P,targetFieldSchema:E}),$=S.currentUserSettings,Z=(0,i.K)({uiSchema:y,collectionField:o,noDisabled:P,targetFieldSchema:E}),K=Z.currentRoleSettings,z=(0,m.L)({operator:D,schema:y,noDisabled:!0,targetFieldSchema:E}),w=z.datetimeSettings,A=(0,x.DA)({schema:y,collectionField:o,noDisabled:P,targetFieldSchema:E,form:g}),M=A.currentFormSettings,b=A.shouldDisplayCurrentForm,R=(0,u.j)({collectionField:o,schema:y,noDisabled:P,targetFieldSchema:E}),L=R.currentObjectSettings,N=R.shouldDisplayCurrentObject,B=(0,p.Z)({collectionField:o,schema:y,noDisabled:P,targetFieldSchema:E}),V=B.parentObjectSettings,U=B.shouldDisplayParentObject,I=(0,c.a)({schema:y,collectionField:o,noDisabled:P,targetFieldSchema:E}),F=I.currentRecordSettings,W=I.shouldDisplayCurrentRecord,X=(0,t.A)({schema:y,collectionField:o,noDisabled:P,targetFieldSchema:E}),J=X.settings,C=X.shouldDisplayPopupRecord,k=(0,d.h)({schema:y,collectionField:o,noDisabled:P,targetFieldSchema:E}),Y=k.settings,H=k.shouldDisplayParentPopupRecord,te=(0,h.S)({schema:y,collectionName:T,collectionField:o,noDisabled:P,targetFieldSchema:E}),le=te.currentParentRecordSettings,ne=te.shouldDisplayCurrentParentRecord;return(0,v.useMemo)(function(){return[$,K,w,b&&M,N&&L,U&&V,W&&F,ne&&le,C&&J,H&&Y].filter(Boolean)},[$,K,w,b,M,N,L,U,V,W,F,ne,le,C,J])}},82041:function(se,j,e){"use strict";e.d(j,{Nx:function(){return v.Nx},qj:function(){return i.qj},rB:function(){return v.rB},Vc:function(){return i.Vc},zI:function(){return v.zI},J4:function(){return p.J},b1:function(){return i.b1},bU:function(){return d.bU},DA:function(){return d.DA},SU:function(){return h.S},ad:function(){return u.a},KR:function(){return t.K},AO:function(){return x.A},ds:function(){return m.d},Ld:function(){return m.L},qK:function(){return d.qK},j_:function(){return h.j},td:function(){return u.t},bs:function(){return t.b},KD:function(){return x.K},Y5:function(){return c.Y}});var v=e(25661),m=e(25801),x=e(43932),u=e(37018),p=e(67527),d=e(90499),h=e(11764),t=e(45621),c=e(54885),i=e(22691)},42121:function(se,j,e){"use strict";e.d(j,{X:function(){return x}});var v=e(97857),m=e.n(v);function x(u){return u.map(function(p){return m()(m()({},p),{},{value:p.name,key:p.name,label:p.title,disabled:p.disabled,children:p.children?x(p.children):void 0})})}},69054:function(se,j,e){"use strict";e.d(j,{z:function(){return u}});var v=e(94350),m=e(67294),x=e(6145),u=function(){var d=(0,v.useFieldSchema)(),h=(0,x.useCollection_deprecated)(),t=h.name,c=(0,m.useCallback)(function(i,a){if(!d)return"";var f=d["x-component"],l=typeof f=="string"?f:(f==null?void 0:f.displayName)||(f==null?void 0:f.name),n=d["x-designer"]?"-".concat(d["x-designer"]):"",r=d["x-settings"]?"-".concat(d["x-settings"]):"",o=d["x-collection-field"]?"-".concat(d["x-collection-field"]):"",g=t?"-".concat(t):"";return a=a?"-".concat(a):"","designer-".concat(i,"-").concat(l).concat(n).concat(r).concat(g).concat(o).concat(a)},[d,t]);return{getAriaLabel:c}}},29124:function(se,j,e){"use strict";e.d(j,{SF:function(){return f},TU:function(){return l},yT:function(){return a}});var v=e(94350),m=e(67294),x=e(62662),u=e(88773),p=e(79531),d=e(99986),h=e(7939),t=e(70173),c=e(85893),i=m.createContext(null),a=function(o){var g=(0,m.useMemo)(function(){return{isAllowToSetDefaultValue:o.isAllowToSetDefaultValue}},[o.isAllowToSetDefaultValue]);return(0,c.jsx)(i.Provider,{value:g,children:o.children})},f=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=o.form,y=o.fieldSchema,D=o.collectionField,P=(0,d.B)(),E=P.getInterface,O=P.getCollectionJoinField,T=(0,h.U)(),S=T.getField,$=(0,p.bz)(),Z=$.form,K=(0,v.useFieldSchema)(),z=(0,p.th)(),w=z.type,A=(0,m.useContext)(i)||{},M=A.isAllowToSetDefaultValue,b=M===void 0?n:M,R=S(K.name)||O(K["x-collection-field"]);return{isAllowToSetDefaultValue:function(N){return b({collectionField:D||R,getInterface:E,form:g||Z,formBlockType:w,fieldSchema:y||K,isSubTableColumn:N})}}},l=["o2o","oho","obo","o2m","attachment","expression","point","lineString","circle","polygon","sequence","formula"];function n(r){var o,g=r.collectionField,y=r.getInterface,D=r.formBlockType,P=r.form,E=r.fieldSchema,O=r.isSubTableColumn;return O?!l.includes(g==null?void 0:g.interface)&&!(0,x.Mq)(g,y):!g||g.target&&(o=E["x-component-props"])!==null&&o!==void 0&&o.mode&&!["Picker","Select"].includes(E["x-component-props"].mode)||D!=="create"?!1:!(P!=null&&P.readPretty)&&!(0,u.V)(E)&&!l.includes(g==null?void 0:g.interface)&&!(0,x.Mq)(g,y)}},94920:function(se,j,e){"use strict";e.d(j,{K:function(){return x}});var v=e(94350),m=e(6145);function x(){var u,p,d=(0,v.useField)(),h=(0,v.useFieldSchema)(),t=(0,m.useCollectionManager_deprecated)(),c=t.getCollectionField,i=h["x-collection-field"]?c(h["x-collection-field"]):null,a=(i==null?void 0:i.uiSchema)||h,f=((u=a["x-component-props"])===null||u===void 0?void 0:u.multiple)===!0,l=d==null||(p=d.componentProps)===null||p===void 0?void 0:p.mode;return function(){return!d.readPretty&&h["x-component"]!=="TableField"&&f&&l!=="SubTable"}}},81560:function(se,j,e){"use strict";e.d(j,{$M:function(){return A},Nx:function(){return _o.Nx},yT:function(){return d.yT},d1:function(){return B},U$:function(){return Uo.U},aN:function(){return x.a},j0:function(){return M},Qh:function(){return u.Qh},WB:function(){return R},_E:function(){return F._},ns:function(){return u.ns},FE:function(){return X.F},HF:function(){return t.H},ON:function(){return u.ON},yu:function(){return i.y},y5:function(){return u.y5},Nn:function(){return c.N},Vx:function(){return V},Z5:function(){return u.Z5},cM:function(){return u.cM},L3:function(){return u.L3},vC:function(){return u.vC},UD:function(){return u.UD},r2:function(){return u.r2},bw:function(){return u.bw},lc:function(){return u.lc},_z:function(){return I._z},B0:function(){return u.j0},wH:function(){return T},zM:function(){return Yo},D3:function(){return u.D3},Rh:function(){return u.Rh},qx:function(){return u.qx},Qf:function(){return u.Qf},wL:function(){return a.w},m$:function(){return u.m$},hj:function(){return u.hj},d3:function(){return t.d},Gk:function(){return W.G},sM:function(){return U.s},Mf:function(){return x.M},hY:function(){return U.h},qj:function(){return _o.qj},Zr:function(){return I.Zr},ZL:function(){return u.ZL},Dz:function(){return u.Dz},PO:function(){return u.PO},os:function(){return u.os},rB:function(){return _o.rB},Vc:function(){return _o.Vc},TU:function(){return d.TU},VZ:function(){return h.V},Mq:function(){return u.Mq},sK:function(){return I.sK},ob:function(){return v.o},zI:function(){return _o.zI},J4:function(){return _o.J4},IO:function(){return v.I},b1:function(){return _o.b1},bU:function(){return _o.bU},DA:function(){return _o.DA},SU:function(){return _o.SU},ad:function(){return _o.ad},KR:function(){return _o.KR},AO:function(){return _o.AO},ds:function(){return _o.ds},Ld:function(){return _o.Ld},qK:function(){return _o.qK},zf:function(){return p.z},SF:function(){return d.SF},j_:function(){return _o.j_},_Y:function(){return fe},td:function(){return _o.td},bs:function(){return _o.bs},DD:function(){return u.DD},F1:function(){return m.F},KD:function(){return _o.KD},Y5:function(){return _o.Y5}});var v=e(77517),m=e(94004),x=e(50679),u=e(62662),p=e(69054),d=e(29124),h=e(88773),t=e(43319),c=e(21774),i=e(36248),a=e(93329),f=e(97857),l=e.n(f),n=e(9783),r=e.n(n),o=e(94350),g=e(67294),y=e(26793),D=e(34041),P=e(21143),E=e(85893),O=function(We){var Ye=We.unitConversionType,pt=(0,o.useForm)(),Pt=(0,y.$)(),bt=Pt.t;return(0,E.jsxs)(D.default,{defaultValue:Ye||"*",style:{width:160},onChange:function(dn){pt.setValuesIn("unitConversionType",dn)},children:[(0,E.jsx)(D.default.Option,{value:"*",children:bt("Multiply by")}),(0,E.jsx)(D.default.Option,{value:"/",children:bt("Divide by")})]})},T=function(We){var Ye=We.fieldSchema,pt=(0,o.useField)(),Pt=(0,P.useDesignable)(),bt=Pt.dn,Ht=(0,y.$)(),dn=Ht.t,yn=(0,P.useCollectionManager_deprecated)(),Yn=yn.getCollectionJoinField,bn=Yn(Ye==null?void 0:Ye["x-collection-field"])||{},wn=Ye["x-component-props"]||{},cr=wn.formatStyle,yr=wn.unitConversion,Er=wn.unitConversionType,Pr=wn.separator,$r=wn.step,Vr=wn.addonBefore,zr=wn.addonAfter,lo=(bn==null?void 0:bn.uiSchema["x-component-props"])||{},Mo=lo.step;return(0,E.jsx)(u.j0,{title:dn("Format"),schema:{type:"object",properties:{formatStyle:{type:"string",default:cr||"normal",enum:[{value:"normal",label:dn("Normal")},{value:"scientifix",label:dn("Scientifix notation")}],"x-decorator":"FormItem","x-component":"Select",title:"{{t('Style')}}"},unitConversion:{type:"number","x-decorator":"FormItem","x-component":"InputNumber",title:"{{t('Unit conversion')}}",default:yr,"x-component-props":{style:{width:"100%"},addonBefore:(0,E.jsx)(O,{unitConversionType:Er})}},separator:{type:"string",default:Pr||"0,0.00",enum:[{value:"0,0.00",label:dn("100,000.00")},{value:"0.0,00",label:dn("100.000,00")},{value:"0 0,00",label:dn("100 000.00")},{value:"0.00",label:dn("100000.00")}],"x-decorator":"FormItem","x-component":"Select",title:"{{t('Separator')}}"},step:{type:"string",title:'{{t("Precision")}}',"x-component":"Select","x-decorator":"FormItem",default:$r||Mo||"1",enum:[{value:"1",label:"1"},{value:"0.1",label:"1.0"},{value:"0.01",label:"1.00"},{value:"0.001",label:"1.000"},{value:"0.0001",label:"1.0000"},{value:"0.00001",label:"1.00000"},{value:"0.000001",label:"1.000000"}]},addonBefore:{type:"string",title:'{{t("Prefix")}}',"x-component":"Input","x-decorator":"FormItem",default:Vr},addonAfter:{type:"string",title:'{{t("Suffix")}}',"x-component":"Input","x-decorator":"FormItem",default:zr}}},onSubmit:function(wo){var Ho=r()({},"x-uid",Ye["x-uid"]);Ho["x-component-props"]=Ye["x-component-props"]||{},Ye["x-component-props"]=l()(l()({},Ye["x-component-props"]||{}),wo),Ho["x-component-props"]=Ye["x-component-props"],pt.componentProps=Ye["x-component-props"];var sa=pt.path.entire.split(".");sa.pop();var ua=sa.join(".");pt.query("".concat(ua,".*[0:].").concat(Ye.name)).forEach(function(Sa){Sa.props.name===Ye.name&&Sa.setComponentProps(l()({},wo))}),bt.emit("patch",{schema:Ho}),bt.refresh()}})},S=e(68400),$=e.n(S),Z=e(97133),K=e(94516),z=e(43759),w,A={LEFT:"flex-start",CENTER:"center",RIGHT:"flex-end"},M={DEFAULT:"defaultHeight",SPECIFY_VALUE:"specifyValue",FULL_HEIGHT:"fullHeight"},b=function(We,Ye){var pt={},Pt={"x-component":"Slider","x-component-props":l()(l()({},Ye.props),{},{style:{flex:4},tooltip:{formatter:function(dn){return dn+"px"}}}),"x-reactions":[`{{(field) => {
        field.query('.`.concat(We,`InputNumber').take(f => {
          f.value = field.value
        });
      }}}`)],default:Ye.default},bt={"x-component":"InputNumber","x-component-props":l()(l()({},Ye.props),{},{style:{flex:1.8,marginLeft:8},addonAfter:"px"}),"x-reactions":[`{{(field) => {
        field.query('.`.concat(We,`Slider').take(f => {
          f.value = field.value
        });
      }}}`)],default:Ye.default};return pt["".concat(We,"Slider")]=Pt,pt["".concat(We,"InputNumber")]=bt,pt},R=function(){var We,Ye,pt,Pt,bt,Ht=(0,o.useField)(),dn=(0,o.useFieldSchema)(),yn=(0,K.ng)(),Yn=yn.dn,bn=(0,y.$)(),wn=bn.t;return(0,E.jsx)(u.j0,{title:wn("Edit block layout"),schema:{type:"object",title:wn("Edit block layout"),properties:{alignMode:{title:wn("Align mode"),type:"string",enum:[{label:wn("Left"),value:A.LEFT},{label:wn("Center"),value:A.CENTER},{label:wn("Right"),value:A.RIGHT}],default:(dn==null||(We=dn["x-component-props"])===null||We===void 0?void 0:We.alignMode)||A.CENTER,"x-decorator":"FormItem","x-component":"Radio.Group"},heightMode:{title:wn("Height"),type:"string",enum:[{label:wn("Default"),value:M.DEFAULT},{label:wn("Specify height"),value:M.SPECIFY_VALUE},{label:wn("Full height"),value:M.FULL_HEIGHT}],default:(dn==null||(Ye=dn["x-component-props"])===null||Ye===void 0?void 0:Ye.heightMode)||M.DEFAULT,"x-decorator":"FormItem","x-component":"Radio.Group"},height:{type:"void",required:!0,"x-decorator":"FormItem","x-component":"div","x-component-props":{style:{display:"flex"}},properties:b("height",{props:{min:200,max:3e3},default:dn==null||(pt=dn["x-component-props"])===null||pt===void 0?void 0:pt.height}),"x-reactions":{dependencies:["heightMode"],fulfill:{state:{hidden:'{{ $deps[0]==="fullHeight"||$deps[0]==="defaultHeight"}}',value:'{{$deps[0]!=="specifyValue"?null:$self.value}}'}}}},width:{type:"void","x-component":"div","x-content":wn("Width")+" :","x-component-props":{className:(0,Z.css)(w||(w=$()([`
                  font-weight: 600;
                  margin-bottom: 12px;
                `])))}},pcWidth:{title:wn(z.wl.lg),type:"void","x-decorator":"FormItem","x-component":"div","x-component-props":{style:{display:"flex"}},properties:b("pcWidth",{props:{min:200,max:1599},default:(dn==null||(Pt=dn["x-component-props"])===null||Pt===void 0?void 0:Pt.pcWidth)||1200}),description:"".concat(wn("Screen size")," ").concat(z.UY.lg," ").concat(wn("pixels"))},largeScreenWidth:{title:wn(z.wl.xxl),type:"void","x-decorator":"FormItem","x-component":"div","x-component-props":{style:{display:"flex"}},properties:b("largeScreenWidth",{props:{min:200,max:6e3},default:(dn==null||(bt=dn["x-component-props"])===null||bt===void 0?void 0:bt.largeScreenWidth)||1920}),description:"".concat(wn("Screen size")," ").concat(z.UY.xxl," ").concat(wn("pixels"))}}},onSubmit:function(yr){var Er,Pr=yr.heightMode,$r=yr.heightSlider,Vr=yr.alignMode,zr=yr.pcWidthSlider,lo=yr.largeScreenWidthSlider,Mo={heightMode:Pr,height:$r,alignMode:Vr,pcWidth:zr,largeScreenWidth:lo},To=dn["x-component-props"]||{};To=l()(l()({},To),Mo),dn["x-component-props"]=To,Ht.componentProps=l()(l()({},Ht.componentProps),Mo),Yn.emit("patch",{schema:(Er={},r()(Er,"x-uid",dn["x-uid"]),r()(Er,"x-component-props",dn["x-component-props"]),Er)}),Yn.refresh()}})},L=e(98427),N=e(38752),B=function(_n){return _n.QRCODE="qrcode",_n.DEFAULT="default",_n}({}),V={name:"display",type:"select",useVisible:function(){var We,Ye=(0,L.z9d)(),pt=Ye.fieldSchema,Pt=(pt==null||(We=pt.parent)===null||We===void 0?void 0:We["x-component"])==="TableV2.Column",bt=(0,N.p3)();return bt&&!Pt},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn;return{title:pt("Display mode"),options:[{label:pt("Default"),value:B.DEFAULT},{label:pt("Qrcode"),value:B.QRCODE}],value:(Pt==null||(We=Pt.componentProps)===null||We===void 0?void 0:We.display)||B.DEFAULT,onChange:function(Yn){var bn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].display=Yn,bn["x-component-props"]=bt["x-component-props"],Pt.componentProps=Pt.componentProps||{},Pt.componentProps.display=Yn,dn.emit("patch",{schema:bn}),dn.refresh()}}}},U=e(52301),I=e(93130),F=e(25750),W=e(64016),X=e(13845),J=e(15009),C=e.n(J),k=e(99289),Y=e.n(k),H=e(70173),te=e(25813),le=e(44256),ne=e(76690),ie=["$user","$date","$nDate","$nRole"],ee=function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=We.exclude,pt=Ye===void 0?ie:Ye,Pt=(0,te.Kp)(),bt=(0,te.OQ)(),Ht=(0,g.useCallback)(function(yn){var Yn=bt==null?void 0:bt.getVariable(yn);return Yn||(Yn=Pt.find(function(bn){return bn.name===yn})),Yn},[Pt,bt]),dn=(0,g.useCallback)(function(){var yn=Y()(C()().mark(function Yn(bn){var wn,cr;return C()().wrap(function(Er){for(;;)switch(Er.prev=Er.next){case 0:return wn=(0,H.flatten)(bn,{breakOn:function($r){var Vr=$r.key;return Vr.startsWith("$")&&Vr!=="$and"&&Vr!=="$or"},transformValue:function($r){if(!(0,ne.cG)($r)||pt.includes((0,le.H)($r)))return $r;var Vr=bt==null?void 0:bt.parseVariable($r,Pt).then(function(zr){var lo=zr.value;return lo});return Vr}}),Er.next=3,Promise.all(Object.keys(wn).map(function(){var Pr=Y()(C()().mark(function $r(Vr){return C()().wrap(function(lo){for(;;)switch(lo.prev=lo.next){case 0:return lo.next=2,wn[Vr];case 2:return wn[Vr]=lo.sent,wn[Vr]===void 0&&delete wn[Vr],lo.abrupt("return",wn[Vr]);case 5:case"end":return lo.stop()}},$r)}));return function($r){return Pr.apply(this,arguments)}}()));case 3:return cr=(0,H.unflatten)(wn),Er.abrupt("return",cr);case 5:case"end":return Er.stop()}},Yn)}));return function(Yn){return yn.apply(this,arguments)}}(),[pt,Pt,bt==null?void 0:bt.parseVariable]);return{parseFilter:dn,findVariable:Ht}},fe=ee,de=e(12444),ue=e.n(de),Se=e(72004),ae=e.n(Se),G=e(31996),re=e.n(G),oe=e(26037),ce=e.n(oe),be=e(31601),xe=e(74614),ge=e(91410),he=e(6145),Pe=e(55642),Ae=e(90810),Be=new ge.F({name:"actionSettings:addChild",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"openMode",Component:Ae.HA,componentProps:{openMode:!0,openSize:!0}},{name:"enableChildCollections",Component:u.L3,useVisible:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,he.useCollectionManager_deprecated)(),Pt=pt.getChildrenCollections,bt=(0,g.useMemo)(function(){return Pt(Ye).length>0},[Pt,Ye]);return bt},useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye}}},{name:"delete",type:"remove"}]}),Le=new ge.F({name:"actionSettings:addNew",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"openMode",Component:Ae.HA,componentProps:{openMode:!0,openSize:!0}},{name:"enableChildCollections",Component:u.L3,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye}},useVisible:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,he.useCollectionManager_deprecated)(),Pt=pt.getChildrenCollections,bt=(0,g.useMemo)(function(){return Pt(Ye).length>0},[Pt,Ye]);return bt}},{name:"delete",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),Me=new ge.F({name:"actionSettings:addRecord",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"openMode",Component:Ae.HA,componentProps:{openMode:!0,openSize:!0}},{name:"delete",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),Te=new ge.F({name:"actionSettings:bulkDelete",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"secondConFirm",Component:Pe.y0},{name:"refreshDataBlockRequest",Component:Pe.x1,useComponentProps:function(){return{isPopupAction:!1}}},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),we=new ge.F({name:"actionSettings:delete",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"secondConFirm",Component:Pe.y0},{name:"refreshDataBlockRequest",Component:Pe.x1,useComponentProps:function(){return{isPopupAction:!1}}},{name:"afterSuccessfulSubmission",Component:Pe.$b},{name:"afterFailureSubmission",Component:Pe.pE},{name:"delete",type:"remove"}]}),Ue=new ge.F({name:"actionSettings:disassociate",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"refreshDataBlockRequest",Component:Pe.x1,useComponentProps:function(){return{isPopupAction:!1}}},{name:"secondConFirm",Component:Pe.y0},{name:"delete",type:"remove"}]});function je(){var _n,We,Ye=(0,o.useField)(),pt=(0,o.useFieldSchema)(),Pt=(0,P.useDesignable)(),bt=Pt.dn,Ht=(0,y.$)(),dn=Ht.t,yn=pt["x-component-props"]||{},Yn=yn.titleExpand,bn=yn.titleCollapse,wn=yn.iconExpand,cr=yn.iconCollapse;return(0,E.jsx)(u.j0,{title:dn("Edit button"),schema:{type:"object",title:dn("Edit button"),properties:{titleExpand:{"x-decorator":"FormItem","x-component":"Input",title:"".concat(dn("Button title")," - ").concat(dn("Expand all")),default:Yn},titleCollapse:{"x-decorator":"FormItem","x-component":"Input",title:"".concat(dn("Button title")," - ").concat(dn("Collapse all")),default:bn},iconExpand:{"x-decorator":"FormItem","x-component":"IconPicker",title:"".concat(dn("Button icon")," - ").concat(dn("Expand all")),default:wn},iconCollapse:{"x-decorator":"FormItem","x-component":"IconPicker",title:"".concat(dn("Button icon")," - ").concat(dn("Collapse all")),default:cr},type:{"x-decorator":"FormItem","x-component":"Radio.Group",title:dn("Button background color"),default:pt!=null&&(_n=pt["x-component-props"])!==null&&_n!==void 0&&_n.danger?"danger":(pt==null||(We=pt["x-component-props"])===null||We===void 0?void 0:We.type)==="primary"?"primary":"default",enum:[{value:"default",label:'{{t("Default")}}'},{value:"primary",label:'{{t("Highlight")}}'},{value:"danger",label:'{{t("Secondary")}}'}]}}},onSubmit:function(Er){var Pr=Er.titleExpand,$r=Er.titleCollapse,Vr=Er.iconExpand,zr=Er.iconCollapse,lo=Er.type;pt.title=dn("Expand/Collapse"),Ye.title=dn("Expand/Collapse"),Ye.componentProps.icon=Vr,Ye.componentProps.danger=lo==="danger",Ye.componentProps.type=lo,pt["x-component-props"]=l()(l()({},pt["x-component-props"]||{}),{},{titleExpand:Pr,titleCollapse:$r,iconExpand:Vr,iconCollapse:zr,type:lo,danger:lo==="danger"}),bt.emit("patch",{schema:{"x-uid":pt["x-uid"],"x-component-props":pt["x-component-props"],title:pt.title}}),bt.refresh()}})}var De=new ge.F({name:"actionSettings:expendable",items:[{name:"editButton",Component:je,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),ye=e(77041),_e=e(3329),q=new ge.F({name:"actionSettings:filter",items:[{name:"FilterableFields",Component:ye.HN},{name:"divider",type:"divider"},{name:"EditButton",type:"modal",useComponentProps:function(){var We,Ye=(0,o.useField)(),pt=(0,o.useFieldSchema)(),Pt=(0,_e.ng)(),bt=Pt.dn,Ht=(0,y.$)(),dn=Ht.t;return{title:dn("Edit button"),schema:{type:"object",title:dn("Edit button"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:dn("Button title"),default:pt.title,"x-component-props":{}},icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:dn("Button icon"),default:pt==null||(We=pt["x-component-props"])===null||We===void 0?void 0:We.icon,"x-component-props":{}}}},onSubmit:function(Yn){var bn,wn=Yn.title,cr=Yn.icon;pt.title=wn,Ye.title=wn,Ye.componentProps.icon=cr,pt["x-component-props"]=pt["x-component-props"]||{},pt["x-component-props"].icon=cr,bt.emit("patch",{schema:(bn={},r()(bn,"x-uid",pt["x-uid"]),r()(bn,"title",wn),r()(bn,"x-component-props",l()({},pt["x-component-props"])),bn)}),bt.refresh()}}}},{name:"divider2",type:"divider"},{name:"delete",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:function(We){return We["x-component"]==="Space"||We["x-component"]==="ActionBar"}}}]}),pe=new ge.F({name:"actionSettings:refresh",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"secondConFirm",Component:Pe.y0},{name:"delete",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),Re=e(72594),Oe=new ge.F({name:"actionSettings:saveRecord",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,Re.Kx)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"secondConfirmation",Component:Pe.y0},{name:"assignFieldValues",Component:Pe.eY},{name:"skipRequiredValidation",Component:Pe.co},{name:"afterSuccessfulSubmission",Component:Pe.$b},{name:"afterFailureSubmission",Component:Pe.pE},{name:"bindWorkflow",Component:Pe.Fj},{name:"refreshDataBlockRequest",Component:Pe.x1,useComponentProps:function(){return{isPopupAction:!1}}},{name:"delete",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),$e=function(We){var Ye,pt=(0,he.useCollectionManager_deprecated)(),Pt=pt.getCollectionFields,bt=pt.getInterface,Ht=Pt(We);return Ht==null||(Ye=Ht.filter)===null||Ye===void 0?void 0:Ye.call(Ht,function(dn){if(!dn.interface)return!1;var yn=bt(dn.interface);return!!(yn!=null&&yn.filterable)})},Ve=function(){var We,Ye=(0,o.useFieldSchema)(),pt=(0,L.ngQ)(),Pt=pt.dn,bt=(0,he.useCollection_deprecated)(),Ht=bt.name,dn=$e(Ht),yn=(0,_e.eJ)(),Yn=(0,y.$)(),bn=Yn.t,wn=(Ye==null||(We=Ye["x-component-props"])===null||We===void 0?void 0:We.needFilterFields)||[];return(0,E.jsx)(u.bw,{title:bn("Searchable fields"),children:dn.map(function(cr){var yr,Er=wn.includes(cr.name);return(0,E.jsx)(u.hj,{checked:Er,title:yn(cr==null||(yr=cr.uiSchema)===null||yr===void 0?void 0:yr.title),onChange:function($r){var Vr,zr;Ye["x-component-props"]=(Ye==null?void 0:Ye["x-component-props"])||{};var lo=(Ye==null||(Vr=Ye["x-component-props"])===null||Vr===void 0?void 0:Vr.needFilterFields)||[];if($r)lo.push(cr.name);else{var Mo=lo.indexOf(cr.name);lo.splice(Mo,1)}Ye["x-component-props"].needFilterFields=lo,Pt.emit("patch",{schema:(zr={},r()(zr,"x-uid",Ye["x-uid"]),r()(zr,"x-component-props",l()({},Ye["x-component-props"])),zr)}),Pt.refresh()}},cr.name)})})},Ze=new ge.F({name:"actionSettings:search",items:[{name:"SearchableFields",Component:Ve},{name:"divider",type:"divider"},{name:"delete",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:function(We){return We["x-component"]==="Space"||We["x-component"]==="ActionBar"}}}]}),qe=e(84327),Qe=new ge.F({name:"actionSettings:createSubmit",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"secondConfirmation",Component:Pe.y0},{name:"afterSuccessfulSubmission",Component:Pe.$b},{name:"afterFailureSubmission",Component:Pe.pE},{name:"workflowConfig",Component:Pe.Fj,useVisible:function(){var We,Ye=(0,o.useFieldSchema)();return(0,qe.isValid)(Ye==null||(We=Ye["x-action-settings"])===null||We===void 0?void 0:We.triggerWorkflows)}},{name:"saveMode",Component:Pe.JV},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),ke=new ge.F({name:"actionSettings:updateSubmit",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"secondConfirmation",Component:Pe.y0},{name:"afterSuccessfulSubmission",Component:Pe.$b},{name:"linkageRules",Component:function(We){return(0,E.jsx)(u.lc,l()({},We))},useComponentProps:function(){var We=(0,Re.Kx)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"workflowConfig",Component:Pe.Fj,useVisible:function(){var We,Ye=(0,o.useFieldSchema)();return(0,qe.isValid)(Ye==null||(We=Ye["x-action-settings"])===null||We===void 0?void 0:We.triggerWorkflows)}},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),ft=new ge.F({name:"actionSettings:submit",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"secondConfirmation",Component:Pe.y0},{name:"workflowConfig",Component:Pe.Fj,useVisible:function(){var We,Ye=(0,o.useFieldSchema)();return(0,qe.isValid)(Ye==null||(We=Ye["x-action-settings"])===null||We===void 0?void 0:We.triggerWorkflows)}},{name:"saveMode",Component:Pe.JV,useVisible:function(){var We,Ye=(0,o.useFieldSchema)();return Ye["x-action"]==="submit"&&(0,xe.h6)((We=Ye.parent)===null||We===void 0?void 0:We["x-initializer"],"createForm:configureActions")}},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),vt=new ge.F({name:"actionSettings:updateRecord",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"secondConFirm",Component:Pe.y0},{name:"assignFieldValues",Component:Pe.eY},{name:"afterSuccessfulSubmission",Component:Pe.$b},{name:"afterFailureSubmission",Component:Pe.pE},{name:"workflowConfig",Component:Pe.Fj,useVisible:function(){var We,Ye=(0,o.useFieldSchema)();return(0,qe.isValid)(Ye==null||(We=Ye["x-action-settings"])===null||We===void 0?void 0:We.triggerWorkflows)}},{name:"refreshDataBlockRequest",Component:Pe.x1,useComponentProps:function(){return{isPopupAction:!1}}},{name:"delete",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),_t=new ge.F({name:"actionSettings:popup",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"showOnCover",type:"switch",useComponentProps:function(){var We,Ye=(0,o.useFieldSchema)(),pt=(0,P.useDesignable)(),Pt=pt.patch,bt=(0,y.$)(),Ht=bt.t;return{checked:((We=Ye["x-data"])===null||We===void 0?void 0:We.showOnCover)||!1,title:Ht("Show on cover"),onChange:function(yn){Pt({"x-data":{showOnCover:yn}})}}},useVisible:function(){var We=(0,o.useFieldSchema)();return(0,H.isInAuditCard)(We)}},{name:"openMode",Component:Ae.HA,componentProps:{openMode:!0,openSize:!0}},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),Nt=new ge.F({name:"actionSettings:edit",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"openMode",Component:Ae.HA,componentProps:{openMode:!0,openSize:!0}},{name:"delete",type:"remove"}]}),Kt=new ge.F({name:"actionSettings:view",items:[{name:"editButton",Component:Pe.C1,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.buttonEditorProps;return Ye}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name,pt=(0,xe.Po)(),Pt=pt.linkageRulesProps;return l()(l()({},Pt),{},{collectionName:Ye})}},{name:"openMode",Component:Ae.HA,componentProps:{openMode:!0,openSize:!0}},{name:"remove",sort:100,Component:Pe.xZ,useComponentProps:function(){var We=(0,xe.Po)(),Ye=We.removeButtonProps;return Ye}}]}),ut=e(68392),Rt=e(67205),Dt=function _n(We){var Ye=We.reduceProperties(function(pt,Pt){return Pt["x-component"]==="Radio.Custom"?Pt:_n(Pt)},null);return Ye},dt=function(){var We,Ye=(0,P.useDesignable)(),pt=Ye.dn,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useFieldSchema)(),dn=Dt(Ht);return(0,E.jsx)(u.j0,{title:bt("Filter group style"),schema:{type:"object",title:bt("Filter group style"),properties:{style:{"x-decorator":"FormItem","x-component":"Radio.Group",default:(dn==null||(We=dn["x-component-props"])===null||We===void 0?void 0:We.style)||"Tight",enum:[{value:"Tight",label:'{{ t("Tight") }}'},{value:"Dispersed",label:'{{ t("Dispersed") }}'}]}}},onSubmit:function(Yn){var bn=Yn.style;dn&&(dn["x-component-props"]=l()(l()({},dn["x-component-props"]||{}),{},{style:bn}),pt.emit("patch",{schema:{"x-uid":Ht["x-uid"],properties:Ht.properties}}),pt.refresh())}})},Bt=new ge.F({name:"actionSettings:filterGroup",items:[{name:"RadioGroupStyle",Component:dt},{name:"delete",type:"remove",useComponentProps:function(){var We=(0,o.useFieldSchema)(),Ye=(0,Rt.kO)(),pt=Ye.getDataBlocks;return{confirm:{onOk:function(){pt().map(function(bt){var Ht=(0,ut.y)(We,bt.uid);Ht&&bt.clearFilter(bt.uid)})}}}}}]}),He=e(80564),ct=e(79531),St=e(22691),Tt=new ge.F({name:"actionSettings:filterButton",items:[{name:"editButton",type:"modal",useComponentProps:function(){var We,Ye,pt=(0,o.useField)(),Pt=(0,o.useFieldSchema)(),bt=(0,_e.ng)(),Ht=bt.dn,dn=(0,y.$)(),yn=dn.t;return{title:yn("Edit button"),schema:{type:"object",title:yn("Edit button"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:yn("Button title"),default:Pt.title,required:!0},selected:{"x-decorator":"FormItem","x-component":"Checkbox",title:yn("Default selected"),default:Pt==null||(We=Pt["x-component-props"])===null||We===void 0?void 0:We.selected},icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:yn("Button icon"),default:Pt==null||(Ye=Pt["x-component-props"])===null||Ye===void 0?void 0:Ye.icon}}},onSubmit:function(bn){var wn=bn.title,cr=bn.icon,yr=bn.selected;pt.title=wn,pt.componentProps.icon=cr,Pt.title=wn,Pt["x-component-props"]=(Pt==null?void 0:Pt["x-component-props"])||{},Pt["x-component-props"].icon=cr,Pt["x-component-props"].selected=yr,yr&&Pt.parent.mapProperties(function(Er){Er["x-uid"]!==Pt["x-uid"]&&(Er["x-component-props"]=(Er==null?void 0:Er["x-component-props"])||{},Er["x-component-props"].selected=!1)}),Ht.emit("patch",{schema:Pt.parent.toJSON()}),Ht.refresh()}}}},{name:"filterRules",type:"modal",useComponentProps:function(){var We,Ye=(0,o.useFieldSchema)(),pt=(0,_e.ng)(),Pt=pt.dn,bt=(0,y.$)(),Ht=bt.t,dn=(0,he.useCollection_deprecated)(),yn=dn.name,Yn=(0,He.xQ)(yn),bn=(0,P.useRecord)(),wn=(0,te.OQ)(),cr=(0,te.Kp)(),yr=(0,ct.bz)(),Er=yr.form,Pr=(0,P.useCollectionManager_deprecated)(),$r=Pr.getAllCollectionsInheritChain,Vr=(0,g.useCallback)(function(zr){return(0,E.jsx)(P.DatePickerProvider,{value:{utc:!1},children:(0,E.jsx)(St.qj,l()(l()({},zr),{},{form:Er,record:bn,shouldChange:(0,St.Vc)({collectionField:zr.collectionField,variables:wn,localVariables:cr,getAllCollectionsInheritChain:$r})}))})},[Er,$r,cr,bn,wn]);return{title:Ht("Filter rules"),schema:{type:"object",title:Ht("Filter rules"),properties:{filter:{type:"object",enum:Yn,default:(Ye==null||(We=Ye["x-component-props"])===null||We===void 0?void 0:We.filter)||{},"x-component":"Filter","x-component-props":{dynamicComponent:Vr}}}},onSubmit:function(lo){var Mo,To=lo.filter;Ye["x-component-props"]=Ye["x-component-props"]||{},Ye["x-component-props"].filter=To,Pt.emit("patch",{schema:(Mo={},r()(Mo,"x-uid",Ye["x-uid"]),r()(Mo,"x-component-props",Ye["x-component-props"]),Mo)}),Pt.refresh()}}}},{name:"divider",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){var We=(0,o.useFieldSchema)(),Ye=(0,Rt.kO)(),pt=Ye.getDataBlocks;return{confirm:{onOk:function(){pt().map(function(bt){var Ht=(0,ut.y)(We,bt.uid);Ht&&bt.clearFilter(bt.uid)})}}}}}]}),Mt=e(57134),Zt=e(35964),Je=e(4277),et=[{name:"title",Component:F._},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye,readPretty:!0}}},{name:"dataScope",Component:t.H,useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,o.useFieldSchema)(),bt=(0,ct.bz)(),Ht=bt.form,dn=(0,o.useField)(),yn=(0,L.ngQ)(),Yn=yn.dn,bn=(0,Zt.nT)(),wn=bn.service;return{collectionName:pt,defaultFilter:(Pt==null||(We=Pt["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.filter)||{},form:Ht,noRecord:!0,onSubmit:function(yr){var Er,Pr=yr.filter;Pr=(0,L.WmO)(Pr);var $r=dn.decoratorProps.params||{};$r.filter=Pr,dn.decoratorProps.params=$r,Pt["x-decorator-props"].params=$r,Yn.emit("patch",{schema:(Er={},r()(Er,"x-uid",Pt["x-uid"]),r()(Er,"x-decorator-props",Pt["x-decorator-props"]),Er)}),wn.params[0].page=1}}}},{name:"sortingRules",type:"modal",useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useFieldSchema)(),dn=(0,o.useField)(),yn=(0,Zt.nT)(),Yn=yn.service,bn=(0,L.ngQ)(),wn=bn.dn,cr=(0,he.useSortFields)(pt),yr=(Ht==null||(We=Ht["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.sort)||[],Er=yr==null?void 0:yr.map(function(Pr){return Pr.startsWith("-")?{field:Pr.substring(1),direction:"desc"}:{field:Pr,direction:"asc"}});return{title:bt("Set default sorting rules"),components:{ArrayItems:Mt.ArrayItems},schema:{type:"object",title:bt("Set default sorting rules"),properties:{sort:{type:"array",default:Er,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:cr,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:bt("ASC"),value:"asc"},{label:bt("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:bt("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function($r){var Vr,zr,lo=$r.sort,Mo=lo.map(function(wo){return wo.direction==="desc"?"-".concat(wo.field):wo.field}),To=dn.decoratorProps.params||{};To.sort=Mo,dn.decoratorProps.params=To,Ht["x-decorator-props"].params=To,wn.emit("patch",{schema:(Vr={},r()(Vr,"x-uid",Ht["x-uid"]),r()(Vr,"x-decorator-props",Ht["x-decorator-props"]),Vr)}),Yn.run(l()(l()({},(zr=Yn.params)===null||zr===void 0?void 0:zr[0]),{},{sort:Mo}))}}}},Je.wq,{name:"template",Component:W.G,useComponentProps:function(){var We,Ye,pt=(0,he.useCollection_deprecated)(),Pt=pt.name,bt=(0,o.useFieldSchema)(),Ht=(bt==null||(We=bt["x-decorator-props"])===null||We===void 0?void 0:We.resource)||(bt==null||(Ye=bt["x-decorator-props"])===null||Ye===void 0?void 0:Ye.association);return{componentName:"Details",collectionName:Pt,resourceName:Ht}}},{name:"divider",type:"divider"},{name:"editTheme",Component:U.s,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Block theme")}}},{name:"divider2",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}],rt=new ge.F({name:"blockSettings:multiDataDetails",items:et}),yt=new ge.F({name:"blockSettings:detailsWithPagination",items:et}),xt=[{name:"title",Component:F._},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye,readPretty:!0}}},{name:"formItemTemplate",Component:u.vC,useComponentProps:function(){var We,Ye,pt=(0,he.useCollection_deprecated)(),Pt=pt.name,bt=(0,o.useFieldSchema)(),Ht=(bt==null||(We=bt["x-decorator-props"])===null||We===void 0?void 0:We.resource)||(bt==null||(Ye=bt["x-decorator-props"])===null||Ye===void 0?void 0:Ye.association);return{insertAdjacentPosition:"beforeEnd",componentName:"ReadPrettyFormItem",collectionName:Pt,resourceName:Ht}}},{name:"divider",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}],Ct=new ge.F({name:"blockSettings:singleDataDetails",items:xt}),mt=new ge.F({name:"blockSettings:details",items:xt}),at=e(19298),ht=e(35441),ot=e(29760),kt=e(96486),nn=e.n(kt),Lt=e(89265),hn=new ge.F({name:"blockSettings:gridCard",items:[{name:"SetBlockTitle",Component:F._},{name:"SetTheCountOfColumnsDisplayedInARow",Component:Lt.X},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye,readPretty:!0}}},{name:"SetTheDataScope",Component:t.H,useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,o.useFieldSchema)(),bt=(0,ct.bz)(),Ht=bt.form,dn=(0,o.useField)(),yn=(0,L.ngQ)(),Yn=yn.dn;return{collectionName:pt,defaultFilter:(Pt==null||(We=Pt["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.filter)||{},form:Ht,onSubmit:function(wn){var cr,yr=wn.filter;yr=(0,L.WmO)(yr),nn().set(Pt,"x-decorator-props.params.filter",yr),dn.decoratorProps.params=l()({},Pt["x-decorator-props"].params),Yn.emit("patch",{schema:(cr={},r()(cr,"x-uid",Pt["x-uid"]),r()(cr,"x-decorator-props",Pt["x-decorator-props"]),cr)})}}}},{name:"SetTheDataPower",Component:t.d,useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,o.useFieldSchema)(),bt=(0,ct.bz)(),Ht=bt.form,dn=(0,o.useField)(),yn=(0,L.ngQ)(),Yn=yn.dn;return{collectionName:pt,defaultFilter:(Pt==null||(We=Pt["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.power)||{},form:Ht,onSubmit:function(wn){var cr,yr=wn.power;yr=(0,L.WmO)(yr),nn().set(Pt,"x-decorator-props.params.power",yr),dn.decoratorProps.params=l()({},Pt["x-decorator-props"].params),Yn.emit("patch",{schema:(cr={},r()(cr,"x-uid",Pt["x-uid"]),r()(cr,"x-decorator-props",Pt["x-decorator-props"]),cr)})}}}},{name:"SetDefaultSortingRules",type:"modal",useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useFieldSchema)(),dn=(0,o.useField)(),yn=(0,L.ngQ)(),Yn=yn.dn,bn=(0,he.useSortFields)(pt),wn=(Ht==null||(We=Ht["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.sort)||[],cr=wn==null?void 0:wn.map(function(yr){return yr.startsWith("-")?{field:yr.substring(1),direction:"desc"}:{field:yr,direction:"asc"}});return{title:bt("Set default sorting rules"),components:{ArrayItems:Mt.ArrayItems},schema:{type:"object",title:bt("Set default sorting rules"),properties:{sort:{type:"array",default:cr,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:bn,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:bt("ASC"),value:"asc"},{label:bt("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:bt("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(Er){var Pr,$r=Er.sort,Vr=$r.map(function(zr){return zr.direction==="desc"?"-".concat(zr.field):zr.field});nn().set(Ht,"x-decorator-props.params.sort",Vr),dn.decoratorProps.params=l()({},Ht["x-decorator-props"].params),Yn.emit("patch",{schema:(Pr={},r()(Pr,"x-uid",Ht["x-uid"]),r()(Pr,"x-decorator-props",Ht["x-decorator-props"]),Pr)})}}}},Je.wq,{name:"RecordsPerPage",type:"select",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useFieldSchema)(),bt=(0,o.useField)(),Ht=(0,L.ngQ)(),dn=Ht.dn;return{title:pt("Records per page"),value:((We=bt.decoratorProps)===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.pageSize)||20,options:z.Wv.map(function(yn){return{value:yn}}),onChange:function(Yn){var bn;nn().set(Pt,"x-decorator-props.params.pageSize",Yn),bt.decoratorProps.params=l()(l()({},Pt["x-decorator-props"].params),{},{page:1}),dn.emit("patch",{schema:(bn={},r()(bn,"x-uid",Pt["x-uid"]),r()(bn,"x-decorator-props",Pt["x-decorator-props"]),bn)})}}}},{name:"ConvertReferenceToDuplicate",Component:W.G,useComponentProps:function(){var We,Ye,pt=(0,he.useCollection_deprecated)(),Pt=pt.name,bt=(0,o.useFieldSchema)(),Ht=(bt==null||(We=bt["x-decorator-props"])===null||We===void 0?void 0:We.resource)||(bt==null||(Ye=bt["x-decorator-props"])===null||Ye===void 0?void 0:Ye.association);return{componentName:"GridCard",collectionName:Pt,resourceName:Ht}}},{name:"divider",type:"divider"},{name:"editTheme",Component:U.s,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Block theme")}}},{name:"mobileAdaptation",Component:I._z},{name:"divider2",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]}),Dn=new ge.F({name:"blockSettings:list",items:[{name:"EditBlockTitle",Component:F._},{name:"EditBlockLayout",Component:R},{name:"SetTheDataScope",Component:t.H,useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,o.useFieldSchema)(),bt=(0,ct.bz)(),Ht=bt.form,dn=(0,o.useField)(),yn=(0,L.ngQ)(),Yn=yn.dn;return{collectionName:pt,defaultFilter:(Pt==null||(We=Pt["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.filter)||{},form:Ht,onSubmit:function(wn){var cr,yr=wn.filter;yr=(0,L.WmO)(yr),nn().set(Pt,"x-decorator-props.params.filter",yr),dn.decoratorProps.params=l()(l()({},Pt["x-decorator-props"].params),{},{page:1}),Yn.emit("patch",{schema:(cr={},r()(cr,"x-uid",Pt["x-uid"]),r()(cr,"x-decorator-props",Pt["x-decorator-props"]),cr)})}}}},{name:"SetDefaultSortingRules",type:"modal",useComponentProps:function(){var We,Ye=(0,he.useCollection_deprecated)(),pt=Ye.name,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useFieldSchema)(),dn=(0,o.useField)(),yn=(0,L.ngQ)(),Yn=yn.dn,bn=(0,he.useSortFields)(pt),wn=(Ht==null||(We=Ht["x-decorator-props"])===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.sort)||[],cr=wn==null?void 0:wn.map(function(yr){return yr.startsWith("-")?{field:yr.substring(1),direction:"desc"}:{field:yr,direction:"asc"}});return{title:bt("Set default sorting rules"),components:{ArrayItems:Mt.ArrayItems},schema:{type:"object",title:bt("Set default sorting rules"),properties:{sort:{type:"array",default:cr,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:bn,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:bt("ASC"),value:"asc"},{label:bt("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:bt("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function(Er){var Pr,$r=Er.sort,Vr=$r.map(function(zr){return zr.direction==="desc"?"-".concat(zr.field):zr.field});nn().set(Ht,"x-decorator-props.params.sort",Vr),dn.decoratorProps.params=l()(l()({},Ht["x-decorator-props"].params),{},{page:1}),Yn.emit("patch",{schema:(Pr={},r()(Pr,"x-uid",Ht["x-uid"]),r()(Pr,"x-decorator-props",Ht["x-decorator-props"]),Pr)})}}}},Je.wq,{name:"RecordsPerPage",type:"select",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useFieldSchema)(),bt=(0,o.useField)(),Ht=(0,L.ngQ)(),dn=Ht.dn;return{title:pt("Records per page"),value:((We=bt.decoratorProps)===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.pageSize)||20,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"80",value:80},{label:"100",value:100}],onChange:function(Yn){var bn;nn().set(Pt,"x-decorator-props.params.pageSize",Yn),bt.decoratorProps.params=l()(l()({},Pt["x-decorator-props"].params),{},{page:1}),dn.emit("patch",{schema:(bn={},r()(bn,"x-uid",Pt["x-uid"]),r()(bn,"x-decorator-props",Pt["x-decorator-props"]),bn)})}}}},{name:"ConvertReferenceToDuplicate",Component:W.G,useComponentProps:function(){var We,Ye,pt=(0,he.useCollection_deprecated)(),Pt=pt.name,bt=(0,o.useFieldSchema)(),Ht=(bt==null||(We=bt["x-decorator-props"])===null||We===void 0?void 0:We.resource)||(bt==null||(Ye=bt["x-decorator-props"])===null||Ye===void 0?void 0:Ye.association);return{componentName:"List",collectionName:Pt,resourceName:Ht}}},{name:"divider",type:"divider"},{name:"editTheme",Component:U.s,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Block theme")}}},{name:"mobileAdaptation",Component:I._z},{name:"divider2",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]}),Gt=e(67718),mn=e(23568),qt=e(23450),$t=e(18386),Pn=new ge.F({name:"blockSettings:filterCollapse",items:[{name:"EditBlockTitle",Component:F._},{name:"ConvertReferenceToDuplicate",Component:W.G,useComponentProps:function(){var We,Ye,pt=(0,he.useCollection_deprecated)(),Pt=pt.name,bt=(0,o.useFieldSchema)(),Ht=(bt==null||(We=bt["x-decorator-props"])===null||We===void 0?void 0:We.resource)||(bt==null||(Ye=bt["x-decorator-props"])===null||Ye===void 0?void 0:Ye.association);return{componentName:"FilterCollapse",collectionName:Pt,resourceName:Ht}}},{name:"ConnectDataBlocks",Component:X.F,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{type:$t.vC.COLLAPSE,emptyDescription:Ye("No blocks to connect")}}},{name:"divider",type:"divider"},{name:"editTheme",Component:U.s,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Block theme")}}},{name:"divider2",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]}),vn=e(35746),sn=new ge.F({name:"fieldSettings:FilterCollapseItem",items:[{name:"decoratorOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Generic properties")}},useChildren:function(){return[{name:"customTitle",type:"modal",useComponentProps:function(){var Ye,pt=(0,o.useFieldSchema)(),Pt=(0,y.$)(),bt=Pt.t,Ht=(0,he.useCollectionManager_deprecated)(),dn=Ht.getCollectionJoinField,yn=(0,he.useCollection_deprecated)(),Yn=yn.getField,bn=Yn(pt.name)||dn(pt["x-collection-field"]),wn=(0,L.ngQ)(),cr=wn.dn;return{title:bt("Custom title"),schema:{type:"object",title:bt("Custom title"),properties:{title:{default:pt==null?void 0:pt.title,description:"".concat(bt("Original title: ")).concat((bn==null||(Ye=bn.uiSchema)===null||Ye===void 0?void 0:Ye.title)||(pt==null?void 0:pt.title)),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(Er){var Pr=Er.title;Pr&&(pt.title=Pr,cr.emit("patch",{schema:{"x-uid":pt["x-uid"],title:pt.title}})),cr.refresh()}}}},{name:"defaultCollapse",type:"switch",useComponentProps:function(){var Ye=(0,o.useFieldSchema)(),pt=(0,o.useField)(),Pt=(0,y.$)(),bt=Pt.t,Ht=(0,L.ngQ)(),dn=Ht.dn;return{title:bt("Default collapse"),checked:pt.componentProps.defaultCollapse,onChange:function(Yn){var bn;pt.componentProps.defaultCollapse=Yn,nn().set(Ye,"x-component-props.defaultCollapse",Yn),dn.emit("patch",{schema:(bn={},r()(bn,"x-uid",Ye["x-uid"]),r()(bn,"x-component-props",Ye["x-component-props"]),bn)}),dn.refresh()}}}},{name:"setTheDataScope",Component:t.H,useComponentProps:function(){var Ye,pt=(0,o.useFieldSchema)(),Pt=(0,ct.bz)(),bt=Pt.form,Ht=(0,o.useField)(),dn=(0,he.useCollectionManager_deprecated)(),yn=dn.getCollectionJoinField,Yn=(0,he.useCollection_deprecated)(),bn=Yn.getField,wn=bn(pt.name)||yn(pt["x-collection-field"]),cr=(0,L.ngQ)(),yr=cr.dn;return{collectionName:wn==null?void 0:wn.target,defaultFilter:(pt==null||(Ye=pt["x-component-props"])===null||Ye===void 0||(Ye=Ye.params)===null||Ye===void 0?void 0:Ye.filter)||{},form:bt,onSubmit:function(Pr){var $r,Vr,zr=Pr.filter;nn().set(Ht.componentProps,"params",l()(l()({},($r=Ht.componentProps)===null||$r===void 0?void 0:$r.params),{},{filter:zr})),pt["x-component-props"].params=Ht.componentProps.params,yr.emit("patch",{schema:(Vr={},r()(Vr,"x-uid",pt["x-uid"]),r()(Vr,"x-component-props",pt["x-component-props"]),Vr)})}}}},{name:"setDefaultSortingRules",Component:u.y5,useComponentProps:function(){var Ye=(0,o.useFieldSchema)(),pt=(0,he.useCollectionManager_deprecated)(),Pt=pt.getCollectionJoinField,bt=(0,he.useCollection_deprecated)(),Ht=bt.getField,dn=Ht(Ye.name)||Pt(Ye["x-collection-field"]);return{name:dn==null?void 0:dn.target}}},{name:"titleField",type:"select",useComponentProps:function(){var Ye,pt=(0,o.useFieldSchema)(),Pt=(0,y.$)(),bt=Pt.t,Ht=(0,he.useCollectionManager_deprecated)(),dn=Ht.getCollectionJoinField,yn=(0,he.useCollection_deprecated)(),Yn=yn.getField,bn=Yn(pt.name)||dn(pt["x-collection-field"]),wn=(0,vn.d9)(),cr=(0,L.eJW)(),yr=(0,L.ngQ)(),Er=yr.dn,Pr=bn!=null&&bn.target?wn.getCollectionFields(bn==null?void 0:bn.target):[],$r=Pr.filter(function(zr){return!(zr!=null&&zr.target)&&zr.type!=="boolean"}).map(function(zr){var lo;return{value:zr==null?void 0:zr.name,label:cr(zr==null||(lo=zr.uiSchema)===null||lo===void 0?void 0:lo.title)||(zr==null?void 0:zr.name)}}),Vr=function(lo){var Mo,To,wo=r()({},"x-uid",pt["x-uid"]),Ho=l()(l()(l()({},bn==null||(Mo=bn.uiSchema)===null||Mo===void 0||(Mo=Mo["x-component-props"])===null||Mo===void 0?void 0:Mo.fieldNames),(To=pt["x-component-props"])===null||To===void 0?void 0:To.fieldNames),{},{label:lo});pt["x-component-props"]=pt["x-component-props"]||{},pt["x-component-props"].fieldNames=Ho,wo["x-component-props"]=pt["x-component-props"],Er.emit("patch",{schema:wo}),Er.refresh()};return{key:"title-field",title:bt("Title field"),options:$r,value:(Ye=pt["x-component-props"])===null||Ye===void 0||(Ye=Ye.fieldNames)===null||Ye===void 0?void 0:Ye.label,onChange:Vr}}}]}},{name:"divider",type:"divider"},{name:"delete",type:"remove",sort:100,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{removeParentsIfNoChildren:!0,confirm:{title:Ye("Delete field")},breakRemoveOn:{"x-component":"Grid"}}}}]}),Rn=new ge.F({name:"blockSettings:filterForm",items:[{name:"title",Component:F._},{name:"formItemTemplate",Component:u.vC,useComponentProps:function(){var We,Ye,pt=(0,he.useCollection_deprecated)(),Pt=pt.name,bt=(0,o.useFieldSchema)(),Ht=(bt==null||(We=bt["x-decorator-props"])===null||We===void 0?void 0:We.resource)||(bt==null||(Ye=bt["x-decorator-props"])===null||Ye===void 0?void 0:Ye.association);return{componentName:"FilterFormItem",collectionName:Pt,resourceName:Ht}}},{name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye}}},{name:"SetTheDataPower",Component:u.UD,useComponentProps:function(){var We=(0,he.useCollection_deprecated)(),Ye=We.name;return{collectionName:Ye}}},{name:"connectDataBlocks",Component:X.F,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{type:$t.vC.FORM,emptyDescription:Ye("No blocks to connect")}}},{name:"divider",type:"divider"},{name:"editTheme",Component:U.s,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Block theme")}}},{name:"divider2",type:"divider"},{name:"remove",type:"remove",componentProps:{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}]}),un=e(96695),jt=e.n(un),rn=e(56318),An=new ge.F({name:"fieldSettings:FilterFormItem",items:[{name:"decoratorOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Generic properties")}},useChildren:function(){return[{name:"editFieldTitle",type:"modal",useComponentProps:function(){var Ye,pt=(0,y.$)(),Pt=pt.t,bt=(0,L.ngQ)(),Ht=bt.dn,dn=(0,o.useField)(),yn=(0,o.useFieldSchema)(),Yn=(0,he.useCollectionManager_deprecated)(),bn=Yn.getCollectionJoinField,wn=(0,he.useCollection_deprecated)(),cr=wn.getField,yr=cr(yn.name)||bn(yn["x-collection-field"]);return{title:Pt("Edit field title"),schema:{type:"object",title:Pt("Edit field title"),properties:{title:{title:Pt("Field title"),default:dn==null?void 0:dn.title,description:"".concat(Pt("Original field title: ")).concat(yr==null||(Ye=yr.uiSchema)===null||Ye===void 0?void 0:Ye.title),"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},onSubmit:function(Pr){var $r=Pr.title;$r&&(dn.title=$r,yn.title=$r,Ht.emit("patch",{schema:{"x-uid":yn["x-uid"],title:yn.title}})),Ht.refresh()}}}},{name:"displayTitle",type:"switch",useComponentProps:function(){var Ye,pt,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,L.ngQ)(),dn=Ht.dn,yn=(0,o.useField)(),Yn=(0,o.useFieldSchema)();return{title:bt("Display title"),checked:(Ye=(pt=Yn["x-decorator-props"])===null||pt===void 0?void 0:pt.showTitle)!==null&&Ye!==void 0?Ye:!0,onChange:function(wn){Yn["x-decorator-props"]=Yn["x-decorator-props"]||{},Yn["x-decorator-props"].showTitle=wn,yn.decoratorProps.showTitle=wn,dn.emit("patch",{schema:{"x-uid":Yn["x-uid"],"x-decorator-props":l()(l()({},Yn["x-decorator-props"]),{},{showTitle:wn})}}),dn.refresh()}}}},{name:"editDescription",type:"modal",useComponentProps:function(){var Ye=(0,y.$)(),pt=Ye.t,Pt=(0,L.ngQ)(),bt=Pt.dn,Ht=(0,o.useField)(),dn=(0,o.useFieldSchema)();return{title:pt("Edit description"),schema:{type:"object",title:pt("Edit description"),properties:{description:{default:Ht==null?void 0:Ht.description,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(Yn){var bn=Yn.description;Ht.description=bn,dn.description=bn,bt.emit("patch",{schema:{"x-uid":dn["x-uid"],description:dn.description}}),bt.refresh()}}}},{name:"editTooltip",type:"modal",useComponentProps:function(){var Ye,pt=(0,y.$)(),Pt=pt.t,bt=(0,L.ngQ)(),Ht=bt.dn,dn=(0,o.useField)(),yn=(0,o.useFieldSchema)();return{title:Pt("Edit tooltip"),schema:{type:"object",title:Pt("Edit tooltip"),properties:{tooltip:{default:yn==null||(Ye=yn["x-decorator-props"])===null||Ye===void 0?void 0:Ye.tooltip,"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{}}}},onSubmit:function(bn){var wn=bn.tooltip;dn.decoratorProps.tooltip=wn,yn["x-decorator-props"]=yn["x-decorator-props"]||{},yn["x-decorator-props"].tooltip=wn,Ht.emit("patch",{schema:{"x-uid":yn["x-uid"],"x-decorator-props":yn["x-decorator-props"]}}),Ht.refresh()}}}},{name:"setValidationRules",type:"modal",useComponentProps:function(){var Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh,Yn=(0,L.q4O)(),bn=(0,he.useCollectionManager_deprecated)(),wn=bn.getCollectionJoinField,cr=(0,he.useCollection_deprecated)(),yr=cr.getField,Er=yr(bt.name)||wn(bt["x-collection-field"]);return{title:pt("Set validation rules"),components:{ArrayCollapse:Mt.ArrayCollapse,FormLayout:Mt.FormLayout},schema:{type:"object",title:pt("Set validation rules"),properties:{rules:{type:"array",default:bt==null?void 0:bt["x-validator"],"x-component":"ArrayCollapse","x-decorator":"FormItem","x-component-props":{accordion:!0},maxItems:3,items:{type:"object","x-component":"ArrayCollapse.CollapsePanel","x-component-props":{header:'{{ t("Validation rule") }}'},properties:{index:{type:"void","x-component":"ArrayCollapse.Index"},layout:{type:"void","x-component":"FormLayout","x-component-props":{labelStyle:{marginTop:"6px"},labelCol:8,wrapperCol:16},properties:l()(l()({},Yn),{},{message:{type:"string",title:'{{ t("Error message") }}',"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:2,maxRows:2}}}})},remove:{type:"void","x-component":"ArrayCollapse.Remove"},moveUp:{type:"void","x-component":"ArrayCollapse.MoveUp"},moveDown:{type:"void","x-component":"ArrayCollapse.MoveDown"}}},properties:{add:{type:"void",title:'{{ t("Add validation rule") }}',"x-component":"ArrayCollapse.Addition","x-reactions":{dependencies:["rules"],fulfill:{state:{disabled:"{{$deps[0].length >= 3}}"}}}}}}}},onSubmit:function($r){var Vr,zr=[],lo=jt()($r.rules),Mo;try{for(lo.s();!(Mo=lo.n()).done;){var To=Mo.value;zr.push(nn().pickBy(To,nn().identity))}}catch(Pa){lo.e(Pa)}finally{lo.f()}var wo=r()({},"x-uid",bt["x-uid"]);if(["percent"].includes(Er==null?void 0:Er.interface)){var Ho=jt()(zr),sa;try{for(Ho.s();!(sa=Ho.n()).done;){var ua=sa.value;(ua.maxValue||ua.minValue)&&(ua.percentMode=!0),ua.percentFormat&&(ua.percentFormats=!0)}}catch(Pa){Ho.e(Pa)}finally{Ho.f()}}var Sa=nn().concat([],(Er==null||(Vr=Er.uiSchema)===null||Vr===void 0?void 0:Vr["x-validator"])||[],zr);Pt.validator=Sa,bt["x-validator"]=zr,wo["x-validator"]=zr,dn.emit("patch",{schema:wo}),yn()}}},useVisible:function(){var Ye=(0,L.q4O)();return!!Ye}},{name:"operator",Component:L.HGA}]}},{name:"componentOptions",type:"itemGroup",hideIfNoChildren:!0,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Specific properties")}},useChildren:function(){var We=(0,xe.qD)(),Ye=(0,rn.W)(),pt=We.schemaSettingsManager.get("fieldSettings:component:".concat(Ye));return(pt==null?void 0:pt.items)||[]}},{name:"divider",type:"divider"},{name:"delete",type:"remove",sort:100,useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{removeParentsIfNoChildren:!0,confirm:{title:Ye("Delete field")},breakRemoveOn:{"x-component":"Grid"}}}}]}),En=new ge.F({name:"blockSettings:googleReCaptcha",items:[{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]}),gn=new ge.F({name:"blockSettings:markdown",items:[{name:"EditMarkdown",type:"item",useComponentProps:function(){var We=(0,o.useField)(),Ye=(0,y.$)(),pt=Ye.t;return{title:pt("Edit markdown"),onClick:function(){We.editable=!0}}}},{name:"layout",Component:R},{name:"showOnCover",type:"switch",useComponentProps:function(){var We,Ye=(0,o.useFieldSchema)(),pt=(0,P.useDesignable)(),Pt=pt.patch,bt=(0,y.$)(),Ht=bt.t;return{checked:((We=Ye["x-data"])===null||We===void 0?void 0:We.showOnCover)||!1,title:Ht("Show on cover"),onChange:function(yn){Pt({"x-data":{showOnCover:yn}})}}},useVisible:function(){var We=(0,o.useFieldSchema)();return(0,H.isInAuditCard)(We)}},{name:"divider",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}}}]}),jn=e(37696),Yt=e(36586),gt=e(81230),wt=e(94920),Vt={name:"enableLink",type:"switch",useVisible:function(){var We=(0,o.useField)();return We.readPretty},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,gt.z)(),Ht=bt.fieldSchema,dn=(0,o.useFieldSchema)(),yn=Ht||dn,Yn=(0,L.ngQ)(),bn=Yn.dn;return{title:pt("Enable link"),checked:((We=yn["x-component-props"])===null||We===void 0?void 0:We.enableLink)!==!1,onChange:function(cr){yn["x-component-props"]=l()(l()({},yn==null?void 0:yn["x-component-props"]),{},{enableLink:cr}),Pt.componentProps.enableLink=cr,bn.emit("patch",{schema:{"x-uid":yn["x-uid"],"x-component-props":l()({},yn==null?void 0:yn["x-component-props"])}}),bn.refresh()}}}},It={name:"titleField",type:"select",useComponentProps:function(){var We,Ye,pt,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useField)(),dn=(0,L.ngQ)(),yn=dn.dn,Yn=(0,N.eT)(),bn=(0,gt.z)(),wn=bn.uiSchema,cr=bn.fieldSchema,yr=bn.collectionField,Er=(0,o.useFieldSchema)(),Pr=cr||Er,$r=(0,Re.Hy)(),Vr=yr||$r,zr=l()(l()(l()({},Vr==null||(We=Vr.uiSchema)===null||We===void 0||(We=We["x-component-props"])===null||We===void 0?void 0:We.fieldNames),Ht==null||(Ye=Ht.componentProps)===null||Ye===void 0?void 0:Ye.fieldNames),Pr==null||(pt=Pr["x-component-props"])===null||pt===void 0?void 0:pt.fieldNames);return{title:bt("Title field"),options:Yn,value:zr==null?void 0:zr.label,onChange:function(Mo){var To,wo,Ho,sa,ua=r()({},"x-uid",Pr["x-uid"]),Sa=l()(l()(l()({},Vr==null||(To=Vr.uiSchema)===null||To===void 0||(To=To["x-component-props"])===null||To===void 0?void 0:To.fieldNames),(wo=Pr["x-component-props"])===null||wo===void 0?void 0:wo.fieldNames),{},{label:Mo});Pr["x-component-props"]=Pr["x-component-props"]||{},Pr["x-component-props"].fieldNames=Sa,ua["x-component-props"]=Pr["x-component-props"],Ht.componentProps.fieldNames=Pr["x-component-props"].fieldNames;var Pa=(Ho=Ht.path)===null||Ho===void 0?void 0:Ho.splice(((sa=Ht.path)===null||sa===void 0?void 0:sa.length)-1,1);Ht.form.query("".concat(Pa.concat("*."+Pr.name))).forEach(function(ja){ja.componentProps.fieldNames=zr}),yn.emit("patch",{schema:ua}),yn.refresh()}}}},zt={name:"allowMultiple",type:"switch",useVisible:function(){var We=(0,N.p3)(),Ye=(0,Re.Hy)();return!We&&["hasMany","belongsToMany"].includes(Ye==null?void 0:Ye.type)},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,gt.z)(),Ht=bt.fieldSchema,dn=(0,o.useFieldSchema)(),yn=Ht||dn,Yn=(0,L.ngQ)(),bn=Yn.dn,wn=Yn.refresh;return{title:pt("Allow multiple"),checked:((We=yn["x-component-props"])===null||We===void 0?void 0:We.multiple)===void 0?!0:yn["x-component-props"].multiple,onChange:function(yr){var Er=r()({},"x-uid",yn["x-uid"]);yn["x-component-props"]=yn["x-component-props"]||{},Pt.componentProps=Pt.componentProps||{},yn["x-component-props"].multiple=yr,Pt.componentProps.multiple=yr,Er["x-component-props"]=yn["x-component-props"],bn.emit("patch",{schema:Er}),wn()}}}},In={name:"quickCreate",type:"select",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.insertAdjacent;return{title:pt("Quick create"),options:[{label:pt("None"),value:"none"},{label:pt("Dropdown"),value:"quickAdd"},{label:pt("Pop-up"),value:"modalAdd"}],value:((We=Pt.componentProps)===null||We===void 0?void 0:We.addMode)||"none",onChange:function(bn){if(bn==="modalAdd"){var wn=bt.reduceProperties(function(Er,Pr){return Pr["x-component"]==="Action"?Pr:Er},null);if(!wn){var cr={"x-action":"create","x-acl-action":"create",title:"{{t('Add new')}}","x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:addNew","x-component":"Action","x-decorator":"ACLActionProvider","x-component-props":{openMode:"drawer",type:"default",component:"CreateRecordAction"}};yn("afterBegin",cr)}}var yr=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].addMode=bn,yr["x-component-props"]=bt["x-component-props"],Pt.componentProps=Pt.componentProps||{},Pt.componentProps.addMode=bn,dn.emit("patch",{schema:yr}),dn.refresh()}}}},Tn={name:"setDefaultSortingRules",Component:a.w},en=function(){var We,Ye=(0,he.useCollectionManager_deprecated)(),pt=Ye.getCollectionJoinField,Pt=Ye.getAllCollectionsInheritChain,bt=(0,he.useCollection_deprecated)(),Ht=bt.getField,dn=(0,ct.bz)(),yn=dn.form,Yn=(0,Yt.a)(),bn=(0,o.useField)(),wn=(0,gt.z)(),cr=wn.fieldSchema,yr=wn.collectionField,Er=(0,o.useFieldSchema)(),Pr=cr||Er,$r=yr||Ht(Pr.name)||pt(Pr["x-collection-field"]),Vr=(0,te.OQ)(),zr=(0,te.Kp)(),lo=(0,L.ngQ)(),Mo=lo.dn;return{collectionName:$r==null?void 0:$r.target,defaultFilter:(Pr==null||(We=Pr["x-component-props"])===null||We===void 0||(We=We.service)===null||We===void 0||(We=We.params)===null||We===void 0?void 0:We.filter)||{},form:yn,dynamicComponent:function(wo){return(0,E.jsx)(_o.qj,l()(l()({},wo),{},{form:yn,collectionField:wo.collectionField,record:Yn,shouldChange:(0,_o.Vc)({collectionField:wo.collectionField,variables:Vr,localVariables:zr,getAllCollectionsInheritChain:Pt})}))},onSubmit:function(wo){var Ho,sa=wo.filter;sa=(0,L.WmO)(sa),nn().set(Pr["x-component-props"],"service.params.filter",sa),nn().set(bn.componentProps,"service.params.filter",sa),Mo.emit("patch",{schema:(Ho={},r()(Ho,"x-uid",Pr["x-uid"]),r()(Ho,"x-component-props",Pr["x-component-props"]),Ho)})}}},qn={name:"setTheDataScope",Component:t.H,useComponentProps:en},er={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,gt.z)(),bt=Pt.fieldSchema,Ht=Pt.collectionField,dn=(0,o.useFieldSchema)(),yn=bt||dn,Yn=(0,L.fde)({fieldSchema:bt,collectionField:Ht}),bn=(0,L.l1O)(),wn=(0,rn.W)(),cr=(0,L.ngQ)(),yr=cr.dn;return{title:Ye("Field component"),options:Yn,value:wn,onChange:function(Pr){var $r=r()({},"x-uid",yn["x-uid"]);if(yn["x-component-props"]=yn["x-component-props"]||{},yn["x-component-props"].mode=Pr,$r["x-component-props"]=yn["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=Pr,(0,jn.r$)(yn)&&bn){var Vr,zr;$r.default=null,yn.default=null,pt==null||(Vr=pt.setInitialValue)===null||Vr===void 0||Vr.call(pt,null),pt==null||(zr=pt.setValue)===null||zr===void 0||zr.call(pt,null)}yr.emit("patch",{schema:$r}),yr.refresh()}}}},ar=new ge.F({name:"fieldSettings:component:Select",items:[l()(l()({},er),{},{useVisible:N.w5}),l()(l()({},qn),{},{useVisible:function(){var We=(0,N.rx)(),Ye=(0,N.p3)();return We&&!Ye}}),l()(l()({},Tn),{},{useComponentProps:function(){var We=(0,gt.z)(),Ye=We.fieldSchema;return{fieldSchema:Ye}},useVisible:function(){var We=(0,N.rx)(),Ye=(0,N.p3)();return We&&!Ye}}),l()(l()({},In),{},{useVisible:function(){var We=(0,N.w5)(),Ye=(0,N.p3)(),pt=(0,gt.z)(),Pt=pt.fieldSchema;return We&&!Pt&&!Ye}}),l()(l()({},zt),{},{useVisible:function(){var We=(0,N.w5)(),Ye=(0,wt.K)();return We&&Ye()}}),l()(l()({},It),{},{useVisible:N.w5}),l()(l()({},Vt),{},{useVisible:function(){var We=(0,N.p3)();return(0,N.w5)()&&We}})]}),nr={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,o.useFieldSchema)(),bt=(0,L.fde)(),Ht=(0,L.l1O)(),dn=(0,rn.W)(),yn=(0,L.ngQ)(),Yn=yn.dn;return{title:Ye("Field component"),options:bt,value:dn,onChange:function(wn){var cr=r()({},"x-uid",Pt["x-uid"]);Pt["x-component-props"]=Pt["x-component-props"]||{},Pt["x-component-props"].mode=wn,cr["x-component-props"]=Pt["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=wn,(0,jn.r$)(Pt)&&Ht&&(cr.default=null,Pt.default=null,pt.setInitialValue(null),pt.setValue(null)),Yn.emit("patch",{schema:cr}),Yn.refresh()}}}},rr={name:"titleField",type:"select",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=(0,N.eT)(),Yn=(0,Re.Hy)();return{title:pt("Title field"),options:yn,value:Pt==null||(We=Pt.componentProps)===null||We===void 0||(We=We.fieldNames)===null||We===void 0?void 0:We.label,onChange:function(wn){var cr,yr=r()({},"x-uid",bt["x-uid"]),Er=l()(l()(l()({},Yn==null||(cr=Yn.uiSchema)===null||cr===void 0||(cr=cr["x-component-props"])===null||cr===void 0?void 0:cr.fieldNames),Pt.componentProps.fieldNames),{},{label:wn});bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].fieldNames=Er,yr["x-component-props"]=bt["x-component-props"],Pt.componentProps.fieldNames=bt["x-component-props"].fieldNames,dn.emit("patch",{schema:yr}),dn.refresh()}}}},hr={name:"setDefaultSortingRules",Component:a.w},Ar={name:"setTheDataScope",Component:t.H,useComponentProps:en},_r=new ge.F({name:"fieldSettings:component:CascadeSelect",items:[nr,rr,l()(l()({},Ar),{},{useVisible:function(){var We=(0,N.p3)();return!We}}),l()(l()({},hr),{},{useVisible:function(){var We=(0,N.p3)();return!We}})]}),Ir,Sr,Mr=[{value:"now",label:"{{ t('Now') }}"},{value:"yesterday",label:"{{ t('Yesterday') }}"},{value:"today",label:"{{ t('Today') }}"},{value:"tomorrow",label:"{{ t('Tomorrow') }}"},{value:"lastIsoWeek",label:"{{ t('Last week') }}"},{value:"thisIsoWeek",label:"{{ t('This week') }}"},{value:"nextIsoWeek",label:"{{ t('Next week') }}"},{value:"lastMonth",label:"{{ t('Last month') }}"},{value:"thisMonth",label:"{{ t('This month') }}"},{value:"nextMonth",label:"{{ t('Next month') }}"},{value:"lastQuarter",label:"{{ t('Last quarter') }}"},{value:"thisQuarter",label:"{{ t('This quarter') }}"},{value:"nextQuarter",label:"{{ t('Next quarter') }}"},{value:"lastYear",label:"{{ t('Last year') }}"},{value:"thisYear",label:"{{ t('This year') }}"},{value:"nextYear",label:"{{ t('Next year') }}"},{value:"last7Days",label:"{{ t('Last 7 days') }}"},{value:"next7Days",label:"{{ t('Next 7 days') }}"},{value:"last30Days",label:"{{ t('Last 30 days') }}"},{value:"next30Days",label:"{{ t('Next 30 days') }}"},{value:"last90Days",label:"{{ t('Last 90 days') }}"},{value:"next90Days",label:"{{ t('Next 90 days') }}"}],Br=[{label:"{{ t('is not') }}",value:"$dateNotOn"},{label:"{{ t('is before') }}",value:"$dateBefore"},{label:"{{ t('is after') }}",value:"$dateAfter"},{label:"{{ t('is on or after') }}",value:"$dateNotBefore"},{label:"{{ t('is on or before') }}",value:"$dateNotAfter"},{label:"{{ t('is between') }}",value:"$dateBetween"}],Mn=function(We){var Ye,pt,Pt,bt,Ht=We.fieldSchema,dn=(0,o.useField)(),yn=(0,P.useDesignable)(),Yn=yn.dn,bn=(0,y.$)(),wn=bn.t,cr=(0,P.useCollectionManager_deprecated)(),yr=cr.getCollectionJoinField,Er=yr(Ht==null?void 0:Ht["x-collection-field"])||{},Pr=(Ht==null||(Ye=Ht["x-component-props"])===null||Ye===void 0?void 0:Ye.operator)||(Er==null||(pt=Er.uiSchema)===null||pt===void 0||(pt=pt["x-component-props"])===null||pt===void 0?void 0:pt.operator),$r=(Ht==null||(Pt=Ht["x-component-props"])===null||Pt===void 0?void 0:Pt.range)||(Er==null||(bt=Er.uiSchema)===null||bt===void 0||(bt=bt["x-component-props"])===null||bt===void 0?void 0:bt.range);return(0,E.jsx)(u.j0,{title:wn("Date optional range"),schema:{type:"object",properties:{operator:{type:"string","x-component":"Select","x-component-props":{placeholder:"{{ t('Comparision') }}",className:(0,Z.css)(Ir||(Ir=$()([`
                  min-width: 140px;
                  margin: 20px 0;
                `])))},enum:Br,default:Pr},range:{type:"string","x-component":"Select","x-component-props":{className:(0,Z.css)(Sr||(Sr=$()([`
                  min-width: 140px;
                  margin-left: 10px;
                `])))},enum:Mr,default:$r}}},onSubmit:function(zr){var lo=r()({},"x-uid",Ht["x-uid"]);lo["x-component-props"]=Ht["x-component-props"]||{},Ht["x-component-props"]=l()(l()({},Ht["x-component-props"]||{}),zr),lo["x-component-props"]=Ht["x-component-props"],dn.componentProps=Ht["x-component-props"];var Mo=dn.path.entire.split(".");Mo.pop();var To=Mo.join(".");dn.query("".concat(To,".*[0:].").concat(Ht.name)).forEach(function(wo){wo.props.name===Ht.name&&wo.setComponentProps(l()({},zr))}),Yn.emit("patch",{schema:lo}),Yn.refresh()}})},Wt=new ge.F({name:"fieldSettings:component:DatePicker",items:[{name:"dateDisplayFormat",Component:i.y,useComponentProps:function(){var We=(0,o.useFieldSchema)(),Ye=(0,gt.z)(),pt=Ye.fieldSchema,Pt=pt||We;return{fieldSchema:Pt}}},{name:"dateSelectScope",Component:Mn,useComponentProps:function(){var We=(0,o.useFieldSchema)(),Ye=(0,gt.z)(),pt=Ye.fieldSchema,Pt=pt||We;return{fieldSchema:Pt}}}]}),Ft={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,L.l1O)(),bt=(0,rn.W)(),Ht=(0,gt.z)(),dn=Ht.fieldSchema,yn=Ht.collectionField,Yn=(0,o.useFieldSchema)(),bn=dn||Yn,wn=(0,L.fde)({fieldSchema:dn,collectionField:yn}),cr=(0,L.ngQ)(),yr=cr.dn;return{title:Ye("Field component"),options:wn,value:bt,onChange:function(Pr){var $r=r()({},"x-uid",bn["x-uid"]);bn["x-component-props"]=bn["x-component-props"]||{},bn["x-component-props"].mode=Pr,$r["x-component-props"]=bn["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=Pr,(0,jn.r$)(bn)&&Pt&&($r.default=null,bn.default=null,pt.setInitialValue(null),pt.setValue(null)),yr.emit("patch",{schema:$r}),yr.refresh()}}}},an=new ge.F({name:"fieldSettings:component:FileManager",items:[Ft,{name:"quickUpload",type:"switch",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,gt.z)(),Ht=bt.fieldSchema,dn=(0,o.useFieldSchema)(),yn=Ht||dn,Yn=(0,L.ngQ)(),bn=Yn.dn,wn=Yn.refresh;return{title:pt("Quick upload"),checked:((We=yn["x-component-props"])===null||We===void 0?void 0:We.quickUpload)!==!1,onChange:function(yr){var Er=r()({},"x-uid",yn["x-uid"]);Pt.componentProps.quickUpload=yr,yn["x-component-props"]=yn["x-component-props"]||{},yn["x-component-props"].quickUpload=yr,Er["x-component-props"]=yn["x-component-props"],bn.emit("patch",{schema:Er}),wn()}}},useVisible:function(){var We=(0,gt.z)(),Ye=We.fieldSchema,pt=(0,o.useField)(),Pt=(0,o.useForm)(),bt=(Ye==null?void 0:Ye["x-read-pretty"])||pt.readPretty||Pt.readPretty;return!bt}},{name:"selectFile",type:"switch",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,gt.z)(),Ht=bt.fieldSchema,dn=(0,o.useFieldSchema)(),yn=Ht||dn,Yn=(0,L.ngQ)(),bn=Yn.dn,wn=Yn.refresh;return{title:pt("Select file"),checked:((We=yn["x-component-props"])===null||We===void 0?void 0:We.selectFile)!==!1,onChange:function(yr){var Er=r()({},"x-uid",yn["x-uid"]);Pt.componentProps.selectFile=yr,yn["x-component-props"]=yn["x-component-props"]||{},yn["x-component-props"].selectFile=yr,Er["x-component-props"]=yn["x-component-props"],bn.emit("patch",{schema:Er}),wn()}}},useVisible:function(){var We=(0,gt.z)(),Ye=We.fieldSchema,pt=(0,o.useField)(),Pt=(0,o.useForm)(),bt=(Ye==null?void 0:Ye["x-read-pretty"])||pt.readPretty||Pt.readPretty;return!bt}},{name:"size",type:"select",useVisible:function(){var We=(0,N.p3)(),Ye=(0,gt.z)(),pt=Ye.fieldSchema;return We&&!pt},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn;return{title:pt("Size"),options:[{label:pt("Large"),value:"large"},{label:pt("Default"),value:"default"},{label:pt("Small"),value:"small"}],value:(Pt==null||(We=Pt.componentProps)===null||We===void 0?void 0:We.size)||"default",onChange:function(Yn){var bn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].size=Yn,bn["x-component-props"]=bt["x-component-props"],Pt.componentProps=Pt.componentProps||{},Pt.componentProps.size=Yn,dn.emit("patch",{schema:bn}),dn.refresh()}}}},l()(l()({},zt),{},{useVisible:function(){var We=(0,N.w5)(),Ye=(0,wt.K)();return We&&Ye()}})]}),Bn=e(70027),Un=new ge.F({name:"fieldSettings:component:Preview",items:[{name:"size",type:"select",useVisible:function(){var We,Ye=(0,Bn.z)(),pt=Ye.fieldSchema,Pt=(pt==null||(We=pt.parent)===null||We===void 0?void 0:We["x-component"])==="TableV2.Column";return!Pt},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,K.ng)(),dn=Ht.dn;return{title:pt("Size"),options:[{label:pt("Large"),value:"large"},{label:pt("Default"),value:"default"},{label:pt("Small"),value:"small"}],value:(Pt==null||(We=Pt.componentProps)===null||We===void 0?void 0:We.size)||"default",onChange:function(Yn){var bn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].size=Yn,bn["x-component-props"]=bt["x-component-props"],Pt.componentProps=Pt.componentProps||{},Pt.componentProps.size=Yn,dn.emit("patch",{schema:bn}),dn.refresh()}}}}]}),Gn=e(19632),mr=e.n(Gn),dr=e(82422),Hr=function(){var We,Ye=(0,L.z9d)(),pt=Ye.fieldSchema;return{tableColumnSchema:pt,isInTable:(pt==null||(We=pt.parent)===null||We===void 0?void 0:We["x-component"])==="TableV2.Column"}},Lr=function(){var We=Hr(),Ye=We.tableColumnSchema,pt=We.isInTable,Pt=(0,o.useFieldSchema)();return pt?Ye:Pt},Zr=new ge.F({name:"fieldSettings:component:Upload.Attachment",items:[{name:"sizeConfig",type:"cascader",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,L.ngQ)(),bt=Pt.dn,Ht=(0,N.p3)(),dn=Lr(),yn=(0,dr.t1)(dn==null?void 0:dn["x-component-props"]);return{title:Ye("Size"),value:yn,options:[{label:Ye("Fixed size"),value:dr.LA.FIXED,children:[{label:Ye("Large"),value:dr.k_.LARGE},{label:Ye("Default"),value:dr.k_.DEFAULT}].concat(mr()(!Ht&&(0,H.isInFormBlock)(dn)?[]:[{label:Ye("Small"),value:dr.k_.SMALL}]))},{label:Ye("Responsive size"),value:dr.LA.RESPONSIVE,children:[{label:"1:1",value:"1:1"},{label:"16:9",value:"16:9"},{label:"9:5",value:"9:5"}]}],onChange:function(bn){var wn=r()({},"x-uid",dn["x-uid"]);dn["x-component-props"]=dn["x-component-props"]||{},dn["x-component-props"].sizeConfig=bn,wn["x-component-props"]=dn["x-component-props"],dn["x-component-props"].size&&delete dn["x-component-props"].size,pt.componentProps=dn["x-component-props"];var cr=pt.path.entire.split(".");cr.pop();var yr=cr.join(".");pt.query("".concat(yr,".*[0:].").concat(dn.name)).forEach(function(Er){Er.props.name===dn.name&&Er.setComponentProps(l()({},dn["x-component-props"]))}),bt.emit("patch",{schema:wn}),bt.refresh()}}}},{name:"Configure upload area",type:"modal",useVisible:function(){var We=(0,o.useField)(),Ye=(0,dr.t1)(We.componentProps),pt=(0,N.p3)();return Ye[0]===dr.LA.RESPONSIVE&&!pt},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,L.ngQ)(),bt=Pt.dn,Ht=(0,o.useField)(),dn=Lr(),yn=dn==null||(We=dn["x-component-props"])===null||We===void 0?void 0:We.uploadAreaConfig;return{title:pt("Configure upload area"),schema:{type:"object",title:pt("Configure upload area"),properties:{icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:pt("Area icon"),default:yn==null?void 0:yn.icon},text:{"x-decorator":"FormItem","x-component":"Input",title:pt("Area text"),default:yn==null?void 0:yn.text},hint:{"x-decorator":"FormItem","x-component":"Input",title:pt("Area hint"),default:yn==null?void 0:yn.hint}}},onSubmit:function(bn){var wn=r()({},"x-uid",dn["x-uid"]);Ht.componentProps=Ht.componentProps||{},Ht.componentProps.uploadAreaConfig=bn,dn["x-component-props"]=dn["x-component-props"]||{},dn["x-component-props"].uploadAreaConfig=bn,wn["x-component-props"]=dn["x-component-props"],bt.emit("patch",{schema:wn}),bt.refresh()}}}},V]}),no=new ge.F({name:"fieldSettings:component:InputNumber",items:[{name:"displayFormat",Component:T,useComponentProps:function(){var We=(0,o.useFieldSchema)(),Ye=(0,gt.z)(),pt=Ye.fieldSchema,Pt=pt||We;return{fieldSchema:Pt}},useVisible:function(){var We=(0,N.p3)();return We}}]}),Jr=new ge.F({name:"fieldSettings:component:Input.URL",items:[V]}),ho={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,o.useFieldSchema)(),bt=(0,L.fde)(),Ht=(0,L.l1O)(),dn=(0,rn.W)(),yn=(0,L.ngQ)(),Yn=yn.dn;return{title:Ye("Field component"),options:bt,value:dn,onChange:function(wn){var cr=r()({},"x-uid",Pt["x-uid"]);Pt["x-component-props"]=Pt["x-component-props"]||{},Pt["x-component-props"].mode=wn,cr["x-component-props"]=Pt["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=wn,(0,jn.r$)(Pt)&&Ht&&(cr.default=null,Pt.default=null,pt.setInitialValue(null),pt.setValue(null)),Yn.emit("patch",{schema:cr}),Yn.refresh()}}}},eo={name:"allowSelectExistingRecord",type:"switch",useVisible:function(){var We=(0,L.p3Q)();return!We},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Allow selection of existing records"),checked:(We=bt["x-component-props"])===null||We===void 0?void 0:We.allowSelectExistingRecord,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);Pt.componentProps.allowSelectExistingRecord=bn,bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].allowSelectExistingRecord=bn,wn["x-component-props"]=bt["x-component-props"],dn.emit("patch",{schema:wn}),yn()}}}},ro={name:"copyDown",type:"switch",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Copy down"),checked:(We=bt["x-component-props"])===null||We===void 0?void 0:We.copyDown,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);Pt.componentProps.copyDown=bn,bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].copyDown=bn,wn["x-component-props"]=bt["x-component-props"],dn.emit("patch",{schema:wn}),yn()}}}},qr={name:"downloadData",type:"switch",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Download"),checked:(We=bt["x-component-props"])===null||We===void 0?void 0:We.download,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);Pt.componentProps.download=bn,bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].download=bn,wn["x-component-props"]=bt["x-component-props"],bt["x-action-settings"]=bt["x-action-settings"]||{},bt["x-action-settings"].downloadFields=[],wn["x-action-settings"]=bt["x-action-settings"],dn.emit("patch",{schema:wn}),yn()}}}},ao={name:"upload",type:"switch",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Upload"),checked:(We=bt["x-component-props"])===null||We===void 0?void 0:We.upload,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);Pt.componentProps.upload=bn,bt["x-component-props"]=bt["x-component-props"]||{},bt["x-component-props"].upload=bn,wn["x-component-props"]=bt["x-component-props"],bt["x-action-settings"]=bt["x-action-settings"]||{},bt["x-action-settings"].updateKeys=[],bt["x-action-settings"].updateFields=[],wn["x-action-settings"]=bt["x-action-settings"],dn.emit("patch",{schema:wn}),yn()}}}},io={name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,o.useForm)(),Ye=(0,o.useFieldSchema)(),pt=(0,he.useCollection_deprecated)(),Pt=pt.getField,bt=(0,g.useMemo)(function(){return Pt(Ye["x-collection-field"])},[Ye["x-collection-field"],Ye.name]);return{title:"Linkage rules",collectionName:bt==null?void 0:bt.target,isSubRecordMode:!0,readPretty:We.readPretty}}},Eo={name:"SetDefaultSortingRules",type:"modal",useComponentProps:function(){var We=(0,he.useCollectionManager_deprecated)(),Ye=We.getCollectionJoinField,pt=(0,o.useField)(),Pt=(0,o.useFieldSchema)(),bt=Pt["x-collection-field"],Ht=Ye(bt)||{},dn=Ht.target,yn=(0,he.useSortFields)(dn),Yn=(0,y.$)(),bn=Yn.t,wn=(0,L.ngQ)(),cr=wn.dn,yr=pt.componentProps.sortArr||[],Er=yr==null?void 0:yr.map(function(Pr){return Pr!=null&&Pr.startsWith("-")?{field:Pr.substring(1),direction:"desc"}:{field:Pr,direction:"asc"}});return{title:bn("Set default sorting rules"),components:{ArrayItems:Mt.ArrayItems},schema:{type:"object",title:bn("Set default sorting rules"),properties:{sort:{type:"array",default:Er,"x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space",properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},field:{type:"string",enum:yn,required:!0,"x-decorator":"FormItem","x-component":"Select","x-component-props":{style:{width:260}}},direction:{type:"string","x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},enum:[{label:bn("ASC"),value:"asc"},{label:bn("DESC"),value:"desc"}]},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:bn("Add sort field"),"x-component":"ArrayItems.Addition"}}}}},onSubmit:function($r){var Vr,zr=$r.sort,lo=zr.map(function(Mo){return Mo.direction==="desc"?"-".concat(Mo.field):Mo.field});pt.componentProps.sortArr=lo,Pt["x-component-props"].sortArr=lo,cr.emit("patch",{schema:(Vr={},r()(Vr,"x-uid",Pt["x-uid"]),r()(Vr,"x-component-props",Pt["x-component-props"]),Vr)})}}},useVisible:function(){var We=(0,he.useCollectionManager_deprecated)(),Ye=We.getCollectionJoinField,pt=(0,o.useFieldSchema)(),Pt=pt["x-collection-field"],bt=Ye(Pt)||{},Ht=bt.interface,dn=(0,L.p3Q)(),yn=(0,L.kJM)(),Yn=(0,L.Kup)();return(dn||yn||Yn)&&["m2m","o2m"].includes(Ht)}},cn=new ge.F({name:"fieldSettings:component:SubTable",items:[ho,eo,Eo,ro,qr,ao,io]}),Ot={name:"allowMultiple",type:"switch",useVisible:function(){var We=(0,N.p3)(),Ye=(0,Re.Hy)();return!We&&["hasMany","belongsToMany"].includes(Ye==null?void 0:Ye.type)},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Allow multiple"),checked:((We=bt["x-component-props"])===null||We===void 0?void 0:We.multiple)===void 0?!0:bt["x-component-props"].multiple,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},Pt.componentProps=Pt.componentProps||{},bt["x-component-props"].multiple=bn,Pt.componentProps.multiple=bn,wn["x-component-props"]=bt["x-component-props"],dn.emit("patch",{schema:wn}),yn()}}}},ln={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,o.useFieldSchema)(),bt=(0,L.fde)(),Ht=(0,L.l1O)(),dn=(0,rn.W)(),yn=(0,L.ngQ)(),Yn=yn.dn;return{title:Ye("Field component"),options:bt,value:dn,onChange:function(wn){var cr=r()({},"x-uid",Pt["x-uid"]);Pt["x-component-props"]=Pt["x-component-props"]||{},Pt["x-component-props"].mode=wn,cr["x-component-props"]=Pt["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=wn,(0,jn.r$)(Pt)&&Ht&&(cr.default=null,Pt.default=null,pt.setInitialValue(null),pt.setValue(null)),Yn.emit("patch",{schema:cr}),Yn.refresh()}}}},Sn={name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,o.useForm)(),Ye=(0,o.useFieldSchema)(),pt=(0,he.useCollection_deprecated)(),Pt=pt.getField,bt=(0,g.useMemo)(function(){return Pt(Ye["x-collection-field"])},[Ye["x-collection-field"],Ye.name]),Ht=["hasOne","belongsTo"].includes(bt==null?void 0:bt.type);return{title:"Linkage rules",collectionName:bt==null?void 0:bt.target,isSubRecordMode:!Ht,readPretty:We.readPretty}}},Kn=new ge.F({name:"fieldSettings:component:Nester",items:[ln,Ot,Sn,{name:"allowDissociate",type:"switch",useVisible:function(){var We=(0,ct.th)(),Ye=We.type;return!(0,N.xj)()&&Ye==="update"},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Allow dissociate"),checked:((We=bt["x-component-props"])===null||We===void 0?void 0:We.allowDissociate)!==!1,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},Pt.componentProps=Pt.componentProps||{},bt["x-component-props"].allowDissociate=bn,Pt.componentProps.allowDissociate=bn,wn["x-component-props"]=bt["x-component-props"],dn.emit("patch",{schema:wn}),yn()}}}},Eo]}),tr={name:"titleField",type:"select",useComponentProps:function(){var We,Ye,pt,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useField)(),dn=(0,gt.z)(),yn=dn.uiSchema,Yn=dn.fieldSchema,bn=dn.collectionField,wn=(0,N.eT)(),cr=(0,o.useFieldSchema)(),yr=Yn||cr,Er=(0,Re.Hy)(),Pr=bn||Er,$r=(0,L.ngQ)(),Vr=$r.dn,zr=(Ht==null||(We=Ht.componentProps)===null||We===void 0?void 0:We.fieldNames)||(yr==null||(Ye=yr["x-component-props"])===null||Ye===void 0?void 0:Ye.fieldNames)||(yn==null||(pt=yn["x-component-props"])===null||pt===void 0?void 0:pt.fieldNames);return{title:bt("Title field"),options:wn,value:zr==null?void 0:zr.label,onChange:function(Mo){var To,wo=r()({},"x-uid",yr["x-uid"]),Ho=l()(l()(l()({},Pr==null||(To=Pr.uiSchema)===null||To===void 0||(To=To["x-component-props"])===null||To===void 0?void 0:To.fieldNames),Ht.componentProps.fieldNames),{},{label:Mo});yr["x-component-props"]=yr["x-component-props"]||{},yr["x-component-props"].fieldNames=Ho,wo["x-component-props"]=yr["x-component-props"],Ht.componentProps.fieldNames=yr["x-component-props"].fieldNames,Vr.emit("patch",{schema:wo}),Vr.refresh()}}}},fr={name:"allowMultiple",type:"switch",useVisible:function(){var We=(0,N.p3)(),Ye=(0,Re.Hy)();return!We&&["hasMany","belongsToMany"].includes(Ye==null?void 0:Ye.type)},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Allow multiple"),checked:((We=bt["x-component-props"])===null||We===void 0?void 0:We.multiple)===void 0?!0:bt["x-component-props"].multiple,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},Pt.componentProps=Pt.componentProps||{},bt["x-component-props"].multiple=bn,Pt.componentProps.multiple=bn,wn["x-component-props"]=bt["x-component-props"],dn.emit("patch",{schema:wn}),yn()}}}},ir={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,L.l1O)(),bt=(0,rn.W)(),Ht=(0,gt.z)(),dn=Ht.fieldSchema,yn=Ht.collectionField,Yn=(0,o.useFieldSchema)(),bn=dn||Yn,wn=(0,L.fde)({fieldSchema:dn,collectionField:yn}),cr=(0,L.ngQ)(),yr=cr.dn;return{title:Ye("Field component"),options:wn,value:bt,onChange:function(Pr){var $r=r()({},"x-uid",bn["x-uid"]);if(bn["x-component-props"]=bn["x-component-props"]||{},bn["x-component-props"].mode=Pr,$r["x-component-props"]=bn["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=Pr,(0,jn.r$)(bn)&&Pt){var Vr,zr;$r.default=null,bn.default=null,pt==null||(Vr=pt.setInitialValue)===null||Vr===void 0||Vr.call(pt,null),pt==null||(zr=pt.setValue)===null||zr===void 0||zr.call(pt,null)}yr.emit("patch",{schema:$r}),yr.refresh()}}}},Rr=new ge.F({name:"fieldSettings:component:Picker",items:[ir,{name:"popupSize",type:"select",useVisible:function(){var We=(0,N.p3)();return!We},useComponentProps:function(){var We,Ye,pt,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useField)(),dn=(0,gt.z)(),yn=dn.fieldSchema,Yn=(0,o.useFieldSchema)(),bn=yn||Yn,wn=(0,L.ngQ)(),cr=wn.dn;return{title:bt("Popup size"),options:[{label:bt("Small"),value:"small"},{label:bt("Middle"),value:"middle"},{label:bt("Large"),value:"large"}],value:(We=bn==null||(Ye=bn["x-component-props"])===null||Ye===void 0?void 0:Ye.openSize)!==null&&We!==void 0?We:(bn==null||(pt=bn["x-component-props"])===null||pt===void 0?void 0:pt.openMode)=="modal"?"large":"middle",onChange:function(Er){Ht.componentProps.openSize=Er,bn["x-component-props"]=l()(l()({},bn["x-component-props"]),{},{openSize:Er}),cr.emit("patch",{schema:{"x-uid":bn["x-uid"],"x-component-props":bn["x-component-props"]}}),cr.refresh()}}}},N.iT,fr,tr]}),Tr={name:"allowMultiple",type:"switch",useVisible:function(){var We=(0,N.p3)(),Ye=(0,Re.Hy)();return!We&&["hasMany","belongsToMany"].includes(Ye==null?void 0:Ye.type)},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn,yn=Ht.refresh;return{title:pt("Allow multiple"),checked:((We=bt["x-component-props"])===null||We===void 0?void 0:We.multiple)===void 0?!0:bt["x-component-props"].multiple,onChange:function(bn){var wn=r()({},"x-uid",bt["x-uid"]);bt["x-component-props"]=bt["x-component-props"]||{},Pt.componentProps=Pt.componentProps||{},bt["x-component-props"].multiple=bn,Pt.componentProps.multiple=bn,wn["x-component-props"]=bt["x-component-props"],dn.emit("patch",{schema:wn}),yn()}}}},Xr={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,gt.z)(),bt=Pt.fieldSchema,Ht=Pt.collectionField,dn=(0,o.useFieldSchema)(),yn=bt||dn,Yn=(0,L.fde)({fieldSchema:bt,collectionField:Ht}),bn=(0,L.ngQ)(),wn=bn.dn,cr=(0,L.l1O)(),yr=(0,rn.W)();return{title:Ye("Field component"),options:Yn,value:yr,onChange:function(Pr){var $r=r()({},"x-uid",yn["x-uid"]);yn["x-component-props"]=yn["x-component-props"]||{},yn["x-component-props"].mode=Pr,$r["x-component-props"]=yn["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=Pr,(0,jn.r$)(yn)&&cr&&($r.default=null,yn.default=null,pt.setInitialValue(null),pt.setValue(null)),wn.emit("patch",{schema:$r}),wn.refresh()}}}},Gr={name:"linkageRules",Component:u.lc,useComponentProps:function(){var We=(0,o.useForm)(),Ye=(0,o.useFieldSchema)(),pt=(0,he.useCollection_deprecated)(),Pt=pt.getField,bt=(0,g.useMemo)(function(){return Pt(Ye["x-collection-field"])},[Ye["x-collection-field"],Ye.name]),Ht=["hasOne","belongsTo"].includes(bt==null?void 0:bt.type);return{title:"Linkage rules",collectionName:bt==null?void 0:bt.target,isSubRecordMode:!Ht,readPretty:We.readPretty}}},po=new ge.F({name:"fieldSettings:component:PopoverNester",items:[Xr,Tr,Gr,tr]}),So=e(30970),Co={name:"enableLink",type:"switch",useVisible:function(){var We=(0,o.useField)();return We.readPretty},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,o.useFieldSchema)(),Ht=(0,L.ngQ)(),dn=Ht.dn;return{title:pt("Enable link"),checked:((We=bt["x-component-props"])===null||We===void 0?void 0:We.enableLink)!==!1,onChange:function(Yn){bt["x-component-props"]=l()(l()({},bt==null?void 0:bt["x-component-props"]),{},{enableLink:Yn}),Pt.componentProps.enableLink=Yn,dn.emit("patch",{schema:{"x-uid":bt["x-uid"],"x-component-props":l()({},bt==null?void 0:bt["x-component-props"])}}),dn.refresh()}}}},bo={name:"titleField",type:"select",useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,gt.z)(),Ht=bt.fieldSchema,dn=bt.collectionField,yn=(0,o.useFieldSchema)(),Yn=Ht||yn,bn=(0,N.eT)(),wn=(0,Re.Hy)(),cr=dn||wn,yr=(0,L.ngQ)(),Er=yr.dn;return{title:pt("Title field"),options:bn,value:Yn==null||(We=Yn["x-component-props"])===null||We===void 0||(We=We.fieldNames)===null||We===void 0?void 0:We.label,onChange:function($r){var Vr,zr=r()({},"x-uid",Yn["x-uid"]),lo=l()(l()(l()({},cr==null||(Vr=cr.uiSchema)===null||Vr===void 0||(Vr=Vr["x-component-props"])===null||Vr===void 0?void 0:Vr.fieldNames),Pt.componentProps.fieldNames),{},{label:$r});Yn["x-component-props"]=Yn["x-component-props"]||{},Yn["x-component-props"].fieldNames=lo,zr["x-component-props"]=Yn["x-component-props"],Pt.componentProps.fieldNames=Yn["x-component-props"].fieldNames,Er.emit("patch",{schema:zr}),Er.refresh()}}}},ko={name:"fieldComponent",type:"select",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t,pt=(0,o.useField)(),Pt=(0,L.l1O)(),bt=(0,gt.z)(),Ht=bt.fieldSchema,dn=bt.collectionField,yn=(0,L.fde)({fieldSchema:Ht,collectionField:dn}),Yn=(0,o.useFieldSchema)(),bn=Ht||Yn,wn=(0,rn.W)(),cr=(0,L.ngQ)(),yr=cr.dn;return{title:Ye("Field component"),options:yn,value:wn,onChange:function(Pr){var $r=r()({},"x-uid",bn["x-uid"]);bn["x-component-props"]=bn["x-component-props"]||{},bn["x-component-props"].mode=Pr,$r["x-component-props"]=bn["x-component-props"],pt.componentProps=pt.componentProps||{},pt.componentProps.mode=Pr,(0,jn.r$)(bn)&&Pt&&($r.default=null,bn.default=null,pt.setInitialValue(null),pt.setValue(null)),yr.emit("patch",{schema:$r}),yr.refresh()}}}},Oo=new ge.F({name:"fieldSettings:component:Tag",items:[ko,{name:"tagColorField",type:"select",useComponentProps:function(){var We,Ye,pt=(0,y.$)(),Pt=pt.t,bt=(0,o.useField)(),Ht=(0,o.useFieldSchema)(),dn=(0,Re.Hy)(),yn=(0,gt.z)(),Yn=yn.fieldSchema,bn=yn.collectionField,wn=Yn||Ht,cr=bn||dn,yr=(0,L.ngQ)(),Er=yr.dn,Pr=(0,So.A8)((We=cr==null?void 0:cr.target)!==null&&We!==void 0?We:cr==null?void 0:cr.targetCollection);return{title:Pt("Tag color field"),options:Pr,value:wn==null||(Ye=wn["x-component-props"])===null||Ye===void 0?void 0:Ye.tagColorField,onChange:function(Vr){var zr=r()({},"x-uid",wn["x-uid"]);wn["x-component-props"]=wn["x-component-props"]||{},wn["x-component-props"].tagColorField=Vr,zr["x-component-props"]=wn["x-component-props"],bt.componentProps.tagColorField=Vr,Er.emit("patch",{schema:zr}),Er.refresh()}}}},bo,Co]}),ta=new ge.F({name:"fieldSettings:component:UnixTimestamp",items:[{name:"dateDisplayFormat",Component:i.y,useComponentProps:function(){var We=(0,o.useFieldSchema)(),Ye=(0,gt.z)(),pt=Ye.fieldSchema,Pt=pt||We;return{fieldSchema:Pt}}}]}),Nr=new ge.F({name:"fieldSettings:Drawer",items:[{name:"displayPageTitle",type:"switch",useComponentProps:function(){var We,Ye=(0,_e.ng)(),pt=Ye.dn,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useFieldSchema)();return{title:bt("Display title"),checked:!((We=Ht["x-component-props"])!==null&&We!==void 0&&We.hidePageTitle),onChange:function(yn){var Yn;Ht["x-component-props"]=Ht["x-component-props"]||{},Ht["x-component-props"].hidePageTitle=!yn,pt.emit("patch",{schema:(Yn={},r()(Yn,"x-uid",Ht["x-uid"]),r()(Yn,"x-component-props",Ht["x-component-props"]),Yn)}),pt.refresh()}}}},{name:"editPageTitle",type:"modal",useComponentProps:function(){var We=(0,_e.ng)(),Ye=We.dn,pt=(0,y.$)(),Pt=pt.t,bt=(0,o.useField)(),Ht=(0,o.useFieldSchema)(),dn=(0,xe.Po)(),yn=dn.title;return{title:Pt("Edit title"),schema:{type:"object",title:Pt("Edit title"),properties:{title:{title:Pt("Title"),required:!0,"x-decorator":"FormItem","x-component":"Input","x-component-props":{}}}},initialValues:{title:yn},onSubmit:function(bn){var wn,cr=bn.title;bt.title=cr,Ht.title=cr,Ye.emit("patch",{schema:(wn={},r()(wn,"x-uid",Ht["x-uid"]),r()(wn,"title",cr),wn)})}}}},{name:"enablePageTabs",type:"switch",useComponentProps:function(){var We,Ye=(0,_e.ng)(),pt=Ye.dn,Pt=(0,y.$)(),bt=Pt.t,Ht=(0,o.useFieldSchema)();return{title:bt("Enable tabs"),checked:(We=Ht["x-component-props"])===null||We===void 0?void 0:We.enablePageTabs,onChange:function(yn){var Yn,bn,wn;Ht["x-component-props"]=Ht["x-component-props"]||{},Ht["x-component-props"].enablePageTabs=yn;var cr=(Yn=Ht.properties)===null||Yn===void 0?void 0:Yn.tabs,yr=(bn=Ht.properties)===null||bn===void 0?void 0:bn.grid;cr&&(cr["x-display"]=yn?"visible":"hidden",yr&&(yr["x-display"]=yn?"hidden":"visible"),Ht.addProperty("tabs",cr)),pt.emit("patch",{schema:(wn={},r()(wn,"x-uid",Ht["x-uid"]),r()(wn,"x-component-props",Ht["x-component-props"]),r()(wn,"properties",Ht.properties),wn)}),pt.refresh()}}}}]}),Ko=e(29245),co=new ge.F({name:"markdownButtonSettings",items:[{name:"edit",Component:Pe.C1},{name:"editLink",Component:Ko.s},{name:"d1",type:"divider"},{type:"remove",name:"remove"}]}),Io=new ge.F({name:"subFormBatchAddSettings",items:[{name:"decoratorOptions",type:"itemGroup",useComponentProps:function(){var We=(0,y.$)(),Ye=We.t;return{title:Ye("Generic properties")}},useChildren:function(){return[{name:"addAllBy",type:"select",useComponentProps:function(){var Ye,pt,Pt=(0,o.useFieldSchema)(),bt=(0,y.$)(),Ht=bt.t,dn=(0,L.ngQ)(),yn=dn.dn,Yn=(0,Re.Kx)(),bn=(Yn==null||(Ye=Yn.fields)===null||Ye===void 0?void 0:Ye.filter(function(Pr){return["m2o"].includes(Pr.interface)}))||[],wn=(0,L.eJW)(),cr=bn.map(function(Pr){var $r;return{value:Pr==null?void 0:Pr.name,label:wn(Pr==null||($r=Pr.uiSchema)===null||$r===void 0?void 0:$r.title)||(Pr==null?void 0:Pr.name)}}),yr=Pt["x-decorator-props"].fieldSchema,Er=function($r){var Vr=r()({},"x-uid",yr["x-uid"]);Vr["x-component-props"]=yr["x-component-props"]||{},Vr["x-component-props"].batchAddFieldName=$r,yn.emit("patch",{schema:Vr}),yn.refresh()};return{key:"add-all-by",title:Ht("Add all by"),options:[{label:"None",value:""}].concat(mr()(cr)),value:(pt=yr["x-component-props"])===null||pt===void 0?void 0:pt.batchAddFieldName,onChange:Er}}}]}}]}),oo=new ge.F({name:"fieldSettings:component:DefinedRate",items:[{name:"RateStyle",type:"modal",useVisible:function(){var We=(0,o.useFieldSchema)();return(We==null?void 0:We["x-settings"])==="fieldSettings:FormItem"||(We==null?void 0:We["x-settings"])==="fieldSettings:TableColumn"},useComponentProps:function(){var We,Ye,pt=(0,y.$)(),Pt=pt.t,bt=(0,L.ngQ)(),Ht=bt.dn,dn=(0,P.useColumnSchema)(),yn=dn.fieldSchema,Yn=(0,o.useFieldSchema)(),bn=yn||Yn,wn=(We=bn==null||(Ye=bn["x-component-props"])===null||Ye===void 0?void 0:Ye.rateIcon)!==null&&We!==void 0?We:"starfilled";return{title:Pt("Rate style"),schema:{type:"object",title:Pt("Rate style"),properties:{icon:{title:Pt("Rating icon"),"x-decorator":"FormItem","x-component":"IconPicker",default:wn,"x-component-props":{rate:!0}}}},onSubmit:function(yr){var Er=yr.icon;Er&&(bn["x-component-props"]=l()(l()({},bn==null?void 0:bn["x-component-props"]),{},{rateIcon:Er}),Ht.emit("patch",{schema:{"x-uid":bn["x-uid"],"x-component-props":l()({},bn==null?void 0:bn["x-component-props"])}})),Ht.refresh()}}}},{name:"allowHalfSelection",type:"switch",useVisible:function(){var We=(0,o.useField)(),Ye=(0,P.useCollectionField)(),pt=(0,o.useFieldSchema)();if(!((pt==null?void 0:pt["x-settings"])==="fieldSettings:FormItem"||(pt==null?void 0:pt["x-settings"])==="fieldSettings:TableColumn")&&(Ye==null?void 0:Ye.interface)!=="RateField")return!1;if((pt==null?void 0:pt["x-component"])==="TableV2.Column"){var Pt,bt,Ht=pt==null||(Pt=pt.parent)===null||Pt===void 0||(Pt=Pt["x-component"])===null||Pt===void 0||(bt=Pt.includes)===null||bt===void 0?void 0:bt.call(Pt,"SubTable");return Ht?We==null?void 0:We.editable:!1}return We==null?void 0:We.editable},useComponentProps:function(){var We,Ye=(0,y.$)(),pt=Ye.t,Pt=(0,o.useField)(),bt=(0,P.useColumnSchema)(),Ht=bt.fieldSchema,dn=(0,o.useFieldSchema)(),yn=Ht||dn,Yn=(0,L.ngQ)(),bn=Yn.dn;return{title:pt("Allow half-selection"),checked:((We=yn["x-component-props"])===null||We===void 0?void 0:We.allowHalfSelection)===!0,onChange:function(cr){yn["x-component-props"]=l()(l()({},yn==null?void 0:yn["x-component-props"]),{},{allowHalfSelection:cr}),Pt.componentProps.allowHalfSelection=cr,bn.emit("patch",{schema:{"x-uid":yn["x-uid"],"x-component-props":l()({},yn==null?void 0:yn["x-component-props"])}}),bn.refresh()}}}}]}),Yo=function(_n){re()(Ye,_n);var We=ce()(Ye);function Ye(){return ue()(this,Ye),We.apply(this,arguments)}return ae()(Ye,[{key:"load",value:function(){var pt=Y()(C()().mark(function bt(){return C()().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:this.schemaSettingsManager.add(mn.O),this.schemaSettingsManager.add(at.K),this.schemaSettingsManager.add(ht.r),this.schemaSettingsManager.add(Rn),this.schemaSettingsManager.add(An),this.schemaSettingsManager.add(rt),this.schemaSettingsManager.add(yt),this.schemaSettingsManager.add(Ct),this.schemaSettingsManager.add(mt),this.schemaSettingsManager.add(Gt.v),this.schemaSettingsManager.add(Dn),this.schemaSettingsManager.add(hn),this.schemaSettingsManager.add(Pn),this.schemaSettingsManager.add(gn),this.schemaSettingsManager.add(En),this.schemaSettingsManager.add(Le),this.schemaSettingsManager.add(q),this.schemaSettingsManager.add(Ze),this.schemaSettingsManager.add(pe),this.schemaSettingsManager.add(Kt),this.schemaSettingsManager.add(Nt),this.schemaSettingsManager.add(we),this.schemaSettingsManager.add(Ue),this.schemaSettingsManager.add(Te),this.schemaSettingsManager.add(Me),this.schemaSettingsManager.add(_t),this.schemaSettingsManager.add(vt),this.schemaSettingsManager.add(Qe),this.schemaSettingsManager.add(ke),this.schemaSettingsManager.add(ft),this.schemaSettingsManager.add(Oe),this.schemaSettingsManager.add(Be),this.schemaSettingsManager.add(De),this.schemaSettingsManager.add(Bt),this.schemaSettingsManager.add(Tt),this.schemaSettingsManager.add(ot.d),this.schemaSettingsManager.add(qt.F),this.schemaSettingsManager.add(sn),this.schemaSettingsManager.add(Nr),this.schemaSettingsManager.add(ar),this.schemaSettingsManager.add(Rr),this.schemaSettingsManager.add(Kn),this.schemaSettingsManager.add(po),this.schemaSettingsManager.add(cn),this.schemaSettingsManager.add(Wt),this.schemaSettingsManager.add(ta),this.schemaSettingsManager.add(no),this.schemaSettingsManager.add(Jr),this.schemaSettingsManager.add(an),this.schemaSettingsManager.add(Oo),this.schemaSettingsManager.add(_r),this.schemaSettingsManager.add(Zr),this.schemaSettingsManager.add(Un),this.schemaSettingsManager.add(co),this.schemaSettingsManager.add(Io),this.schemaSettingsManager.add(oo);case 56:case"end":return dn.stop()}},bt,this)}));function Pt(){return pt.apply(this,arguments)}return Pt}()}]),Ye}(be.S),_o=e(82041),Uo=e(68654)},88773:function(se,j,e){"use strict";e.d(j,{V:function(){return v}});var v=function(x){var u;return(x==null||(u=x["x-component-props"])===null||u===void 0?void 0:u["pattern-disable"])==!0}},85438:function(se,j,e){"use strict";e.d(j,{r:function(){return f},u:function(){return n}});var v=e(97857),m=e.n(v),x=e(94350),u=e(67294),p=e(21143),d=e(8447),h=e(31019),t=e(4393),c=e(48054),i=e(85893),a=(0,u.createContext)({});a.displayName="BlockTemplateContext";var f=function(){return(0,u.useContext)(a)},l=function(){return(0,i.jsx)(t.Z,{style:{borderRadius:0,marginBottom:24,boxShadow:"none"},bordered:!1,children:(0,i.jsx)(c.Z,{paragraph:{rows:3},active:!0})})},n=(0,x.observer)(function(r){var o=r.templateId,g=r.keepOriginSchemaSort,y=(0,d.$t)(),D=y.getTemplateById,P=(0,x.useField)(),E=(0,x.useFieldSchema)(),O=(0,p.useDesignable)(),T=O.dn,S=(0,u.useMemo)(function(){return D(o)},[o]),$=(0,h.u)(),Z=$.onTemplateSuccess,K=(0,p.useFormActiveFields)()||{},z=function(A){var M,b,R;E["x-linkage-rules"]=(A==null||(M=A.data)===null||M===void 0?void 0:M["x-linkage-rules"])||[],E["x-set-power"]=(A==null||(b=A.data)===null||b===void 0?void 0:b["x-set-power"])||{},E.setProperties(A==null||(R=A.data)===null||R===void 0?void 0:R.properties),Z==null||Z()};return S?(0,i.jsx)(p.FormActiveFieldsProvider,m()(m()({},K),{},{children:(0,i.jsx)(a.Provider,{value:{dn:T,field:P,fieldSchema:E,template:S},children:(0,i.jsx)(p.RemoteSchemaComponent,{noForm:!0,uid:S==null?void 0:S.uid,keepOriginSchemaSort:g,onSuccess:z,skeleton:(0,i.jsx)(l,{})})})})):(0,i.jsx)(p.CollectionDeletedPlaceholder,{type:"Block template",name:o})},{displayName:"BlockTemplate"})},8447:function(se,j,e){"use strict";e.d(j,{$t:function(){return b},Jv:function(){return R},Kb:function(){return z},Wc:function(){return L},ns:function(){return w},zy:function(){return M}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(31996),d=e.n(p),h=e(26037),t=e.n(h),c=e(97857),i=e.n(c),a=e(15009),f=e.n(a),l=e(99289),n=e.n(l),r=e(94350),o=e(84327),g=e(96486),y=e.n(g),D=e(67294),P=e(89250),E=e(72029),O=e(31601),T=e(6145),S=e(85438),$=e(72594),Z=e(74614),K=e(85893),z=(0,D.createContext)({});z.displayName="SchemaTemplateManagerContext";var w=function(B){var V=B.templates,U=B.refresh;return(0,K.jsx)(z.Provider,{value:{templates:V,refresh:U},children:B.children})},A=function N(B){B.name=B["x-uid"]=(0,o.uid)(),Object.keys(B.properties||{}).forEach(function(V){N(B.properties[V])})},M=function(){var B=b(),V=B.getTemplateBySchema,U=B.templates,I=(0,r.useFieldSchema)(),F=I["x-uid"],W=I["x-template-key"];return(0,D.useMemo)(function(){return V(I)},[F,W])},b=function(){var B=(0,T.useCollectionManager_deprecated)(),V=B.getInheritCollections,U=(0,D.useContext)(z),I=U.refresh,F=U.templates,W=F===void 0?[]:F,X=(0,E.LY)();return{templates:W,refresh:I,getTemplateSchemaByMode:function(C){return n()(f()().mark(function k(){var Y,H,te,le,ne,ie;return f()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(Y=C.mode,H=C.template,te=C.keepOriginSchemaSort,Y!=="copy"){fe.next=11;break}return fe.next=4,X.request({url:"/uiSchemas:getJsonSchema/".concat(H.uid,"?includeAsyncNode=true"),params:typeof te!="undefined"?{keepOriginSchemaSort:te}:{}});case 4:return le=fe.sent,ne=le.data,ie=(ne==null?void 0:ne.data)||{},A(ie),fe.abrupt("return",(0,g.cloneDeep)(ie));case 11:if(Y!=="reference"){fe.next=13;break}return fe.abrupt("return",{type:"void","x-component":"BlockTemplate","x-component-props":{templateId:H.key,keepOriginSchemaSort:te}});case 13:case"end":return fe.stop()}},k)}))()},copyTemplateSchema:function(C){return n()(f()().mark(function k(){var Y,H,te;return f()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,X.request({url:"/uiSchemas:getJsonSchema/".concat(C.uid,"?includeAsyncNode=true")});case 2:return Y=ne.sent,H=Y.data,te=(H==null?void 0:H.data)||{},A(te),ne.abrupt("return",(0,g.cloneDeep)(te));case 7:case"end":return ne.stop()}},k)}))()},saveAsTemplate:function(C){return n()(f()().mark(function k(){var Y,H;return f()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return Y=C.uid,H=(0,o.uid)(),le.next=4,X.resource("uiSchemas").saveAsTemplate({filterByTk:Y,values:i()({key:H},C)});case 4:return le.next=6,I();case 6:return le.abrupt("return",{key:H});case 7:case"end":return le.stop()}},k)}))()},getTemplateBySchema:function(C){if(C){var k=C["x-template-key"];if(k)return W==null?void 0:W.find(function(H){return H.key===k});var Y=C["x-uid"];if(Y)return W==null?void 0:W.find(function(H){return H.uid===Y})}},getTemplateBySchemaId:function(C){return C?W==null?void 0:W.find(function(k){return k.uid===C}):null},getTemplateById:function(C){return W==null?void 0:W.find(function(k){return k.key===C})},getTemplatesByCollection:function(C,k){var Y,H=V(k,C),te=H.concat([k]),le=W==null||(Y=W.filter)===null||Y===void 0?void 0:Y.call(W,function(ne){return(ne.dataSourceKey||$.Ip)===C&&te.includes(ne.collectionName)});return le||[]},getTemplatesByComponentName:function(C){var k,Y=W==null||(k=W.filter)===null||k===void 0?void 0:k.call(W,function(H){return H.componentName===C});return Y||[]}}},R=function(B){var V,U=(0,E.LY)(),I=(0,Z.qD)(),F=(0,P.useParams)(),W={resource:"uiSchemaTemplates",action:"list",params:{paginate:!1,filter:F.appName?{associatedApp:{keyApplication:{name:{$eq:F.appName}}}}:{}}},X=(0,E.QT)(W);if(X.loading){var J;return I==null||(J=I.renderComponent)===null||J===void 0?void 0:J.call(I,"AppSkeleton")}return(0,K.jsx)(w,{refresh:n()(f()().mark(function C(){var k,Y;return f()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,U.request(W);case 2:k=te.sent,Y=k.data,X.mutate(Y);case 5:case"end":return te.stop()}},C)})),templates:X==null||(V=X.data)===null||V===void 0?void 0:V.data,children:B.children})},L=function(N){d()(V,N);var B=t()(V);function V(){return m()(this,V),B.apply(this,arguments)}return u()(V,[{key:"load",value:function(){var U=n()(f()().mark(function F(){return f()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:this.addRoutes(),this.addComponents();case 2:case"end":return X.stop()}},F,this)}));function I(){return U.apply(this,arguments)}return I}()},{key:"addComponents",value:function(){this.app.addComponents({BlockTemplate:S.u})}},{key:"addRoutes",value:function(){this.app.router.add("app.plugins.block-templates-key",{path:"/app/plugins/block-templates/:key",Component:"BlockTemplateDetails"})}}]),V}(O.S)},95354:function(se,j,e){"use strict";e.d(j,{bs:function(){return n},EF:function(){return L},L:function(){return N},Wc:function(){return z.Wc},Jv:function(){return z.Jv},Kb:function(){return z.Kb},ns:function(){return z.ns},zy:function(){return z.zy},$t:function(){return z.$t}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(47953),d=e(69677),h=e(57953),t=e(67294),c=e(89250),i=e(21143),a=e(98427),f=e(85893),l=function(V){var U=(0,t.useState)(V.title),I=u()(U,2),F=I[0],W=I[1],X=(0,t.useState)(!1),J=u()(X,2),C=J[0],k=J[1],Y=(0,i.useSchemaTemplateManager)(),H=Y.refresh,te=(0,i.useAPIClient)(),le=(0,i.useRequest)({resource:"uiSchemaTemplates",action:"update",params:{filterByTk:V.filterByTk}},{manual:!0,debounceWait:500,onSuccess:function(){H()}}),ne=le.run;return(0,f.jsx)("div",{children:C?(0,f.jsx)(d.Z,{defaultValue:F,size:"large",onBlur:function(){k(!1)},onChange:function(ee){W(ee.target.value),ne({filterByTk:V.filterByTk,values:{name:ee.target.value}})}}):(0,f.jsx)("div",{onClick:function(){k(!0)},children:F||(0,f.jsx)("span",{style:{color:"#bbb"},children:"\u672A\u547D\u540D"})})})},n=function(){var V,U,I=(0,c.useNavigate)(),F=(0,c.useParams)(),W=F==null?void 0:F.key,X=(0,t.useContext)(a.DDd),J=(0,i.useRequest)({resource:"uiSchemaTemplates",action:"get",params:{filterByTk:W}}),C=J.data,k=J.loading;return k?(0,f.jsx)(h.Z,{}):(0,f.jsxs)("div",{children:[(0,f.jsx)(p.m,{style:{backgroundColor:"white"},onBack:function(){I("/app/plugins/block-templates")},ghost:!1,title:(0,f.jsx)(l,{filterByTk:W,title:C==null||(V=C.data)===null||V===void 0?void 0:V.name})}),(0,f.jsx)("div",{style:{margin:"var(--nb-spacing)"},children:(0,f.jsx)(a.DDd.Provider,{value:m()(m()({},X),{},{designable:!0}),children:(0,f.jsx)(a.m1v,{uid:C==null||(U=C.data)===null||U===void 0?void 0:U.uid})})})]})},r=e(26793),o=e(9783),g=e.n(o),y=e(15009),D=e.n(y),P=e(99289),E=e.n(P),O=e(84327),T=e(19958),S={name:"uiSchemaTemplates",filterTargetKey:"key",targetKey:"key",fields:[{type:"integer",name:"name",interface:"input",uiSchema:{title:'{{ t("Template name") }}',type:"number","x-component":"Input",required:!0}}]},$=e(72594),Z=function(V){var U=(0,$.nE)(),I=U.dataSourceKey,F=I===void 0?"main":I,W=U.collectionName,X=(0,$.fp)(),J=(0,a.eJW)(),C=(0,t.useMemo)(function(){var te=X.getDataSource(F);if(te){var le=te.collectionManager.getCollection(W);return[te.displayName,(le==null?void 0:le.title)||W]}return[F,null]},[X,F,W]),k=u()(C,2),Y=k[0],H=k[1];return(0,f.jsxs)(f.Fragment,{children:[J(Y)," ",">"," ",J(H)]})},K=e(79531),z=e(8447),w=function(){var V=(0,T.useUpdateActionProps)(),U=(0,K.BU)(),I=U.__parent;return{onClick:function(){return E()(D()().mark(function W(){var X,J;return D()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,V.onClick();case 2:I==null||(X=I.service)===null||X===void 0||(J=X.refresh)===null||J===void 0||J.call(X);case 3:case"end":return k.stop()}},W)}))()}}},A=function(){var V=(0,T.useBulkDestroyActionProps)(),U=(0,z.$t)(),I=(0,K.BU)(),F=I.service;return{onClick:function(){return E()(D()().mark(function X(){var J;return D()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,V.onClick();case 2:return k.next=4,U.refresh();case 4:F==null||(J=F.refresh)===null||J===void 0||J.call(F);case 5:case"end":return k.stop()}},X)}))()}}},M=function(){var V=(0,T.useDestroyActionProps)(),U=(0,K.BU)(),I=U.service,F=(0,z.$t)();return{onClick:function(){return E()(D()().mark(function X(){var J;return D()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,V.onClick();case 2:return k.next=4,F.refresh();case 4:I==null||(J=I.refresh)===null||J===void 0||J.call(I);case 5:case"end":return k.stop()}},X)}))()}}},b=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:"object",name:(0,O.uid)(),properties:g()({},(0,O.uid)(),{type:"void","x-decorator":"TableBlockProvider","x-decorator-props":{collection:S,resource:"uiSchemaTemplates",action:"list",params:m()({pageSize:20,sort:["-createdAt"]},V),rowKey:"key",showIndex:!0,dragSort:!1},"x-component":"CardItem",properties:g()({actions:{type:"void","x-component":"ActionBar","x-component-props":{style:{marginBottom:16}},properties:{destroy:{title:'{{ t("Delete") }}',"x-action":"destroy","x-component":"Action","x-use-component-props":A,"x-component-props":{icon:"DeleteOutlined",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"}}}}}},(0,O.uid)(),{type:"array","x-component":"TableV2","x-use-component-props":"useTableBlockProps","x-component-props":{rowSelection:{type:"checkbox"}},properties:{actions:{type:"void",title:'{{ t("Actions") }}',"x-component":"TableV2.Column",properties:{actions:{type:"void","x-decorator":"DndContext","x-component":"Space","x-component-props":{split:"|"},properties:{edit:{type:"void",title:'{{ t("Edit") }}',"x-action":"update","x-component":"Action.Link","x-component-props":{openMode:"drawer",icon:"EditOutlined",refreshDataBlockRequest:!1},properties:{drawer:{type:"void",title:'{{ t("Edit record") }}',"x-component":"Action.Container","x-component-props":{className:"nb-action-popup"},properties:{form:{type:"void","x-decorator":"FormBlockProvider","x-decorator-props":{resource:"uiSchemaTemplates",collection:S,action:"get",useParams:"{{ useParamsFromRecord }}"},"x-component":"CardItem",properties:g()({},(0,O.uid)(),{type:"void","x-component":"FormV2","x-use-component-props":"useFormBlockProps",properties:{name:{type:"string","x-component":"CollectionField","x-decorator":"FormItem","x-collection-field":"uiSchemaTemplates.name",required:!0},actions:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column",style:{marginTop:24}},properties:{submit:{title:'{{t("Submit")}}',"x-action":"submit","x-component":"Action","x-use-component-props":w,"x-component-props":{type:"primary",htmlType:"submit"},type:"void"}}}}})}}}}},destroy:{title:'{{ t("Delete") }}',"x-action":"destroy","x-component":"Action.Link","x-use-component-props":M,"x-component-props":{icon:"DeleteOutlined",confirm:{title:"{{t('Delete record')}}",content:"{{t('Are you sure you want to delete it?')}}"}}}}}}},column1:{type:"void","x-decorator":"TableV2.Column.Decorator","x-component":"TableV2.Column",properties:{name:{type:"string","x-collection-field":"uiSchemaTemplates.name","x-component":"CollectionField","x-read-pretty":!0,"x-component-props":{ellipsis:!0}}}},column2:{type:"void",title:'{{t("Collection display name")}}',"x-component":"TableV2.Column",properties:{"collection.title":{type:"string","x-component":Z,"x-read-pretty":!0,"x-component-props":{ellipsis:!0}}}}}})})}},R=e(70173),L=function(){var V=(0,r.$)(),U=V.t;return(0,f.jsxs)("div",{children:[(0,f.jsx)(p.m,{style:{backgroundColor:"white"},ghost:!1,title:U("Block templates")}),(0,f.jsx)("div",{style:{margin:"var(--nb-spacing)"},children:(0,f.jsx)(a.n6,{schema:b()})})]})},N=function(){var V=(0,t.useContext)(R.isMultiAppPageContext),U=b(V!=null&&V.MULTIAPPLICATIONPORT?{filter:{associatedApp:{keyApplication:{name:{$eq:V==null?void 0:V.APPNAME}}}}}:{});return(0,f.jsx)(a.n6,{schema:U})}},42371:function(se,j,e){"use strict";e.d(j,{_w:function(){return B},uH:function(){return b},aW:function(){return V}});var v=e(97857),m=e.n(v),x=e(28459),u=e(67294),p=e(94350),d=e(58809),h=e(72029),t=e(68400),c=e.n(t),i=e(97133),a=e(9361),f=e(73587),l,n,r,o,g,y,D,P,E,O,T,S,$,Z;(0,i.injectGlobal)(l||(l=c()([`
  // inputNumber \u8F93\u5165\u6846
  .ant-input-number input {
    height: 40px;
  }

  // treeSelect \u6811\u9009\u62E9
  .ant-tree-select {
    .ant-select-selector {
      min-height: 40px;
    }
  }

  // menu \u83DC\u5355
  .ant-menu-vertical >.ant-menu-submenu>.ant-menu-submenu-title {
    height: 40px;
    line-height: 40px;
  }

  .ant-menu-submenu-popup .ant-menu-vertical {
    > .ant-menu-item {
      height: 40px;
      line-height: 40px;
    }

    > .ant-menu-submenu > .ant-menu-submenu-title {
      height: 40px;
      line-height: 40px;
    }
  }


  // dropdown \u4E0B\u62C9\u83DC\u5355
  .ant-dropdown-menu-submenu .ant-dropdown-menu .ant-dropdown-menu-item {
    min-height: 40px;
    line-height: 40px;
    padding: 5px 12px;
  }

  .ant-dropdown .ant-dropdown-menu  {
    .ant-dropdown-menu-item {
      height: 40px;
      line-height: 40px;
    }

    .ant-dropdown-menu-submenu-title {
      height: 40px;
      line-height: 40px;
      display: flex;
      align-items: center;
    }
  }

  .ant-select-dropdown .ant-select-item {
    min-height: 40px;
    align-items: center;
  }
  
  // \u65E5\u671F\u8303\u56F4\u9009\u62E9
  .ant-picker-range {
    height: 40px;
    line-height: 40px;
  }
`])));var K=function(I,F){return{className:(0,i.css)(n||(n=c()([`
    border-radius: `,`px;
    border-left: 9px solid `,`;
    box-shadow: `,`;

    .ant-table-thead .ant-table-cell {
      font-size: `,`px;
      &::before {
        display: none;
      }
    }

    .ant-table-pagination.ant-pagination {
      padding-bottom: `,`px;
      margin: `,`px;
    }

    .ant-table-summary {
      background: `,`;
    }

    .ant-table-thead tr:nth-child(1) th:nth-child(1) {
      border-top-left-radius: 6px !important;
    }

    .ant-table-tbody .ant-table-row > .ant-table-cell-row-hover {
      background: `,`;
    }

    .ant-table-tbody tr.ant-table-row-selected {
      &:hover > .ant-table-cell {
        background-color: `,`;
      }
    }
  `])),I.xwTableLeftBorderRadius,I.xwColorPrimaryHighlight,I.xwBoxShadowTable,F.fontSizeSmall,F.margin,F.margin,I.xwColorPrimaryRegular,F.colorPrimaryBgHover,I.xwColorPrimaryRegular)}},z=function(I,F){return{className:(0,i.css)(r||(r=c()([`
    .ant-pagination-item {
      border: 1px solid `,`;
      border-radius: 0;
      border-right: none;
      margin-inline-end: 0;
      height: 40px;
      line-height: 40px;

      a {
        border: none;
        border-radius: 0;
      }

      &.ant-pagination-item-active {
        background-color: `,`;
        a {
          color: `,`;
        }
        &:hover {
          border-color: `,`;
        }
      }

      &:hover {
        border-radius: 0;

        .ant-pagination-item-link {
          border: none;
        }
      }
    }

    .ant-pagination-prev,
    .ant-pagination-next {
      border: 1px solid `,`;
      margin: 0;

      .ant-pagination-item-link {
        border: none;
        border-radius: 0;
      }

      &:hover {
        .ant-pagination-item-link {
          border: none;
          border-radius: 0;
        }
      }
    }

    .ant-pagination-next {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    .ant-pagination-prev {
      border-right: none;
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    .ant-pagination-total-text,
    .ant-pagination-prev,
    .ant-pagination-next {
      height: 40px;
      line-height: 40px;
    }

    .ant-pagination-jump-prev,
    .ant-pagination-jump-next {
      margin: 0;
      border-radius: 0;
      border: 1px solid `,`;
      border-right: none;
      height: 40px;
      line-height: 40px;
    }

    &.ant-pagination-simple {
      overflow-y: hidden;
      color: #1d2129;
      .ant-pagination-prev,
      .ant-pagination-next {
        height: 28px;
        line-height: 28px;
        border: none;

        .ant-pagination-item-link {
          height: 28px;
          line-height: 28px;
        }
      }

      .ant-pagination-simple-pager {
        margin-inline-end: 0;
        height: 28px;
        line-height: 28px;
        border-right: none;
        padding-left: 0;
        padding-right: `,`px;
      }

      .ant-pagination-simple-pager input {
        padding: 0;
        margin: 0 8px;
        border: none;
        border-radius: 2px;
        margin-inline-end: 0;
        height: 28px;
        min-width: 40px;
        background: #f2f2f2;
      }

      .ant-pagination-simple-pager .ant-pagination-slash {
        margin-left: 8px;
      }
    }
  `])),F.colorBorder,I.xwColorPrimaryRegular,F.colorText,F.colorBorder,F.colorBorder,F.colorBorder,F.paddingXS)}},w=function(I){var F=I.token,W=F===void 0?{}:F,X=JSON.stringify(W),J=a.Z.useToken(),C=J.token,k=C===void 0?{}:C,Y=(0,u.useMemo)(function(){var H;return{theme:{token:W,components:{Table:{headerBg:W.xwColorPrimaryRegular,headerColor:W.xwTableHeaderColor,borderColor:W.xwTableBorderColor,colorText:W.xwTableColorText,footerBg:W.xwColorPrimaryRegular},Card:{headerFontSize:W.xwCardHeaderFontSize},Tabs:{cardBg:"rgba(0, 0, 0, 0.02)"},Menu:{itemHoverBg:"rgba(0, 0, 0, 0.06)"},Tag:{defaultBg:"#f2f2f2"},Layout:{bodyBg:W.xwColorPageBg}}},renderEmpty:f.H,tabs:{className:(0,i.css)(o||(o=c()([`
          .ant-tabs-nav::before {
            border-bottom: 0 !important;
          }
          .ant-tabs-tab {
            padding: `,"px ",`px!important;
            margin: 0 0 0 `,`px!important;
            border-radius: `,`px;
            background: `,`;
          }
          .ant-tabs-tab:first-child {
            margin: 0 0 0 0 !important;
          }
          .ant-tabs-tab-active {
            background: `,`!important;
            .ant-tabs-tab-btn {
              color: `,`!important;
            }
          }
          .ant-tabs-ink-bar {
            display: none;
          }
        `])),k.paddingXS,k.padding,k.margin,k.borderRadiusLG,k==null||(H=k.Tabs)===null||H===void 0?void 0:H.cardBg,W.xwColorPrimary,k.colorWhite)},button:{className:(0,i.css)(g||(g=c()([`
          height: 40px;

          &.ant-btn-circle {
            min-width: 40px;
          }

          &.ant-btn-link:not(:disabled):not(.ant-btn-disabled) {
            color: `,`;

            &:hover {
              color: `,`;
            }

            &:active {
              color: `,`;
            }
          }

          // === \u5BF9\u5E94\u89C6\u89C9\u7A3F\u4E2D\u7684 text \u6309\u94AE (tertiary \u6309\u94AE) ===
          &.ant-btn-default:not(.ant-btn-icon-only) {
            box-shadow: none;
            background: `,`;
            color: `,`;
            border: 1px solid `,`;
            transition: all 0.3s;
          }
          // \u975E disabled \u72B6\u6001\u4E0B\u7684 hover \u6837\u5F0F
          &.ant-btn-default:not(:disabled):not(.ant-btn-disabled):hover {
            color: `,`;
            border-color: `,`;
            background: `,`;
          }
          // disabled \u72B6\u6001\u4E0B\u7684\u6837\u5F0F
          &.ant-btn-default:disabled {
            cursor: not-allowed;
            background: `,`;
            color: `,`;
            border-color: `,`;
            opacity: 50%;
            box-shadow: none;
          }

          // === \u5BF9\u5E94\u89C6\u89C9\u7A3F\u4E2D\u7684 approve \u6309\u94AE (primary \u6309\u94AE\uFF09 ===
          &.ant-btn-primary {
            box-shadow: none;
            background: `,`;
            color: `,`;
            border: none;
            transition: all 0.3s;

            > span {
              position: relative;
            }

            &::before {
              content: '';
              background: `,`;
              position: absolute;
              inset: 0;
              opacity: 1;
              transition: all 0.3s;
              border-radius: inherit;
            }
          }
          // \u975E disabled \u72B6\u6001\u4E0B\u7684 hover \u6837\u5F0F
          &.ant-btn-primary:not(:disabled):not(.ant-btn-disabled):hover {
            background: `,`;
            color: `,`;

            &::before {
              opacity: 0;
            }
          }
          // disabled \u72B6\u6001\u4E0B\u7684\u6837\u5F0F
          &.ant-btn-primary:disabled {
            cursor: not-allowed;
            background: `,`;
            color: `,`;
            border: none;
            opacity: 50%;
            box-shadow: none;
          }

          // === \u5BF9\u5E94\u89C6\u89C9\u7A3F\u4E2D\u7684 reject \u6309\u94AE (secondary \u6309\u94AE) ===
          &.ant-btn-default.ant-btn-dangerous {
            box-shadow: none;
            background: `,`;
            color: `,`;
            border: 1px solid `,`;
            transition: all 0.3s;
          }
          // \u975E disabled \u72B6\u6001\u4E0B\u7684 hover \u6837\u5F0F
          &.ant-btn-default.ant-btn-dangerous:not(:disabled):not(.ant-btn-disabled):hover {
            background: `,`;
            color: `,`;
            border-color: `,`;
          }
          // disabled \u72B6\u6001\u4E0B\u7684\u6837\u5F0F
          &.ant-btn-default.ant-btn-dangerous:disabled {
            cursor: not-allowed;
            background: `,`;
            color: `,`;
            border: 1px solid `,`;
            opacity: 50%;
            box-shadow: none;
          }
        `])),W.colorPrimary,k.colorPrimaryHover,k.colorPrimaryHover,W.xwColorTertiaryBtnBackground,W.xwColorTertiaryBtnText,W.xwColorTertiaryBtnBorder,W.xwColorTertiaryBtnHoverText,W.xwColorTertiaryBtnHoverBorder,W.xwColorTertiaryBtnHoverBackground,W.xwColorTertiaryBtnBackground,W.xwColorTertiaryBtnText,W.xwColorTertiaryBtnBorder,W.xwColorPrimaryBtnHoverBackground,W.xwColorPrimaryBtnText,W.xwColorPrimaryBtnBackground,W.xwColorPrimaryBtnHoverBackground,W.xwColorPrimaryBtnText,W.xwColorPrimaryBtnBackground,W.xwColorPrimaryBtnText,W.xwColorSecondaryBtnBackground,W.xwColorSecondaryBtnText,W.xwColorSecondaryBtnBorder,W.xwColorSecondaryBtnHoverBackground,W.xwColorSecondaryBtnText,W.xwColorSecondaryBtnBorder,W.xwColorSecondaryBtnBackground,W.xwColorSecondaryBtnText,W.xwColorSecondaryBtnBorder)},datePicker:{className:(0,i.css)(y||(y=c()([`
          height: 40px;
        `])))},input:{className:(0,i.css)(D||(D=c()([`
          height: 40px;

          span.ant-input-wrapper {
            .ant-input {
              height: 40px;
            }
          }

          // \u5E26 affix \u7684 input\uFF0C\u76EE\u524D\u5C31\u770B\u5230\u5728\u6587\u4EF6\u751F\u6210\u8282\u70B9\u91CC\u6709\u7528\uFF0C\u9AD8\u5EA6\u52A0\u4E0A padding \u521A\u597D 40px
          span.ant-input-affix-wrapper {
            .ant-input {
              height: 32px;
            }
          }

          &.ant-input-search {
            .ant-input {
              height: 40px;
            }
            .ant-input-search-button {
              height: 40px;
            }

            span.ant-input-affix-wrapper {
              height: 40px;

              .ant-input {
                height: auto;
              }
            }
          }
        `])))},select:{className:(0,i.css)(P||(P=c()([`
          &.ant-select-single {
            height: 40px;
          }

          &.ant-select-multiple {
            min-height: 40px;

            .ant-select-selector {
              min-height: 40px;
            }
          }
        `])))},cascader:{className:(0,i.css)(E||(E=c()([`
          height: 40px;
        `])))},radio:{className:(0,i.css)(O||(O=c()([`
          &.ant-radio-button-wrapper {
            height: 40px;
            line-height: 40px;
            background: `,`;
            color: `,`;
            border-color: `,`;

            &:not(:first-child)::before {
              background-color: `,`;
            }

            &:not(.ant-radio-button-wrapper-disabled):first-child:hover {
              z-index: 1;
              color: `,`;
              border-color: `,`;
              background: `,`;
            }
            &:not(.ant-radio-button-wrapper-disabled):hover {
              z-index: 1;
              color: `,`;
              border-color: `,`;
              background: `,`;

              &::before {
                background-color: `,`;
              }
            }
          }
          &.ant-radio-button-wrapper-checked {
            background: `,`;
            border-color: `,`;
            color: `,`;

            &:not(.ant-radio-button-wrapper-disabled):first-child:hover {
              background: `,`;
              border-color: `,`;
              color: `,`;
            }

            &:not(.ant-radio-button-wrapper-disabled):hover {
              background: `,`;
              border-color: `,`;
              color: `,`;
            }
          }
        `])),W.xwColorTertiaryBtnBackground,W.xwColorTertiaryBtnText,W.xwColorTertiaryBtnBorder,W.xwColorTertiaryBtnBorder,W.xwColorTertiaryBtnHoverText,W.xwColorTertiaryBtnHoverBorder,W.xwColorTertiaryBtnHoverBackground,W.xwColorTertiaryBtnHoverText,W.xwColorTertiaryBtnHoverBorder,W.xwColorTertiaryBtnHoverBackground,W.xwColorTertiaryBtnHoverBorder,W.colorPrimary,W.colorPrimary,k.colorWhite,W.colorPrimary,W.colorPrimary,k.colorWhite,W.colorPrimary,W.colorPrimary,k.colorWhite)},tag:{className:(0,i.css)(T||(T=c()([`
          border: none;
          padding: 2px 10px;
          font-weight: 500;
          margin-block: 2px;
          &.ant-tag-success {
            background: `,`;
            color: `,`;
          }
          &.ant-tag-error {
            background: `,`;
            color: `,`;
          }
          &.ant-tag-processing {
            background: `,`;
            color: `,`;
          }
          &.ant-tag-warning {
            background: `,`;
            color: `,`;
          }
        `])),W.xwTagColorSuccessBg,W.xwTagColorSuccessText,W.xwTagColorErrorBg,W.xwTagColorErrorText,W.xwTagColorProcessingBg,W.xwTagColorProcessingText,W.xwTagColorWarningBg,W.xwTagColorWarningText)},card:{className:(0,i.css)(S||(S=c()([`
          .ant-card {
            border-radius: 0 !important;
          }

          .ant-card-head {
            border: none;
            .ant-card-head-title {
              background: `,`;
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
            }
          }

          .ant-card.todo-status {
            .ant-card-head {
              padding: 0;
            }
            .ant-card-body {
              padding: 0;
            }
          }
        `])),W.xwColorPrimary)},table:K(W,k),pagination:z(W,k),rate:{className:(0,i.css)($||($=c()([`
          .ant-rate-star {
            color: `,`;
          }

          .ant-rate-star-second {
            color: #f0f0f0;
          }
        `])),W.colorPrimary)},breadcrumb:{className:(0,i.css)(Z||(Z=c()([`
          .ant-breadcrumb-link a {
            color: `,`;
          }

          .ant-breadcrumb-link:hover a {
            color: `,`;
          }
        `])),W.colorPrimary,W.colorPrimary)}}},[X,k]);return Y},A=e(85893),M=(0,u.createContext)({token:{}});M.displayName="ScopeThemeContext";var b=function(){return u.useContext(M)},R=function(I){var F=(0,p.useFieldSchema)(),W=I||F;if(W){var X;return((X=W["x-data"])===null||X===void 0?void 0:X.themeConfig)||{}}return{}},L=function(I){var F,W=I.globalThemeCtx,X=I.parentScopeTheme,J=I.currentSchemaThemeConfig,C=I.globalThemeOverridable,k=C===void 0?!1:C;if(!k)return W.theme;var Y=Object.keys(X.token).length===0,H=Y?W.theme:X,te=((F=d.Zj.find(function(le){return le.name===(J==null?void 0:J.name)}))===null||F===void 0?void 0:F.token)||{};return{token:m()(m()({},H.token),te)}},N=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,F=(0,d.mg)(),W=(0,h.LY)(),X=W.auth.getOption("theme"),J=!1;if(X)try{var C;J=(C=JSON.parse(X))===null||C===void 0?void 0:C.overridable}catch(te){}var k=b(),Y=R(I),H=(0,u.useMemo)(function(){return L({globalThemeCtx:F,parentScopeTheme:k,currentSchemaThemeConfig:Y,globalThemeOverridable:J})},[F,k,Y]);return H},B=function(I){var F=I.children,W=I.schema,X=W===void 0?null:W,J=I.themeConfigFromProps,C=J===void 0?null:J,k=N(X),Y=C||k,H=w(Y);return(0,A.jsx)(M.Provider,{value:Y,children:(0,A.jsx)(x.ZP,m()(m()({},H),{},{children:F}))})};function V(U){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=I.displayName||U.displayName||U.name,W=function(J){var C=N(),k=w(C);return(0,A.jsx)(M.Provider,{value:C,children:(0,A.jsx)(x.ZP,m()(m()({},k),{},{children:(0,A.jsx)(U,m()({},J))}))})};return U.displayName=F,W.displayName="withScopeThemeProvider(".concat(F,")"),W}},39863:function(se,j,e){"use strict";e.d(j,{d:function(){return m.d},k:function(){return v.kc}});var v=e(59632),m=e(68230)},68230:function(se,j,e){"use strict";e.d(j,{d:function(){return m}});var v=e(9361),m=function(){var u=v.Z.useToken();return u}},14518:function(se,j,e){"use strict";e.d(j,{vU:function(){return J},bN:function(){return k},UP:function(){return H},YO:function(){return g},a$:function(){return I},j8:function(){return le},C6:function(){return D},t_:function(){return Y},HX:function(){return y}});var v=e(15009),m=e.n(v),x=e(99289),u=e.n(x),p=e(12444),d=e.n(p),h=e(72004),t=e.n(h),c=e(31996),i=e.n(c),a=e(26037),f=e.n(a),l=e(67294),n=e(72029),r=e(74614),o=e(85893),g=(0,l.createContext)(null);g.displayName="SystemSettingsContext";var y=function(){return(0,l.useContext)(g)},D=function(ie){var ee=(0,r.qD)(),fe=(0,n.QT)({url:"systemSettings:get/1?appends=logo,loginBg"});if(fe.loading){var de;return ee==null||(de=ee.renderComponent)===null||de===void 0?void 0:de.call(ee,"AppSkeleton")}return(0,o.jsx)(g.Provider,{value:fe,children:ie.children})},P=e(9783),E=e.n(P),O=e(97857),T=e.n(O),S=e(94350),$=e(84327),Z=e(45360),K=e(4393),z=e(50361),w=e.n(z),A=e(26793),M=e(21143),b=e(35310),R=e(98427),L=Object.keys(b.Z).map(function(ne){return{label:"".concat(b.Z[ne].label," (").concat(ne,")"),value:ne}}),N=function(){var ie=(0,R.XCj)(),ee=ie.setVisible;return{run:function(){return u()(m()().mark(function de(){return m()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:ee(!1);case 1:case"end":return Se.stop()}},de)}))()}}},B=function(ie){var ee=(0,R.XCj)(),fe=ee.visible,de=y();return console.log("result",de),(0,M.useRequest)(function(){return Promise.resolve(de.data)},T()(T()({},ie),{},{refreshDeps:[fe]}))},V=function(){var ie=(0,R.XCj)(),ee=ie.setVisible,fe=(0,S.useForm)(),de=y(),ue=de.mutate,Se=de.data,ae=(0,M.useAPIClient)(),G=(0,A.$)(),re=G.t;return{run:function(){return u()(m()().mark(function ce(){var be,xe,ge;return m()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,fe.submit();case 2:return xe=w()(fe.values),ue({data:T()(T()({},Se==null?void 0:Se.data),xe)}),Pe.next=6,ae.request({url:"systemSettings:update/1",method:"post",data:xe});case 6:Z.ZP.success(re("Saved successfully")),ge=((be=xe.enabledLanguages)===null||be===void 0?void 0:be[0])||"en-US",xe.enabledLanguages.length<2&&ae.auth.getLocale()!==ge?(ae.auth.setLocale(""),window.location.reload()):ee(!1);case 9:case"end":return Pe.stop()}},ce)}))()}}},U={type:"object",properties:E()({},(0,$.uid)(),{"x-decorator":"Form","x-decorator-props":{useValues:"{{ useSystemSettingsValues }}"},"x-component":"div",type:"void",title:'{{t("System settings")}}',properties:{title:{type:"string",title:"{{t('System title')}}","x-decorator":"FormItem","x-component":"Input",required:!0},logo:{type:"string",title:"{{t('Logo')}}","x-decorator":"FormItem","x-component":"Upload.Attachment","x-component-props":{action:"attachments:create",multiple:!1}},loginTitle:{type:"string",title:"{{t('Login title')}}","x-decorator":"FormItem","x-component":"Input",required:!0},loginBg:{type:"string",title:"{{t('Login Bg')}}","x-decorator":"FormItem","x-component":"Upload.Attachment","x-component-props":{action:"attachments:create",multiple:!1}},privacyAgreement:{type:"string",title:"{{t('Privacy Agreement')}}","x-decorator":"FormItem","x-component":"RichText"},enabledLanguages:{type:"array",title:'{{t("Enabled languages")}}',"x-component":"Select","x-component-props":{mode:"multiple"},"x-decorator":"FormItem",enum:L,"x-reactions":function(ie){ie.dataSource=L.map(function(ee){var fe,de=ee.label;return((fe=ie.value)===null||fe===void 0?void 0:fe[0])===ee.value&&(de+="(".concat(M.i18n.t("Default"),")")),{label:de,value:ee.value}})}},footer1:{type:"void","x-component":"ActionBar","x-component-props":{layout:"one-column"},properties:{submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",htmlType:"submit",useAction:"{{ useSaveSystemSettingsValues }}"}}}}}})},I=function(){return(0,o.jsx)(K.Z,{bordered:!1,children:(0,o.jsx)(R.n6,{scope:{useSaveSystemSettingsValues:V,useSystemSettingsValues:B,useCloseAction:N},schema:U})})},F=e(5574),W=e.n(F),X=e(70173),J="NOCODE_IS_OFFLINE_MODE",C=localStorage.getItem(J)==="true",k=(0,l.createContext)({isOfflineMode:C,setIsOfflineMode:function(ie){},offlineFormData:[],getOfflineFormData:function(){}});k.displayName="OfflineModeContext";var Y=function(){return(0,l.useContext)(k)},H=function(ie){var ee=(0,l.useState)(C),fe=W()(ee,2),de=fe[0],ue=fe[1],Se=(0,l.useState)([]),ae=W()(Se,2),G=ae[0],re=ae[1],oe=function(){var be=u()(m()().mark(function xe(){var ge;return m()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,X.OfflineFormServiceInstance.getPendingForms();case 2:ge=Pe.sent,re(ge);case 4:case"end":return Pe.stop()}},xe)}));return function(){return be.apply(this,arguments)}}();(0,l.useEffect)(function(){oe()},[]);var ce=(0,l.useCallback)(function(be){ue(be),localStorage.setItem(J,be.toString())},[]);return(0,o.jsx)(k.Provider,{value:{isOfflineMode:de,setIsOfflineMode:ce,offlineFormData:G,getOfflineFormData:oe},children:ie.children})},te=e(31601),le=function(ne){i()(ee,ne);var ie=f()(ee);function ee(){return d()(this,ee),ie.apply(this,arguments)}return t()(ee,[{key:"load",value:function(){var fe=u()(m()().mark(function ue(){return m()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:this.app.use(H),this.app.use(D,this.options);case 2:case"end":return ae.stop()}},ue,this)}));function de(){return fe.apply(this,arguments)}return de}()}]),ee}(te.S)},16779:function(se,j,e){"use strict";e.d(j,{G:function(){return a}});var v=e(12444),m=e.n(v),x=e(72004),u=e.n(x),p=e(31996),d=e.n(p),h=e(26037),t=e.n(h),c=e(72029),i=function(f){d()(n,f);var l=t()(n);function n(){return m()(this,n),l.apply(this,arguments)}return u()(n,[{key:"mockAdapter",value:function(){var o=e(19448);return new o(this.axios)}}]),n}(c.lP),a=function(){var l=new i,n=l.mockAdapter();return{apiClient:l,mockRequest:n}}},94749:function(se,j,e){"use strict";e.d(j,{y:function(){return D}});var v=e(5574),m=e.n(v),x=e(9783),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(94350),i=e(84327),a=e(67294),f=e(26793),l=e(21143),n=e(72029),r=e(85893),o=function(){var E=(0,l.useActionContext)(),O=E.setVisible,T=(0,c.useForm)();return{run:function(){return t()(d()().mark(function $(){return d()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:O(!1),T.submit(function(z){console.log(z)});case 2:case"end":return K.stop()}},$)}))()}}},g=function(){var E=(0,l.useActionContext)(),O=E.setVisible,T=(0,c.useForm)(),S=(0,n.LY)();return{run:function(){return t()(d()().mark(function Z(){return d()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,T.submit();case 2:return z.next=4,S.resource("auth").changePassword({values:T.values});case 4:return z.next=6,T.reset();case 6:O(!1);case 7:case"end":return z.stop()}},Z)}))()}}},y={type:"object",properties:u()({},(0,i.uid)(),{"x-decorator":"Form","x-component":"Action.Drawer",type:"void",title:'{{t("Change password")}}',properties:{oldPassword:{type:"string",title:'{{t("Old password")}}',required:!0,"x-component":"Password","x-decorator":"FormItem"},newPassword:{type:"string",title:'{{t("New password")}}',required:!0,"x-component":"Password","x-decorator":"FormItem","x-component-props":{checkStrength:!0,style:{}},"x-reactions":[{dependencies:[".confirmPassword"],fulfill:{state:{selfErrors:'{{$deps[0] && $self.value && $self.value !== $deps[0] ? t("Password mismatch") : ""}}'}}}]},confirmPassword:{type:"string",required:!0,title:'{{t("Confirm password")}}',"x-component":"Password","x-decorator":"FormItem","x-component-props":{checkStrength:!0,style:{}},"x-reactions":[{dependencies:[".newPassword"],fulfill:{state:{selfErrors:'{{$deps[0] && $self.value && $self.value !== $deps[0] ? t("Password mismatch") : ""}}'}}}]},footer:{"x-component":"Action.Drawer.Footer",type:"void",properties:{cancel:{title:'{{t("Cancel")}}',"x-component":"Action","x-component-props":{useAction:"{{ useCloseAction }}"}},submit:{title:'{{t("Submit")}}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useSaveCurrentUserValues }}"}}}}}})},D=function(){var E=(0,a.useContext)(l.DropdownVisibleContext),O=(0,a.useState)(!1),T=m()(O,2),S=T[0],$=T[1],Z=(0,f.$)(),K=Z.t;return(0,a.useMemo)(function(){return{key:"password",eventKey:"ChangePassword",onClick:function(){$(!0),E==null||E.setVisible(!1)},label:(0,r.jsxs)(r.Fragment,{children:[K("Change password"),(0,r.jsx)(l.ActionContextProvider,{value:{visible:S,setVisible:$},children:(0,r.jsx)("div",{onClick:function(w){return w.stopPropagation()},children:(0,r.jsx)(l.SchemaComponent,{scope:{useCloseAction:o,useSaveCurrentUserValues:g},schema:y})})})]})}},[S])}},86739:function(se,j,e){"use strict";e.d(j,{Ec:function(){return i},MF:function(){return l},OP:function(){return a},ih:function(){return f},vo:function(){return n}});var v=e(67294),m=e(89250),x=e(47646),u=e(72029),p=e(98427),d=e(74614),h=e(17958),t=e(8217),c=e(85893),i=(0,v.createContext)(null);i.displayName="CurrentUserContext";var a=function(){return(0,v.useContext)(i)},f=function(){var o,g=(0,x.ov)(),y=g.allowAnonymous,D=a(),P=D.data,E=(0,p.eJW)(),O=(0,t.oR)(),T=O.appList,S=(0,m.useParams)(),$=S.appName,Z=T.find(function(z){var w=z.name;return w===$}),K=(0,v.useMemo)(function(){var z,w=((P==null||(z=P.data)===null||z===void 0?void 0:z.roles)||[]).map(function(M){var b=M.name,R=M.title,L=M.associatedApp;return{name:b,title:E(R),associatedApp:L}});y&&w.push({title:"Anonymous",name:"anonymous"});var A=w.filter(function(M){var b;return["root","anonymous"].includes(M.name)?!0:(Z==null?void 0:Z.id)===(M==null||(b=M.associatedApp)===null||b===void 0?void 0:b.applicationsId)});return A},[y,P==null||(o=P.data)===null||o===void 0?void 0:o.roles,Z]);return K},l=function(o){var g,y=(0,d.qD)(),D=(0,u.QT)({url:"auth:check"}),P=(g=D.data)===null||g===void 0||(g=g.data)===null||g===void 0?void 0:g.id;if((0,v.useEffect)(function(){P&&y.ws.send(JSON.stringify({type:"create_user_websocket_id_relation",payload:{userId:P}}))},[P]),D.loading){var E;return y==null||(E=y.renderComponent)===null||E===void 0?void 0:E.call(y,"AppSkeleton")}return(0,c.jsx)(i.Provider,{value:D,children:o.children})},n=function(o){var g,y=o.children,D=(0,h.Dv)(),P=a(),E=(0,m.useLocation)(),O=E.pathname,T=E.search,S="?redirect=".concat(O).concat(T);return!(P!=null&&(g=P.data)!==null&&g!==void 0&&(g=g.data)!==null&&g!==void 0&&g.id)&&!D?(0,c.jsx)(m.Navigate,{replace:!0,to:"/signin".concat(S)}):(0,c.jsx)(c.Fragment,{children:y})}},16072:function(se,j,e){"use strict";e.d(j,{i:function(){return O}});var v=e(5574),m=e.n(v),x=e(9783),u=e.n(x),p=e(97857),d=e.n(p),h=e(15009),t=e.n(h),c=e(99289),i=e.n(c),a=e(94350),f=e(84327),l=e(67294),n=e(26793),r=e(21143),o=e(72029),g=e(85893),y=function(){var S=(0,r.useActionContext)(),$=S.setVisible,Z=(0,a.useForm)();return{run:function(){return i()(t()().mark(function z(){return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:$(!1),Z.submit(function(M){console.log(M)});case 2:case"end":return A.stop()}},z)}))()}}},D=function(S){var $=(0,r.useCurrentUserContext)();return(0,r.useRequest)(function(){return Promise.resolve($.data)},S)},P=function(){var S=(0,r.useCurrentUserContext)(),$=(0,r.useActionContext)(),Z=$.setVisible,K=(0,a.useForm)(),z=(0,o.LY)();return{run:function(){return i()(t()().mark(function A(){var M,b;return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,K.submit();case 2:return b=L.sent,Z(!1),L.next=6,z.resource("users").updateProfile({values:b});case 6:S.mutate({data:d()(d()({},S==null||(M=S.data)===null||M===void 0?void 0:M.data),b)});case 7:case"end":return L.stop()}},A)}))()}}},E={type:"object",properties:u()({},(0,f.uid)(),{"x-decorator":"Form","x-decorator-props":{useValues:"{{ useCurrentUserValues }}"},"x-component":"Action.Drawer",type:"void",title:'{{t("Edit profile")}}',properties:{nickname:{type:"string",title:"{{t('Nickname')}}","x-decorator":"FormItem","x-component":"Input"},username:{type:"string",title:'{{t("Username")}}',"x-decorator":"FormItem","x-component":"Input","x-validator":{username:!0},required:!0},email:{type:"string",title:'{{t("Email")}}',"x-decorator":"FormItem","x-component":"Input","x-validator":"email"},phone:{type:"string",title:'{{t("Phone")}}',"x-decorator":"FormItem","x-component":"Input"},footer:{"x-component":"Action.Drawer.Footer",type:"void",properties:{cancel:{title:"Cancel","x-component":"Action","x-component-props":{useAction:"{{ useCloseAction }}"}},submit:{title:"Submit","x-component":"Action","x-component-props":{type:"primary",useAction:"{{ useSaveCurrentUserValues }}"}}}}}})},O=function(){var S=(0,l.useContext)(r.DropdownVisibleContext),$=(0,l.useState)(!1),Z=m()($,2),K=Z[0],z=Z[1],w=(0,n.$)(),A=w.t;return(0,l.useMemo)(function(){return{key:"profile",eventKey:"EditProfile",onClick:function(){z(!0),S==null||S.setVisible(!1)},label:(0,g.jsxs)("div",{children:[A("Edit profile"),(0,g.jsx)(r.ActionContextProvider,{value:{visible:K,setVisible:z},children:(0,g.jsx)("div",{onClick:function(b){return b.stopPropagation()},children:(0,g.jsx)(r.SchemaComponent,{scope:{useCurrentUserValues:D,useCloseAction:y,useSaveCurrentUserValues:P},schema:E})})})]})}},[K])}},8985:function(se,j,e){"use strict";e.d(j,{Ih:function(){return I},Ec:function(){return M.Ec},MF:function(){return M.MF},mY:function(){return $},yI:function(){return U},vo:function(){return M.vo},Tx:function(){return V},ih:function(){return M.ih},OP:function(){return M.OP},t$:function(){return S}});var v=e(68400),m=e.n(v),x=e(5574),u=e.n(x),p=e(19632),d=e.n(p),h=e(15009),t=e.n(h),c=e(99289),i=e.n(c),a=e(9557),f=e(97133),l=e(70173),n=e(3321),r=e(68508),o=e(85418),g=e(67294),y=e(26793),D=e(89250),P=e(21143),E=e(94749),O=e(85893),T=(0,g.createContext)(null);T.displayName="CurrentUserSettingsMenuContext";var S=function(){var W=(0,g.useContext)(T)||{},X=W.menuItems,J=(0,g.useCallback)(function(){return X.current},[X]),C=(0,g.useCallback)(function(k,Y){var H,te,le;if(Y&&(k._options=Y),(le=X.current.findIndex(function(fe){return fe.key===k.key}))!==-1){X.current[le]=k,X.current=d()(X.current);return}if(Y){if(Y.before){var ne=X.current.findIndex(function(fe){return fe.key===Y.before});X.current.splice(ne,0,k);return}if(Y.after){var ie=X.current.findIndex(function(fe){return fe.key===Y.after});X.current.splice(ie+1,0,k);return}}var ee=X.current;X.current=ee.filter(function(fe){var de,ue;return k.key!==((de=fe._options)===null||de===void 0?void 0:de.before)&&k.key!==((ue=fe._options)===null||ue===void 0?void 0:ue.after)}),(H=X.current).push.apply(H,d()(ee.filter(function(fe){var de;return((de=fe._options)===null||de===void 0?void 0:de.before)===k.key}))),X.current.push(k),(te=X.current).push.apply(te,d()(ee.filter(function(fe){var de;return((de=fe._options)===null||de===void 0?void 0:de.after)===k.key})))},[X]);if(!X)throw(0,l.error)("CurrentUser: You should use `CurrentUserSettingsMenuProvider` in the root of your app."),new Error("CurrentUser: You should use `CurrentUserSettingsMenuProvider` in the root of your app.");return{getMenuItems:J,addMenuItem:C}},$=function(W){var X=W.children,J=(0,g.useRef)([]);return(0,O.jsx)(T.Provider,{value:{menuItems:J},children:X})},Z=e(16072),K=e(35310),z=function(){var W,X=(0,y.$)(),J=X.t,C=X.i18n,k=(0,P.useAPIClient)(),Y=(0,P.useSystemSettings)(),H=Y.data,te=(0,g.useMemo)(function(){var ne;return(H==null||(ne=H.data)===null||ne===void 0?void 0:ne.enabledLanguages)||[]},[H==null||(W=H.data)===null||W===void 0?void 0:W.enabledLanguages]),le=(0,g.useMemo)(function(){return{key:"language",eventKey:"LanguageSettings",label:(0,O.jsx)(P.SelectWithTitle,{title:J("Language"),options:Object.keys(K.Z).filter(function(ne){return te.includes(ne)}).map(function(ne){return{label:K.Z[ne].label,value:ne}}),defaultValue:C.language,onChange:function(){var ne=i()(t()().mark(function ie(ee){return t()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,k.resource("users").updateProfile({values:{appLang:ee}});case 2:k.auth.setLocale(ee),window.location.reload();case 4:case"end":return de.stop()}},ie)}));return function(ie){return ne.apply(this,arguments)}}()})}},[k,te,C,J]);return te.length<2?null:le},w=e(72029),A=e(7737),M=e(86739),b=e(47646),R=function(){var W=(0,w.LY)(),X=(0,M.ih)(),J=(0,y.$)(),C=J.t,k=(0,b.TR)(),Y=(0,g.useMemo)(function(){return{key:"role",eventKey:"SwitchRole",label:(0,O.jsx)(A.T,{title:C("Switch role"),fieldNames:{label:"title",value:"name"},options:X,defaultValue:W.auth.role,onChange:function(){var H=i()(t()().mark(function te(le){return t()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return W.auth.setRole(le),ie.next=3,W.resource("users").setDefaultRole({values:{roleName:le}});case 3:return ie.next=5,k.refresh();case 5:case"end":return ie.stop()}},te)}));return function(te){return H.apply(this,arguments)}}()})}},[W,X,C]);return X.length<=1?null:Y},L,N,B=function(){var W,X,J,C=(0,P.useCurrentUserContext)(),k=C.data,Y=(0,P.useToken)(),H=Y.token;return(0,g.useMemo)(function(){var te,le,ne;return{key:"nickname",disabled:!0,label:(0,O.jsx)("span",{"aria-disabled":"false",style:{cursor:"text",color:H.colorTextDescription},children:(k==null||(te=k.data)===null||te===void 0?void 0:te.nickname)||(k==null||(le=k.data)===null||le===void 0?void 0:le.username)||(k==null||(ne=k.data)===null||ne===void 0?void 0:ne.email)})}},[k==null||(W=k.data)===null||W===void 0?void 0:W.email,k==null||(X=k.data)===null||X===void 0?void 0:X.nickname,k==null||(J=k.data)===null||J===void 0?void 0:J.username,k==null?void 0:k.data.version,H.colorTextDescription])},V=function(W){var X=S(),J=X.addMenuItem,C=X.getMenuItems,k=(0,P.useCurrentUserContext)(),Y=W.redirectUrl,H=Y===void 0?"":Y,te=(0,P.useACLRoleContext)(),le=te.allowAll,ne=te.snippets,ie=le||(ne==null?void 0:ne.includes("app")),ee=(0,D.useNavigate)(),fe=(0,P.useAPIClient)(),de=(0,y.$)(),ue=de.t,Se=(0,P.useAPIClient)(),ae=(0,g.useCallback)(i()(t()().mark(function Pe(){return t()().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,new Promise(function(Le){var Me=setInterval(function(){Se.silent().resource("app").getInfo().then(function(Te){return(Te==null?void 0:Te.status)===200&&(Le("ok"),clearInterval(Me)),Te}).catch(function(Te){(0,l.error)(Te)})},3e3)});case 2:return Be.abrupt("return",Be.sent);case 3:case"end":return Be.stop()}},Pe)})),[Se]),G=B(),re=(0,Z.i)(),oe=(0,E.y)(),ce=R(),be=z(),xe=n.Z.useApp(),ge=xe.modal,he=(0,g.useMemo)(function(){return ie?[{key:"cache",label:ue("Clear server cache"),onClick:function(){var Pe=i()(t()().mark(function Be(){return t()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.next=2,fe.resource("app").clearCache();case 2:window.location.reload();case 3:case"end":return Me.stop()}},Be)}));function Ae(){return Pe.apply(this,arguments)}return Ae}()},{key:"reboot",label:ue("Restart application"),onClick:function(){var Pe=i()(t()().mark(function Be(){return t()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:ge.confirm({title:ue("Restart application"),okText:ue("Restart"),okButtonProps:{danger:!0},onOk:function(){var Te=i()(t()().mark(function Ue(){return t()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,fe.resource("app").restart();case 2:case"end":return De.stop()}},Ue)}));function we(){return Te.apply(this,arguments)}return we}()});case 1:case"end":return Me.stop()}},Be)}));function Ae(){return Pe.apply(this,arguments)}return Ae}()},{key:"divider_4",type:"divider"}]:[]},[fe,ie,ae,ge,ue]);return(0,g.useMemo)(function(){var Pe=[G,{key:"divider_1",type:"divider"},re,oe,{key:"divider_2",type:"divider"},ce,{key:"divider_3",type:"divider"}].concat(d()(he),[{key:"reload-application",label:ue("Reload application"),onClick:l.clearClientCacheStorageAndReload},{key:"signout",label:ue("Sign out"),onClick:function(){var Ae=i()(t()().mark(function Le(){return t()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.next=2,fe.auth.signOut();case 2:return Te.next=4,k.refresh();case 4:ee("/signin?redirect=".concat(encodeURIComponent(H)));case 5:case"end":return Te.stop()}},Le)}));function Be(){return Ae.apply(this,arguments)}return Be}()}]);Pe.forEach(function(Ae){Ae&&J(Ae)}),be&&J(be,{before:"divider_3"})},[J,fe.auth,oe,he,re,be,ee,H,ce,ue,G]),(0,O.jsx)(r.Z,{items:C()})},U=(0,g.createContext)(null);U.displayName="DropdownVisibleContext";var I=function(){var W=(0,g.useState)(!1),X=u()(W,2),J=X[0],C=X[1],k=(0,P.useToken)(),Y=k.token;return(0,O.jsx)("div",{className:(0,f.css)(L||(L=m()([`
        border: 0;
        height: 32px;
        width: 32px;
        color: #464f5d;
        background: #f2f3f5 !important;
        border-radius: 8px;

        &:hover {
          background: #f2f3f5 !important;
        }
      `]))),children:(0,O.jsx)(U.Provider,{value:{visible:J,setVisible:C},children:(0,O.jsx)(o.Z,{open:J,onOpenChange:function(te){C(te)},dropdownRender:function(){return(0,O.jsx)(V,{})},children:(0,O.jsx)("span",{"data-testid":"user-center-button",className:(0,f.css)(N||(N=m()([`
              max-width: 160px;
              overflow: hidden;
              display: inline-block;
              line-height: 32px;
              white-space: nowrap;
              text-overflow: ellipsis;
              cursor: pointer;
              padding: 0 0 0 10px;
              color: `,`;
            `])),Y.colorTextHeaderMenu),children:(0,O.jsx)(a.Z,{style:{fontSize:14,color:"#464f5d"}})})})})})}},59388:function(se,j,e){"use strict";var v=e(67294),m=e(79531),x=function(){var p,d,h=(0,m.Si)(),t=h.field,c=h.service,i=h.rowKey,a=h.collection,f=(0,v.useMemo)(function(){var l;return c==null||(l=c.data)===null||l===void 0||(l=l.data)===null||l===void 0?void 0:l.filter(function(n){var r,o;return(r=(t==null||(o=t.data)===null||o===void 0?void 0:o.selectedRowKeys)||[])===null||r===void 0?void 0:r.includes(n[i])})},[t==null||(p=t.data)===null||p===void 0?void 0:p.selectedRowKeys,i,c==null||(d=c.data)===null||d===void 0?void 0:d.data]);return(0,v.useMemo)(function(){return{name:"$context",ctx:f,collectionName:a}},[a,f])};j.Z=x},25813:function(se,j,e){"use strict";e.d(j,{on:function(){return be},ts:function(){return N.ts},Bj:function(){return N.Bj},cB:function(){return U},Uj:function(){return X},fN:function(){return N.fN},cG:function(){return N.cG},J8:function(){return ce.J},L7:function(){return O},Ym:function(){return H.Z},Kp:function(){return G},OQ:function(){return oe}});var v=e(9783),m=e.n(v),x=e(97857),u=e.n(x),p=e(15009),d=e.n(p),h=e(99289),t=e.n(h),c=e(85667),i=e(70173),a=e(96486),f=e.n(a),l=e(67294),n=e(72029),r=e(6145),o=e(8341),g=e(98427),y=e(57638),D=e(81560),P=e(45621),E=function(){var ge=(0,D.AO)(),he=ge.currentUserCtx,Pe=(0,P.K)(),Ae=Pe.currentRoleCtx,Be=(0,D.Ld)(),Le=Be.datetimeCtx,Me=(0,l.useMemo)(function(){return[{name:"$user",ctx:he,collectionName:"users",dataSource:y.ym},{name:"$nRole",ctx:Ae,collectionName:"roles"},{name:"currentUser",ctx:he,collectionName:"users",dataSource:y.ym},{name:"$nDate",ctx:Le},{name:"$date",ctx:Le},{name:"$system",ctx:{now:function(){return(0,i.dayjs)().toISOString()}}},{name:"currentTime",ctx:function(){return(0,i.dayjs)().toISOString()}}]},[Ae,he,Le]);return{builtinVariables:Me}},O=E,T=new Map,S=function(ge,he,Pe){var Ae=T.get(ge);Ae?Ae[he]=Pe:T.set(ge,m()({},he,Pe))},$=function(ge,he){var Pe=T.get(ge);return Pe==null?void 0:Pe[he]},Z=function(ge){return Array.isArray(ge)?ge.filter(function(he){return he===0||he===!1||he}):ge},K={hasMany:"list?pageSize=9999",belongsTo:"get",hasOne:"get",belongsToMany:"list?pageSize=9999"},z=function(ge){return K[ge]},w=e(90615),A={},M=function(ge){return!!A[ge]},b=function(ge){return A[ge]},R=function(ge,he){A[ge]=he},L=function(ge){delete A[ge]},N=e(76690),B=function(ge){return!Array.isArray(ge)||!f().isObject(ge[0])?ge:f().uniqBy(ge,function(he){return"id"in he?he.id:JSON.stringify(he)})},V=e(85893),U=(0,l.createContext)(null);U.displayName="VariablesContext";var I={},F=function(ge,he){var Pe,Ae,Be=ge.split("."),Le=Be.map(function(Me){return he[Me]?(Pe=he[Me].dataSource,Ae=he[Me],he[Me].collectionName):Me});return{fieldPath:Le.join("."),dataSource:Pe,variableOption:Ae}},W=function(ge){var he=ge.children,Pe=ge.filterVariables,Ae=(0,l.useRef)({}),Be=(0,n.LY)(),Le=(0,r.useCollectionManager_deprecated)(),Me=Le.getCollectionJoinField,Te=Le.getCollection,we=(0,g.eJW)(),Ue=O(),je=Ue.builtinVariables,De=(0,l.useCallback)(function(Ve){f().isFunction(Ve)?Ae.current=Ve(Ae.current):Ae.current=Ve},[]),ye=(0,l.useCallback)(function(){var Ve=t()(d()().mark(function Ze(qe,Qe,ke){var ft,vt,_t,Nt,Kt,ut,Rt,Dt,dt,Bt,He,ct,St,Tt,Mt,Zt,Je;return d()().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(vt=qe.split("."),_t=vt[0],Nt=k(I,Qe),Kt=C(Ae.current,Qe),ut=F(_t,Nt),Rt=ut.fieldPath,Dt=ut.dataSource,dt=ut.variableOption,Bt=Rt,He=F(qe,Nt),ct=He.fieldPath,St=vt.length===1?dt==null?void 0:dt.collectionName:(ft=Me(ct,Dt))===null||ft===void 0?void 0:ft.target,_t in Kt){rt.next=10;break}throw new Error("VariablesProvider: ".concat(_t," is not found"));case 10:Tt=d()().mark(function yt(){var xt,Ct,mt,at,ht,ot,kt,nn,Lt,hn,Dn,Gt,mn;return d()().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(Kt!=null){$t.next=2;break}return $t.abrupt("return",{v:{value:Kt===void 0?dt==null?void 0:dt.defaultValue:Kt,dataSource:Dt,collectionName:St}});case 2:if(Ct=vt[Zt],mt=vt.slice(0,Zt+1).join("."),at=F(mt,Nt),ht=at.fieldPath,ot=Me(ht,Dt),kt=(xt=Te(Bt,Dt))===null||xt===void 0?void 0:xt.getPrimaryKey(),!Array.isArray(Kt)){$t.next=25;break}if(Number.isNaN(Number(Ct))){$t.next=11;break}return Kt=Kt[Ct],$t.abrupt("return",0);case 11:if(!(f().isEmpty(Kt[Ct])&&(nn=Kt[0])!==null&&nn!==void 0&&nn[Ct])){$t.next=14;break}return Kt=Kt.map(function(Pn){return Pn[Ct]}),$t.abrupt("return",0);case 14:return Lt=Kt.map(function(Pn){if(!(ke!=null&&ke.doNotRequest)&&J(Ct,Pn,mt)&&(Pn==null?void 0:Pn[kt])!=null&&ot!=null&&ot.target){var vn="/".concat(Bt,"/").concat(Pn[ot.sourceKey||kt],"/").concat(Ct,":").concat(z(ot.type));if(M(vn))return b(vn);var sn=Be.request({headers:(0,o.GX)(Dt),url:vn,params:{appends:ke==null?void 0:ke.appends}}).then(function(Rn){L(vn);var un=Rn.data.data;return S(Pn,mt,un),un});return R(vn,sn),sn}return $(Pn,mt)||(Pn==null?void 0:Pn[Ct])}),$t.t0=Y,$t.t1=f(),$t.next=19,Promise.all(Lt);case 19:$t.t2=$t.sent,$t.t3=$t.t1.flatten.call($t.t1,$t.t2),$t.t4=ot,Kt=(0,$t.t0)($t.t3,$t.t4),$t.next=46;break;case 25:if(!(!(ke!=null&&ke.doNotRequest)&&J(Ct,Kt,mt)&&Kt[kt]!=null&&ot!==null&&ot!==void 0&&ot.target)){$t.next=45;break}if(hn="/".concat(Bt,"/").concat(Kt[ot.sourceKey||kt],"/").concat(Ct,":").concat(z(ot.type)),Dn=null,!M(hn)){$t.next=34;break}return $t.next=31,b(hn);case 31:Dn=$t.sent,$t.next=40;break;case 34:return Gt=Be.request({headers:(0,o.GX)(Dt),url:hn,params:{appends:ke==null?void 0:ke.appends}}),R(hn,Gt),$t.next=38,Gt;case 38:Dn=$t.sent,L(hn);case 40:mn=Dn.data.data,$(Kt,mt)||S(Kt,mt,mn),Kt=Y(mn,ot),$t.next=46;break;case 45:Kt=Y($(Kt,mt)||(0,i.getValuesByPath)(Kt,Ct),ot);case 46:ot!=null&&ot.target&&(Bt=ot.target);case 47:case"end":return $t.stop()}},yt)}),Zt=0;case 12:if(!(Zt<vt.length)){rt.next=22;break}return rt.delegateYield(Tt(),"t0",14);case 14:if(Mt=rt.t0,Mt!==0){rt.next=17;break}return rt.abrupt("continue",19);case 17:if(!Mt){rt.next=19;break}return rt.abrupt("return",Mt.v);case 19:Zt++,rt.next=12;break;case 22:return Je=we(f().isFunction(Kt)?Kt({fieldOperator:ke==null?void 0:ke.fieldOperator,isParsingVariable:!0}):Kt),rt.abrupt("return",{value:Je===void 0?dt.defaultValue:Je,dataSource:Dt,collectionName:St});case 24:case"end":return rt.stop()}},Ze)}));return function(Ze,qe,Qe){return Ve.apply(this,arguments)}}(),[Me]),_e=(0,l.useCallback)(function(Ve){if(!(0,N.cG)("{{".concat(Ve.name,"}}")))throw new Error("VariablesProvider: ".concat(Ve.name," is not a valid name"));De(function(Ze){return u()(u()({},Ze),{},m()({},Ve.name,Ve.ctx))}),I[Ve.name]=u()(u()({},Ve),{},{defaultValue:f().has(Ve,"defaultValue")?Ve.defaultValue:null})},[De]),q=(0,l.useCallback)(function(Ve){return Ae.current[Ve]?u()({},I[Ve]):null},[]),pe=(0,l.useCallback)(function(Ve){De(function(Ze){var qe=u()({},Ze);return delete qe[Ve],qe}),delete I[Ve]},[De]),Re=(0,l.useCallback)(function(){var Ve=t()(d()().mark(function Ze(qe,Qe,ke){var ft,vt;return d()().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:if((0,N.cG)(qe)){Nt.next=2;break}return Nt.abrupt("return",qe);case 2:return Qe&&(Qe=f().isArray(Qe)?Qe:[Qe]),ft=(0,w.D)(qe),Nt.next=6,ye(ft,Qe,ke);case 6:return vt=Nt.sent,Nt.abrupt("return",u()(u()({},vt),{},{value:B(Z(vt.value))}));case 8:case"end":return Nt.stop()}},Ze)}));return function(Ze,qe,Qe){return Ve.apply(this,arguments)}}(),[ye]),Oe=(0,l.useCallback)(function(){var Ve=t()(d()().mark(function Ze(qe,Qe){var ke,ft,vt,_t,Nt,Kt,ut;return d()().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:if((0,N.cG)(qe)){Dt.next=2;break}throw new Error("VariablesProvider: ".concat(qe," is not a variable string"));case 2:return Qe&&(Qe=f().isArray(Qe)?Qe:[Qe]),ke=k(I,Qe),ft=(0,w.D)(qe),vt=F(ft,ke),_t=vt.fieldPath,Nt=vt.dataSource,Kt=Me(_t,Nt),!Kt&&!ft.includes(".")&&(Kt={target:(ut=ke[ft])===null||ut===void 0?void 0:ut.collectionName}),Dt.abrupt("return",Kt);case 9:case"end":return Dt.stop()}},Ze)}));return function(Ze,qe){return Ve.apply(this,arguments)}}(),[Me]);(0,l.useEffect)(function(){je.forEach(function(Ve){_e(u()(u()({},Ve),{},{defaultValue:f().has(Ve,"defaultValue")?Ve.defaultValue:null}))})},[je,_e]);var $e=(0,l.useMemo)(function(){return{ctxRef:Ae,setCtx:De,parseVariable:Re,registerVariable:_e,getVariable:q,getCollectionField:Oe,removeVariable:pe,filterVariables:Pe}},[Oe,q,Re,_e,pe,De]);return(0,V.jsx)(U.Provider,{value:$e,children:he})};W.displayName="VariablesProvider";var X=W;function J(xe,ge,he){var Pe=ge==null?void 0:ge[xe],Ae=!1;return $(ge,he)?!1:((0,c.untracked)(function(){if(JSON.stringify(Pe)==="[{}]"||JSON.stringify(Pe)==="{}"){Ae=!0;return}Ae=f().isEmpty(Pe)}),Ae)}function C(xe,ge){return xe=u()({},xe),ge==null||ge.forEach(function(he){xe[he.name]=he.ctx}),xe}function k(xe,ge){return xe=u()({},xe),ge==null||ge.forEach(function(he){xe[he.name]=u()(u()({},he),{},{defaultValue:f().has(he,"defaultValue")?he.defaultValue:null})}),xe}function Y(xe,ge){return!(ge!=null&&ge.through)||!xe?xe:Array.isArray(xe)?xe.map(function(he){return f().omit(he,ge.through)}):f().omit(xe,ge.through)}var H=e(59388),te=e(67527),le=e(25801),ne=e(90499),ie=e(23971),ee=e(43139),fe=e(56062),de=e(11764),ue=e(57519),Se=e(37018),ae=function(ge){var he=(0,ee.Z)(),Pe=he.parentObjectCtx,Ae=he.shouldDisplayParentObject,Be=he.collectionName,Le=(0,ie.j)(),Me=Le.currentObjectCtx,Te=Le.shouldDisplayCurrentObject,we=(0,Se.a)(),Ue=we.currentRecordCtx,je=we.collectionName,De=(0,de.S)(),ye=De.currentParentRecordCtx,_e=De.collectionName,q=De.dataSource,pe=(0,ue.A)(),Re=pe.popupRecordCtx,Oe=pe.collectionName,$e=pe.dataSource,Ve=pe.defaultValue,Ze=(0,fe.h)(),qe=Ze.parentPopupRecordCtx,Qe=Ze.collectionName,ke=Ze.dataSource,ft=Ze.defaultValue,vt=(0,le.L)(),_t=vt.datetimeCtx,Nt=(0,ne.DA)({form:ge==null?void 0:ge.currentForm}),Kt=Nt.currentFormCtx,ut=(0,r.useCollection_deprecated)(),Rt=ut.name,Dt=(0,te.J)(),dt=Dt.name;return ge!=null&&ge.collectionName&&(dt=ge.collectionName),(0,l.useMemo)(function(){return[{name:"currentRecord",ctx:Ue,collectionName:je},{name:dt,ctx:Kt||Ue,collectionName:dt},{name:"$form",ctx:Kt,collectionName:dt},{name:"$nRecord",ctx:Ue,collectionName:je},{name:"$nParentRecord",ctx:ye,collectionName:_e,dataSource:q},{name:"$nPopupRecord",ctx:Re,collectionName:Oe,dataSource:$e,defaultValue:Ve},{name:"$nParentPopupRecord",ctx:qe,collectionName:Qe,dataSource:ke,defaultValue:ft},{name:"$nForm",ctx:Kt,collectionName:dt},{name:"$nDate",ctx:_t},{name:"$date",ctx:_t},Te&&{name:"$iteration",ctx:Me,collectionName:Rt},Ae&&{name:"$nParentIteration",ctx:Pe,collectionName:Be}].filter(Boolean)},[Ue,je,dt,Kt,ye,_e,q,Re,qe,Oe,$e,_t,Te,Me,Rt,Ve,ft,Ae,Pe,Be])},G=ae,re=function(){return(0,l.useContext)(U)},oe=re,ce=e(65565),be=300},90615:function(se,j,e){"use strict";e.d(j,{D:function(){return m}});var v=e(76690),m=function(u){if(!u)return u;var p=u.match(v.ts);return p[0].replace(v.ts,"$1")}},44256:function(se,j,e){"use strict";e.d(j,{H:function(){return u}});var v=e(96486),m=e.n(v),x=e(90615),u=function(d){if(!m().isString(d))return d;var h=(0,x.D)(d),t=h.split("."),c=t[0];return c}},76690:function(se,j,e){"use strict";e.d(j,{Bj:function(){return m},cG:function(){return x},fN:function(){return u},ts:function(){return v}});var v=/^\s*\{\{\s*([a-zA-Z0-9_$-.]+?)\s*\}\}\s*$/g,m=/\{\{\s*([a-zA-Z0-9_$-.]+?)\s*\}\}/g,x=function(d){if(typeof d!="string")return!1;var h=d.match(v);return!!h},u=function(d){var h=d.match(m);return h||[]}},65565:function(se,j,e){"use strict";e.d(j,{J:function(){return p}});var v=e(97857),m=e.n(v),x=e(96486),u=e.n(x),p=function(h,t){var c=t.targetCollectionField;return h==null||!c?h:c.interface==="chinaRegion"&&Array.isArray(h)?h.map(function(i){return u().isObject(i),i=m()({},i),Object.keys(i).forEach(function(a){u().isObjectLike(i[a])&&delete i[a]}),i}):["hasMany","belongsToMany"].includes(c.type)?Array.isArray(h)?h:[h]:(c.interface==="json",h)}},27655:function(se,j,e){"use strict";e.r(j),e.d(j,{default:function(){return Z},evaluators:function(){return S},getOptions:function(){return $}});var v=e(97857),m=e.n(v),x=e(5574),u=e.n(x),p=e(70173),d=e(83362),h=e(6511),t=e(96486);function c(K,z){for(var w=z.split("."),A=K,M=function(){var L,N=w[b],B=N.match(/^\d+$/);Array.isArray(A)&&!B&&!A[N]&&(A[N]=A.map(function(V){return V[N]}).flat()),A=(L=A)===null||L===void 0?void 0:L[N]},b=0;b<w.length&&A!=null;b++)M()}function i(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1?arguments[1]:void 0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=(0,t.cloneDeep)(w),M={},b={},R=0,L=z.trim().replace(/{{\s*([\w$.-]+)\s*}}/g,function(N,B){var V;c(A,B);var U=(V=(0,t.get)(A,B))!==null&&V!==void 0?V:null;typeof U=="function"&&(U=U());var I=b[B];return I||(I="$$".concat(R++),b[B]=I,M[I]=U),K.replaceValue?"".concat(U==null||typeof U=="number"&&(Number.isNaN(U)||!Number.isFinite(U))?"":U):I});return this(L,M)}var a=i.bind(function(K){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=d.ku(K,z);return typeof w=="number"?Number.isNaN(w)||!Number.isFinite(w)?null:h.NMM(w,9):w},{replaceKey:!0}),f={label:"Math.js",tooltip:"{{t('Math.js comes with a large set of built-in functions and constants, and offers an integrated solution to work with different data types.')}}",link:"https://mathjs.org/",evaluate:a},l=e(42672),n=e.n(l),r=e(19632),o=e.n(r),g=e(11590),y=Object.keys(g).filter(function(K){return K!=="default"}),D=y.map(function(K){return g[K]}),P=i.bind(function(K){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=n()(Function,o()(y).concat(o()(Object.keys(z)),["return ".concat(K)])),A=w.apply(void 0,o()(D).concat(o()(Object.values(z))));return typeof A=="number"?Number.isNaN(A)||!Number.isFinite(A)?null:(0,h.NMM)(A,9):A},{}),E={label:"Formula.js",tooltip:'{{t("Formula.js supports most Microsoft Excel formula functions.")}}',link:"https://formulajs.info/functions/",evaluate:P},O=i.bind(function(K){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return K},{replaceValue:!0}),T={label:"{{t('String template')}}",tooltip:"{{t('Simple string replacement, can be used to interpolate variables in a string.')}}",evaluate:O},S=new p.Registry;S.register("math.js",f),S.register("formula.js",E),S.register("string",T);function $(){return Array.from(S.getEntities()).reduce(function(K,z){var w=u()(z,2),A=w[0],M=w[1];return K.concat(m()({value:A},M))},[])}var Z=S},84816:function(se,j,e){"use strict";e.r(j),e.d(j,{APIClient:function(){return N},Auth:function(){return b},MemoryStorage:function(){return L},Storage:function(){return R},getSubAppName:function(){return z}});var v=e(97857),m=e.n(v),x=e(13769),u=e.n(x),p=e(25098),d=e.n(p),h=e(31996),t=e.n(h),c=e(26037),i=e.n(c),a=e(15009),f=e.n(a),l=e(99289),n=e.n(l),r=e(12444),o=e.n(r),g=e(72004),y=e.n(g),D=e(9783),P=e.n(D),E=e(9669),O=e.n(E),T=e(80129),S=e.n(T),$=e(94350),Z=e(70173),K=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"/",U="".concat(V,"apps/");if(window.location.pathname.startsWith(U)){var I=window.location.pathname.substring(U.length),F=I.split("/",1);return F[0]||""}},z=K,w=["authClass","storageClass"],A=["values","filter"],M=0,b=function(){function B(V){o()(this,B),P()(this,"api",void 0),P()(this,"KEYS",{locale:"NOCODE_LOCALE",role:"NOCODE_ROLE",token:"NOCODE_TOKEN",guest_token:"NOCODE_GUEST_TOKEN",share_status:"NOCODE_SHARE_STATUS",share_mode:"NOCODE_SHARE_MODE",share_title:"NOCODE_SHARE_TITLE",authenticator:"NOCODE_AUTH",theme:"NOCODE_THEME",role_auth:"NOCODE_ROLE_AUTH"}),P()(this,"options",{locale:null,role:null,authenticator:null,token:null,roleAuth:null}),this.api=V,this.initKeys(),this.api.axios.interceptors.request.use(this.middleware.bind(this))}return y()(B,[{key:"initKeys",value:function(){if(typeof window!="undefined"){var U=z(this.api.app?this.api.app.getPublicPath():"/");U&&(this.KEYS.role="".concat(U.toUpperCase(),"_")+this.KEYS.role,this.KEYS.locale="".concat(U.toUpperCase(),"_")+this.KEYS.locale)}}},{key:"locale",get:function(){return this.getLocale()},set:function(U){this.setLocale(U)}},{key:"role",get:function(){return this.getRole()},set:function(U){this.setRole(U)}},{key:"token",get:function(){return this.getToken()},set:function(U){this.setToken(U)}},{key:"authenticator",get:function(){return this.getAuthenticator()},set:function(U){this.setAuthenticator(U)}},{key:"roleAuth",get:function(){return this.getRoleAuth()},set:function(U){this.setRoleAuth(U)}},{key:"getOption",value:function(U){if(this.KEYS[U])return this.api.storage.getItem(this.KEYS[U])}},{key:"setOption",value:function(U,I){if(this.KEYS[U])return this.options[U]=I,this.api.storage.setItem(this.KEYS[U],I||"")}},{key:"getLocale",value:function(){return this.getOption("locale")}},{key:"setLocale",value:function(U){this.setOption("locale",U)}},{key:"getRole",value:function(){return this.getOption("role")}},{key:"setRole",value:function(U){this.setOption("role",U)}},{key:"getToken",value:function(){return this.getOption("token")}},{key:"setToken",value:function(U){this.setOption("token",U)}},{key:"getAuthenticator",value:function(){return this.getOption("authenticator")}},{key:"setAuthenticator",value:function(U){this.setOption("authenticator",U)}},{key:"isShareModeAndShareStatusOpen",value:function(){return this.getOption("share_mode")==="true"&&this.getOption("share_status")==="open"}},{key:"middleware",value:function(){var V=n()(f()().mark(function I(F){var W,X,J,C,k,Y,H,te,le,ne,ie,ee;return f()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(this.locale&&(F.headers["X-Locale"]=this.locale),this.role&&(F.headers["X-Role"]=this.role),this.authenticator&&!F.headers["X-Authenticator"]&&(F.headers["X-Authenticator"]=this.authenticator),this.token&&(F.headers.Authorization="Bearer ".concat(this.token)),!this.getOption("token")){de.next=7;break}return this.setOption("share_mode","false"),de.abrupt("return",F);case 7:if(W=new URLSearchParams(window.location.search),X=W.get("shared")==="true",this.setOption("share_mode","".concat(X)),X){de.next=12;break}return de.abrupt("return",F);case 12:if(!(M<1)){de.next=25;break}return M++,de.next=16,O().get(window.location.origin+"/api/public:getGuestToken");case 16:if(C=de.sent,k=C==null||(J=C.data)===null||J===void 0?void 0:J.data,!(k!=null&&k.token)){de.next=25;break}return this.setOption("guest_token",k.token),de.next=22,O().get(window.location.origin+"/api/uiSchemas:getJsonSchema/xwork-app-menu",{headers:{Authorization:"Bearer ".concat(k.token)}});case 22:H=de.sent,te=H==null||(Y=H.data)===null||Y===void 0?void 0:Y.data,te&&(ne=window.location.pathname.split("/"),ie=(0,Z.findSchema)(new $.Schema(te),function(ue){return ue["x-uid"]===ne[ne.length-1]}),this.setOption("share_title",(ie==null?void 0:ie.title)||""),this.setOption("share_status",(ie==null||(le=ie["x-component-props"])===null||le===void 0?void 0:le.share)||"close"));case 25:return this.isShareModeAndShareStatusOpen()&&(ee=this.getOption("guest_token"),ee&&(F.headers.Authorization="Bearer ".concat(ee))),de.abrupt("return",F);case 27:case"end":return de.stop()}},I,this)}));function U(I){return V.apply(this,arguments)}return U}()},{key:"signIn",value:function(){var V=n()(f()().mark(function I(F,W){var X,J,C;return f()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,this.api.request({method:"post",url:"auth:signIn",data:F,headers:{"X-Authenticator":W}});case 2:return J=Y.sent,C=J==null||(X=J.data)===null||X===void 0?void 0:X.data,this.setToken(C==null?void 0:C.token),this.setAuthenticator(W),Y.abrupt("return",J);case 7:case"end":return Y.stop()}},I,this)}));function U(I,F){return V.apply(this,arguments)}return U}()},{key:"signUp",value:function(){var V=n()(f()().mark(function I(F,W){return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,this.api.request({method:"post",url:"auth:signUp",data:F,headers:{"X-Authenticator":W}});case 2:return J.abrupt("return",J.sent);case 3:case"end":return J.stop()}},I,this)}));function U(I,F){return V.apply(this,arguments)}return U}()},{key:"signOut",value:function(){var V=n()(f()().mark(function I(){var F;return f()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.api.request({method:"post",url:"auth:signOut"});case 2:return F=X.sent,this.setToken(null),this.setRole(null),this.setAuthenticator(null),X.abrupt("return",F);case 7:case"end":return X.stop()}},I,this)}));function U(){return V.apply(this,arguments)}return U}()},{key:"getRoleAuth",value:function(){if(this.KEYS.role_auth)return this.api.storage.getItem(this.KEYS.role_auth)}},{key:"setRoleAuth",value:function(U){if(this.KEYS.role_auth)return this.api.storage.setItem(this.KEYS.role_auth,U||"")}}]),B}(),R=y()(function B(){o()(this,B)}),L=function(B){t()(U,B);var V=i()(U);function U(){var I;o()(this,U);for(var F=arguments.length,W=new Array(F),X=0;X<F;X++)W[X]=arguments[X];return I=V.call.apply(V,[this].concat(W)),P()(d()(I),"items",new Map),I}return y()(U,[{key:"clear",value:function(){this.items.clear()}},{key:"getItem",value:function(F){return this.items.get(F)}},{key:"setItem",value:function(F,W){return this.items.set(F,W)}},{key:"removeItem",value:function(F){return this.items.delete(F)}}]),U}(R),N=function(){function B(V){if(o()(this,B),P()(this,"axios",void 0),P()(this,"auth",void 0),P()(this,"storage",void 0),typeof V=="function")this.axios=V;else{var U=V||{},I=U.authClass,F=U.storageClass,W=u()(U,w);this.axios=O().create(W),this.initStorage(F),I&&(this.auth=new I(this))}this.storage||this.initStorage(),this.auth||(this.auth=new b(this)),this.interceptors()}return y()(B,[{key:"getHeaders",value:function(){var U={};return this.auth.locale&&(U["X-Locale"]=this.auth.locale),this.auth.role&&(U["X-Role"]=this.auth.role),this.auth.authenticator&&(U["X-Authenticator"]=this.auth.authenticator),this.auth.token&&(U.Authorization="Bearer ".concat(this.auth.token)),U}},{key:"initStorage",value:function(U){U?this.storage=new U(this):typeof localStorage!="undefined"?this.storage=localStorage:this.storage=new L}},{key:"interceptors",value:function(){this.axios.interceptors.request.use(function(U){return U.paramsSerializer=function(I){return S().stringify(I,{strictNullHandling:!0,arrayFormat:"brackets"})},U})}},{key:"request",value:function(U){var I=U,F=I.resource,W=I.resourceOf,X=I.action,J=I.params,C=I.headers;return F?this.resource(F,W,C)[X](J):this.axios.request(U)}},{key:"resource",value:function(U,I,F){var W=this,X={},J={get:function(k,Y){var H=U.split(".").join("/".concat(encodeURIComponent(I)||"_","/"));H+=":".concat(Y);var te={url:H};return["get","list"].includes(Y)?te.method="get":te.method="post",function(){var le=n()(f()().mark(function ne(ie,ee){var fe,de,ue,Se;return f()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return fe=ie||{},de=fe.values,ue=fe.filter,Se=u()(fe,A),te.params=Se,ue&&(typeof ue=="string"?te.params.filter=ue:(ue["*"]&&delete ue["*"],te.params.filter=JSON.stringify(ue))),te.method!=="get"&&(te.data=de||{}),G.next=6,W.request(m()(m()(m()({},te),ee),{},{headers:F}));case 6:return G.abrupt("return",G.sent);case 7:case"end":return G.stop()}},ne)}));return function(ne,ie){return le.apply(this,arguments)}}()}};return new Proxy(X,J)}}]),B}()},70173:function(se,j,e){"use strict";e.r(j),e.d(j,{BlockPowerSettingDataContext:function(){return En},CollectionsGraph:function(){return k},DEVICE_TYPE:function(){return mr},OfflineFormServiceInstance:function(){return Mn},Registry:function(){return $t},callDownloadFlutter:function(){return Ir},callFlutter:function(){return hr},captureException:function(){return Lr},clearClientCacheStorageAndReload:function(){return Zr},dayjs:function(){return f()},definedUploadFileHandle:function(){return Mr},delay:function(){return no},encryptAndStore:function(){return qr},error:function(){return qe},exportToExcel:function(){return wt},findSchema:function(){return Hr},flatten:function(){return rt},forEach:function(){return Te},getCreateFormBlockSchemaByChildSchema:function(){return Ft},getDateVars:function(){return Dn},getDayRange:function(){return ot},getDefaultFormat:function(){return re},getDomain:function(){return rn},getFilterOperatorByTargetField:function(){return ro},getMultiApplicationWorkflowDetailPath:function(){return zt},getMultiApplicationWorkflowExecutionsPath:function(){return In},getMultiApplicationWorkflowListPath:function(){return Tn},getMultiApplicationWorkflowPath:function(){return en},getPickerFormat:function(){return Me},getTargetLength:function(){return G},getTransformDisplayNameToNameFieldReactions:function(){return Eo},getValuesByPath:function(){return we},handleNativeMobileDownloadFile:function(){return Sr},hasEmptyValue:function(){return de},isAppDesignPage:function(){return eo},isArray:function(){return ie},isEmpty:function(){return ee},isInAuditCard:function(){return Jr},isInFlutter:function(){return nr},isInFormBlock:function(){return Wt},isMobile:function(){return dr},isMobilePreview:function(){return an},isMultiAppPageContext:function(){return It},isPlainObject:function(){return fe},isPortalInBody:function(){return vn},isString:function(){return ne},isURL:function(){return jt},isValidFilter:function(){return De},isiOS:function(){return Gn},loadPackage:function(){return gt},lodash:function(){return i()},merge:function(){return Nt},moment2str:function(){return Pe},nextTick:function(){return ue},offsetFromString:function(){return Ae},parse:function(){return Oe},parseExcel:function(){return Vt},parseFilter:function(){return ht},parseHTML:function(){return qn},parseParamPowerUtils:function(){return gn},pushToCheckList:function(){return ae},retrieveAndDecrypt:function(){return ao},sendMailToCheckList:function(){return Se},showToast:function(){return ut},splitPathToTwoParts:function(){return Gt},str2moment:function(){return xe},toFixedByStep:function(){return dt},toGmt:function(){return oe},toLocal:function(){return ce},toUnit:function(){return Lt},transformAuditTodoListFilterFormat:function(){return ho},transformDisplayNameToName:function(){return io},uid:function(){return un},unflatten:function(){return yt},utc2unit:function(){return nn}});var v=e(52677),m=e.n(v),x=e(15009),u=e.n(x),p=e(96695),d=e.n(p),h=e(99289),t=e.n(h),c=e(96486),i=e.n(c),a=e(27484),f=e.n(a),l=e(28734),n=e.n(l),r=e(10285),o=e.n(r),g=e(66607),y=e.n(g),D=e(79212),P=e.n(D),E=e(37412),O=e.n(E),T=e(59542),S=e.n(T),$=e(96036),Z=e.n($),K=e(96671),z=e.n(K),w=e(29387),A=e.n(w),M=e(70178),b=e.n(M),R=e(55183),L=e.n(R),N=e(172),B=e.n(N),V=e(72540),U=e.n(V);f().extend(U()),f().extend(Z()),f().extend(A()),f().extend(b()),f().extend(z()),f().extend(S()),f().extend(y()),f().extend(P()),f().extend(O()),f().extend(L()),f().extend(B()),f().extend(o()),f().extend(n());var I=e(94350),F=e(12444),W=e.n(F),X=e(72004),J=e.n(X),C=e(28282),k=function(){function cn(){W()(this,cn)}return J()(cn,null,[{key:"graphlib",value:function(){return C}},{key:"connectedNodes",value:function(ln){var Sn=(0,c.castArray)(ln.nodes),Kn=(0,c.castArray)(ln.excludes||[]),tr=cn.build(ln),fr=new Set,ir=d()(Sn),Rr;try{for(ir.s();!(Rr=ir.n()).done;){var Tr=Rr.value,Xr=C.alg.preorder(tr,Tr),Gr=d()(Xr),po;try{for(Gr.s();!(po=Gr.n()).done;){var So=po.value;Kn.includes(So)||fr.add(So)}}catch(Co){Gr.e(Co)}finally{Gr.f()}}}catch(Co){ir.e(Co)}finally{ir.f()}return Array.from(fr)}},{key:"preOrder",value:function(ln){return cn.graphlib().alg.preorder(cn.build(ln),ln.node)}},{key:"build",value:function(ln){var Sn=ln.collections,Kn=(ln==null?void 0:ln.direction)||"forward",tr=Kn==="forward",fr=new C.Graph,ir=d()(Sn),Rr;try{for(ir.s();!(Rr=ir.n()).done;){var Tr=Rr.value;fr.setNode(Tr.name)}}catch(co){ir.e(co)}finally{ir.f()}var Xr=d()(Sn),Gr;try{for(Xr.s();!(Gr=Xr.n()).done;){var po=Gr.value,So=po.inherits||[],Co=d()(So),bo;try{for(Co.s();!(bo=Co.n()).done;){var ko=bo.value;tr?fr.setEdge(po.name,ko):fr.setEdge(ko,po.name)}}catch(co){Co.e(co)}finally{Co.f()}var Oo=d()(po.fields||[]),ta;try{for(Oo.s();!(ta=Oo.n()).done;){var Nr=ta.value;if((Nr.type==="hasMany"||Nr.type==="belongsTo"||Nr.type==="hasOne")&&(tr?fr.setEdge(po.name,Nr.target):fr.setEdge(Nr.target,po.name)),Nr.type==="belongsToMany"){var Ko=Nr.through;tr?(fr.setEdge(po.name,Ko),fr.setEdge(Ko,Nr.target)):(fr.setEdge(Nr.target,Ko),fr.setEdge(Ko,po.name))}}}catch(co){Oo.e(co)}finally{Oo.f()}}}catch(co){Xr.e(co)}finally{Xr.f()}return fr}}]),cn}(),Y=e(49704),H=e.n(Y),te=e(9669),le=e.n(te),ne=function(Ot){return typeof Ot=="string"},ie=function(Ot){return Array.isArray(Ot)},ee=function(Ot){return fe(Ot)?Object.keys(Ot).length===0:Array.isArray(Ot)?Ot.length===0:!Ot},fe=function(Ot){if(Object.prototype.toString.call(Ot)!=="[object Object]")return!1;var ln=Object.getPrototypeOf(Ot);return ln===null||ln===Object.prototype},de=function cn(Ot){var ln=!0;for(var Sn in Ot){if(ln=!1,ie(Ot[Sn])&&Ot[Sn].length===0||!Ot[Sn])return!0;if(fe(Ot[Sn])||ie(Ot[Sn]))return cn(Ot[Sn])}return ln},ue=function(Ot){setTimeout(Ot)},Se=function(){var cn=t()(u()().mark(function Ot(ln){var Sn,Kn,tr,fr,ir;return u()().wrap(function(Tr){for(;;)switch(Tr.prev=Tr.next){case 0:return Sn={NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.NOCODE_SECRET||"",Kn={NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.CHECKLIST_DOMAIN,tr=H().sign({iss:"admin"},Sn,{expiresIn:60}),fr={Authorization:tr},Tr.next=6,le()({method:"post",url:Kn+"/CheckList/Timer/XworkEmail/nocodeMail",headers:fr,data:ln}).then(function(Xr){return Xr.data}).catch(function(Xr){return{status:0,info:Xr}});case 6:return ir=Tr.sent,Tr.abrupt("return",ir);case 8:case"end":return Tr.stop()}},Ot)}));return function(ln){return cn.apply(this,arguments)}}(),ae=function(){var cn=t()(u()().mark(function Ot(ln,Sn){var Kn,tr,fr,ir,Rr,Tr;return u()().wrap(function(Gr){for(;;)switch(Gr.prev=Gr.next){case 0:return Kn={NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.NOCODE_SECRET||"",tr={NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.CHECKLIST_DOMAIN,fr=H().sign(ln,Kn,{expiresIn:60}),ir=H().sign({data:Sn},Kn),Rr={Authorization:fr},Gr.next=7,le()({method:"post",url:tr+"/CheckList/Timer/Xwork",headers:Rr,data:ir}).then(function(po){return po.data}).catch(function(po){return{status:0,info:po}});case 7:return Tr=Gr.sent,Gr.abrupt("return",Tr);case 9:case"end":return Gr.stop()}},Ot)}));return function(ln,Sn){return cn.apply(this,arguments)}}();function G(cn){var Ot=0;if(typeof cn=="number"){if(cn<0)throw new Error("Loop target in number type must be greater than 0");Ot=Math.floor(cn)}else{var ln=(Array.isArray(cn)?cn:[cn]).filter(function(Sn){return Sn!=null});Ot=ln.length}return Ot}var re=function(Ot){return Ot.format?Ot.format:Ot.dateFormat?Ot.showTime?"".concat(Ot.dateFormat," ").concat(Ot.timeFormat||"HH:mm:ss"):Ot.dateFormat:Ot.picker==="month"?"YYYY-MM":Ot.picker==="quarter"?"YYYY-\\QQ":Ot.picker==="year"?"YYYY":Ot.picker==="week"?"YYYY-wo":Ot.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"},oe=function(Ot){return!Ot||!f().isDayjs(Ot)?Ot:"".concat(Ot.format("YYYY-MM-DD"),"T").concat(Ot.format("HH:mm:ss.SSS"),"Z")},ce=function(Ot){if(!Ot)return Ot;if(Array.isArray(Ot))return Ot.map(function(ln){return ln.startOf("second").toISOString()});if(f().isDayjs(Ot))return Ot.startOf("second").toISOString()},be=function(Ot,ln){if(Ot){var Sn=ln.utcOffset||-1*new Date().getTimezoneOffset(),Kn=ln.gmt,tr=ln.picker,fr=ln.utc,ir=fr===void 0?!0:fr;return ir?f().isDayjs(Ot)?Ot.utcOffset(Ae(Sn)):Kn||tr?f()(Ot).utcOffset(0):f()(Ot).utcOffset(Ae(Sn)):f()(Ot)}},xe=function(Ot){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(Ot)?Ot.map(function(Sn){return be(Sn,ln)}):Ot&&be(Ot,ln)},ge=function(Ot,ln){return ln==="year"?Ot.format("YYYY")+"-01-01T00:00:00.000Z":ln==="month"||ln==="quarter"?Ot.format("YYYY-MM")+"-01T00:00:00.000Z":Ot.format("YYYY-MM-DD")+"T00:00:00.000Z"},he=function(Ot,ln){if(!Ot)return Ot;if(Array.isArray(Ot))return Ot.map(function(Sn){return ge(Sn,ln)});if(f().isDayjs(Ot))return ge(Ot,ln)},Pe=function(Ot){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Sn=ln.showTime,Kn=ln.gmt,tr=ln.picker;return Ot&&(Sn?Kn?oe(Ot):ce(Ot):he(Ot,tr))};function Ae(cn){if(!i().isString(cn))return cn;var Ot=/([+-]|\d\d)/gi,ln=/Z|[+-]\d\d(?::?\d\d)?/gi,Sn=/[+-]?\d+(\.\d{1,3})?/,Kn=(cn||"").match(ln);if(Kn===null&&(Kn=(cn||"").match(Sn)),Kn===null)return null;var tr=Kn[Kn.length-1]||[],fr=(tr+"").match(Ot)||["-",0,0],ir=+(Number(fr[1])*60)+Be(fr[2]);return ir===0?0:fr[0]==="+"?ir:-ir}function Be(cn){var Ot=+cn,ln=0;return Ot!==0&&isFinite(Ot)&&(ln=Le(Ot)),ln}function Le(cn){return cn<0?Math.ceil(cn)||0:Math.floor(cn)}var Me=function(Ot){switch(Ot){case"week":return"YYYY[W]W";case"month":return"YYYY-MM";case"quarter":return"YYYY[Q]Q";case"year":return"YYYY";default:return"YYYY-MM-DD"}},Te=function(Ot,ln){Array.isArray(Ot)?Ot.forEach(ln):Object.keys(Ot).forEach(function(Sn){ln(Ot[Sn],Sn)})},we=function cn(Ot,ln,Sn){if(!Ot)return Sn;for(var Kn=ln.split("."),tr=[],fr=Ot,ir=!1,Rr=0;Rr<Kn.length;Rr++){var Tr,Xr=Kn[Rr];if(Array.isArray(fr)){ir=!0;var Gr=d()(fr),po;try{for(Gr.s();!(po=Gr.n()).done;){var So=po.value,Co=cn(So,Kn.slice(Rr).join("."),Sn);tr=tr.concat(Co)}}catch(bo){Gr.e(bo)}finally{Gr.f()}break}if(((Tr=fr)===null||Tr===void 0?void 0:Tr[Xr])===void 0)break;fr=fr[Xr],Rr===Kn.length-1&&tr.push(fr)}return tr=tr.filter(function(bo){return bo!==void 0}),tr.length===0?Sn:ir?tr.filter(function(bo){return bo!==null}):tr[0]},Ue=e(5574),je=e.n(Ue);function De(cn){if(!cn)return!1;var Ot=[cn.$and,cn.$or].filter(Boolean);return Ot.length==0?Object.keys(cn).length>0:Ot.some(function(ln){if(Array.isArray(ln))return ln.some(De);if(ln.$and||ln.$or)return De(ln);var Sn=Object.keys(ln),Kn=je()(Sn,1),tr=Kn[0];if(!tr||!ln[tr])return!1;var fr=Object.keys(ln[tr]),ir=je()(fr,1),Rr=ir[0];return!(!Rr||typeof ln[tr][Rr]=="undefined")})}var ye=e(36696),_e=e.n(ye);function q(cn){var Ot=m()(cn);return Array.isArray(cn)?Ot="array":cn instanceof Date?Ot="date":cn===null&&(Ot="null"),Ot}function pe(cn){var Ot,ln=cn.substr(2,cn.length-4).trim(),Sn=ln.indexOf(":");return Sn!==-1?Ot={key:ln.substr(0,Sn),defaultValue:ln.substr(Sn+1)}:Ot={key:ln},Ot}function Re(cn,Ot){return Object.assign(cn,{parameters:_e()(Ot,function(ln){return ln.key})}),cn}function Oe(cn){switch(q(cn)){case"string":return $e(cn);case"object":return Ve(cn);case"array":return Ze(cn);default:return Re(function(){return cn},[])}}var $e=function(){var cn=/{{(\w|:|[\s-+.,@///()?=*_$])+}}/g;return function(Ot){var ln=[],Sn=function(fr){return Ot},Kn=Ot.match(cn);return Kn&&(ln=Kn.map(pe),Sn=function(fr){return fr=fr||{},Kn.reduce(function(ir,Rr,Tr){var Xr=ln[Tr],Gr=(0,c.get)(fr,Xr.key);return typeof Gr=="undefined"&&(Gr=Xr.defaultValue),typeof Gr=="function"&&(Gr=Gr()),Ot.startsWith("{{")&&Ot.endsWith("}}")?Gr:(Gr instanceof Date&&(Gr=Gr.toISOString()),ir.replace(Rr,Gr==null?"":Gr))},Ot)}),Re(Sn,ln)}}();function Ve(cn){var Ot=Object.keys(cn).map(function(Kn){return{keyTemplate:$e(Kn),valueTemplate:Oe(cn[Kn])}}),ln=Ot.reduce(function(Kn,tr){return Kn.concat(tr.valueTemplate.parameters,tr.keyTemplate.parameters)},[]),Sn=function(tr){return Ot.reduce(function(fr,ir){return fr[ir.keyTemplate(tr)]=ir.valueTemplate(tr),fr},{})};return Re(Sn,ln)}function Ze(cn){var Ot=cn.map(Oe),ln=Ot.reduce(function(Kn,tr){return Kn.concat(tr.parameters)},[]),Sn=function(tr){return Ot.map(function(fr){return fr(tr)})};return Re(Sn,ln)}var qe=function(Ot){for(var ln,Sn=arguments.length,Kn=new Array(Sn>1?Sn-1:0),tr=1;tr<Sn;tr++)Kn[tr-1]=arguments[tr];(ln=console).error.apply(ln,[Ot].concat(Kn))},Qe=e(97857),ke=e.n(Qe),ft=e(9996),vt=e.n(ft),_t=function(Ot,ln,Sn){return ln};function Nt(cn,Ot,ln){return vt()(cn,Ot,ke()({arrayMerge:_t},ln))}var Kt=e(26855),ut=function(Ot){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"info",Sn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5e3;Kt.Z[ln]({message:Ot,duration:Sn})},Rt=e(55252),Dt=e(8150);function dt(cn,Ot){if(typeof cn=="undefined"||cn===null||cn==="")return"";var ln=(0,Rt.NX)(Ot);return(0,Dt.FH)(String(cn),".",ln)}var Bt=e(19632),He=e.n(Bt),ct=e(36968),St=e.n(ct),Tt=e(30381),Mt=e.n(Tt),Zt=/^\s*\{\{([\s\S]*)\}\}\s*$/;function Je(cn){return cn&&cn.constructor&&typeof cn.constructor.isBuffer=="function"&&cn.constructor.isBuffer(cn)}function et(cn){return cn}function rt(cn,Ot){Ot=Ot||{};var ln=Ot.delimiter||".",Sn=Ot.maxDepth,Kn=Ot.transformKey||et,tr=Ot.transformValue||et,fr={};function ir(Rr,Tr,Xr){Xr=Xr||1,i().isObjectLike(Rr)&&Object.keys(Rr).forEach(function(Gr){var po,So,Co=Rr[Gr],bo=Ot.safe&&Array.isArray(Co),ko=Object.prototype.toString.call(Co),Oo=Je(Co),ta=ko==="[object Object]"||ko==="[object Array]",Nr=Tr?Tr+ln+Kn(Gr):Kn(Gr);if((po=(So=Ot).breakOn)!==null&&po!==void 0&&po.call(So,{key:Gr,value:Co,path:Nr})){fr[Nr]=tr(Co,Nr);return}if(!bo&&!Oo&&ta&&Object.keys(Co).length&&(!Ot.maxDepth||Xr<Sn))return ir(Co,Nr,Xr+1);fr[Nr]=tr(Co,Nr)})}return ir(cn),fr}function yt(cn){for(var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ln={},Sn=Ot.transformValue||et,Kn=0,tr=Object.keys(cn);Kn<tr.length;Kn++){var fr=tr[Kn];St()(ln,fr,Sn(cn[fr],fr))}return ln}var xt=function(Ot){var ln=Ot.split(".").pop()||"";return ln.startsWith("$")||(ln=""),{operator:ln}},Ct=function(Ot){return["$dateOn","$dateNotOn","$dateBefore","$dateAfter","$dateNotBefore","$dateNotAfter","$dateBetween"].includes(Ot)};function mt(cn){return cn instanceof Date||Object.prototype.toString.call(cn)==="[object Date]"}var at=function(Ot,ln){if(!Ot)return null;if(Array.isArray(Ot))return Ot.length===2?Ot.push("[]",ln):Ot.length===3&&Ot.push(ln),Ot;if(typeof Ot=="string")return!ln||/(\+|-)\d\d:\d\d$/.test(Ot)?Ot:Ot+ln;if(mt(Ot))return Ot.toISOString()},ht=function(){var cn=t()(u()().mark(function Ot(ln){var Sn,Kn,tr,fr,ir,Rr,Tr,Xr,Gr=arguments;return u()().wrap(function(So){for(;;)switch(So.prev=So.next){case 0:if(Sn=Gr.length>1&&Gr[1]!==void 0?Gr[1]:{},Kn=new Set,tr=Sn.vars||{},fr=Sn.timezone,ir=Sn.now,Rr=Sn.getField,Tr=rt(ln,{breakOn:function(bo){var ko=bo.key;return ko.startsWith("$")&&ko!=="$and"&&ko!=="$or"},transformValue:function(bo){if(typeof bo!="string")return bo;var ko=Zt.exec(bo);if(ko){var Oo=ko[1].trim();Oo.startsWith("$user")&&Kn.add(Oo.substring(6))}return bo}}),!(Kn.size>0)){So.next=12;break}return So.next=10,tr.$user({fields:He()(Kn.values())});case 10:Xr=So.sent,Object.assign(tr,{$user:Xr});case 12:return So.abrupt("return",yt(Tr,{transformValue:function(bo,ko){var Oo=xt(ko),ta=Oo.operator;if(typeof bo=="string"){var Nr=Zt.exec(bo);if(Nr){var Ko=Nr[1].trim(),co=we(tr,Ko,null),Io=Rr==null?void 0:Rr(ko);bo=typeof co=="function"?co==null?void 0:co({field:Io,operator:ta,timezone:fr,now:ir}):co}}if(Ct(ta)){var oo=Rr==null?void 0:Rr(ko);return at(bo,(oo==null?void 0:oo.timezone)||fr)}return bo}}));case 13:case"end":return So.stop()}},Ot)}));return function(ln){return cn.apply(this,arguments)}}();function ot(cn){var Ot=cn.now,ln=cn.timezone,Sn=ln===void 0?"+00:00":ln,Kn=cn.offset,tr=kt(Ot).utcOffset(Ae(Sn));return Kn>0?[(tr=tr.add(1,"day").startOf("day")).format("YYYY-MM-DD"),tr.clone().add(Kn,"day").startOf("day").format("YYYY-MM-DD"),"[)",Sn]:[tr.clone().subtract(-1*Kn-1,"day").startOf("day").format("YYYY-MM-DD"),tr.clone().add(1,"day").startOf("day").format("YYYY-MM-DD"),"[)",Sn]}function kt(cn){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return cn?f().isDayjs(cn)?cn:Ot?Mt()(cn):f()(cn):Ot?Mt()():f()()}function nn(cn){var Ot,ln=cn.now,Sn=cn.unit,Kn=cn.timezone,tr=Kn===void 0?"+00:00":Kn,fr=cn.offset,ir=kt(ln,Sn==="isoWeek");ir=ir.utcOffset(Ae(tr)),ir=ir.startOf(Sn),fr>0?ir=ir.add(fr,Sn):fr<0&&(ir=ir.subtract(-1*fr,Sn));var Rr={year:function(){return ir.format("YYYY")},quarter:function(){return ir.format("YYYY[Q]Q")},month:function(){return ir.format("YYYY-MM")},week:function(){return ir.format("gggg[w]ww")},isoWeek:function(){return ir.format("GGGG[W]WW")},day:function(){return ir.format("YYYY-MM-DD")}},Tr=(Ot=Rr[Sn])===null||Ot===void 0?void 0:Ot.call(Rr);return tr?Tr+tr:Tr}var Lt=function(Ot,ln){return function(Sn){var Kn,tr=(Sn==null||(Kn=Sn.field)===null||Kn===void 0?void 0:Kn.timezone)||(Sn==null?void 0:Sn.timezone);return nn({now:Sn==null?void 0:Sn.now,timezone:tr,unit:Ot,offset:ln})}},hn=function(Ot){return function(ln){var Sn=ln||{},Kn=Sn.now,tr=Sn.timezone,fr=Sn.field;return fr!=null&&fr.timezone&&(tr=fr==null?void 0:fr.timezone),ot({now:Kn,timezone:tr,offset:Ot})}};function Dn(){return{now:new Date().toISOString(),today:Lt("day"),yesterday:Lt("day",-1),tomorrow:Lt("day",1),thisWeek:Lt("week"),lastWeek:Lt("week",-1),nextWeek:Lt("week",1),thisIsoWeek:Lt("isoWeek"),lastIsoWeek:Lt("isoWeek",-1),nextIsoWeek:Lt("isoWeek",1),thisMonth:Lt("month"),lastMonth:Lt("month",-1),nextMonth:Lt("month",1),thisQuarter:Lt("quarter"),lastQuarter:Lt("quarter",-1),nextQuarter:Lt("quarter",1),thisYear:Lt("year"),lastYear:Lt("year",-1),nextYear:Lt("year",1),last7Days:hn(-7),next7Days:hn(7),last30Days:hn(-30),next30Days:hn(30),last90Days:hn(-90),next90Days:hn(90)}}function Gt(cn){var Ot=cn.split(".");return[Ot.shift(),Ot.join(".")]}for(var mn=e(9783),qt=e.n(mn),$t=function(){function cn(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{override:!1};W()(this,cn),qt()(this,"map",new Map),qt()(this,"options",void 0),this.options=Ot}return J()(cn,[{key:"register",value:function(ln,Sn){if(!this.options.override&&this.map.has(ln))throw new Error('this registry does not allow to override existing keys: "'.concat(ln,'"'));this.map.set(ln,Sn)}},{key:"get",value:function(ln){return this.map.get(ln)}},{key:"getKeys",value:function(){return this.map.keys()}},{key:"getValues",value:function(){return this.map.values()}},{key:"getEntities",value:function(){return this.map.entries()}}]),cn}(),Pn=null,vn=function(Ot){for(;Ot;){var ln;if(Ot.id==="root"||(ln=Ot.classList)!==null&&ln!==void 0&&ln.contains("nb-action"))return!1;Ot=Ot.parentNode}return!{NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.__TEST__},sn=36,Rn="";sn--;)Rn+=sn.toString(36);function un(cn){for(var Ot="",ln=cn||11;ln--;)Ot+=Rn[Math.random()*36|0];return Ot}function jt(cn){var Ot;try{Ot=new URL(cn)}catch(ln){return!1}return Ot.protocol==="http:"||Ot.protocol==="https:"}function rn(cn){var Ot,ln;try{var Sn,Kn=new URL(cn==null||(Sn=cn.request)===null||Sn===void 0||(Sn=Sn.header)===null||Sn===void 0?void 0:Sn.origin);ln=Kn.protocol.slice(0,-1)}catch(fr){ln="http"}var tr=(cn==null||(Ot=cn.headers)===null||Ot===void 0?void 0:Ot.host)||"";return{protocol:ln,host:tr}}var An=e(67294),En=(0,An.createContext)(null),gn=function(Ot){var ln=[];for(var Sn in Ot){var Kn=d()(Ot[Sn]),tr;try{for(Kn.s();!(tr=Kn.n()).done;){var fr=tr.value;for(var ir in fr)for(var Rr in fr[ir])ln.push(qt()({},ir,fr[ir][Rr]))}}catch(Tr){Kn.e(Tr)}finally{Kn.f()}}return ln},jn=e(93162),Yt={xlsx:function(){var cn=t()(u()().mark(function ln(){return u()().wrap(function(Kn){for(;;)switch(Kn.prev=Kn.next){case 0:return Kn.next=2,Promise.all([e.e(4945),e.e(2565)]).then(e.t.bind(e,7869,23));case 2:return Kn.abrupt("return",Kn.sent);case 3:case"end":return Kn.stop()}},ln)}));function Ot(){return cn.apply(this,arguments)}return Ot}(),"html5-qrcode":function(){var cn=t()(u()().mark(function ln(){return u()().wrap(function(Kn){for(;;)switch(Kn.prev=Kn.next){case 0:return Kn.next=2,e.e(8115).then(e.bind(e,96916));case 2:return Kn.abrupt("return",Kn.sent);case 3:case"end":return Kn.stop()}},ln)}));function Ot(){return cn.apply(this,arguments)}return Ot}(),"leader-line":function(){var cn=t()(u()().mark(function ln(){return u()().wrap(function(Kn){for(;;)switch(Kn.prev=Kn.next){case 0:return Kn.next=2,e.e(2181).then(e.bind(e,17610));case 2:return Kn.abrupt("return",Kn.sent);case 3:case"end":return Kn.stop()}},ln)}));function Ot(){return cn.apply(this,arguments)}return Ot}()},gt=function(){var cn=t()(u()().mark(function Ot(ln){var Sn,Kn,tr;return u()().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if((Sn=window)!==null&&Sn!==void 0&&Sn[ln]){ir.next=8;break}if(Kn=Yt[ln],Kn){ir.next=4;break}throw new Error("Package ".concat(ln," not found"));case 4:return ir.next=6,Kn();case 6:tr=ir.sent,window[ln]=tr.default||tr;case 8:return ir.abrupt("return",window[ln]);case 9:case"end":return ir.stop()}},Ot)}));return function(ln){return cn.apply(this,arguments)}}(),wt=function(){var cn=t()(u()().mark(function Ot(ln,Sn,Kn){var tr,fr,ir,Rr,Tr,Xr,Gr,po=arguments;return u()().wrap(function(Co){for(;;)switch(Co.prev=Co.next){case 0:return tr=po.length>3&&po[3]!==void 0?po[3]:[],fr=po.length>4&&po[4]!==void 0?po[4]:"Sheet1",Co.next=4,gt("xlsx");case 4:if(ir=Co.sent,Rr=ir.utils.json_to_sheet(Sn.length>0?Sn:[{}],{header:tr}),Tr={Sheets:qt()({},fr,Rr),SheetNames:[fr]},Xr=ir.write(Tr,{bookType:"xlsx",type:"array"}),Gr=new Blob([Xr],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),!nr){Co.next=12;break}return Mr(ln,Gr,Kn),Co.abrupt("return");case 12:(0,jn.saveAs)(Gr,Kn);case 13:case"end":return Co.stop()}},Ot)}));return function(ln,Sn,Kn){return cn.apply(this,arguments)}}();function Vt(cn){return new Promise(function(Ot,ln){var Sn=new FileReader;Sn.onload=function(){var Kn=t()(u()().mark(function tr(fr){var ir,Rr,Tr,Xr,Gr;return u()().wrap(function(So){for(;;)switch(So.prev=So.next){case 0:return So.prev=0,So.next=3,gt("xlsx");case 3:ir=So.sent,Rr=fr.target.result,Tr=ir.read(Rr,{type:"array",cellDates:!0}),Xr=Tr.Sheets[Tr.SheetNames[0]],Gr=ir.utils.sheet_to_json(Xr,{header:1}),Ot(Gr),So.next=14;break;case 11:So.prev=11,So.t0=So.catch(0),ln(So.t0);case 14:case"end":return So.stop()}},tr,null,[[0,11]])}));return function(tr){return Kn.apply(this,arguments)}}(),Sn.onerror=function(Kn){ln(Kn.target.error)},Sn.readAsArrayBuffer(cn)})}var It=(0,An.createContext)(null);function zt(cn,Ot){return"/app/".concat(Ot,"/console/workflow/workflows/").concat(cn)}function In(cn,Ot){return"/app/".concat(Ot,"/console/workflow/executions/").concat(cn)}function Tn(cn){return"/app/".concat(cn,"/console/workflow/list")}function en(cn){return"/app/".concat(cn,"/console/workflow")}function qn(cn,Ot){return cn.replace(/\{\{(\w+)\}\}/g,function(ln,Sn){return typeof Ot[Sn]!="undefined"?Ot[Sn]:ln})}var er={},ar=function(){},nr=window.Flutter,rr=1;function hr(cn){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ln=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ar,Sn={method:cn,callID:rr,data:Ot},Kn=JSON.stringify(Sn);window.Flutter?(er[rr]=ln,window.Flutter.postMessage(Kn)):console.warn("Not in Flutter environment",Kn),rr++}function Ar(cn,Ot){er[cn](Ot),er[cn]=null,delete er[cn]}function _r(cn,Ot){cn=0,er[cn](Ot),er[cn]=null,delete er[cn]}function Ir(){var cn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ar,ln=0,Sn=ke()({method:"download",callID:ln},cn);er[ln]=Ot,window.Flutter.postMessage(JSON.stringify(Sn))}function Sr(cn){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ln=window.location.origin,Sn=cn.url.startsWith("http")?cn.url:"".concat(ln).concat(cn.url);Ir({download_id:cn.id,url:Sn,file_name:Ot||"".concat(cn.title).concat(cn.extname)},function(Kn){})}function Mr(cn,Ot,ln){var Sn=new FormData;Sn.append("file",Ot),cn.axios.post("attachments:create",Sn).then(function(Kn){var tr=Kn.data;tr&&Sr(tr.data,ln)}).catch(function(Kn){Lr(Kn)}).finally(function(){})}window.JSBridgeCallback=Ar,window.JSBridgeDownloadCallback=_r;var Br=function(){function cn(){W()(this,cn),qt()(this,"dbName","offlineForms"),qt()(this,"formStoreName","pendingForms"),qt()(this,"db",null)}return J()(cn,[{key:"fileToSerializable",value:function(){var Ot=t()(u()().mark(function Sn(Kn){return u()().wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:return fr.abrupt("return",new Promise(function(ir,Rr){var Tr=new FileReader;Tr.onload=function(){ir({name:Kn.name,type:Kn.type,size:Kn.size,lastModified:Kn.lastModified,data:Tr.result})},Tr.onerror=Rr,Tr.readAsDataURL(Kn)}));case 1:case"end":return fr.stop()}},Sn)}));function ln(Sn){return Ot.apply(this,arguments)}return ln}()},{key:"serializedToFile",value:function(){var Ot=t()(u()().mark(function Sn(Kn){var tr,fr;return u()().wrap(function(Rr){for(;;)switch(Rr.prev=Rr.next){case 0:return Rr.next=2,fetch(Kn.data);case 2:return tr=Rr.sent,Rr.next=5,tr.blob();case 5:return fr=Rr.sent,Rr.abrupt("return",new File([fr],Kn.name,{type:Kn.type,lastModified:Kn.lastModified}));case 7:case"end":return Rr.stop()}},Sn)}));function ln(Sn){return Ot.apply(this,arguments)}return ln}()},{key:"init",value:function(){var Ot=t()(u()().mark(function Sn(){var Kn=this;return u()().wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:if(typeof indexedDB!="undefined"){fr.next=2;break}return fr.abrupt("return",Promise.reject("indexedDB not support"));case 2:return fr.abrupt("return",new Promise(function(ir,Rr){var Tr=indexedDB.open(Kn.dbName,1);Tr.onerror=function(){return Rr(Tr.error)},Tr.onsuccess=function(){Kn.db=Tr.result,ir(!0)},Tr.onupgradeneeded=function(Xr){var Gr=Xr.target.result;Gr.objectStoreNames.contains(Kn.formStoreName)||Gr.createObjectStore(Kn.formStoreName,{keyPath:"id"})}}));case 3:case"end":return fr.stop()}},Sn)}));function ln(){return Ot.apply(this,arguments)}return ln}()},{key:"getPendingForms",value:function(){var Ot=t()(u()().mark(function Sn(){var Kn=this;return u()().wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:if(this.db){fr.next=3;break}return fr.next=3,this.init();case 3:return fr.abrupt("return",new Promise(function(ir,Rr){var Tr=Kn.db.transaction([Kn.formStoreName],"readonly"),Xr=Tr.objectStore(Kn.formStoreName),Gr=Xr.getAll();Gr.onsuccess=function(){return ir(Gr.result)},Gr.onerror=function(){return Rr(Gr.error)}}));case 4:case"end":return fr.stop()}},Sn,this)}));function ln(){return Ot.apply(this,arguments)}return ln}()},{key:"removeForm",value:function(){var Ot=t()(u()().mark(function Sn(Kn){var tr=this;return u()().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(this.db){ir.next=3;break}return ir.next=3,this.init();case 3:return ir.abrupt("return",new Promise(function(Rr,Tr){var Xr=tr.db.transaction([tr.formStoreName],"readwrite"),Gr=Xr.objectStore(tr.formStoreName),po=Gr.delete(Kn);po.onsuccess=function(){return Rr(!0)},po.onerror=function(){return Tr(po.error)}}));case 4:case"end":return ir.stop()}},Sn,this)}));function ln(Sn){return Ot.apply(this,arguments)}return ln}()},{key:"saveForm",value:function(){var Ot=t()(u()().mark(function Sn(Kn){var tr=this,fr,ir,Rr,Tr,Xr,Gr,po,So,Co,bo;return u()().wrap(function(Oo){for(;;)switch(Oo.prev=Oo.next){case 0:if(fr=Kn.formXuid,ir=Kn.formData,Rr=Kn.activeAttachmentFields,Tr=Kn.submitConfig,this.db){Oo.next=4;break}return Oo.next=4,this.init();case 4:Xr=(0,c.cloneDeep)(ir),Gr=d()(Rr),Oo.prev=6,So=u()().mark(function ta(){var Nr,Ko,co;return u()().wrap(function(oo){for(;;)switch(oo.prev=oo.next){case 0:if(Nr=po.value,Ko=Nr.name,co="".concat(Nr.target,":create").concat(Nr.storage?"?attachmentField=".concat(Nr.collectionName,".").concat(Nr.name):""),!Array.isArray(Xr[Ko])){oo.next=9;break}return oo.next=6,Promise.all(Xr[Ko].map(function(){var Yo=t()(u()().mark(function _o(Uo){return u()().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.t0=ke(),We.t1=ke()({},Uo),We.t2={},We.next=5,tr.fileToSerializable(Uo.originFileObj);case 5:return We.t3=We.sent,We.t4=co,We.t5={originFileObj:We.t3,uploadAction:We.t4},We.abrupt("return",(0,We.t0)(We.t1,We.t2,We.t5));case 9:case"end":return We.stop()}},_o)}));return function(_o){return Yo.apply(this,arguments)}}()));case 6:Xr[Ko]=oo.sent,oo.next=19;break;case 9:if(!Xr[Ko]){oo.next=19;break}return oo.t0=ke(),oo.t1=ke()({},Xr[Ko]),oo.t2={},oo.next=15,tr.fileToSerializable(Xr[Ko].originFileObj);case 15:oo.t3=oo.sent,oo.t4=co,oo.t5={originFileObj:oo.t3,uploadAction:oo.t4},Xr[Ko]=(0,oo.t0)(oo.t1,oo.t2,oo.t5);case 19:case"end":return oo.stop()}},ta)}),Gr.s();case 9:if((po=Gr.n()).done){Oo.next=13;break}return Oo.delegateYield(So(),"t0",11);case 11:Oo.next=9;break;case 13:Oo.next=18;break;case 15:Oo.prev=15,Oo.t1=Oo.catch(6),Gr.e(Oo.t1);case 18:return Oo.prev=18,Gr.f(),Oo.finish(18);case 21:return Co=Date.now(),bo={id:"form-".concat(fr,"-").concat(Co),formData:Xr,activeAttachmentFields:Rr,timestamp:Co,submitConfig:Tr},Oo.abrupt("return",new Promise(function(ta,Nr){var Ko=tr.db.transaction([tr.formStoreName],"readwrite"),co=Ko.objectStore(tr.formStoreName),Io=co.add(bo);Io.onsuccess=function(){return ta(bo.id)},Io.onerror=function(){return Nr(Io.error)}}));case 24:case"end":return Oo.stop()}},Sn,this,[[6,15,18,21]])}));function ln(Sn){return Ot.apply(this,arguments)}return ln}()},{key:"processFormById",value:function(){var Ot=t()(u()().mark(function Sn(Kn,tr,fr){var ir=this,Rr,Tr,Xr,Gr,po,So,Co,bo,ko,Oo;return u()().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:return Nr.next=2,this.getPendingForms();case 2:if(Rr=Nr.sent,Tr=Rr.find(function(Ko){return Ko.id===Kn}),Tr){Nr.next=6;break}throw new Error("Failed to process form ".concat(Tr.id,": not exist"));case 6:Nr.prev=6,Xr=ke()({},Tr.formData),Gr=Tr.activeAttachmentFields,po=d()(Gr),Nr.prev=10,po.s();case 12:if((So=po.n()).done){Nr.next=36;break}if(Co=So.value,bo=Co.name,!Array.isArray(Xr[bo])){Nr.next=21;break}return Nr.next=18,Promise.all(Xr[bo].map(function(){var Ko=t()(u()().mark(function co(Io){var oo,Yo;return u()().wrap(function(Uo){for(;;)switch(Uo.prev=Uo.next){case 0:return Uo.t0=ke(),Uo.t1=ke()({},Io),Uo.t2={},Uo.next=5,ir.serializedToFile(Io.originFileObj);case 5:return Uo.t3=Uo.sent,Uo.t4={originFileObj:Uo.t3},oo=(0,Uo.t0)(Uo.t1,Uo.t2,Uo.t4),Uo.next=10,tr(oo);case 10:return Yo=Uo.sent,Uo.abrupt("return",Yo);case 12:case"end":return Uo.stop()}},co)}));return function(co){return Ko.apply(this,arguments)}}()));case 18:Xr[bo]=Nr.sent,Nr.next=34;break;case 21:if(!Xr[bo]){Nr.next=34;break}return Nr.t0=ke(),Nr.t1=ke()({},Xr[bo]),Nr.t2={},Nr.next=27,this.serializedToFile(Xr[bo].originFileObj);case 27:return Nr.t3=Nr.sent,Nr.t4={originFileObj:Nr.t3},ko=(0,Nr.t0)(Nr.t1,Nr.t2,Nr.t4),Nr.next=32,tr(ko);case 32:Oo=Nr.sent,Xr[bo]=Oo;case 34:Nr.next=12;break;case 36:Nr.next=41;break;case 38:Nr.prev=38,Nr.t5=Nr.catch(10),po.e(Nr.t5);case 41:return Nr.prev=41,po.f(),Nr.finish(41);case 44:return Nr.next=46,fr(Xr,Tr.submitConfig);case 46:return Nr.next=48,this.removeForm(Tr.id);case 48:Nr.next=53;break;case 50:throw Nr.prev=50,Nr.t6=Nr.catch(6),new Error("Failed to process form ".concat(Tr.id,": ").concat(Nr.t6));case 53:case"end":return Nr.stop()}},Sn,this,[[6,50],[10,38,41,44]])}));function ln(Sn,Kn,tr){return Ot.apply(this,arguments)}return ln}()}]),cn}(),Mn=new Br,Wt=function(Ot){for(var ln=Ot;ln;){if(ln["x-decorator"]==="FormBlockProvider")return!0;ln=ln.parent}return!1},Ft=function(Ot){for(var ln=Ot;ln;){if(ln["x-settings"]==="blockSettings:createForm"&&ln["x-decorator"]==="FormBlockProvider")return ln;ln=ln.parent}return null},an=function(){var Ot=new URLSearchParams(location.search),ln=Object.fromEntries(Ot.entries());return ln.mobilePreview==="true"},Bn=function(){var Ot=navigator.userAgent.toLowerCase(),ln=Ot.match(/ipad/i)=="ipad",Sn=Ot.match(/iphone os/i)=="iphone os",Kn=Ot.match(/midp/i)=="midp",tr=Ot.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",fr=Ot.match(/ucweb/i)=="ucweb",ir=Ot.match(/android/i)=="android",Rr=Ot.match(/windows ce/i)=="windows ce",Tr=Ot.match(/windows mobile/i)=="windows mobile";return ln||Sn||Kn||tr||fr||ir||Rr||Tr||an()?"md":"pc"},Un=navigator.userAgent,Gn=!!Un.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),mr=Bn(),dr=mr==="md",Hr=function cn(Ot,ln){return I.Schema.isSchemaInstance(Ot)||(Ot=new I.Schema(Ot)),Ot.reduceProperties(function(Sn,Kn){if(ln(Kn))return Kn;var tr=cn(Kn,ln);return tr||Sn})},Lr=function(Ot){for(var ln,Sn=arguments.length,Kn=new Array(Sn>1?Sn-1:0),tr=1;tr<Sn;tr++)Kn[tr-1]=arguments[tr];(ln=console).error.apply(ln,[Ot].concat(Kn))},Zr=function(){var cn=t()(u()().mark(function Ot(){var ln,Sn,Kn,tr;return u()().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:return ir.prev=0,ir.next=3,caches.keys();case 3:ln=ir.sent,Sn=d()(ln),ir.prev=5,Sn.s();case 7:if((Kn=Sn.n()).done){ir.next=15;break}if(tr=Kn.value,!tr.includes("precache")){ir.next=11;break}return ir.abrupt("continue",13);case 11:return ir.next=13,caches.delete(tr);case 13:ir.next=7;break;case 15:ir.next=20;break;case 17:ir.prev=17,ir.t0=ir.catch(5),Sn.e(ir.t0);case 20:return ir.prev=20,Sn.f(),ir.finish(20);case 23:ir.next=28;break;case 25:ir.prev=25,ir.t1=ir.catch(0),Lr(ir.t1);case 28:return ir.prev=28,window.location.reload(),ir.finish(28);case 31:case"end":return ir.stop()}},Ot,null,[[0,25,28,31],[5,17,20,23]])}));return function(){return cn.apply(this,arguments)}}(),no=function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:300;return new Promise(function(ln){setTimeout(function(){ln(!0)},Ot)})},Jr=function(Ot){for(var ln=Ot;ln;){if(ln["x-decorator"]==="AuditCardFormCollapse")return!0;ln=ln.parent}return!1};function ho(cn){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i().transform(cn,function(ln,Sn,Kn){if(Sn!==null&&m()(Sn)==="object"&&!Ot.includes(Kn)){ln[Kn]=ho(Sn,Ot);return}if(Ot.includes(Kn)){var tr=Object.keys(Sn)[0];ln["".concat(Kn,"|").concat(tr)]=Sn[tr]}else ln[Kn]=Sn},Array.isArray(cn)?[]:{})}var eo=function(){return location.pathname.includes("/console/design/")||location.pathname.includes("/console/workflow/workflows")},ro=function(Ot,ln){if((Ot==null?void 0:Ot.interface)==="formula")return"$includes";if(Ot!=null&&Ot.interface){var Sn,Kn=((Sn=ln(Ot.interface))===null||Sn===void 0||(Sn=Sn.filterable)===null||Sn===void 0?void 0:Sn.operators)||[];if(Kn.length>0){var tr=!!Kn.find(function(fr){return fr.value==="$includes"});return tr?"$includes":Kn[0].value}}return"$includes"};function qr(cn,Ot){var ln=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"local";try{var Sn=JSON.stringify(Ot),Kn=btoa(encodeURIComponent(Sn)),tr=ln==="local"?localStorage:sessionStorage;return tr.setItem(cn,Kn),!0}catch(fr){return Lr(fr),!1}}function ao(cn){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local";try{var ln=Ot==="local"?localStorage:sessionStorage,Sn=ln.getItem(cn);if(!Sn)return null;var Kn=decodeURIComponent(atob(Sn));return JSON.parse(Kn)}catch(tr){return Lr(tr),null}}var io=function(Ot){return Ot.toLowerCase().replace(/\s+/g,"_").replace(/[^A-Za-z_]/g,"")},Eo=function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"name";return function(ln){var Sn=ln.query(Ot).take();Sn&&!Sn.disabled&&(typeof ln.value=="string"?Sn.value=io(ln.value):Sn.value="")}}},58235:function(se,j,e){"use strict";var v=j;v.bignum=e(13550),v.define=e(3403).define,v.base=e(84849),v.constants=e(6468),v.decoders=e(3380),v.encoders=e(72992)},3403:function(se,j,e){"use strict";var v=e(72992),m=e(3380),x=e(35717),u=j;u.define=function(h,t){return new p(h,t)};function p(d,h){this.name=d,this.body=h,this.decoders={},this.encoders={}}p.prototype._createNamed=function(h){var t=this.name;function c(i){this._initNamed(i,t)}return x(c,h),c.prototype._initNamed=function(a,f){h.call(this,a,f)},new c(this)},p.prototype._getDecoder=function(h){return h=h||"der",this.decoders.hasOwnProperty(h)||(this.decoders[h]=this._createNamed(m[h])),this.decoders[h]},p.prototype.decode=function(h,t,c){return this._getDecoder(t).decode(h,c)},p.prototype._getEncoder=function(h){return h=h||"der",this.encoders.hasOwnProperty(h)||(this.encoders[h]=this._createNamed(v[h])),this.encoders[h]},p.prototype.encode=function(h,t,c){return this._getEncoder(t).encode(h,c)}},85371:function(se,j,e){"use strict";var v=e(52677).default,m=e(35717),x=e(29874).b,u=e(2399).Buffer;function p(h,t){if(x.call(this,t),!u.isBuffer(h)){this.error("Input not Buffer");return}this.base=h,this.offset=0,this.length=h.length}m(p,x),j.C=p,p.isDecoderBuffer=function(t){if(t instanceof p)return!0;var c=v(t)==="object"&&u.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function";return c},p.prototype.save=function(){return{offset:this.offset,reporter:x.prototype.save.call(this)}},p.prototype.restore=function(t){var c=new p(this.base);return c.offset=t.offset,c.length=this.offset,this.offset=t.offset,x.prototype.restore.call(this,t.reporter),c},p.prototype.isEmpty=function(){return this.offset===this.length},p.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},p.prototype.skip=function(t,c){if(!(this.offset+t<=this.length))return this.error(c||"DecoderBuffer overrun");var i=new p(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+t,this.offset+=t,i},p.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)};function d(h,t){if(Array.isArray(h))this.length=0,this.value=h.map(function(c){return d.isEncoderBuffer(c)||(c=new d(c,t)),this.length+=c.length,c},this);else if(typeof h=="number"){if(!(0<=h&&h<=255))return t.error("non-byte EncoderBuffer value");this.value=h,this.length=1}else if(typeof h=="string")this.value=h,this.length=u.byteLength(h);else if(u.isBuffer(h))this.value=h,this.length=h.length;else return t.error("Unsupported type: "+v(h))}j.R=d,d.isEncoderBuffer=function(t){if(t instanceof d)return!0;var c=v(t)==="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function";return c},d.prototype.join=function(t,c){return t||(t=u.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(t,c),c+=i.length}):(typeof this.value=="number"?t[c]=this.value:typeof this.value=="string"?t.write(this.value,c):u.isBuffer(this.value)&&this.value.copy(t,c),c+=this.length)),t}},84849:function(se,j,e){"use strict";var v=j;v.Reporter=e(29874).b,v.DecoderBuffer=e(85371).C,v.EncoderBuffer=e(85371).R,v.Node=e(81440)},81440:function(se,j,e){"use strict";var v=e(52677).default,m=e(29874).b,x=e(85371).R,u=e(85371).C,p=e(79746),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d),t=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(a,f,l){var n={};this._baseState=n,n.name=l,n.enc=a,n.parent=f||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}se.exports=c;var i=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var f=this._baseState,l={};i.forEach(function(r){l[r]=f[r]});var n=new this.constructor(l.parent);return n._baseState=l,n},c.prototype._wrap=function(){var f=this._baseState;h.forEach(function(l){this[l]=function(){var r=new this.constructor(this);return f.children.push(r),r[l].apply(r,arguments)}},this)},c.prototype._init=function(f){var l=this._baseState;p(l.parent===null),f.call(this),l.children=l.children.filter(function(n){return n._baseState.parent===this},this),p.equal(l.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){var l=this._baseState,n=f.filter(function(r){return r instanceof this.constructor},this);f=f.filter(function(r){return!(r instanceof this.constructor)},this),n.length!==0&&(p(l.children===null),l.children=n,n.forEach(function(r){r._baseState.parent=this},this)),f.length!==0&&(p(l.args===null),l.args=f,l.reverseArgs=f.map(function(r){if(v(r)!=="object"||r.constructor!==Object)return r;var o={};return Object.keys(r).forEach(function(g){g==(g|0)&&(g|=0);var y=r[g];o[y]=g}),o}))},t.forEach(function(a){c.prototype[a]=function(){var l=this._baseState;throw new Error(a+" not implemented for encoding: "+l.enc)}}),d.forEach(function(a){c.prototype[a]=function(){var l=this._baseState,n=Array.prototype.slice.call(arguments);return p(l.tag===null),l.tag=a,this._useArgs(n),this}}),c.prototype.use=function(f){p(f);var l=this._baseState;return p(l.use===null),l.use=f,this},c.prototype.optional=function(){var f=this._baseState;return f.optional=!0,this},c.prototype.def=function(f){var l=this._baseState;return p(l.default===null),l.default=f,l.optional=!0,this},c.prototype.explicit=function(f){var l=this._baseState;return p(l.explicit===null&&l.implicit===null),l.explicit=f,this},c.prototype.implicit=function(f){var l=this._baseState;return p(l.explicit===null&&l.implicit===null),l.implicit=f,this},c.prototype.obj=function(){var f=this._baseState,l=Array.prototype.slice.call(arguments);return f.obj=!0,l.length!==0&&this._useArgs(l),this},c.prototype.key=function(f){var l=this._baseState;return p(l.key===null),l.key=f,this},c.prototype.any=function(){var f=this._baseState;return f.any=!0,this},c.prototype.choice=function(f){var l=this._baseState;return p(l.choice===null),l.choice=f,this._useArgs(Object.keys(f).map(function(n){return f[n]})),this},c.prototype.contains=function(f){var l=this._baseState;return p(l.use===null),l.contains=f,this},c.prototype._decode=function(f,l){var n=this._baseState;if(n.parent===null)return f.wrapResult(n.children[0]._decode(f,l));var r=n.default,o=!0,g=null;if(n.key!==null&&(g=f.enterKey(n.key)),n.optional){var y=null;if(n.explicit!==null?y=n.explicit:n.implicit!==null?y=n.implicit:n.tag!==null&&(y=n.tag),y===null&&!n.any){var D=f.save();try{n.choice===null?this._decodeGeneric(n.tag,f,l):this._decodeChoice(f,l),o=!0}catch(Z){o=!1}f.restore(D)}else if(o=this._peekTag(f,y,n.any),f.isError(o))return o}var P;if(n.obj&&o&&(P=f.enterObject()),o){if(n.explicit!==null){var E=this._decodeTag(f,n.explicit);if(f.isError(E))return E;f=E}var O=f.offset;if(n.use===null&&n.choice===null){var T;n.any&&(T=f.save());var S=this._decodeTag(f,n.implicit!==null?n.implicit:n.tag,n.any);if(f.isError(S))return S;n.any?r=f.raw(T):f=S}if(l&&l.track&&n.tag!==null&&l.track(f.path(),O,f.length,"tagged"),l&&l.track&&n.tag!==null&&l.track(f.path(),f.offset,f.length,"content"),n.any||(n.choice===null?r=this._decodeGeneric(n.tag,f,l):r=this._decodeChoice(f,l)),f.isError(r))return r;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(K){K._decode(f,l)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){var $=new u(r);r=this._getUse(n.contains,f._reporterState.obj)._decode($,l)}}return n.obj&&o&&(r=f.leaveObject(P)),n.key!==null&&(r!==null||o===!0)?f.leaveKey(g,n.key,r):g!==null&&f.exitKey(g),r},c.prototype._decodeGeneric=function(f,l,n){var r=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(l,f,r.args[0],n):/str$/.test(f)?this._decodeStr(l,f,n):f==="objid"&&r.args?this._decodeObjid(l,r.args[0],r.args[1],n):f==="objid"?this._decodeObjid(l,null,null,n):f==="gentime"||f==="utctime"?this._decodeTime(l,f,n):f==="null_"?this._decodeNull(l,n):f==="bool"?this._decodeBool(l,n):f==="objDesc"?this._decodeStr(l,f,n):f==="int"||f==="enum"?this._decodeInt(l,r.args&&r.args[0],n):r.use!==null?this._getUse(r.use,l._reporterState.obj)._decode(l,n):l.error("unknown tag: "+f)},c.prototype._getUse=function(f,l){var n=this._baseState;return n.useDecoder=this._use(f,l),p(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(f,l){var n=this._baseState,r=null,o=!1;return Object.keys(n.choice).some(function(g){var y=f.save(),D=n.choice[g];try{var P=D._decode(f,l);if(f.isError(P))return!1;r={type:g,value:P},o=!0}catch(E){return f.restore(y),!1}return!0},this),o?r:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new x(f,this.reporter)},c.prototype._encode=function(f,l,n){var r=this._baseState;if(!(r.default!==null&&r.default===f)){var o=this._encodeValue(f,l,n);if(o!==void 0&&!this._skipDefault(o,l,n))return o}},c.prototype._encodeValue=function(f,l,n){var r=this._baseState;if(r.parent===null)return r.children[0]._encode(f,l||new m);var o=null;if(this.reporter=l,r.optional&&f===void 0)if(r.default!==null)f=r.default;else return;var g=null,y=!1;if(r.any)o=this._createEncoderBuffer(f);else if(r.choice)o=this._encodeChoice(f,l);else if(r.contains)g=this._getUse(r.contains,n)._encode(f,l),y=!0;else if(r.children)g=r.children.map(function(O){if(O._baseState.tag==="null_")return O._encode(null,l,f);if(O._baseState.key===null)return l.error("Child should have a key");var T=l.enterKey(O._baseState.key);if(v(f)!=="object")return l.error("Child expected, but input is not object");var S=O._encode(f[O._baseState.key],l,f);return l.leaveKey(T),S},this).filter(function(O){return O}),g=this._createEncoderBuffer(g);else if(r.tag==="seqof"||r.tag==="setof"){if(!(r.args&&r.args.length===1))return l.error("Too many args for : "+r.tag);if(!Array.isArray(f))return l.error("seqof/setof, but data is not Array");var D=this.clone();D._baseState.implicit=null,g=this._createEncoderBuffer(f.map(function(O){var T=this._baseState;return this._getUse(T.args[0],f)._encode(O,l)},D))}else r.use!==null?o=this._getUse(r.use,n)._encode(f,l):(g=this._encodePrimitive(r.tag,f),y=!0);if(!r.any&&r.choice===null){var P=r.implicit!==null?r.implicit:r.tag,E=r.implicit===null?"universal":"context";P===null?r.use===null&&l.error("Tag could be omitted only for .use()"):r.use===null&&(o=this._encodeComposite(P,y,E,g))}return r.explicit!==null&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(f,l){var n=this._baseState,r=n.choice[f.type];return r||p(!1,f.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(f.value,l)},c.prototype._encodePrimitive=function(f,l){var n=this._baseState;if(/str$/.test(f))return this._encodeStr(l,f);if(f==="objid"&&n.args)return this._encodeObjid(l,n.reverseArgs[0],n.args[1]);if(f==="objid")return this._encodeObjid(l,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(l,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(l,n.args&&n.reverseArgs[0]);if(f==="bool")return this._encodeBool(l);if(f==="objDesc")return this._encodeStr(l,f);throw new Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},29874:function(se,j,e){"use strict";var v=e(35717);function m(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}j.b=m,m.prototype.isError=function(p){return p instanceof x},m.prototype.save=function(){var p=this._reporterState;return{obj:p.obj,pathLen:p.path.length}},m.prototype.restore=function(p){var d=this._reporterState;d.obj=p.obj,d.path=d.path.slice(0,p.pathLen)},m.prototype.enterKey=function(p){return this._reporterState.path.push(p)},m.prototype.exitKey=function(p){var d=this._reporterState;d.path=d.path.slice(0,p-1)},m.prototype.leaveKey=function(p,d,h){var t=this._reporterState;this.exitKey(p),t.obj!==null&&(t.obj[d]=h)},m.prototype.path=function(){return this._reporterState.path.join("/")},m.prototype.enterObject=function(){var p=this._reporterState,d=p.obj;return p.obj={},d},m.prototype.leaveObject=function(p){var d=this._reporterState,h=d.obj;return d.obj=p,h},m.prototype.error=function(p){var d,h=this._reporterState,t=p instanceof x;if(t?d=p:d=new x(h.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),p.message||p,p.stack),!h.options.partial)throw d;return t||h.errors.push(d),d},m.prototype.wrapResult=function(p){var d=this._reporterState;return d.options.partial?{result:this.isError(p)?null:p,errors:d.errors}:p};function x(u,p){this.path=u,this.rethrow(p)}v(x,Error),x.prototype.rethrow=function(p){if(this.message=p+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,x),!this.stack)try{throw new Error(this.message)}catch(d){this.stack=d.stack}return this}},1929:function(se,j){"use strict";function e(v){var m={};return Object.keys(v).forEach(function(x){(x|0)==x&&(x=x|0);var u=v[x];m[u]=x}),m}j.tagClass={0:"universal",1:"application",2:"context",3:"private"},j.tagClassByName=e(j.tagClass),j.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},j.tagByName=e(j.tag)},6468:function(se,j,e){"use strict";var v=j;v._reverse=function(x){var u={};return Object.keys(x).forEach(function(p){(p|0)==p&&(p=p|0);var d=x[p];u[d]=p}),u},v.der=e(1929)},98451:function(se,j,e){"use strict";var v=e(35717),m=e(13550),x=e(85371).C,u=e(81440),p=e(1929);function d(i){this.enc="der",this.name=i.name,this.entity=i,this.tree=new h,this.tree._init(i.body)}se.exports=d,d.prototype.decode=function(a,f){return x.isDecoderBuffer(a)||(a=new x(a,f)),this.tree._decode(a,f)};function h(i){u.call(this,"der",i)}v(h,u),h.prototype._peekTag=function(a,f,l){if(a.isEmpty())return!1;var n=a.save(),r=t(a,'Failed to peek tag: "'+f+'"');return a.isError(r)?r:(a.restore(n),r.tag===f||r.tagStr===f||r.tagStr+"of"===f||l)},h.prototype._decodeTag=function(a,f,l){var n=t(a,'Failed to decode tag of "'+f+'"');if(a.isError(n))return n;var r=c(a,n.primitive,'Failed to get length of "'+f+'"');if(a.isError(r))return r;if(!l&&n.tag!==f&&n.tagStr!==f&&n.tagStr+"of"!==f)return a.error('Failed to match tag: "'+f+'"');if(n.primitive||r!==null)return a.skip(r,'Failed to match body of: "'+f+'"');var o=a.save(),g=this._skipUntilEnd(a,'Failed to skip indefinite length body: "'+this.tag+'"');return a.isError(g)?g:(r=a.offset-o.offset,a.restore(o),a.skip(r,'Failed to match body of: "'+f+'"'))},h.prototype._skipUntilEnd=function(a,f){for(;;){var l=t(a,f);if(a.isError(l))return l;var n=c(a,l.primitive,f);if(a.isError(n))return n;var r=void 0;if(l.primitive||n!==null?r=a.skip(n):r=this._skipUntilEnd(a,f),a.isError(r))return r;if(l.tagStr==="end")break}},h.prototype._decodeList=function(a,f,l,n){for(var r=[];!a.isEmpty();){var o=this._peekTag(a,"end");if(a.isError(o))return o;var g=l.decode(a,"der",n);if(a.isError(g)&&o)break;r.push(g)}return r},h.prototype._decodeStr=function(a,f){if(f==="bitstr"){var l=a.readUInt8();return a.isError(l)?l:{unused:l,data:a.raw()}}else if(f==="bmpstr"){var n=a.raw();if(n.length%2===1)return a.error("Decoding of string type: bmpstr length mismatch");for(var r="",o=0;o<n.length/2;o++)r+=String.fromCharCode(n.readUInt16BE(o*2));return r}else if(f==="numstr"){var g=a.raw().toString("ascii");return this._isNumstr(g)?g:a.error("Decoding of string type: numstr unsupported characters")}else{if(f==="octstr")return a.raw();if(f==="objDesc")return a.raw();if(f==="printstr"){var y=a.raw().toString("ascii");return this._isPrintstr(y)?y:a.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(f)?a.raw().toString():a.error("Decoding of string type: "+f+" unsupported")}},h.prototype._decodeObjid=function(a,f,l){for(var n,r=[],o=0,g=0;!a.isEmpty();)g=a.readUInt8(),o<<=7,o|=g&127,g&128||(r.push(o),o=0);g&128&&r.push(o);var y=r[0]/40|0,D=r[0]%40;if(l?n=r:n=[y,D].concat(r.slice(1)),f){var P=f[n.join(" ")];P===void 0&&(P=f[n.join(".")]),P!==void 0&&(n=P)}return n},h.prototype._decodeTime=function(a,f){var l=a.raw().toString(),n,r,o,g,y,D;if(f==="gentime")n=l.slice(0,4)|0,r=l.slice(4,6)|0,o=l.slice(6,8)|0,g=l.slice(8,10)|0,y=l.slice(10,12)|0,D=l.slice(12,14)|0;else if(f==="utctime")n=l.slice(0,2)|0,r=l.slice(2,4)|0,o=l.slice(4,6)|0,g=l.slice(6,8)|0,y=l.slice(8,10)|0,D=l.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return a.error("Decoding "+f+" time is not supported yet");return Date.UTC(n,r-1,o,g,y,D,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(a){var f=a.readUInt8();return a.isError(f)?f:f!==0},h.prototype._decodeInt=function(a,f){var l=a.raw(),n=new m(l);return f&&(n=f[n.toString(10)]||n),n},h.prototype._use=function(a,f){return typeof a=="function"&&(a=a(f)),a._getDecoder("der").tree};function t(i,a){var f=i.readUInt8(a);if(i.isError(f))return f;var l=p.tagClass[f>>6],n=(f&32)===0;if((f&31)===31){var r=f;for(f=0;(r&128)===128;){if(r=i.readUInt8(a),i.isError(r))return r;f<<=7,f|=r&127}}else f&=31;var o=p.tag[f];return{cls:l,primitive:n,tag:f,tagStr:o}}function c(i,a,f){var l=i.readUInt8(f);if(i.isError(l))return l;if(!a&&l===128)return null;if(!(l&128))return l;var n=l&127;if(n>4)return i.error("length octect is too long");l=0;for(var r=0;r<n;r++){l<<=8;var o=i.readUInt8(f);if(i.isError(o))return o;l|=o}return l}},3380:function(se,j,e){"use strict";var v=j;v.der=e(98451),v.pem=e(51058)},51058:function(se,j,e){"use strict";var v=e(35717),m=e(2399).Buffer,x=e(98451);function u(p){x.call(this,p),this.enc="pem"}v(u,x),se.exports=u,u.prototype.decode=function(d,h){for(var t=d.toString().split(/[\r\n]+/g),c=h.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,f=-1,l=0;l<t.length;l++){var n=t[l].match(i);if(n!==null&&n[2]===c)if(a===-1){if(n[1]!=="BEGIN")break;a=l}else{if(n[1]!=="END")break;f=l;break}}if(a===-1||f===-1)throw new Error("PEM section not found for: "+c);var r=t.slice(a+1,f).join("");r.replace(/[^a-z0-9+/=]+/gi,"");var o=m.from(r,"base64");return x.prototype.decode.call(this,o,h)}},82600:function(se,j,e){"use strict";var v=e(35717),m=e(2399).Buffer,x=e(81440),u=e(1929);function p(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new d,this.tree._init(c.body)}se.exports=p,p.prototype.encode=function(i,a){return this.tree._encode(i,a).join()};function d(c){x.call(this,"der",c)}v(d,x),d.prototype._encodeComposite=function(i,a,f,l){var n=t(i,a,f,this.reporter);if(l.length<128){var r=m.alloc(2);return r[0]=n,r[1]=l.length,this._createEncoderBuffer([r,l])}for(var o=1,g=l.length;g>=256;g>>=8)o++;var y=m.alloc(1+1+o);y[0]=n,y[1]=128|o;for(var D=1+o,P=l.length;P>0;D--,P>>=8)y[D]=P&255;return this._createEncoderBuffer([y,l])},d.prototype._encodeStr=function(i,a){if(a==="bitstr")return this._createEncoderBuffer([i.unused|0,i.data]);if(a==="bmpstr"){for(var f=m.alloc(i.length*2),l=0;l<i.length;l++)f.writeUInt16BE(i.charCodeAt(l),l*2);return this._createEncoderBuffer(f)}else return a==="numstr"?this._isNumstr(i)?this._createEncoderBuffer(i):this.reporter.error("Encoding of string type: numstr supports only digits and space"):a==="printstr"?this._isPrintstr(i)?this._createEncoderBuffer(i):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(a)?this._createEncoderBuffer(i):a==="objDesc"?this._createEncoderBuffer(i):this.reporter.error("Encoding of string type: "+a+" unsupported")},d.prototype._encodeObjid=function(i,a,f){if(typeof i=="string"){if(!a)return this.reporter.error("string objid given, but no values map found");if(!a.hasOwnProperty(i))return this.reporter.error("objid not found in values map");i=a[i].split(/[\s.]+/g);for(var l=0;l<i.length;l++)i[l]|=0}else if(Array.isArray(i)){i=i.slice();for(var n=0;n<i.length;n++)i[n]|=0}if(!Array.isArray(i))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(i));if(!f){if(i[1]>=40)return this.reporter.error("Second objid identifier OOB");i.splice(0,2,i[0]*40+i[1])}for(var r=0,o=0;o<i.length;o++){var g=i[o];for(r++;g>=128;g>>=7)r++}for(var y=m.alloc(r),D=y.length-1,P=i.length-1;P>=0;P--){var E=i[P];for(y[D--]=E&127;(E>>=7)>0;)y[D--]=128|E&127}return this._createEncoderBuffer(y)};function h(c){return c<10?"0"+c:c}d.prototype._encodeTime=function(i,a){var f,l=new Date(i);return a==="gentime"?f=[h(l.getUTCFullYear()),h(l.getUTCMonth()+1),h(l.getUTCDate()),h(l.getUTCHours()),h(l.getUTCMinutes()),h(l.getUTCSeconds()),"Z"].join(""):a==="utctime"?f=[h(l.getUTCFullYear()%100),h(l.getUTCMonth()+1),h(l.getUTCDate()),h(l.getUTCHours()),h(l.getUTCMinutes()),h(l.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+a+" time is not supported yet"),this._encodeStr(f,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(i,a){if(typeof i=="string"){if(!a)return this.reporter.error("String int or enum given, but no values map");if(!a.hasOwnProperty(i))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(i));i=a[i]}if(typeof i!="number"&&!m.isBuffer(i)){var f=i.toArray();!i.sign&&f[0]&128&&f.unshift(0),i=m.from(f)}if(m.isBuffer(i)){var l=i.length;i.length===0&&l++;var n=m.alloc(l);return i.copy(n),i.length===0&&(n[0]=0),this._createEncoderBuffer(n)}if(i<128)return this._createEncoderBuffer(i);if(i<256)return this._createEncoderBuffer([0,i]);for(var r=1,o=i;o>=256;o>>=8)r++;for(var g=new Array(r),y=g.length-1;y>=0;y--)g[y]=i&255,i>>=8;return g[0]&128&&g.unshift(0),this._createEncoderBuffer(m.from(g))},d.prototype._encodeBool=function(i){return this._createEncoderBuffer(i?255:0)},d.prototype._use=function(i,a){return typeof i=="function"&&(i=i(a)),i._getEncoder("der").tree},d.prototype._skipDefault=function(i,a,f){var l=this._baseState,n;if(l.default===null)return!1;var r=i.join();if(l.defaultBuffer===void 0&&(l.defaultBuffer=this._encodeValue(l.default,a,f).join()),r.length!==l.defaultBuffer.length)return!1;for(n=0;n<r.length;n++)if(r[n]!==l.defaultBuffer[n])return!1;return!0};function t(c,i,a,f){var l;if(c==="seqof"?c="seq":c==="setof"&&(c="set"),u.tagByName.hasOwnProperty(c))l=u.tagByName[c];else if(typeof c=="number"&&(c|0)===c)l=c;else return f.error("Unknown tag: "+c);return l>=31?f.error("Multi-octet tag encoding unsupported"):(i||(l|=32),l|=u.tagClassByName[a||"universal"]<<6,l)}},72992:function(se,j,e){"use strict";var v=j;v.der=e(82600),v.pem=e(12397)},12397:function(se,j,e){"use strict";var v=e(35717),m=e(82600);function x(u){m.call(this,u),this.enc="pem"}v(x,m),se.exports=x,x.prototype.encode=function(p,d){for(var h=m.prototype.encode.call(this,p),t=h.toString("base64"),c=["-----BEGIN "+d.label+"-----"],i=0;i<t.length;i+=64)c.push(t.slice(i,i+64));return c.push("-----END "+d.label+"-----"),c.join(`
`)}},75663:function(){"use strict"},75782:function(){"use strict"},36393:function(){"use strict"},51231:function(){"use strict"},81556:function(){"use strict"},38:function(se,j,e){"use strict";var v=e(67294);function m(x){return v.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},x,{style:Object.assign({verticalAlign:"-0.125em"},x.style),className:["antd-mobile-icon",x.className].filter(Boolean).join(" ")}),v.createElement("g",{id:"CheckOutline-CheckOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},v.createElement("g",{id:"CheckOutline-\u7F16\u7EC4"},v.createElement("rect",{id:"CheckOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),v.createElement("path",{d:"M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z",id:"CheckOutline-\u8DEF\u5F84",fill:"currentColor",fillRule:"nonzero"}))))}j.Z=m},20856:function(se,j,e){"use strict";var v=e(67294);function m(x){return v.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},x,{style:Object.assign({verticalAlign:"-0.125em"},x.style),className:["antd-mobile-icon",x.className].filter(Boolean).join(" ")}),v.createElement("g",{id:"CloseOutline-CloseOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},v.createElement("g",{id:"CloseOutline-\u7F16\u7EC4"},v.createElement("rect",{id:"CloseOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),v.createElement("path",{d:"M10.6085104,8.11754663 L24.1768397,21.8195031 L24.1768397,21.8195031 L37.7443031,8.1175556 C37.8194278,8.04168616 37.9217669,7.999 38.0285372,7.999 L41.1040268,7.999 C41.3249407,7.999 41.5040268,8.1780861 41.5040268,8.399 C41.5040268,8.50440471 41.4624226,8.60554929 41.3882578,8.68044752 L26.2773302,23.9408235 L26.2773302,23.9408235 L41.5021975,39.3175645 C41.65763,39.4745475 41.6563731,39.7278104 41.4993901,39.8832429 C41.4244929,39.9574004 41.3233534,39.999 41.2179546,39.999 L38.1434012,39.999 C38.0366291,39.999 37.9342885,39.9563124 37.8591634,39.8804408 L24.1768397,26.0621438 L24.1768397,26.0621438 L10.4936501,39.8804497 C10.4185257,39.9563159 10.3161889,39.999 10.2094212,39.999 L7.13584526,39.999 C6.91493136,39.999 6.73584526,39.8199139 6.73584526,39.599 C6.73584526,39.4936017 6.77744443,39.3924627 6.85160121,39.3175656 L22.0763492,23.9408235 L22.0763492,23.9408235 L6.96554081,8.68044639 C6.81010226,8.52346929 6.81134951,8.27020637 6.9683266,8.11476782 C7.04322474,8.04060377 7.14436883,7.999 7.24977299,7.999 L10.3242852,7.999 C10.4310511,7.999 10.5333863,8.04168267 10.6085104,8.11754663 Z",id:"CloseOutline-\u8DEF\u5F84",fill:"currentColor",fillRule:"nonzero"}))))}j.Z=m},51005:function(se,j,e){"use strict";var v=e(67294);function m(x){return v.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},x,{style:Object.assign({verticalAlign:"-0.125em"},x.style),className:["antd-mobile-icon",x.className].filter(Boolean).join(" ")}),v.createElement("g",{id:"RightOutline-RightOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},v.createElement("g",{id:"RightOutline-RightOutlined"},v.createElement("rect",{id:"RightOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),v.createElement("path",{d:"M17.3947957,5.11219264 L35.5767382,22.6612572 L35.5767382,22.6612572 C36.1304785,23.2125856 36.1630514,24.0863155 35.6744571,24.6755735 L35.5767382,24.7825775 L17.3956061,42.8834676 C17.320643,42.9580998 17.2191697,43 17.1133896,43 L13.9866673,43 C13.7657534,43 13.5866673,42.8209139 13.5866673,42.6 C13.5866673,42.4936115 13.6290496,42.391606 13.7044413,42.316542 L32.3201933,23.7816937 L32.3201933,23.7816937 L13.7237117,5.6866816 C13.5653818,5.53262122 13.5619207,5.27937888 13.7159811,5.121049 C13.7912854,5.04365775 13.8946805,5 14.0026627,5 L17.1170064,5 C17.2206403,5 17.3202292,5.04022164 17.3947957,5.11219264 Z",id:"RightOutline-right",fill:"currentColor",fillRule:"nonzero"}))))}j.Z=m},25715:function(se,j,e){"use strict";e.d(j,{Z:function(){return Se}});var v=e(34155);function m(){return m=Object.assign?Object.assign.bind():function(ae){for(var G=1;G<arguments.length;G++){var re=arguments[G];for(var oe in re)Object.prototype.hasOwnProperty.call(re,oe)&&(ae[oe]=re[oe])}return ae},m.apply(this,arguments)}function x(ae,G){ae.prototype=Object.create(G.prototype),ae.prototype.constructor=ae,p(ae,G)}function u(ae){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(re){return re.__proto__||Object.getPrototypeOf(re)},u(ae)}function p(ae,G){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,ce){return oe.__proto__=ce,oe},p(ae,G)}function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}function h(ae,G,re){return d()?h=Reflect.construct.bind():h=function(ce,be,xe){var ge=[null];ge.push.apply(ge,be);var he=Function.bind.apply(ce,ge),Pe=new he;return xe&&p(Pe,xe.prototype),Pe},h.apply(null,arguments)}function t(ae){return Function.toString.call(ae).indexOf("[native code]")!==-1}function c(ae){var G=typeof Map=="function"?new Map:void 0;return c=function(oe){if(oe===null||!t(oe))return oe;if(typeof oe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof G!="undefined"){if(G.has(oe))return G.get(oe);G.set(oe,ce)}function ce(){return h(oe,arguments,u(this).constructor)}return ce.prototype=Object.create(oe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),p(ce,oe)},c(ae)}var i=/%[sdj%]/g,a=function(){};function f(ae){if(!ae||!ae.length)return null;var G={};return ae.forEach(function(re){var oe=re.field;G[oe]=G[oe]||[],G[oe].push(re)}),G}function l(ae){for(var G=arguments.length,re=new Array(G>1?G-1:0),oe=1;oe<G;oe++)re[oe-1]=arguments[oe];var ce=0,be=re.length;if(typeof ae=="function")return ae.apply(null,re);if(typeof ae=="string"){var xe=ae.replace(i,function(ge){if(ge==="%%")return"%";if(ce>=be)return ge;switch(ge){case"%s":return String(re[ce++]);case"%d":return Number(re[ce++]);case"%j":try{return JSON.stringify(re[ce++])}catch(he){return"[Circular]"}break;default:return ge}});return xe}return ae}function n(ae){return ae==="string"||ae==="url"||ae==="hex"||ae==="email"||ae==="date"||ae==="pattern"}function r(ae,G){return!!(ae==null||G==="array"&&Array.isArray(ae)&&!ae.length||n(G)&&typeof ae=="string"&&!ae)}function o(ae,G,re){var oe=[],ce=0,be=ae.length;function xe(ge){oe.push.apply(oe,ge||[]),ce++,ce===be&&re(oe)}ae.forEach(function(ge){G(ge,xe)})}function g(ae,G,re){var oe=0,ce=ae.length;function be(xe){if(xe&&xe.length){re(xe);return}var ge=oe;oe=oe+1,ge<ce?G(ae[ge],be):re([])}be([])}function y(ae){var G=[];return Object.keys(ae).forEach(function(re){G.push.apply(G,ae[re]||[])}),G}var D=function(ae){x(G,ae);function G(re,oe){var ce;return ce=ae.call(this,"Async Validation Error")||this,ce.errors=re,ce.fields=oe,ce}return G}(c(Error));function P(ae,G,re,oe,ce){if(G.first){var be=new Promise(function(Le,Me){var Te=function(je){return oe(je),je.length?Me(new D(je,f(je))):Le(ce)},we=y(ae);g(we,re,Te)});return be.catch(function(Le){return Le}),be}var xe=G.firstFields===!0?Object.keys(ae):G.firstFields||[],ge=Object.keys(ae),he=ge.length,Pe=0,Ae=[],Be=new Promise(function(Le,Me){var Te=function(Ue){if(Ae.push.apply(Ae,Ue),Pe++,Pe===he)return oe(Ae),Ae.length?Me(new D(Ae,f(Ae))):Le(ce)};ge.length||(oe(Ae),Le(ce)),ge.forEach(function(we){var Ue=ae[we];xe.indexOf(we)!==-1?g(Ue,re,Te):o(Ue,re,Te)})});return Be.catch(function(Le){return Le}),Be}function E(ae){return!!(ae&&ae.message!==void 0)}function O(ae,G){for(var re=ae,oe=0;oe<G.length;oe++){if(re==null)return re;re=re[G[oe]]}return re}function T(ae,G){return function(re){var oe;return ae.fullFields?oe=O(G,ae.fullFields):oe=G[re.field||ae.fullField],E(re)?(re.field=re.field||ae.fullField,re.fieldValue=oe,re):{message:typeof re=="function"?re():re,fieldValue:oe,field:re.field||ae.fullField}}}function S(ae,G){if(G){for(var re in G)if(G.hasOwnProperty(re)){var oe=G[re];typeof oe=="object"&&typeof ae[re]=="object"?ae[re]=m({},ae[re],oe):ae[re]=oe}}return ae}var $=function(G,re,oe,ce,be,xe){G.required&&(!oe.hasOwnProperty(G.field)||r(re,xe||G.type))&&ce.push(l(be.messages.required,G.fullField))},Z=function(G,re,oe,ce,be){(/^\s+$/.test(re)||re==="")&&ce.push(l(be.messages.whitespace,G.fullField))},K,z=function(){if(K)return K;var ae="[a-fA-F\\d:]",G=function(_e){return _e&&_e.includeBoundaries?"(?:(?<=\\s|^)(?="+ae+")|(?<="+ae+")(?=\\s|$))":""},re="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",oe="[a-fA-F\\d]{1,4}",ce=(`
(?:
(?:`+oe+":){7}(?:"+oe+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+oe+":){6}(?:"+re+"|:"+oe+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+oe+":){5}(?::"+re+"|(?::"+oe+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+oe+":){4}(?:(?::"+oe+"){0,1}:"+re+"|(?::"+oe+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+oe+":){3}(?:(?::"+oe+"){0,2}:"+re+"|(?::"+oe+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+oe+":){2}(?:(?::"+oe+"){0,3}:"+re+"|(?::"+oe+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+oe+":){1}(?:(?::"+oe+"){0,4}:"+re+"|(?::"+oe+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+oe+"){0,5}:"+re+"|(?::"+oe+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),be=new RegExp("(?:^"+re+"$)|(?:^"+ce+"$)"),xe=new RegExp("^"+re+"$"),ge=new RegExp("^"+ce+"$"),he=function(_e){return _e&&_e.exact?be:new RegExp("(?:"+G(_e)+re+G(_e)+")|(?:"+G(_e)+ce+G(_e)+")","g")};he.v4=function(ye){return ye&&ye.exact?xe:new RegExp(""+G(ye)+re+G(ye),"g")},he.v6=function(ye){return ye&&ye.exact?ge:new RegExp(""+G(ye)+ce+G(ye),"g")};var Pe="(?:(?:[a-z]+:)?//)",Ae="(?:\\S+(?::\\S*)?@)?",Be=he.v4().source,Le=he.v6().source,Me="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",Te="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",we="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Ue="(?::\\d{2,5})?",je='(?:[/?#][^\\s"]*)?',De="(?:"+Pe+"|www\\.)"+Ae+"(?:localhost|"+Be+"|"+Le+"|"+Me+Te+we+")"+Ue+je;return K=new RegExp("(?:^"+De+"$)","i"),K},w={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},A={integer:function(G){return A.number(G)&&parseInt(G,10)===G},float:function(G){return A.number(G)&&!A.integer(G)},array:function(G){return Array.isArray(G)},regexp:function(G){if(G instanceof RegExp)return!0;try{return!!new RegExp(G)}catch(re){return!1}},date:function(G){return typeof G.getTime=="function"&&typeof G.getMonth=="function"&&typeof G.getYear=="function"&&!isNaN(G.getTime())},number:function(G){return isNaN(G)?!1:typeof G=="number"},object:function(G){return typeof G=="object"&&!A.array(G)},method:function(G){return typeof G=="function"},email:function(G){return typeof G=="string"&&G.length<=320&&!!G.match(w.email)},url:function(G){return typeof G=="string"&&G.length<=2048&&!!G.match(z())},hex:function(G){return typeof G=="string"&&!!G.match(w.hex)}},M=function(G,re,oe,ce,be){if(G.required&&re===void 0){$(G,re,oe,ce,be);return}var xe=["integer","float","array","regexp","object","method","email","number","date","url","hex"],ge=G.type;xe.indexOf(ge)>-1?A[ge](re)||ce.push(l(be.messages.types[ge],G.fullField,G.type)):ge&&typeof re!==G.type&&ce.push(l(be.messages.types[ge],G.fullField,G.type))},b=function(G,re,oe,ce,be){var xe=typeof G.len=="number",ge=typeof G.min=="number",he=typeof G.max=="number",Pe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ae=re,Be=null,Le=typeof re=="number",Me=typeof re=="string",Te=Array.isArray(re);if(Le?Be="number":Me?Be="string":Te&&(Be="array"),!Be)return!1;Te&&(Ae=re.length),Me&&(Ae=re.replace(Pe,"_").length),xe?Ae!==G.len&&ce.push(l(be.messages[Be].len,G.fullField,G.len)):ge&&!he&&Ae<G.min?ce.push(l(be.messages[Be].min,G.fullField,G.min)):he&&!ge&&Ae>G.max?ce.push(l(be.messages[Be].max,G.fullField,G.max)):ge&&he&&(Ae<G.min||Ae>G.max)&&ce.push(l(be.messages[Be].range,G.fullField,G.min,G.max))},R="enum",L=function(G,re,oe,ce,be){G[R]=Array.isArray(G[R])?G[R]:[],G[R].indexOf(re)===-1&&ce.push(l(be.messages[R],G.fullField,G[R].join(", ")))},N=function(G,re,oe,ce,be){if(G.pattern){if(G.pattern instanceof RegExp)G.pattern.lastIndex=0,G.pattern.test(re)||ce.push(l(be.messages.pattern.mismatch,G.fullField,re,G.pattern));else if(typeof G.pattern=="string"){var xe=new RegExp(G.pattern);xe.test(re)||ce.push(l(be.messages.pattern.mismatch,G.fullField,re,G.pattern))}}},B={required:$,whitespace:Z,type:M,range:b,enum:L,pattern:N},V=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re,"string")&&!G.required)return oe();B.required(G,re,ce,xe,be,"string"),r(re,"string")||(B.type(G,re,ce,xe,be),B.range(G,re,ce,xe,be),B.pattern(G,re,ce,xe,be),G.whitespace===!0&&B.whitespace(G,re,ce,xe,be))}oe(xe)},U=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&B.type(G,re,ce,xe,be)}oe(xe)},I=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(re===""&&(re=void 0),r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&(B.type(G,re,ce,xe,be),B.range(G,re,ce,xe,be))}oe(xe)},F=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&B.type(G,re,ce,xe,be)}oe(xe)},W=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),r(re)||B.type(G,re,ce,xe,be)}oe(xe)},X=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&(B.type(G,re,ce,xe,be),B.range(G,re,ce,xe,be))}oe(xe)},J=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&(B.type(G,re,ce,xe,be),B.range(G,re,ce,xe,be))}oe(xe)},C=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(re==null&&!G.required)return oe();B.required(G,re,ce,xe,be,"array"),re!=null&&(B.type(G,re,ce,xe,be),B.range(G,re,ce,xe,be))}oe(xe)},k=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&B.type(G,re,ce,xe,be)}oe(xe)},Y="enum",H=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be),re!==void 0&&B[Y](G,re,ce,xe,be)}oe(xe)},te=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re,"string")&&!G.required)return oe();B.required(G,re,ce,xe,be),r(re,"string")||B.pattern(G,re,ce,xe,be)}oe(xe)},le=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re,"date")&&!G.required)return oe();if(B.required(G,re,ce,xe,be),!r(re,"date")){var he;re instanceof Date?he=re:he=new Date(re),B.type(G,he,ce,xe,be),he&&B.range(G,he.getTime(),ce,xe,be)}}oe(xe)},ne=function(G,re,oe,ce,be){var xe=[],ge=Array.isArray(re)?"array":typeof re;B.required(G,re,ce,xe,be,ge),oe(xe)},ie=function(G,re,oe,ce,be){var xe=G.type,ge=[],he=G.required||!G.required&&ce.hasOwnProperty(G.field);if(he){if(r(re,xe)&&!G.required)return oe();B.required(G,re,ce,ge,be,xe),r(re,xe)||B.type(G,re,ce,ge,be)}oe(ge)},ee=function(G,re,oe,ce,be){var xe=[],ge=G.required||!G.required&&ce.hasOwnProperty(G.field);if(ge){if(r(re)&&!G.required)return oe();B.required(G,re,ce,xe,be)}oe(xe)},fe={string:V,method:U,number:I,boolean:F,regexp:W,integer:X,float:J,array:C,object:k,enum:H,pattern:te,date:le,url:ie,hex:ie,email:ie,required:ne,any:ee};function de(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var G=JSON.parse(JSON.stringify(this));return G.clone=this.clone,G}}}var ue=de(),Se=function(){function ae(re){this.rules=null,this._messages=ue,this.define(re)}var G=ae.prototype;return G.define=function(oe){var ce=this;if(!oe)throw new Error("Cannot configure a schema with no rules");if(typeof oe!="object"||Array.isArray(oe))throw new Error("Rules must be an object");this.rules={},Object.keys(oe).forEach(function(be){var xe=oe[be];ce.rules[be]=Array.isArray(xe)?xe:[xe]})},G.messages=function(oe){return oe&&(this._messages=S(de(),oe)),this._messages},G.validate=function(oe,ce,be){var xe=this;ce===void 0&&(ce={}),be===void 0&&(be=function(){});var ge=oe,he=ce,Pe=be;if(typeof he=="function"&&(Pe=he,he={}),!this.rules||Object.keys(this.rules).length===0)return Pe&&Pe(null,ge),Promise.resolve(ge);function Ae(we){var Ue=[],je={};function De(_e){if(Array.isArray(_e)){var q;Ue=(q=Ue).concat.apply(q,_e)}else Ue.push(_e)}for(var ye=0;ye<we.length;ye++)De(we[ye]);Ue.length?(je=f(Ue),Pe(Ue,je)):Pe(null,ge)}if(he.messages){var Be=this.messages();Be===ue&&(Be=de()),S(Be,he.messages),he.messages=Be}else he.messages=this.messages();var Le={},Me=he.keys||Object.keys(this.rules);Me.forEach(function(we){var Ue=xe.rules[we],je=ge[we];Ue.forEach(function(De){var ye=De;typeof ye.transform=="function"&&(ge===oe&&(ge=m({},ge)),je=ge[we]=ye.transform(je)),typeof ye=="function"?ye={validator:ye}:ye=m({},ye),ye.validator=xe.getValidationMethod(ye),ye.validator&&(ye.field=we,ye.fullField=ye.fullField||we,ye.type=xe.getType(ye),Le[we]=Le[we]||[],Le[we].push({rule:ye,value:je,source:ge,field:we}))})});var Te={};return P(Le,he,function(we,Ue){var je=we.rule,De=(je.type==="object"||je.type==="array")&&(typeof je.fields=="object"||typeof je.defaultField=="object");De=De&&(je.required||!je.required&&we.value),je.field=we.field;function ye(pe,Re){return m({},Re,{fullField:je.fullField+"."+pe,fullFields:je.fullFields?[].concat(je.fullFields,[pe]):[pe]})}function _e(pe){pe===void 0&&(pe=[]);var Re=Array.isArray(pe)?pe:[pe];!he.suppressWarning&&Re.length&&ae.warning("async-validator:",Re),Re.length&&je.message!==void 0&&(Re=[].concat(je.message));var Oe=Re.map(T(je,ge));if(he.first&&Oe.length)return Te[je.field]=1,Ue(Oe);if(!De)Ue(Oe);else{if(je.required&&!we.value)return je.message!==void 0?Oe=[].concat(je.message).map(T(je,ge)):he.error&&(Oe=[he.error(je,l(he.messages.required,je.field))]),Ue(Oe);var $e={};je.defaultField&&Object.keys(we.value).map(function(qe){$e[qe]=je.defaultField}),$e=m({},$e,we.rule.fields);var Ve={};Object.keys($e).forEach(function(qe){var Qe=$e[qe],ke=Array.isArray(Qe)?Qe:[Qe];Ve[qe]=ke.map(ye.bind(null,qe))});var Ze=new ae(Ve);Ze.messages(he.messages),we.rule.options&&(we.rule.options.messages=he.messages,we.rule.options.error=he.error),Ze.validate(we.value,we.rule.options||he,function(qe){var Qe=[];Oe&&Oe.length&&Qe.push.apply(Qe,Oe),qe&&qe.length&&Qe.push.apply(Qe,qe),Ue(Qe.length?Qe:null)})}}var q;if(je.asyncValidator)q=je.asyncValidator(je,we.value,_e,we.source,he);else if(je.validator){try{q=je.validator(je,we.value,_e,we.source,he)}catch(pe){console.error==null||console.error(pe),he.suppressValidatorError||setTimeout(function(){throw pe},0),_e(pe.message)}q===!0?_e():q===!1?_e(typeof je.message=="function"?je.message(je.fullField||je.field):je.message||(je.fullField||je.field)+" fails"):q instanceof Array?_e(q):q instanceof Error&&_e(q.message)}q&&q.then&&q.then(function(){return _e()},function(pe){return _e(pe)})},function(we){Ae(we)},ge)},G.getType=function(oe){if(oe.type===void 0&&oe.pattern instanceof RegExp&&(oe.type="pattern"),typeof oe.validator!="function"&&oe.type&&!fe.hasOwnProperty(oe.type))throw new Error(l("Unknown rule type %s",oe.type));return oe.type||"string"},G.getValidationMethod=function(oe){if(typeof oe.validator=="function")return oe.validator;var ce=Object.keys(oe),be=ce.indexOf("message");return be!==-1&&ce.splice(be,1),ce.length===1&&ce[0]==="required"?fe.required:fe[this.getType(oe)]||void 0},ae}();Se.register=function(G,re){if(typeof re!="function")throw new Error("Cannot register a validator by type, validator is not a function");fe[G]=re},Se.warning=a,Se.messages=ue,Se.validators=fe},29960:function(se,j,e){"use strict";var v=e(60275);function m(h){return v.isArrayBuffer(h)||v.isBuffer(h)||v.isStream(h)||v.isBlob(h)?h:v.isObjectOrArray(h)?JSON.parse(JSON.stringify(h)):h}function x(h,t){return{status:h[0],data:m(h[1]),headers:h[2],config:t,request:{responseURL:t.url}}}function u(h,t,c,i){var a=i.baseURL;if(i.baseURL&&!/^https?:/.test(i.baseURL)&&(a=void 0),typeof h.originalAdapter=="function")return h.originalAdapter(i).then(t,c);h.axiosInstanceWithoutInterceptors(Object.assign({},i,{baseURL:a,adapter:h.originalAdapter,transformRequest:[],transformResponse:[]})).then(t,c)}function p(h,t,c,i){var a=i.url||"";i.baseURL&&a.substr(0,i.baseURL.length)===i.baseURL&&(a=a.slice(i.baseURL.length)),delete i.adapter,h.history[i.method].push(i);var f=v.findHandler(h.handlers,i.method,a,i.data,i.params,i.headers&&i.headers.constructor.name==="AxiosHeaders"?Object.assign({},i.headers):i.headers,i.baseURL);if(f)if(f.length===7&&v.purgeIfReplyOnce(h,f),f.length===2)u(h,t,c,i);else if(typeof f[3]!="function")v.settle(t,c,x(f.slice(3),i),d(h,f));else{var l=f[3](i);typeof l.then!="function"?v.settle(t,c,x(l,i),d(h,f)):l.then(function(n){n.config&&n.status?v.settle(t,c,x([n.status,n.data,n.headers],n.config),0):v.settle(t,c,x(n,i),d(h,f))},function(n){h.delayResponse>0?setTimeout(function(){c(n)},d(h,f)):c(n)})}else switch(h.onNoMatch){case"passthrough":u(h,t,c,i);break;case"throwException":throw v.createCouldNotFindMockError(i);default:v.settle(t,c,{status:404,config:i},h.delayResponse)}}function d(h,t){var c;return t.length===8&&(c=t[7]),c||h.delayResponse}se.exports=p},19448:function(se,j,e){"use strict";var v=e(29960),m=e(60275),x=["get","post","head","delete","patch","put","options","list","link","unlink"];function u(){return function(f){var l=this;return new Promise(function(n,r){v(l,n,r,f)})}.bind(this)}function p(){return x.reduce(function(f,l){return f[l]=[],f},{})}function d(){h.call(this),t.call(this)}function h(){this.handlers=p()}function t(){this.history=p()}function c(f,l){if(d.call(this),f)this.axiosInstance=f,this.axiosInstanceWithoutInterceptors=f.create?f.create():void 0,this.originalAdapter=f.defaults.adapter,this.delayResponse=l&&l.delayResponse>0?l.delayResponse:null,this.onNoMatch=l&&l.onNoMatch||null,f.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}c.prototype.adapter=u,c.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)},c.prototype.reset=d,c.prototype.resetHandlers=h,c.prototype.resetHistory=t,x.concat("any").forEach(function(f){var l="on"+f.charAt(0).toUpperCase()+f.slice(1);c.prototype[l]=function(y,r,o){var g=this,y=y===void 0?/.*/:y;function D(T,S,$){var Z=[y,r,o,T,S,$];return a(f,g.handlers,Z),g}function P(T,S,$,Z){var K=[y,r,o,S,$,Z,!1,T];return a(f,g.handlers,K),g}function E(T){return function(S,$,Z){P(T,S,$,Z)}}function O(T,S,$){var Z=[y,r,o,T,S,$,!0];return a(f,g.handlers,Z),g}return{reply:D,replyOnce:O,withDelayInMs:E,passThrough:function(){var S=[y,r];return a(f,g.handlers,S),g},abortRequest:function(){return D(function(T){var S=m.createAxiosError("Request aborted",T,void 0,"ECONNABORTED");return Promise.reject(S)})},abortRequestOnce:function(){return O(function(T){var S=m.createAxiosError("Request aborted",T,void 0,"ECONNABORTED");return Promise.reject(S)})},networkError:function(){return D(function(T){var S=m.createAxiosError("Network Error",T);return Promise.reject(S)})},networkErrorOnce:function(){return O(function(T){var S=m.createAxiosError("Network Error",T);return Promise.reject(S)})},timeout:function(){return D(function(T){var S=m.createAxiosError(T.timeoutErrorMessage||"timeout of "+T.timeout+"ms exceeded",T,void 0,T.transitional&&T.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(S)})},timeoutOnce:function(){return O(function(T){var S=m.createAxiosError(T.timeoutErrorMessage||"timeout of "+T.timeout+"ms exceeded",T,void 0,T.transitional&&T.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(S)})}}}});function i(f,l,n){for(var r=-1,o=0;o<l[f].length;o+=1){var g=l[f][o],y=g.length===7,D=g[0]instanceof RegExp&&n[0]instanceof RegExp?String(g[0])===String(n[0]):g[0]===n[0],P=D&&m.isEqual(g[1],n[1])&&m.isEqual(g[2],n[2]);P&&!y&&(r=o)}return r}function a(f,l,n){if(f==="any")x.forEach(function(o){l[o].push(n)});else{var r=i(f,l,n);r>-1&&n.length<7?l[f].splice(r,1,n):l[f].push(n)}}se.exports=c,se.exports.default=c},27515:function(se){function j(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}se.exports=j},60275:function(se,j,e){"use strict";var v=e(9669),m=e(64063),x=e(48738),u=e(27515),p=Object.prototype.toString;function d(E,O){for(var T=E.length,S=0;S<T;S++){var $=E[S];if(O($))return $}}function h(E){return p.call(E)==="[object Function]"}function t(E){return E!==null&&typeof E=="object"}function c(E){return t(E)&&h(E.pipe)}function i(E){return p.call(E)==="[object ArrayBuffer]"}function a(E,O){return E?E.replace(/\/+$/,"")+"/"+O.replace(/^\/+/,""):O}function f(E,O,T,S,$,Z,K){return d(E[O.toLowerCase()],function(z){if(typeof z[0]=="string")return(l(T,z[0])||l(a(K,T),z[0]))&&n(O,S,$,z[1])&&r(Z,z[2]);if(z[0]instanceof RegExp)return(z[0].test(T)||z[0].test(a(K,T)))&&n(O,S,$,z[1])&&r(Z,z[2])})}function l(E,O){var T=E[0]==="/"?E.substr(1):E,S=O[0]==="/"?O.substr(1):O;return T===S}function n(E,O,T,S){var $=["delete","get","head","options"];if($.indexOf(E.toLowerCase())>=0){var Z=S?S.data:void 0,K=S?S.params:void 0;return r(T,K)&&o(O,Z)}else return o(O,S)}function r(E,O){return O===void 0?!0:typeof O.asymmetricMatch=="function"?O.asymmetricMatch(E):m(E,O)}function o(E,O){if(O===void 0)return!0;var T;try{T=JSON.parse(E)}catch(S){}return r(T||E,O)}function g(E,O){Object.keys(E.handlers).forEach(function(T){var S=E.handlers[T].indexOf(O);S>-1&&E.handlers[T].splice(S,1)})}function y(E,O,T,S){if(S>0){setTimeout(y,S,E,O,T);return}!T.config.validateStatus||T.config.validateStatus(T.status)?E(T):O(D("Request failed with status code "+T.status,T.config,T))}function D(E,O,T,S){if(typeof v.AxiosError=="function")return v.AxiosError.from(new Error(E),S,O,null,T);var $=new Error(E);return $.isAxiosError=!0,$.config=O,T!==void 0&&($.response=T),S!==void 0&&($.code=S),$.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},$}function P(E){var O=`Could not find mock for: 
`+JSON.stringify(E,["method","url"],2),T=new Error(O);return T.isCouldNotFindMockError=!0,T.url=E.url,T.method=E.method,T}se.exports={find:d,findHandler:f,purgeIfReplyOnce:g,settle:y,isStream:c,isArrayBuffer:i,isFunction:h,isObjectOrArray:t,isBuffer:x,isBlob:u,isBodyOrParametersMatching:n,isEqual:m,createAxiosError:D,createCouldNotFindMockError:P}},79742:function(se,j){"use strict";j.byteLength=h,j.toByteArray=c,j.fromByteArray=f;for(var e=[],v=[],m=typeof Uint8Array!="undefined"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,p=x.length;u<p;++u)e[u]=x[u],v[x.charCodeAt(u)]=u;v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63;function d(l){var n=l.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=l.indexOf("=");r===-1&&(r=n);var o=r===n?0:4-r%4;return[r,o]}function h(l){var n=d(l),r=n[0],o=n[1];return(r+o)*3/4-o}function t(l,n,r){return(n+r)*3/4-r}function c(l){var n,r=d(l),o=r[0],g=r[1],y=new m(t(l,o,g)),D=0,P=g>0?o-4:o,E;for(E=0;E<P;E+=4)n=v[l.charCodeAt(E)]<<18|v[l.charCodeAt(E+1)]<<12|v[l.charCodeAt(E+2)]<<6|v[l.charCodeAt(E+3)],y[D++]=n>>16&255,y[D++]=n>>8&255,y[D++]=n&255;return g===2&&(n=v[l.charCodeAt(E)]<<2|v[l.charCodeAt(E+1)]>>4,y[D++]=n&255),g===1&&(n=v[l.charCodeAt(E)]<<10|v[l.charCodeAt(E+1)]<<4|v[l.charCodeAt(E+2)]>>2,y[D++]=n>>8&255,y[D++]=n&255),y}function i(l){return e[l>>18&63]+e[l>>12&63]+e[l>>6&63]+e[l&63]}function a(l,n,r){for(var o,g=[],y=n;y<r;y+=3)o=(l[y]<<16&16711680)+(l[y+1]<<8&65280)+(l[y+2]&255),g.push(i(o));return g.join("")}function f(l){for(var n,r=l.length,o=r%3,g=[],y=16383,D=0,P=r-o;D<P;D+=y)g.push(a(l,D,D+y>P?P:D+y));return o===1?(n=l[r-1],g.push(e[n>>2]+e[n<<4&63]+"==")):o===2&&(n=(l[r-2]<<8)+l[r-1],g.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),g.join("")}},15765:function(se,j){var e;(function(v){v(typeof DO_NOT_EXPORT_BESSEL=="undefined"?j:e={})})(function(v){v.version="1.0.2";var m=Math;function x(i,a){for(var f=0,l=0;f<i.length;++f)l=a*l+i[f];return l}function u(i,a,f,l,n){if(a===0)return f;if(a===1)return l;for(var r=2/i,o=l,g=1;g<a;++g)o=l*g*r+n*f,f=l,l=o;return o}function p(i,a,f,l,n){return function(o,g){if(l){if(o===0)return l==1?-1/0:1/0;if(o<0)return NaN}if(g===0)return i(o);if(g===1)return a(o);if(g<0)return NaN;g|=0;var y=i(o),D=a(o);return u(o,g,y,D,n)}}var d=function(){var i=.636619772,a=[57568490574,-13362590354,6516196407e-1,-1121442418e-2,77392.33017,-184.9052456].reverse(),f=[57568490411,1029532985,9494680718e-3,59272.64853,267.8532712,1].reverse(),l=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),n=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934935152e-16].reverse();function r(E){var O=0,T=0,S=0,$=E*E;if(E<8)T=x(a,$),S=x(f,$),O=T/S;else{var Z=E-.785398164;$=64/$,T=x(l,$),S=x(n,$),O=m.sqrt(i/E)*(m.cos(Z)*T-m.sin(Z)*S*8/E)}return O}var o=[72362614232,-7895059235,2423968531e-1,-2972611439e-3,15704.4826,-30.16036606].reverse(),g=[144725228442,2300535178,1858330474e-2,99447.43394,376.9991397,1].reverse(),y=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),D=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function P(E){var O=0,T=0,S=0,$=E*E,Z=m.abs(E)-2.356194491;return Math.abs(E)<8?(T=E*x(o,$),S=x(g,$),O=T/S):($=64/$,T=x(y,$),S=x(D,$),O=m.sqrt(i/m.abs(E))*(m.cos(Z)*T-m.sin(Z)*S*8/m.abs(E)),E<0&&(O=-O)),O}return function E(O,T){if(T=Math.round(T),!isFinite(O))return isNaN(O)?O:0;if(T<0)return(T%2?-1:1)*E(O,-T);if(O<0)return(T%2?-1:1)*E(-O,T);if(T===0)return r(O);if(T===1)return P(O);if(O===0)return 0;var S=0;if(O>T)S=u(O,T,r(O),P(O),-1);else{for(var $=2*m.floor((T+m.floor(m.sqrt(40*T)))/2),Z=!1,K=0,z=0,w=1,A=0,M=2/O,b=$;b>0;b--)A=b*M*w-K,K=w,w=A,m.abs(w)>1e10&&(w*=1e-10,K*=1e-10,S*=1e-10,z*=1e-10),Z&&(z+=w),Z=!Z,b==T&&(S=K);z=2*z-w,S/=z}return S}}(),h=function(){var i=.636619772,a=[-2957821389,7062834065,-5123598036e-1,1087988129e-2,-86327.92757,228.4622733].reverse(),f=[40076544269,7452499648e-1,7189466438e-3,47447.2647,226.1030244,1].reverse(),l=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),n=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934945152e-16].reverse();function r(E){var O=0,T=0,S=0,$=E*E,Z=E-.785398164;return E<8?(T=x(a,$),S=x(f,$),O=T/S+i*d(E,0)*m.log(E)):($=64/$,T=x(l,$),S=x(n,$),O=m.sqrt(i/E)*(m.sin(Z)*T+m.cos(Z)*S*8/E)),O}var o=[-4900604943e3,127527439e4,-51534381390,7349264551e-1,-4237922726e-3,8511.937935].reverse(),g=[249958057e5,424441966400,3733650367,2245904002e-2,102042.605,354.9632885,1].reverse(),y=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),D=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function P(E){var O=0,T=0,S=0,$=E*E,Z=E-2.356194491;return E<8?(T=E*x(o,$),S=x(g,$),O=T/S+i*(d(E,1)*m.log(E)-1/E)):($=64/$,T=x(y,$),S=x(D,$),O=m.sqrt(i/E)*(m.sin(Z)*T+m.cos(Z)*S*8/E)),O}return p(r,P,"BESSELY",1,-1)}(),t=function(){var i=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),a=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();function f(o){return o<=3.75?x(i,o*o/(3.75*3.75)):m.exp(m.abs(o))/m.sqrt(m.abs(o))*x(a,3.75/m.abs(o))}var l=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),n=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();function r(o){return o<3.75?o*x(l,o*o/(3.75*3.75)):(o<0?-1:1)*m.exp(m.abs(o))/m.sqrt(m.abs(o))*x(n,3.75/m.abs(o))}return function o(g,y){if(y=Math.round(y),y===0)return f(g);if(y===1)return r(g);if(y<0)return NaN;if(m.abs(g)===0)return 0;if(g==1/0)return 1/0;var D=0,P,E=2/m.abs(g),O=0,T=1,S=0,$=2*m.round((y+m.round(m.sqrt(40*y)))/2);for(P=$;P>0;P--)S=P*E*T+O,O=T,T=S,m.abs(T)>1e10&&(T*=1e-10,O*=1e-10,D*=1e-10),P==y&&(D=O);return D*=o(g,0)/T,g<0&&y%2?-D:D}}(),c=function(){var i=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),a=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();function f(o){return o<=2?-m.log(o/2)*t(o,0)+x(i,o*o/4):m.exp(-o)/m.sqrt(o)*x(a,2/o)}var l=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),n=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();function r(o){return o<=2?m.log(o/2)*t(o,1)+1/o*x(l,o*o/4):m.exp(-o)/m.sqrt(o)*x(n,2/o)}return p(f,r,"BESSELK",2,1)}();v.besselj=d,v.bessely=h,v.besseli=t,v.besselk=c})},29931:function(se,j,e){var v;se.exports=function(p){return v||(v=new m(null)),v.generate(p)};function m(u){this.rand=u}if(se.exports.Rand=m,m.prototype.generate=function(p){return this._rand(p)},m.prototype._rand=function(p){if(this.rand.getBytes)return this.rand.getBytes(p);for(var d=new Uint8Array(p),h=0;h<d.length;h++)d[h]=this.rand.getByte();return d},typeof self=="object")self.crypto&&self.crypto.getRandomValues?m.prototype._rand=function(p){var d=new Uint8Array(p);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?m.prototype._rand=function(p){var d=new Uint8Array(p);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(m.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var x=e(89214);if(typeof x.randomBytes!="function")throw new Error("Not supported");m.prototype._rand=function(p){return x.randomBytes(p)}}catch(u){}},74497:function(se,j,e){var v=e(89509).Buffer;function m(t){v.isBuffer(t)||(t=v.from(t));for(var c=t.length/4|0,i=new Array(c),a=0;a<c;a++)i[a]=t.readUInt32BE(a*4);return i}function x(t){for(var c=0;c<t.length;t++)t[c]=0}function u(t,c,i,a,f){for(var l=i[0],n=i[1],r=i[2],o=i[3],g=t[0]^c[0],y=t[1]^c[1],D=t[2]^c[2],P=t[3]^c[3],E,O,T,S,$=4,Z=1;Z<f;Z++)E=l[g>>>24]^n[y>>>16&255]^r[D>>>8&255]^o[P&255]^c[$++],O=l[y>>>24]^n[D>>>16&255]^r[P>>>8&255]^o[g&255]^c[$++],T=l[D>>>24]^n[P>>>16&255]^r[g>>>8&255]^o[y&255]^c[$++],S=l[P>>>24]^n[g>>>16&255]^r[y>>>8&255]^o[D&255]^c[$++],g=E,y=O,D=T,P=S;return E=(a[g>>>24]<<24|a[y>>>16&255]<<16|a[D>>>8&255]<<8|a[P&255])^c[$++],O=(a[y>>>24]<<24|a[D>>>16&255]<<16|a[P>>>8&255]<<8|a[g&255])^c[$++],T=(a[D>>>24]<<24|a[P>>>16&255]<<16|a[g>>>8&255]<<8|a[y&255])^c[$++],S=(a[P>>>24]<<24|a[g>>>16&255]<<16|a[y>>>8&255]<<8|a[D&255])^c[$++],E=E>>>0,O=O>>>0,T=T>>>0,S=S>>>0,[E,O,T,S]}var p=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var t=new Array(256),c=0;c<256;c++)c<128?t[c]=c<<1:t[c]=c<<1^283;for(var i=[],a=[],f=[[],[],[],[]],l=[[],[],[],[]],n=0,r=0,o=0;o<256;++o){var g=r^r<<1^r<<2^r<<3^r<<4;g=g>>>8^g&255^99,i[n]=g,a[g]=n;var y=t[n],D=t[y],P=t[D],E=t[g]*257^g*16843008;f[0][n]=E<<24|E>>>8,f[1][n]=E<<16|E>>>16,f[2][n]=E<<8|E>>>24,f[3][n]=E,E=P*16843009^D*65537^y*257^n*16843008,l[0][g]=E<<24|E>>>8,l[1][g]=E<<16|E>>>16,l[2][g]=E<<8|E>>>24,l[3][g]=E,n===0?n=r=1:(n=y^t[t[t[P^y]]],r^=t[t[r]])}return{SBOX:i,INV_SBOX:a,SUB_MIX:f,INV_SUB_MIX:l}}();function h(t){this._key=m(t),this._reset()}h.blockSize=4*4,h.keySize=256/8,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var t=this._key,c=t.length,i=c+6,a=(i+1)*4,f=[],l=0;l<c;l++)f[l]=t[l];for(l=c;l<a;l++){var n=f[l-1];l%c===0?(n=n<<8|n>>>24,n=d.SBOX[n>>>24]<<24|d.SBOX[n>>>16&255]<<16|d.SBOX[n>>>8&255]<<8|d.SBOX[n&255],n^=p[l/c|0]<<24):c>6&&l%c===4&&(n=d.SBOX[n>>>24]<<24|d.SBOX[n>>>16&255]<<16|d.SBOX[n>>>8&255]<<8|d.SBOX[n&255]),f[l]=f[l-c]^n}for(var r=[],o=0;o<a;o++){var g=a-o,y=f[g-(o%4?0:4)];o<4||g<=4?r[o]=y:r[o]=d.INV_SUB_MIX[0][d.SBOX[y>>>24]]^d.INV_SUB_MIX[1][d.SBOX[y>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[y>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[y&255]]}this._nRounds=i,this._keySchedule=f,this._invKeySchedule=r},h.prototype.encryptBlockRaw=function(t){return t=m(t),u(t,this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},h.prototype.encryptBlock=function(t){var c=this.encryptBlockRaw(t),i=v.allocUnsafe(16);return i.writeUInt32BE(c[0],0),i.writeUInt32BE(c[1],4),i.writeUInt32BE(c[2],8),i.writeUInt32BE(c[3],12),i},h.prototype.decryptBlock=function(t){t=m(t);var c=t[1];t[1]=t[3],t[3]=c;var i=u(t,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),a=v.allocUnsafe(16);return a.writeUInt32BE(i[0],0),a.writeUInt32BE(i[3],4),a.writeUInt32BE(i[2],8),a.writeUInt32BE(i[1],12),a},h.prototype.scrub=function(){x(this._keySchedule),x(this._invKeySchedule),x(this._key)},se.exports.AES=h},62422:function(se,j,e){var v=e(74497),m=e(89509).Buffer,x=e(71027),u=e(35717),p=e(83288),d=e(67295),h=e(20685);function t(a,f){var l=0;a.length!==f.length&&l++;for(var n=Math.min(a.length,f.length),r=0;r<n;++r)l+=a[r]^f[r];return l}function c(a,f,l){if(f.length===12)return a._finID=m.concat([f,m.from([0,0,0,1])]),m.concat([f,m.from([0,0,0,2])]);var n=new p(l),r=f.length,o=r%16;n.update(f),o&&(o=16-o,n.update(m.alloc(o,0))),n.update(m.alloc(8,0));var g=r*8,y=m.alloc(8);y.writeUIntBE(g,0,8),n.update(y),a._finID=n.state;var D=m.from(a._finID);return h(D),D}function i(a,f,l,n){x.call(this);var r=m.alloc(4,0);this._cipher=new v.AES(f);var o=this._cipher.encryptBlock(r);this._ghash=new p(o),l=c(this,l,o),this._prev=m.from(l),this._cache=m.allocUnsafe(0),this._secCache=m.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=a,this._authTag=null,this._called=!1}u(i,x),i.prototype._update=function(a){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=m.alloc(f,0),this._ghash.update(f))}this._called=!0;var l=this._mode.encrypt(this,a);return this._decrypt?this._ghash.update(a):this._ghash.update(l),this._len+=a.length,l},i.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var a=d(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&t(a,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=a,this._cipher.scrub()},i.prototype.getAuthTag=function(){if(this._decrypt||!m.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},i.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},i.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},se.exports=i},44696:function(se,j,e){var v=e(71494),m=e(66193),x=e(44946);function u(){return Object.keys(x)}j.createCipher=j.Cipher=v.createCipher,j.createCipheriv=j.Cipheriv=v.createCipheriv,j.createDecipher=j.Decipher=m.createDecipher,j.createDecipheriv=j.Decipheriv=m.createDecipheriv,j.listCiphers=j.getCiphers=u},66193:function(se,j,e){var v=e(62422),m=e(89509).Buffer,x=e(45),u=e(25969),p=e(71027),d=e(74497),h=e(13048),t=e(35717);function c(n,r,o){p.call(this),this._cache=new i,this._last=void 0,this._cipher=new d.AES(r),this._prev=m.from(o),this._mode=n,this._autopadding=!0}t(c,p),c.prototype._update=function(n){this._cache.add(n);for(var r,o,g=[];r=this._cache.get(this._autopadding);)o=this._mode.decrypt(this,r),g.push(o);return m.concat(g)},c.prototype._final=function(){var n=this._cache.flush();if(this._autopadding)return a(this._mode.decrypt(this,n));if(n)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(n){return this._autopadding=!!n,this};function i(){this.cache=m.allocUnsafe(0)}i.prototype.add=function(n){this.cache=m.concat([this.cache,n])},i.prototype.get=function(n){var r;if(n){if(this.cache.length>16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r}else if(this.cache.length>=16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};function a(n){var r=n[15];if(r<1||r>16)throw new Error("unable to decrypt data");for(var o=-1;++o<r;)if(n[o+(16-r)]!==r)throw new Error("unable to decrypt data");if(r!==16)return n.slice(0,16-r)}function f(n,r,o){var g=x[n.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof o=="string"&&(o=m.from(o)),g.mode!=="GCM"&&o.length!==g.iv)throw new TypeError("invalid iv length "+o.length);if(typeof r=="string"&&(r=m.from(r)),r.length!==g.key/8)throw new TypeError("invalid key length "+r.length);return g.type==="stream"?new u(g.module,r,o,!0):g.type==="auth"?new v(g.module,r,o,!0):new c(g.module,r,o)}function l(n,r){var o=x[n.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var g=h(r,!1,o.key,o.iv);return f(n,g.key,g.iv)}j.createDecipher=l,j.createDecipheriv=f},71494:function(se,j,e){var v=e(45),m=e(62422),x=e(89509).Buffer,u=e(25969),p=e(71027),d=e(74497),h=e(13048),t=e(35717);function c(n,r,o){p.call(this),this._cache=new a,this._cipher=new d.AES(r),this._prev=x.from(o),this._mode=n,this._autopadding=!0}t(c,p),c.prototype._update=function(n){this._cache.add(n);for(var r,o,g=[];r=this._cache.get();)o=this._mode.encrypt(this,r),g.push(o);return x.concat(g)};var i=x.alloc(16,16);c.prototype._final=function(){var n=this._cache.flush();if(this._autopadding)return n=this._mode.encrypt(this,n),this._cipher.scrub(),n;if(!n.equals(i))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(n){return this._autopadding=!!n,this};function a(){this.cache=x.allocUnsafe(0)}a.prototype.add=function(n){this.cache=x.concat([this.cache,n])},a.prototype.get=function(){if(this.cache.length>15){var n=this.cache.slice(0,16);return this.cache=this.cache.slice(16),n}return null},a.prototype.flush=function(){for(var n=16-this.cache.length,r=x.allocUnsafe(n),o=-1;++o<n;)r.writeUInt8(n,o);return x.concat([this.cache,r])};function f(n,r,o){var g=v[n.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=x.from(r)),r.length!==g.key/8)throw new TypeError("invalid key length "+r.length);if(typeof o=="string"&&(o=x.from(o)),g.mode!=="GCM"&&o.length!==g.iv)throw new TypeError("invalid iv length "+o.length);return g.type==="stream"?new u(g.module,r,o):g.type==="auth"?new m(g.module,r,o):new c(g.module,r,o)}function l(n,r){var o=v[n.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var g=h(r,!1,o.key,o.iv);return f(n,g.key,g.iv)}j.createCipheriv=f,j.createCipher=l},83288:function(se,j,e){var v=e(89509).Buffer,m=v.alloc(16,0);function x(d){return[d.readUInt32BE(0),d.readUInt32BE(4),d.readUInt32BE(8),d.readUInt32BE(12)]}function u(d){var h=v.allocUnsafe(16);return h.writeUInt32BE(d[0]>>>0,0),h.writeUInt32BE(d[1]>>>0,4),h.writeUInt32BE(d[2]>>>0,8),h.writeUInt32BE(d[3]>>>0,12),h}function p(d){this.h=d,this.state=v.alloc(16,0),this.cache=v.allocUnsafe(0)}p.prototype.ghash=function(d){for(var h=-1;++h<d.length;)this.state[h]^=d[h];this._multiply()},p.prototype._multiply=function(){for(var d=x(this.h),h=[0,0,0,0],t,c,i,a=-1;++a<128;){for(c=(this.state[~~(a/8)]&1<<7-a%8)!==0,c&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),i=(d[3]&1)!==0,t=3;t>0;t--)d[t]=d[t]>>>1|(d[t-1]&1)<<31;d[0]=d[0]>>>1,i&&(d[0]=d[0]^225<<24)}this.state=u(h)},p.prototype.update=function(d){this.cache=v.concat([this.cache,d]);for(var h;this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},p.prototype.final=function(d,h){return this.cache.length&&this.ghash(v.concat([this.cache,m],16)),this.ghash(u([0,d,0,h])),this.state},se.exports=p},20685:function(se){function j(e){for(var v=e.length,m;v--;)if(m=e.readUInt8(v),m===255)e.writeUInt8(0,v);else{m++,e.writeUInt8(m,v);break}}se.exports=j},25292:function(se,j,e){var v=e(67295);j.encrypt=function(m,x){var u=v(x,m._prev);return m._prev=m._cipher.encryptBlock(u),m._prev},j.decrypt=function(m,x){var u=m._prev;m._prev=x;var p=m._cipher.decryptBlock(x);return v(p,u)}},86311:function(se,j,e){var v=e(89509).Buffer,m=e(67295);function x(u,p,d){var h=p.length,t=m(p,u._cache);return u._cache=u._cache.slice(h),u._prev=v.concat([u._prev,d?p:t]),t}j.encrypt=function(u,p,d){for(var h=v.allocUnsafe(0),t;p.length;)if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=v.allocUnsafe(0)),u._cache.length<=p.length)t=u._cache.length,h=v.concat([h,x(u,p.slice(0,t),d)]),p=p.slice(t);else{h=v.concat([h,x(u,p,d)]);break}return h}},21510:function(se,j,e){var v=e(89509).Buffer;function m(u,p,d){for(var h,t=-1,c=8,i=0,a,f;++t<c;)h=u._cipher.encryptBlock(u._prev),a=p&1<<7-t?128:0,f=h[0]^a,i+=(f&128)>>t%8,u._prev=x(u._prev,d?a:f);return i}function x(u,p){var d=u.length,h=-1,t=v.allocUnsafe(u.length);for(u=v.concat([u,v.from([p])]);++h<d;)t[h]=u[h]<<1|u[h+1]>>7;return t}j.encrypt=function(u,p,d){for(var h=p.length,t=v.allocUnsafe(h),c=-1;++c<h;)t[c]=m(u,p[c],d);return t}},71964:function(se,j,e){var v=e(89509).Buffer;function m(x,u,p){var d=x._cipher.encryptBlock(x._prev),h=d[0]^u;return x._prev=v.concat([x._prev.slice(1),v.from([p?u:h])]),h}j.encrypt=function(x,u,p){for(var d=u.length,h=v.allocUnsafe(d),t=-1;++t<d;)h[t]=m(x,u[t],p);return h}},96009:function(se,j,e){var v=e(67295),m=e(89509).Buffer,x=e(20685);function u(d){var h=d._cipher.encryptBlockRaw(d._prev);return x(d._prev),h}var p=16;j.encrypt=function(d,h){var t=Math.ceil(h.length/p),c=d._cache.length;d._cache=m.concat([d._cache,m.allocUnsafe(t*p)]);for(var i=0;i<t;i++){var a=u(d),f=c+i*p;d._cache.writeUInt32BE(a[0],f+0),d._cache.writeUInt32BE(a[1],f+4),d._cache.writeUInt32BE(a[2],f+8),d._cache.writeUInt32BE(a[3],f+12)}var l=d._cache.slice(0,h.length);return d._cache=d._cache.slice(h.length),v(h,l)}},11084:function(se,j){j.encrypt=function(e,v){return e._cipher.encryptBlock(v)},j.decrypt=function(e,v){return e._cipher.decryptBlock(v)}},45:function(se,j,e){var v={ECB:e(11084),CBC:e(25292),CFB:e(86311),CFB8:e(71964),CFB1:e(21510),OFB:e(18861),CTR:e(96009),GCM:e(96009)},m=e(44946);for(var x in m)m[x].module=v[m[x].mode];se.exports=m},18861:function(se,j,e){var v=e(48764).Buffer,m=e(67295);function x(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}j.encrypt=function(u,p){for(;u._cache.length<p.length;)u._cache=v.concat([u._cache,x(u)]);var d=u._cache.slice(0,p.length);return u._cache=u._cache.slice(p.length),m(p,d)}},25969:function(se,j,e){var v=e(74497),m=e(89509).Buffer,x=e(71027),u=e(35717);function p(d,h,t,c){x.call(this),this._cipher=new v.AES(h),this._prev=m.from(t),this._cache=m.allocUnsafe(0),this._secCache=m.allocUnsafe(0),this._decrypt=c,this._mode=d}u(p,x),p.prototype._update=function(d){return this._mode.encrypt(this,d,this._decrypt)},p.prototype._final=function(){this._cipher.scrub()},se.exports=p},53614:function(se,j,e){var v=e(47667),m=e(44696),x=e(45),u=e(99715),p=e(13048);function d(a,f){a=a.toLowerCase();var l,n;if(x[a])l=x[a].key,n=x[a].iv;else if(u[a])l=u[a].key*8,n=u[a].iv;else throw new TypeError("invalid suite type");var r=p(f,!1,l,n);return t(a,r.key,r.iv)}function h(a,f){a=a.toLowerCase();var l,n;if(x[a])l=x[a].key,n=x[a].iv;else if(u[a])l=u[a].key*8,n=u[a].iv;else throw new TypeError("invalid suite type");var r=p(f,!1,l,n);return c(a,r.key,r.iv)}function t(a,f,l){if(a=a.toLowerCase(),x[a])return m.createCipheriv(a,f,l);if(u[a])return new v({key:f,iv:l,mode:a});throw new TypeError("invalid suite type")}function c(a,f,l){if(a=a.toLowerCase(),x[a])return m.createDecipheriv(a,f,l);if(u[a])return new v({key:f,iv:l,mode:a,decrypt:!0});throw new TypeError("invalid suite type")}function i(){return Object.keys(u).concat(m.getCiphers())}j.createCipher=j.Cipher=d,j.createCipheriv=j.Cipheriv=t,j.createDecipher=j.Decipher=h,j.createDecipheriv=j.Decipheriv=c,j.listCiphers=j.getCiphers=i},47667:function(se,j,e){var v=e(71027),m=e(15251),x=e(35717),u=e(89509).Buffer,p={"des-ede3-cbc":m.CBC.instantiate(m.EDE),"des-ede3":m.EDE,"des-ede-cbc":m.CBC.instantiate(m.EDE),"des-ede":m.EDE,"des-cbc":m.CBC.instantiate(m.DES),"des-ecb":m.DES};p.des=p["des-cbc"],p.des3=p["des-ede3-cbc"],se.exports=d,x(d,v);function d(h){v.call(this);var t=h.mode.toLowerCase(),c=p[t],i;h.decrypt?i="decrypt":i="encrypt";var a=h.key;u.isBuffer(a)||(a=u.from(a)),(t==="des-ede"||t==="des-ede-cbc")&&(a=u.concat([a,a.slice(0,8)]));var f=h.iv;u.isBuffer(f)||(f=u.from(f)),this._des=c.create({key:a,iv:f,type:i})}d.prototype._update=function(h){return u.from(this._des.update(h))},d.prototype._final=function(){return u.from(this._des.final())}},99715:function(se,j){j["des-ecb"]={key:8,iv:0},j["des-cbc"]=j.des={key:8,iv:8},j["des-ede3-cbc"]=j.des3={key:24,iv:8},j["des-ede3"]={key:24,iv:0},j["des-ede-cbc"]={key:16,iv:8},j["des-ede"]={key:16,iv:0}},88500:function(se,j,e){"use strict";var v=e(48764).Buffer,m=e(48764).SlowBuffer;se.exports=x;function x(d,h){if(!v.isBuffer(d)||!v.isBuffer(h)||d.length!==h.length)return!1;for(var t=0,c=0;c<d.length;c++)t|=d[c]^h[c];return t===0}x.install=function(){v.prototype.equal=m.prototype.equal=function(h){return x(this,h)}};var u=v.prototype.equal,p=m.prototype.equal;x.restore=function(){v.prototype.equal=u,m.prototype.equal=p}},67295:function(se,j,e){var v=e(48764).Buffer;se.exports=function(x,u){for(var p=Math.min(x.length,u.length),d=new v(p),h=0;h<p;++h)d[h]=x[h]^u[h];return d}},21924:function(se,j,e){"use strict";var v=e(40210),m=e(55559),x=m(v("String.prototype.indexOf"));se.exports=function(p,d){var h=v(p,!!d);return typeof h=="function"&&x(p,".prototype.")>-1?m(h):h}},55559:function(se,j,e){"use strict";var v=e(58612),m=e(40210),x=e(67771),u=m("%TypeError%"),p=m("%Function.prototype.apply%"),d=m("%Function.prototype.call%"),h=m("%Reflect.apply%",!0)||v.call(d,p),t=m("%Object.defineProperty%",!0),c=m("%Math.max%");if(t)try{t({},"a",{value:1})}catch(a){t=null}se.exports=function(f){if(typeof f!="function")throw new u("a function is required");var l=h(v,d,arguments);return x(l,1+c(0,f.length-(arguments.length-1)),!0)};var i=function(){return h(v,p,arguments)};t?t(se.exports,"apply",{value:i}):se.exports.apply=i},38399:function(se,j,e){"use strict";e.d(j,{eV:function(){return p}});var v=e(97582),m=e(57764);function x(d,h){return h===0?d.toLowerCase():(0,m.By)(d,h)}function u(d,h){return h===0?d.toLowerCase():pascalCaseTransformMerge(d)}function p(d,h){return h===void 0&&(h={}),(0,m.Ho)(d,(0,v.pi)({transform:x},h))}},71027:function(se,j,e){var v=e(89509).Buffer,m=e(91583).Transform,x=e(6941).s,u=e(35717);function p(d){m.call(this),this.hashMode=typeof d=="string",this.hashMode?this[d]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}u(p,m),p.prototype.update=function(d,h,t){typeof d=="string"&&(d=v.from(d,h));var c=this._update(d);return this.hashMode?this:(t&&(c=this._toString(c,t)),c)},p.prototype.setAutoPadding=function(){},p.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},p.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},p.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},p.prototype._transform=function(d,h,t){var c;try{this.hashMode?this._update(d):this.push(this._update(d))}catch(i){c=i}finally{t(c)}},p.prototype._flush=function(d){var h;try{this.push(this.__final())}catch(t){h=t}d(h)},p.prototype._finalOrDigest=function(d){var h=this.__final()||v.alloc(0);return d&&(h=this._toString(h,d,!0)),h},p.prototype._toString=function(d,h,t){if(this._decoder||(this._decoder=new x(h),this._encoding=h),this._encoding!==h)throw new Error("can't switch encodings");var c=this._decoder.write(d);return t&&(c+=this._decoder.end()),c},se.exports=p},94184:function(se,j){var e,v;(function(){"use strict";var m={}.hasOwnProperty,x="[native code]";function u(){for(var p=[],d=0;d<arguments.length;d++){var h=arguments[d];if(h){var t=typeof h;if(t==="string"||t==="number")p.push(h);else if(Array.isArray(h)){if(h.length){var c=u.apply(null,h);c&&p.push(c)}}else if(t==="object"){if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]")){p.push(h.toString());continue}for(var i in h)m.call(h,i)&&h[i]&&p.push(i)}}}return p.join(" ")}se.exports?(u.default=u,se.exports=u):(e=[],v=function(){return u}.apply(j,e),v!==void 0&&(se.exports=v))})()},61977:function(se,j){var e,v;(function(m){"use strict";var x=Math.cosh||function(a){return Math.abs(a)<1e-9?1-a:(Math.exp(a)+Math.exp(-a))*.5},u=Math.sinh||function(a){return Math.abs(a)<1e-9?a:(Math.exp(a)-Math.exp(-a))*.5},p=function(a){var f=Math.PI/4;if(-f>a||a>f)return Math.cos(a)-1;var l=a*a;return l*(l*(l*(l*(l*(l*(l*(l/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},d=function(a,f){var l=Math.abs(a),n=Math.abs(f);return l<3e3&&n<3e3?Math.sqrt(l*l+n*n):(l<n?(l=n,n=a/f):n=f/a,l*Math.sqrt(1+n*n))},h=function(){throw SyntaxError("Invalid Param")};function t(a,f){var l=Math.abs(a),n=Math.abs(f);return a===0?Math.log(n):f===0?Math.log(l):l<3e3&&n<3e3?Math.log(a*a+f*f)*.5:(a=a/2,f=f/2,.5*Math.log(a*a+f*f)+Math.LN2)}var c=function(a,f){var l={re:0,im:0};if(a==null)l.re=l.im=0;else if(f!==void 0)l.re=a,l.im=f;else switch(typeof a){case"object":if("im"in a&&"re"in a)l.re=a.re,l.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return i.INFINITY;l.re=a.abs*Math.cos(a.arg),l.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return i.INFINITY;l.re=a.r*Math.cos(a.phi),l.im=a.r*Math.sin(a.phi)}else a.length===2?(l.re=a[0],l.im=a[1]):h();break;case"string":l.im=l.re=0;var n=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,o=0;n===null&&h();for(var g=0;g<n.length;g++){var y=n[g];y===" "||y==="	"||y===`
`||(y==="+"?r++:y==="-"?o++:y==="i"||y==="I"?(r+o===0&&h(),n[g+1]!==" "&&!isNaN(n[g+1])?(l.im+=parseFloat((o%2?"-":"")+n[g+1]),g++):l.im+=parseFloat((o%2?"-":"")+"1"),r=o=0):((r+o===0||isNaN(y))&&h(),n[g+1]==="i"||n[g+1]==="I"?(l.im+=parseFloat((o%2?"-":"")+y),g++):l.re+=parseFloat((o%2?"-":"")+y),r=o=0))}r+o>0&&h();break;case"number":l.im=0,l.re=a;break;default:h()}return isNaN(l.re)||isNaN(l.im),l};function i(a,f){if(!(this instanceof i))return new i(a,f);var l=c(a,f);this.re=l.re,this.im=l.im}i.prototype={re:0,im:0,sign:function(){var a=this.abs();return new i(this.re/a,this.im/a)},add:function(a,f){var l=new i(a,f);return this.isInfinite()&&l.isInfinite()?i.NAN:this.isInfinite()||l.isInfinite()?i.INFINITY:new i(this.re+l.re,this.im+l.im)},sub:function(a,f){var l=new i(a,f);return this.isInfinite()&&l.isInfinite()?i.NAN:this.isInfinite()||l.isInfinite()?i.INFINITY:new i(this.re-l.re,this.im-l.im)},mul:function(a,f){var l=new i(a,f);return this.isInfinite()&&l.isZero()||this.isZero()&&l.isInfinite()?i.NAN:this.isInfinite()||l.isInfinite()?i.INFINITY:l.im===0&&this.im===0?new i(this.re*l.re,0):new i(this.re*l.re-this.im*l.im,this.re*l.im+this.im*l.re)},div:function(a,f){var l=new i(a,f);if(this.isZero()&&l.isZero()||this.isInfinite()&&l.isInfinite())return i.NAN;if(this.isInfinite()||l.isZero())return i.INFINITY;if(this.isZero()||l.isInfinite())return i.ZERO;a=this.re,f=this.im;var n=l.re,r=l.im,o,g;return r===0?new i(a/n,f/n):Math.abs(n)<Math.abs(r)?(g=n/r,o=n*g+r,new i((a*g+f)/o,(f*g-a)/o)):(g=r/n,o=r*g+n,new i((a+f*g)/o,(f-a*g)/o))},pow:function(a,f){var l=new i(a,f);if(a=this.re,f=this.im,l.isZero())return i.ONE;if(l.im===0){if(f===0&&a>0)return new i(Math.pow(a,l.re),0);if(a===0)switch((l.re%4+4)%4){case 0:return new i(Math.pow(f,l.re),0);case 1:return new i(0,Math.pow(f,l.re));case 2:return new i(-Math.pow(f,l.re),0);case 3:return new i(0,-Math.pow(f,l.re))}}if(a===0&&f===0&&l.re>0&&l.im>=0)return i.ZERO;var n=Math.atan2(f,a),r=t(a,f);return a=Math.exp(l.re*r-l.im*n),f=l.im*r+l.re*n,new i(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){var a=this.re,f=this.im,l=this.abs(),n,r;if(a>=0){if(f===0)return new i(Math.sqrt(a),0);n=.5*Math.sqrt(2*(l+a))}else n=Math.abs(f)/Math.sqrt(2*(l-a));return a<=0?r=.5*Math.sqrt(2*(l-a)):r=Math.abs(f)/Math.sqrt(2*(l+a)),new i(n,f<0?-r:r)},exp:function(){var a=Math.exp(this.re);return this.im,new i(a*Math.cos(this.im),a*Math.sin(this.im))},expm1:function(){var a=this.re,f=this.im;return new i(Math.expm1(a)*Math.cos(f)+p(f),Math.exp(a)*Math.sin(f))},log:function(){var a=this.re,f=this.im;return f===0&&a>0,new i(t(a,f),Math.atan2(f,a))},abs:function(){return d(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,f=this.im;return new i(Math.sin(a)*x(f),Math.cos(a)*u(f))},cos:function(){var a=this.re,f=this.im;return new i(Math.cos(a)*x(f),-Math.sin(a)*u(f))},tan:function(){var a=2*this.re,f=2*this.im,l=Math.cos(a)+x(f);return new i(Math.sin(a)/l,u(f)/l)},cot:function(){var a=2*this.re,f=2*this.im,l=Math.cos(a)-x(f);return new i(-Math.sin(a)/l,u(f)/l)},sec:function(){var a=this.re,f=this.im,l=.5*x(2*f)+.5*Math.cos(2*a);return new i(Math.cos(a)*x(f)/l,Math.sin(a)*u(f)/l)},csc:function(){var a=this.re,f=this.im,l=.5*x(2*f)-.5*Math.cos(2*a);return new i(Math.sin(a)*x(f)/l,-Math.cos(a)*u(f)/l)},asin:function(){var a=this.re,f=this.im,l=new i(f*f-a*a+1,-2*a*f).sqrt(),n=new i(l.re-f,l.im+a).log();return new i(n.im,-n.re)},acos:function(){var a=this.re,f=this.im,l=new i(f*f-a*a+1,-2*a*f).sqrt(),n=new i(l.re-f,l.im+a).log();return new i(Math.PI/2-n.im,n.re)},atan:function(){var a=this.re,f=this.im;if(a===0){if(f===1)return new i(0,1/0);if(f===-1)return new i(0,-1/0)}var l=a*a+(1-f)*(1-f),n=new i((1-f*f-a*a)/l,-2*a/l).log();return new i(-.5*n.im,.5*n.re)},acot:function(){var a=this.re,f=this.im;if(f===0)return new i(Math.atan2(1,a),0);var l=a*a+f*f;return l!==0?new i(a/l,-f/l).atan():new i(a!==0?a/0:0,f!==0?-f/0:0).atan()},asec:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new i(0,1/0);var l=a*a+f*f;return l!==0?new i(a/l,-f/l).acos():new i(a!==0?a/0:0,f!==0?-f/0:0).acos()},acsc:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new i(Math.PI/2,1/0);var l=a*a+f*f;return l!==0?new i(a/l,-f/l).asin():new i(a!==0?a/0:0,f!==0?-f/0:0).asin()},sinh:function(){var a=this.re,f=this.im;return new i(u(a)*Math.cos(f),x(a)*Math.sin(f))},cosh:function(){var a=this.re,f=this.im;return new i(x(a)*Math.cos(f),u(a)*Math.sin(f))},tanh:function(){var a=2*this.re,f=2*this.im,l=x(a)+Math.cos(f);return new i(u(a)/l,Math.sin(f)/l)},coth:function(){var a=2*this.re,f=2*this.im,l=x(a)-Math.cos(f);return new i(u(a)/l,-Math.sin(f)/l)},csch:function(){var a=this.re,f=this.im,l=Math.cos(2*f)-x(2*a);return new i(-2*u(a)*Math.cos(f)/l,2*x(a)*Math.sin(f)/l)},sech:function(){var a=this.re,f=this.im,l=Math.cos(2*f)+x(2*a);return new i(2*x(a)*Math.cos(f)/l,-2*u(a)*Math.sin(f)/l)},asinh:function(){var a=this.im;this.im=-this.re,this.re=a;var f=this.asin();return this.re=-this.im,this.im=a,a=f.re,f.re=-f.im,f.im=a,f},acosh:function(){var a=this.acos();if(a.im<=0){var f=a.re;a.re=-a.im,a.im=f}else{var f=a.im;a.im=-a.re,a.re=f}return a},atanh:function(){var a=this.re,f=this.im,l=a>1&&f===0,n=1-a,r=1+a,o=n*n+f*f,g=o!==0?new i((r*n-f*f)/o,(f*n+r*f)/o):new i(a!==-1?a/0:0,f!==0?f/0:0),y=g.re;return g.re=t(g.re,g.im)/2,g.im=Math.atan2(g.im,y)/2,l&&(g.im=-g.im),g},acoth:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new i(0,Math.PI/2);var l=a*a+f*f;return l!==0?new i(a/l,-f/l).atanh():new i(a!==0?a/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var a=this.re,f=this.im;if(f===0)return new i(a!==0?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var l=a*a+f*f;return l!==0?new i(a/l,-f/l).asinh():new i(a!==0?a/0:0,f!==0?-f/0:0).asinh()},asech:function(){var a=this.re,f=this.im;if(this.isZero())return i.INFINITY;var l=a*a+f*f;return l!==0?new i(a/l,-f/l).acosh():new i(a!==0?a/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return i.INFINITY;if(this.isInfinite())return i.ZERO;var a=this.re,f=this.im,l=a*a+f*f;return new i(a/l,-f/l)},conjugate:function(){return new i(this.re,-this.im)},neg:function(){return new i(-this.re,-this.im)},ceil:function(a){return a=Math.pow(10,a||0),new i(Math.ceil(this.re*a)/a,Math.ceil(this.im*a)/a)},floor:function(a){return a=Math.pow(10,a||0),new i(Math.floor(this.re*a)/a,Math.floor(this.im*a)/a)},round:function(a){return a=Math.pow(10,a||0),new i(Math.round(this.re*a)/a,Math.round(this.im*a)/a)},equals:function(a,f){var l=new i(a,f);return Math.abs(l.re-this.re)<=i.EPSILON&&Math.abs(l.im-this.im)<=i.EPSILON},clone:function(){return new i(this.re,this.im)},toString:function(){var a=this.re,f=this.im,l="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<i.EPSILON&&(a=0),Math.abs(f)<i.EPSILON&&(f=0),f===0?l+a:(a!==0?(l+=a,l+=" ",f<0?(f=-f,l+="-"):l+="+",l+=" "):f<0&&(f=-f,l+="-"),f!==1&&(l+=f),l+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},i.ZERO=new i(0,0),i.ONE=new i(1,0),i.I=new i(0,1),i.PI=new i(Math.PI,0),i.E=new i(Math.E,0),i.INFINITY=new i(1/0,1/0),i.NAN=new i(NaN,NaN),i.EPSILON=1e-15,e=[],v=function(){return i}.apply(j,e),v!==void 0&&(se.exports=v)})(this)},20640:function(se,j,e){"use strict";var v=e(11742),m={"text/plain":"Text","text/html":"Url",default:"Text"},x="Copy to clipboard: #{key}, Enter";function u(d){var h=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return d.replace(/#{\s*key\s*}/g,h)}function p(d,h){var t,c,i,a,f,l,n=!1;h||(h={}),t=h.debug||!1;try{i=v(),a=document.createRange(),f=document.getSelection(),l=document.createElement("span"),l.textContent=d,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(o){if(o.stopPropagation(),h.format)if(o.preventDefault(),typeof o.clipboardData=="undefined"){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=m[h.format]||m.default;window.clipboardData.setData(g,d)}else o.clipboardData.clearData(),o.clipboardData.setData(h.format,d);h.onCopy&&(o.preventDefault(),h.onCopy(o.clipboardData))}),document.body.appendChild(l),a.selectNodeContents(l),f.addRange(a);var r=document.execCommand("copy");if(!r)throw new Error("copy command was unsuccessful");n=!0}catch(o){t&&console.error("unable to copy using execCommand: ",o),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(h.format||"text",d),h.onCopy&&h.onCopy(window.clipboardData),n=!0}catch(g){t&&console.error("unable to copy using clipboardData: ",g),t&&console.error("falling back to prompt"),c=u("message"in h?h.message:x),window.prompt(c,d)}}finally{f&&(typeof f.removeRange=="function"?f.removeRange(a):f.removeAllRanges()),l&&document.body.removeChild(l),i()}return n}se.exports=p},16497:function(se,j,e){function v(o){return Array.isArray?Array.isArray(o):r(o)==="[object Array]"}j.isArray=v;function m(o){return typeof o=="boolean"}j.isBoolean=m;function x(o){return o===null}j.isNull=x;function u(o){return o==null}j.isNullOrUndefined=u;function p(o){return typeof o=="number"}j.isNumber=p;function d(o){return typeof o=="string"}j.isString=d;function h(o){return typeof o=="symbol"}j.isSymbol=h;function t(o){return o===void 0}j.isUndefined=t;function c(o){return r(o)==="[object RegExp]"}j.isRegExp=c;function i(o){return typeof o=="object"&&o!==null}j.isObject=i;function a(o){return r(o)==="[object Date]"}j.isDate=a;function f(o){return r(o)==="[object Error]"||o instanceof Error}j.isError=f;function l(o){return typeof o=="function"}j.isFunction=l;function n(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||typeof o=="undefined"}j.isPrimitive=n,j.isBuffer=e(48764).Buffer.isBuffer;function r(o){return Object.prototype.toString.call(o)}},76393:function(se,j,e){var v=e(48764).Buffer,m=e(86266),x=e(13550);se.exports=function(t){return new p(t)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1;function p(h){this.curveType=u[h],this.curveType||(this.curveType={name:h}),this.curve=new m.ec(this.curveType.name),this.keys=void 0}p.prototype.generateKeys=function(h,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,t)},p.prototype.computeSecret=function(h,t,c){t=t||"utf8",v.isBuffer(h)||(h=new v(h,t));var i=this.curve.keyFromPublic(h).getPublic(),a=i.mul(this.keys.getPrivate()).getX();return d(a,c,this.curveType.byteLength)},p.prototype.getPublicKey=function(h,t){var c=this.keys.getPublic(t==="compressed",!0);return t==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),d(c,h)},p.prototype.getPrivateKey=function(h){return d(this.keys.getPrivate(),h)},p.prototype.setPublicKey=function(h,t){return t=t||"utf8",v.isBuffer(h)||(h=new v(h,t)),this.keys._importPublic(h),this},p.prototype.setPrivateKey=function(h,t){t=t||"utf8",v.isBuffer(h)||(h=new v(h,t));var c=new x(h);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function d(h,t,c){Array.isArray(h)||(h=h.toArray());var i=new v(h);if(c&&i.length<c){var a=new v(c-i.length);a.fill(0),i=v.concat([a,i])}return t?i.toString(t):i}},23482:function(se,j,e){"use strict";var v=e(35717),m=e(62318),x=e(79785),u=e(89072),p=e(71027);function d(h){p.call(this,"digest"),this._hash=h}v(d,p),d.prototype._update=function(h){this._hash.update(h)},d.prototype._final=function(){return this._hash.digest()},se.exports=function(t){return t=t.toLowerCase(),t==="md5"?new m:t==="rmd160"||t==="ripemd160"?new x:new d(u(t))}},78028:function(se,j,e){var v=e(62318);se.exports=function(m){return new v().update(m).digest()}},58355:function(se,j,e){"use strict";var v=e(35717),m=e(51031),x=e(71027),u=e(89509).Buffer,p=e(78028),d=e(79785),h=e(89072),t=u.alloc(128);function c(i,a){x.call(this,"digest"),typeof a=="string"&&(a=u.from(a));var f=i==="sha512"||i==="sha384"?128:64;if(this._alg=i,this._key=a,a.length>f){var l=i==="rmd160"?new d:h(i);a=l.update(a).digest()}else a.length<f&&(a=u.concat([a,t],f));for(var n=this._ipad=u.allocUnsafe(f),r=this._opad=u.allocUnsafe(f),o=0;o<f;o++)n[o]=a[o]^54,r[o]=a[o]^92;this._hash=i==="rmd160"?new d:h(i),this._hash.update(n)}v(c,x),c.prototype._update=function(i){this._hash.update(i)},c.prototype._final=function(){var i=this._hash.digest(),a=this._alg==="rmd160"?new d:h(this._alg);return a.update(this._opad).update(i).digest()},se.exports=function(a,f){return a=a.toLowerCase(),a==="rmd160"||a==="ripemd160"?new c("rmd160",f):a==="md5"?new m(p,f):new c(a,f)}},51031:function(se,j,e){"use strict";var v=e(35717),m=e(89509).Buffer,x=e(71027),u=m.alloc(128),p=64;function d(h,t){x.call(this,"digest"),typeof t=="string"&&(t=m.from(t)),this._alg=h,this._key=t,t.length>p?t=h(t):t.length<p&&(t=m.concat([t,u],p));for(var c=this._ipad=m.allocUnsafe(p),i=this._opad=m.allocUnsafe(p),a=0;a<p;a++)c[a]=t[a]^54,i[a]=t[a]^92;this._hash=[c]}v(d,x),d.prototype._update=function(h){this._hash.push(h)},d.prototype._final=function(){var h=this._alg(m.concat(this._hash));return this._alg(m.concat([this._opad,h]))},se.exports=d},92458:function(se){(function(e,v){se.exports=v()})(globalThis,()=>(()=>{"use strict";var j={794:(x,u,p)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CronParser=void 0;var d=p(586),h=function(){function t(c,i,a){i===void 0&&(i=!0),a===void 0&&(a=!1),this.expression=c,this.dayOfWeekStartIndexZero=i,this.monthStartIndexZero=a}return t.prototype.parse=function(){var c=this.extractParts(this.expression);return this.normalize(c),this.validate(c),c},t.prototype.extractParts=function(c){if(!this.expression)throw new Error("cron expression is empty");for(var i=c.trim().split(/[ ]+/),a=0;a<i.length;a++)if(i[a].includes(",")){var f=i[a].split(",").map(function(n){return n.trim()}).filter(function(n){return n!==""}).map(function(n){return isNaN(Number(n))?n:Number(n)}).filter(function(n){return n!==null&&n!==""});f.length===0&&f.push("*"),f.sort(function(n,r){return n!==null&&r!==null?n-r:0}),i[a]=f.map(function(n){return n!==null?n.toString():""}).join(",")}if(i.length<5)throw new Error("Expression has only ".concat(i.length," part").concat(i.length==1?"":"s",". At least 5 parts are required."));if(i.length==5)i.unshift(""),i.push("");else if(i.length==6){var l=/\d{4}$/.test(i[5])||i[4]=="?"||i[2]=="?";l?i.unshift(""):i.push("")}else if(i.length>7)throw new Error("Expression has ".concat(i.length," parts; too many!"));return i},t.prototype.normalize=function(c){var i=this;if(c[3]=c[3].replace("?","*"),c[5]=c[5].replace("?","*"),c[2]=c[2].replace("?","*"),c[0].indexOf("0/")==0&&(c[0]=c[0].replace("0/","*/")),c[1].indexOf("0/")==0&&(c[1]=c[1].replace("0/","*/")),c[2].indexOf("0/")==0&&(c[2]=c[2].replace("0/","*/")),c[3].indexOf("1/")==0&&(c[3]=c[3].replace("1/","*/")),c[4].indexOf("1/")==0&&(c[4]=c[4].replace("1/","*/")),c[6].indexOf("1/")==0&&(c[6]=c[6].replace("1/","*/")),c[5]=c[5].replace(/(^\d)|([^#/\s]\d)/g,function(y){var D=y.replace(/\D/,""),P=D;return i.dayOfWeekStartIndexZero?D=="7"&&(P="0"):P=(parseInt(D)-1).toString(),y.replace(D,P)}),c[5]=="L"&&(c[5]="6"),c[3]=="?"&&(c[3]="*"),c[3].indexOf("W")>-1&&(c[3].indexOf(",")>-1||c[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var a={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var f in a)c[5]=c[5].replace(new RegExp(f,"gi"),a[f].toString());c[4]=c[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(y){var D=y.replace(/\D/,""),P=D;return i.monthStartIndexZero&&(P=(parseInt(D)+1).toString()),y.replace(D,P)});var l={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var n in l)c[4]=c[4].replace(new RegExp(n,"gi"),l[n].toString());c[0]=="0"&&(c[0]=""),!/\*|\-|\,|\//.test(c[2])&&(/\*|\//.test(c[1])||/\*|\//.test(c[0]))&&(c[2]+="-".concat(c[2]));for(var r=0;r<c.length;r++)if(c[r].indexOf(",")!=-1&&(c[r]=c[r].split(",").filter(function(y){return y!==""}).join(",")||"*"),c[r]=="*/1"&&(c[r]="*"),c[r].indexOf("/")>-1&&!/^\*|\-|\,/.test(c[r])){var o=null;switch(r){case 4:o="12";break;case 5:o="6";break;case 6:o="9999";break;default:o=null;break}if(o!==null){var g=c[r].split("/");c[r]="".concat(g[0],"-").concat(o,"/").concat(g[1])}}},t.prototype.validate=function(c){this.assertNoInvalidCharacters("DOW",c[5]),this.assertNoInvalidCharacters("DOM",c[3]),this.validateRange(c)},t.prototype.validateRange=function(c){d.default.secondRange(c[0]),d.default.minuteRange(c[1]),d.default.hourRange(c[2]),d.default.dayOfMonthRange(c[3]),d.default.monthRange(c[4],this.monthStartIndexZero),d.default.dayOfWeekRange(c[5],this.dayOfWeekStartIndexZero)},t.prototype.assertNoInvalidCharacters=function(c,i){var a=i.match(/[A-KM-VX-Z]+/gi);if(a&&a.length)throw new Error("".concat(c," part contains invalid values: '").concat(a.toString(),"'"))},t}();u.CronParser=h},728:(x,u,p)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ExpressionDescriptor=void 0;var d=p(910),h=p(794),t=function(){function c(i,a){if(this.expression=i,this.options=a,this.expressionParts=new Array(5),!this.options.locale&&c.defaultLocale&&(this.options.locale=c.defaultLocale),!c.locales[this.options.locale]){var f=Object.keys(c.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(f,"'.")),this.options.locale=f}this.i18n=c.locales[this.options.locale],a.use24HourTimeFormat===void 0&&(a.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return c.toString=function(i,a){var f=a===void 0?{}:a,l=f.throwExceptionOnParseError,n=l===void 0?!0:l,r=f.verbose,o=r===void 0?!1:r,g=f.dayOfWeekStartIndexZero,y=g===void 0?!0:g,D=f.monthStartIndexZero,P=D===void 0?!1:D,E=f.use24HourTimeFormat,O=f.locale,T=O===void 0?null:O,S=f.tzOffset,$=S===void 0?0:S,Z={throwExceptionOnParseError:n,verbose:o,dayOfWeekStartIndexZero:y,monthStartIndexZero:P,use24HourTimeFormat:E,locale:T,tzOffset:$},K=new c(i,Z);return K.getFullDescription()},c.initialize=function(i,a){a===void 0&&(a="en"),c.specialCharacters=["/","-",",","*"],c.defaultLocale=a,i.load(c.locales)},c.prototype.getFullDescription=function(){var i="";try{var a=new h.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=a.parse();var f=this.getTimeOfDayDescription(),l=this.getDayOfMonthDescription(),n=this.getMonthDescription(),r=this.getDayOfWeekDescription(),o=this.getYearDescription();i+=f+l+r+n+o,i=this.transformVerbosity(i,!!this.options.verbose),i=i.charAt(0).toLocaleUpperCase()+i.substr(1)}catch(g){if(!this.options.throwExceptionOnParseError)i=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(g)}return i},c.prototype.getTimeOfDayDescription=function(){var i=this.expressionParts[0],a=this.expressionParts[1],f=this.expressionParts[2],l="";if(!d.StringUtilities.containsAny(a,c.specialCharacters)&&!d.StringUtilities.containsAny(f,c.specialCharacters)&&!d.StringUtilities.containsAny(i,c.specialCharacters))l+=this.i18n.atSpace()+this.formatTime(f,a,i);else if(!i&&a.indexOf("-")>-1&&!(a.indexOf(",")>-1)&&!(a.indexOf("/")>-1)&&!d.StringUtilities.containsAny(f,c.specialCharacters)){var n=a.split("-");l+=d.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(f,n[0],""),this.formatTime(f,n[1],""))}else if(!i&&f.indexOf(",")>-1&&f.indexOf("-")==-1&&f.indexOf("/")==-1&&!d.StringUtilities.containsAny(a,c.specialCharacters)){var r=f.split(",");l+=this.i18n.at();for(var o=0;o<r.length;o++)l+=" ",l+=this.formatTime(r[o],a,""),o<r.length-2&&(l+=","),o==r.length-2&&(l+=this.i18n.spaceAnd())}else{var g=this.getSecondsDescription(),y=this.getMinutesDescription(),D=this.getHoursDescription();if(l+=g,l&&y&&(l+=", "),l+=y,y===D)return l;l&&D&&(l+=", "),l+=D}return l},c.prototype.getSecondsDescription=function(){var i=this,a=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(f){return f},function(f){return d.StringUtilities.format(i.i18n.everyX0Seconds(f),f)},function(f){return i.i18n.secondsX0ThroughX1PastTheMinute()},function(f){return f=="0"?"":parseInt(f)<20?i.i18n.atX0SecondsPastTheMinute(f):i.i18n.atX0SecondsPastTheMinuteGt20()||i.i18n.atX0SecondsPastTheMinute(f)});return a},c.prototype.getMinutesDescription=function(){var i=this,a=this.expressionParts[0],f=this.expressionParts[2],l=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(n){return n},function(n){return d.StringUtilities.format(i.i18n.everyX0Minutes(n),n)},function(n){return i.i18n.minutesX0ThroughX1PastTheHour()},function(n){try{return n=="0"&&f.indexOf("/")==-1&&a==""?i.i18n.everyHour():parseInt(n)<20?i.i18n.atX0MinutesPastTheHour(n):i.i18n.atX0MinutesPastTheHourGt20()||i.i18n.atX0MinutesPastTheHour(n)}catch(r){return i.i18n.atX0MinutesPastTheHour(n)}});return l},c.prototype.getHoursDescription=function(){var i=this,a=this.expressionParts[2],f=this.getSegmentDescription(a,this.i18n.everyHour(),function(r){return i.formatTime(r,"0","")},function(r){return d.StringUtilities.format(i.i18n.everyX0Hours(r),r)},function(r){return i.i18n.betweenX0AndX1()},function(r){return i.i18n.atX0()});if(f&&a.includes("-")&&this.expressionParts[1]!="0"){var l=Array.from(f.matchAll(/:00/g));if(l.length>1){var n=l[l.length-1].index;f=f.substring(0,n)+":59"+f.substring(n+3)}}return f},c.prototype.getDayOfWeekDescription=function(){var i=this,a=this.i18n.daysOfTheWeek(),f=null;return this.expressionParts[5]=="*"?f="":f=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(l,n){var r=l;l.indexOf("#")>-1?r=l.substring(0,l.indexOf("#")):l.indexOf("L")>-1&&(r=r.replace("L",""));var o=parseInt(r);if(i.options.tzOffset){var g=i.expressionParts[2],y=parseInt(g)+(i.options.tzOffset?i.options.tzOffset:0);y>=24?o++:y<0&&o--,o>6?o=0:o<0&&(o=6)}var D=i.i18n.daysOfTheWeekInCase?i.i18n.daysOfTheWeekInCase(n)[o]:a[o];if(l.indexOf("#")>-1){var P=null,E=l.substring(l.indexOf("#")+1),O=l.substring(0,l.indexOf("#"));switch(E){case"1":P=i.i18n.first(O);break;case"2":P=i.i18n.second(O);break;case"3":P=i.i18n.third(O);break;case"4":P=i.i18n.fourth(O);break;case"5":P=i.i18n.fifth(O);break}D=P+" "+D}return D},function(l){return parseInt(l)==1?"":d.StringUtilities.format(i.i18n.commaEveryX0DaysOfTheWeek(l),l)},function(l){var n=l.substring(0,l.indexOf("-")),r=i.expressionParts[3]!="*";return r?i.i18n.commaAndX0ThroughX1(n):i.i18n.commaX0ThroughX1(n)},function(l){var n=null;if(l.indexOf("#")>-1){var r=l.substring(l.indexOf("#")+1);n=i.i18n.commaOnThe(r).trim()+i.i18n.spaceX0OfTheMonth()}else if(l.indexOf("L")>-1)n=i.i18n.commaOnTheLastX0OfTheMonth(l.replace("L",""));else{var o=i.expressionParts[3]!="*";n=o?i.i18n.commaAndOnX0():i.i18n.commaOnlyOnX0(l)}return n}),f},c.prototype.getMonthDescription=function(){var i=this,a=this.i18n.monthsOfTheYear(),f=this.getSegmentDescription(this.expressionParts[4],"",function(l,n){return n&&i.i18n.monthsOfTheYearInCase?i.i18n.monthsOfTheYearInCase(n)[parseInt(l)-1]:a[parseInt(l)-1]},function(l){return parseInt(l)==1?"":d.StringUtilities.format(i.i18n.commaEveryX0Months(l),l)},function(l){return i.i18n.commaMonthX0ThroughMonthX1()||i.i18n.commaX0ThroughX1()},function(l){return i.i18n.commaOnlyInMonthX0?i.i18n.commaOnlyInMonthX0():i.i18n.commaOnlyInX0()});return f},c.prototype.getDayOfMonthDescription=function(){var i=this,a=null,f=this.expressionParts[3];switch(f){case"L":a=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":a=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var l=f.match(/(\d{1,2}W)|(W\d{1,2})/);if(l){var n=parseInt(l[0].replace("W","")),r=n==1?this.i18n.firstWeekday():d.StringUtilities.format(this.i18n.weekdayNearestDayX0(),n.toString());a=d.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),r);break}else{var o=f.match(/L-(\d{1,2})/);if(o){var g=o[1];a=d.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(g),g);break}else{if(f=="*"&&this.expressionParts[5]!="*")return"";a=this.getSegmentDescription(f,this.i18n.commaEveryDay(),function(y){return y=="L"?i.i18n.lastDay():i.i18n.dayX0?d.StringUtilities.format(i.i18n.dayX0(),y):y},function(y){return y=="1"?i.i18n.commaEveryDay():i.i18n.commaEveryX0Days(y)},function(y){return i.i18n.commaBetweenDayX0AndX1OfTheMonth(y)},function(y){return i.i18n.commaOnDayX0OfTheMonth(y)})}break}}return a},c.prototype.getYearDescription=function(){var i=this,a=this.getSegmentDescription(this.expressionParts[6],"",function(f){return/^\d+$/.test(f)?new Date(parseInt(f),1).getFullYear().toString():f},function(f){return d.StringUtilities.format(i.i18n.commaEveryX0Years(f),f)},function(f){return i.i18n.commaYearX0ThroughYearX1()||i.i18n.commaX0ThroughX1()},function(f){return i.i18n.commaOnlyInYearX0?i.i18n.commaOnlyInYearX0():i.i18n.commaOnlyInX0()});return a},c.prototype.getSegmentDescription=function(i,a,f,l,n,r){var o=null,g=i.indexOf("/")>-1,y=i.indexOf("-")>-1,D=i.indexOf(",")>-1;if(!i)o="";else if(i==="*")o=a;else if(!g&&!y&&!D)o=d.StringUtilities.format(r(i),f(i));else if(D){for(var P=i.split(","),E="",O=0;O<P.length;O++)if(O>0&&P.length>2&&(E+=",",O<P.length-1&&(E+=" ")),O>0&&P.length>1&&(O==P.length-1||P.length==2)&&(E+="".concat(this.i18n.spaceAnd()," ")),P[O].indexOf("/")>-1||P[O].indexOf("-")>-1){var T=P[O].indexOf("-")>-1&&P[O].indexOf("/")==-1,S=this.getSegmentDescription(P[O],a,f,l,T?this.i18n.commaX0ThroughX1:n,r);T&&(S=S.replace(", ","")),E+=S}else g?E+=this.getSegmentDescription(P[O],a,f,l,n,r):E+=f(P[O]);g?o=E:o=d.StringUtilities.format(r(i),E)}else if(g){var P=i.split("/");if(o=d.StringUtilities.format(l(P[1]),P[1]),P[0].indexOf("-")>-1){var $=this.generateRangeSegmentDescription(P[0],n,f);$.indexOf(", ")!=0&&(o+=", "),o+=$}else if(P[0].indexOf("*")==-1){var Z=d.StringUtilities.format(r(P[0]),f(P[0]));Z=Z.replace(", ",""),o+=d.StringUtilities.format(this.i18n.commaStartingX0(),Z)}}else y&&(o=this.generateRangeSegmentDescription(i,n,f));return o},c.prototype.generateRangeSegmentDescription=function(i,a,f){var l="",n=i.split("-"),r=f(n[0],1),o=f(n[1],2),g=a(i);return l+=d.StringUtilities.format(g,r,o),l},c.prototype.formatTime=function(i,a,f){var l=0,n=0;this.options.tzOffset&&(l=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),n=parseFloat((this.options.tzOffset%1).toFixed(2)),n!=0&&(n*=60));var r=parseInt(i)+l,o=parseInt(a)+n;o>=60?(o-=60,r+=1):o<0&&(o+=60,r-=1),r>=24?r=r-24:r<0&&(r=24+r);var g="",y=!1;this.options.use24HourTimeFormat||(y=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),g=y?"".concat(this.getPeriod(r)," "):" ".concat(this.getPeriod(r)),r>12&&(r-=12),r===0&&(r=12));var D="";return f&&(D=":".concat(("00"+f).substring(f.length))),"".concat(y?g:"").concat(("00"+r.toString()).substring(r.toString().length),":").concat(("00"+o.toString()).substring(o.toString().length)).concat(D).concat(y?"":g)},c.prototype.transformVerbosity=function(i,a){return a||(i=i.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),i=i.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),i=i.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),i=i.replace(/\, ?$/,"")),i},c.prototype.getPeriod=function(i){return i>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},c.locales={},c}();u.ExpressionDescriptor=t},336:(x,u,p)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.enLocaleLoader=void 0;var d=p(751),h=function(){function t(){}return t.prototype.load=function(c){c.en=new d.en},t}();u.enLocaleLoader=h},751:(x,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.en=void 0;var p=function(){function d(){}return d.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},d.prototype.atX0MinutesPastTheHourGt20=function(){return null},d.prototype.commaMonthX0ThroughMonthX1=function(){return null},d.prototype.commaYearX0ThroughYearX1=function(){return null},d.prototype.use24HourTimeFormatByDefault=function(){return!1},d.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},d.prototype.everyMinute=function(){return"every minute"},d.prototype.everyHour=function(){return"every hour"},d.prototype.atSpace=function(){return"At "},d.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},d.prototype.at=function(){return"At"},d.prototype.spaceAnd=function(){return" and"},d.prototype.everySecond=function(){return"every second"},d.prototype.everyX0Seconds=function(){return"every %s seconds"},d.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},d.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},d.prototype.everyX0Minutes=function(){return"every %s minutes"},d.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},d.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},d.prototype.everyX0Hours=function(){return"every %s hours"},d.prototype.betweenX0AndX1=function(){return"between %s and %s"},d.prototype.atX0=function(){return"at %s"},d.prototype.commaEveryDay=function(){return", every day"},d.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},d.prototype.commaX0ThroughX1=function(){return", %s through %s"},d.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},d.prototype.first=function(){return"first"},d.prototype.second=function(){return"second"},d.prototype.third=function(){return"third"},d.prototype.fourth=function(){return"fourth"},d.prototype.fifth=function(){return"fifth"},d.prototype.commaOnThe=function(){return", on the "},d.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},d.prototype.lastDay=function(){return"the last day"},d.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},d.prototype.commaOnlyOnX0=function(){return", only on %s"},d.prototype.commaAndOnX0=function(){return", and on %s"},d.prototype.commaEveryX0Months=function(){return", every %s months"},d.prototype.commaOnlyInX0=function(){return", only in %s"},d.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},d.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},d.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},d.prototype.firstWeekday=function(){return"first weekday"},d.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},d.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},d.prototype.commaEveryX0Days=function(){return", every %s days"},d.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},d.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},d.prototype.commaEveryHour=function(){return", every hour"},d.prototype.commaEveryX0Years=function(){return", every %s years"},d.prototype.commaStartingX0=function(){return", starting %s"},d.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},d}();u.en=p},586:(x,u)=>{Object.defineProperty(u,"__esModule",{value:!0});function p(h,t){if(!h)throw new Error(t)}var d=function(){function h(){}return h.secondRange=function(t){for(var c=t.split(","),i=0;i<c.length;i++)if(!isNaN(parseInt(c[i],10))){var a=parseInt(c[i],10);p(a>=0&&a<=59,"seconds part must be >= 0 and <= 59")}},h.minuteRange=function(t){for(var c=t.split(","),i=0;i<c.length;i++)if(!isNaN(parseInt(c[i],10))){var a=parseInt(c[i],10);p(a>=0&&a<=59,"minutes part must be >= 0 and <= 59")}},h.hourRange=function(t){for(var c=t.split(","),i=0;i<c.length;i++)if(!isNaN(parseInt(c[i],10))){var a=parseInt(c[i],10);p(a>=0&&a<=23,"hours part must be >= 0 and <= 23")}},h.dayOfMonthRange=function(t){for(var c=t.split(","),i=0;i<c.length;i++)if(!isNaN(parseInt(c[i],10))){var a=parseInt(c[i],10);p(a>=1&&a<=31,"DOM part must be >= 1 and <= 31")}},h.monthRange=function(t,c){for(var i=t.split(","),a=0;a<i.length;a++)if(!isNaN(parseInt(i[a],10))){var f=parseInt(i[a],10);p(f>=1&&f<=12,c?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},h.dayOfWeekRange=function(t,c){for(var i=t.split(","),a=0;a<i.length;a++)if(!isNaN(parseInt(i[a],10))){var f=parseInt(i[a],10);p(f>=0&&f<=6,c?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},h}();u.default=d},910:(x,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StringUtilities=void 0;var p=function(){function d(){}return d.format=function(h){for(var t=[],c=1;c<arguments.length;c++)t[c-1]=arguments[c];return h.replace(/%s/g,function(i){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];return t.shift()})},d.containsAny=function(h,t){return t.some(function(c){return h.indexOf(c)>-1})},d}();u.StringUtilities=p}},e={};function v(x){var u=e[x];if(u!==void 0)return u.exports;var p=e[x]={exports:{}};return j[x](p,p.exports,v),p.exports}var m={};return(()=>{var x=m;Object.defineProperty(x,"__esModule",{value:!0}),x.toString=void 0;var u=v(728),p=v(336);u.ExpressionDescriptor.initialize(new p.enLocaleLoader),x.default=u.ExpressionDescriptor;var d=u.ExpressionDescriptor.toString;x.toString=d})(),m})())},55835:function(se,j,e){"use strict";j.randomBytes=j.rng=j.pseudoRandomBytes=j.prng=e(61798),j.createHash=j.Hash=e(23482),j.createHmac=j.Hmac=e(58355);var v=e(56042),m=Object.keys(v),x=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(m);j.getHashes=function(){return x};var u=e(25632);j.pbkdf2=u.pbkdf2,j.pbkdf2Sync=u.pbkdf2Sync;var p=e(53614);j.Cipher=p.Cipher,j.createCipher=p.createCipher,j.Cipheriv=p.Cipheriv,j.createCipheriv=p.createCipheriv,j.Decipher=p.Decipher,j.createDecipher=p.createDecipher,j.Decipheriv=p.Decipheriv,j.createDecipheriv=p.createDecipheriv,j.getCiphers=p.getCiphers,j.listCiphers=p.listCiphers;var d=e(62607);j.DiffieHellmanGroup=d.DiffieHellmanGroup,j.createDiffieHellmanGroup=d.createDiffieHellmanGroup,j.getDiffieHellman=d.getDiffieHellman,j.createDiffieHellman=d.createDiffieHellman,j.DiffieHellman=d.DiffieHellman;var h=e(64743);j.createSign=h.createSign,j.Sign=h.Sign,j.createVerify=h.createVerify,j.Verify=h.Verify,j.createECDH=e(76393);var t=e(7900);j.publicEncrypt=t.publicEncrypt,j.privateEncrypt=t.privateEncrypt,j.publicDecrypt=t.publicDecrypt,j.privateDecrypt=t.privateDecrypt;var c=e(77963);j.randomFill=c.randomFill,j.randomFillSync=c.randomFillSync,j.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},j.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},56645:function(se,j){(function(e,v){v(j)})(this,function(e){"use strict";function v(K,z){return m(K)||x(K,z)||u()}function m(K){if(Array.isArray(K))return K}function x(K,z){var w=[],A=!0,M=!1,b=void 0;try{for(var R=K[Symbol.iterator](),L;!(A=(L=R.next()).done)&&(w.push(L.value),!(z&&w.length===z));A=!0);}catch(N){M=!0,b=N}finally{try{!A&&R.return!=null&&R.return()}finally{if(M)throw b}}return w}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(K,z,w,A){K=K.filter(function(W,X){var J=z(W,X),C=w(W,X);return J!=null&&isFinite(J)&&C!=null&&isFinite(C)}),A&&K.sort(function(W,X){return z(W)-z(X)});for(var M=K.length,b=new Float64Array(M),R=new Float64Array(M),L=0,N=0,B,V,U,I=0;I<M;)U=K[I],b[I]=B=+z(U,I,K),R[I]=V=+w(U,I,K),++I,L+=(B-L)/I,N+=(V-N)/I;for(var F=0;F<M;++F)b[F]-=L,R[F]-=N;return[b,R,L,N]}function d(K,z,w,A){for(var M=0,b=0,R=K.length;b<R;b++){var L=K[b],N=+z(L,b,K),B=+w(L,b,K);N!=null&&isFinite(N)&&B!=null&&isFinite(B)&&A(N,B,M++)}}function h(K,z,w,A,M){var b=0,R=0;return d(K,z,w,function(L,N){var B=N-M(L),V=N-A;b+=B*B,R+=V*V}),1-b/R}function t(K){return Math.atan2(K[1][1]-K[0][1],K[1][0]-K[0][0])*180/Math.PI}function c(K){return[(K[0][0]+K[1][0])/2,(K[0][1]+K[1][1])/2]}function i(K,z,w){for(var A=Math.log(z-K)*Math.LOG10E+1|0,M=1*Math.pow(10,-A/2-1),b=1e4,R=[N(K),N(z)],L=0;B(R)&&L<b;);return R;function N(V){return[V,w(V)]}function B(V){L++;for(var U=V.length,I=!1,F=0;F<U-1;F++){var W=V[F],X=V[F+1],J=c([W,X]),C=N(J[0]),k=t([W,J]),Y=t([W,C]),H=Math.abs(k-Y);H>M&&(V.splice(F+1,0,C),I=!0)}return I}}function a(K,z,w,A){var M=A-K*K,b=Math.abs(M)<1e-24?0:(w-K*z)/M,R=z-b*K;return[R,b]}function f(){var K=function(b){return b[0]},z=function(b){return b[1]},w;function A(M){var b=0,R=0,L=0,N=0,B=0,V=0,U=w?+w[0]:1/0,I=w?+w[1]:-1/0;d(M,K,z,function(Y,H){var te=Math.log(H),le=Y*H;++b,R+=(H-R)/b,N+=(le-N)/b,V+=(Y*le-V)/b,L+=(H*te-L)/b,B+=(le*te-B)/b,w||(Y<U&&(U=Y),Y>I&&(I=Y))});var F=a(N/R,L/R,B/R,V/R),W=v(F,2),X=W[0],J=W[1];X=Math.exp(X);var C=function(H){return X*Math.exp(J*H)},k=i(U,I,C);return k.a=X,k.b=J,k.predict=C,k.rSquared=h(M,K,z,R,C),k}return A.domain=function(M){return arguments.length?(w=M,A):w},A.x=function(M){return arguments.length?(K=M,A):K},A.y=function(M){return arguments.length?(z=M,A):z},A}function l(){var K=function(b){return b[0]},z=function(b){return b[1]},w;function A(M){var b=0,R=0,L=0,N=0,B=0,V=w?+w[0]:1/0,U=w?+w[1]:-1/0;d(M,K,z,function(k,Y){++b,R+=(k-R)/b,L+=(Y-L)/b,N+=(k*Y-N)/b,B+=(k*k-B)/b,w||(k<V&&(V=k),k>U&&(U=k))});var I=a(R,L,N,B),F=v(I,2),W=F[0],X=F[1],J=function(Y){return X*Y+W},C=[[V,J(V)],[U,J(U)]];return C.a=X,C.b=W,C.predict=J,C.rSquared=h(M,K,z,L,J),C}return A.domain=function(M){return arguments.length?(w=M,A):w},A.x=function(M){return arguments.length?(K=M,A):K},A.y=function(M){return arguments.length?(z=M,A):z},A}function n(K){K.sort(function(w,A){return w-A});var z=K.length/2;return z%1===0?(K[z-1]+K[z])/2:K[Math.floor(z)]}var r=2,o=1e-12;function g(){var K=function(b){return b[0]},z=function(b){return b[1]},w=.3;function A(M){for(var b=p(M,K,z,!0),R=v(b,4),L=R[0],N=R[1],B=R[2],V=R[3],U=L.length,I=Math.max(2,~~(w*U)),F=new Float64Array(U),W=new Float64Array(U),X=new Float64Array(U).fill(1),J=-1;++J<=r;){for(var C=[0,I-1],k=0;k<U;++k){for(var Y=L[k],H=C[0],te=C[1],le=Y-L[H]>L[te]-Y?H:te,ne=0,ie=0,ee=0,fe=0,de=0,ue=1/Math.abs(L[le]-Y||1),Se=H;Se<=te;++Se){var ae=L[Se],G=N[Se],re=y(Math.abs(Y-ae)*ue)*X[Se],oe=ae*re;ne+=re,ie+=oe,ee+=G*re,fe+=G*oe,de+=ae*oe}var ce=a(ie/ne,ee/ne,fe/ne,de/ne),be=v(ce,2),xe=be[0],ge=be[1];F[k]=xe+ge*Y,W[k]=Math.abs(N[k]-F[k]),D(L,k+1,C)}if(J===r)break;var he=n(W);if(Math.abs(he)<o)break;for(var Pe=0,Ae,Be;Pe<U;++Pe)Ae=W[Pe]/(6*he),X[Pe]=Ae>=1?o:(Be=1-Ae*Ae)*Be}return P(L,F,B,V)}return A.bandwidth=function(M){return arguments.length?(w=M,A):w},A.x=function(M){return arguments.length?(K=M,A):K},A.y=function(M){return arguments.length?(z=M,A):z},A}function y(K){return(K=1-K*K*K)*K*K}function D(K,z,w){var A=K[z],M=w[0],b=w[1]+1;if(!(b>=K.length))for(;z>M&&K[b]-A<=A-K[M];)w[0]=++M,w[1]=b,++b}function P(K,z,w,A){for(var M=K.length,b=[],R=0,L=0,N=[],B;R<M;++R)B=K[R]+w,N[0]===B?N[1]+=(z[R]-N[1])/++L:(L=0,N[1]+=A,N=[B,z[R]],b.push(N));return N[1]+=A,b}function E(){var K=function(R){return R[0]},z=function(R){return R[1]},w=Math.E,A;function M(b){var R=0,L=0,N=0,B=0,V=0,U=A?+A[0]:1/0,I=A?+A[1]:-1/0,F=Math.log(w);d(b,K,z,function(H,te){var le=Math.log(H)/F;++R,L+=(le-L)/R,N+=(te-N)/R,B+=(le*te-B)/R,V+=(le*le-V)/R,A||(H<U&&(U=H),H>I&&(I=H))});var W=a(L,N,B,V),X=v(W,2),J=X[0],C=X[1],k=function(te){return C*Math.log(te)/F+J},Y=i(U,I,k);return Y.a=C,Y.b=J,Y.predict=k,Y.rSquared=h(b,K,z,N,k),Y}return M.domain=function(b){return arguments.length?(A=b,M):A},M.x=function(b){return arguments.length?(K=b,M):K},M.y=function(b){return arguments.length?(z=b,M):z},M.base=function(b){return arguments.length?(w=b,M):w},M}function O(){var K=function(b){return b[0]},z=function(b){return b[1]},w;function A(M){var b=p(M,K,z),R=v(b,4),L=R[0],N=R[1],B=R[2],V=R[3],U=L.length,I=0,F=0,W=0,X=0,J=0,C,k,Y,H;for(C=0;C<U;)k=L[C],Y=N[C++],H=k*k,I+=(H-I)/C,F+=(H*k-F)/C,W+=(H*H-W)/C,X+=(k*Y-X)/C,J+=(H*Y-J)/C;var te=0,le=0,ne=w?+w[0]:1/0,ie=w?+w[1]:-1/0;d(M,K,z,function(re,oe){le++,te+=(oe-te)/le,w||(re<ne&&(ne=re),re>ie&&(ie=re))});var ee=W-I*I,fe=I*ee-F*F,de=(J*I-X*F)/fe,ue=(X*ee-J*F)/fe,Se=-de*I,ae=function(oe){return oe=oe-B,de*oe*oe+ue*oe+Se+V},G=i(ne,ie,ae);return G.a=de,G.b=ue-2*de*B,G.c=Se-ue*B+de*B*B+V,G.predict=ae,G.rSquared=h(M,K,z,te,ae),G}return A.domain=function(M){return arguments.length?(w=M,A):w},A.x=function(M){return arguments.length?(K=M,A):K},A.y=function(M){return arguments.length?(z=M,A):z},A}function T(){var K=function(R){return R[0]},z=function(R){return R[1]},w=3,A;function M(b){if(w===1){var R=l().x(K).y(z).domain(A)(b);return R.coefficients=[R.b,R.a],delete R.a,delete R.b,R}if(w===2){var L=O().x(K).y(z).domain(A)(b);return L.coefficients=[L.c,L.b,L.a],delete L.a,delete L.b,delete L.c,L}var N=p(b,K,z),B=v(N,4),V=B[0],U=B[1],I=B[2],F=B[3],W=V.length,X=[],J=[],C=w+1,k=0,Y=0,H=A?+A[0]:1/0,te=A?+A[1]:-1/0;d(b,K,z,function(ae,G){++Y,k+=(G-k)/Y,A||(ae<H&&(H=ae),ae>te&&(te=ae))});var le,ne,ie,ee,fe;for(le=0;le<C;++le){for(ie=0,ee=0;ie<W;++ie)ee+=Math.pow(V[ie],le)*U[ie];for(X.push(ee),fe=new Float64Array(C),ne=0;ne<C;++ne){for(ie=0,ee=0;ie<W;++ie)ee+=Math.pow(V[ie],le+ne);fe[ne]=ee}J.push(fe)}J.push(X);var de=$(J),ue=function(G){G-=I;var re=F+de[0]+de[1]*G+de[2]*G*G;for(le=3;le<C;++le)re+=de[le]*Math.pow(G,le);return re},Se=i(H,te,ue);return Se.coefficients=S(C,de,-I,F),Se.predict=ue,Se.rSquared=h(b,K,z,k,ue),Se}return M.domain=function(b){return arguments.length?(A=b,M):A},M.x=function(b){return arguments.length?(K=b,M):K},M.y=function(b){return arguments.length?(z=b,M):z},M.order=function(b){return arguments.length?(w=b,M):w},M}function S(K,z,w,A){var M=Array(K),b,R,L,N;for(b=0;b<K;++b)M[b]=0;for(b=K-1;b>=0;--b)for(L=z[b],N=1,M[b]+=L,R=1;R<=b;++R)N*=(b+1-R)/R,M[b-R]+=L*Math.pow(w,R)*N;return M[0]+=A,M}function $(K){var z=K.length-1,w=[],A,M,b,R,L;for(A=0;A<z;++A){for(R=A,M=A+1;M<z;++M)Math.abs(K[A][M])>Math.abs(K[A][R])&&(R=M);for(b=A;b<z+1;++b)L=K[b][A],K[b][A]=K[b][R],K[b][R]=L;for(M=A+1;M<z;++M)for(b=z;b>=A;b--)K[b][M]-=K[b][A]*K[A][M]/K[A][A]}for(M=z-1;M>=0;--M){for(L=0,b=M+1;b<z;++b)L+=K[b][M]*w[b];w[M]=(K[z][M]-L)/K[M][M]}return w}function Z(){var K=function(b){return b[0]},z=function(b){return b[1]},w;function A(M){var b=0,R=0,L=0,N=0,B=0,V=0,U=w?+w[0]:1/0,I=w?+w[1]:-1/0;d(M,K,z,function(Y,H){var te=Math.log(Y),le=Math.log(H);++b,R+=(te-R)/b,L+=(le-L)/b,N+=(te*le-N)/b,B+=(te*te-B)/b,V+=(H-V)/b,w||(Y<U&&(U=Y),Y>I&&(I=Y))});var F=a(R,L,N,B),W=v(F,2),X=W[0],J=W[1];X=Math.exp(X);var C=function(H){return X*Math.pow(H,J)},k=i(U,I,C);return k.a=X,k.b=J,k.predict=C,k.rSquared=h(M,K,z,V,C),k}return A.domain=function(M){return arguments.length?(w=M,A):w},A.x=function(M){return arguments.length?(K=M,A):K},A.y=function(M){return arguments.length?(z=M,A):z},A}e.regressionExp=f,e.regressionLinear=l,e.regressionLoess=g,e.regressionLog=E,e.regressionPoly=T,e.regressionPow=Z,e.regressionQuad=O,Object.defineProperty(e,"__esModule",{value:!0})})},40408:function(se,j,e){var v={"./af":[15903,4920],"./af.js":[15903,4920],"./am":[29911,4920],"./am.js":[29911,4920],"./ar":[63939,4920],"./ar-dz":[47200,4920],"./ar-dz.js":[47200,4920],"./ar-iq":[87719,4920],"./ar-iq.js":[87719,4920],"./ar-kw":[62376,4920],"./ar-kw.js":[62376,4920],"./ar-ly":[48540,4920],"./ar-ly.js":[48540,4920],"./ar-ma":[96817,4920],"./ar-ma.js":[96817,4920],"./ar-sa":[11573,4920],"./ar-sa.js":[11573,4920],"./ar-tn":[99339,4920],"./ar-tn.js":[99339,4920],"./ar.js":[63939,4920],"./az":[88092,4920],"./az.js":[88092,4920],"./be":[60504,4920],"./be.js":[60504,4920],"./bg":[19091,4920],"./bg.js":[19091,4920],"./bi":[19149,4920],"./bi.js":[19149,4920],"./bm":[15287,4920],"./bm.js":[15287,4920],"./bn":[35254,4920],"./bn-bd":[54067,4920],"./bn-bd.js":[54067,4920],"./bn.js":[35254,4920],"./bo":[52502,4920],"./bo.js":[52502,4920],"./br":[8864,4920],"./br.js":[8864,4920],"./bs":[4502,4920],"./bs.js":[4502,4920],"./ca":[33646,4920],"./ca.js":[33646,4920],"./cs":[98507,4920],"./cs.js":[98507,4920],"./cv":[16636,4920],"./cv.js":[16636,4920],"./cy":[28792,4920],"./cy.js":[28792,4920],"./da":[17427,4920],"./da.js":[17427,4920],"./de":[80790,4920],"./de-at":[73237,4920],"./de-at.js":[73237,4920],"./de-ch":[16148,4920],"./de-ch.js":[16148,4920],"./de.js":[80790,4920],"./dv":[11794,4920],"./dv.js":[11794,4920],"./el":[65423,4920],"./el.js":[65423,4920],"./en":[25054,4920],"./en-au":[85109,4920],"./en-au.js":[85109,4920],"./en-ca":[55105,4920],"./en-ca.js":[55105,4920],"./en-gb":[99517,4920],"./en-gb.js":[99517,4920],"./en-ie":[30758,4920],"./en-ie.js":[30758,4920],"./en-il":[95805,4920],"./en-il.js":[95805,4920],"./en-in":[88529,4920],"./en-in.js":[88529,4920],"./en-nz":[50302,4920],"./en-nz.js":[50302,4920],"./en-sg":[35941,4920],"./en-sg.js":[35941,4920],"./en-tt":[46183,4920],"./en-tt.js":[46183,4920],"./en.js":[25054,4920],"./eo":[74990,4920],"./eo.js":[74990,4920],"./es":[67763,4920],"./es-do":[3864,4920],"./es-do.js":[3864,4920],"./es-mx":[37118,4920],"./es-mx.js":[37118,4920],"./es-pr":[23521,4920],"./es-pr.js":[23521,4920],"./es-us":[36165,4920],"./es-us.js":[36165,4920],"./es.js":[67763,4920],"./et":[99670,4920],"./et.js":[99670,4920],"./eu":[20837,4920],"./eu.js":[20837,4920],"./fa":[96953,4920],"./fa.js":[96953,4920],"./fi":[47822,4920],"./fi.js":[47822,4920],"./fo":[69197,4920],"./fo.js":[69197,4920],"./fr":[96023,4920],"./fr-ca":[77989,4920],"./fr-ca.js":[77989,4920],"./fr-ch":[54254,4920],"./fr-ch.js":[54254,4920],"./fr.js":[96023,4920],"./fy":[93220,4920],"./fy.js":[93220,4920],"./ga":[47467,4920],"./ga.js":[47467,4920],"./gd":[54855,4920],"./gd.js":[54855,4920],"./gl":[90229,4920],"./gl.js":[90229,4920],"./gom-latn":[46312,4920],"./gom-latn.js":[46312,4920],"./gu":[87632,4920],"./gu.js":[87632,4920],"./he":[45418,4920],"./he.js":[45418,4920],"./hi":[77573,4920],"./hi.js":[77573,4920],"./hr":[96257,4920],"./hr.js":[96257,4920],"./ht":[98889,4920],"./ht.js":[98889,4920],"./hu":[68562,4920],"./hu.js":[68562,4920],"./hy-am":[38242,4920],"./hy-am.js":[38242,4920],"./id":[83783,4920],"./id.js":[83783,4920],"./index.d":[46990,4920],"./index.d.ts":[46990,4920],"./is":[98980,4920],"./is.js":[98980,4920],"./it":[15551,4920],"./it-ch":[83706,4920],"./it-ch.js":[83706,4920],"./it.js":[15551,4920],"./ja":[76831,4920],"./ja.js":[76831,4920],"./jv":[42641,4920],"./jv.js":[42641,4920],"./ka":[46622,4920],"./ka.js":[46622,4920],"./kk":[32921,4920],"./kk.js":[32921,4920],"./km":[45567,4920],"./km.js":[45567,4920],"./kn":[21113,4920],"./kn.js":[21113,4920],"./ko":[19132,4920],"./ko.js":[19132,4920],"./ku":[94888,4920],"./ku.js":[94888,4920],"./ky":[60466,4920],"./ky.js":[60466,4920],"./lb":[91796,4920],"./lb.js":[91796,4920],"./lo":[68894,4920],"./lo.js":[68894,4920],"./lt":[78768,4920],"./lt.js":[78768,4920],"./lv":[30953,4920],"./lv.js":[30953,4920],"./me":[18066,4920],"./me.js":[18066,4920],"./mi":[68602,4920],"./mi.js":[68602,4920],"./mk":[51560,4920],"./mk.js":[51560,4920],"./ml":[4017,4920],"./ml.js":[4017,4920],"./mn":[94717,4920],"./mn.js":[94717,4920],"./mr":[15473,4920],"./mr.js":[15473,4920],"./ms":[5742,4920],"./ms-my":[77387,4920],"./ms-my.js":[77387,4920],"./ms.js":[5742,4920],"./mt":[28477,4920],"./mt.js":[28477,4920],"./my":[62966,4920],"./my.js":[62966,4920],"./nb":[19682,4920],"./nb.js":[19682,4920],"./ne":[14149,4920],"./ne.js":[14149,4920],"./nl":[99182,4920],"./nl-be":[37496,4920],"./nl-be.js":[37496,4920],"./nl.js":[99182,4920],"./nn":[92722,4920],"./nn.js":[92722,4920],"./oc-lnc":[76159,4920],"./oc-lnc.js":[76159,4920],"./pa-in":[35914,4920],"./pa-in.js":[35914,4920],"./pl":[81987,4920],"./pl.js":[81987,4920],"./pt":[15001,4920],"./pt-br":[57548,4920],"./pt-br.js":[57548,4920],"./pt.js":[15001,4920],"./rn":[123,4920],"./rn.js":[123,4920],"./ro":[18146,4920],"./ro.js":[18146,4920],"./ru":[70600,4920],"./ru.js":[70600,4920],"./rw":[6509,4920],"./rw.js":[6509,4920],"./sd":[65437,4920],"./sd.js":[65437,4920],"./se":[772,4920],"./se.js":[772,4920],"./si":[77109,4920],"./si.js":[77109,4920],"./sk":[35627,4920],"./sk.js":[35627,4920],"./sl":[82544,4920],"./sl.js":[82544,4920],"./sq":[88341,4920],"./sq.js":[88341,4920],"./sr":[50617,4920],"./sr-cyrl":[37101,4920],"./sr-cyrl.js":[37101,4920],"./sr.js":[50617,4920],"./ss":[64127,4920],"./ss.js":[64127,4920],"./sv":[91876,4920],"./sv-fi":[19911,4920],"./sv-fi.js":[19911,4920],"./sv.js":[91876,4920],"./sw":[46148,4920],"./sw.js":[46148,4920],"./ta":[55596,4920],"./ta.js":[55596,4920],"./te":[45159,4920],"./te.js":[45159,4920],"./tet":[99157,4920],"./tet.js":[99157,4920],"./tg":[9928,4920],"./tg.js":[9928,4920],"./th":[62019,4920],"./th.js":[62019,4920],"./tk":[75817,4920],"./tk.js":[75817,4920],"./tl-ph":[46513,4920],"./tl-ph.js":[46513,4920],"./tlh":[97296,4920],"./tlh.js":[97296,4920],"./tr":[73035,4920],"./tr.js":[73035,4920],"./types.d":[63799,4920],"./types.d.ts":[63799,4920],"./tzl":[57797,4920],"./tzl.js":[57797,4920],"./tzm":[84722,4920],"./tzm-latn":[30261,4920],"./tzm-latn.js":[30261,4920],"./tzm.js":[84722,4920],"./ug-cn":[80313,4920],"./ug-cn.js":[80313,4920],"./uk":[64144,4920],"./uk.js":[64144,4920],"./ur":[92957,4920],"./ur.js":[92957,4920],"./uz":[7486,4920],"./uz-latn":[98727,4920],"./uz-latn.js":[98727,4920],"./uz.js":[7486,4920],"./vi":[37553,4920],"./vi.js":[37553,4920],"./x-pseudo":[55321,4920],"./x-pseudo.js":[55321,4920],"./yo":[14724,4920],"./yo.js":[14724,4920],"./zh":[32009,4920],"./zh-cn":[33852],"./zh-cn.js":[33852],"./zh-hk":[2390,4920],"./zh-hk.js":[2390,4920],"./zh-tw":[43901,4920],"./zh-tw.js":[43901,4920],"./zh.js":[32009,4920]};function m(x){if(!e.o(v,x))return Promise.resolve().then(function(){var d=new Error("Cannot find module '"+x+"'");throw d.code="MODULE_NOT_FOUND",d});var u=v[x],p=u[0];return Promise.all(u.slice(1).map(e.e)).then(function(){return e.t(p,23)})}m.keys=function(){return Object.keys(v)},m.id=40408,se.exports=m},36696:function(se){"use strict";function j(e,v){v=v||JSON.stringify;const m=[],x={};for(let u=0;u<e.length;u++){let p=e[u],d=v(p);x[d]||(m.push(p),x[d]=!0)}return m}se.exports=j},9996:function(se){"use strict";var j=function(g){return e(g)&&!v(g)};function e(o){return!!o&&typeof o=="object"}function v(o){var g=Object.prototype.toString.call(o);return g==="[object RegExp]"||g==="[object Date]"||u(o)}var m=typeof Symbol=="function"&&Symbol.for,x=m?Symbol.for("react.element"):60103;function u(o){return o.$$typeof===x}function p(o){return Array.isArray(o)?[]:{}}function d(o,g){return g.clone!==!1&&g.isMergeableObject(o)?n(p(o),o,g):o}function h(o,g,y){return o.concat(g).map(function(D){return d(D,y)})}function t(o,g){if(!g.customMerge)return n;var y=g.customMerge(o);return typeof y=="function"?y:n}function c(o){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(o).filter(function(g){return Object.propertyIsEnumerable.call(o,g)}):[]}function i(o){return Object.keys(o).concat(c(o))}function a(o,g){try{return g in o}catch(y){return!1}}function f(o,g){return a(o,g)&&!(Object.hasOwnProperty.call(o,g)&&Object.propertyIsEnumerable.call(o,g))}function l(o,g,y){var D={};return y.isMergeableObject(o)&&i(o).forEach(function(P){D[P]=d(o[P],y)}),i(g).forEach(function(P){f(o,P)||(a(o,P)&&y.isMergeableObject(g[P])?D[P]=t(P,y)(o[P],g[P],y):D[P]=d(g[P],y))}),D}function n(o,g,y){y=y||{},y.arrayMerge=y.arrayMerge||h,y.isMergeableObject=y.isMergeableObject||j,y.cloneUnlessOtherwiseSpecified=d;var D=Array.isArray(g),P=Array.isArray(o),E=D===P;return E?D?y.arrayMerge(o,g,y):l(o,g,y):d(g,y)}n.all=function(g,y){if(!Array.isArray(g))throw new Error("first argument should be an array");return g.reduce(function(D,P){return n(D,P,y)},{})};var r=n;se.exports=r},12296:function(se,j,e){"use strict";var v=e(31044)(),m=e(40210),x=v&&m("%Object.defineProperty%",!0);if(x)try{x({},"a",{value:1})}catch(h){x=!1}var u=m("%SyntaxError%"),p=m("%TypeError%"),d=e(25275);se.exports=function(t,c,i){if(!t||typeof t!="object"&&typeof t!="function")throw new p("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new p("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new p("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new p("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new p("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new p("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,n=arguments.length>6?arguments[6]:!1,r=!!d&&d(t,c);if(x)x(t,c,{configurable:l===null&&r?r.configurable:!l,enumerable:a===null&&r?r.enumerable:!a,value:i,writable:f===null&&r?r.writable:!f});else if(n||!a&&!f&&!l)t[c]=i;else throw new u("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},15251:function(se,j,e){"use strict";j.utils=e(11278),j.Cipher=e(55756),j.DES=e(70778),j.CBC=e(39051),j.EDE=e(50651)},39051:function(se,j,e){"use strict";var v=e(79746),m=e(35717),x={};function u(d){v.equal(d.length,8,"Invalid IV length"),this.iv=new Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=d[h]}function p(d){function h(a){d.call(this,a),this._cbcInit()}m(h,d);for(var t=Object.keys(x),c=0;c<t.length;c++){var i=t[c];h.prototype[i]=x[i]}return h.create=function(f){return new h(f)},h}j.instantiate=p,x._cbcInit=function(){var h=new u(this.options.iv);this._cbcState=h},x._update=function(h,t,c,i){var a=this._cbcState,f=this.constructor.super_.prototype,l=a.iv;if(this.type==="encrypt"){for(var n=0;n<this.blockSize;n++)l[n]^=h[t+n];f._update.call(this,l,0,c,i);for(var n=0;n<this.blockSize;n++)l[n]=c[i+n]}else{f._update.call(this,h,t,c,i);for(var n=0;n<this.blockSize;n++)c[i+n]^=l[n];for(var n=0;n<this.blockSize;n++)l[n]=h[t+n]}}},55756:function(se,j,e){"use strict";var v=e(79746);function m(x){this.options=x,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=x.padding!==!1}se.exports=m,m.prototype._init=function(){},m.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},m.prototype._buffer=function(u,p){for(var d=Math.min(this.buffer.length-this.bufferOff,u.length-p),h=0;h<d;h++)this.buffer[this.bufferOff+h]=u[p+h];return this.bufferOff+=d,d},m.prototype._flushBuffer=function(u,p){return this._update(this.buffer,0,u,p),this.bufferOff=0,this.blockSize},m.prototype._updateEncrypt=function(u){var p=0,d=0,h=(this.bufferOff+u.length)/this.blockSize|0,t=new Array(h*this.blockSize);this.bufferOff!==0&&(p+=this._buffer(u,p),this.bufferOff===this.buffer.length&&(d+=this._flushBuffer(t,d)));for(var c=u.length-(u.length-p)%this.blockSize;p<c;p+=this.blockSize)this._update(u,p,t,d),d+=this.blockSize;for(;p<u.length;p++,this.bufferOff++)this.buffer[this.bufferOff]=u[p];return t},m.prototype._updateDecrypt=function(u){for(var p=0,d=0,h=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,t=new Array(h*this.blockSize);h>0;h--)p+=this._buffer(u,p),d+=this._flushBuffer(t,d);return p+=this._buffer(u,p),t},m.prototype.final=function(u){var p;u&&(p=this.update(u));var d;return this.type==="encrypt"?d=this._finalEncrypt():d=this._finalDecrypt(),p?p.concat(d):d},m.prototype._pad=function(u,p){if(p===0)return!1;for(;p<u.length;)u[p++]=0;return!0},m.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},m.prototype._unpad=function(u){return u},m.prototype._finalDecrypt=function(){v.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},70778:function(se,j,e){"use strict";var v=e(79746),m=e(35717),x=e(11278),u=e(55756);function p(){this.tmp=new Array(2),this.keys=null}function d(t){u.call(this,t);var c=new p;this._desState=c,this.deriveKeys(c,t.key)}m(d,u),se.exports=d,d.create=function(c){return new d(c)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(c,i){c.keys=new Array(16*2),v.equal(i.length,this.blockSize,"Invalid key length");var a=x.readUInt32BE(i,0),f=x.readUInt32BE(i,4);x.pc1(a,f,c.tmp,0),a=c.tmp[0],f=c.tmp[1];for(var l=0;l<c.keys.length;l+=2){var n=h[l>>>1];a=x.r28shl(a,n),f=x.r28shl(f,n),x.pc2(a,f,c.keys,l)}},d.prototype._update=function(c,i,a,f){var l=this._desState,n=x.readUInt32BE(c,i),r=x.readUInt32BE(c,i+4);x.ip(n,r,l.tmp,0),n=l.tmp[0],r=l.tmp[1],this.type==="encrypt"?this._encrypt(l,n,r,l.tmp,0):this._decrypt(l,n,r,l.tmp,0),n=l.tmp[0],r=l.tmp[1],x.writeUInt32BE(a,n,f),x.writeUInt32BE(a,r,f+4)},d.prototype._pad=function(c,i){if(this.padding===!1)return!1;for(var a=c.length-i,f=i;f<c.length;f++)c[f]=a;return!0},d.prototype._unpad=function(c){if(this.padding===!1)return c;for(var i=c[c.length-1],a=c.length-i;a<c.length;a++)v.equal(c[a],i);return c.slice(0,c.length-i)},d.prototype._encrypt=function(c,i,a,f,l){for(var n=i,r=a,o=0;o<c.keys.length;o+=2){var g=c.keys[o],y=c.keys[o+1];x.expand(r,c.tmp,0),g^=c.tmp[0],y^=c.tmp[1];var D=x.substitute(g,y),P=x.permute(D),E=r;r=(n^P)>>>0,n=E}x.rip(r,n,f,l)},d.prototype._decrypt=function(c,i,a,f,l){for(var n=a,r=i,o=c.keys.length-2;o>=0;o-=2){var g=c.keys[o],y=c.keys[o+1];x.expand(n,c.tmp,0),g^=c.tmp[0],y^=c.tmp[1];var D=x.substitute(g,y),P=x.permute(D),E=n;n=(r^P)>>>0,r=E}x.rip(n,r,f,l)}},50651:function(se,j,e){"use strict";var v=e(79746),m=e(35717),x=e(55756),u=e(70778);function p(h,t){v.equal(t.length,24,"Invalid key length");var c=t.slice(0,8),i=t.slice(8,16),a=t.slice(16,24);h==="encrypt"?this.ciphers=[u.create({type:"encrypt",key:c}),u.create({type:"decrypt",key:i}),u.create({type:"encrypt",key:a})]:this.ciphers=[u.create({type:"decrypt",key:a}),u.create({type:"encrypt",key:i}),u.create({type:"decrypt",key:c})]}function d(h){x.call(this,h);var t=new p(this.type,this.options.key);this._edeState=t}m(d,x),se.exports=d,d.create=function(t){return new d(t)},d.prototype._update=function(t,c,i,a){var f=this._edeState;f.ciphers[0]._update(t,c,i,a),f.ciphers[1]._update(i,a,i,a),f.ciphers[2]._update(i,a,i,a)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},11278:function(se,j){"use strict";j.readUInt32BE=function(u,p){var d=u[0+p]<<24|u[1+p]<<16|u[2+p]<<8|u[3+p];return d>>>0},j.writeUInt32BE=function(u,p,d){u[0+d]=p>>>24,u[1+d]=p>>>16&255,u[2+d]=p>>>8&255,u[3+d]=p&255},j.ip=function(u,p,d,h){for(var t=0,c=0,i=6;i>=0;i-=2){for(var a=0;a<=24;a+=8)t<<=1,t|=p>>>a+i&1;for(var a=0;a<=24;a+=8)t<<=1,t|=u>>>a+i&1}for(var i=6;i>=0;i-=2){for(var a=1;a<=25;a+=8)c<<=1,c|=p>>>a+i&1;for(var a=1;a<=25;a+=8)c<<=1,c|=u>>>a+i&1}d[h+0]=t>>>0,d[h+1]=c>>>0},j.rip=function(u,p,d,h){for(var t=0,c=0,i=0;i<4;i++)for(var a=24;a>=0;a-=8)t<<=1,t|=p>>>a+i&1,t<<=1,t|=u>>>a+i&1;for(var i=4;i<8;i++)for(var a=24;a>=0;a-=8)c<<=1,c|=p>>>a+i&1,c<<=1,c|=u>>>a+i&1;d[h+0]=t>>>0,d[h+1]=c>>>0},j.pc1=function(u,p,d,h){for(var t=0,c=0,i=7;i>=5;i--){for(var a=0;a<=24;a+=8)t<<=1,t|=p>>a+i&1;for(var a=0;a<=24;a+=8)t<<=1,t|=u>>a+i&1}for(var a=0;a<=24;a+=8)t<<=1,t|=p>>a+i&1;for(var i=1;i<=3;i++){for(var a=0;a<=24;a+=8)c<<=1,c|=p>>a+i&1;for(var a=0;a<=24;a+=8)c<<=1,c|=u>>a+i&1}for(var a=0;a<=24;a+=8)c<<=1,c|=u>>a+i&1;d[h+0]=t>>>0,d[h+1]=c>>>0},j.r28shl=function(u,p){return u<<p&268435455|u>>>28-p};var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];j.pc2=function(u,p,d,h){for(var t=0,c=0,i=e.length>>>1,a=0;a<i;a++)t<<=1,t|=u>>>e[a]&1;for(var a=i;a<e.length;a++)c<<=1,c|=p>>>e[a]&1;d[h+0]=t>>>0,d[h+1]=c>>>0},j.expand=function(u,p,d){var h=0,t=0;h=(u&1)<<5|u>>>27;for(var c=23;c>=15;c-=4)h<<=6,h|=u>>>c&63;for(var c=11;c>=3;c-=4)t|=u>>>c&63,t<<=6;t|=(u&31)<<1|u>>>31,p[d+0]=h>>>0,p[d+1]=t>>>0};var v=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];j.substitute=function(u,p){for(var d=0,h=0;h<4;h++){var t=u>>>18-h*6&63,c=v[h*64+t];d<<=4,d|=c}for(var h=0;h<4;h++){var t=p>>>18-h*6&63,c=v[4*64+h*64+t];d<<=4,d|=c}return d>>>0};var m=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];j.permute=function(u){for(var p=0,d=0;d<m.length;d++)p<<=1,p|=u>>>m[d]&1;return p>>>0},j.padSplit=function(u,p,d){for(var h=u.toString(2);h.length<p;)h="0"+h;for(var t=[],c=0;c<p;c+=d)t.push(h.slice(c,c+d));return t.join(" ")}},43631:function(se,j,e){"use strict";e.d(j,{qY:function(){return l}});var v=e(34155),m=function(P,E,O){if(O||arguments.length===2)for(var T=0,S=E.length,$;T<S;T++)($||!(T in E))&&($||($=Array.prototype.slice.call(E,0,T)),$[T]=E[T]);return P.concat($||Array.prototype.slice.call(E))},x=function(){function P(E,O,T){this.name=E,this.version=O,this.os=T,this.type="browser"}return P}(),u=function(){function P(E){this.version=E,this.type="node",this.name="node",this.os=v.platform}return P}(),p=function(){function P(E,O,T,S){this.name=E,this.version=O,this.os=T,this.bot=S,this.type="bot-device"}return P}(),d=function(){function P(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return P}(),h=function(){function P(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return P}(),t=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,c=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,i=3,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",t]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function l(P){return P?o(P):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new h:typeof navigator!="undefined"?o(navigator.userAgent):y()}function n(P){return P!==""&&a.reduce(function(E,O){var T=O[0],S=O[1];if(E)return E;var $=S.exec(P);return!!$&&[T,$]},!1)}function r(P){var E=n(P);return E?E[0]:null}function o(P){var E=n(P);if(!E)return null;var O=E[0],T=E[1];if(O==="searchbot")return new d;var S=T[1]&&T[1].split(".").join("_").split("_").slice(0,3);S?S.length<i&&(S=m(m([],S,!0),D(i-S.length),!0)):S=[];var $=S.join("."),Z=g(P),K=c.exec(P);return K&&K[1]?new p(O,$,Z,K[1]):new x(O,$,Z)}function g(P){for(var E=0,O=f.length;E<O;E++){var T=f[E],S=T[0],$=T[1],Z=$.exec(P);if(Z)return S}return null}function y(){var P=typeof v!="undefined"&&v.version;return P?new u(v.version.slice(1)):null}function D(P){for(var E=[],O=0;O<P;O++)E.push("0");return E}},62607:function(se,j,e){var v=e(48764).Buffer,m=e(43590),x=e(29799),u=e(57426);function p(t){var c=new v(x[t].prime,"hex"),i=new v(x[t].gen,"hex");return new u(c,i)}var d={binary:!0,hex:!0,base64:!0};function h(t,c,i,a){return v.isBuffer(c)||d[c]===void 0?h(t,"binary",c,i):(c=c||"binary",a=a||"binary",i=i||new v([2]),v.isBuffer(i)||(i=new v(i,a)),typeof t=="number"?new u(m(t,i),i,!0):(v.isBuffer(t)||(t=new v(t,c)),new u(t,i,!0)))}j.DiffieHellmanGroup=j.createDiffieHellmanGroup=j.getDiffieHellman=p,j.createDiffieHellman=j.DiffieHellman=h},57426:function(se,j,e){var v=e(48764).Buffer,m=e(13550),x=e(63047),u=new x,p=new m(24),d=new m(11),h=new m(10),t=new m(3),c=new m(7),i=e(43590),a=e(61798);se.exports=o;function f(y,D){return D=D||"utf8",v.isBuffer(y)||(y=new v(y,D)),this._pub=new m(y),this}function l(y,D){return D=D||"utf8",v.isBuffer(y)||(y=new v(y,D)),this._priv=new m(y),this}var n={};function r(y,D){var P=D.toString("hex"),E=[P,y.toString(16)].join("_");if(E in n)return n[E];var O=0;if(y.isEven()||!i.simpleSieve||!i.fermatTest(y)||!u.test(y))return O+=1,P==="02"||P==="05"?O+=8:O+=4,n[E]=O,O;u.test(y.shrn(1))||(O+=2);var T;switch(P){case"02":y.mod(p).cmp(d)&&(O+=8);break;case"05":T=y.mod(h),T.cmp(t)&&T.cmp(c)&&(O+=8);break;default:O+=4}return n[E]=O,O}function o(y,D,P){this.setGenerator(D),this.__prime=new m(y),this._prime=m.mont(this.__prime),this._primeLen=y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=f,this.setPrivateKey=l):this._primeCode=8}Object.defineProperty(o.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=r(this.__prime,this.__gen)),this._primeCode}}),o.prototype.generateKeys=function(){return this._priv||(this._priv=new m(a(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},o.prototype.computeSecret=function(y){y=new m(y),y=y.toRed(this._prime);var D=y.redPow(this._priv).fromRed(),P=new v(D.toArray()),E=this.getPrime();if(P.length<E.length){var O=new v(E.length-P.length);O.fill(0),P=v.concat([O,P])}return P},o.prototype.getPublicKey=function(D){return g(this._pub,D)},o.prototype.getPrivateKey=function(D){return g(this._priv,D)},o.prototype.getPrime=function(y){return g(this.__prime,y)},o.prototype.getGenerator=function(y){return g(this._gen,y)},o.prototype.setGenerator=function(y,D){return D=D||"utf8",v.isBuffer(y)||(y=new v(y,D)),this.__gen=y,this._gen=new m(y),this};function g(y,D){var P=new v(y.toArray());return D?P.toString(D):P}},43590:function(se,j,e){var v=e(61798);se.exports=E,E.simpleSieve=D,E.fermatTest=P;var m=e(13550),x=new m(24),u=e(63047),p=new u,d=new m(1),h=new m(2),t=new m(5),c=new m(16),i=new m(8),a=new m(10),f=new m(3),l=new m(7),n=new m(11),r=new m(4),o=new m(12),g=null;function y(){if(g!==null)return g;var O=1048576,T=[];T[0]=2;for(var S=1,$=3;$<O;$+=2){for(var Z=Math.ceil(Math.sqrt($)),K=0;K<S&&T[K]<=Z&&$%T[K]!==0;K++);S!==K&&T[K]<=Z||(T[S++]=$)}return g=T,T}function D(O){for(var T=y(),S=0;S<T.length;S++)if(O.modn(T[S])===0)return O.cmpn(T[S])===0;return!0}function P(O){var T=m.mont(O);return h.toRed(T).redPow(O.subn(1)).fromRed().cmpn(1)===0}function E(O,T){if(O<16)return T===2||T===5?new m([140,123]):new m([140,39]);T=new m(T);for(var S,$;;){for(S=new m(v(Math.ceil(O/8)));S.bitLength()>O;)S.ishrn(1);if(S.isEven()&&S.iadd(d),S.testn(1)||S.iadd(h),T.cmp(h)){if(!T.cmp(t))for(;S.mod(a).cmp(f);)S.iadd(r)}else for(;S.mod(x).cmp(n);)S.iadd(r);if($=S.shrn(1),D($)&&D(S)&&P($)&&P(S)&&p.test($)&&p.test(S))return S}}},17837:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.attributeNames=j.elementNames=void 0,j.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),j.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))},97220:function(se,j,e){"use strict";var v=this&&this.__assign||function(){return v=Object.assign||function(E){for(var O,T=1,S=arguments.length;T<S;T++){O=arguments[T];for(var $ in O)Object.prototype.hasOwnProperty.call(O,$)&&(E[$]=O[$])}return E},v.apply(this,arguments)},m=this&&this.__createBinding||(Object.create?function(E,O,T,S){S===void 0&&(S=T);var $=Object.getOwnPropertyDescriptor(O,T);(!$||("get"in $?!O.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return O[T]}}),Object.defineProperty(E,S,$)}:function(E,O,T,S){S===void 0&&(S=T),E[S]=O[T]}),x=this&&this.__setModuleDefault||(Object.create?function(E,O){Object.defineProperty(E,"default",{enumerable:!0,value:O})}:function(E,O){E.default=O}),u=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var O={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&m(O,E,T);return x(O,E),O};Object.defineProperty(j,"__esModule",{value:!0}),j.render=void 0;var p=u(e(99960)),d=e(45863),h=e(17837),t=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function c(E){return E.replace(/"/g,"&quot;")}function i(E,O){var T;if(E){var S=((T=O.encodeEntities)!==null&&T!==void 0?T:O.decodeEntities)===!1?c:O.xmlMode||O.encodeEntities!=="utf8"?d.encodeXML:d.escapeAttribute;return Object.keys(E).map(function($){var Z,K,z=(Z=E[$])!==null&&Z!==void 0?Z:"";return O.xmlMode==="foreign"&&($=(K=h.attributeNames.get($))!==null&&K!==void 0?K:$),!O.emptyAttrs&&!O.xmlMode&&z===""?$:"".concat($,'="').concat(S(z),'"')}).join(" ")}}var a=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(E,O){O===void 0&&(O={});for(var T=("length"in E)?E:[E],S="",$=0;$<T.length;$++)S+=l(T[$],O);return S}j.render=f,j.default=f;function l(E,O){switch(E.type){case p.Root:return f(E.children,O);case p.Doctype:case p.Directive:return g(E);case p.Comment:return P(E);case p.CDATA:return D(E);case p.Script:case p.Style:case p.Tag:return o(E,O);case p.Text:return y(E,O)}}var n=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),r=new Set(["svg","math"]);function o(E,O){var T;O.xmlMode==="foreign"&&(E.name=(T=h.elementNames.get(E.name))!==null&&T!==void 0?T:E.name,E.parent&&n.has(E.parent.name)&&(O=v(v({},O),{xmlMode:!1}))),!O.xmlMode&&r.has(E.name)&&(O=v(v({},O),{xmlMode:"foreign"}));var S="<".concat(E.name),$=i(E.attribs,O);return $&&(S+=" ".concat($)),E.children.length===0&&(O.xmlMode?O.selfClosingTags!==!1:O.selfClosingTags&&a.has(E.name))?(O.xmlMode||(S+=" "),S+="/>"):(S+=">",E.children.length>0&&(S+=f(E.children,O)),(O.xmlMode||!a.has(E.name))&&(S+="</".concat(E.name,">"))),S}function g(E){return"<".concat(E.data,">")}function y(E,O){var T,S=E.data||"";return((T=O.encodeEntities)!==null&&T!==void 0?T:O.decodeEntities)!==!1&&!(!O.xmlMode&&E.parent&&t.has(E.parent.name))&&(S=O.xmlMode||O.encodeEntities!=="utf8"?(0,d.encodeXML)(S):(0,d.escapeText)(S)),S}function D(E){return"<![CDATA[".concat(E.children[0].data,"]]>")}function P(E){return"<!--".concat(E.data,"-->")}},99960:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.Doctype=j.CDATA=j.Tag=j.Style=j.Script=j.Comment=j.Directive=j.Text=j.Root=j.isTag=j.ElementType=void 0;var e;(function(m){m.Root="root",m.Text="text",m.Directive="directive",m.Comment="comment",m.Script="script",m.Style="style",m.Tag="tag",m.CDATA="cdata",m.Doctype="doctype"})(e=j.ElementType||(j.ElementType={}));function v(m){return m.type===e.Tag||m.type===e.Script||m.type===e.Style}j.isTag=v,j.Root=e.Root,j.Text=e.Text,j.Directive=e.Directive,j.Comment=e.Comment,j.Script=e.Script,j.Style=e.Style,j.Tag=e.Tag,j.CDATA=e.CDATA,j.Doctype=e.Doctype},94422:function(se,j,e){"use strict";var v=e(88473);function m(x,u,p){typeof p=="undefined"&&(p=u,u=x,x=null),v.Duplex.call(this,x),typeof p.read!="function"&&(p=new v.Readable(x).wrap(p)),this._writable=u,this._readable=p,this._waiting=!1;var d=this;u.once("finish",function(){d.end()}),this.once("finish",function(){u.end()}),p.on("readable",function(){d._waiting&&(d._waiting=!1,d._read())}),p.once("end",function(){d.push(null)}),(!x||typeof x.bubbleErrors=="undefined"||x.bubbleErrors)&&(u.on("error",function(h){d.emit("error",h)}),p.on("error",function(h){d.emit("error",h)}))}m.prototype=Object.create(v.Duplex.prototype,{constructor:{value:m}}),m.prototype._write=function(u,p,d){this._writable.write(u,p,d)},m.prototype._read=function(){for(var u,p=0;(u=this._readable.read())!==null;)this.push(u),p++;p===0&&(this._waiting=!0)},se.exports=function(u,p,d){return new m(u,p,d)},se.exports.DuplexWrapper=m},35015:function(se,j,e){"use strict";var v=e(89509).Buffer,m=e(6972),x=128,u=0,p=32,d=16,h=2,t=d|p|u<<6,c=h|u<<6;function i(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(r){if(v.isBuffer(r))return r;if(typeof r=="string")return v.from(r,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function f(r,o){r=a(r);var g=m(o),y=g+1,D=r.length,P=0;if(r[P++]!==t)throw new Error('Could not find expected "seq"');var E=r[P++];if(E===(x|1)&&(E=r[P++]),D-P<E)throw new Error('"seq" specified length of "'+E+'", only "'+(D-P)+'" remaining');if(r[P++]!==c)throw new Error('Could not find expected "int" for "r"');var O=r[P++];if(D-P-2<O)throw new Error('"r" specified length of "'+O+'", only "'+(D-P-2)+'" available');if(y<O)throw new Error('"r" specified length of "'+O+'", max of "'+y+'" is acceptable');var T=P;if(P+=O,r[P++]!==c)throw new Error('Could not find expected "int" for "s"');var S=r[P++];if(D-P!==S)throw new Error('"s" specified length of "'+S+'", expected "'+(D-P)+'"');if(y<S)throw new Error('"s" specified length of "'+S+'", max of "'+y+'" is acceptable');var $=P;if(P+=S,P!==D)throw new Error('Expected to consume entire buffer, but "'+(D-P)+'" bytes remain');var Z=g-O,K=g-S,z=v.allocUnsafe(Z+O+K+S);for(P=0;P<Z;++P)z[P]=0;r.copy(z,P,T+Math.max(-Z,0),T+O),P=g;for(var w=P;P<w+K;++P)z[P]=0;return r.copy(z,P,$+Math.max(-K,0),$+S),z=z.toString("base64"),z=i(z),z}function l(r,o,g){for(var y=0;o+y<g&&r[o+y]===0;)++y;var D=r[o+y]>=x;return D&&--y,y}function n(r,o){r=a(r);var g=m(o),y=r.length;if(y!==g*2)throw new TypeError('"'+o+'" signatures must be "'+g*2+'" bytes, saw "'+y+'"');var D=l(r,0,g),P=l(r,g,r.length),E=g-D,O=g-P,T=1+1+E+1+1+O,S=T<x,$=v.allocUnsafe((S?2:3)+T),Z=0;return $[Z++]=t,S?$[Z++]=T:($[Z++]=x|1,$[Z++]=T&255),$[Z++]=c,$[Z++]=E,D<0?($[Z++]=0,Z+=r.copy($,Z,0,g)):Z+=r.copy($,Z,D,g),$[Z++]=c,$[Z++]=O,P<0?($[Z++]=0,r.copy($,Z,g)):r.copy($,Z,g+P),$}se.exports={derToJose:f,joseToDer:n}},6972:function(se){"use strict";function j(m){var x=(m/8|0)+(m%8===0?0:1);return x}var e={ES256:j(256),ES384:j(384),ES512:j(521)};function v(m){var x=e[m];if(x)return x;throw new Error('Unknown algorithm "'+m+'"')}se.exports=v},77928:function(se){"use strict";var j=Object.assign||function(x){for(var u=1;u<arguments.length;u++){var p=arguments[u];for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(x[d]=p[d])}return x},e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},v={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},m=function(u,p){return j({},u,p)};se.exports=function(x){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.preserveFormatting,d=p===void 0?!1:p,h=u.escapeMapFn,t=h===void 0?m:h,c=String(x),i="",a=t(j({},e),d?j({},v):{}),f=Object.keys(a),l=function(){var r=!1;f.forEach(function(o,g){r||c.length>=o.length&&c.slice(0,o.length)===o&&(i+=a[f[g]],c=c.slice(o.length,c.length),r=!0)}),r||(i+=c.slice(0,1),c=c.slice(1,c.length))};c;)l();return i}},17187:function(se){"use strict";var j=typeof Reflect=="object"?Reflect:null,e=j&&typeof j.apply=="function"?j.apply:function(P,E,O){return Function.prototype.apply.call(P,E,O)},v;j&&typeof j.ownKeys=="function"?v=j.ownKeys:Object.getOwnPropertySymbols?v=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:v=function(P){return Object.getOwnPropertyNames(P)};function m(D){console&&console.warn&&console.warn(D)}var x=Number.isNaN||function(P){return P!==P};function u(){u.init.call(this)}se.exports=u,se.exports.once=o,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var p=10;function d(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(D){if(typeof D!="number"||D<0||x(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");p=D}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||x(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function h(D){return D._maxListeners===void 0?u.defaultMaxListeners:D._maxListeners}u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(P){for(var E=[],O=1;O<arguments.length;O++)E.push(arguments[O]);var T=P==="error",S=this._events;if(S!==void 0)T=T&&S.error===void 0;else if(!T)return!1;if(T){var $;if(E.length>0&&($=E[0]),$ instanceof Error)throw $;var Z=new Error("Unhandled error."+($?" ("+$.message+")":""));throw Z.context=$,Z}var K=S[P];if(K===void 0)return!1;if(typeof K=="function")e(K,this,E);else for(var z=K.length,w=l(K,z),O=0;O<z;++O)e(w[O],this,E);return!0};function t(D,P,E,O){var T,S,$;if(d(E),S=D._events,S===void 0?(S=D._events=Object.create(null),D._eventsCount=0):(S.newListener!==void 0&&(D.emit("newListener",P,E.listener?E.listener:E),S=D._events),$=S[P]),$===void 0)$=S[P]=E,++D._eventsCount;else if(typeof $=="function"?$=S[P]=O?[E,$]:[$,E]:O?$.unshift(E):$.push(E),T=h(D),T>0&&$.length>T&&!$.warned){$.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=D,Z.type=P,Z.count=$.length,m(Z)}return D}u.prototype.addListener=function(P,E){return t(this,P,E,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(P,E){return t(this,P,E,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(D,P,E){var O={fired:!1,wrapFn:void 0,target:D,type:P,listener:E},T=c.bind(O);return T.listener=E,O.wrapFn=T,T}u.prototype.once=function(P,E){return d(E),this.on(P,i(this,P,E)),this},u.prototype.prependOnceListener=function(P,E){return d(E),this.prependListener(P,i(this,P,E)),this},u.prototype.removeListener=function(P,E){var O,T,S,$,Z;if(d(E),T=this._events,T===void 0)return this;if(O=T[P],O===void 0)return this;if(O===E||O.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete T[P],T.removeListener&&this.emit("removeListener",P,O.listener||E));else if(typeof O!="function"){for(S=-1,$=O.length-1;$>=0;$--)if(O[$]===E||O[$].listener===E){Z=O[$].listener,S=$;break}if(S<0)return this;S===0?O.shift():n(O,S),O.length===1&&(T[P]=O[0]),T.removeListener!==void 0&&this.emit("removeListener",P,Z||E)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(P){var E,O,T;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[P]),this;if(arguments.length===0){var S=Object.keys(O),$;for(T=0;T<S.length;++T)$=S[T],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=O[P],typeof E=="function")this.removeListener(P,E);else if(E!==void 0)for(T=E.length-1;T>=0;T--)this.removeListener(P,E[T]);return this};function a(D,P,E){var O=D._events;if(O===void 0)return[];var T=O[P];return T===void 0?[]:typeof T=="function"?E?[T.listener||T]:[T]:E?r(T):l(T,T.length)}u.prototype.listeners=function(P){return a(this,P,!0)},u.prototype.rawListeners=function(P){return a(this,P,!1)},u.listenerCount=function(D,P){return typeof D.listenerCount=="function"?D.listenerCount(P):f.call(D,P)},u.prototype.listenerCount=f;function f(D){var P=this._events;if(P!==void 0){var E=P[D];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}u.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]};function l(D,P){for(var E=new Array(P),O=0;O<P;++O)E[O]=D[O];return E}function n(D,P){for(;P+1<D.length;P++)D[P]=D[P+1];D.pop()}function r(D){for(var P=new Array(D.length),E=0;E<P.length;++E)P[E]=D[E].listener||D[E];return P}function o(D,P){return new Promise(function(E,O){function T($){D.removeListener(P,S),O($)}function S(){typeof D.removeListener=="function"&&D.removeListener("error",T),E([].slice.call(arguments))}y(D,P,S,{once:!0}),P!=="error"&&g(D,T,{once:!0})})}function g(D,P,E){typeof D.on=="function"&&y(D,"error",P,E)}function y(D,P,E,O){if(typeof D.on=="function")O.once?D.once(P,E):D.on(P,E);else if(typeof D.addEventListener=="function")D.addEventListener(P,function T(S){O.once&&D.removeEventListener(P,T),E(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}},13048:function(se,j,e){var v=e(89509).Buffer,m=e(62318);function x(u,p,d,h){if(v.isBuffer(u)||(u=v.from(u,"binary")),p&&(v.isBuffer(p)||(p=v.from(p,"binary")),p.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var t=d/8,c=v.alloc(t),i=v.alloc(h||0),a=v.alloc(0);t>0||h>0;){var f=new m;f.update(a),f.update(u),p&&f.update(p),a=f.digest();var l=0;if(t>0){var n=c.length-t;l=Math.min(t,a.length),a.copy(c,n,0,l),t-=l}if(l<a.length&&h>0){var r=i.length-h,o=Math.min(h,a.length-l);a.copy(i,r,l,l+o),h-=o}}return a.fill(0),{key:c,iv:i}}se.exports=x},58875:function(se,j,e){var v;(function(){"use strict";var m=!!(typeof window!="undefined"&&window.document&&window.document.createElement),x={canUseDOM:m,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:m&&!!(window.addEventListener||window.attachEvent),canUseViewport:m&&!!window.screen};v=function(){return x}.call(j,e,j,se),v!==void 0&&(se.exports=v)})()},64063:function(se){"use strict";se.exports=function j(e,v){if(e===v)return!0;if(e&&v&&typeof e=="object"&&typeof v=="object"){if(e.constructor!==v.constructor)return!1;var m,x,u;if(Array.isArray(e)){if(m=e.length,m!=v.length)return!1;for(x=m;x--!==0;)if(!j(e[x],v[x]))return!1;return!0}if(e.constructor===RegExp)return e.source===v.source&&e.flags===v.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===v.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===v.toString();if(u=Object.keys(e),m=u.length,m!==Object.keys(v).length)return!1;for(x=m;x--!==0;)if(!Object.prototype.hasOwnProperty.call(v,u[x]))return!1;for(x=m;x--!==0;){var p=u[x];if(!j(e[p],v[p]))return!1}return!0}return e!==e&&v!==v}},19432:function(se,j,e){"use strict";e.r(j),e.d(j,{assign:function(){return i},defaultI18n:function(){return r},format:function(){return w},parse:function(){return A},setGlobalDateI18n:function(){return g},setGlobalDateMasks:function(){return z}});var v=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,m="\\d\\d?",x="\\d\\d",u="\\d{3}",p="\\d{4}",d="[^\\s]+",h=/\[([^]*?)\]/gm;function t(b,R){for(var L=[],N=0,B=b.length;N<B;N++)L.push(b[N].substr(0,R));return L}var c=function(b){return function(R,L){var N=L[b].map(function(V){return V.toLowerCase()}),B=N.indexOf(R.toLowerCase());return B>-1?B:null}};function i(b){for(var R=[],L=1;L<arguments.length;L++)R[L-1]=arguments[L];for(var N=0,B=R;N<B.length;N++){var V=B[N];for(var U in V)b[U]=V[U]}return b}var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],l=t(f,3),n=t(a,3),r={dayNamesShort:n,dayNames:a,monthNamesShort:l,monthNames:f,amPm:["am","pm"],DoFn:function(b){return b+["th","st","nd","rd"][b%10>3?0:(b-b%10!==10?1:0)*b%10]}},o=i({},r),g=function(b){return o=i(o,b)},y=function(b){return b.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},D=function(b,R){for(R===void 0&&(R=2),b=String(b);b.length<R;)b="0"+b;return b},P={D:function(b){return String(b.getDate())},DD:function(b){return D(b.getDate())},Do:function(b,R){return R.DoFn(b.getDate())},d:function(b){return String(b.getDay())},dd:function(b){return D(b.getDay())},ddd:function(b,R){return R.dayNamesShort[b.getDay()]},dddd:function(b,R){return R.dayNames[b.getDay()]},M:function(b){return String(b.getMonth()+1)},MM:function(b){return D(b.getMonth()+1)},MMM:function(b,R){return R.monthNamesShort[b.getMonth()]},MMMM:function(b,R){return R.monthNames[b.getMonth()]},YY:function(b){return D(String(b.getFullYear()),4).substr(2)},YYYY:function(b){return D(b.getFullYear(),4)},h:function(b){return String(b.getHours()%12||12)},hh:function(b){return D(b.getHours()%12||12)},H:function(b){return String(b.getHours())},HH:function(b){return D(b.getHours())},m:function(b){return String(b.getMinutes())},mm:function(b){return D(b.getMinutes())},s:function(b){return String(b.getSeconds())},ss:function(b){return D(b.getSeconds())},S:function(b){return String(Math.round(b.getMilliseconds()/100))},SS:function(b){return D(Math.round(b.getMilliseconds()/10),2)},SSS:function(b){return D(b.getMilliseconds(),3)},a:function(b,R){return b.getHours()<12?R.amPm[0]:R.amPm[1]},A:function(b,R){return b.getHours()<12?R.amPm[0].toUpperCase():R.amPm[1].toUpperCase()},ZZ:function(b){var R=b.getTimezoneOffset();return(R>0?"-":"+")+D(Math.floor(Math.abs(R)/60)*100+Math.abs(R)%60,4)},Z:function(b){var R=b.getTimezoneOffset();return(R>0?"-":"+")+D(Math.floor(Math.abs(R)/60),2)+":"+D(Math.abs(R)%60,2)}},E=function(b){return+b-1},O=[null,m],T=[null,d],S=["isPm",d,function(b,R){var L=b.toLowerCase();return L===R.amPm[0]?0:L===R.amPm[1]?1:null}],$=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(b){var R=(b+"").match(/([+-]|\d\d)/gi);if(R){var L=+R[1]*60+parseInt(R[2],10);return R[0]==="+"?L:-L}return 0}],Z={D:["day",m],DD:["day",x],Do:["day",m+d,function(b){return parseInt(b,10)}],M:["month",m,E],MM:["month",x,E],YY:["year",x,function(b){var R=new Date,L=+(""+R.getFullYear()).substr(0,2);return+(""+(+b>68?L-1:L)+b)}],h:["hour",m,void 0,"isPm"],hh:["hour",x,void 0,"isPm"],H:["hour",m],HH:["hour",x],m:["minute",m],mm:["minute",x],s:["second",m],ss:["second",x],YYYY:["year",p],S:["millisecond","\\d",function(b){return+b*100}],SS:["millisecond",x,function(b){return+b*10}],SSS:["millisecond",u],d:O,dd:O,ddd:T,dddd:T,MMM:["month",d,c("monthNamesShort")],MMMM:["month",d,c("monthNames")],a:S,A:S,ZZ:$,Z:$},K={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},z=function(b){return i(K,b)},w=function(b,R,L){if(R===void 0&&(R=K.default),L===void 0&&(L={}),typeof b=="number"&&(b=new Date(b)),Object.prototype.toString.call(b)!=="[object Date]"||isNaN(b.getTime()))throw new Error("Invalid Date pass to format");R=K[R]||R;var N=[];R=R.replace(h,function(V,U){return N.push(U),"@@@"});var B=i(i({},o),L);return R=R.replace(v,function(V){return P[V](b,B)}),R.replace(/@@@/g,function(){return N.shift()})};function A(b,R,L){if(L===void 0&&(L={}),typeof R!="string")throw new Error("Invalid format in fecha parse");if(R=K[R]||R,b.length>1e3)return null;var N=new Date,B={year:N.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},V=[],U=[],I=R.replace(h,function(ee,fe){return U.push(y(fe)),"@@@"}),F={},W={};I=y(I).replace(v,function(ee){var fe=Z[ee],de=fe[0],ue=fe[1],Se=fe[3];if(F[de])throw new Error("Invalid format. "+de+" specified twice in format");return F[de]=!0,Se&&(W[Se]=!0),V.push(fe),"("+ue+")"}),Object.keys(W).forEach(function(ee){if(!F[ee])throw new Error("Invalid format. "+ee+" is required in specified format")}),I=I.replace(/@@@/g,function(){return U.shift()});var X=b.match(new RegExp(I,"i"));if(!X)return null;for(var J=i(i({},o),L),C=1;C<X.length;C++){var k=V[C-1],Y=k[0],H=k[2],te=H?H(X[C],J):+X[C];if(te==null)return null;B[Y]=te}B.isPm===1&&B.hour!=null&&+B.hour!=12?B.hour=+B.hour+12:B.isPm===0&&+B.hour==12&&(B.hour=0);var le;if(B.timezoneOffset==null){le=new Date(B.year,B.month,B.day,B.hour,B.minute,B.second,B.millisecond);for(var ne=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],C=0,ie=ne.length;C<ie;C++)if(F[ne[C][0]]&&B[ne[C][0]]!==le[ne[C][1]]())return null}else if(le=new Date(Date.UTC(B.year,B.month,B.day,B.hour,B.minute-B.timezoneOffset,B.second,B.millisecond)),B.month>11||B.month<0||B.day>31||B.day<1||B.hour>23||B.hour<0||B.minute>59||B.minute<0||B.second>59||B.second<0)return null;return le}var M={format:w,parse:A,defaultI18n:r,setGlobalDateI18n:g,setGlobalDateMasks:z};j.default=M},93162:function(se,j,e){var v,m,x;(function(u,p){m=[],v=p,x=typeof v=="function"?v.apply(j,m):v,x!==void 0&&(se.exports=x)})(this,function(){"use strict";function u(a,f){return typeof f=="undefined"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function p(a,f,l){var n=new XMLHttpRequest;n.open("GET",a),n.responseType="blob",n.onload=function(){i(n.response,f,l)},n.onerror=function(){console.error("could not download file")},n.send()}function d(a){var f=new XMLHttpRequest;f.open("HEAD",a,!1);try{f.send()}catch(l){}return 200<=f.status&&299>=f.status}function h(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(l){var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(f)}}var t=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,c=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=t.saveAs||(typeof window!="object"||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(a,f,l){var n=t.URL||t.webkitURL,r=document.createElement("a");f=f||a.name||"download",r.download=f,r.rel="noopener",typeof a=="string"?(r.href=a,r.origin===location.origin?h(r):d(r.href)?p(a,f,l):h(r,r.target="_blank")):(r.href=n.createObjectURL(a),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){h(r)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,l){if(f=f||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(u(a,l),f);else if(d(a))p(a,f,l);else{var n=document.createElement("a");n.href=a,n.target="_blank",setTimeout(function(){h(n)})}}:function(a,f,l,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof a=="string")return p(a,f,l);var r=a.type==="application/octet-stream",o=/constructor/i.test(t.HTMLElement)||t.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||r&&o||c)&&typeof FileReader!="undefined"){var y=new FileReader;y.onloadend=function(){var E=y.result;E=g?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=E:location=E,n=null},y.readAsDataURL(a)}else{var D=t.URL||t.webkitURL,P=D.createObjectURL(a);n?n.location=P:location.href=P,n=null,setTimeout(function(){D.revokeObjectURL(P)},4e4)}});t.saveAs=i.saveAs=i,se.exports=i})},34444:function(se){se.exports=v,v.flatten=v,v.unflatten=m;function j(x){return x&&x.constructor&&typeof x.constructor.isBuffer=="function"&&x.constructor.isBuffer(x)}function e(x){return x}function v(x,u){u=u||{};const p=u.delimiter||".",d=u.maxDepth,h=u.transformKey||e,t={};function c(i,a,f){f=f||1,Object.keys(i).forEach(function(l){const n=i[l],r=u.safe&&Array.isArray(n),o=Object.prototype.toString.call(n),g=j(n),y=o==="[object Object]"||o==="[object Array]",D=a?a+p+h(l):h(l);if(!r&&!g&&y&&Object.keys(n).length&&(!u.maxDepth||f<d))return c(n,D,f+1);t[D]=n})}return c(x),t}function m(x,u){u=u||{};const p=u.delimiter||".",d=u.overwrite||!1,h=u.transformKey||e,t={};if(j(x)||Object.prototype.toString.call(x)!=="[object Object]")return x;function i(l){const n=Number(l);return isNaN(n)||l.indexOf(".")!==-1||u.object?l:n}function a(l,n,r){return Object.keys(r).reduce(function(o,g){return o[l+p+g]=r[g],o},n)}function f(l){const n=Object.prototype.toString.call(l),r=n==="[object Array]",o=n==="[object Object]";if(l){if(r)return!l.length;if(o)return!Object.keys(l).length}else return!0}return x=Object.keys(x).reduce(function(l,n){const r=Object.prototype.toString.call(x[n]);return!(r==="[object Object]"||r==="[object Array]")||f(x[n])?(l[n]=x[n],l):a(n,l,v(x[n],u))},{}),Object.keys(x).forEach(function(l){const n=l.split(p).map(h);let r=i(n.shift()),o=i(n[0]),g=t;for(;o!==void 0;){if(r==="__proto__")return;const y=Object.prototype.toString.call(g[r]),D=y==="[object Object]"||y==="[object Array]";if(!d&&!D&&typeof g[r]!="undefined")return;(d&&!D||!d&&g[r]==null)&&(g[r]=typeof o=="number"&&!u.object?[]:{}),g=g[r],n.length>0&&(r=i(n.shift()),o=i(n[0]))}g[r]=m(x[l],u)}),t}},87026:function(se,j){(function(e,v){v(j)})(this,function(e){"use strict";function v(l,n,r,o){o=o||{};var g=o.maxIterations||100,y=o.tolerance||1e-10,D=l(n),P=l(r),E=r-n;if(D*P>0)throw"Initial bisect points must have opposite signs";if(D===0)return n;if(P===0)return r;for(var O=0;O<g;++O){E/=2;var T=n+E,S=l(T);if(S*D>=0&&(n=T),Math.abs(E)<y||S===0)return T}return n+E}function m(l){for(var n=new Array(l),r=0;r<l;++r)n[r]=0;return n}function x(l,n){return m(l).map(function(){return m(n)})}function u(l,n){for(var r=0,o=0;o<l.length;++o)r+=l[o]*n[o];return r}function p(l){return Math.sqrt(u(l,l))}function d(l,n,r){for(var o=0;o<n.length;++o)l[o]=n[o]*r}function h(l,n,r,o,g){for(var y=0;y<l.length;++y)l[y]=n*r[y]+o*g[y]}function t(l,n,r){r=r||{};var o=r.maxIterations||n.length*200,g=r.nonZeroDelta||1.05,y=r.zeroDelta||.001,D=r.minErrorDelta||1e-6,P=r.minErrorDelta||1e-5,E=r.rho!==void 0?r.rho:1,O=r.chi!==void 0?r.chi:2,T=r.psi!==void 0?r.psi:-.5,S=r.sigma!==void 0?r.sigma:.5,$,Z=n.length,K=new Array(Z+1);K[0]=n,K[0].fx=l(n),K[0].id=0;for(var z=0;z<Z;++z){var w=n.slice();w[z]=w[z]?w[z]*g:y,K[z+1]=w,K[z+1].fx=l(w),K[z+1].id=z+1}function A(W){for(var X=0;X<W.length;X++)K[Z][X]=W[X];K[Z].fx=W.fx}for(var M=function(W,X){return W.fx-X.fx},b=n.slice(),R=n.slice(),L=n.slice(),N=n.slice(),B=0;B<o;++B){if(K.sort(M),r.history){var V=K.map(function(W){var X=W.slice();return X.fx=W.fx,X.id=W.id,X});V.sort(function(W,X){return W.id-X.id}),r.history.push({x:K[0].slice(),fx:K[0].fx,simplex:V})}for($=0,z=0;z<Z;++z)$=Math.max($,Math.abs(K[0][z]-K[1][z]));if(Math.abs(K[0].fx-K[Z].fx)<D&&$<P)break;for(z=0;z<Z;++z){b[z]=0;for(var U=0;U<Z;++U)b[z]+=K[U][z];b[z]/=Z}var I=K[Z];if(h(R,1+E,b,-E,I),R.fx=l(R),R.fx<K[0].fx)h(N,1+O,b,-O,I),N.fx=l(N),N.fx<R.fx?A(N):A(R);else if(R.fx>=K[Z-1].fx){var F=!1;if(R.fx>I.fx?(h(L,1+T,b,-T,I),L.fx=l(L),L.fx<I.fx?A(L):F=!0):(h(L,1-T*E,b,T*E,I),L.fx=l(L),L.fx<R.fx?A(L):F=!0),F){if(S>=1)break;for(z=1;z<K.length;++z)h(K[z],1-S,K[0],S,K[z]),K[z].fx=l(K[z])}}else A(R)}return K.sort(M),{fx:K[0].fx,x:K[0]}}function c(l,n,r,o,g,y,D){var P=r.fx,E=u(r.fxprime,n),O=P,T=P,S=E,$=0;g=g||1,y=y||1e-6,D=D||.1;function Z(z,w,A){for(var M=0;M<16;++M)if(g=(z+w)/2,h(o.x,1,r.x,g,n),O=o.fx=l(o.x,o.fxprime),S=u(o.fxprime,n),O>P+y*g*E||O>=A)w=g;else{if(Math.abs(S)<=-D*E)return g;S*(w-z)>=0&&(w=z),z=g,A=O}return 0}for(var K=0;K<10;++K){if(h(o.x,1,r.x,g,n),O=o.fx=l(o.x,o.fxprime),S=u(o.fxprime,n),O>P+y*g*E||K&&O>=T)return Z($,g,T);if(Math.abs(S)<=-D*E)return g;if(S>=0)return Z(g,$,O);T=O,$=g,g*=2}return g}function i(l,n,r){var o={x:n.slice(),fx:0,fxprime:n.slice()},g={x:n.slice(),fx:0,fxprime:n.slice()},y=n.slice(),D,P,E=1,O;r=r||{},O=r.maxIterations||n.length*20,o.fx=l(o.x,o.fxprime),D=o.fxprime.slice(),d(D,o.fxprime,-1);for(var T=0;T<O;++T){if(E=c(l,D,o,g,E),r.history&&r.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:E}),!E)d(D,o.fxprime,-1);else{h(y,1,g.fxprime,-1,o.fxprime);var S=u(o.fxprime,o.fxprime),$=Math.max(0,u(y,g.fxprime)/S);h(D,$,D,-1,g.fxprime),P=o,o=g,g=P}if(p(o.fxprime)<=1e-5)break}return r.history&&r.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:E}),o}function a(l,n,r){r=r||{};for(var o=r.maxIterations||n.length*100,g=r.learnRate||.001,y={x:n.slice(),fx:0,fxprime:n.slice()},D=0;D<o&&(y.fx=l(y.x,y.fxprime),r.history&&r.history.push({x:y.x.slice(),fx:y.fx,fxprime:y.fxprime.slice()}),h(y.x,1,y.x,-g,y.fxprime),!(p(y.fxprime)<=1e-5));++D);return y}function f(l,n,r){r=r||{};var o={x:n.slice(),fx:0,fxprime:n.slice()},g={x:n.slice(),fx:0,fxprime:n.slice()},y=r.maxIterations||n.length*100,D=r.learnRate||1,P=n.slice(),E=r.c1||.001,O=r.c2||.1,T,S=[];if(r.history){var $=l;l=function(K,z){return S.push(K.slice()),$(K,z)}}o.fx=l(o.x,o.fxprime);for(var Z=0;Z<y&&(d(P,o.fxprime,-1),D=c(l,P,o,g,D,E,O),r.history&&(r.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),functionCalls:S,learnRate:D,alpha:D}),S=[]),T=o,o=g,g=T,!(D===0||p(o.fxprime)<1e-5));++Z);return o}e.bisect=v,e.nelderMead=t,e.conjugateGradient=i,e.gradientDescent=a,e.gradientDescentLineSearch=f,e.zeros=m,e.zerosM=x,e.norm2=p,e.weightedSum=h,e.scale=d})},17648:function(se){"use strict";var j="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,v=Math.max,m="[object Function]",x=function(h,t){for(var c=[],i=0;i<h.length;i+=1)c[i]=h[i];for(var a=0;a<t.length;a+=1)c[a+h.length]=t[a];return c},u=function(h,t){for(var c=[],i=t||0,a=0;i<h.length;i+=1,a+=1)c[a]=h[i];return c},p=function(d,h){for(var t="",c=0;c<d.length;c+=1)t+=d[c],c+1<d.length&&(t+=h);return t};se.exports=function(h){var t=this;if(typeof t!="function"||e.apply(t)!==m)throw new TypeError(j+t);for(var c=u(arguments,1),i,a=function(){if(this instanceof i){var o=t.apply(this,x(c,arguments));return Object(o)===o?o:this}return t.apply(h,x(c,arguments))},f=v(0,t.length-c.length),l=[],n=0;n<f;n++)l[n]="$"+n;if(i=Function("binder","return function ("+p(l,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var r=function(){};r.prototype=t.prototype,i.prototype=new r,r.prototype=null}return i}},58612:function(se,j,e){"use strict";var v=e(17648);se.exports=Function.prototype.bind||v},40210:function(se,j,e){"use strict";var v,m=SyntaxError,x=Function,u=TypeError,p=function(w){try{return x('"use strict"; return ('+w+").constructor;")()}catch(A){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(w){d=null}var h=function(){throw new u},t=d?function(){try{return arguments.callee,h}catch(w){try{return d(arguments,"callee").get}catch(A){return h}}}():h,c=e(41405)(),i=e(28185)(),a=Object.getPrototypeOf||(i?function(w){return w.__proto__}:null),f={},l=typeof Uint8Array=="undefined"||!a?v:a(Uint8Array),n={"%AggregateError%":typeof AggregateError=="undefined"?v:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?v:ArrayBuffer,"%ArrayIteratorPrototype%":c&&a?a([][Symbol.iterator]()):v,"%AsyncFromSyncIteratorPrototype%":v,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics=="undefined"?v:Atomics,"%BigInt%":typeof BigInt=="undefined"?v:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?v:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?v:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?v:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?v:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?v:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?v:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array=="undefined"?v:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?v:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?v:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&a?a(a([][Symbol.iterator]())):v,"%JSON%":typeof JSON=="object"?JSON:v,"%Map%":typeof Map=="undefined"?v:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!c||!a?v:a(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?v:Promise,"%Proxy%":typeof Proxy=="undefined"?v:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?v:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?v:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!c||!a?v:a(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?v:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&a?a(""[Symbol.iterator]()):v,"%Symbol%":c?Symbol:v,"%SyntaxError%":m,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array=="undefined"?v:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?v:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?v:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?v:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?v:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?v:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?v:WeakSet};if(a)try{null.error}catch(w){var r=a(a(w));n["%Error.prototype%"]=r}var o=function w(A){var M;if(A==="%AsyncFunction%")M=p("async function () {}");else if(A==="%GeneratorFunction%")M=p("function* () {}");else if(A==="%AsyncGeneratorFunction%")M=p("async function* () {}");else if(A==="%AsyncGenerator%"){var b=w("%AsyncGeneratorFunction%");b&&(M=b.prototype)}else if(A==="%AsyncIteratorPrototype%"){var R=w("%AsyncGenerator%");R&&a&&(M=a(R.prototype))}return n[A]=M,M},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=e(58612),D=e(78001),P=y.call(Function.call,Array.prototype.concat),E=y.call(Function.apply,Array.prototype.splice),O=y.call(Function.call,String.prototype.replace),T=y.call(Function.call,String.prototype.slice),S=y.call(Function.call,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,K=function(A){var M=T(A,0,1),b=T(A,-1);if(M==="%"&&b!=="%")throw new m("invalid intrinsic syntax, expected closing `%`");if(b==="%"&&M!=="%")throw new m("invalid intrinsic syntax, expected opening `%`");var R=[];return O(A,$,function(L,N,B,V){R[R.length]=B?O(V,Z,"$1"):N||L}),R},z=function(A,M){var b=A,R;if(D(g,b)&&(R=g[b],b="%"+R[0]+"%"),D(n,b)){var L=n[b];if(L===f&&(L=o(b)),typeof L=="undefined"&&!M)throw new u("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:R,name:b,value:L}}throw new m("intrinsic "+A+" does not exist!")};se.exports=function(A,M){if(typeof A!="string"||A.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof M!="boolean")throw new u('"allowMissing" argument must be a boolean');if(S(/^%?[^%]*%?$/,A)===null)throw new m("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var b=K(A),R=b.length>0?b[0]:"",L=z("%"+R+"%",M),N=L.name,B=L.value,V=!1,U=L.alias;U&&(R=U[0],E(b,P([0,1],U)));for(var I=1,F=!0;I<b.length;I+=1){var W=b[I],X=T(W,0,1),J=T(W,-1);if((X==='"'||X==="'"||X==="`"||J==='"'||J==="'"||J==="`")&&X!==J)throw new m("property names with quotes must have matching quotes");if((W==="constructor"||!F)&&(V=!0),R+="."+W,N="%"+R+"%",D(n,N))B=n[N];else if(B!=null){if(!(W in B)){if(!M)throw new u("base intrinsic for "+A+" exists, but the property is not available.");return}if(d&&I+1>=b.length){var C=d(B,W);F=!!C,F&&"get"in C&&!("originalValue"in C.get)?B=C.get:B=B[W]}else F=D(B,W),B=B[W];F&&!V&&(n[N]=B)}}return B}},25275:function(se,j,e){"use strict";var v=e(40210),m=v("%Object.getOwnPropertyDescriptor%",!0);if(m)try{m([],"length")}catch(x){m=null}se.exports=m},31044:function(se,j,e){"use strict";var v=e(40210),m=v("%Object.defineProperty%",!0),x=function(){if(m)try{return m({},"a",{value:1}),!0}catch(p){return!1}return!1};x.hasArrayLengthDefineBug=function(){if(!x())return null;try{return m([],"length",{value:1}).length!==1}catch(p){return!0}},se.exports=x},28185:function(se){"use strict";var j={foo:{}},e=Object;se.exports=function(){return{__proto__:j}.foo===j.foo&&!({__proto__:null}instanceof e)}},41405:function(se,j,e){"use strict";var v=typeof Symbol!="undefined"&&Symbol,m=e(55419);se.exports=function(){return typeof v!="function"||typeof Symbol!="function"||typeof v("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:m()}},55419:function(se){"use strict";se.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},v=Symbol("test"),m=Object(v);if(typeof v=="string"||Object.prototype.toString.call(v)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;var x=42;e[v]=x;for(v in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==v||!Object.prototype.propertyIsEnumerable.call(e,v))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(e,v);if(p.value!==x||p.enumerable!==!0)return!1}return!0}},33715:function(se,j,e){var v=j;v.utils=e(26436),v.common=e(95772),v.sha=e(89041),v.ripemd=e(12949),v.hmac=e(52344),v.sha1=v.sha.sha1,v.sha256=v.sha.sha256,v.sha224=v.sha.sha224,v.sha384=v.sha.sha384,v.sha512=v.sha.sha512,v.ripemd160=v.ripemd.ripemd160},95772:function(se,j,e){"use strict";var v=e(26436),m=e(79746);function x(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=x,x.prototype.update=function(p,d){if(p=v.toArray(p,d),this.pending?this.pending=this.pending.concat(p):this.pending=p,this.pendingTotal+=p.length,this.pending.length>=this._delta8){p=this.pending;var h=p.length%this._delta8;this.pending=p.slice(p.length-h,p.length),this.pending.length===0&&(this.pending=null),p=v.join32(p,0,p.length-h,this.endian);for(var t=0;t<p.length;t+=this._delta32)this._update(p,t,t+this._delta32)}return this},x.prototype.digest=function(p){return this.update(this._pad()),m(this.pending===null),this._digest(p)},x.prototype._pad=function(){var p=this.pendingTotal,d=this._delta8,h=d-(p+this.padLength)%d,t=new Array(h+this.padLength);t[0]=128;for(var c=1;c<h;c++)t[c]=0;if(p<<=3,this.endian==="big"){for(var i=8;i<this.padLength;i++)t[c++]=0;t[c++]=0,t[c++]=0,t[c++]=0,t[c++]=0,t[c++]=p>>>24&255,t[c++]=p>>>16&255,t[c++]=p>>>8&255,t[c++]=p&255}else for(t[c++]=p&255,t[c++]=p>>>8&255,t[c++]=p>>>16&255,t[c++]=p>>>24&255,t[c++]=0,t[c++]=0,t[c++]=0,t[c++]=0,i=8;i<this.padLength;i++)t[c++]=0;return t}},52344:function(se,j,e){"use strict";var v=e(26436),m=e(79746);function x(u,p,d){if(!(this instanceof x))return new x(u,p,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(v.toArray(p,d))}se.exports=x,x.prototype._init=function(p){p.length>this.blockSize&&(p=new this.Hash().update(p).digest()),m(p.length<=this.blockSize);for(var d=p.length;d<this.blockSize;d++)p.push(0);for(d=0;d<p.length;d++)p[d]^=54;for(this.inner=new this.Hash().update(p),d=0;d<p.length;d++)p[d]^=106;this.outer=new this.Hash().update(p)},x.prototype.update=function(p,d){return this.inner.update(p,d),this},x.prototype.digest=function(p){return this.outer.update(this.inner.digest()),this.outer.digest(p)}},12949:function(se,j,e){"use strict";var v=e(26436),m=e(95772),x=v.rotl32,u=v.sum32,p=v.sum32_3,d=v.sum32_4,h=m.BlockHash;function t(){if(!(this instanceof t))return new t;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}v.inherits(t,h),j.ripemd160=t,t.blockSize=512,t.outSize=160,t.hmacStrength=192,t.padLength=64,t.prototype._update=function(g,y){for(var D=this.h[0],P=this.h[1],E=this.h[2],O=this.h[3],T=this.h[4],S=D,$=P,Z=E,K=O,z=T,w=0;w<80;w++){var A=u(x(d(D,c(w,P,E,O),g[f[w]+y],i(w)),n[w]),T);D=T,T=O,O=x(E,10),E=P,P=A,A=u(x(d(S,c(79-w,$,Z,K),g[l[w]+y],a(w)),r[w]),z),S=z,z=K,K=x(Z,10),Z=$,$=A}A=p(this.h[1],E,K),this.h[1]=p(this.h[2],O,z),this.h[2]=p(this.h[3],T,S),this.h[3]=p(this.h[4],D,$),this.h[4]=p(this.h[0],P,Z),this.h[0]=A},t.prototype._digest=function(g){return g==="hex"?v.toHex32(this.h,"little"):v.split32(this.h,"little")};function c(o,g,y,D){return o<=15?g^y^D:o<=31?g&y|~g&D:o<=47?(g|~y)^D:o<=63?g&D|y&~D:g^(y|~D)}function i(o){return o<=15?0:o<=31?1518500249:o<=47?1859775393:o<=63?2400959708:2840853838}function a(o){return o<=15?1352829926:o<=31?1548603684:o<=47?1836072691:o<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],n=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],r=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:function(se,j,e){"use strict";j.sha1=e(84761),j.sha224=e(10799),j.sha256=e(89344),j.sha384=e(80772),j.sha512=e(45900)},84761:function(se,j,e){"use strict";var v=e(26436),m=e(95772),x=e(37038),u=v.rotl32,p=v.sum32,d=v.sum32_5,h=x.ft_1,t=m.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function i(){if(!(this instanceof i))return new i;t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}v.inherits(i,t),se.exports=i,i.blockSize=512,i.outSize=160,i.hmacStrength=80,i.padLength=64,i.prototype._update=function(f,l){for(var n=this.W,r=0;r<16;r++)n[r]=f[l+r];for(;r<n.length;r++)n[r]=u(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var o=this.h[0],g=this.h[1],y=this.h[2],D=this.h[3],P=this.h[4];for(r=0;r<n.length;r++){var E=~~(r/20),O=d(u(o,5),h(E,g,y,D),P,n[r],c[E]);P=D,D=y,y=u(g,30),g=o,o=O}this.h[0]=p(this.h[0],o),this.h[1]=p(this.h[1],g),this.h[2]=p(this.h[2],y),this.h[3]=p(this.h[3],D),this.h[4]=p(this.h[4],P)},i.prototype._digest=function(f){return f==="hex"?v.toHex32(this.h,"big"):v.split32(this.h,"big")}},10799:function(se,j,e){"use strict";var v=e(26436),m=e(89344);function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}v.inherits(x,m),se.exports=x,x.blockSize=512,x.outSize=224,x.hmacStrength=192,x.padLength=64,x.prototype._digest=function(p){return p==="hex"?v.toHex32(this.h.slice(0,7),"big"):v.split32(this.h.slice(0,7),"big")}},89344:function(se,j,e){"use strict";var v=e(26436),m=e(95772),x=e(37038),u=e(79746),p=v.sum32,d=v.sum32_4,h=v.sum32_5,t=x.ch32,c=x.maj32,i=x.s0_256,a=x.s1_256,f=x.g0_256,l=x.g1_256,n=m.BlockHash,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=r,this.W=new Array(64)}v.inherits(o,n),se.exports=o,o.blockSize=512,o.outSize=256,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(y,D){for(var P=this.W,E=0;E<16;E++)P[E]=y[D+E];for(;E<P.length;E++)P[E]=d(l(P[E-2]),P[E-7],f(P[E-15]),P[E-16]);var O=this.h[0],T=this.h[1],S=this.h[2],$=this.h[3],Z=this.h[4],K=this.h[5],z=this.h[6],w=this.h[7];for(u(this.k.length===P.length),E=0;E<P.length;E++){var A=h(w,a(Z),t(Z,K,z),this.k[E],P[E]),M=p(i(O),c(O,T,S));w=z,z=K,K=Z,Z=p($,A),$=S,S=T,T=O,O=p(A,M)}this.h[0]=p(this.h[0],O),this.h[1]=p(this.h[1],T),this.h[2]=p(this.h[2],S),this.h[3]=p(this.h[3],$),this.h[4]=p(this.h[4],Z),this.h[5]=p(this.h[5],K),this.h[6]=p(this.h[6],z),this.h[7]=p(this.h[7],w)},o.prototype._digest=function(y){return y==="hex"?v.toHex32(this.h,"big"):v.split32(this.h,"big")}},80772:function(se,j,e){"use strict";var v=e(26436),m=e(45900);function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}v.inherits(x,m),se.exports=x,x.blockSize=1024,x.outSize=384,x.hmacStrength=192,x.padLength=128,x.prototype._digest=function(p){return p==="hex"?v.toHex32(this.h.slice(0,12),"big"):v.split32(this.h.slice(0,12),"big")}},45900:function(se,j,e){"use strict";var v=e(26436),m=e(95772),x=e(79746),u=v.rotr64_hi,p=v.rotr64_lo,d=v.shr64_hi,h=v.shr64_lo,t=v.sum64,c=v.sum64_hi,i=v.sum64_lo,a=v.sum64_4_hi,f=v.sum64_4_lo,l=v.sum64_5_hi,n=v.sum64_5_lo,r=m.BlockHash,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;r.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=o,this.W=new Array(160)}v.inherits(g,r),se.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(M,b){for(var R=this.W,L=0;L<32;L++)R[L]=M[b+L];for(;L<R.length;L+=2){var N=z(R[L-4],R[L-3]),B=w(R[L-4],R[L-3]),V=R[L-14],U=R[L-13],I=Z(R[L-30],R[L-29]),F=K(R[L-30],R[L-29]),W=R[L-32],X=R[L-31];R[L]=a(N,B,V,U,I,F,W,X),R[L+1]=f(N,B,V,U,I,F,W,X)}},g.prototype._update=function(M,b){this._prepareBlock(M,b);var R=this.W,L=this.h[0],N=this.h[1],B=this.h[2],V=this.h[3],U=this.h[4],I=this.h[5],F=this.h[6],W=this.h[7],X=this.h[8],J=this.h[9],C=this.h[10],k=this.h[11],Y=this.h[12],H=this.h[13],te=this.h[14],le=this.h[15];x(this.k.length===R.length);for(var ne=0;ne<R.length;ne+=2){var ie=te,ee=le,fe=S(X,J),de=$(X,J),ue=y(X,J,C,k,Y,H),Se=D(X,J,C,k,Y,H),ae=this.k[ne],G=this.k[ne+1],re=R[ne],oe=R[ne+1],ce=l(ie,ee,fe,de,ue,Se,ae,G,re,oe),be=n(ie,ee,fe,de,ue,Se,ae,G,re,oe);ie=O(L,N),ee=T(L,N),fe=P(L,N,B,V,U,I),de=E(L,N,B,V,U,I);var xe=c(ie,ee,fe,de),ge=i(ie,ee,fe,de);te=Y,le=H,Y=C,H=k,C=X,k=J,X=c(F,W,ce,be),J=i(W,W,ce,be),F=U,W=I,U=B,I=V,B=L,V=N,L=c(ce,be,xe,ge),N=i(ce,be,xe,ge)}t(this.h,0,L,N),t(this.h,2,B,V),t(this.h,4,U,I),t(this.h,6,F,W),t(this.h,8,X,J),t(this.h,10,C,k),t(this.h,12,Y,H),t(this.h,14,te,le)},g.prototype._digest=function(M){return M==="hex"?v.toHex32(this.h,"big"):v.split32(this.h,"big")};function y(A,M,b,R,L){var N=A&b^~A&L;return N<0&&(N+=4294967296),N}function D(A,M,b,R,L,N){var B=M&R^~M&N;return B<0&&(B+=4294967296),B}function P(A,M,b,R,L){var N=A&b^A&L^b&L;return N<0&&(N+=4294967296),N}function E(A,M,b,R,L,N){var B=M&R^M&N^R&N;return B<0&&(B+=4294967296),B}function O(A,M){var b=u(A,M,28),R=u(M,A,2),L=u(M,A,7),N=b^R^L;return N<0&&(N+=4294967296),N}function T(A,M){var b=p(A,M,28),R=p(M,A,2),L=p(M,A,7),N=b^R^L;return N<0&&(N+=4294967296),N}function S(A,M){var b=u(A,M,14),R=u(A,M,18),L=u(M,A,9),N=b^R^L;return N<0&&(N+=4294967296),N}function $(A,M){var b=p(A,M,14),R=p(A,M,18),L=p(M,A,9),N=b^R^L;return N<0&&(N+=4294967296),N}function Z(A,M){var b=u(A,M,1),R=u(A,M,8),L=d(A,M,7),N=b^R^L;return N<0&&(N+=4294967296),N}function K(A,M){var b=p(A,M,1),R=p(A,M,8),L=h(A,M,7),N=b^R^L;return N<0&&(N+=4294967296),N}function z(A,M){var b=u(A,M,19),R=u(M,A,29),L=d(A,M,6),N=b^R^L;return N<0&&(N+=4294967296),N}function w(A,M){var b=p(A,M,19),R=p(M,A,29),L=h(A,M,6),N=b^R^L;return N<0&&(N+=4294967296),N}},37038:function(se,j,e){"use strict";var v=e(26436),m=v.rotr32;function x(a,f,l,n){if(a===0)return u(f,l,n);if(a===1||a===3)return d(f,l,n);if(a===2)return p(f,l,n)}j.ft_1=x;function u(a,f,l){return a&f^~a&l}j.ch32=u;function p(a,f,l){return a&f^a&l^f&l}j.maj32=p;function d(a,f,l){return a^f^l}j.p32=d;function h(a){return m(a,2)^m(a,13)^m(a,22)}j.s0_256=h;function t(a){return m(a,6)^m(a,11)^m(a,25)}j.s1_256=t;function c(a){return m(a,7)^m(a,18)^a>>>3}j.g0_256=c;function i(a){return m(a,17)^m(a,19)^a>>>10}j.g1_256=i},26436:function(se,j,e){"use strict";var v=e(79746),m=e(35717);j.inherits=m;function x(w,A){return(w.charCodeAt(A)&64512)!==55296||A<0||A+1>=w.length?!1:(w.charCodeAt(A+1)&64512)===56320}function u(w,A){if(Array.isArray(w))return w.slice();if(!w)return[];var M=[];if(typeof w=="string")if(A){if(A==="hex")for(w=w.replace(/[^a-z0-9]+/ig,""),w.length%2!==0&&(w="0"+w),R=0;R<w.length;R+=2)M.push(parseInt(w[R]+w[R+1],16))}else for(var b=0,R=0;R<w.length;R++){var L=w.charCodeAt(R);L<128?M[b++]=L:L<2048?(M[b++]=L>>6|192,M[b++]=L&63|128):x(w,R)?(L=65536+((L&1023)<<10)+(w.charCodeAt(++R)&1023),M[b++]=L>>18|240,M[b++]=L>>12&63|128,M[b++]=L>>6&63|128,M[b++]=L&63|128):(M[b++]=L>>12|224,M[b++]=L>>6&63|128,M[b++]=L&63|128)}else for(R=0;R<w.length;R++)M[R]=w[R]|0;return M}j.toArray=u;function p(w){for(var A="",M=0;M<w.length;M++)A+=t(w[M].toString(16));return A}j.toHex=p;function d(w){var A=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return A>>>0}j.htonl=d;function h(w,A){for(var M="",b=0;b<w.length;b++){var R=w[b];A==="little"&&(R=d(R)),M+=c(R.toString(16))}return M}j.toHex32=h;function t(w){return w.length===1?"0"+w:w}j.zero2=t;function c(w){return w.length===7?"0"+w:w.length===6?"00"+w:w.length===5?"000"+w:w.length===4?"0000"+w:w.length===3?"00000"+w:w.length===2?"000000"+w:w.length===1?"0000000"+w:w}j.zero8=c;function i(w,A,M,b){var R=M-A;v(R%4===0);for(var L=new Array(R/4),N=0,B=A;N<L.length;N++,B+=4){var V;b==="big"?V=w[B]<<24|w[B+1]<<16|w[B+2]<<8|w[B+3]:V=w[B+3]<<24|w[B+2]<<16|w[B+1]<<8|w[B],L[N]=V>>>0}return L}j.join32=i;function a(w,A){for(var M=new Array(w.length*4),b=0,R=0;b<w.length;b++,R+=4){var L=w[b];A==="big"?(M[R]=L>>>24,M[R+1]=L>>>16&255,M[R+2]=L>>>8&255,M[R+3]=L&255):(M[R+3]=L>>>24,M[R+2]=L>>>16&255,M[R+1]=L>>>8&255,M[R]=L&255)}return M}j.split32=a;function f(w,A){return w>>>A|w<<32-A}j.rotr32=f;function l(w,A){return w<<A|w>>>32-A}j.rotl32=l;function n(w,A){return w+A>>>0}j.sum32=n;function r(w,A,M){return w+A+M>>>0}j.sum32_3=r;function o(w,A,M,b){return w+A+M+b>>>0}j.sum32_4=o;function g(w,A,M,b,R){return w+A+M+b+R>>>0}j.sum32_5=g;function y(w,A,M,b){var R=w[A],L=w[A+1],N=b+L>>>0,B=(N<b?1:0)+M+R;w[A]=B>>>0,w[A+1]=N}j.sum64=y;function D(w,A,M,b){var R=A+b>>>0,L=(R<A?1:0)+w+M;return L>>>0}j.sum64_hi=D;function P(w,A,M,b){var R=A+b;return R>>>0}j.sum64_lo=P;function E(w,A,M,b,R,L,N,B){var V=0,U=A;U=U+b>>>0,V+=U<A?1:0,U=U+L>>>0,V+=U<L?1:0,U=U+B>>>0,V+=U<B?1:0;var I=w+M+R+N+V;return I>>>0}j.sum64_4_hi=E;function O(w,A,M,b,R,L,N,B){var V=A+b+L+B;return V>>>0}j.sum64_4_lo=O;function T(w,A,M,b,R,L,N,B,V,U){var I=0,F=A;F=F+b>>>0,I+=F<A?1:0,F=F+L>>>0,I+=F<L?1:0,F=F+B>>>0,I+=F<B?1:0,F=F+U>>>0,I+=F<U?1:0;var W=w+M+R+N+V+I;return W>>>0}j.sum64_5_hi=T;function S(w,A,M,b,R,L,N,B,V,U){var I=A+b+L+B+U;return I>>>0}j.sum64_5_lo=S;function $(w,A,M){var b=A<<32-M|w>>>M;return b>>>0}j.rotr64_hi=$;function Z(w,A,M){var b=w<<32-M|A>>>M;return b>>>0}j.rotr64_lo=Z;function K(w,A,M){return w>>>M}j.shr64_hi=K;function z(w,A,M){var b=w<<32-M|A>>>M;return b>>>0}j.shr64_lo=z},78001:function(se,j,e){"use strict";var v=Function.prototype.call,m=Object.prototype.hasOwnProperty,x=e(58612);se.exports=x.call(v,m)},2156:function(se,j,e){"use strict";var v=e(33715),m=e(34504),x=e(79746);function u(p){if(!(this instanceof u))return new u(p);this.hash=p.hash,this.predResist=!!p.predResist,this.outLen=this.hash.outSize,this.minEntropy=p.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=m.toArray(p.entropy,p.entropyEnc||"hex"),h=m.toArray(p.nonce,p.nonceEnc||"hex"),t=m.toArray(p.pers,p.persEnc||"hex");x(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,h,t)}se.exports=u,u.prototype._init=function(d,h,t){var c=d.concat(h).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new v.hmac(this.hash,this.K)},u.prototype._update=function(d){var h=this._hmac().update(this.V).update([0]);d&&(h=h.update(d)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),d&&(this.K=this._hmac().update(this.V).update([1]).update(d).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(d,h,t,c){typeof h!="string"&&(c=t,t=h,h=null),d=m.toArray(d,h),t=m.toArray(t,c),x(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(d.concat(t||[])),this._reseed=1},u.prototype.generate=function(d,h,t,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(c=t,t=h,h=null),t&&(t=m.toArray(t,c||"hex"),this._update(t));for(var i=[];i.length<d;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,d);return this._update(t),this._reseed++,m.encode(a,h)}},8679:function(se,j,e){"use strict";var v=e(59864),m={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},x={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};d[v.ForwardRef]=u,d[v.Memo]=p;function h(r){return v.isMemo(r)?p:d[r.$$typeof]||m}var t=Object.defineProperty,c=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,l=Object.prototype;function n(r,o,g){if(typeof o!="string"){if(l){var y=f(o);y&&y!==l&&n(r,y,g)}var D=c(o);i&&(D=D.concat(i(o)));for(var P=h(r),E=h(o),O=0;O<D.length;++O){var T=D[O];if(!x[T]&&!(g&&g[T])&&!(E&&E[T])&&!(P&&P[T])){var S=a(o,T);try{t(r,T,S)}catch($){}}}}return r}se.exports=n},80645:function(se,j){j.read=function(e,v,m,x,u){var p,d,h=u*8-x-1,t=(1<<h)-1,c=t>>1,i=-7,a=m?u-1:0,f=m?-1:1,l=e[v+a];for(a+=f,p=l&(1<<-i)-1,l>>=-i,i+=h;i>0;p=p*256+e[v+a],a+=f,i-=8);for(d=p&(1<<-i)-1,p>>=-i,i+=x;i>0;d=d*256+e[v+a],a+=f,i-=8);if(p===0)p=1-c;else{if(p===t)return d?NaN:(l?-1:1)*(1/0);d=d+Math.pow(2,x),p=p-c}return(l?-1:1)*d*Math.pow(2,p-x)},j.write=function(e,v,m,x,u,p){var d,h,t,c=p*8-u-1,i=(1<<c)-1,a=i>>1,f=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=x?0:p-1,n=x?1:-1,r=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(h=isNaN(v)?1:0,d=i):(d=Math.floor(Math.log(v)/Math.LN2),v*(t=Math.pow(2,-d))<1&&(d--,t*=2),d+a>=1?v+=f/t:v+=f*Math.pow(2,1-a),v*t>=2&&(d++,t/=2),d+a>=i?(h=0,d=i):d+a>=1?(h=(v*t-1)*Math.pow(2,u),d=d+a):(h=v*Math.pow(2,a-1)*Math.pow(2,u),d=0));u>=8;e[m+l]=h&255,l+=n,h/=256,u-=8);for(d=d<<u|h,c+=u;c>0;e[m+l]=d&255,l+=n,d/=256,c-=8);e[m+l-n]|=r*128}},35717:function(se){typeof Object.create=="function"?se.exports=function(e,v){v&&(e.super_=v,e.prototype=Object.create(v.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:se.exports=function(e,v){if(v){e.super_=v;var m=function(){};m.prototype=v.prototype,e.prototype=new m,e.prototype.constructor=e}}},66337:function(){(function(){"use strict";if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function se(g){try{return g.defaultView&&g.defaultView.frameElement||null}catch(y){return null}}var j=function(g){for(var y=g,D=se(y);D;)y=D.ownerDocument,D=se(y);return y}(window.document),e=[],v=null,m=null;function x(g){this.time=g.time,this.target=g.target,this.rootBounds=f(g.rootBounds),this.boundingClientRect=f(g.boundingClientRect),this.intersectionRect=f(g.intersectionRect||a()),this.isIntersecting=!!g.intersectionRect;var y=this.boundingClientRect,D=y.width*y.height,P=this.intersectionRect,E=P.width*P.height;D?this.intersectionRatio=Number((E/D).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function u(g,y){var D=y||{};if(typeof g!="function")throw new Error("callback must be a function");if(D.root&&D.root.nodeType!=1&&D.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=d(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=g,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(D.rootMargin),this.thresholds=this._initThresholds(D.threshold),this.root=D.root||null,this.rootMargin=this._rootMarginValues.map(function(P){return P.value+P.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}u.prototype.THROTTLE_TIMEOUT=100,u.prototype.POLL_INTERVAL=null,u.prototype.USE_MUTATION_OBSERVER=!0,u._setupCrossOriginUpdater=function(){return v||(v=function(g,y){!g||!y?m=a():m=l(g,y),e.forEach(function(D){D._checkForIntersections()})}),v},u._resetCrossOriginUpdater=function(){v=null,m=null},u.prototype.observe=function(g){var y=this._observationTargets.some(function(D){return D.element==g});if(!y){if(!(g&&g.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:g,entry:null}),this._monitorIntersections(g.ownerDocument),this._checkForIntersections()}},u.prototype.unobserve=function(g){this._observationTargets=this._observationTargets.filter(function(y){return y.element!=g}),this._unmonitorIntersections(g.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},u.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},u.prototype.takeRecords=function(){var g=this._queuedEntries.slice();return this._queuedEntries=[],g},u.prototype._initThresholds=function(g){var y=g||[0];return Array.isArray(y)||(y=[y]),y.sort().filter(function(D,P,E){if(typeof D!="number"||isNaN(D)||D<0||D>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return D!==E[P-1]})},u.prototype._parseRootMargin=function(g){var y=g||"0px",D=y.split(/\s+/).map(function(P){var E=/^(-?\d*\.?\d+)(px|%)$/.exec(P);if(!E)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(E[1]),unit:E[2]}});return D[1]=D[1]||D[0],D[2]=D[2]||D[0],D[3]=D[3]||D[1],D},u.prototype._monitorIntersections=function(g){var y=g.defaultView;if(y&&this._monitoringDocuments.indexOf(g)==-1){var D=this._checkForIntersections,P=null,E=null;this.POLL_INTERVAL?P=y.setInterval(D,this.POLL_INTERVAL):(h(y,"resize",D,!0),h(g,"scroll",D,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in y&&(E=new y.MutationObserver(D),E.observe(g,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(g),this._monitoringUnsubscribes.push(function(){var S=g.defaultView;S&&(P&&S.clearInterval(P),t(S,"resize",D,!0)),t(g,"scroll",D,!0),E&&E.disconnect()});var O=this.root&&(this.root.ownerDocument||this.root)||j;if(g!=O){var T=se(g);T&&this._monitorIntersections(T.ownerDocument)}}},u.prototype._unmonitorIntersections=function(g){var y=this._monitoringDocuments.indexOf(g);if(y!=-1){var D=this.root&&(this.root.ownerDocument||this.root)||j,P=this._observationTargets.some(function(T){var S=T.element.ownerDocument;if(S==g)return!0;for(;S&&S!=D;){var $=se(S);if(S=$&&$.ownerDocument,S==g)return!0}return!1});if(!P){var E=this._monitoringUnsubscribes[y];if(this._monitoringDocuments.splice(y,1),this._monitoringUnsubscribes.splice(y,1),E(),g!=D){var O=se(g);O&&this._unmonitorIntersections(O.ownerDocument)}}}},u.prototype._unmonitorAllIntersections=function(){var g=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var y=0;y<g.length;y++)g[y]()},u.prototype._checkForIntersections=function(){if(!(!this.root&&v&&!m)){var g=this._rootIsInDom(),y=g?this._getRootRect():a();this._observationTargets.forEach(function(D){var P=D.element,E=i(P),O=this._rootContainsTarget(P),T=D.entry,S=g&&O&&this._computeTargetAndRootIntersection(P,E,y),$=null;this._rootContainsTarget(P)?(!v||this.root)&&($=y):$=a();var Z=D.entry=new x({time:p(),target:P,boundingClientRect:E,rootBounds:$,intersectionRect:S});T?g&&O?this._hasCrossedThreshold(T,Z)&&this._queuedEntries.push(Z):T&&T.isIntersecting&&this._queuedEntries.push(Z):this._queuedEntries.push(Z)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},u.prototype._computeTargetAndRootIntersection=function(g,y,D){if(window.getComputedStyle(g).display!="none"){for(var P=y,E=r(g),O=!1;!O&&E;){var T=null,S=E.nodeType==1?window.getComputedStyle(E):{};if(S.display=="none")return null;if(E==this.root||E.nodeType==9)if(O=!0,E==this.root||E==j)v&&!this.root?!m||m.width==0&&m.height==0?(E=null,T=null,P=null):T=m:T=D;else{var $=r(E),Z=$&&i($),K=$&&this._computeTargetAndRootIntersection($,Z,D);Z&&K?(E=$,T=l(Z,K)):(E=null,P=null)}else{var z=E.ownerDocument;E!=z.body&&E!=z.documentElement&&S.overflow!="visible"&&(T=i(E))}if(T&&(P=c(T,P)),!P)break;E=E&&r(E)}return P}},u.prototype._getRootRect=function(){var g;if(this.root&&!o(this.root))g=i(this.root);else{var y=o(this.root)?this.root:j,D=y.documentElement,P=y.body;g={top:0,left:0,right:D.clientWidth||P.clientWidth,width:D.clientWidth||P.clientWidth,bottom:D.clientHeight||P.clientHeight,height:D.clientHeight||P.clientHeight}}return this._expandRectByRootMargin(g)},u.prototype._expandRectByRootMargin=function(g){var y=this._rootMarginValues.map(function(P,E){return P.unit=="px"?P.value:P.value*(E%2?g.width:g.height)/100}),D={top:g.top-y[0],right:g.right+y[1],bottom:g.bottom+y[2],left:g.left-y[3]};return D.width=D.right-D.left,D.height=D.bottom-D.top,D},u.prototype._hasCrossedThreshold=function(g,y){var D=g&&g.isIntersecting?g.intersectionRatio||0:-1,P=y.isIntersecting?y.intersectionRatio||0:-1;if(D!==P)for(var E=0;E<this.thresholds.length;E++){var O=this.thresholds[E];if(O==D||O==P||O<D!=O<P)return!0}},u.prototype._rootIsInDom=function(){return!this.root||n(j,this.root)},u.prototype._rootContainsTarget=function(g){var y=this.root&&(this.root.ownerDocument||this.root)||j;return n(y,g)&&(!this.root||y==g.ownerDocument)},u.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},u.prototype._unregisterInstance=function(){var g=e.indexOf(this);g!=-1&&e.splice(g,1)};function p(){return window.performance&&performance.now&&performance.now()}function d(g,y){var D=null;return function(){D||(D=setTimeout(function(){g(),D=null},y))}}function h(g,y,D,P){typeof g.addEventListener=="function"?g.addEventListener(y,D,P||!1):typeof g.attachEvent=="function"&&g.attachEvent("on"+y,D)}function t(g,y,D,P){typeof g.removeEventListener=="function"?g.removeEventListener(y,D,P||!1):typeof g.detachEvent=="function"&&g.detachEvent("on"+y,D)}function c(g,y){var D=Math.max(g.top,y.top),P=Math.min(g.bottom,y.bottom),E=Math.max(g.left,y.left),O=Math.min(g.right,y.right),T=O-E,S=P-D;return T>=0&&S>=0&&{top:D,bottom:P,left:E,right:O,width:T,height:S}||null}function i(g){var y;try{y=g.getBoundingClientRect()}catch(D){}return y?(y.width&&y.height||(y={top:y.top,right:y.right,bottom:y.bottom,left:y.left,width:y.right-y.left,height:y.bottom-y.top}),y):a()}function a(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function f(g){return!g||"x"in g?g:{top:g.top,y:g.top,bottom:g.bottom,left:g.left,x:g.left,right:g.right,width:g.width,height:g.height}}function l(g,y){var D=y.top-g.top,P=y.left-g.left;return{top:D,left:P,height:y.height,width:y.width,bottom:D+y.height,right:P+y.width}}function n(g,y){for(var D=y;D;){if(D==g)return!0;D=r(D)}return!1}function r(g){var y=g.parentNode;return g.nodeType==9&&g!=j?se(g):(y&&y.assignedSlot&&(y=y.assignedSlot.parentNode),y&&y.nodeType==11&&y.host?y.host:y)}function o(g){return g&&g.nodeType===9}window.IntersectionObserver=u,window.IntersectionObserverEntry=x})()},48738:function(se){se.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}},63228:function(se){se.exports=function j(e,v){"use strict";var m=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,x=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,p=/^0x[0-9a-f]+$/i,d=/^0/,h=function(y){return j.insensitive&&(""+y).toLowerCase()||""+y},t=h(e).replace(x,"")||"",c=h(v).replace(x,"")||"",i=t.replace(m,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),a=c.replace(m,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=parseInt(t.match(p),16)||i.length!==1&&t.match(u)&&Date.parse(t),l=parseInt(c.match(p),16)||f&&c.match(u)&&Date.parse(c)||null,n,r;if(l){if(f<l)return-1;if(f>l)return 1}for(var o=0,g=Math.max(i.length,a.length);o<g;o++){if(n=!(i[o]||"").match(d)&&parseFloat(i[o])||i[o]||0,r=!(a[o]||"").match(d)&&parseFloat(a[o])||a[o]||0,isNaN(n)!==isNaN(r))return isNaN(n)?1:-1;if(typeof n!=typeof r&&(n+="",r+=""),n<r)return-1;if(n>r)return 1}return 0}},36808:function(se,j,e){var v,m;(function(x){var u;if(v=x,m=typeof v=="function"?v.call(j,e,j,se):v,m!==void 0&&(se.exports=m),u=!0,se.exports=x(),u=!0,!u){var p=window.Cookies,d=window.Cookies=x();d.noConflict=function(){return window.Cookies=p,d}}})(function(){function x(){for(var d=0,h={};d<arguments.length;d++){var t=arguments[d];for(var c in t)h[c]=t[c]}return h}function u(d){return d.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function p(d){function h(){}function t(i,a,f){if(typeof document!="undefined"){f=x({path:"/"},h.defaults,f),typeof f.expires=="number"&&(f.expires=new Date(new Date*1+f.expires*864e5)),f.expires=f.expires?f.expires.toUTCString():"";try{var l=JSON.stringify(a);/^[\{\[]/.test(l)&&(a=l)}catch(o){}a=d.write?d.write(a,i):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var n="";for(var r in f)f[r]&&(n+="; "+r,f[r]!==!0&&(n+="="+f[r].split(";")[0]));return document.cookie=i+"="+a+n}}function c(i,a){if(typeof document!="undefined"){for(var f={},l=document.cookie?document.cookie.split("; "):[],n=0;n<l.length;n++){var r=l[n].split("="),o=r.slice(1).join("=");!a&&o.charAt(0)==='"'&&(o=o.slice(1,-1));try{var g=u(r[0]);if(o=(d.read||d)(o,g)||u(o),a)try{o=JSON.parse(o)}catch(y){}if(f[g]=o,i===g)break}catch(y){}}return i?f[i]:f}}return h.set=t,h.get=function(i){return c(i,!1)},h.getJSON=function(i){return c(i,!0)},h.remove=function(i,a){t(i,"",x(a,{expires:-1}))},h.defaults={},h.withConverter=p,h}return p(function(){})})},80973:function(se,j,e){var v=e(71169),m=function(p){var d=/[height|width]$/;return d.test(p)},x=function(p){var d="",h=Object.keys(p);return h.forEach(function(t,c){var i=p[t];t=v(t),m(t)&&typeof i=="number"&&(i=i+"px"),i===!0?d+=t:i===!1?d+="not "+t:d+="("+t+": "+i+")",c<h.length-1&&(d+=" and ")}),d},u=function(p){var d="";return typeof p=="string"?p:p instanceof Array?(p.forEach(function(h,t){d+=x(h),t<p.length-1&&(d+=", ")}),d):x(p)};se.exports=u},28922:function(se){var j=1/0,e=9007199254740991,v=17976931348623157e292,m=0/0,x="[object Arguments]",u="[object Function]",p="[object GeneratorFunction]",d="[object String]",h="[object Symbol]",t=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,l=parseInt;function n(H,te){for(var le=-1,ne=H?H.length:0,ie=Array(ne);++le<ne;)ie[le]=te(H[le],le,H);return ie}function r(H,te,le,ne){for(var ie=H.length,ee=le+(ne?1:-1);ne?ee--:++ee<ie;)if(te(H[ee],ee,H))return ee;return-1}function o(H,te,le){if(te!==te)return r(H,g,le);for(var ne=le-1,ie=H.length;++ne<ie;)if(H[ne]===te)return ne;return-1}function g(H){return H!==H}function y(H,te){for(var le=-1,ne=Array(H);++le<H;)ne[le]=te(le);return ne}function D(H,te){return n(te,function(le){return H[le]})}function P(H,te){return function(le){return H(te(le))}}var E=Object.prototype,O=E.hasOwnProperty,T=E.toString,S=E.propertyIsEnumerable,$=P(Object.keys,Object),Z=Math.max;function K(H,te){var le=R(H)||b(H)?y(H.length,String):[],ne=le.length,ie=!!ne;for(var ee in H)(te||O.call(H,ee))&&!(ie&&(ee=="length"||w(ee,ne)))&&le.push(ee);return le}function z(H){if(!A(H))return $(H);var te=[];for(var le in Object(H))O.call(H,le)&&le!="constructor"&&te.push(le);return te}function w(H,te){return te=te==null?e:te,!!te&&(typeof H=="number"||f.test(H))&&H>-1&&H%1==0&&H<te}function A(H){var te=H&&H.constructor,le=typeof te=="function"&&te.prototype||E;return H===le}function M(H,te,le,ne){H=L(H)?H:Y(H),le=le&&!ne?J(le):0;var ie=H.length;return le<0&&(le=Z(ie+le,0)),F(H)?le<=ie&&H.indexOf(te,le)>-1:!!ie&&o(H,te,le)>-1}function b(H){return N(H)&&O.call(H,"callee")&&(!S.call(H,"callee")||T.call(H)==x)}var R=Array.isArray;function L(H){return H!=null&&V(H.length)&&!B(H)}function N(H){return I(H)&&L(H)}function B(H){var te=U(H)?T.call(H):"";return te==u||te==p}function V(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=e}function U(H){var te=typeof H;return!!H&&(te=="object"||te=="function")}function I(H){return!!H&&typeof H=="object"}function F(H){return typeof H=="string"||!R(H)&&I(H)&&T.call(H)==d}function W(H){return typeof H=="symbol"||I(H)&&T.call(H)==h}function X(H){if(!H)return H===0?H:0;if(H=C(H),H===j||H===-j){var te=H<0?-1:1;return te*v}return H===H?H:0}function J(H){var te=X(H),le=te%1;return te===te?le?te-le:te:0}function C(H){if(typeof H=="number")return H;if(W(H))return m;if(U(H)){var te=typeof H.valueOf=="function"?H.valueOf():H;H=U(te)?te+"":te}if(typeof H!="string")return H===0?H:+H;H=H.replace(t,"");var le=i.test(H);return le||a.test(H)?l(H.slice(2),le?2:8):c.test(H)?m:+H}function k(H){return L(H)?K(H):z(H)}function Y(H){return H?D(H,k(H)):[]}se.exports=M},48094:function(se){var j="[object Boolean]",e=Object.prototype,v=e.toString;function m(u){return u===!0||u===!1||x(u)&&v.call(u)==j}function x(u){return!!u&&typeof u=="object"}se.exports=m},55928:function(se){var j=1/0,e=17976931348623157e292,v=0/0,m="[object Symbol]",x=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,t=Object.prototype,c=t.toString;function i(g){return typeof g=="number"&&g==r(g)}function a(g){var y=typeof g;return!!g&&(y=="object"||y=="function")}function f(g){return!!g&&typeof g=="object"}function l(g){return typeof g=="symbol"||f(g)&&c.call(g)==m}function n(g){if(!g)return g===0?g:0;if(g=o(g),g===j||g===-j){var y=g<0?-1:1;return y*e}return g===g?g:0}function r(g){var y=n(g),D=y%1;return y===y?D?y-D:y:0}function o(g){if(typeof g=="number")return g;if(l(g))return v;if(a(g)){var y=typeof g.valueOf=="function"?g.valueOf():g;g=a(y)?y+"":y}if(typeof g!="string")return g===0?g:+g;g=g.replace(x,"");var D=p.test(g);return D||d.test(g)?h(g.slice(2),D?2:8):u.test(g)?v:+g}se.exports=i},23126:function(se){var j="[object Number]",e=Object.prototype,v=e.toString;function m(u){return!!u&&typeof u=="object"}function x(u){return typeof u=="number"||m(u)&&v.call(u)==j}se.exports=x},8146:function(se){var j="[object Object]";function e(a){var f=!1;if(a!=null&&typeof a.toString!="function")try{f=!!(a+"")}catch(l){}return f}function v(a,f){return function(l){return a(f(l))}}var m=Function.prototype,x=Object.prototype,u=m.toString,p=x.hasOwnProperty,d=u.call(Object),h=x.toString,t=v(Object.getPrototypeOf,Object);function c(a){return!!a&&typeof a=="object"}function i(a){if(!c(a)||h.call(a)!=j||e(a))return!1;var f=t(a);if(f===null)return!0;var l=p.call(f,"constructor")&&f.constructor;return typeof l=="function"&&l instanceof l&&u.call(l)==d}se.exports=i},25751:function(se){var j="[object String]",e=Object.prototype,v=e.toString,m=Array.isArray;function x(p){return!!p&&typeof p=="object"}function u(p){return typeof p=="string"||!m(p)&&x(p)&&v.call(p)==j}se.exports=u},38917:function(se){var j="Expected a function",e=1/0,v=17976931348623157e292,m=0/0,x="[object Symbol]",u=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,h=/^0o[0-7]+$/i,t=parseInt,c=Object.prototype,i=c.toString;function a(D,P){var E;if(typeof P!="function")throw new TypeError(j);return D=g(D),function(){return--D>0&&(E=P.apply(this,arguments)),D<=1&&(P=void 0),E}}function f(D){return a(2,D)}function l(D){var P=typeof D;return!!D&&(P=="object"||P=="function")}function n(D){return!!D&&typeof D=="object"}function r(D){return typeof D=="symbol"||n(D)&&i.call(D)==x}function o(D){if(!D)return D===0?D:0;if(D=y(D),D===e||D===-e){var P=D<0?-1:1;return P*v}return D===D?D:0}function g(D){var P=o(D),E=P%1;return P===P?E?P-E:P:0}function y(D){if(typeof D=="number")return D;if(r(D))return m;if(l(D)){var P=typeof D.valueOf=="function"?D.valueOf():D;D=l(P)?P+"":P}if(typeof D!="string")return D===0?D:+D;D=D.replace(u,"");var E=d.test(D);return E||h.test(D)?t(D.slice(2),E?2:8):p.test(D)?m:+D}se.exports=f},59562:function(se,j,e){"use strict";e.d(j,{U:function(){return x}});var v={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{\u0130:"i",I:"\u0131",I\u0307:"i"}},az:{regexp:/\u0130/g,map:{\u0130:"i",I:"\u0131",I\u0307:"i"}},lt:{regexp:/\u0049|\u004A|\u012E|\u00CC|\u00CD|\u0128/g,map:{I:"i\u0307",J:"j\u0307",\u012E:"\u012F\u0307",\u00CC:"i\u0307\u0300",\u00CD:"i\u0307\u0301",\u0128:"i\u0307\u0303"}}};function m(u,p){var d=v[p.toLowerCase()];return x(d?u.replace(d.regexp,function(h){return d.map[h]}):u)}function x(u){return u.toLowerCase()}},39593:function(se,j,e){"use strict";const v=e(34411),m=Symbol("max"),x=Symbol("length"),u=Symbol("lengthCalculator"),p=Symbol("allowStale"),d=Symbol("maxAge"),h=Symbol("dispose"),t=Symbol("noDisposeOnSet"),c=Symbol("lruList"),i=Symbol("cache"),a=Symbol("updateAgeOnGet"),f=()=>1;class l{constructor(E){if(typeof E=="number"&&(E={max:E}),E||(E={}),E.max&&(typeof E.max!="number"||E.max<0))throw new TypeError("max must be a non-negative number");const O=this[m]=E.max||1/0,T=E.length||f;if(this[u]=typeof T!="function"?f:T,this[p]=E.stale||!1,E.maxAge&&typeof E.maxAge!="number")throw new TypeError("maxAge must be a number");this[d]=E.maxAge||0,this[h]=E.dispose,this[t]=E.noDisposeOnSet||!1,this[a]=E.updateAgeOnGet||!1,this.reset()}set max(E){if(typeof E!="number"||E<0)throw new TypeError("max must be a non-negative number");this[m]=E||1/0,o(this)}get max(){return this[m]}set allowStale(E){this[p]=!!E}get allowStale(){return this[p]}set maxAge(E){if(typeof E!="number")throw new TypeError("maxAge must be a non-negative number");this[d]=E,o(this)}get maxAge(){return this[d]}set lengthCalculator(E){typeof E!="function"&&(E=f),E!==this[u]&&(this[u]=E,this[x]=0,this[c].forEach(O=>{O.length=this[u](O.value,O.key),this[x]+=O.length})),o(this)}get lengthCalculator(){return this[u]}get length(){return this[x]}get itemCount(){return this[c].length}rforEach(E,O){O=O||this;for(let T=this[c].tail;T!==null;){const S=T.prev;D(this,E,T,O),T=S}}forEach(E,O){O=O||this;for(let T=this[c].head;T!==null;){const S=T.next;D(this,E,T,O),T=S}}keys(){return this[c].toArray().map(E=>E.key)}values(){return this[c].toArray().map(E=>E.value)}reset(){this[h]&&this[c]&&this[c].length&&this[c].forEach(E=>this[h](E.key,E.value)),this[i]=new Map,this[c]=new v,this[x]=0}dump(){return this[c].map(E=>r(this,E)?!1:{k:E.key,v:E.value,e:E.now+(E.maxAge||0)}).toArray().filter(E=>E)}dumpLru(){return this[c]}set(E,O,T){if(T=T||this[d],T&&typeof T!="number")throw new TypeError("maxAge must be a number");const S=T?Date.now():0,$=this[u](O,E);if(this[i].has(E)){if($>this[m])return g(this,this[i].get(E)),!1;const z=this[i].get(E).value;return this[h]&&(this[t]||this[h](E,z.value)),z.now=S,z.maxAge=T,z.value=O,this[x]+=$-z.length,z.length=$,this.get(E),o(this),!0}const Z=new y(E,O,$,S,T);return Z.length>this[m]?(this[h]&&this[h](E,O),!1):(this[x]+=Z.length,this[c].unshift(Z),this[i].set(E,this[c].head),o(this),!0)}has(E){if(!this[i].has(E))return!1;const O=this[i].get(E).value;return!r(this,O)}get(E){return n(this,E,!0)}peek(E){return n(this,E,!1)}pop(){const E=this[c].tail;return E?(g(this,E),E.value):null}del(E){g(this,this[i].get(E))}load(E){this.reset();const O=Date.now();for(let T=E.length-1;T>=0;T--){const S=E[T],$=S.e||0;if($===0)this.set(S.k,S.v);else{const Z=$-O;Z>0&&this.set(S.k,S.v,Z)}}}prune(){this[i].forEach((E,O)=>n(this,O,!1))}}const n=(P,E,O)=>{const T=P[i].get(E);if(T){const S=T.value;if(r(P,S)){if(g(P,T),!P[p])return}else O&&(P[a]&&(T.value.now=Date.now()),P[c].unshiftNode(T));return S.value}},r=(P,E)=>{if(!E||!E.maxAge&&!P[d])return!1;const O=Date.now()-E.now;return E.maxAge?O>E.maxAge:P[d]&&O>P[d]},o=P=>{if(P[x]>P[m])for(let E=P[c].tail;P[x]>P[m]&&E!==null;){const O=E.prev;g(P,E),E=O}},g=(P,E)=>{if(E){const O=E.value;P[h]&&P[h](O.key,O.value),P[x]-=O.length,P[i].delete(O.key),P[c].removeNode(E)}};class y{constructor(E,O,T,S,$){this.key=E,this.value=O,this.length=T,this.now=S,this.maxAge=$||0}}const D=(P,E,O,T)=>{let S=O.value;r(P,S)&&(g(P,O),P[p]||(S=void 0)),S&&E.call(T,S.value,S.key,P)};se.exports=l},62318:function(se,j,e){"use strict";var v=e(35717),m=e(3349),x=e(89509).Buffer,u=new Array(16);function p(){m.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}v(p,m),p.prototype._update=function(){for(var a=u,f=0;f<16;++f)a[f]=this._block.readInt32LE(f*4);var l=this._a,n=this._b,r=this._c,o=this._d;l=h(l,n,r,o,a[0],3614090360,7),o=h(o,l,n,r,a[1],3905402710,12),r=h(r,o,l,n,a[2],606105819,17),n=h(n,r,o,l,a[3],3250441966,22),l=h(l,n,r,o,a[4],4118548399,7),o=h(o,l,n,r,a[5],1200080426,12),r=h(r,o,l,n,a[6],2821735955,17),n=h(n,r,o,l,a[7],4249261313,22),l=h(l,n,r,o,a[8],1770035416,7),o=h(o,l,n,r,a[9],2336552879,12),r=h(r,o,l,n,a[10],4294925233,17),n=h(n,r,o,l,a[11],2304563134,22),l=h(l,n,r,o,a[12],1804603682,7),o=h(o,l,n,r,a[13],4254626195,12),r=h(r,o,l,n,a[14],2792965006,17),n=h(n,r,o,l,a[15],1236535329,22),l=t(l,n,r,o,a[1],4129170786,5),o=t(o,l,n,r,a[6],3225465664,9),r=t(r,o,l,n,a[11],643717713,14),n=t(n,r,o,l,a[0],3921069994,20),l=t(l,n,r,o,a[5],3593408605,5),o=t(o,l,n,r,a[10],38016083,9),r=t(r,o,l,n,a[15],3634488961,14),n=t(n,r,o,l,a[4],3889429448,20),l=t(l,n,r,o,a[9],568446438,5),o=t(o,l,n,r,a[14],3275163606,9),r=t(r,o,l,n,a[3],4107603335,14),n=t(n,r,o,l,a[8],1163531501,20),l=t(l,n,r,o,a[13],2850285829,5),o=t(o,l,n,r,a[2],4243563512,9),r=t(r,o,l,n,a[7],1735328473,14),n=t(n,r,o,l,a[12],2368359562,20),l=c(l,n,r,o,a[5],4294588738,4),o=c(o,l,n,r,a[8],2272392833,11),r=c(r,o,l,n,a[11],1839030562,16),n=c(n,r,o,l,a[14],4259657740,23),l=c(l,n,r,o,a[1],2763975236,4),o=c(o,l,n,r,a[4],1272893353,11),r=c(r,o,l,n,a[7],4139469664,16),n=c(n,r,o,l,a[10],3200236656,23),l=c(l,n,r,o,a[13],681279174,4),o=c(o,l,n,r,a[0],3936430074,11),r=c(r,o,l,n,a[3],3572445317,16),n=c(n,r,o,l,a[6],76029189,23),l=c(l,n,r,o,a[9],3654602809,4),o=c(o,l,n,r,a[12],3873151461,11),r=c(r,o,l,n,a[15],530742520,16),n=c(n,r,o,l,a[2],3299628645,23),l=i(l,n,r,o,a[0],4096336452,6),o=i(o,l,n,r,a[7],1126891415,10),r=i(r,o,l,n,a[14],2878612391,15),n=i(n,r,o,l,a[5],4237533241,21),l=i(l,n,r,o,a[12],1700485571,6),o=i(o,l,n,r,a[3],2399980690,10),r=i(r,o,l,n,a[10],4293915773,15),n=i(n,r,o,l,a[1],2240044497,21),l=i(l,n,r,o,a[8],1873313359,6),o=i(o,l,n,r,a[15],4264355552,10),r=i(r,o,l,n,a[6],2734768916,15),n=i(n,r,o,l,a[13],1309151649,21),l=i(l,n,r,o,a[4],4149444226,6),o=i(o,l,n,r,a[11],3174756917,10),r=i(r,o,l,n,a[2],718787259,15),n=i(n,r,o,l,a[9],3951481745,21),this._a=this._a+l|0,this._b=this._b+n|0,this._c=this._c+r|0,this._d=this._d+o|0},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=x.allocUnsafe(16);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a};function d(a,f){return a<<f|a>>>32-f}function h(a,f,l,n,r,o,g){return d(a+(f&l|~f&n)+r+o|0,g)+f|0}function t(a,f,l,n,r,o,g){return d(a+(f&n|l&~n)+r+o|0,g)+f|0}function c(a,f,l,n,r,o,g){return d(a+(f^l^n)+r+o|0,g)+f|0}function i(a,f,l,n,r,o,g){return d(a+(l^(f|~n))+r+o|0,g)+f|0}se.exports=p},63047:function(se,j,e){var v=e(13550),m=e(29931);function x(u){this.rand=u||new m.Rand}se.exports=x,x.create=function(p){return new x(p)},x.prototype._randbelow=function(p){var d=p.bitLength(),h=Math.ceil(d/8);do var t=new v(this.rand.generate(h));while(t.cmp(p)>=0);return t},x.prototype._randrange=function(p,d){var h=d.sub(p);return p.add(this._randbelow(h))},x.prototype.test=function(p,d,h){var t=p.bitLength(),c=v.mont(p),i=new v(1).toRed(c);d||(d=Math.max(1,t/48|0));for(var a=p.subn(1),f=0;!a.testn(f);f++);for(var l=p.shrn(f),n=a.toRed(c),r=!0;d>0;d--){var o=this._randrange(new v(2),a);h&&h(o);var g=o.toRed(c).redPow(l);if(!(g.cmp(i)===0||g.cmp(n)===0)){for(var y=1;y<f;y++){if(g=g.redSqr(),g.cmp(i)===0)return!1;if(g.cmp(n)===0)break}if(y===f)return!1}}return r},x.prototype.getDivisor=function(p,d){var h=p.bitLength(),t=v.mont(p),c=new v(1).toRed(t);d||(d=Math.max(1,h/48|0));for(var i=p.subn(1),a=0;!i.testn(a);a++);for(var f=p.shrn(a),l=i.toRed(t);d>0;d--){var n=this._randrange(new v(2),i),r=p.gcd(n);if(r.cmpn(1)!==0)return r;var o=n.toRed(t).redPow(f);if(!(o.cmp(c)===0||o.cmp(l)===0)){for(var g=1;g<a;g++){if(o=o.redSqr(),o.cmp(c)===0)return o.fromRed().subn(1).gcd(p);if(o.cmp(l)===0)break}if(g===a)return o=o.redSqr(),o.fromRed().subn(1).gcd(p)}}return!1}},24193:function(se,j,e){var v=e(26214),m=/[\/\+\.]/;se.exports=function(x,u){function p(d){var h=v(d,x,m);return h&&h.length>=2}return u?p(u.split(";")[0]):p}},79746:function(se){se.exports=j;function j(e,v){if(!e)throw new Error(v||"Assertion failed")}j.equal=function(v,m,x){if(v!=m)throw new Error(x||"Assertion failed: "+v+" != "+m)}},34504:function(se,j){"use strict";var e=j;function v(u,p){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var h=0;h<u.length;h++)d[h]=u[h]|0;return d}if(p==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var h=0;h<u.length;h+=2)d.push(parseInt(u[h]+u[h+1],16))}else for(var h=0;h<u.length;h++){var t=u.charCodeAt(h),c=t>>8,i=t&255;c?d.push(c,i):d.push(i)}return d}e.toArray=v;function m(u){return u.length===1?"0"+u:u}e.zero2=m;function x(u){for(var p="",d=0;d<u.length;d++)p+=m(u[d].toString(16));return p}e.toHex=x,e.encode=function(p,d){return d==="hex"?x(p):p}},57824:function(se){var j=1e3,e=j*60,v=e*60,m=v*24,x=m*7,u=m*365.25;se.exports=function(c,i){i=i||{};var a=typeof c;if(a==="string"&&c.length>0)return p(c);if(a==="number"&&isFinite(c))return i.long?h(c):d(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function p(c){if(c=String(c),!(c.length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(i){var a=parseFloat(i[1]),f=(i[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return a*u;case"weeks":case"week":case"w":return a*x;case"days":case"day":case"d":return a*m;case"hours":case"hour":case"hrs":case"hr":case"h":return a*v;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function d(c){var i=Math.abs(c);return i>=m?Math.round(c/m)+"d":i>=v?Math.round(c/v)+"h":i>=e?Math.round(c/e)+"m":i>=j?Math.round(c/j)+"s":c+"ms"}function h(c){var i=Math.abs(c);return i>=m?t(c,i,m,"day"):i>=v?t(c,i,v,"hour"):i>=e?t(c,i,e,"minute"):i>=j?t(c,i,j,"second"):c+" ms"}function t(c,i,a,f){var l=i>=a*1.5;return Math.round(c/a)+" "+f+(l?"s":"")}},92313:function(se,j,e){var v=e(34155),m=e(94422),x=e(91583).PassThrough,u=e(91583).PassThrough,p=e(27418),d=[].slice,h={bubbleErrors:!1,objectMode:!0};se.exports=t;function t(c,i,a){Array.isArray(c)||(c=d.call(arguments),i=null,a=null);var f=c[c.length-1];typeof f=="function"&&(a=c.splice(-1)[0],f=c[c.length-1]),typeof f=="object"&&typeof f.pipe!="function"&&(i=c.splice(-1)[0]);var l=c[0],n=c[c.length-1],r;if(i=p({},h,i),!l)return a&&v.nextTick(a),new x(i);if(l.writable&&n.readable?r=m(i,l,n):c.length==1?r=new u(i).wrap(c[0]):l.writable?r=l:n.readable?r=n:r=new x(i),c.forEach(function(y,D){var P=c[D+1];P&&y.pipe(P),y!=r&&y.on("error",r.emit.bind(r,"error"))}),a){let y=function(D){o||(o=!0,a(D))};var g=y,o=!1;r.on("error",y),n.on("finish",function(){y()}),n.on("close",function(){y()})}return r}},307:function(se,j,e){"use strict";e.d(j,{B:function(){return u}});var v=e(59562),m=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],x=/[^A-Z0-9]+/gi;function u(d,h){h===void 0&&(h={});for(var t=h.splitRegexp,c=t===void 0?m:t,i=h.stripRegexp,a=i===void 0?x:i,f=h.transform,l=f===void 0?v.U:f,n=h.delimiter,r=n===void 0?" ":n,o=p(p(d,c,"$1\0$2"),a,"\0"),g=0,y=o.length;o.charAt(g)==="\0";)g++;for(;o.charAt(y-1)==="\0";)y--;return o.slice(g,y).split("\0").map(l).join(r)}function p(d,h,t){return h instanceof RegExp?d.replace(h,t):h.reduce(function(c,i){return c.replace(i,t)},d)}},91583:function(se,j,e){se.exports=x;var v=e(17187).EventEmitter,m=e(35717);m(x,v),x.Readable=e(88473),x.Writable=e(84796),x.Duplex=e(20074),x.Transform=e(14219),x.PassThrough=e(95799),x.Stream=x;function x(){v.call(this)}x.prototype.pipe=function(u,p){var d=this;function h(n){u.writable&&u.write(n)===!1&&d.pause&&d.pause()}d.on("data",h);function t(){d.readable&&d.resume&&d.resume()}u.on("drain",t),!u._isStdio&&(!p||p.end!==!1)&&(d.on("end",i),d.on("close",a));var c=!1;function i(){c||(c=!0,u.end())}function a(){c||(c=!0,typeof u.destroy=="function"&&u.destroy())}function f(n){if(l(),v.listenerCount(this,"error")===0)throw n}d.on("error",f),u.on("error",f);function l(){d.removeListener("data",h),u.removeListener("drain",t),d.removeListener("end",i),d.removeListener("close",a),d.removeListener("error",f),u.removeListener("error",f),d.removeListener("end",l),d.removeListener("close",l),u.removeListener("close",l)}return d.on("end",l),d.on("close",l),u.on("close",l),u.emit("pipe",d),u}},27418:function(se){"use strict";var j=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;function m(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function x(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var p={},d=0;d<10;d++)p["_"+String.fromCharCode(d)]=d;var h=Object.getOwnPropertyNames(p).map(function(c){return p[c]});if(h.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(c){t[c]=c}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch(c){return!1}}se.exports=x()?Object.assign:function(u,p){for(var d,h=m(u),t,c=1;c<arguments.length;c++){d=Object(arguments[c]);for(var i in d)e.call(d,i)&&(h[i]=d[i]);if(j){t=j(d);for(var a=0;a<t.length;a++)v.call(d,t[a])&&(h[t[a]]=d[t[a]])}}return h}},34539:function(se,j,e){"use strict";e.d(j,{o:function(){return u}});var v=e(97582),m=e(307);function x(p,d){return d===void 0&&(d={}),(0,m.B)(p,(0,v.pi)({delimiter:"."},d))}function u(p,d){return d===void 0&&(d={}),x(p,(0,v.pi)({delimiter:"-"},d))}},52818:function(se,j,e){"use strict";var v=e(58235);j.certificate=e(41934);var m=v.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});j.RSAPrivateKey=m;var x=v.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});j.RSAPublicKey=x;var u=v.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(p),this.key("subjectPublicKey").bitstr())});j.PublicKey=u;var p=v.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=v.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(p),this.key("subjectPrivateKey").octstr())});j.PrivateKey=d;var h=v.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});j.EncryptedPrivateKey=h;var t=v.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});j.DSAPrivateKey=t,j.DSAparam=v.define("DSAparam",function(){this.int()});var c=v.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(i),this.key("publicKey").optional().explicit(1).bitstr())});j.ECPrivateKey=c;var i=v.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});j.signature=v.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},41934:function(se,j,e){"use strict";var v=e(58235),m=v.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),x=v.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),u=v.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),p=v.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}),d=v.define("RelativeDistinguishedName",function(){this.setof(x)}),h=v.define("RDNSequence",function(){this.seqof(d)}),t=v.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),c=v.define("Validity",function(){this.seq().obj(this.key("notBefore").use(m),this.key("notAfter").use(m))}),i=v.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),a=v.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(t),this.key("validity").use(c),this.key("subject").use(t),this.key("subjectPublicKeyInfo").use(p),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(i).optional())}),f=v.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(a),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())});se.exports=f},77631:function(se,j,e){var v=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,m=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,x=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=e(13048),p=e(44696),d=e(89509).Buffer;se.exports=function(h,t){var c=h.toString(),i=c.match(v),a;if(i){var l="aes"+i[1],n=d.from(i[2],"hex"),r=d.from(i[3].replace(/[\r\n]/g,""),"base64"),o=u(t,n.slice(0,8),parseInt(i[1],10)).key,g=[],y=p.createDecipheriv(l,o,n);g.push(y.update(r)),g.push(y.final()),a=d.concat(g)}else{var f=c.match(x);a=d.from(f[2].replace(/[\r\n]/g,""),"base64")}var D=c.match(m)[1];return{tag:D,data:a}}},70980:function(se,j,e){var v=e(52818),m=e(22562),x=e(77631),u=e(44696),p=e(25632),d=e(89509).Buffer;se.exports=h;function h(c){var i;typeof c=="object"&&!d.isBuffer(c)&&(i=c.passphrase,c=c.key),typeof c=="string"&&(c=d.from(c));var a=x(c,i),f=a.tag,l=a.data,n,r;switch(f){case"CERTIFICATE":r=v.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r||(r=v.PublicKey.decode(l,"der")),n=r.algorithm.algorithm.join("."),n){case"1.2.840.113549.1.1.1":return v.RSAPublicKey.decode(r.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return r.subjectPrivateKey=r.subjectPublicKey,{type:"ec",data:r};case"1.2.840.10040.4.1":return r.algorithm.params.pub_key=v.DSAparam.decode(r.subjectPublicKey.data,"der"),{type:"dsa",data:r.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":l=v.EncryptedPrivateKey.decode(l,"der"),l=t(l,i);case"PRIVATE KEY":switch(r=v.PrivateKey.decode(l,"der"),n=r.algorithm.algorithm.join("."),n){case"1.2.840.113549.1.1.1":return v.RSAPrivateKey.decode(r.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:r.algorithm.curve,privateKey:v.ECPrivateKey.decode(r.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return r.algorithm.params.priv_key=v.DSAparam.decode(r.subjectPrivateKey,"der"),{type:"dsa",params:r.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return v.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return v.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:v.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return l=v.ECPrivateKey.decode(l,"der"),{curve:l.parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+f)}}h.signature=v.signature;function t(c,i){var a=c.algorithm.decrypt.kde.kdeparams.salt,f=parseInt(c.algorithm.decrypt.kde.kdeparams.iters.toString(),10),l=m[c.algorithm.decrypt.cipher.algo.join(".")],n=c.algorithm.decrypt.cipher.iv,r=c.subjectPrivateKey,o=parseInt(l.split("-")[1],10)/8,g=p.pbkdf2Sync(i,a,f,o,"sha1"),y=u.createDecipheriv(l,g,n),D=[];return D.push(y.update(r)),D.push(y.final()),d.concat(D)}},79430:function(se,j){var e,v,m;(function(x,u){v=[],e=u,m=typeof e=="function"?e.apply(j,v):e,m!==void 0&&(se.exports=m)})(this,function(){return function(x){function u(O){return O===" "||O==="	"||O===`
`||O==="\f"||O==="\r"}function p(O){var T,S=O.exec(x.substring(y));if(S)return T=S[0],y+=T.length,T}for(var d=x.length,h=/^[ \t\n\r\u000c]+/,t=/^[, \t\n\r\u000c]+/,c=/^[^ \t\n\r\u000c]+/,i=/[,]+$/,a=/^\d+$/,f=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,l,n,r,o,g,y=0,D=[];;){if(p(t),y>=d)return D;l=p(c),n=[],l.slice(-1)===","?(l=l.replace(i,""),E()):P()}function P(){for(p(h),r="",o="in descriptor";;){if(g=x.charAt(y),o==="in descriptor")if(u(g))r&&(n.push(r),r="",o="after descriptor");else if(g===","){y+=1,r&&n.push(r),E();return}else if(g==="(")r=r+g,o="in parens";else if(g===""){r&&n.push(r),E();return}else r=r+g;else if(o==="in parens")if(g===")")r=r+g,o="in descriptor";else if(g===""){n.push(r),E();return}else r=r+g;else if(o==="after descriptor"&&!u(g))if(g===""){E();return}else o="in descriptor",y-=1;y+=1}}function E(){var O=!1,T,S,$,Z,K={},z,w,A,M,b;for(Z=0;Z<n.length;Z++)z=n[Z],w=z[z.length-1],A=z.substring(0,z.length-1),M=parseInt(A,10),b=parseFloat(A),a.test(A)&&w==="w"?((T||S)&&(O=!0),M===0?O=!0:T=M):f.test(A)&&w==="x"?((T||S||$)&&(O=!0),b<0?O=!0:S=b):a.test(A)&&w==="h"?(($||S)&&(O=!0),M===0?O=!0:$=M):O=!0;O?console&&console.log&&console.log("Invalid srcset descriptor found in '"+x+"' at '"+z+"'."):(K.url=l,T&&(K.w=T),S&&(K.d=S),$&&(K.h=$),D.push(K))}}})},57764:function(se,j,e){"use strict";e.d(j,{By:function(){return x},Ho:function(){return p}});var v=e(97582),m=e(307);function x(d,h){var t=d.charAt(0),c=d.substr(1).toLowerCase();return h>0&&t>="0"&&t<="9"?"_"+t+c:""+t.toUpperCase()+c}function u(d){return d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()}function p(d,h){return h===void 0&&(h={}),(0,m.B)(d,(0,v.pi)({delimiter:"",transform:x},h))}},25632:function(se,j,e){j.pbkdf2=e(88638),j.pbkdf2Sync=e(91257)},88638:function(se,j,e){var v=e(89509).Buffer,m=e(77357),x=e(12368),u=e(91257),p=e(57777),d,h=e.g.crypto&&e.g.crypto.subtle,t={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function i(r){if(e.g.process&&!e.g.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(c[r]!==void 0)return c[r];d=d||v.alloc(8);var o=l(d,d,10,128,r).then(function(){return!0}).catch(function(){return!1});return c[r]=o,o}var a;function f(){return a||(e.g.process&&e.g.process.nextTick?a=e.g.process.nextTick:e.g.queueMicrotask?a=e.g.queueMicrotask:e.g.setImmediate?a=e.g.setImmediate:a=e.g.setTimeout,a)}function l(r,o,g,y,D){return h.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]).then(function(P){return h.deriveBits({name:"PBKDF2",salt:o,iterations:g,hash:{name:D}},P,y<<3)}).then(function(P){return v.from(P)})}function n(r,o){r.then(function(g){f()(function(){o(null,g)})},function(g){f()(function(){o(g)})})}se.exports=function(r,o,g,y,D,P){typeof D=="function"&&(P=D,D=void 0),D=D||"sha1";var E=t[D.toLowerCase()];if(!E||typeof e.g.Promise!="function"){f()(function(){var O;try{O=u(r,o,g,y,D)}catch(T){return P(T)}P(null,O)});return}if(m(g,y),r=p(r,x,"Password"),o=p(o,x,"Salt"),typeof P!="function")throw new Error("No callback provided to pbkdf2");n(i(E).then(function(O){return O?l(r,o,g,y,E):u(r,o,g,y,D)}),P)}},12368:function(se,j,e){var v=e(34155),m;if(e.g.process&&e.g.process.browser)m="utf-8";else if(e.g.process&&e.g.process.version){var x=parseInt(v.version.split(".")[0].slice(1),10);m=x>=6?"utf-8":"binary"}else m="utf-8";se.exports=m},77357:function(se){var j=Math.pow(2,30)-1;se.exports=function(e,v){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof v!="number")throw new TypeError("Key length not a number");if(v<0||v>j||v!==v)throw new TypeError("Bad key length")}},91257:function(se,j,e){var v=e(78028),m=e(79785),x=e(89072),u=e(89509).Buffer,p=e(77357),d=e(12368),h=e(57777),t=u.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function i(l,n,r){var o=a(l),g=l==="sha512"||l==="sha384"?128:64;n.length>g?n=o(n):n.length<g&&(n=u.concat([n,t],g));for(var y=u.allocUnsafe(g+c[l]),D=u.allocUnsafe(g+c[l]),P=0;P<g;P++)y[P]=n[P]^54,D[P]=n[P]^92;var E=u.allocUnsafe(g+r+4);y.copy(E,0,0,g),this.ipad1=E,this.ipad2=y,this.opad=D,this.alg=l,this.blocksize=g,this.hash=o,this.size=c[l]}i.prototype.run=function(l,n){l.copy(n,this.blocksize);var r=this.hash(n);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function a(l){function n(o){return x(l).update(o).digest()}function r(o){return new m().update(o).digest()}return l==="rmd160"||l==="ripemd160"?r:l==="md5"?v:n}function f(l,n,r,o,g){p(r,o),l=h(l,d,"Password"),n=h(n,d,"Salt"),g=g||"sha1";var y=new i(g,l,n.length),D=u.allocUnsafe(o),P=u.allocUnsafe(n.length+4);n.copy(P,0,0,n.length);for(var E=0,O=c[g],T=Math.ceil(o/O),S=1;S<=T;S++){P.writeUInt32BE(S,n.length);for(var $=y.run(P,y.ipad1),Z=$,K=1;K<r;K++){Z=y.run(Z,y.ipad2);for(var z=0;z<O;z++)$[z]^=Z[z]}$.copy(D,E),E+=O}return D}se.exports=f},57777:function(se,j,e){var v=e(89509).Buffer;se.exports=function(m,x,u){if(v.isBuffer(m))return m;if(typeof m=="string")return v.from(m,x);if(ArrayBuffer.isView(m))return v.from(m.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},73807:function(se){"use strict";var j=se.exports;se.exports.isNumber=function(e){return typeof e=="number"},se.exports.findMin=function(e){if(e.length===0)return 1/0;for(var v=e[0],m=1;m<e.length;m++)v=Math.min(v,e[m]);return v},se.exports.findMax=function(e){if(e.length===0)return-1/0;for(var v=e[0],m=1;m<e.length;m++)v=Math.max(v,e[m]);return v},se.exports.findMinMulti=function(e){for(var v=j.findMin(e[0]),m=1;m<e.length;m++)v=Math.min(v,j.findMin(e[m]));return v},se.exports.findMaxMulti=function(e){for(var v=j.findMax(e[0]),m=1;m<e.length;m++)v=Math.max(v,j.findMax(e[m]));return v},se.exports.inside=function(e,v,m){return e<=m&&m<=v}},53843:function(se,j,e){"use strict";var v=50,m=2,x=Math.log(2),u=se.exports,p=e(73807);function d(t){return 1-Math.abs(t)}se.exports.getUnifiedMinMax=function(t,c){return u.getUnifiedMinMaxMulti([t],c)},se.exports.getUnifiedMinMaxMulti=function(t,c){c=c||{};var i=!1,a=!1,f=p.isNumber(c.width)?c.width:m,l=p.isNumber(c.size)?c.size:v,n=p.isNumber(c.min)?c.min:(i=!0,p.findMinMulti(t)),r=p.isNumber(c.max)?c.max:(a=!0,p.findMaxMulti(t)),o=r-n,g=o/(l-1);return i&&(n=n-2*f*g),a&&(r=r+2*f*g),{min:n,max:r}},se.exports.create=function(t,c){if(c=c||{},!t||t.length===0)return[];var i=p.isNumber(c.size)?c.size:v,a=p.isNumber(c.width)?c.width:m,f=u.getUnifiedMinMax(t,{size:i,width:a,min:c.min,max:c.max}),l=f.min,n=f.max,r=n-l,o=r/(i-1);if(r===0)return[{x:l,y:1}];for(var g=[],y=0;y<i;y++)g.push({x:l+y*o,y:0});var D=function(K){return Math.floor((K-l)/o)},P=h(d,a),E=P[a],O=P[a-1]-P[a-2],T=0;t.forEach(function(K){var z=D(K);if(!(z+a<0||z-a>=g.length)){var w=Math.max(z-a,0),A=z,M=Math.min(z+a,g.length-1),b=w-(z-a),R=z+a-M,L=P[-a-1+b]||0,N=P[-a-1+R]||0,B=E/(E-L-N);b>0&&(T+=B*(b-1)*O);var V=Math.max(0,z-a+1);p.inside(0,g.length-1,V)&&(g[V].y+=B*1*O),p.inside(0,g.length-1,A+1)&&(g[A+1].y-=B*2*O),p.inside(0,g.length-1,M+1)&&(g[M+1].y+=B*1*O)}});var S=T,$=0,Z=0;return g.forEach(function(K){$+=K.y,S+=$,K.y=S,Z+=S}),Z>0&&g.forEach(function(K){K.y/=Z}),g};function h(t,c){for(var i={},a=0,f=-c;f<=c;f++)a+=t(f/c),i[f]=a;return i}se.exports.getExpectedValueFromPdf=function(t){if(!(!t||t.length===0)){var c=0;return t.forEach(function(i){c+=i.x*i.y}),c}},se.exports.getXWithLeftTailArea=function(t,c){if(!(!t||t.length===0)){for(var i=0,a=0,f=0;f<t.length&&(a=f,i+=t[f].y,!(i>=c));f++);return t[a].x}},se.exports.getPerplexity=function(t){if(!(!t||t.length===0)){var c=0;return t.forEach(function(i){var a=Math.log(i.y);isFinite(a)&&(c+=i.y*a)}),c=-c/x,Math.pow(2,c)}}},74241:function(se){var j=String,e=function(){return{isColorSupported:!1,reset:j,bold:j,dim:j,italic:j,underline:j,inverse:j,hidden:j,strikethrough:j,black:j,red:j,green:j,yellow:j,blue:j,magenta:j,cyan:j,white:j,gray:j,bgBlack:j,bgRed:j,bgGreen:j,bgYellow:j,bgBlue:j,bgMagenta:j,bgCyan:j,bgWhite:j}};se.exports=e(),se.exports.createColors=e},88212:function(se,j,e){"use strict";var v=e(34155);typeof v=="undefined"||!v.version||v.version.indexOf("v0.")===0||v.version.indexOf("v1.")===0&&v.version.indexOf("v1.8.")!==0?se.exports={nextTick:m}:se.exports=v;function m(x,u,p,d){if(typeof x!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,t,c;switch(h){case 0:case 1:return v.nextTick(x);case 2:return v.nextTick(function(){x.call(null,u)});case 3:return v.nextTick(function(){x.call(null,u,p)});case 4:return v.nextTick(function(){x.call(null,u,p,d)});default:for(t=new Array(h-1),c=0;c<t.length;)t[c++]=arguments[c];return v.nextTick(function(){x.apply(null,t)})}}},7900:function(se,j,e){j.publicEncrypt=e(16559),j.privateDecrypt=e(26138),j.privateEncrypt=function(m,x){return j.publicEncrypt(m,x,!0)},j.publicDecrypt=function(m,x){return j.privateDecrypt(m,x,!0)}},99199:function(se,j,e){var v=e(23482),m=e(89509).Buffer;se.exports=function(u,p){for(var d=m.alloc(0),h=0,t;d.length<p;)t=x(h++),d=m.concat([d,v("sha1").update(u).update(t).digest()]);return d.slice(0,p)};function x(u){var p=m.allocUnsafe(4);return p.writeUInt32BE(u,0),p}},26138:function(se,j,e){var v=e(70980),m=e(99199),x=e(57859),u=e(13550),p=e(23663),d=e(23482),h=e(84818),t=e(89509).Buffer;se.exports=function(l,n,r){var o;l.padding?o=l.padding:r?o=1:o=4;var g=v(l),y=g.modulus.byteLength();if(n.length>y||new u(n).cmp(g.modulus)>=0)throw new Error("decryption error");var D;r?D=h(new u(n),g):D=p(n,g);var P=t.alloc(y-D.length);if(D=t.concat([P,D],y),o===4)return c(g,D);if(o===1)return i(g,D,r);if(o===3)return D;throw new Error("unknown padding")};function c(f,l){var n=f.modulus.byteLength(),r=d("sha1").update(t.alloc(0)).digest(),o=r.length;if(l[0]!==0)throw new Error("decryption error");var g=l.slice(1,o+1),y=l.slice(o+1),D=x(g,m(y,o)),P=x(y,m(D,n-o-1));if(a(r,P.slice(0,o)))throw new Error("decryption error");for(var E=o;P[E]===0;)E++;if(P[E++]!==1)throw new Error("decryption error");return P.slice(E)}function i(f,l,n){for(var r=l.slice(0,2),o=2,g=0;l[o++]!==0;)if(o>=l.length){g++;break}var y=l.slice(2,o-1);if((r.toString("hex")!=="0002"&&!n||r.toString("hex")!=="0001"&&n)&&g++,y.length<8&&g++,g)throw new Error("decryption error");return l.slice(o)}function a(f,l){f=t.from(f),l=t.from(l);var n=0,r=f.length;f.length!==l.length&&(n++,r=Math.min(f.length,l.length));for(var o=-1;++o<r;)n+=f[o]^l[o];return n}},16559:function(se,j,e){var v=e(70980),m=e(61798),x=e(23482),u=e(99199),p=e(57859),d=e(13550),h=e(84818),t=e(23663),c=e(89509).Buffer;se.exports=function(n,r,o){var g;n.padding?g=n.padding:o?g=1:g=4;var y=v(n),D;if(g===4)D=i(y,r);else if(g===1)D=a(y,r,o);else if(g===3){if(D=new d(r),D.cmp(y.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return o?t(D,y):h(D,y)};function i(l,n){var r=l.modulus.byteLength(),o=n.length,g=x("sha1").update(c.alloc(0)).digest(),y=g.length,D=2*y;if(o>r-D-2)throw new Error("message too long");var P=c.alloc(r-o-D-2),E=r-y-1,O=m(y),T=p(c.concat([g,P,c.alloc(1,1),n],E),u(O,E)),S=p(O,u(T,y));return new d(c.concat([c.alloc(1),S,T],r))}function a(l,n,r){var o=n.length,g=l.modulus.byteLength();if(o>g-11)throw new Error("message too long");var y;return r?y=c.alloc(g-o-3,255):y=f(g-o-3),new d(c.concat([c.from([0,r?1:2]),y,c.alloc(1),n],g))}function f(l){for(var n=c.allocUnsafe(l),r=0,o=m(l*2),g=0,y;r<l;)g===o.length&&(o=m(l*2),g=0),y=o[g++],y&&(n[r++]=y);return n}},84818:function(se,j,e){var v=e(13550),m=e(89509).Buffer;function x(u,p){return m.from(u.toRed(v.mont(p.modulus)).redPow(new v(p.publicExponent)).fromRed().toArray())}se.exports=x},57859:function(se){se.exports=function(e,v){for(var m=e.length,x=-1;++x<m;)e[x]^=v[x];return e}},84059:function(se,j,e){"use strict";e.d(j,{Qd:function(){return T},tv:function(){return S}});var v=e(67294),m=Object.defineProperty,x=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(Z,K,z)=>K in Z?m(Z,K,{enumerable:!0,configurable:!0,writable:!0,value:z}):Z[K]=z,h=(Z,K)=>{for(var z in K||(K={}))u.call(K,z)&&d(Z,z,K[z]);if(x)for(var z of x(K))p.call(K,z)&&d(Z,z,K[z]);return Z},t=(Z,K)=>{var z={};for(var w in Z)u.call(Z,w)&&K.indexOf(w)<0&&(z[w]=Z[w]);if(Z!=null&&x)for(var w of x(Z))K.indexOf(w)<0&&p.call(Z,w)&&(z[w]=Z[w]);return z};var c;(Z=>{const K=class{constructor(L,N,B,V){if(this.version=L,this.errorCorrectionLevel=N,this.modules=[],this.isFunction=[],L<K.MIN_VERSION||L>K.MAX_VERSION)throw new RangeError("Version value out of range");if(V<-1||V>7)throw new RangeError("Mask value out of range");this.size=L*4+17;let U=[];for(let F=0;F<this.size;F++)U.push(!1);for(let F=0;F<this.size;F++)this.modules.push(U.slice()),this.isFunction.push(U.slice());this.drawFunctionPatterns();const I=this.addEccAndInterleave(B);if(this.drawCodewords(I),V==-1){let F=1e9;for(let W=0;W<8;W++){this.applyMask(W),this.drawFormatBits(W);const X=this.getPenaltyScore();X<F&&(V=W,F=X),this.applyMask(W)}}M(0<=V&&V<=7),this.mask=V,this.applyMask(V),this.drawFormatBits(V),this.isFunction=[]}static encodeText(L,N){const B=Z.QrSegment.makeSegments(L);return K.encodeSegments(B,N)}static encodeBinary(L,N){const B=Z.QrSegment.makeBytes(L);return K.encodeSegments([B],N)}static encodeSegments(L,N,B=1,V=40,U=-1,I=!0){if(!(K.MIN_VERSION<=B&&B<=V&&V<=K.MAX_VERSION)||U<-1||U>7)throw new RangeError("Invalid value");let F,W;for(F=B;;F++){const k=K.getNumDataCodewords(F,N)*8,Y=R.getTotalBits(L,F);if(Y<=k){W=Y;break}if(F>=V)throw new RangeError("Data too long")}for(const k of[K.Ecc.MEDIUM,K.Ecc.QUARTILE,K.Ecc.HIGH])I&&W<=K.getNumDataCodewords(F,k)*8&&(N=k);let X=[];for(const k of L){w(k.mode.modeBits,4,X),w(k.numChars,k.mode.numCharCountBits(F),X);for(const Y of k.getData())X.push(Y)}M(X.length==W);const J=K.getNumDataCodewords(F,N)*8;M(X.length<=J),w(0,Math.min(4,J-X.length),X),w(0,(8-X.length%8)%8,X),M(X.length%8==0);for(let k=236;X.length<J;k^=253)w(k,8,X);let C=[];for(;C.length*8<X.length;)C.push(0);return X.forEach((k,Y)=>C[Y>>>3]|=k<<7-(Y&7)),new K(F,N,C,U)}getModule(L,N){return 0<=L&&L<this.size&&0<=N&&N<this.size&&this.modules[N][L]}getModules(){return this.modules}drawFunctionPatterns(){for(let B=0;B<this.size;B++)this.setFunctionModule(6,B,B%2==0),this.setFunctionModule(B,6,B%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const L=this.getAlignmentPatternPositions(),N=L.length;for(let B=0;B<N;B++)for(let V=0;V<N;V++)B==0&&V==0||B==0&&V==N-1||B==N-1&&V==0||this.drawAlignmentPattern(L[B],L[V]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(L){const N=this.errorCorrectionLevel.formatBits<<3|L;let B=N;for(let U=0;U<10;U++)B=B<<1^(B>>>9)*1335;const V=(N<<10|B)^21522;M(V>>>15==0);for(let U=0;U<=5;U++)this.setFunctionModule(8,U,A(V,U));this.setFunctionModule(8,7,A(V,6)),this.setFunctionModule(8,8,A(V,7)),this.setFunctionModule(7,8,A(V,8));for(let U=9;U<15;U++)this.setFunctionModule(14-U,8,A(V,U));for(let U=0;U<8;U++)this.setFunctionModule(this.size-1-U,8,A(V,U));for(let U=8;U<15;U++)this.setFunctionModule(8,this.size-15+U,A(V,U));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let L=this.version;for(let B=0;B<12;B++)L=L<<1^(L>>>11)*7973;const N=this.version<<12|L;M(N>>>18==0);for(let B=0;B<18;B++){const V=A(N,B),U=this.size-11+B%3,I=Math.floor(B/3);this.setFunctionModule(U,I,V),this.setFunctionModule(I,U,V)}}drawFinderPattern(L,N){for(let B=-4;B<=4;B++)for(let V=-4;V<=4;V++){const U=Math.max(Math.abs(V),Math.abs(B)),I=L+V,F=N+B;0<=I&&I<this.size&&0<=F&&F<this.size&&this.setFunctionModule(I,F,U!=2&&U!=4)}}drawAlignmentPattern(L,N){for(let B=-2;B<=2;B++)for(let V=-2;V<=2;V++)this.setFunctionModule(L+V,N+B,Math.max(Math.abs(V),Math.abs(B))!=1)}setFunctionModule(L,N,B){this.modules[N][L]=B,this.isFunction[N][L]=!0}addEccAndInterleave(L){const N=this.version,B=this.errorCorrectionLevel;if(L.length!=K.getNumDataCodewords(N,B))throw new RangeError("Invalid argument");const V=K.NUM_ERROR_CORRECTION_BLOCKS[B.ordinal][N],U=K.ECC_CODEWORDS_PER_BLOCK[B.ordinal][N],I=Math.floor(K.getNumRawDataModules(N)/8),F=V-I%V,W=Math.floor(I/V);let X=[];const J=K.reedSolomonComputeDivisor(U);for(let k=0,Y=0;k<V;k++){let H=L.slice(Y,Y+W-U+(k<F?0:1));Y+=H.length;const te=K.reedSolomonComputeRemainder(H,J);k<F&&H.push(0),X.push(H.concat(te))}let C=[];for(let k=0;k<X[0].length;k++)X.forEach((Y,H)=>{(k!=W-U||H>=F)&&C.push(Y[k])});return M(C.length==I),C}drawCodewords(L){if(L.length!=Math.floor(K.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let N=0;for(let B=this.size-1;B>=1;B-=2){B==6&&(B=5);for(let V=0;V<this.size;V++)for(let U=0;U<2;U++){const I=B-U,W=(B+1&2)==0?this.size-1-V:V;!this.isFunction[W][I]&&N<L.length*8&&(this.modules[W][I]=A(L[N>>>3],7-(N&7)),N++)}}M(N==L.length*8)}applyMask(L){if(L<0||L>7)throw new RangeError("Mask value out of range");for(let N=0;N<this.size;N++)for(let B=0;B<this.size;B++){let V;switch(L){case 0:V=(B+N)%2==0;break;case 1:V=N%2==0;break;case 2:V=B%3==0;break;case 3:V=(B+N)%3==0;break;case 4:V=(Math.floor(B/3)+Math.floor(N/2))%2==0;break;case 5:V=B*N%2+B*N%3==0;break;case 6:V=(B*N%2+B*N%3)%2==0;break;case 7:V=((B+N)%2+B*N%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[N][B]&&V&&(this.modules[N][B]=!this.modules[N][B])}}getPenaltyScore(){let L=0;for(let U=0;U<this.size;U++){let I=!1,F=0,W=[0,0,0,0,0,0,0];for(let X=0;X<this.size;X++)this.modules[U][X]==I?(F++,F==5?L+=K.PENALTY_N1:F>5&&L++):(this.finderPenaltyAddHistory(F,W),I||(L+=this.finderPenaltyCountPatterns(W)*K.PENALTY_N3),I=this.modules[U][X],F=1);L+=this.finderPenaltyTerminateAndCount(I,F,W)*K.PENALTY_N3}for(let U=0;U<this.size;U++){let I=!1,F=0,W=[0,0,0,0,0,0,0];for(let X=0;X<this.size;X++)this.modules[X][U]==I?(F++,F==5?L+=K.PENALTY_N1:F>5&&L++):(this.finderPenaltyAddHistory(F,W),I||(L+=this.finderPenaltyCountPatterns(W)*K.PENALTY_N3),I=this.modules[X][U],F=1);L+=this.finderPenaltyTerminateAndCount(I,F,W)*K.PENALTY_N3}for(let U=0;U<this.size-1;U++)for(let I=0;I<this.size-1;I++){const F=this.modules[U][I];F==this.modules[U][I+1]&&F==this.modules[U+1][I]&&F==this.modules[U+1][I+1]&&(L+=K.PENALTY_N2)}let N=0;for(const U of this.modules)N=U.reduce((I,F)=>I+(F?1:0),N);const B=this.size*this.size,V=Math.ceil(Math.abs(N*20-B*10)/B)-1;return M(0<=V&&V<=9),L+=V*K.PENALTY_N4,M(0<=L&&L<=2568888),L}getAlignmentPatternPositions(){if(this.version==1)return[];{const L=Math.floor(this.version/7)+2,N=this.version==32?26:Math.ceil((this.version*4+4)/(L*2-2))*2;let B=[6];for(let V=this.size-7;B.length<L;V-=N)B.splice(1,0,V);return B}}static getNumRawDataModules(L){if(L<K.MIN_VERSION||L>K.MAX_VERSION)throw new RangeError("Version number out of range");let N=(16*L+128)*L+64;if(L>=2){const B=Math.floor(L/7)+2;N-=(25*B-10)*B-55,L>=7&&(N-=36)}return M(208<=N&&N<=29648),N}static getNumDataCodewords(L,N){return Math.floor(K.getNumRawDataModules(L)/8)-K.ECC_CODEWORDS_PER_BLOCK[N.ordinal][L]*K.NUM_ERROR_CORRECTION_BLOCKS[N.ordinal][L]}static reedSolomonComputeDivisor(L){if(L<1||L>255)throw new RangeError("Degree out of range");let N=[];for(let V=0;V<L-1;V++)N.push(0);N.push(1);let B=1;for(let V=0;V<L;V++){for(let U=0;U<N.length;U++)N[U]=K.reedSolomonMultiply(N[U],B),U+1<N.length&&(N[U]^=N[U+1]);B=K.reedSolomonMultiply(B,2)}return N}static reedSolomonComputeRemainder(L,N){let B=N.map(V=>0);for(const V of L){const U=V^B.shift();B.push(0),N.forEach((I,F)=>B[F]^=K.reedSolomonMultiply(I,U))}return B}static reedSolomonMultiply(L,N){if(L>>>8||N>>>8)throw new RangeError("Byte out of range");let B=0;for(let V=7;V>=0;V--)B=B<<1^(B>>>7)*285,B^=(N>>>V&1)*L;return M(B>>>8==0),B}finderPenaltyCountPatterns(L){const N=L[1];M(N<=this.size*3);const B=N>0&&L[2]==N&&L[3]==N*3&&L[4]==N&&L[5]==N;return(B&&L[0]>=N*4&&L[6]>=N?1:0)+(B&&L[6]>=N*4&&L[0]>=N?1:0)}finderPenaltyTerminateAndCount(L,N,B){return L&&(this.finderPenaltyAddHistory(N,B),N=0),N+=this.size,this.finderPenaltyAddHistory(N,B),this.finderPenaltyCountPatterns(B)}finderPenaltyAddHistory(L,N){N[0]==0&&(L+=this.size),N.pop(),N.unshift(L)}};let z=K;z.MIN_VERSION=1,z.MAX_VERSION=40,z.PENALTY_N1=3,z.PENALTY_N2=3,z.PENALTY_N3=40,z.PENALTY_N4=10,z.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],z.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],Z.QrCode=z;function w(L,N,B){if(N<0||N>31||L>>>N)throw new RangeError("Value out of range");for(let V=N-1;V>=0;V--)B.push(L>>>V&1)}function A(L,N){return(L>>>N&1)!=0}function M(L){if(!L)throw new Error("Assertion error")}const b=class{constructor(L,N,B){if(this.mode=L,this.numChars=N,this.bitData=B,N<0)throw new RangeError("Invalid argument");this.bitData=B.slice()}static makeBytes(L){let N=[];for(const B of L)w(B,8,N);return new b(b.Mode.BYTE,L.length,N)}static makeNumeric(L){if(!b.isNumeric(L))throw new RangeError("String contains non-numeric characters");let N=[];for(let B=0;B<L.length;){const V=Math.min(L.length-B,3);w(parseInt(L.substr(B,V),10),V*3+1,N),B+=V}return new b(b.Mode.NUMERIC,L.length,N)}static makeAlphanumeric(L){if(!b.isAlphanumeric(L))throw new RangeError("String contains unencodable characters in alphanumeric mode");let N=[],B;for(B=0;B+2<=L.length;B+=2){let V=b.ALPHANUMERIC_CHARSET.indexOf(L.charAt(B))*45;V+=b.ALPHANUMERIC_CHARSET.indexOf(L.charAt(B+1)),w(V,11,N)}return B<L.length&&w(b.ALPHANUMERIC_CHARSET.indexOf(L.charAt(B)),6,N),new b(b.Mode.ALPHANUMERIC,L.length,N)}static makeSegments(L){return L==""?[]:b.isNumeric(L)?[b.makeNumeric(L)]:b.isAlphanumeric(L)?[b.makeAlphanumeric(L)]:[b.makeBytes(b.toUtf8ByteArray(L))]}static makeEci(L){let N=[];if(L<0)throw new RangeError("ECI assignment value out of range");if(L<128)w(L,8,N);else if(L<16384)w(2,2,N),w(L,14,N);else if(L<1e6)w(6,3,N),w(L,21,N);else throw new RangeError("ECI assignment value out of range");return new b(b.Mode.ECI,0,N)}static isNumeric(L){return b.NUMERIC_REGEX.test(L)}static isAlphanumeric(L){return b.ALPHANUMERIC_REGEX.test(L)}getData(){return this.bitData.slice()}static getTotalBits(L,N){let B=0;for(const V of L){const U=V.mode.numCharCountBits(N);if(V.numChars>=1<<U)return 1/0;B+=4+U+V.bitData.length}return B}static toUtf8ByteArray(L){L=encodeURI(L);let N=[];for(let B=0;B<L.length;B++)L.charAt(B)!="%"?N.push(L.charCodeAt(B)):(N.push(parseInt(L.substr(B+1,2),16)),B+=2);return N}};let R=b;R.NUMERIC_REGEX=/^[0-9]*$/,R.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,R.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Z.QrSegment=R})(c||(c={})),(Z=>{let K;(z=>{const w=class{constructor(M,b){this.ordinal=M,this.formatBits=b}};let A=w;A.LOW=new w(0,1),A.MEDIUM=new w(1,0),A.QUARTILE=new w(2,3),A.HIGH=new w(3,2),z.Ecc=A})(K=Z.QrCode||(Z.QrCode={}))})(c||(c={})),(Z=>{let K;(z=>{const w=class{constructor(M,b){this.modeBits=M,this.numBitsCharCount=b}numCharCountBits(M){return this.numBitsCharCount[Math.floor((M+7)/17)]}};let A=w;A.NUMERIC=new w(1,[10,12,14]),A.ALPHANUMERIC=new w(2,[9,11,13]),A.BYTE=new w(4,[8,16,16]),A.KANJI=new w(8,[8,10,12]),A.ECI=new w(7,[0,0,0]),z.Mode=A})(K=Z.QrSegment||(Z.QrSegment={}))})(c||(c={}));var i=c;var a={L:i.QrCode.Ecc.LOW,M:i.QrCode.Ecc.MEDIUM,Q:i.QrCode.Ecc.QUARTILE,H:i.QrCode.Ecc.HIGH},f=128,l="L",n="#FFFFFF",r="#000000",o=!1,g=4,y=.1;function D(Z,K=0){const z=[];return Z.forEach(function(w,A){let M=null;w.forEach(function(b,R){if(!b&&M!==null){z.push(`M${M+K} ${A+K}h${R-M}v1H${M+K}z`),M=null;return}if(R===w.length-1){if(!b)return;M===null?z.push(`M${R+K},${A+K} h1v1H${R+K}z`):z.push(`M${M+K},${A+K} h${R+1-M}v1H${M+K}z`);return}b&&M===null&&(M=R)})}),z.join("")}function P(Z,K){return Z.slice().map((z,w)=>w<K.y||w>=K.y+K.h?z:z.map((A,M)=>M<K.x||M>=K.x+K.w?A:!1))}function E(Z,K,z,w){if(w==null)return null;const A=z?g:0,M=Z.length+A*2,b=Math.floor(K*y),R=M/K,L=(w.width||b)*R,N=(w.height||b)*R,B=w.x==null?Z.length/2-L/2:w.x*R,V=w.y==null?Z.length/2-N/2:w.y*R;let U=null;if(w.excavate){let I=Math.floor(B),F=Math.floor(V),W=Math.ceil(L+B-I),X=Math.ceil(N+V-F);U={x:I,y:F,w:W,h:X}}return{x:B,y:V,h:N,w:L,excavation:U}}var O=function(){try{new Path2D().addPath(new Path2D)}catch(Z){return!1}return!0}();function T(Z){const K=Z,{value:z,size:w=f,level:A=l,bgColor:M=n,fgColor:b=r,includeMargin:R=o,style:L,imageSettings:N}=K,B=t(K,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),V=N==null?void 0:N.src,U=(0,v.useRef)(null),I=(0,v.useRef)(null),[F,W]=(0,v.useState)(!1);(0,v.useEffect)(()=>{if(U.current!=null){const C=U.current,k=C.getContext("2d");if(!k)return;let Y=i.QrCode.encodeText(z,a[A]).getModules();const H=R?g:0,te=Y.length+H*2,le=E(Y,w,R,N),ne=I.current,ie=le!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;ie&&le.excavation!=null&&(Y=P(Y,le.excavation));const ee=window.devicePixelRatio||1;C.height=C.width=w*ee;const fe=w/te*ee;k.scale(fe,fe),k.fillStyle=M,k.fillRect(0,0,te,te),k.fillStyle=b,O?k.fill(new Path2D(D(Y,H))):Y.forEach(function(de,ue){de.forEach(function(Se,ae){Se&&k.fillRect(ae+H,ue+H,1,1)})}),ie&&k.drawImage(ne,le.x+H,le.y+H,le.w,le.h)}}),(0,v.useEffect)(()=>{W(!1)},[V]);const X=h({height:w,width:w},L);let J=null;return V!=null&&(J=v.createElement("img",{src:V,key:V,style:{display:"none"},onLoad:()=>{W(!0)},ref:I})),v.createElement(v.Fragment,null,v.createElement("canvas",h({style:X,height:w,width:w,ref:U},B)),J)}function S(Z){const K=Z,{value:z,size:w=f,level:A=l,bgColor:M=n,fgColor:b=r,includeMargin:R=o,imageSettings:L}=K,N=t(K,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let B=i.QrCode.encodeText(z,a[A]).getModules();const V=R?g:0,U=B.length+V*2,I=E(B,w,R,L);let F=null;L!=null&&I!=null&&(I.excavation!=null&&(B=P(B,I.excavation)),F=v.createElement("image",{xlinkHref:L.src,height:I.h,width:I.w,x:I.x+V,y:I.y+V,preserveAspectRatio:"none"}));const W=D(B,V);return v.createElement("svg",h({height:w,width:w,viewBox:`0 0 ${U} ${U}`},N),v.createElement("path",{fill:M,d:`M0,0 h${U}v${U}H0z`,shapeRendering:"crispEdges"}),v.createElement("path",{fill:b,d:W,shapeRendering:"crispEdges"}),F)}var $=Z=>{const K=Z,{renderAs:z}=K,w=t(K,["renderAs"]);return z==="svg"?React.createElement(S,h({},w)):React.createElement(T,h({},w))}},55798:function(se){"use strict";var j=String.prototype.replace,e=/%20/g,v={RFC1738:"RFC1738",RFC3986:"RFC3986"};se.exports={default:v.RFC3986,formatters:{RFC1738:function(m){return j.call(m,e,"+")},RFC3986:function(m){return String(m)}},RFC1738:v.RFC1738,RFC3986:v.RFC3986}},80129:function(se,j,e){"use strict";var v=e(58261),m=e(55235),x=e(55798);se.exports={formats:x,parse:m,stringify:v}},55235:function(se,j,e){"use strict";var v=e(12769),m=Object.prototype.hasOwnProperty,x=Array.isArray,u={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:v.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},p=function(l){return l.replace(/&#(\d+);/g,function(n,r){return String.fromCharCode(parseInt(r,10))})},d=function(l,n){return l&&typeof l=="string"&&n.comma&&l.indexOf(",")>-1?l.split(","):l},h="utf8=%26%2310003%3B",t="utf8=%E2%9C%93",c=function(n,r){var o={__proto__:null},g=r.ignoreQueryPrefix?n.replace(/^\?/,""):n,y=r.parameterLimit===1/0?void 0:r.parameterLimit,D=g.split(r.delimiter,y),P=-1,E,O=r.charset;if(r.charsetSentinel)for(E=0;E<D.length;++E)D[E].indexOf("utf8=")===0&&(D[E]===t?O="utf-8":D[E]===h&&(O="iso-8859-1"),P=E,E=D.length);for(E=0;E<D.length;++E)if(E!==P){var T=D[E],S=T.indexOf("]="),$=S===-1?T.indexOf("="):S+1,Z,K;$===-1?(Z=r.decoder(T,u.decoder,O,"key"),K=r.strictNullHandling?null:""):(Z=r.decoder(T.slice(0,$),u.decoder,O,"key"),K=v.maybeMap(d(T.slice($+1),r),function(z){return r.decoder(z,u.decoder,O,"value")})),K&&r.interpretNumericEntities&&O==="iso-8859-1"&&(K=p(K)),T.indexOf("[]=")>-1&&(K=x(K)?[K]:K),m.call(o,Z)?o[Z]=v.combine(o[Z],K):o[Z]=K}return o},i=function(l,n,r,o){for(var g=o?n:d(n,r),y=l.length-1;y>=0;--y){var D,P=l[y];if(P==="[]"&&r.parseArrays)D=[].concat(g);else{D=r.plainObjects?Object.create(null):{};var E=P.charAt(0)==="["&&P.charAt(P.length-1)==="]"?P.slice(1,-1):P,O=parseInt(E,10);!r.parseArrays&&E===""?D={0:g}:!isNaN(O)&&P!==E&&String(O)===E&&O>=0&&r.parseArrays&&O<=r.arrayLimit?(D=[],D[O]=g):E!=="__proto__"&&(D[E]=g)}g=D}return g},a=function(n,r,o,g){if(n){var y=o.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,D=/(\[[^[\]]*])/,P=/(\[[^[\]]*])/g,E=o.depth>0&&D.exec(y),O=E?y.slice(0,E.index):y,T=[];if(O){if(!o.plainObjects&&m.call(Object.prototype,O)&&!o.allowPrototypes)return;T.push(O)}for(var S=0;o.depth>0&&(E=P.exec(y))!==null&&S<o.depth;){if(S+=1,!o.plainObjects&&m.call(Object.prototype,E[1].slice(1,-1))&&!o.allowPrototypes)return;T.push(E[1])}return E&&T.push("["+y.slice(E.index)+"]"),i(T,r,o,g)}},f=function(n){if(!n)return u;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset!="undefined"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof n.charset=="undefined"?u.charset:n.charset;return{allowDots:typeof n.allowDots=="undefined"?u.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:u.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:u.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:u.arrayLimit,charset:r,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:u.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:u.comma,decoder:typeof n.decoder=="function"?n.decoder:u.decoder,delimiter:typeof n.delimiter=="string"||v.isRegExp(n.delimiter)?n.delimiter:u.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:u.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:u.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:u.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:u.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:u.strictNullHandling}};se.exports=function(l,n){var r=f(n);if(l===""||l===null||typeof l=="undefined")return r.plainObjects?Object.create(null):{};for(var o=typeof l=="string"?c(l,r):l,g=r.plainObjects?Object.create(null):{},y=Object.keys(o),D=0;D<y.length;++D){var P=y[D],E=a(P,o[P],r,typeof l=="string");g=v.merge(g,E,r)}return r.allowSparse===!0?g:v.compact(g)}},58261:function(se,j,e){"use strict";var v=e(37478),m=e(12769),x=e(55798),u=Object.prototype.hasOwnProperty,p={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,y){return g+"["+y+"]"},repeat:function(g){return g}},d=Array.isArray,h=Array.prototype.push,t=function(o,g){h.apply(o,d(g)?g:[g])},c=Date.prototype.toISOString,i=x.default,a={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:m.encode,encodeValuesOnly:!1,format:i,formatter:x.formatters[i],indices:!1,serializeDate:function(g){return c.call(g)},skipNulls:!1,strictNullHandling:!1},f=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},l={},n=function o(g,y,D,P,E,O,T,S,$,Z,K,z,w,A,M,b){for(var R=g,L=b,N=0,B=!1;(L=L.get(l))!==void 0&&!B;){var V=L.get(g);if(N+=1,typeof V!="undefined"){if(V===N)throw new RangeError("Cyclic object value");B=!0}typeof L.get(l)=="undefined"&&(N=0)}if(typeof S=="function"?R=S(y,R):R instanceof Date?R=K(R):D==="comma"&&d(R)&&(R=m.maybeMap(R,function(te){return te instanceof Date?K(te):te})),R===null){if(E)return T&&!A?T(y,a.encoder,M,"key",z):y;R=""}if(f(R)||m.isBuffer(R)){if(T){var U=A?y:T(y,a.encoder,M,"key",z);return[w(U)+"="+w(T(R,a.encoder,M,"value",z))]}return[w(y)+"="+w(String(R))]}var I=[];if(typeof R=="undefined")return I;var F;if(D==="comma"&&d(R))A&&T&&(R=m.maybeMap(R,T)),F=[{value:R.length>0?R.join(",")||null:void 0}];else if(d(S))F=S;else{var W=Object.keys(R);F=$?W.sort($):W}for(var X=P&&d(R)&&R.length===1?y+"[]":y,J=0;J<F.length;++J){var C=F[J],k=typeof C=="object"&&typeof C.value!="undefined"?C.value:R[C];if(!(O&&k===null)){var Y=d(R)?typeof D=="function"?D(X,C):X:X+(Z?"."+C:"["+C+"]");b.set(g,N);var H=v();H.set(l,b),t(I,o(k,Y,D,P,E,O,D==="comma"&&A&&d(R)?null:T,S,$,Z,K,z,w,A,M,H))}}return I},r=function(g){if(!g)return a;if(g.encoder!==null&&typeof g.encoder!="undefined"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=g.charset||a.charset;if(typeof g.charset!="undefined"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var D=x.default;if(typeof g.format!="undefined"){if(!u.call(x.formatters,g.format))throw new TypeError("Unknown format option provided.");D=g.format}var P=x.formatters[D],E=a.filter;return(typeof g.filter=="function"||d(g.filter))&&(E=g.filter),{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:a.addQueryPrefix,allowDots:typeof g.allowDots=="undefined"?a.allowDots:!!g.allowDots,charset:y,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:a.charsetSentinel,delimiter:typeof g.delimiter=="undefined"?a.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:a.encode,encoder:typeof g.encoder=="function"?g.encoder:a.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:a.encodeValuesOnly,filter:E,format:D,formatter:P,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:a.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:a.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:a.strictNullHandling}};se.exports=function(o,g){var y=o,D=r(g),P,E;typeof D.filter=="function"?(E=D.filter,y=E("",y)):d(D.filter)&&(E=D.filter,P=E);var O=[];if(typeof y!="object"||y===null)return"";var T;g&&g.arrayFormat in p?T=g.arrayFormat:g&&"indices"in g?T=g.indices?"indices":"repeat":T="indices";var S=p[T];if(g&&"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var $=S==="comma"&&g&&g.commaRoundTrip;P||(P=Object.keys(y)),D.sort&&P.sort(D.sort);for(var Z=v(),K=0;K<P.length;++K){var z=P[K];D.skipNulls&&y[z]===null||t(O,n(y[z],z,S,$,D.strictNullHandling,D.skipNulls,D.encode?D.encoder:null,D.filter,D.sort,D.allowDots,D.serializeDate,D.format,D.formatter,D.encodeValuesOnly,D.charset,Z))}var w=O.join(D.delimiter),A=D.addQueryPrefix===!0?"?":"";return D.charsetSentinel&&(D.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),w.length>0?A+w:""}},12769:function(se,j,e){"use strict";var v=e(55798),m=Object.prototype.hasOwnProperty,x=Array.isArray,u=function(){for(var o=[],g=0;g<256;++g)o.push("%"+((g<16?"0":"")+g.toString(16)).toUpperCase());return o}(),p=function(g){for(;g.length>1;){var y=g.pop(),D=y.obj[y.prop];if(x(D)){for(var P=[],E=0;E<D.length;++E)typeof D[E]!="undefined"&&P.push(D[E]);y.obj[y.prop]=P}}},d=function(g,y){for(var D=y&&y.plainObjects?Object.create(null):{},P=0;P<g.length;++P)typeof g[P]!="undefined"&&(D[P]=g[P]);return D},h=function o(g,y,D){if(!y)return g;if(typeof y!="object"){if(x(g))g.push(y);else if(g&&typeof g=="object")(D&&(D.plainObjects||D.allowPrototypes)||!m.call(Object.prototype,y))&&(g[y]=!0);else return[g,y];return g}if(!g||typeof g!="object")return[g].concat(y);var P=g;return x(g)&&!x(y)&&(P=d(g,D)),x(g)&&x(y)?(y.forEach(function(E,O){if(m.call(g,O)){var T=g[O];T&&typeof T=="object"&&E&&typeof E=="object"?g[O]=o(T,E,D):g.push(E)}else g[O]=E}),g):Object.keys(y).reduce(function(E,O){var T=y[O];return m.call(E,O)?E[O]=o(E[O],T,D):E[O]=T,E},P)},t=function(g,y){return Object.keys(y).reduce(function(D,P){return D[P]=y[P],D},g)},c=function(o,g,y){var D=o.replace(/\+/g," ");if(y==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch(P){return D}},i=function(g,y,D,P,E){if(g.length===0)return g;var O=g;if(typeof g=="symbol"?O=Symbol.prototype.toString.call(g):typeof g!="string"&&(O=String(g)),D==="iso-8859-1")return escape(O).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var T="",S=0;S<O.length;++S){var $=O.charCodeAt(S);if($===45||$===46||$===95||$===126||$>=48&&$<=57||$>=65&&$<=90||$>=97&&$<=122||E===v.RFC1738&&($===40||$===41)){T+=O.charAt(S);continue}if($<128){T=T+u[$];continue}if($<2048){T=T+(u[192|$>>6]+u[128|$&63]);continue}if($<55296||$>=57344){T=T+(u[224|$>>12]+u[128|$>>6&63]+u[128|$&63]);continue}S+=1,$=65536+(($&1023)<<10|O.charCodeAt(S)&1023),T+=u[240|$>>18]+u[128|$>>12&63]+u[128|$>>6&63]+u[128|$&63]}return T},a=function(g){for(var y=[{obj:{o:g},prop:"o"}],D=[],P=0;P<y.length;++P)for(var E=y[P],O=E.obj[E.prop],T=Object.keys(O),S=0;S<T.length;++S){var $=T[S],Z=O[$];typeof Z=="object"&&Z!==null&&D.indexOf(Z)===-1&&(y.push({obj:O,prop:$}),D.push(Z))}return p(y),g},f=function(g){return Object.prototype.toString.call(g)==="[object RegExp]"},l=function(g){return!g||typeof g!="object"?!1:!!(g.constructor&&g.constructor.isBuffer&&g.constructor.isBuffer(g))},n=function(g,y){return[].concat(g,y)},r=function(g,y){if(x(g)){for(var D=[],P=0;P<g.length;P+=1)D.push(y(g[P]));return D}return y(g)};se.exports={arrayToObject:d,assign:t,combine:n,compact:a,decode:c,encode:i,isBuffer:l,isRegExp:f,maybeMap:r,merge:h}},61798:function(se,j,e){"use strict";var v=e(34155),m=65536,x=4294967295;function u(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var p=e(89509).Buffer,d=e.g.crypto||e.g.msCrypto;d&&d.getRandomValues?se.exports=h:se.exports=u;function h(t,c){if(t>x)throw new RangeError("requested too many random bytes");var i=p.allocUnsafe(t);if(t>0)if(t>m)for(var a=0;a<t;a+=m)d.getRandomValues(i.slice(a,a+m));else d.getRandomValues(i);return typeof c=="function"?v.nextTick(function(){c(null,i)}):i}},77963:function(se,j,e){"use strict";var v=e(34155);function m(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var x=e(89509),u=e(61798),p=x.Buffer,d=x.kMaxLength,h=e.g.crypto||e.g.msCrypto,t=Math.pow(2,32)-1;function c(n,r){if(typeof n!="number"||n!==n)throw new TypeError("offset must be a number");if(n>t||n<0)throw new TypeError("offset must be a uint32");if(n>d||n>r)throw new RangeError("offset out of range")}function i(n,r,o){if(typeof n!="number"||n!==n)throw new TypeError("size must be a number");if(n>t||n<0)throw new TypeError("size must be a uint32");if(n+r>o||n>d)throw new RangeError("buffer too small")}h&&h.getRandomValues||!v.browser?(j.randomFill=a,j.randomFillSync=l):(j.randomFill=m,j.randomFillSync=m);function a(n,r,o,g){if(!p.isBuffer(n)&&!(n instanceof e.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof r=="function")g=r,r=0,o=n.length;else if(typeof o=="function")g=o,o=n.length-r;else if(typeof g!="function")throw new TypeError('"cb" argument must be a function');return c(r,n.length),i(o,r,n.length),f(n,r,o,g)}function f(n,r,o,g){if(v.browser){var y=n.buffer,D=new Uint8Array(y,r,o);if(h.getRandomValues(D),g){v.nextTick(function(){g(null,n)});return}return n}if(g){u(o,function(E,O){if(E)return g(E);O.copy(n,r),g(null,n)});return}var P=u(o);return P.copy(n,r),n}function l(n,r,o){if(typeof r=="undefined"&&(r=0),!p.isBuffer(n)&&!(n instanceof e.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(r,n.length),o===void 0&&(o=n.length-r),i(o,r,n.length),f(n,r,o)}},50132:function(se,j,e){"use strict";var v=e(87462),m=e(1413),x=e(4942),u=e(97685),p=e(91),d=e(94184),h=e.n(d),t=e(21770),c=e(67294),i=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],a=(0,c.forwardRef)(function(f,l){var n,r=f.prefixCls,o=r===void 0?"rc-checkbox":r,g=f.className,y=f.style,D=f.checked,P=f.disabled,E=f.defaultChecked,O=E===void 0?!1:E,T=f.type,S=T===void 0?"checkbox":T,$=f.title,Z=f.onChange,K=(0,p.Z)(f,i),z=(0,c.useRef)(null),w=(0,t.Z)(O,{value:D}),A=(0,u.Z)(w,2),M=A[0],b=A[1];(0,c.useImperativeHandle)(l,function(){return{focus:function(){var B;(B=z.current)===null||B===void 0||B.focus()},blur:function(){var B;(B=z.current)===null||B===void 0||B.blur()},input:z.current}});var R=h()(o,g,(n={},(0,x.Z)(n,"".concat(o,"-checked"),M),(0,x.Z)(n,"".concat(o,"-disabled"),P),n)),L=function(B){P||("checked"in f||b(B.target.checked),Z==null||Z({target:(0,m.Z)((0,m.Z)({},f),{},{type:S,checked:B.target.checked}),stopPropagation:function(){B.stopPropagation()},preventDefault:function(){B.preventDefault()},nativeEvent:B.nativeEvent}))};return c.createElement("span",{className:R,title:$,style:y},c.createElement("input",(0,v.Z)({},K,{className:"".concat(o,"-input"),ref:z,onChange:L,disabled:P,checked:!!M,type:S})),c.createElement("span",{className:"".concat(o,"-inner")}))});j.Z=a},3510:function(se,j,e){"use strict";e.d(j,{Z:function(){return z}});var v=e(74902),m=e(97685),x=e(71002),u=e(94184),p=e.n(u),d=e(21770),h=e(80334),t=e(67294),c=e(87462),i=e(91),a=e(50344),f=e(4942),l=e(82225),n=e(15105),r=t.forwardRef(function(A,M){var b,R=A.prefixCls,L=A.forceRender,N=A.className,B=A.style,V=A.children,U=A.isActive,I=A.role,F=t.useState(U||L),W=(0,m.Z)(F,2),X=W[0],J=W[1];return t.useEffect(function(){(L||U)&&J(!0)},[L,U]),X?t.createElement("div",{ref:M,className:p()("".concat(R,"-content"),(b={},(0,f.Z)(b,"".concat(R,"-content-active"),U),(0,f.Z)(b,"".concat(R,"-content-inactive"),!U),b),N),style:B,role:I},t.createElement("div",{className:"".concat(R,"-content-box")},V)):null});r.displayName="PanelContent";var o=r,g=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],y=t.forwardRef(function(A,M){var b,R,L=A.showArrow,N=L===void 0?!0:L,B=A.headerClass,V=A.isActive,U=A.onItemClick,I=A.forceRender,F=A.className,W=A.prefixCls,X=A.collapsible,J=A.accordion,C=A.panelKey,k=A.extra,Y=A.header,H=A.expandIcon,te=A.openMotion,le=A.destroyInactivePanel,ne=A.children,ie=(0,i.Z)(A,g),ee=X==="disabled",fe=X==="header",de=X==="icon",ue=k!=null&&typeof k!="boolean",Se=function(){U==null||U(C)},ae=function(xe){(xe.key==="Enter"||xe.keyCode===n.Z.ENTER||xe.which===n.Z.ENTER)&&Se()},G=typeof H=="function"?H(A):t.createElement("i",{className:"arrow"});G&&(G=t.createElement("div",{className:"".concat(W,"-expand-icon"),onClick:["header","icon"].includes(X)?Se:void 0},G));var re=p()((b={},(0,f.Z)(b,"".concat(W,"-item"),!0),(0,f.Z)(b,"".concat(W,"-item-active"),V),(0,f.Z)(b,"".concat(W,"-item-disabled"),ee),b),F),oe=p()(B,(R={},(0,f.Z)(R,"".concat(W,"-header"),!0),(0,f.Z)(R,"".concat(W,"-header-collapsible-only"),fe),(0,f.Z)(R,"".concat(W,"-icon-collapsible-only"),de),R)),ce={className:oe,"aria-expanded":V,"aria-disabled":ee,onKeyDown:ae};return!fe&&!de&&(ce.onClick=Se,ce.role=J?"tab":"button",ce.tabIndex=ee?-1:0),t.createElement("div",(0,c.Z)({},ie,{ref:M,className:re}),t.createElement("div",ce,N&&G,t.createElement("span",{className:"".concat(W,"-header-text"),onClick:X==="header"?Se:void 0},Y),ue&&t.createElement("div",{className:"".concat(W,"-extra")},k)),t.createElement(l.ZP,(0,c.Z)({visible:V,leavedClassName:"".concat(W,"-content-hidden")},te,{forceRender:I,removeOnLeave:le}),function(be,xe){var ge=be.className,he=be.style;return t.createElement(o,{ref:xe,prefixCls:W,className:ge,style:he,isActive:V,forceRender:I,role:J?"tabpanel":void 0},ne)}))}),D=y,P=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],E=function(M,b){var R=b.prefixCls,L=b.accordion,N=b.collapsible,B=b.destroyInactivePanel,V=b.onItemClick,U=b.activeKey,I=b.openMotion,F=b.expandIcon;return M.map(function(W,X){var J=W.children,C=W.label,k=W.key,Y=W.collapsible,H=W.onItemClick,te=W.destroyInactivePanel,le=(0,i.Z)(W,P),ne=String(k!=null?k:X),ie=Y!=null?Y:N,ee=te!=null?te:B,fe=function(Se){ie!=="disabled"&&(V(Se),H==null||H(Se))},de=!1;return L?de=U[0]===ne:de=U.indexOf(ne)>-1,t.createElement(D,(0,c.Z)({},le,{prefixCls:R,key:ne,panelKey:ne,isActive:de,accordion:L,openMotion:I,expandIcon:F,header:C,collapsible:ie,onItemClick:fe,destroyInactivePanel:ee}),J)})},O=function(M,b,R){if(!M)return null;var L=R.prefixCls,N=R.accordion,B=R.collapsible,V=R.destroyInactivePanel,U=R.onItemClick,I=R.activeKey,F=R.openMotion,W=R.expandIcon,X=M.key||String(b),J=M.props,C=J.header,k=J.headerClass,Y=J.destroyInactivePanel,H=J.collapsible,te=J.onItemClick,le=!1;N?le=I[0]===X:le=I.indexOf(X)>-1;var ne=H!=null?H:B,ie=function(de){ne!=="disabled"&&(U(de),te==null||te(de))},ee={key:X,panelKey:X,header:C,headerClass:k,isActive:le,prefixCls:L,destroyInactivePanel:Y!=null?Y:V,openMotion:F,accordion:N,children:M.props.children,onItemClick:ie,expandIcon:W,collapsible:ne};return typeof M.type=="string"?M:(Object.keys(ee).forEach(function(fe){typeof ee[fe]=="undefined"&&delete ee[fe]}),t.cloneElement(M,ee))};function T(A,M,b){return Array.isArray(A)?E(A,b):(0,a.Z)(M).map(function(R,L){return O(R,L,b)})}var S=T;function $(A){var M=A;if(!Array.isArray(M)){var b=(0,x.Z)(M);M=b==="number"||b==="string"?[M]:[]}return M.map(function(R){return String(R)})}var Z=t.forwardRef(function(A,M){var b=A.prefixCls,R=b===void 0?"rc-collapse":b,L=A.destroyInactivePanel,N=L===void 0?!1:L,B=A.style,V=A.accordion,U=A.className,I=A.children,F=A.collapsible,W=A.openMotion,X=A.expandIcon,J=A.activeKey,C=A.defaultActiveKey,k=A.onChange,Y=A.items,H=p()(R,U),te=(0,d.Z)([],{value:J,onChange:function(ue){return k==null?void 0:k(ue)},defaultValue:C,postState:$}),le=(0,m.Z)(te,2),ne=le[0],ie=le[1],ee=function(ue){return ie(function(){if(V)return ne[0]===ue?[]:[ue];var Se=ne.indexOf(ue),ae=Se>-1;return ae?ne.filter(function(G){return G!==ue}):[].concat((0,v.Z)(ne),[ue])})};(0,h.ZP)(!I,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var fe=S(Y,I,{prefixCls:R,accordion:V,openMotion:W,expandIcon:X,collapsible:F,destroyInactivePanel:N,onItemClick:ee,activeKey:ne});return t.createElement("div",{ref:M,className:H,style:B,role:V?"tablist":void 0},fe)}),K=Object.assign(Z,{Panel:D}),z=K,w=K.Panel},40974:function(se,j,e){"use strict";e.d(j,{s:function(){return E},Z:function(){return w}});var v=e(87462),m=e(97685),x=e(2788),u=e(67294),p=u.createContext({}),d=e(1413),h=e(94184),t=e.n(h),c=e(94999),i=e(7028),a=e(15105),f=e(64217);function l(A,M,b){var R=M;return!R&&b&&(R="".concat(A,"-").concat(b)),R}function n(A,M){var b=A["page".concat(M?"Y":"X","Offset")],R="scroll".concat(M?"Top":"Left");if(typeof b!="number"){var L=A.document;b=L.documentElement[R],typeof b!="number"&&(b=L.body[R])}return b}function r(A){var M=A.getBoundingClientRect(),b={left:M.left,top:M.top},R=A.ownerDocument,L=R.defaultView||R.parentWindow;return b.left+=n(L),b.top+=n(L,!0),b}var o=e(82225),g=e(42550),y=u.memo(function(A){var M=A.children;return M},function(A,M){var b=M.shouldUpdate;return!b}),D={width:0,height:0,overflow:"hidden",outline:"none"},P=u.forwardRef(function(A,M){var b=A.prefixCls,R=A.className,L=A.style,N=A.title,B=A.ariaId,V=A.footer,U=A.closable,I=A.closeIcon,F=A.onClose,W=A.children,X=A.bodyStyle,J=A.bodyProps,C=A.modalRender,k=A.onMouseDown,Y=A.onMouseUp,H=A.holderRef,te=A.visible,le=A.forceRender,ne=A.width,ie=A.height,ee=A.classNames,fe=A.styles,de=u.useContext(p),ue=de.panel,Se=(0,g.x1)(H,ue),ae=(0,u.useRef)(),G=(0,u.useRef)();u.useImperativeHandle(M,function(){return{focus:function(){var he;(he=ae.current)===null||he===void 0||he.focus()},changeActive:function(he){var Pe=document,Ae=Pe.activeElement;he&&Ae===G.current?ae.current.focus():!he&&Ae===ae.current&&G.current.focus()}}});var re={};ne!==void 0&&(re.width=ne),ie!==void 0&&(re.height=ie);var oe;V&&(oe=u.createElement("div",{className:t()("".concat(b,"-footer"),ee==null?void 0:ee.footer),style:(0,d.Z)({},fe==null?void 0:fe.footer)},V));var ce;N&&(ce=u.createElement("div",{className:t()("".concat(b,"-header"),ee==null?void 0:ee.header),style:(0,d.Z)({},fe==null?void 0:fe.header)},u.createElement("div",{className:"".concat(b,"-title"),id:B},N)));var be;U&&(be=u.createElement("button",{type:"button",onClick:F,"aria-label":"Close",className:"".concat(b,"-close")},I||u.createElement("span",{className:"".concat(b,"-close-x")})));var xe=u.createElement("div",{className:t()("".concat(b,"-content"),ee==null?void 0:ee.content),style:fe==null?void 0:fe.content},be,ce,u.createElement("div",(0,v.Z)({className:t()("".concat(b,"-body"),ee==null?void 0:ee.body),style:(0,d.Z)((0,d.Z)({},X),fe==null?void 0:fe.body)},J),W),oe);return u.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":N?B:null,"aria-modal":"true",ref:Se,style:(0,d.Z)((0,d.Z)({},L),re),className:t()(b,R),onMouseDown:k,onMouseUp:Y},u.createElement("div",{tabIndex:0,ref:ae,style:D,"aria-hidden":"true"}),u.createElement(y,{shouldUpdate:te||le},C?C(xe):xe),u.createElement("div",{tabIndex:0,ref:G,style:D,"aria-hidden":"true"}))}),E=P,O=u.forwardRef(function(A,M){var b=A.prefixCls,R=A.title,L=A.style,N=A.className,B=A.visible,V=A.forceRender,U=A.destroyOnClose,I=A.motionName,F=A.ariaId,W=A.onVisibleChanged,X=A.mousePosition,J=(0,u.useRef)(),C=u.useState(),k=(0,m.Z)(C,2),Y=k[0],H=k[1],te={};Y&&(te.transformOrigin=Y);function le(){var ne=r(J.current);H(X?"".concat(X.x-ne.left,"px ").concat(X.y-ne.top,"px"):"")}return u.createElement(o.ZP,{visible:B,onVisibleChanged:W,onAppearPrepare:le,onEnterPrepare:le,forceRender:V,motionName:I,removeOnLeave:U,ref:J},function(ne,ie){var ee=ne.className,fe=ne.style;return u.createElement(E,(0,v.Z)({},A,{ref:M,title:R,ariaId:F,prefixCls:b,holderRef:ie,style:(0,d.Z)((0,d.Z)((0,d.Z)({},fe),L),te),className:t()(N,ee)}))})});O.displayName="Content";var T=O;function S(A){var M=A.prefixCls,b=A.style,R=A.visible,L=A.maskProps,N=A.motionName,B=A.className;return u.createElement(o.ZP,{key:"mask",visible:R,motionName:N,leavedClassName:"".concat(M,"-mask-hidden")},function(V,U){var I=V.className,F=V.style;return u.createElement("div",(0,v.Z)({ref:U,style:(0,d.Z)((0,d.Z)({},F),b),className:t()("".concat(M,"-mask"),I,B)},L))})}var $=e(80334);function Z(A){var M=A.prefixCls,b=M===void 0?"rc-dialog":M,R=A.zIndex,L=A.visible,N=L===void 0?!1:L,B=A.keyboard,V=B===void 0?!0:B,U=A.focusTriggerAfterClose,I=U===void 0?!0:U,F=A.wrapStyle,W=A.wrapClassName,X=A.wrapProps,J=A.onClose,C=A.afterOpenChange,k=A.afterClose,Y=A.transitionName,H=A.animation,te=A.closable,le=te===void 0?!0:te,ne=A.mask,ie=ne===void 0?!0:ne,ee=A.maskTransitionName,fe=A.maskAnimation,de=A.maskClosable,ue=de===void 0?!0:de,Se=A.maskStyle,ae=A.maskProps,G=A.rootClassName,re=A.classNames,oe=A.styles,ce=(0,u.useRef)(),be=(0,u.useRef)(),xe=(0,u.useRef)(),ge=u.useState(N),he=(0,m.Z)(ge,2),Pe=he[0],Ae=he[1],Be=(0,i.Z)();function Le(){(0,c.Z)(be.current,document.activeElement)||(ce.current=document.activeElement)}function Me(){if(!(0,c.Z)(be.current,document.activeElement)){var pe;(pe=xe.current)===null||pe===void 0||pe.focus()}}function Te(pe){if(pe)Me();else{if(Ae(!1),ie&&ce.current&&I){try{ce.current.focus({preventScroll:!0})}catch(Re){}ce.current=null}Pe&&(k==null||k())}C==null||C(pe)}function we(pe){J==null||J(pe)}var Ue=(0,u.useRef)(!1),je=(0,u.useRef)(),De=function(){clearTimeout(je.current),Ue.current=!0},ye=function(){je.current=setTimeout(function(){Ue.current=!1})},_e=null;ue&&(_e=function(Re){Ue.current?Ue.current=!1:be.current===Re.target&&we(Re)});function q(pe){if(V&&pe.keyCode===a.Z.ESC){pe.stopPropagation(),we(pe);return}N&&pe.keyCode===a.Z.TAB&&xe.current.changeActive(!pe.shiftKey)}return(0,u.useEffect)(function(){N&&(Ae(!0),Le())},[N]),(0,u.useEffect)(function(){return function(){clearTimeout(je.current)}},[]),u.createElement("div",(0,v.Z)({className:t()("".concat(b,"-root"),G)},(0,f.Z)(A,{data:!0})),u.createElement(S,{prefixCls:b,visible:ie&&N,motionName:l(b,ee,fe),style:(0,d.Z)((0,d.Z)({zIndex:R},Se),oe==null?void 0:oe.mask),maskProps:ae,className:re==null?void 0:re.mask}),u.createElement("div",(0,v.Z)({tabIndex:-1,onKeyDown:q,className:t()("".concat(b,"-wrap"),W,re==null?void 0:re.wrapper),ref:be,onClick:_e,style:(0,d.Z)((0,d.Z)((0,d.Z)({zIndex:R},F),oe==null?void 0:oe.wrapper),{},{display:Pe?null:"none"})},X),u.createElement(T,(0,v.Z)({},A,{onMouseDown:De,onMouseUp:ye,ref:xe,closable:le,ariaId:Be,prefixCls:b,visible:N&&Pe,onClose:we,onVisibleChanged:Te,motionName:l(b,Y,H)}))))}var K=function(M){var b=M.visible,R=M.getContainer,L=M.forceRender,N=M.destroyOnClose,B=N===void 0?!1:N,V=M.afterClose,U=M.panelRef,I=u.useState(b),F=(0,m.Z)(I,2),W=F[0],X=F[1],J=u.useMemo(function(){return{panel:U}},[U]);return u.useEffect(function(){b&&X(!0)},[b]),!L&&B&&!W?null:u.createElement(p.Provider,{value:J},u.createElement(x.Z,{open:b||L||W,autoDestroy:!1,getContainer:R,autoLock:b||W},u.createElement(Z,(0,v.Z)({},M,{destroyOnClose:B,afterClose:function(){V==null||V(),X(!1)}}))))};K.displayName="Dialog";var z=K,w=z},50010:function(se,j,e){"use strict";e.d(j,{Z:function(){return z}});var v=e(1413),m=e(97685),x=e(2788),u=e(8410),p=e(67294),d=p.createContext(null),h=p.createContext({}),t=d,c=e(4942),i=e(87462),a=e(94184),f=e.n(a),l=e(82225),n=e(15105),r=e(64217),o=e(56790),g=function(A){var M=A.prefixCls,b=A.className,R=A.style,L=A.children,N=A.containerRef,B=A.id,V=A.onMouseEnter,U=A.onMouseOver,I=A.onMouseLeave,F=A.onClick,W=A.onKeyDown,X=A.onKeyUp,J={onMouseEnter:V,onMouseOver:U,onMouseLeave:I,onClick:F,onKeyDown:W,onKeyUp:X},C=p.useContext(h),k=C.panel,Y=(0,o.x1)(k,N);return p.createElement(p.Fragment,null,p.createElement("div",(0,i.Z)({id:B,className:f()("".concat(M,"-content"),b),style:(0,v.Z)({},R),"aria-modal":"true",role:"dialog",ref:Y},J),L))},y=g,D=e(80334);function P(w){return typeof w=="string"&&String(Number(w))===w?((0,D.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(w)):w}function E(w){warning(!("wrapperClassName"in w),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!w.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var O={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function T(w,A){var M,b,R,L,N=w.prefixCls,B=w.open,V=w.placement,U=w.inline,I=w.push,F=w.forceRender,W=w.autoFocus,X=w.keyboard,J=w.classNames,C=w.rootClassName,k=w.rootStyle,Y=w.zIndex,H=w.className,te=w.id,le=w.style,ne=w.motion,ie=w.width,ee=w.height,fe=w.children,de=w.contentWrapperStyle,ue=w.mask,Se=w.maskClosable,ae=w.maskMotion,G=w.maskClassName,re=w.maskStyle,oe=w.afterOpenChange,ce=w.onClose,be=w.onMouseEnter,xe=w.onMouseOver,ge=w.onMouseLeave,he=w.onClick,Pe=w.onKeyDown,Ae=w.onKeyUp,Be=w.styles,Le=p.useRef(),Me=p.useRef(),Te=p.useRef();p.useImperativeHandle(A,function(){return Le.current});var we=function(ft){var vt=ft.keyCode,_t=ft.shiftKey;switch(vt){case n.Z.TAB:{if(vt===n.Z.TAB){if(!_t&&document.activeElement===Te.current){var Nt;(Nt=Me.current)===null||Nt===void 0||Nt.focus({preventScroll:!0})}else if(_t&&document.activeElement===Me.current){var Kt;(Kt=Te.current)===null||Kt===void 0||Kt.focus({preventScroll:!0})}}break}case n.Z.ESC:{ce&&X&&(ft.stopPropagation(),ce(ft));break}}};p.useEffect(function(){if(B&&W){var ke;(ke=Le.current)===null||ke===void 0||ke.focus({preventScroll:!0})}},[B]);var Ue=p.useState(!1),je=(0,m.Z)(Ue,2),De=je[0],ye=je[1],_e=p.useContext(t),q;I===!1?q={distance:0}:I===!0?q={}:q=I||{};var pe=(M=(b=(R=q)===null||R===void 0?void 0:R.distance)!==null&&b!==void 0?b:_e==null?void 0:_e.pushDistance)!==null&&M!==void 0?M:180,Re=p.useMemo(function(){return{pushDistance:pe,push:function(){ye(!0)},pull:function(){ye(!1)}}},[pe]);p.useEffect(function(){if(B){var ke;_e==null||(ke=_e.push)===null||ke===void 0||ke.call(_e)}else{var ft;_e==null||(ft=_e.pull)===null||ft===void 0||ft.call(_e)}},[B]),p.useEffect(function(){return function(){var ke;_e==null||(ke=_e.pull)===null||ke===void 0||ke.call(_e)}},[]);var Oe=ue&&p.createElement(l.ZP,(0,i.Z)({key:"mask"},ae,{visible:B}),function(ke,ft){var vt=ke.className,_t=ke.style;return p.createElement("div",{className:f()("".concat(N,"-mask"),vt,J==null?void 0:J.mask,G),style:(0,v.Z)((0,v.Z)((0,v.Z)({},_t),re),Be==null?void 0:Be.mask),onClick:Se&&B?ce:void 0,ref:ft})}),$e=typeof ne=="function"?ne(V):ne,Ve={};if(De&&pe)switch(V){case"top":Ve.transform="translateY(".concat(pe,"px)");break;case"bottom":Ve.transform="translateY(".concat(-pe,"px)");break;case"left":Ve.transform="translateX(".concat(pe,"px)");break;default:Ve.transform="translateX(".concat(-pe,"px)");break}V==="left"||V==="right"?Ve.width=P(ie):Ve.height=P(ee);var Ze={onMouseEnter:be,onMouseOver:xe,onMouseLeave:ge,onClick:he,onKeyDown:Pe,onKeyUp:Ae},qe=p.createElement(l.ZP,(0,i.Z)({key:"panel"},$e,{visible:B,forceRender:F,onVisibleChanged:function(ft){oe==null||oe(ft)},removeOnLeave:!1,leavedClassName:"".concat(N,"-content-wrapper-hidden")}),function(ke,ft){var vt=ke.className,_t=ke.style;return p.createElement("div",(0,i.Z)({className:f()("".concat(N,"-content-wrapper"),J==null?void 0:J.wrapper,vt),style:(0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)({},Ve),_t),de),Be==null?void 0:Be.wrapper)},(0,r.Z)(w,{data:!0})),p.createElement(y,(0,i.Z)({id:te,containerRef:ft,prefixCls:N,className:f()(H,J==null?void 0:J.content),style:(0,v.Z)((0,v.Z)({},le),Be==null?void 0:Be.content)},Ze),fe))}),Qe=(0,v.Z)({},k);return Y&&(Qe.zIndex=Y),p.createElement(t.Provider,{value:Re},p.createElement("div",{className:f()(N,"".concat(N,"-").concat(V),C,(L={},(0,c.Z)(L,"".concat(N,"-open"),B),(0,c.Z)(L,"".concat(N,"-inline"),U),L)),style:Qe,tabIndex:-1,ref:Le,onKeyDown:we},Oe,p.createElement("div",{tabIndex:0,ref:Me,style:O,"aria-hidden":"true","data-sentinel":"start"}),qe,p.createElement("div",{tabIndex:0,ref:Te,style:O,"aria-hidden":"true","data-sentinel":"end"})))}var S=p.forwardRef(T),$=S,Z=function(A){var M=A.open,b=M===void 0?!1:M,R=A.prefixCls,L=R===void 0?"rc-drawer":R,N=A.placement,B=N===void 0?"right":N,V=A.autoFocus,U=V===void 0?!0:V,I=A.keyboard,F=I===void 0?!0:I,W=A.width,X=W===void 0?378:W,J=A.mask,C=J===void 0?!0:J,k=A.maskClosable,Y=k===void 0?!0:k,H=A.getContainer,te=A.forceRender,le=A.afterOpenChange,ne=A.destroyOnClose,ie=A.onMouseEnter,ee=A.onMouseOver,fe=A.onMouseLeave,de=A.onClick,ue=A.onKeyDown,Se=A.onKeyUp,ae=A.panelRef,G=p.useState(!1),re=(0,m.Z)(G,2),oe=re[0],ce=re[1],be=p.useState(!1),xe=(0,m.Z)(be,2),ge=xe[0],he=xe[1];(0,u.Z)(function(){he(!0)},[]);var Pe=ge?b:!1,Ae=p.useRef(),Be=p.useRef();(0,u.Z)(function(){Pe&&(Be.current=document.activeElement)},[Pe]);var Le=function(je){var De;if(ce(je),le==null||le(je),!je&&Be.current&&!((De=Ae.current)!==null&&De!==void 0&&De.contains(Be.current))){var ye;(ye=Be.current)===null||ye===void 0||ye.focus({preventScroll:!0})}},Me=p.useMemo(function(){return{panel:ae}},[ae]);if(!te&&!oe&&!Pe&&ne)return null;var Te={onMouseEnter:ie,onMouseOver:ee,onMouseLeave:fe,onClick:de,onKeyDown:ue,onKeyUp:Se},we=(0,v.Z)((0,v.Z)({},A),{},{open:Pe,prefixCls:L,placement:B,autoFocus:U,keyboard:F,width:X,mask:C,maskClosable:Y,inline:H===!1,afterOpenChange:Le,ref:Ae},Te);return p.createElement(h.Provider,{value:Me},p.createElement(x.Z,{open:Pe||te||oe,autoDestroy:!1,getContainer:H,autoLock:C&&(Pe||oe)},p.createElement($,we)))},K=Z,z=K},29171:function(se,j,e){"use strict";e.d(j,{Z:function(){return S}});var v=e(87462),m=e(4942),x=e(97685),u=e(91),p=e(40228),d=e(94184),h=e.n(d),t=e(42550),c=e(67294),i=e(15105),a=e(75164),f=i.Z.ESC,l=i.Z.TAB;function n($){var Z=$.visible,K=$.triggerRef,z=$.onVisibleChange,w=$.autoFocus,A=$.overlayRef,M=c.useRef(!1),b=function(){if(Z){var B,V;(B=K.current)===null||B===void 0||(V=B.focus)===null||V===void 0||V.call(B),z==null||z(!1)}},R=function(){var B;return(B=A.current)!==null&&B!==void 0&&B.focus?(A.current.focus(),M.current=!0,!0):!1},L=function(B){switch(B.keyCode){case f:b();break;case l:{var V=!1;M.current||(V=R()),V?B.preventDefault():b();break}}};c.useEffect(function(){return Z?(window.addEventListener("keydown",L),w&&(0,a.Z)(R,3),function(){window.removeEventListener("keydown",L),M.current=!1}):function(){M.current=!1}},[Z])}var r=(0,c.forwardRef)(function($,Z){var K=$.overlay,z=$.arrow,w=$.prefixCls,A=(0,c.useMemo)(function(){var b;return typeof K=="function"?b=K():b=K,b},[K]),M=(0,t.sQ)(Z,A==null?void 0:A.ref);return c.createElement(c.Fragment,null,z&&c.createElement("div",{className:"".concat(w,"-arrow")}),c.cloneElement(A,{ref:(0,t.Yr)(A)?M:void 0}))}),o=r,g={adjustX:1,adjustY:1},y=[0,0],D={topLeft:{points:["bl","tl"],overflow:g,offset:[0,-4],targetOffset:y},top:{points:["bc","tc"],overflow:g,offset:[0,-4],targetOffset:y},topRight:{points:["br","tr"],overflow:g,offset:[0,-4],targetOffset:y},bottomLeft:{points:["tl","bl"],overflow:g,offset:[0,4],targetOffset:y},bottom:{points:["tc","bc"],overflow:g,offset:[0,4],targetOffset:y},bottomRight:{points:["tr","br"],overflow:g,offset:[0,4],targetOffset:y}},P=D,E=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function O($,Z){var K,z=$.arrow,w=z===void 0?!1:z,A=$.prefixCls,M=A===void 0?"rc-dropdown":A,b=$.transitionName,R=$.animation,L=$.align,N=$.placement,B=N===void 0?"bottomLeft":N,V=$.placements,U=V===void 0?P:V,I=$.getPopupContainer,F=$.showAction,W=$.hideAction,X=$.overlayClassName,J=$.overlayStyle,C=$.visible,k=$.trigger,Y=k===void 0?["hover"]:k,H=$.autoFocus,te=$.overlay,le=$.children,ne=$.onVisibleChange,ie=(0,u.Z)($,E),ee=c.useState(),fe=(0,x.Z)(ee,2),de=fe[0],ue=fe[1],Se="visible"in $?C:de,ae=c.useRef(null),G=c.useRef(null),re=c.useRef(null);c.useImperativeHandle(Z,function(){return ae.current});var oe=function(Le){ue(Le),ne==null||ne(Le)};n({visible:Se,triggerRef:re,onVisibleChange:oe,autoFocus:H,overlayRef:G});var ce=function(Le){var Me=$.onOverlayClick;ue(!1),Me&&Me(Le)},be=function(){return c.createElement(o,{ref:G,overlay:te,prefixCls:M,arrow:w})},xe=function(){return typeof te=="function"?be:be()},ge=function(){var Le=$.minOverlayWidthMatchTrigger,Me=$.alignPoint;return"minOverlayWidthMatchTrigger"in $?Le:!Me},he=function(){var Le=$.openClassName;return Le!==void 0?Le:"".concat(M,"-open")},Pe=c.cloneElement(le,{className:h()((K=le.props)===null||K===void 0?void 0:K.className,Se&&he()),ref:(0,t.Yr)(le)?(0,t.sQ)(re,le.ref):void 0}),Ae=W;return!Ae&&Y.indexOf("contextMenu")!==-1&&(Ae=["click"]),c.createElement(p.Z,(0,v.Z)({builtinPlacements:U},ie,{prefixCls:M,ref:ae,popupClassName:h()(X,(0,m.Z)({},"".concat(M,"-show-arrow"),w)),popupStyle:J,action:Y,showAction:F,hideAction:Ae,popupPlacement:B,popupAlign:L,popupTransitionName:b,popupAnimation:R,popupVisible:Se,stretch:ge()?"minWidth":"",popup:xe(),onPopupVisibleChange:oe,onPopupClick:ce,getPopupContainer:I}),Pe)}var T=c.forwardRef(O),S=T},86560:function(se,j,e){"use strict";e.d(j,{Z:function(){return fe}});var v=e(87462),m=e(1413),x=e(4942),u=e(97685),p=e(71002),d=e(91),h=e(94184),t=e.n(h),c=e(27678),i=e(21770),a=e(67294),f=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],l=a.createContext(null),n=0;function r(de,ue){var Se=a.useState(function(){return n+=1,String(n)}),ae=(0,u.Z)(Se,1),G=ae[0],re=a.useContext(l),oe={data:ue,canPreview:de};return a.useEffect(function(){if(re)return re.register(G,oe)},[]),a.useEffect(function(){re&&re.register(G,oe)},[de,ue]),G}function o(de){return new Promise(function(ue){var Se=document.createElement("img");Se.onerror=function(){return ue(!1)},Se.onload=function(){return ue(!0)},Se.src=de})}function g(de){var ue=de.src,Se=de.isCustomPlaceholder,ae=de.fallback,G=(0,a.useState)(Se?"loading":"normal"),re=(0,u.Z)(G,2),oe=re[0],ce=re[1],be=(0,a.useRef)(!1),xe=oe==="error";(0,a.useEffect)(function(){var Ae=!0;return o(ue).then(function(Be){!Be&&Ae&&ce("error")}),function(){Ae=!1}},[ue]),(0,a.useEffect)(function(){Se&&!be.current?ce("loading"):xe&&ce("normal")},[ue]);var ge=function(){ce("normal")},he=function(Be){be.current=!1,oe==="loading"&&Be!==null&&Be!==void 0&&Be.complete&&(Be.naturalWidth||Be.naturalHeight)&&(be.current=!0,ge())},Pe=xe&&ae?{src:ae}:{onLoad:ge,src:ue};return[he,Pe,oe]}var y=e(40974),D=e(64019),P=e(15105),E=e(91881),O=e(75164),T={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function S(de,ue,Se,ae){var G=(0,a.useRef)(null),re=(0,a.useRef)([]),oe=(0,a.useState)(T),ce=(0,u.Z)(oe,2),be=ce[0],xe=ce[1],ge=function(Be){xe(T),ae&&!(0,E.Z)(T,be)&&ae({transform:T,action:Be})},he=function(Be,Le){G.current===null&&(re.current=[],G.current=(0,O.Z)(function(){xe(function(Me){var Te=Me;return re.current.forEach(function(we){Te=(0,m.Z)((0,m.Z)({},Te),we)}),G.current=null,ae==null||ae({transform:Te,action:Le}),Te})})),re.current.push((0,m.Z)((0,m.Z)({},be),Be))},Pe=function(Be,Le,Me,Te,we){var Ue=de.current,je=Ue.width,De=Ue.height,ye=Ue.offsetWidth,_e=Ue.offsetHeight,q=Ue.offsetLeft,pe=Ue.offsetTop,Re=Be,Oe=be.scale*Be;Oe>Se?(Oe=Se,Re=Se/be.scale):Oe<ue&&(Oe=we?Oe:ue,Re=Oe/be.scale);var $e=Me!=null?Me:innerWidth/2,Ve=Te!=null?Te:innerHeight/2,Ze=Re-1,qe=Ze*je*.5,Qe=Ze*De*.5,ke=Ze*($e-be.x-q),ft=Ze*(Ve-be.y-pe),vt=be.x-(ke-qe),_t=be.y-(ft-Qe);if(Be<1&&Oe===1){var Nt=ye*Oe,Kt=_e*Oe,ut=(0,c.g1)(),Rt=ut.width,Dt=ut.height;Nt<=Rt&&Kt<=Dt&&(vt=0,_t=0)}he({x:vt,y:_t,scale:Oe},Le)};return{transform:be,resetTransform:ge,updateTransform:he,dispatchZoomChange:Pe}}var $=e(80334);function Z(de,ue,Se,ae){var G=ue+Se,re=(Se-ae)/2;if(Se>ae){if(ue>0)return(0,x.Z)({},de,re);if(ue<0&&G<ae)return(0,x.Z)({},de,-re)}else if(ue<0||G>ae)return(0,x.Z)({},de,ue<0?re:-re);return{}}function K(de,ue,Se,ae){var G=(0,c.g1)(),re=G.width,oe=G.height,ce=null;return de<=re&&ue<=oe?ce={x:0,y:0}:(de>re||ue>oe)&&(ce=(0,m.Z)((0,m.Z)({},Z("x",Se,de,re)),Z("y",ae,ue,oe))),ce}var z=1,w=1;function A(de,ue,Se,ae,G,re,oe){var ce=G.rotate,be=G.scale,xe=G.x,ge=G.y,he=(0,a.useState)(!1),Pe=(0,u.Z)(he,2),Ae=Pe[0],Be=Pe[1],Le=(0,a.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),Me=function(De){!ue||De.button!==0||(De.preventDefault(),De.stopPropagation(),Le.current={diffX:De.pageX-xe,diffY:De.pageY-ge,transformX:xe,transformY:ge},Be(!0))},Te=function(De){Se&&Ae&&re({x:De.pageX-Le.current.diffX,y:De.pageY-Le.current.diffY},"move")},we=function(){if(Se&&Ae){Be(!1);var De=Le.current,ye=De.transformX,_e=De.transformY,q=xe!==ye&&ge!==_e;if(!q)return;var pe=de.current.offsetWidth*be,Re=de.current.offsetHeight*be,Oe=de.current.getBoundingClientRect(),$e=Oe.left,Ve=Oe.top,Ze=ce%180!==0,qe=K(Ze?Re:pe,Ze?pe:Re,$e,Ve);qe&&re((0,m.Z)({},qe),"dragRebound")}},Ue=function(De){if(!(!Se||De.deltaY==0)){var ye=Math.abs(De.deltaY/100),_e=Math.min(ye,w),q=z+_e*ae;De.deltaY>0&&(q=z/q),oe(q,"wheel",De.clientX,De.clientY)}};return(0,a.useEffect)(function(){var je,De,ye,_e;if(ue){ye=(0,D.Z)(window,"mouseup",we,!1),_e=(0,D.Z)(window,"mousemove",Te,!1);try{window.top!==window.self&&(je=(0,D.Z)(window.top,"mouseup",we,!1),De=(0,D.Z)(window.top,"mousemove",Te,!1))}catch(q){(0,$.Kp)(!1,"[rc-image] ".concat(q))}}return function(){var q,pe,Re,Oe;(q=ye)===null||q===void 0||q.remove(),(pe=_e)===null||pe===void 0||pe.remove(),(Re=je)===null||Re===void 0||Re.remove(),(Oe=De)===null||Oe===void 0||Oe.remove()}},[Se,Ae,xe,ge,ce,ue]),{isMoving:Ae,onMouseDown:Me,onMouseMove:Te,onMouseUp:we,onWheel:Ue}}function M(de,ue){var Se=de.x-ue.x,ae=de.y-ue.y;return Math.hypot(Se,ae)}function b(de,ue,Se,ae){var G=M(de,Se),re=M(ue,ae);if(G===0&&re===0)return[de.x,de.y];var oe=G/(G+re),ce=de.x+oe*(ue.x-de.x),be=de.y+oe*(ue.y-de.y);return[ce,be]}function R(de,ue,Se,ae,G,re,oe){var ce=G.rotate,be=G.scale,xe=G.x,ge=G.y,he=(0,a.useState)(!1),Pe=(0,u.Z)(he,2),Ae=Pe[0],Be=Pe[1],Le=(0,a.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),Me=function(De){Le.current=(0,m.Z)((0,m.Z)({},Le.current),De)},Te=function(De){if(ue){De.stopPropagation(),Be(!0);var ye=De.touches,_e=ye===void 0?[]:ye;_e.length>1?Me({point1:{x:_e[0].clientX,y:_e[0].clientY},point2:{x:_e[1].clientX,y:_e[1].clientY},eventType:"touchZoom"}):Me({point1:{x:_e[0].clientX-xe,y:_e[0].clientY-ge},eventType:"move"})}},we=function(De){var ye=De.touches,_e=ye===void 0?[]:ye,q=Le.current,pe=q.point1,Re=q.point2,Oe=q.eventType;if(_e.length>1&&Oe==="touchZoom"){var $e={x:_e[0].clientX,y:_e[0].clientY},Ve={x:_e[1].clientX,y:_e[1].clientY},Ze=b(pe,Re,$e,Ve),qe=(0,u.Z)(Ze,2),Qe=qe[0],ke=qe[1],ft=M($e,Ve)/M(pe,Re);oe(ft,"touchZoom",Qe,ke,!0),Me({point1:$e,point2:Ve,eventType:"touchZoom"})}else Oe==="move"&&(re({x:_e[0].clientX-pe.x,y:_e[0].clientY-pe.y},"move"),Me({eventType:"move"}))},Ue=function(){if(Se){if(Ae&&Be(!1),Me({eventType:"none"}),ae>be)return re({x:0,y:0,scale:ae},"touchZoom");var De=de.current.offsetWidth*be,ye=de.current.offsetHeight*be,_e=de.current.getBoundingClientRect(),q=_e.left,pe=_e.top,Re=ce%180!==0,Oe=K(Re?ye:De,Re?De:ye,q,pe);Oe&&re((0,m.Z)({},Oe),"dragRebound")}};return(0,a.useEffect)(function(){var je;return Se&&ue&&(je=(0,D.Z)(window,"touchmove",function(De){return De.preventDefault()},{passive:!1})),function(){var De;(De=je)===null||De===void 0||De.remove()}},[Se,ue]),{isTouching:Ae,onTouchStart:Te,onTouchMove:we,onTouchEnd:Ue}}var L=e(2788),N=e(82225),B=function(ue){var Se=ue.visible,ae=ue.maskTransitionName,G=ue.getContainer,re=ue.prefixCls,oe=ue.rootClassName,ce=ue.icons,be=ue.countRender,xe=ue.showSwitch,ge=ue.showProgress,he=ue.current,Pe=ue.transform,Ae=ue.count,Be=ue.scale,Le=ue.minScale,Me=ue.maxScale,Te=ue.closeIcon,we=ue.onSwitchLeft,Ue=ue.onSwitchRight,je=ue.onClose,De=ue.onZoomIn,ye=ue.onZoomOut,_e=ue.onRotateRight,q=ue.onRotateLeft,pe=ue.onFlipX,Re=ue.onFlipY,Oe=ue.toolbarRender,$e=ue.zIndex,Ve=(0,a.useContext)(l),Ze=ce.rotateLeft,qe=ce.rotateRight,Qe=ce.zoomIn,ke=ce.zoomOut,ft=ce.close,vt=ce.left,_t=ce.right,Nt=ce.flipX,Kt=ce.flipY,ut="".concat(re,"-operations-operation");a.useEffect(function(){var Bt=function(ct){ct.keyCode===P.Z.ESC&&je()};return Se&&window.addEventListener("keydown",Bt),function(){window.removeEventListener("keydown",Bt)}},[Se]);var Rt=[{icon:Kt,onClick:Re,type:"flipY"},{icon:Nt,onClick:pe,type:"flipX"},{icon:Ze,onClick:q,type:"rotateLeft"},{icon:qe,onClick:_e,type:"rotateRight"},{icon:ke,onClick:ye,type:"zoomOut",disabled:Be<=Le},{icon:Qe,onClick:De,type:"zoomIn",disabled:Be===Me}],Dt=Rt.map(function(Bt){var He,ct=Bt.icon,St=Bt.onClick,Tt=Bt.type,Mt=Bt.disabled;return a.createElement("div",{className:t()(ut,(He={},(0,x.Z)(He,"".concat(re,"-operations-operation-").concat(Tt),!0),(0,x.Z)(He,"".concat(re,"-operations-operation-disabled"),!!Mt),He)),onClick:St,key:Tt},ct)}),dt=a.createElement("div",{className:"".concat(re,"-operations")},Dt);return a.createElement(N.ZP,{visible:Se,motionName:ae},function(Bt){var He=Bt.className,ct=Bt.style;return a.createElement(L.Z,{open:!0,getContainer:G!=null?G:document.body},a.createElement("div",{className:t()("".concat(re,"-operations-wrapper"),He,oe),style:(0,m.Z)((0,m.Z)({},ct),{},{zIndex:$e})},Te===null?null:a.createElement("button",{className:"".concat(re,"-close"),onClick:je},Te||ft),xe&&a.createElement(a.Fragment,null,a.createElement("div",{className:t()("".concat(re,"-switch-left"),(0,x.Z)({},"".concat(re,"-switch-left-disabled"),he===0)),onClick:we},vt),a.createElement("div",{className:t()("".concat(re,"-switch-right"),(0,x.Z)({},"".concat(re,"-switch-right-disabled"),he===Ae-1)),onClick:Ue},_t)),a.createElement("div",{className:"".concat(re,"-footer")},ge&&a.createElement("div",{className:"".concat(re,"-progress")},be?be(he+1,Ae):"".concat(he+1," / ").concat(Ae)),Oe?Oe(dt,(0,m.Z)({icons:{flipYIcon:Dt[0],flipXIcon:Dt[1],rotateLeftIcon:Dt[2],rotateRightIcon:Dt[3],zoomOutIcon:Dt[4],zoomInIcon:Dt[5]},actions:{onFlipY:Re,onFlipX:pe,onRotateLeft:q,onRotateRight:_e,onZoomOut:ye,onZoomIn:De},transform:Pe},Ve?{current:he,total:Ae}:{})):dt)))})},V=B,U=["fallback","src","imgRef"],I=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],F=function(ue){var Se=ue.fallback,ae=ue.src,G=ue.imgRef,re=(0,d.Z)(ue,U),oe=g({src:ae,fallback:Se}),ce=(0,u.Z)(oe,2),be=ce[0],xe=ce[1];return a.createElement("img",(0,v.Z)({ref:function(he){G.current=he,be(he)}},re,xe))},W=function(ue){var Se=ue.prefixCls,ae=ue.src,G=ue.alt,re=ue.fallback,oe=ue.movable,ce=oe===void 0?!0:oe,be=ue.onClose,xe=ue.visible,ge=ue.icons,he=ge===void 0?{}:ge,Pe=ue.rootClassName,Ae=ue.closeIcon,Be=ue.getContainer,Le=ue.current,Me=Le===void 0?0:Le,Te=ue.count,we=Te===void 0?1:Te,Ue=ue.countRender,je=ue.scaleStep,De=je===void 0?.5:je,ye=ue.minScale,_e=ye===void 0?1:ye,q=ue.maxScale,pe=q===void 0?50:q,Re=ue.transitionName,Oe=Re===void 0?"zoom":Re,$e=ue.maskTransitionName,Ve=$e===void 0?"fade":$e,Ze=ue.imageRender,qe=ue.imgCommonProps,Qe=ue.toolbarRender,ke=ue.onTransform,ft=ue.onChange,vt=(0,d.Z)(ue,I),_t=(0,a.useRef)(),Nt=(0,a.useContext)(l),Kt=Nt&&we>1,ut=Nt&&we>=1,Rt=(0,a.useState)(!0),Dt=(0,u.Z)(Rt,2),dt=Dt[0],Bt=Dt[1],He=S(_t,_e,pe,ke),ct=He.transform,St=He.resetTransform,Tt=He.updateTransform,Mt=He.dispatchZoomChange,Zt=A(_t,ce,xe,De,ct,Tt,Mt),Je=Zt.isMoving,et=Zt.onMouseDown,rt=Zt.onWheel,yt=R(_t,ce,xe,_e,ct,Tt,Mt),xt=yt.isTouching,Ct=yt.onTouchStart,mt=yt.onTouchMove,at=yt.onTouchEnd,ht=ct.rotate,ot=ct.scale,kt=t()((0,x.Z)({},"".concat(Se,"-moving"),Je));(0,a.useEffect)(function(){dt||Bt(!0)},[dt]);var nn=function(){St("close")},Lt=function(){Mt(z+De,"zoomIn")},hn=function(){Mt(z/(z+De),"zoomOut")},Dn=function(){Tt({rotate:ht+90},"rotateRight")},Gt=function(){Tt({rotate:ht-90},"rotateLeft")},mn=function(){Tt({flipX:!ct.flipX},"flipX")},qt=function(){Tt({flipY:!ct.flipY},"flipY")},$t=function(jt){jt==null||jt.preventDefault(),jt==null||jt.stopPropagation(),Me>0&&(Bt(!1),St("prev"),ft==null||ft(Me-1,Me))},Pn=function(jt){jt==null||jt.preventDefault(),jt==null||jt.stopPropagation(),Me<we-1&&(Bt(!1),St("next"),ft==null||ft(Me+1,Me))},vn=function(jt){!xe||!Kt||(jt.keyCode===P.Z.LEFT?$t():jt.keyCode===P.Z.RIGHT&&Pn())},sn=function(jt){xe&&(ot!==1?Tt({x:0,y:0,scale:1},"doubleClick"):Mt(z+De,"doubleClick",jt.clientX,jt.clientY))};(0,a.useEffect)(function(){var un=(0,D.Z)(window,"keydown",vn,!1);return function(){un.remove()}},[xe,Kt,Me]);var Rn=a.createElement(F,(0,v.Z)({},qe,{width:ue.width,height:ue.height,imgRef:_t,className:"".concat(Se,"-img"),alt:G,style:{transform:"translate3d(".concat(ct.x,"px, ").concat(ct.y,"px, 0) scale3d(").concat(ct.flipX?"-":"").concat(ot,", ").concat(ct.flipY?"-":"").concat(ot,", 1) rotate(").concat(ht,"deg)"),transitionDuration:(!dt||xt)&&"0s"},fallback:re,src:ae,onWheel:rt,onMouseDown:et,onDoubleClick:sn,onTouchStart:Ct,onTouchMove:mt,onTouchEnd:at,onTouchCancel:at}));return a.createElement(a.Fragment,null,a.createElement(y.Z,(0,v.Z)({transitionName:Oe,maskTransitionName:Ve,closable:!1,keyboard:!0,prefixCls:Se,onClose:be,visible:xe,classNames:{wrapper:kt},rootClassName:Pe,getContainer:Be},vt,{afterClose:nn}),a.createElement("div",{className:"".concat(Se,"-img-wrapper")},Ze?Ze(Rn,(0,m.Z)({transform:ct},Nt?{current:Me}:{})):Rn)),a.createElement(V,{visible:xe,transform:ct,maskTransitionName:Ve,closeIcon:Ae,getContainer:Be,prefixCls:Se,rootClassName:Pe,icons:he,countRender:Ue,showSwitch:Kt,showProgress:ut,current:Me,count:we,scale:ot,minScale:_e,maxScale:pe,toolbarRender:Qe,onSwitchLeft:$t,onSwitchRight:Pn,onZoomIn:Lt,onZoomOut:hn,onRotateRight:Dn,onRotateLeft:Gt,onFlipX:mn,onFlipY:qt,onClose:be,zIndex:vt.zIndex!==void 0?vt.zIndex+1:void 0}))},X=W,J=e(74902);function C(de){var ue=a.useState({}),Se=(0,u.Z)(ue,2),ae=Se[0],G=Se[1],re=a.useCallback(function(ce,be){return G(function(xe){return(0,m.Z)((0,m.Z)({},xe),{},(0,x.Z)({},ce,be))}),function(){G(function(xe){var ge=(0,m.Z)({},xe);return delete ge[ce],ge})}},[]),oe=a.useMemo(function(){return de?de.map(function(ce){if(typeof ce=="string")return{data:{src:ce}};var be={};return Object.keys(ce).forEach(function(xe){["src"].concat((0,J.Z)(f)).includes(xe)&&(be[xe]=ce[xe])}),{data:be}}):Object.keys(ae).reduce(function(ce,be){var xe=ae[be],ge=xe.canPreview,he=xe.data;return ge&&ce.push({data:he,id:be}),ce},[])},[de,ae]);return[oe,re]}var k=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Y=["src"],H=function(ue){var Se,ae=ue.previewPrefixCls,G=ae===void 0?"rc-image-preview":ae,re=ue.children,oe=ue.icons,ce=oe===void 0?{}:oe,be=ue.items,xe=ue.preview,ge=ue.fallback,he=(0,p.Z)(xe)==="object"?xe:{},Pe=he.visible,Ae=he.onVisibleChange,Be=he.getContainer,Le=he.current,Me=he.movable,Te=he.minScale,we=he.maxScale,Ue=he.countRender,je=he.closeIcon,De=he.onChange,ye=he.onTransform,_e=he.toolbarRender,q=he.imageRender,pe=(0,d.Z)(he,k),Re=C(be),Oe=(0,u.Z)(Re,2),$e=Oe[0],Ve=Oe[1],Ze=(0,i.Z)(0,{value:Le}),qe=(0,u.Z)(Ze,2),Qe=qe[0],ke=qe[1],ft=(0,a.useState)(!1),vt=(0,u.Z)(ft,2),_t=vt[0],Nt=vt[1],Kt=((Se=$e[Qe])===null||Se===void 0?void 0:Se.data)||{},ut=Kt.src,Rt=(0,d.Z)(Kt,Y),Dt=(0,i.Z)(!!Pe,{value:Pe,onChange:function(xt,Ct){Ae==null||Ae(xt,Ct,Qe)}}),dt=(0,u.Z)(Dt,2),Bt=dt[0],He=dt[1],ct=(0,a.useState)(null),St=(0,u.Z)(ct,2),Tt=St[0],Mt=St[1],Zt=a.useCallback(function(yt,xt,Ct){var mt=$e.findIndex(function(at){return at.id===yt});He(!0),Mt({x:xt,y:Ct}),ke(mt<0?0:mt),Nt(!0)},[$e]);a.useEffect(function(){Bt?_t||ke(0):Nt(!1)},[Bt]);var Je=function(xt,Ct){ke(xt),De==null||De(xt,Ct)},et=function(){He(!1),Mt(null)},rt=a.useMemo(function(){return{register:Ve,onPreview:Zt}},[Ve,Zt]);return a.createElement(l.Provider,{value:rt},re,a.createElement(X,(0,v.Z)({"aria-hidden":!Bt,movable:Me,visible:Bt,prefixCls:G,closeIcon:je,onClose:et,mousePosition:Tt,imgCommonProps:Rt,src:ut,fallback:ge,icons:ce,minScale:Te,maxScale:we,getContainer:Be,current:Qe,count:$e.length,countRender:Ue,onTransform:ye,toolbarRender:_e,imageRender:q,onChange:Je},pe)))},te=H,le=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],ne=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],ie=function(ue){var Se=ue.src,ae=ue.alt,G=ue.onPreviewClose,re=ue.prefixCls,oe=re===void 0?"rc-image":re,ce=ue.previewPrefixCls,be=ce===void 0?"".concat(oe,"-preview"):ce,xe=ue.placeholder,ge=ue.fallback,he=ue.width,Pe=ue.height,Ae=ue.style,Be=ue.preview,Le=Be===void 0?!0:Be,Me=ue.className,Te=ue.onClick,we=ue.onError,Ue=ue.wrapperClassName,je=ue.wrapperStyle,De=ue.rootClassName,ye=(0,d.Z)(ue,le),_e=xe&&xe!==!0,q=(0,p.Z)(Le)==="object"?Le:{},pe=q.src,Re=q.visible,Oe=Re===void 0?void 0:Re,$e=q.onVisibleChange,Ve=$e===void 0?G:$e,Ze=q.getContainer,qe=Ze===void 0?void 0:Ze,Qe=q.mask,ke=q.maskClassName,ft=q.movable,vt=q.icons,_t=q.scaleStep,Nt=q.minScale,Kt=q.maxScale,ut=q.imageRender,Rt=q.toolbarRender,Dt=(0,d.Z)(q,ne),dt=pe!=null?pe:Se,Bt=(0,i.Z)(!!Oe,{value:Oe,onChange:Ve}),He=(0,u.Z)(Bt,2),ct=He[0],St=He[1],Tt=g({src:Se,isCustomPlaceholder:_e,fallback:ge}),Mt=(0,u.Z)(Tt,3),Zt=Mt[0],Je=Mt[1],et=Mt[2],rt=(0,a.useState)(null),yt=(0,u.Z)(rt,2),xt=yt[0],Ct=yt[1],mt=(0,a.useContext)(l),at=!!Le,ht=function(){St(!1),Ct(null)},ot=t()(oe,Ue,De,(0,x.Z)({},"".concat(oe,"-error"),et==="error")),kt=(0,a.useMemo)(function(){var Dn={};return f.forEach(function(Gt){ue[Gt]!==void 0&&(Dn[Gt]=ue[Gt])}),Dn},f.map(function(Dn){return ue[Dn]})),nn=(0,a.useMemo)(function(){return(0,m.Z)((0,m.Z)({},kt),{},{src:dt})},[dt,kt]),Lt=r(at,nn),hn=function(Gt){var mn=(0,c.os)(Gt.target),qt=mn.left,$t=mn.top;mt?mt.onPreview(Lt,qt,$t):(Ct({x:qt,y:$t}),St(!0)),Te==null||Te(Gt)};return a.createElement(a.Fragment,null,a.createElement("div",(0,v.Z)({},ye,{className:ot,onClick:at?hn:Te,style:(0,m.Z)({width:he,height:Pe},je)}),a.createElement("img",(0,v.Z)({},kt,{className:t()("".concat(oe,"-img"),(0,x.Z)({},"".concat(oe,"-img-placeholder"),xe===!0),Me),style:(0,m.Z)({height:Pe},Ae),ref:Zt},Je,{width:he,height:Pe,onError:we})),et==="loading"&&a.createElement("div",{"aria-hidden":"true",className:"".concat(oe,"-placeholder")},xe),Qe&&at&&a.createElement("div",{className:t()("".concat(oe,"-mask"),ke),style:{display:(Ae==null?void 0:Ae.display)==="none"?"none":void 0}},Qe)),!mt&&at&&a.createElement(X,(0,v.Z)({"aria-hidden":!ct,visible:ct,prefixCls:be,onClose:ht,mousePosition:xt,src:dt,alt:ae,fallback:ge,getContainer:qe,icons:vt,movable:ft,scaleStep:_t,minScale:Nt,maxScale:Kt,rootClassName:De,imageRender:ut,imgCommonProps:kt,toolbarRender:Rt},Dt)))};ie.PreviewGroup=te,ie.displayName="Image";var ee=ie,fe=ee},448:function(se,j,e){"use strict";e.d(j,{Z:function(){return b}});var v=e(87462),m=e(4942),x=e(71002),u=e(97685),p=e(91),d=e(98847),h=e(55252),t=e(8150),c=e(94184),i=e.n(c),a=e(67656),f=e(8410),l=e(42550),n=e(67294),r=e(80334);function o(R,L){var N=(0,n.useRef)(null);function B(){try{var U=R.selectionStart,I=R.selectionEnd,F=R.value,W=F.substring(0,U),X=F.substring(I);N.current={start:U,end:I,value:F,beforeTxt:W,afterTxt:X}}catch(J){}}function V(){if(R&&N.current&&L)try{var U=R.value,I=N.current,F=I.beforeTxt,W=I.afterTxt,X=I.start,J=U.length;if(U.endsWith(W))J=U.length-N.current.afterTxt.length;else if(U.startsWith(F))J=F.length;else{var C=F[X-1],k=U.indexOf(C,X-1);k!==-1&&(J=k+1)}R.setSelectionRange(J,J)}catch(Y){(0,r.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Y.message))}}return[B,V]}var g=e(38182),y=e(75164),D=200,P=600;function E(R){var L=R.prefixCls,N=R.upNode,B=R.downNode,V=R.upDisabled,U=R.downDisabled,I=R.onStep,F=n.useRef(),W=n.useRef([]),X=n.useRef();X.current=I;var J=function(){clearTimeout(F.current)},C=function(ee,fe){ee.preventDefault(),J(),X.current(fe);function de(){X.current(fe),F.current=setTimeout(de,D)}F.current=setTimeout(de,P)};n.useEffect(function(){return function(){J(),W.current.forEach(function(ie){return y.Z.cancel(ie)})}},[]);var k=(0,g.Z)();if(k)return null;var Y="".concat(L,"-handler"),H=i()(Y,"".concat(Y,"-up"),(0,m.Z)({},"".concat(Y,"-up-disabled"),V)),te=i()(Y,"".concat(Y,"-down"),(0,m.Z)({},"".concat(Y,"-down-disabled"),U)),le=function(){return W.current.push((0,y.Z)(J))},ne={unselectable:"on",role:"button",onMouseUp:le,onMouseLeave:le};return n.createElement("div",{className:"".concat(Y,"-wrap")},n.createElement("span",(0,v.Z)({},ne,{onMouseDown:function(ee){C(ee,!0)},"aria-label":"Increase Value","aria-disabled":V,className:H}),N||n.createElement("span",{unselectable:"on",className:"".concat(L,"-handler-up-inner")})),n.createElement("span",(0,v.Z)({},ne,{onMouseDown:function(ee){C(ee,!1)},"aria-label":"Decrease Value","aria-disabled":U,className:te}),B||n.createElement("span",{unselectable:"on",className:"".concat(L,"-handler-down-inner")})))}function O(R){var L=typeof R=="number"?(0,h.vP)(R):(0,h._V)(R).fullStr,N=L.includes(".");return N?(0,h._V)(L.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:R+"0"}var T=e(87887),S=function(){var R=(0,n.useRef)(0),L=function(){y.Z.cancel(R.current)};return(0,n.useEffect)(function(){return L},[]),function(N){L(),R.current=(0,y.Z)(function(){N()})}},$=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur"],Z=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],K=function(L,N){return L||N.isEmpty()?N.toString():N.toNumber()},z=function(L){var N=(0,d.ZP)(L);return N.isInvalidate()?null:N},w=n.forwardRef(function(R,L){var N,B=R.prefixCls,V=B===void 0?"rc-input-number":B,U=R.className,I=R.style,F=R.min,W=R.max,X=R.step,J=X===void 0?1:X,C=R.defaultValue,k=R.value,Y=R.disabled,H=R.readOnly,te=R.upHandler,le=R.downHandler,ne=R.keyboard,ie=R.controls,ee=ie===void 0?!0:ie,fe=R.classNames,de=R.stringMode,ue=R.parser,Se=R.formatter,ae=R.precision,G=R.decimalSeparator,re=R.onChange,oe=R.onInput,ce=R.onPressEnter,be=R.onStep,xe=R.changeOnBlur,ge=xe===void 0?!0:xe,he=(0,p.Z)(R,$),Pe="".concat(V,"-input"),Ae=n.useRef(null),Be=n.useState(!1),Le=(0,u.Z)(Be,2),Me=Le[0],Te=Le[1],we=n.useRef(!1),Ue=n.useRef(!1),je=n.useRef(!1),De=n.useState(function(){return(0,d.ZP)(k!=null?k:C)}),ye=(0,u.Z)(De,2),_e=ye[0],q=ye[1];function pe(at){k===void 0&&q(at)}var Re=n.useCallback(function(at,ht){if(!ht)return ae>=0?ae:Math.max((0,h.NX)(at),(0,h.NX)(J))},[ae,J]),Oe=n.useCallback(function(at){var ht=String(at);if(ue)return ue(ht);var ot=ht;return G&&(ot=ot.replace(G,".")),ot.replace(/[^\w.-]+/g,"")},[ue,G]),$e=n.useRef(""),Ve=n.useCallback(function(at,ht){if(Se)return Se(at,{userTyping:ht,input:String($e.current)});var ot=typeof at=="number"?(0,h.vP)(at):at;if(!ht){var kt=Re(ot,ht);if((0,h.mE)(ot)&&(G||kt>=0)){var nn=G||".";ot=(0,t.FH)(ot,nn,kt)}}return ot},[Se,Re,G]),Ze=n.useState(function(){var at=C!=null?C:k;return _e.isInvalidate()&&["string","number"].includes((0,x.Z)(at))?Number.isNaN(at)?"":at:Ve(_e.toString(),!1)}),qe=(0,u.Z)(Ze,2),Qe=qe[0],ke=qe[1];$e.current=Qe;function ft(at,ht){ke(Ve(at.isInvalidate()?at.toString(!1):at.toString(!ht),ht))}var vt=n.useMemo(function(){return z(W)},[W,ae]),_t=n.useMemo(function(){return z(F)},[F,ae]),Nt=n.useMemo(function(){return!vt||!_e||_e.isInvalidate()?!1:vt.lessEquals(_e)},[vt,_e]),Kt=n.useMemo(function(){return!_t||!_e||_e.isInvalidate()?!1:_e.lessEquals(_t)},[_t,_e]),ut=o(Ae.current,Me),Rt=(0,u.Z)(ut,2),Dt=Rt[0],dt=Rt[1],Bt=function(ht){return vt&&!ht.lessEquals(vt)?vt:_t&&!_t.lessEquals(ht)?_t:null},He=function(ht){return!Bt(ht)},ct=function(ht,ot){var kt=ht,nn=He(kt)||kt.isEmpty();if(!kt.isEmpty()&&!ot&&(kt=Bt(kt)||kt,nn=!0),!H&&!Y&&nn){var Lt=kt.toString(),hn=Re(Lt,ot);return hn>=0&&(kt=(0,d.ZP)((0,t.FH)(Lt,".",hn)),He(kt)||(kt=(0,d.ZP)((0,t.FH)(Lt,".",hn,!0)))),kt.equals(_e)||(pe(kt),re==null||re(kt.isEmpty()?null:K(de,kt)),k===void 0&&ft(kt,ot)),kt}return _e},St=S(),Tt=function at(ht){if(Dt(),$e.current=ht,ke(ht),!Ue.current){var ot=Oe(ht),kt=(0,d.ZP)(ot);kt.isNaN()||ct(kt,!0)}oe==null||oe(ht),St(function(){var nn=ht;ue||(nn=ht.replace(//g,".")),nn!==ht&&at(nn)})},Mt=function(){Ue.current=!0},Zt=function(){Ue.current=!1,Tt(Ae.current.value)},Je=function(ht){Tt(ht.target.value)},et=function(ht){var ot;if(!(ht&&Nt||!ht&&Kt)){we.current=!1;var kt=(0,d.ZP)(je.current?O(J):J);ht||(kt=kt.negate());var nn=(_e||(0,d.ZP)(0)).add(kt.toString()),Lt=ct(nn,!1);be==null||be(K(de,Lt),{offset:je.current?O(J):J,type:ht?"up":"down"}),(ot=Ae.current)===null||ot===void 0||ot.focus()}},rt=function(ht){var ot=(0,d.ZP)(Oe(Qe)),kt=ot;ot.isNaN()?kt=ct(_e,ht):kt=ct(ot,ht),k!==void 0?ft(_e,!1):kt.isNaN()||ft(kt,!1)},yt=function(){we.current=!0},xt=function(ht){var ot=ht.key,kt=ht.shiftKey;we.current=!0,je.current=kt,ot==="Enter"&&(Ue.current||(we.current=!1),rt(!1),ce==null||ce(ht)),ne!==!1&&!Ue.current&&["Up","ArrowUp","Down","ArrowDown"].includes(ot)&&(et(ot==="Up"||ot==="ArrowUp"),ht.preventDefault())},Ct=function(){we.current=!1,je.current=!1},mt=function(){ge&&rt(!1),Te(!1),we.current=!1};return(0,f.o)(function(){_e.isInvalidate()||ft(_e,!1)},[ae,Se]),(0,f.o)(function(){var at=(0,d.ZP)(k);q(at);var ht=(0,d.ZP)(Oe(Qe));(!at.equals(ht)||!we.current||Se)&&ft(at,we.current)},[k]),(0,f.o)(function(){Se&&dt()},[Qe]),n.createElement("div",{className:i()(V,fe==null?void 0:fe.input,U,(N={},(0,m.Z)(N,"".concat(V,"-focused"),Me),(0,m.Z)(N,"".concat(V,"-disabled"),Y),(0,m.Z)(N,"".concat(V,"-readonly"),H),(0,m.Z)(N,"".concat(V,"-not-a-number"),_e.isNaN()),(0,m.Z)(N,"".concat(V,"-out-of-range"),!_e.isInvalidate()&&!He(_e)),N)),style:I,onFocus:function(){Te(!0)},onBlur:mt,onKeyDown:xt,onKeyUp:Ct,onCompositionStart:Mt,onCompositionEnd:Zt,onBeforeInput:yt},ee&&n.createElement(E,{prefixCls:V,upNode:te,downNode:le,upDisabled:Nt,downDisabled:Kt,onStep:et}),n.createElement("div",{className:"".concat(Pe,"-wrap")},n.createElement("input",(0,v.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":F,"aria-valuemax":W,"aria-valuenow":_e.isInvalidate()?null:_e.toString(),step:J},he,{ref:(0,l.sQ)(Ae,L),className:Pe,value:Qe,onChange:Je,disabled:Y,readOnly:H}))))}),A=n.forwardRef(function(R,L){var N=R.disabled,B=R.style,V=R.prefixCls,U=R.value,I=R.prefix,F=R.suffix,W=R.addonBefore,X=R.addonAfter,J=R.classes,C=R.className,k=R.classNames,Y=(0,p.Z)(R,Z),H=n.useRef(null),te=function(ne){H.current&&(0,T.nH)(H.current,ne)};return n.createElement(a.Q,{inputElement:n.createElement(w,(0,v.Z)({prefixCls:V,disabled:N,classNames:k,ref:(0,l.sQ)(H,L)},Y)),className:C,triggerFocus:te,prefixCls:V,value:U,disabled:N,style:B,prefix:I,suffix:F,addonAfter:X,addonBefore:W,classes:J,classNames:k,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})});A.displayName="InputNumber";var M=A,b=M},82234:function(se,j,e){"use strict";e.d(j,{Z:function(){return h}});var v=e(91),m=e(1413),x=e(71002),u=e(67294),p=["show"];function d(t,c){if(!c.max)return!0;var i=c.strategy(t);return i<=c.max}function h(t,c){return u.useMemo(function(){var i={};c&&(i.show=(0,x.Z)(c)==="object"&&c.formatter?c.formatter:!!c),i=(0,m.Z)((0,m.Z)({},i),t);var a=i,f=a.show,l=(0,v.Z)(a,p);return(0,m.Z)((0,m.Z)({},l),{},{show:!!f,showFormatter:typeof f=="function"?f:void 0,strategy:l.strategy||function(n){return n.length}})},[t,c])}},67656:function(se,j,e){"use strict";e.d(j,{Q:function(){return i},Z:function(){return P}});var v=e(87462),m=e(1413),x=e(4942),u=e(71002),p=e(94184),d=e.n(p),h=e(67294),t=e(87887),c=function(O){var T,S,$=O.inputElement,Z=O.prefixCls,K=O.prefix,z=O.suffix,w=O.addonBefore,A=O.addonAfter,M=O.className,b=O.style,R=O.disabled,L=O.readOnly,N=O.focused,B=O.triggerFocus,V=O.allowClear,U=O.value,I=O.handleReset,F=O.hidden,W=O.classes,X=O.classNames,J=O.dataAttrs,C=O.styles,k=O.components,Y=(k==null?void 0:k.affixWrapper)||"span",H=(k==null?void 0:k.groupWrapper)||"span",te=(k==null?void 0:k.wrapper)||"span",le=(k==null?void 0:k.groupAddon)||"span",ne=(0,h.useRef)(null),ie=function(xe){var ge;(ge=ne.current)!==null&&ge!==void 0&&ge.contains(xe.target)&&(B==null||B())},ee=function(){var xe;if(!V)return null;var ge=!R&&!L&&U,he="".concat(Z,"-clear-icon"),Pe=(0,u.Z)(V)==="object"&&V!==null&&V!==void 0&&V.clearIcon?V.clearIcon:"\u2716";return h.createElement("span",{onClick:I,onMouseDown:function(Be){return Be.preventDefault()},className:d()(he,(xe={},(0,x.Z)(xe,"".concat(he,"-hidden"),!ge),(0,x.Z)(xe,"".concat(he,"-has-suffix"),!!z),xe)),role:"button",tabIndex:-1},Pe)},fe=(0,h.cloneElement)($,{value:U,hidden:F,className:d()((T=$.props)===null||T===void 0?void 0:T.className,!(0,t.X3)(O)&&!(0,t.He)(O)&&M)||null,style:(0,m.Z)((0,m.Z)({},(S=$.props)===null||S===void 0?void 0:S.style),!(0,t.X3)(O)&&!(0,t.He)(O)?b:{})});if((0,t.X3)(O)){var de,ue="".concat(Z,"-affix-wrapper"),Se=d()(ue,(de={},(0,x.Z)(de,"".concat(ue,"-disabled"),R),(0,x.Z)(de,"".concat(ue,"-focused"),N),(0,x.Z)(de,"".concat(ue,"-readonly"),L),(0,x.Z)(de,"".concat(ue,"-input-with-clear-btn"),z&&V&&U),de),!(0,t.He)(O)&&M,W==null?void 0:W.affixWrapper,X==null?void 0:X.affixWrapper),ae=(z||V)&&h.createElement("span",{className:d()("".concat(Z,"-suffix"),X==null?void 0:X.suffix),style:C==null?void 0:C.suffix},ee(),z);fe=h.createElement(Y,(0,v.Z)({className:Se,style:(0,m.Z)((0,m.Z)({},(0,t.He)(O)?void 0:b),C==null?void 0:C.affixWrapper),hidden:!(0,t.He)(O)&&F,onClick:ie},J==null?void 0:J.affixWrapper,{ref:ne}),K&&h.createElement("span",{className:d()("".concat(Z,"-prefix"),X==null?void 0:X.prefix),style:C==null?void 0:C.prefix},K),(0,h.cloneElement)($,{value:U,hidden:null}),ae)}if((0,t.He)(O)){var G="".concat(Z,"-group"),re="".concat(G,"-addon"),oe=d()("".concat(Z,"-wrapper"),G,W==null?void 0:W.wrapper),ce=d()("".concat(Z,"-group-wrapper"),M,W==null?void 0:W.group);return h.createElement(H,{className:ce,style:b,hidden:F},h.createElement(te,{className:oe},w&&h.createElement(le,{className:re},w),(0,h.cloneElement)(fe,{hidden:null}),A&&h.createElement(le,{className:re},A)))}return fe},i=c,a=e(74902),f=e(97685),l=e(91),n=e(21770),r=e(98423),o=e(82234),g=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],y=(0,h.forwardRef)(function(E,O){var T=E.autoComplete,S=E.onChange,$=E.onFocus,Z=E.onBlur,K=E.onPressEnter,z=E.onKeyDown,w=E.prefixCls,A=w===void 0?"rc-input":w,M=E.disabled,b=E.htmlSize,R=E.className,L=E.maxLength,N=E.suffix,B=E.showCount,V=E.count,U=E.type,I=U===void 0?"text":U,F=E.classes,W=E.classNames,X=E.styles,J=E.onCompositionStart,C=E.onCompositionEnd,k=(0,l.Z)(E,g),Y=(0,h.useState)(!1),H=(0,f.Z)(Y,2),te=H[0],le=H[1],ne=h.useRef(!1),ie=(0,h.useRef)(null),ee=function(_e){ie.current&&(0,t.nH)(ie.current,_e)},fe=(0,n.Z)(E.defaultValue,{value:E.value}),de=(0,f.Z)(fe,2),ue=de[0],Se=de[1],ae=ue==null?"":String(ue),G=h.useState(null),re=(0,f.Z)(G,2),oe=re[0],ce=re[1],be=(0,o.Z)(V,B),xe=be.max||L,ge=be.strategy(ae),he=!!xe&&ge>xe;(0,h.useImperativeHandle)(O,function(){return{focus:ee,blur:function(){var _e;(_e=ie.current)===null||_e===void 0||_e.blur()},setSelectionRange:function(_e,q,pe){var Re;(Re=ie.current)===null||Re===void 0||Re.setSelectionRange(_e,q,pe)},select:function(){var _e;(_e=ie.current)===null||_e===void 0||_e.select()},input:ie.current}}),(0,h.useEffect)(function(){le(function(ye){return ye&&M?!1:ye})},[M]);var Pe=function(_e,q){var pe=q;if(!ne.current&&be.exceedFormatter&&be.max&&be.strategy(q)>be.max&&(pe=be.exceedFormatter(q,{max:be.max}),q!==pe)){var Re,Oe;ce([((Re=ie.current)===null||Re===void 0?void 0:Re.selectionStart)||0,((Oe=ie.current)===null||Oe===void 0?void 0:Oe.selectionEnd)||0])}Se(pe),ie.current&&(0,t.rJ)(ie.current,_e,S,pe)};h.useEffect(function(){if(oe){var ye;(ye=ie.current)===null||ye===void 0||ye.setSelectionRange.apply(ye,(0,a.Z)(oe))}},[oe]);var Ae=function(_e){Pe(_e,_e.target.value)},Be=function(_e){ne.current=!1,Pe(_e,_e.currentTarget.value),C==null||C(_e)},Le=function(_e){K&&_e.key==="Enter"&&K(_e),z==null||z(_e)},Me=function(_e){le(!0),$==null||$(_e)},Te=function(_e){le(!1),Z==null||Z(_e)},we=function(_e){Se(""),ee(),ie.current&&(0,t.rJ)(ie.current,_e,S)},Ue=he&&"".concat(A,"-out-of-range"),je=function(){var _e=(0,r.Z)(E,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return h.createElement("input",(0,v.Z)({autoComplete:T},_e,{onChange:Ae,onFocus:Me,onBlur:Te,onKeyDown:Le,className:d()(A,(0,x.Z)({},"".concat(A,"-disabled"),M),W==null?void 0:W.input),style:X==null?void 0:X.input,ref:ie,size:b,type:I,onCompositionStart:function(pe){ne.current=!0,J==null||J(pe)},onCompositionEnd:Be}))},De=function(){var _e=Number(xe)>0;if(N||be.show){var q=be.showFormatter?be.showFormatter({value:ae,count:ge,maxLength:xe}):"".concat(ge).concat(_e?" / ".concat(xe):"");return h.createElement(h.Fragment,null,be.show&&h.createElement("span",{className:d()("".concat(A,"-show-count-suffix"),(0,x.Z)({},"".concat(A,"-show-count-has-suffix"),!!N),W==null?void 0:W.count),style:(0,m.Z)({},X==null?void 0:X.count)},q),N)}return null};return h.createElement(i,(0,v.Z)({},k,{prefixCls:A,className:d()(R,Ue),inputElement:je(),handleReset:we,value:ae,focused:te,triggerFocus:ee,suffix:De(),disabled:M,classes:F,classNames:W,styles:X}))}),D=y,P=D},87887:function(se,j,e){"use strict";e.d(j,{He:function(){return v},X3:function(){return m},nH:function(){return u},rJ:function(){return x}});function v(p){return!!(p.addonBefore||p.addonAfter)}function m(p){return!!(p.prefix||p.suffix||p.allowClear)}function x(p,d,h,t){if(h){var c=d;if(d.type==="click"){var i=p.cloneNode(!0);c=Object.create(d,{target:{value:i},currentTarget:{value:i}}),i.value="",h(c);return}if(t!==void 0){var a=p.cloneNode(!0);c=Object.create(d,{target:{value:a},currentTarget:{value:a}}),a.type!=="file"&&(a.value=t),h(c);return}h(c)}}function u(p,d){if(p){p.focus(d);var h=d||{},t=h.cursor;if(t){var c=p.value.length;switch(t){case"start":p.setSelectionRange(0,0);break;case"end":p.setSelectionRange(c,c);break;default:p.setSelectionRange(0,c)}}}}},22967:function(se,j,e){"use strict";e.d(j,{default:function(){return I}});var v=e(87462),m=e(1413),x=e(97685),u=e(91),p=e(94184),d=e.n(p),h=e(67656),t=e(91304),c=e(50344),i=e(21770),a=e(15105),f=e(80334),l=e(67294);function n(){var F=(0,l.useState)({id:0,callback:null}),W=(0,x.Z)(F,2),X=W[0],J=W[1],C=(0,l.useCallback)(function(k){J(function(Y){var H=Y.id;return{id:H+1,callback:k}})},[]);return(0,l.useEffect)(function(){var k;(k=X.callback)===null||k===void 0||k.call(X)},[X]),C}var r=e(40228),o=e(95480),g=l.createContext(null),y=g;function D(F){var W=l.useContext(y),X=W.notFoundContent,J=W.activeIndex,C=W.setActiveIndex,k=W.selectOption,Y=W.onFocus,H=W.onBlur,te=F.prefixCls,le=F.options,ne=le[J]||{};return l.createElement(o.ZP,{prefixCls:"".concat(te,"-menu"),activeKey:ne.key,onSelect:function(ee){var fe=ee.key,de=le.find(function(ue){var Se=ue.key;return Se===fe});k(de)},onFocus:Y,onBlur:H},le.map(function(ie,ee){var fe=ie.key,de=ie.disabled,ue=ie.className,Se=ie.style,ae=ie.label;return l.createElement(o.sN,{key:fe,disabled:de,className:ue,style:Se,onMouseEnter:function(){C(ee)}},ae)}),!le.length&&l.createElement(o.sN,{disabled:!0},X))}var P=D,E={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},O=function(W){var X=W.prefixCls,J=W.options,C=W.children,k=W.visible,Y=W.transitionName,H=W.getPopupContainer,te=W.dropdownClassName,le=W.direction,ne=W.placement,ie="".concat(X,"-dropdown"),ee=l.createElement(P,{prefixCls:ie,options:J}),fe=(0,l.useMemo)(function(){var de;return le==="rtl"?de=ne==="top"?"topLeft":"bottomLeft":de=ne==="top"?"topRight":"bottomRight",de},[le,ne]);return l.createElement(r.Z,{prefixCls:ie,popupVisible:k,popup:ee,popupPlacement:fe,popupTransitionName:Y,builtinPlacements:E,getPopupContainer:H,popupClassName:te},C)},T=O,S=function(){return null},$=S;function Z(F){var W=F.selectionStart;return F.value.slice(0,W)}function K(F,W){return W.reduce(function(X,J){var C=F.lastIndexOf(J);return C>X.location?{location:C,prefix:J}:X},{location:-1,prefix:""})}function z(F){return(F||"").toLowerCase()}function w(F,W,X){var J=F[0];if(!J||J===X)return F;for(var C=F,k=W.length,Y=0;Y<k;Y+=1)if(z(C[Y])!==z(W[Y])){C=C.slice(Y);break}else Y===k-1&&(C=C.slice(k));return C}function A(F,W){var X=W.measureLocation,J=W.prefix,C=W.targetText,k=W.selectionStart,Y=W.split,H=F.slice(0,X);H[H.length-Y.length]===Y&&(H=H.slice(0,H.length-Y.length)),H&&(H="".concat(H).concat(Y));var te=w(F.slice(k),C.slice(k-X-J.length),Y);te.slice(0,Y.length)===Y&&(te=te.slice(Y.length));var le="".concat(H).concat(J).concat(C).concat(Y);return{text:"".concat(le).concat(te),selectionLocation:le.length}}function M(F,W){F.setSelectionRange(W,W),F.blur(),F.focus()}function b(F,W){return!W||F.indexOf(W)===-1}function R(F,W){var X=W.value,J=X===void 0?"":X,C=F.toLowerCase();return J.toLowerCase().indexOf(C)!==-1}var L=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows"],N=["suffix","prefixCls","classes","value"],B=(0,l.forwardRef)(function(F,W){var X=F.prefixCls,J=X===void 0?"rc-mentions":X,C=F.className,k=F.style,Y=F.prefix,H=Y===void 0?"@":Y,te=F.split,le=te===void 0?" ":te,ne=F.notFoundContent,ie=ne===void 0?"Not Found":ne,ee=F.value,fe=F.defaultValue,de=F.children,ue=F.options,Se=F.open,ae=F.validateSearch,G=ae===void 0?b:ae,re=F.filterOption,oe=re===void 0?R:re,ce=F.onChange,be=F.onKeyDown,xe=F.onKeyUp,ge=F.onPressEnter,he=F.onSearch,Pe=F.onSelect,Ae=F.onFocus,Be=F.onBlur,Le=F.transitionName,Me=F.placement,Te=F.direction,we=F.getPopupContainer,Ue=F.dropdownClassName,je=F.rows,De=je===void 0?1:je,ye=(0,u.Z)(F,L),_e=(0,l.useMemo)(function(){return Array.isArray(H)?H:[H]},[H]),q=(0,l.useRef)(null),pe=(0,l.useRef)(null),Re=function(){var gn,jn;return(gn=q.current)===null||gn===void 0||(jn=gn.resizableTextArea)===null||jn===void 0?void 0:jn.textArea};l.useImperativeHandle(W,function(){var En,gn;return{focus:function(){var Yt;return(Yt=q.current)===null||Yt===void 0?void 0:Yt.focus()},blur:function(){var Yt;return(Yt=q.current)===null||Yt===void 0?void 0:Yt.blur()},textarea:(En=q.current)===null||En===void 0||(gn=En.resizableTextArea)===null||gn===void 0?void 0:gn.textArea}});var Oe=(0,l.useState)(!1),$e=(0,x.Z)(Oe,2),Ve=$e[0],Ze=$e[1],qe=(0,l.useState)(""),Qe=(0,x.Z)(qe,2),ke=Qe[0],ft=Qe[1],vt=(0,l.useState)(""),_t=(0,x.Z)(vt,2),Nt=_t[0],Kt=_t[1],ut=(0,l.useState)(0),Rt=(0,x.Z)(ut,2),Dt=Rt[0],dt=Rt[1],Bt=(0,l.useState)(0),He=(0,x.Z)(Bt,2),ct=He[0],St=He[1],Tt=(0,l.useState)(!1),Mt=(0,x.Z)(Tt,2),Zt=Mt[0],Je=Mt[1],et=(0,i.Z)("",{defaultValue:fe,value:ee}),rt=(0,x.Z)(et,2),yt=rt[0],xt=rt[1];(0,l.useEffect)(function(){Ve&&pe.current&&(pe.current.scrollTop=Re().scrollTop)},[Ve]);var Ct=l.useMemo(function(){if(Se)for(var En=0;En<_e.length;En+=1){var gn=_e[En],jn=yt.lastIndexOf(gn);if(jn>=0)return[!0,"",gn,jn]}return[Ve,ke,Nt,Dt]},[Se,Ve,_e,yt,ke,Nt,Dt]),mt=(0,x.Z)(Ct,4),at=mt[0],ht=mt[1],ot=mt[2],kt=mt[3],nn=l.useCallback(function(En){var gn;return ue&&ue.length>0?gn=ue.map(function(jn){var Yt;return(0,m.Z)((0,m.Z)({},jn),{},{key:(Yt=jn==null?void 0:jn.key)!==null&&Yt!==void 0?Yt:jn.value})}):gn=(0,c.Z)(de).map(function(jn){var Yt=jn.props,gt=jn.key;return(0,m.Z)((0,m.Z)({},Yt),{},{label:Yt.children,key:gt||Yt.value})}),gn.filter(function(jn){return oe===!1?!0:oe(En,jn)})},[de,ue,oe]),Lt=l.useMemo(function(){return nn(ht)},[nn,ht]),hn=n(),Dn=function(gn,jn,Yt){Ze(!0),ft(gn),Kt(jn),dt(Yt),St(0)},Gt=function(gn){Ze(!1),dt(0),ft(""),hn(gn)},mn=function(gn){xt(gn),ce==null||ce(gn)},qt=function(gn){var jn=gn.target.value;mn(jn)},$t=function(gn){var jn,Yt=gn.value,gt=Yt===void 0?"":Yt,wt=A(yt,{measureLocation:kt,targetText:gt,prefix:ot,selectionStart:(jn=Re())===null||jn===void 0?void 0:jn.selectionStart,split:le}),Vt=wt.text,It=wt.selectionLocation;mn(Vt),Gt(function(){M(Re(),It)}),Pe==null||Pe(gn,ot)},Pn=function(gn){var jn=gn.which;if(be==null||be(gn),!!at){if(jn===a.Z.UP||jn===a.Z.DOWN){var Yt=Lt.length,gt=jn===a.Z.UP?-1:1,wt=(ct+gt+Yt)%Yt;St(wt),gn.preventDefault()}else if(jn===a.Z.ESC)Gt();else if(jn===a.Z.ENTER){if(gn.preventDefault(),!Lt.length){Gt();return}var Vt=Lt[ct];$t(Vt)}}},vn=function(gn){var jn=gn.key,Yt=gn.which,gt=gn.target,wt=Z(gt),Vt=K(wt,_e),It=Vt.location,zt=Vt.prefix;if(xe==null||xe(gn),[a.Z.ESC,a.Z.UP,a.Z.DOWN,a.Z.ENTER].indexOf(Yt)===-1)if(It!==-1){var In=wt.slice(It+zt.length),Tn=G(In,le),en=!!nn(In).length;Tn?(jn===zt||jn==="Shift"||at||In!==ht&&en)&&Dn(In,zt,It):at&&Gt(),he&&Tn&&he(In,zt)}else at&&Gt()},sn=function(gn){!at&&ge&&ge(gn)},Rn=(0,l.useRef)(),un=function(gn){window.clearTimeout(Rn.current),!Zt&&gn&&Ae&&Ae(gn),Je(!0)},jt=function(gn){Rn.current=window.setTimeout(function(){Je(!1),Gt(),Be==null||Be(gn)},0)},rn=function(){un()},An=function(){jt()};return l.createElement("div",{className:d()(J,C),style:k},l.createElement(t.Z,(0,v.Z)({ref:q,value:yt},ye,{rows:De,onChange:qt,onKeyDown:Pn,onKeyUp:vn,onPressEnter:sn,onFocus:un,onBlur:jt})),at&&l.createElement("div",{ref:pe,className:"".concat(J,"-measure")},yt.slice(0,kt),l.createElement(y.Provider,{value:{notFoundContent:ie,activeIndex:ct,setActiveIndex:St,selectOption:$t,onFocus:rn,onBlur:An}},l.createElement(T,{prefixCls:J,transitionName:Le,placement:Me,direction:Te,options:Lt,visible:!0,getPopupContainer:we,dropdownClassName:Ue},l.createElement("span",null,ot))),yt.slice(kt+ot.length)))}),V=(0,l.forwardRef)(function(F,W){var X=F.suffix,J=F.prefixCls,C=F.classes,k=F.value,Y=(0,u.Z)(F,N);return l.createElement(h.Q,{inputElement:l.createElement(B,(0,v.Z)({prefixCls:J,ref:W},Y)),suffix:X,prefixCls:J,classes:C,value:k})});V.Option=$;var U=V,I=U},82225:function(se,j,e){"use strict";e.d(j,{V4:function(){return we},zt:function(){return l},ZP:function(){return Ue}});var v=e(4942),m=e(1413),x=e(97685),u=e(71002),p=e(94184),d=e.n(p),h=e(34203),t=e(42550),c=e(67294),i=e(91),a=["children"],f=c.createContext({});function l(je){var De=je.children,ye=(0,i.Z)(je,a);return c.createElement(f.Provider,{value:ye},De)}var n=e(15671),r=e(43144),o=e(32531),g=e(51630),y=function(je){(0,o.Z)(ye,je);var De=(0,g.Z)(ye);function ye(){return(0,n.Z)(this,ye),De.apply(this,arguments)}return(0,r.Z)(ye,[{key:"render",value:function(){return this.props.children}}]),ye}(c.Component),D=y,P=e(30470),E="none",O="appear",T="enter",S="leave",$="none",Z="prepare",K="start",z="active",w="end",A="prepared",M=e(98924);function b(je,De){var ye={};return ye[je.toLowerCase()]=De.toLowerCase(),ye["Webkit".concat(je)]="webkit".concat(De),ye["Moz".concat(je)]="moz".concat(De),ye["ms".concat(je)]="MS".concat(De),ye["O".concat(je)]="o".concat(De.toLowerCase()),ye}function R(je,De){var ye={animationend:b("Animation","AnimationEnd"),transitionend:b("Transition","TransitionEnd")};return je&&("AnimationEvent"in De||delete ye.animationend.animation,"TransitionEvent"in De||delete ye.transitionend.transition),ye}var L=R((0,M.Z)(),typeof window!="undefined"?window:{}),N={};if((0,M.Z)()){var B=document.createElement("div");N=B.style}var V={};function U(je){if(V[je])return V[je];var De=L[je];if(De)for(var ye=Object.keys(De),_e=ye.length,q=0;q<_e;q+=1){var pe=ye[q];if(Object.prototype.hasOwnProperty.call(De,pe)&&pe in N)return V[je]=De[pe],V[je]}return""}var I=U("animationend"),F=U("transitionend"),W=!!(I&&F),X=I||"animationend",J=F||"transitionend";function C(je,De){if(!je)return null;if((0,u.Z)(je)==="object"){var ye=De.replace(/-\w/g,function(_e){return _e[1].toUpperCase()});return je[ye]}return"".concat(je,"-").concat(De)}var k=function(je){var De=(0,c.useRef)(),ye=(0,c.useRef)(je);ye.current=je;var _e=c.useCallback(function(Re){ye.current(Re)},[]);function q(Re){Re&&(Re.removeEventListener(J,_e),Re.removeEventListener(X,_e))}function pe(Re){De.current&&De.current!==Re&&q(De.current),Re&&Re!==De.current&&(Re.addEventListener(J,_e),Re.addEventListener(X,_e),De.current=Re)}return c.useEffect(function(){return function(){q(De.current)}},[]),[pe,q]},Y=(0,M.Z)()?c.useLayoutEffect:c.useEffect,H=Y,te=e(75164),le=function(){var je=c.useRef(null);function De(){te.Z.cancel(je.current)}function ye(_e){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;De();var pe=(0,te.Z)(function(){q<=1?_e({isCanceled:function(){return pe!==je.current}}):ye(_e,q-1)});je.current=pe}return c.useEffect(function(){return function(){De()}},[]),[ye,De]},ne=[Z,K,z,w],ie=[Z,A],ee=!1,fe=!0;function de(je){return je===z||je===w}var ue=function(je,De,ye){var _e=(0,P.Z)($),q=(0,x.Z)(_e,2),pe=q[0],Re=q[1],Oe=le(),$e=(0,x.Z)(Oe,2),Ve=$e[0],Ze=$e[1];function qe(){Re(Z,!0)}var Qe=De?ie:ne;return H(function(){if(pe!==$&&pe!==w){var ke=Qe.indexOf(pe),ft=Qe[ke+1],vt=ye(pe);vt===ee?Re(ft,!0):ft&&Ve(function(_t){function Nt(){_t.isCanceled()||Re(ft,!0)}vt===!0?Nt():Promise.resolve(vt).then(Nt)})}},[je,pe]),c.useEffect(function(){return function(){Ze()}},[]),[qe,pe]};function Se(je,De,ye,_e){var q=_e.motionEnter,pe=q===void 0?!0:q,Re=_e.motionAppear,Oe=Re===void 0?!0:Re,$e=_e.motionLeave,Ve=$e===void 0?!0:$e,Ze=_e.motionDeadline,qe=_e.motionLeaveImmediately,Qe=_e.onAppearPrepare,ke=_e.onEnterPrepare,ft=_e.onLeavePrepare,vt=_e.onAppearStart,_t=_e.onEnterStart,Nt=_e.onLeaveStart,Kt=_e.onAppearActive,ut=_e.onEnterActive,Rt=_e.onLeaveActive,Dt=_e.onAppearEnd,dt=_e.onEnterEnd,Bt=_e.onLeaveEnd,He=_e.onVisibleChanged,ct=(0,P.Z)(),St=(0,x.Z)(ct,2),Tt=St[0],Mt=St[1],Zt=(0,P.Z)(E),Je=(0,x.Z)(Zt,2),et=Je[0],rt=Je[1],yt=(0,P.Z)(null),xt=(0,x.Z)(yt,2),Ct=xt[0],mt=xt[1],at=(0,c.useRef)(!1),ht=(0,c.useRef)(null);function ot(){return ye()}var kt=(0,c.useRef)(!1);function nn(){rt(E,!0),mt(null,!0)}function Lt(rn){var An=ot();if(!(rn&&!rn.deadline&&rn.target!==An)){var En=kt.current,gn;et===O&&En?gn=Dt==null?void 0:Dt(An,rn):et===T&&En?gn=dt==null?void 0:dt(An,rn):et===S&&En&&(gn=Bt==null?void 0:Bt(An,rn)),et!==E&&En&&gn!==!1&&nn()}}var hn=k(Lt),Dn=(0,x.Z)(hn,1),Gt=Dn[0],mn=function(An){var En,gn,jn;switch(An){case O:return En={},(0,v.Z)(En,Z,Qe),(0,v.Z)(En,K,vt),(0,v.Z)(En,z,Kt),En;case T:return gn={},(0,v.Z)(gn,Z,ke),(0,v.Z)(gn,K,_t),(0,v.Z)(gn,z,ut),gn;case S:return jn={},(0,v.Z)(jn,Z,ft),(0,v.Z)(jn,K,Nt),(0,v.Z)(jn,z,Rt),jn;default:return{}}},qt=c.useMemo(function(){return mn(et)},[et]),$t=ue(et,!je,function(rn){if(rn===Z){var An=qt[Z];return An?An(ot()):ee}if(sn in qt){var En;mt(((En=qt[sn])===null||En===void 0?void 0:En.call(qt,ot(),null))||null)}return sn===z&&(Gt(ot()),Ze>0&&(clearTimeout(ht.current),ht.current=setTimeout(function(){Lt({deadline:!0})},Ze))),sn===A&&nn(),fe}),Pn=(0,x.Z)($t,2),vn=Pn[0],sn=Pn[1],Rn=de(sn);kt.current=Rn,H(function(){Mt(De);var rn=at.current;at.current=!0;var An;!rn&&De&&Oe&&(An=O),rn&&De&&pe&&(An=T),(rn&&!De&&Ve||!rn&&qe&&!De&&Ve)&&(An=S);var En=mn(An);An&&(je||En[Z])?(rt(An),vn()):rt(E)},[De]),(0,c.useEffect)(function(){(et===O&&!Oe||et===T&&!pe||et===S&&!Ve)&&rt(E)},[Oe,pe,Ve]),(0,c.useEffect)(function(){return function(){at.current=!1,clearTimeout(ht.current)}},[]);var un=c.useRef(!1);(0,c.useEffect)(function(){Tt&&(un.current=!0),Tt!==void 0&&et===E&&((un.current||Tt)&&(He==null||He(Tt)),un.current=!0)},[Tt,et]);var jt=Ct;return qt[Z]&&sn===K&&(jt=(0,m.Z)({transition:"none"},jt)),[et,sn,jt,Tt!=null?Tt:De]}function ae(je){var De=je;(0,u.Z)(je)==="object"&&(De=je.transitionSupport);function ye(q,pe){return!!(q.motionName&&De&&pe!==!1)}var _e=c.forwardRef(function(q,pe){var Re=q.visible,Oe=Re===void 0?!0:Re,$e=q.removeOnLeave,Ve=$e===void 0?!0:$e,Ze=q.forceRender,qe=q.children,Qe=q.motionName,ke=q.leavedClassName,ft=q.eventProps,vt=c.useContext(f),_t=vt.motion,Nt=ye(q,_t),Kt=(0,c.useRef)(),ut=(0,c.useRef)();function Rt(){try{return Kt.current instanceof HTMLElement?Kt.current:(0,h.Z)(ut.current)}catch(mt){return null}}var Dt=Se(Nt,Oe,Rt,q),dt=(0,x.Z)(Dt,4),Bt=dt[0],He=dt[1],ct=dt[2],St=dt[3],Tt=c.useRef(St);St&&(Tt.current=!0);var Mt=c.useCallback(function(mt){Kt.current=mt,(0,t.mH)(pe,mt)},[pe]),Zt,Je=(0,m.Z)((0,m.Z)({},ft),{},{visible:Oe});if(!qe)Zt=null;else if(Bt===E)St?Zt=qe((0,m.Z)({},Je),Mt):!Ve&&Tt.current&&ke?Zt=qe((0,m.Z)((0,m.Z)({},Je),{},{className:ke}),Mt):Ze||!Ve&&!ke?Zt=qe((0,m.Z)((0,m.Z)({},Je),{},{style:{display:"none"}}),Mt):Zt=null;else{var et,rt;He===Z?rt="prepare":de(He)?rt="active":He===K&&(rt="start");var yt=C(Qe,"".concat(Bt,"-").concat(rt));Zt=qe((0,m.Z)((0,m.Z)({},Je),{},{className:d()(C(Qe,Bt),(et={},(0,v.Z)(et,yt,yt&&rt),(0,v.Z)(et,Qe,typeof Qe=="string"),et)),style:ct}),Mt)}if(c.isValidElement(Zt)&&(0,t.Yr)(Zt)){var xt=Zt,Ct=xt.ref;Ct||(Zt=c.cloneElement(Zt,{ref:Mt}))}return c.createElement(D,{ref:ut},Zt)});return _e.displayName="CSSMotion",_e}var G=ae(W),re=e(87462),oe=e(97326),ce="add",be="keep",xe="remove",ge="removed";function he(je){var De;return je&&(0,u.Z)(je)==="object"&&"key"in je?De=je:De={key:je},(0,m.Z)((0,m.Z)({},De),{},{key:String(De.key)})}function Pe(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return je.map(he)}function Ae(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ye=[],_e=0,q=De.length,pe=Pe(je),Re=Pe(De);pe.forEach(function(Ve){for(var Ze=!1,qe=_e;qe<q;qe+=1){var Qe=Re[qe];if(Qe.key===Ve.key){_e<qe&&(ye=ye.concat(Re.slice(_e,qe).map(function(ke){return(0,m.Z)((0,m.Z)({},ke),{},{status:ce})})),_e=qe),ye.push((0,m.Z)((0,m.Z)({},Qe),{},{status:be})),_e+=1,Ze=!0;break}}Ze||ye.push((0,m.Z)((0,m.Z)({},Ve),{},{status:xe}))}),_e<q&&(ye=ye.concat(Re.slice(_e).map(function(Ve){return(0,m.Z)((0,m.Z)({},Ve),{},{status:ce})})));var Oe={};ye.forEach(function(Ve){var Ze=Ve.key;Oe[Ze]=(Oe[Ze]||0)+1});var $e=Object.keys(Oe).filter(function(Ve){return Oe[Ve]>1});return $e.forEach(function(Ve){ye=ye.filter(function(Ze){var qe=Ze.key,Qe=Ze.status;return qe!==Ve||Qe!==xe}),ye.forEach(function(Ze){Ze.key===Ve&&(Ze.status=be)})}),ye}var Be=["component","children","onVisibleChanged","onAllRemoved"],Le=["status"],Me=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Te(je){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,ye=function(_e){(0,o.Z)(pe,_e);var q=(0,g.Z)(pe);function pe(){var Re;(0,n.Z)(this,pe);for(var Oe=arguments.length,$e=new Array(Oe),Ve=0;Ve<Oe;Ve++)$e[Ve]=arguments[Ve];return Re=q.call.apply(q,[this].concat($e)),(0,v.Z)((0,oe.Z)(Re),"state",{keyEntities:[]}),(0,v.Z)((0,oe.Z)(Re),"removeKey",function(Ze){var qe=Re.state.keyEntities,Qe=qe.map(function(ke){return ke.key!==Ze?ke:(0,m.Z)((0,m.Z)({},ke),{},{status:ge})});return Re.setState({keyEntities:Qe}),Qe.filter(function(ke){var ft=ke.status;return ft!==ge}).length}),Re}return(0,r.Z)(pe,[{key:"render",value:function(){var Oe=this,$e=this.state.keyEntities,Ve=this.props,Ze=Ve.component,qe=Ve.children,Qe=Ve.onVisibleChanged,ke=Ve.onAllRemoved,ft=(0,i.Z)(Ve,Be),vt=Ze||c.Fragment,_t={};return Me.forEach(function(Nt){_t[Nt]=ft[Nt],delete ft[Nt]}),delete ft.keys,c.createElement(vt,ft,$e.map(function(Nt,Kt){var ut=Nt.status,Rt=(0,i.Z)(Nt,Le),Dt=ut===ce||ut===be;return c.createElement(De,(0,re.Z)({},_t,{key:Rt.key,visible:Dt,eventProps:Rt,onVisibleChanged:function(Bt){if(Qe==null||Qe(Bt,{key:Rt.key}),!Bt){var He=Oe.removeKey(Rt.key);He===0&&ke&&ke()}}}),function(dt,Bt){return qe((0,m.Z)((0,m.Z)({},dt),{},{index:Kt}),Bt)})}))}}],[{key:"getDerivedStateFromProps",value:function(Oe,$e){var Ve=Oe.keys,Ze=$e.keyEntities,qe=Pe(Ve),Qe=Ae(Ze,qe);return{keyEntities:Qe.filter(function(ke){var ft=Ze.find(function(vt){var _t=vt.key;return ke.key===_t});return!(ft&&ft.status===ge&&ke.status===xe)})}}}]),pe}(c.Component);return(0,v.Z)(ye,"defaultProps",{component:"div"}),ye}var we=Te(W),Ue=G},42999:function(se,j,e){"use strict";e.d(j,{qX:function(){return n},JB:function(){return g},lm:function(){return R}});var v=e(74902),m=e(97685),x=e(91),u=e(67294),p=e(1413),d=e(73935),h=e(87462),t=e(4942),c=e(94184),i=e.n(c),a=e(82225),f=e(15105),l=u.forwardRef(function(L,N){var B=L.prefixCls,V=L.style,U=L.className,I=L.duration,F=I===void 0?4.5:I,W=L.eventKey,X=L.content,J=L.closable,C=L.closeIcon,k=C===void 0?"x":C,Y=L.props,H=L.onClick,te=L.onNoticeClose,le=L.times,ne=L.hovering,ie=u.useState(!1),ee=(0,m.Z)(ie,2),fe=ee[0],de=ee[1],ue=ne||fe,Se=function(){te(W)},ae=function(oe){(oe.key==="Enter"||oe.code==="Enter"||oe.keyCode===f.Z.ENTER)&&Se()};u.useEffect(function(){if(!ue&&F>0){var re=setTimeout(function(){Se()},F*1e3);return function(){clearTimeout(re)}}},[F,ue,le]);var G="".concat(B,"-notice");return u.createElement("div",(0,h.Z)({},Y,{ref:N,className:i()(G,U,(0,t.Z)({},"".concat(G,"-closable"),J)),style:V,onMouseEnter:function(oe){var ce;de(!0),Y==null||(ce=Y.onMouseEnter)===null||ce===void 0||ce.call(Y,oe)},onMouseLeave:function(oe){var ce;de(!1),Y==null||(ce=Y.onMouseLeave)===null||ce===void 0||ce.call(Y,oe)},onClick:H}),u.createElement("div",{className:"".concat(G,"-content")},X),J&&u.createElement("a",{tabIndex:0,className:"".concat(G,"-close"),onKeyDown:ae,onClick:function(oe){oe.preventDefault(),oe.stopPropagation(),Se()}},k))}),n=l,r=u.createContext({}),o=function(N){var B=N.children,V=N.classNames;return u.createElement(r.Provider,{value:{classNames:V}},B)},g=o,y=e(71002),D=8,P=3,E=16,O=function(N){var B={offset:D,threshold:P,gap:E};if(N&&(0,y.Z)(N)==="object"){var V,U,I;B.offset=(V=N.offset)!==null&&V!==void 0?V:D,B.threshold=(U=N.threshold)!==null&&U!==void 0?U:P,B.gap=(I=N.gap)!==null&&I!==void 0?I:E}return[!!N,B]},T=O,S=["className","style","classNames","styles"],$=function(N){var B,V=N.configList,U=N.placement,I=N.prefixCls,F=N.className,W=N.style,X=N.motion,J=N.onAllNoticeRemoved,C=N.onNoticeClose,k=N.stack,Y=(0,u.useContext)(r),H=Y.classNames,te=(0,u.useRef)({}),le=(0,u.useState)(null),ne=(0,m.Z)(le,2),ie=ne[0],ee=ne[1],fe=(0,u.useState)([]),de=(0,m.Z)(fe,2),ue=de[0],Se=de[1],ae=V.map(function(Ae){return{config:Ae,key:String(Ae.key)}}),G=T(k),re=(0,m.Z)(G,2),oe=re[0],ce=re[1],be=ce.offset,xe=ce.threshold,ge=ce.gap,he=oe&&(ue.length>0||ae.length<=xe),Pe=typeof X=="function"?X(U):X;return(0,u.useEffect)(function(){oe&&ue.length>1&&Se(function(Ae){return Ae.filter(function(Be){return ae.some(function(Le){var Me=Le.key;return Be===Me})})})},[ue,ae,oe]),(0,u.useEffect)(function(){var Ae;if(oe&&te.current[(Ae=ae[ae.length-1])===null||Ae===void 0?void 0:Ae.key]){var Be;ee(te.current[(Be=ae[ae.length-1])===null||Be===void 0?void 0:Be.key])}},[ae,oe]),u.createElement(a.V4,(0,h.Z)({key:U,className:i()(I,"".concat(I,"-").concat(U),H==null?void 0:H.list,F,(B={},(0,t.Z)(B,"".concat(I,"-stack"),!!oe),(0,t.Z)(B,"".concat(I,"-stack-expanded"),he),B)),style:W,keys:ae,motionAppear:!0},Pe,{onAllRemoved:function(){J(U)}}),function(Ae,Be){var Le=Ae.config,Me=Ae.className,Te=Ae.style,we=Ae.index,Ue=Le,je=Ue.key,De=Ue.times,ye=String(je),_e=Le,q=_e.className,pe=_e.style,Re=_e.classNames,Oe=_e.styles,$e=(0,x.Z)(_e,S),Ve=ae.findIndex(function(Dt){return Dt.key===ye}),Ze={};if(oe){var qe=ae.length-1-(Ve>-1?Ve:we-1),Qe=U==="top"||U==="bottom"?"-50%":"0";if(qe>0){var ke,ft,vt;Ze.height=he?(ke=te.current[ye])===null||ke===void 0?void 0:ke.offsetHeight:ie==null?void 0:ie.offsetHeight;for(var _t=0,Nt=0;Nt<qe;Nt++){var Kt;_t+=((Kt=te.current[ae[ae.length-1-Nt].key])===null||Kt===void 0?void 0:Kt.offsetHeight)+ge}var ut=(he?_t:qe*be)*(U.startsWith("top")?1:-1),Rt=!he&&ie!==null&&ie!==void 0&&ie.offsetWidth&&(ft=te.current[ye])!==null&&ft!==void 0&&ft.offsetWidth?((ie==null?void 0:ie.offsetWidth)-be*2*(qe<3?qe:3))/((vt=te.current[ye])===null||vt===void 0?void 0:vt.offsetWidth):1;Ze.transform="translate3d(".concat(Qe,", ").concat(ut,"px, 0) scaleX(").concat(Rt,")")}else Ze.transform="translate3d(".concat(Qe,", 0, 0)")}return u.createElement("div",{ref:Be,className:i()("".concat(I,"-notice-wrapper"),Me,Re==null?void 0:Re.wrapper),style:(0,p.Z)((0,p.Z)((0,p.Z)({},Te),Ze),Oe==null?void 0:Oe.wrapper),onMouseEnter:function(){return Se(function(dt){return dt.includes(ye)?dt:[].concat((0,v.Z)(dt),[ye])})},onMouseLeave:function(){return Se(function(dt){return dt.filter(function(Bt){return Bt!==ye})})}},u.createElement(n,(0,h.Z)({},$e,{ref:function(dt){Ve>-1?te.current[ye]=dt:delete te.current[ye]},prefixCls:I,classNames:Re,styles:Oe,className:i()(q,H==null?void 0:H.notice),style:pe,times:De,key:je,eventKey:je,onNoticeClose:C,hovering:oe&&ue.length>0})))})},Z=$,K=u.forwardRef(function(L,N){var B=L.prefixCls,V=B===void 0?"rc-notification":B,U=L.container,I=L.motion,F=L.maxCount,W=L.className,X=L.style,J=L.onAllRemoved,C=L.stack,k=L.renderNotifications,Y=u.useState([]),H=(0,m.Z)(Y,2),te=H[0],le=H[1],ne=function(re){var oe,ce=te.find(function(be){return be.key===re});ce==null||(oe=ce.onClose)===null||oe===void 0||oe.call(ce),le(function(be){return be.filter(function(xe){return xe.key!==re})})};u.useImperativeHandle(N,function(){return{open:function(re){le(function(oe){var ce=(0,v.Z)(oe),be=ce.findIndex(function(he){return he.key===re.key}),xe=(0,p.Z)({},re);if(be>=0){var ge;xe.times=(((ge=oe[be])===null||ge===void 0?void 0:ge.times)||0)+1,ce[be]=xe}else xe.times=0,ce.push(xe);return F>0&&ce.length>F&&(ce=ce.slice(-F)),ce})},close:function(re){ne(re)},destroy:function(){le([])}}});var ie=u.useState({}),ee=(0,m.Z)(ie,2),fe=ee[0],de=ee[1];u.useEffect(function(){var G={};te.forEach(function(re){var oe=re.placement,ce=oe===void 0?"topRight":oe;ce&&(G[ce]=G[ce]||[],G[ce].push(re))}),Object.keys(fe).forEach(function(re){G[re]=G[re]||[]}),de(G)},[te]);var ue=function(re){de(function(oe){var ce=(0,p.Z)({},oe),be=ce[re]||[];return be.length||delete ce[re],ce})},Se=u.useRef(!1);if(u.useEffect(function(){Object.keys(fe).length>0?Se.current=!0:Se.current&&(J==null||J(),Se.current=!1)},[fe]),!U)return null;var ae=Object.keys(fe);return(0,d.createPortal)(u.createElement(u.Fragment,null,ae.map(function(G){var re=fe[G],oe=u.createElement(Z,{key:G,configList:re,placement:G,prefixCls:V,className:W==null?void 0:W(G),style:X==null?void 0:X(G),motion:I,onNoticeClose:ne,onAllNoticeRemoved:ue,stack:C});return k?k(oe,{prefixCls:V,key:G}):oe})),U)}),z=K,w=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],A=function(){return document.body},M=0;function b(){for(var L={},N=arguments.length,B=new Array(N),V=0;V<N;V++)B[V]=arguments[V];return B.forEach(function(U){U&&Object.keys(U).forEach(function(I){var F=U[I];F!==void 0&&(L[I]=F)})}),L}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=L.getContainer,B=N===void 0?A:N,V=L.motion,U=L.prefixCls,I=L.maxCount,F=L.className,W=L.style,X=L.onAllRemoved,J=L.stack,C=L.renderNotifications,k=(0,x.Z)(L,w),Y=u.useState(),H=(0,m.Z)(Y,2),te=H[0],le=H[1],ne=u.useRef(),ie=u.createElement(z,{container:te,ref:ne,prefixCls:U,motion:V,maxCount:I,className:F,style:W,onAllRemoved:X,stack:J,renderNotifications:C}),ee=u.useState([]),fe=(0,m.Z)(ee,2),de=fe[0],ue=fe[1],Se=u.useMemo(function(){return{open:function(G){var re=b(k,G);(re.key===null||re.key===void 0)&&(re.key="rc-notification-".concat(M),M+=1),ue(function(oe){return[].concat((0,v.Z)(oe),[{type:"open",config:re}])})},close:function(G){ue(function(re){return[].concat((0,v.Z)(re),[{type:"close",key:G}])})},destroy:function(){ue(function(G){return[].concat((0,v.Z)(G),[{type:"destroy"}])})}}},[]);return u.useEffect(function(){le(B())}),u.useEffect(function(){ne.current&&de.length&&(de.forEach(function(ae){switch(ae.type){case"open":ne.current.open(ae.config);break;case"close":ne.current.close(ae.key);break;case"destroy":ne.current.destroy();break}}),ue(function(ae){return ae.filter(function(G){return!de.includes(G)})}))},[de]),[Se,ie]}},39983:function(se,j,e){"use strict";e.d(j,{Z:function(){return N}});var v=e(87462),m=e(1413),x=e(97685),u=e(91),p=e(67294),d=e(94184),h=e.n(d),t=e(48555),c=e(8410),i=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],a=void 0;function f(B,V){var U=B.prefixCls,I=B.invalidate,F=B.item,W=B.renderItem,X=B.responsive,J=B.responsiveDisabled,C=B.registerSize,k=B.itemKey,Y=B.className,H=B.style,te=B.children,le=B.display,ne=B.order,ie=B.component,ee=ie===void 0?"div":ie,fe=(0,u.Z)(B,i),de=X&&!le;function ue(oe){C(k,oe)}p.useEffect(function(){return function(){ue(null)}},[]);var Se=W&&F!==a?W(F):te,ae;I||(ae={opacity:de?0:1,height:de?0:a,overflowY:de?"hidden":a,order:X?ne:a,pointerEvents:de?"none":a,position:de?"absolute":a});var G={};de&&(G["aria-hidden"]=!0);var re=p.createElement(ee,(0,v.Z)({className:h()(!I&&U,Y),style:(0,m.Z)((0,m.Z)({},ae),H)},G,fe,{ref:V}),Se);return X&&(re=p.createElement(t.Z,{onResize:function(ce){var be=ce.offsetWidth;ue(be)},disabled:J},re)),re}var l=p.forwardRef(f);l.displayName="Item";var n=l,r=e(66680),o=e(73935),g=e(75164);function y(B){if(typeof MessageChannel=="undefined")(0,g.Z)(B);else{var V=new MessageChannel;V.port1.onmessage=function(){return B()},V.port2.postMessage(void 0)}}function D(){var B=p.useRef(null),V=function(I){B.current||(B.current=[],y(function(){(0,o.unstable_batchedUpdates)(function(){B.current.forEach(function(F){F()}),B.current=null})})),B.current.push(I)};return V}function P(B,V){var U=p.useState(V),I=(0,x.Z)(U,2),F=I[0],W=I[1],X=(0,r.Z)(function(J){B(function(){W(J)})});return[F,X]}var E=p.createContext(null),O=["component"],T=["className"],S=["className"],$=function(V,U){var I=p.useContext(E);if(!I){var F=V.component,W=F===void 0?"div":F,X=(0,u.Z)(V,O);return p.createElement(W,(0,v.Z)({},X,{ref:U}))}var J=I.className,C=(0,u.Z)(I,T),k=V.className,Y=(0,u.Z)(V,S);return p.createElement(E.Provider,{value:null},p.createElement(n,(0,v.Z)({ref:U,className:h()(J,k)},C,Y)))},Z=p.forwardRef($);Z.displayName="RawItem";var K=Z,z=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],w="responsive",A="invalidate";function M(B){return"+ ".concat(B.length," ...")}function b(B,V){var U=B.prefixCls,I=U===void 0?"rc-overflow":U,F=B.data,W=F===void 0?[]:F,X=B.renderItem,J=B.renderRawItem,C=B.itemKey,k=B.itemWidth,Y=k===void 0?10:k,H=B.ssr,te=B.style,le=B.className,ne=B.maxCount,ie=B.renderRest,ee=B.renderRawRest,fe=B.suffix,de=B.component,ue=de===void 0?"div":de,Se=B.itemComponent,ae=B.onVisibleChange,G=(0,u.Z)(B,z),re=H==="full",oe=D(),ce=P(oe,null),be=(0,x.Z)(ce,2),xe=be[0],ge=be[1],he=xe||0,Pe=P(oe,new Map),Ae=(0,x.Z)(Pe,2),Be=Ae[0],Le=Ae[1],Me=P(oe,0),Te=(0,x.Z)(Me,2),we=Te[0],Ue=Te[1],je=P(oe,0),De=(0,x.Z)(je,2),ye=De[0],_e=De[1],q=P(oe,0),pe=(0,x.Z)(q,2),Re=pe[0],Oe=pe[1],$e=(0,p.useState)(null),Ve=(0,x.Z)($e,2),Ze=Ve[0],qe=Ve[1],Qe=(0,p.useState)(null),ke=(0,x.Z)(Qe,2),ft=ke[0],vt=ke[1],_t=p.useMemo(function(){return ft===null&&re?Number.MAX_SAFE_INTEGER:ft||0},[ft,xe]),Nt=(0,p.useState)(!1),Kt=(0,x.Z)(Nt,2),ut=Kt[0],Rt=Kt[1],Dt="".concat(I,"-item"),dt=Math.max(we,ye),Bt=ne===w,He=W.length&&Bt,ct=ne===A,St=He||typeof ne=="number"&&W.length>ne,Tt=(0,p.useMemo)(function(){var Gt=W;return He?xe===null&&re?Gt=W:Gt=W.slice(0,Math.min(W.length,he/Y)):typeof ne=="number"&&(Gt=W.slice(0,ne)),Gt},[W,Y,xe,ne,He]),Mt=(0,p.useMemo)(function(){return He?W.slice(_t+1):W.slice(Tt.length)},[W,Tt,He,_t]),Zt=(0,p.useCallback)(function(Gt,mn){var qt;return typeof C=="function"?C(Gt):(qt=C&&(Gt==null?void 0:Gt[C]))!==null&&qt!==void 0?qt:mn},[C]),Je=(0,p.useCallback)(X||function(Gt){return Gt},[X]);function et(Gt,mn,qt){ft===Gt&&(mn===void 0||mn===Ze)||(vt(Gt),qt||(Rt(Gt<W.length-1),ae==null||ae(Gt)),mn!==void 0&&qe(mn))}function rt(Gt,mn){ge(mn.clientWidth)}function yt(Gt,mn){Le(function(qt){var $t=new Map(qt);return mn===null?$t.delete(Gt):$t.set(Gt,mn),$t})}function xt(Gt,mn){_e(mn),Ue(ye)}function Ct(Gt,mn){Oe(mn)}function mt(Gt){return Be.get(Zt(Tt[Gt],Gt))}(0,c.Z)(function(){if(he&&typeof dt=="number"&&Tt){var Gt=Re,mn=Tt.length,qt=mn-1;if(!mn){et(0,null);return}for(var $t=0;$t<mn;$t+=1){var Pn=mt($t);if(re&&(Pn=Pn||0),Pn===void 0){et($t-1,void 0,!0);break}if(Gt+=Pn,qt===0&&Gt<=he||$t===qt-1&&Gt+mt(qt)<=he){et(qt,null);break}else if(Gt+dt>he){et($t-1,Gt-Pn-Re+ye);break}}fe&&mt(0)+Re>he&&qe(null)}},[he,Be,ye,Re,Zt,Tt]);var at=ut&&!!Mt.length,ht={};Ze!==null&&He&&(ht={position:"absolute",left:Ze,top:0});var ot={prefixCls:Dt,responsive:He,component:Se,invalidate:ct},kt=J?function(Gt,mn){var qt=Zt(Gt,mn);return p.createElement(E.Provider,{key:qt,value:(0,m.Z)((0,m.Z)({},ot),{},{order:mn,item:Gt,itemKey:qt,registerSize:yt,display:mn<=_t})},J(Gt,mn))}:function(Gt,mn){var qt=Zt(Gt,mn);return p.createElement(n,(0,v.Z)({},ot,{order:mn,key:qt,item:Gt,renderItem:Je,itemKey:qt,registerSize:yt,display:mn<=_t}))},nn,Lt={order:at?_t:Number.MAX_SAFE_INTEGER,className:"".concat(Dt,"-rest"),registerSize:xt,display:at};if(ee)ee&&(nn=p.createElement(E.Provider,{value:(0,m.Z)((0,m.Z)({},ot),Lt)},ee(Mt)));else{var hn=ie||M;nn=p.createElement(n,(0,v.Z)({},ot,Lt),typeof hn=="function"?hn(Mt):hn)}var Dn=p.createElement(ue,(0,v.Z)({className:h()(!ct&&I,le),style:te,ref:V},G),Tt.map(kt),St?nn:null,fe&&p.createElement(n,(0,v.Z)({},ot,{responsive:Bt,responsiveDisabled:!He,order:_t,className:"".concat(Dt,"-suffix"),registerSize:Ct,display:!0,style:ht}),fe));return Bt&&(Dn=p.createElement(t.Z,{onResize:rt,disabled:!He},Dn)),Dn}var R=p.forwardRef(b);R.displayName="Overflow",R.Item=K,R.RESPONSIVE=w,R.INVALIDATE=A;var L=R,N=L},79105:function(se,j,e){"use strict";e.d(j,{Z:function(){return S}});var v=e(4942),m=e(87462),x=e(1413),u=e(97685),p=e(94184),d=e.n(p),h=e(21770),t=e(15105),c=e(64217),i=e(80334),a=e(67294),f={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},l=f,n=["10","20","50","100"],r=function(Z){var K=Z.pageSizeOptions,z=K===void 0?n:K,w=Z.locale,A=Z.changeSize,M=Z.pageSize,b=Z.goButton,R=Z.quickGo,L=Z.rootPrefixCls,N=Z.selectComponentClass,B=Z.selectPrefixCls,V=Z.disabled,U=Z.buildOptionText,I=a.useState(""),F=(0,u.Z)(I,2),W=F[0],X=F[1],J=function(){return!W||Number.isNaN(W)?void 0:Number(W)},C=typeof U=="function"?U:function(ue){return"".concat(ue," ").concat(w.items_per_page)},k=function(Se){A==null||A(Number(Se))},Y=function(Se){X(Se.target.value)},H=function(Se){b||W===""||(X(""),!(Se.relatedTarget&&(Se.relatedTarget.className.indexOf("".concat(L,"-item-link"))>=0||Se.relatedTarget.className.indexOf("".concat(L,"-item"))>=0))&&(R==null||R(J())))},te=function(Se){W!==""&&(Se.keyCode===t.Z.ENTER||Se.type==="click")&&(X(""),R==null||R(J()))},le=function(){return z.some(function(Se){return Se.toString()===M.toString()})?z:z.concat([M.toString()]).sort(function(Se,ae){var G=Number.isNaN(Number(Se))?0:Number(Se),re=Number.isNaN(Number(ae))?0:Number(ae);return G-re})},ne="".concat(L,"-options");if(!A&&!R)return null;var ie=null,ee=null,fe=null;if(A&&N){var de=le().map(function(ue,Se){return a.createElement(N.Option,{key:Se,value:ue.toString()},C(ue))});ie=a.createElement(N,{disabled:V,prefixCls:B,showSearch:!1,className:"".concat(ne,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(M||z[0]).toString(),onChange:k,getPopupContainer:function(Se){return Se.parentNode},"aria-label":w.page_size,defaultOpen:!1},de)}return R&&(b&&(fe=typeof b=="boolean"?a.createElement("button",{type:"button",onClick:te,onKeyUp:te,disabled:V,className:"".concat(ne,"-quick-jumper-button")},w.jump_to_confirm):a.createElement("span",{onClick:te,onKeyUp:te},b)),ee=a.createElement("div",{className:"".concat(ne,"-quick-jumper")},w.jump_to,a.createElement("input",{disabled:V,type:"text",value:W,onChange:Y,onKeyUp:te,onBlur:H,"aria-label":w.page}),w.page,fe)),a.createElement("li",{className:ne},ie,ee)},o=r,g=function(Z){var K,z=Z.rootPrefixCls,w=Z.page,A=Z.active,M=Z.className,b=Z.showTitle,R=Z.onClick,L=Z.onKeyPress,N=Z.itemRender,B="".concat(z,"-item"),V=d()(B,"".concat(B,"-").concat(w),(K={},(0,v.Z)(K,"".concat(B,"-active"),A),(0,v.Z)(K,"".concat(B,"-disabled"),!w),K),M),U=function(){R(w)},I=function(X){L(X,R,w)},F=N(w,"page",a.createElement("a",{rel:"nofollow"},w));return F?a.createElement("li",{title:b?String(w):null,className:V,onClick:U,onKeyDown:I,tabIndex:0},F):null},y=g,D=function(Z,K,z){return z};function P(){}function E($){var Z=Number($);return typeof Z=="number"&&!Number.isNaN(Z)&&isFinite(Z)&&Math.floor(Z)===Z}function O($,Z,K){var z=typeof $=="undefined"?Z:$;return Math.floor((K-1)/z)+1}var T=function(Z){var K,z=Z.prefixCls,w=z===void 0?"rc-pagination":z,A=Z.selectPrefixCls,M=A===void 0?"rc-select":A,b=Z.className,R=Z.selectComponentClass,L=Z.current,N=Z.defaultCurrent,B=N===void 0?1:N,V=Z.total,U=V===void 0?0:V,I=Z.pageSize,F=Z.defaultPageSize,W=F===void 0?10:F,X=Z.onChange,J=X===void 0?P:X,C=Z.hideOnSinglePage,k=Z.showPrevNextJumpers,Y=k===void 0?!0:k,H=Z.showQuickJumper,te=Z.showLessItems,le=Z.showTitle,ne=le===void 0?!0:le,ie=Z.onShowSizeChange,ee=ie===void 0?P:ie,fe=Z.locale,de=fe===void 0?l:fe,ue=Z.style,Se=Z.totalBoundaryShowSizeChanger,ae=Se===void 0?50:Se,G=Z.disabled,re=Z.simple,oe=Z.showTotal,ce=Z.showSizeChanger,be=Z.pageSizeOptions,xe=Z.itemRender,ge=xe===void 0?D:xe,he=Z.jumpPrevIcon,Pe=Z.jumpNextIcon,Ae=Z.prevIcon,Be=Z.nextIcon,Le=a.useRef(null),Me=(0,h.Z)(10,{value:I,defaultValue:W}),Te=(0,u.Z)(Me,2),we=Te[0],Ue=Te[1],je=(0,h.Z)(1,{value:L,defaultValue:B,postState:function(zt){return Math.max(1,Math.min(zt,O(void 0,we,U)))}}),De=(0,u.Z)(je,2),ye=De[0],_e=De[1],q=a.useState(ye),pe=(0,u.Z)(q,2),Re=pe[0],Oe=pe[1];(0,a.useEffect)(function(){Oe(ye)},[ye]);var $e=J!==P,Ve="current"in Z,Ze=Math.max(1,ye-(te?3:5)),qe=Math.min(O(void 0,we,U),ye+(te?3:5));function Qe(It,zt){var In=It||a.createElement("button",{type:"button","aria-label":zt,className:"".concat(w,"-item-link")});return typeof It=="function"&&(In=a.createElement(It,(0,x.Z)({},Z))),In}function ke(It){var zt=It.target.value,In=O(void 0,we,U),Tn;return zt===""?Tn=zt:Number.isNaN(Number(zt))?Tn=Re:zt>=In?Tn=In:Tn=Number(zt),Tn}function ft(It){return E(It)&&It!==ye&&E(U)&&U>0}var vt=U>we?H:!1;function _t(It){(It.keyCode===t.Z.UP||It.keyCode===t.Z.DOWN)&&It.preventDefault()}function Nt(It){var zt=ke(It);switch(zt!==Re&&Oe(zt),It.keyCode){case t.Z.ENTER:Rt(zt);break;case t.Z.UP:Rt(zt-1);break;case t.Z.DOWN:Rt(zt+1);break;default:break}}function Kt(It){Rt(ke(It))}function ut(It){var zt=O(It,we,U),In=ye>zt&&zt!==0?zt:ye;Ue(It),Oe(In),ee==null||ee(ye,It),_e(In),J==null||J(In,It)}function Rt(It){if(ft(It)&&!G){var zt=O(void 0,we,U),In=It;return It>zt?In=zt:It<1&&(In=1),In!==Re&&Oe(In),_e(In),J==null||J(In,we),In}return ye}var Dt=ye>1,dt=ye<O(void 0,we,U),Bt=ce!=null?ce:U>ae;function He(){Dt&&Rt(ye-1)}function ct(){dt&&Rt(ye+1)}function St(){Rt(Ze)}function Tt(){Rt(qe)}function Mt(It,zt){if(It.key==="Enter"||It.charCode===t.Z.ENTER||It.keyCode===t.Z.ENTER){for(var In=arguments.length,Tn=new Array(In>2?In-2:0),en=2;en<In;en++)Tn[en-2]=arguments[en];zt.apply(void 0,Tn)}}function Zt(It){Mt(It,He)}function Je(It){Mt(It,ct)}function et(It){Mt(It,St)}function rt(It){Mt(It,Tt)}function yt(It){var zt=ge(It,"prev",Qe(Ae,"prev page"));return a.isValidElement(zt)?a.cloneElement(zt,{disabled:!Dt}):zt}function xt(It){var zt=ge(It,"next",Qe(Be,"next page"));return a.isValidElement(zt)?a.cloneElement(zt,{disabled:!dt}):zt}function Ct(It){(It.type==="click"||It.keyCode===t.Z.ENTER)&&Rt(Re)}var mt=null,at=(0,c.Z)(Z,{aria:!0,data:!0}),ht=oe&&a.createElement("li",{className:"".concat(w,"-total-text")},oe(U,[U===0?0:(ye-1)*we+1,ye*we>U?U:ye*we])),ot=null,kt=O(void 0,we,U);if(C&&U<=we)return null;var nn=[],Lt={rootPrefixCls:w,onClick:Rt,onKeyPress:Mt,showTitle:ne,itemRender:ge,page:-1},hn=ye-1>0?ye-1:0,Dn=ye+1<kt?ye+1:kt,Gt=H&&H.goButton,mn=Gt,qt=null;re&&(Gt&&(typeof Gt=="boolean"?mn=a.createElement("button",{type:"button",onClick:Ct,onKeyUp:Ct},de.jump_to_confirm):mn=a.createElement("span",{onClick:Ct,onKeyUp:Ct},Gt),mn=a.createElement("li",{title:ne?"".concat(de.jump_to).concat(ye,"/").concat(kt):null,className:"".concat(w,"-simple-pager")},mn)),qt=a.createElement("li",{title:ne?"".concat(ye,"/").concat(kt):null,className:"".concat(w,"-simple-pager")},a.createElement("input",{type:"text",value:Re,disabled:G,onKeyDown:_t,onKeyUp:Nt,onChange:Nt,onBlur:Kt,size:3}),a.createElement("span",{className:"".concat(w,"-slash")},"/"),kt));var $t=te?1:2;if(kt<=3+$t*2){kt||nn.push(a.createElement(y,(0,m.Z)({},Lt,{key:"noPager",page:1,className:"".concat(w,"-item-disabled")})));for(var Pn=1;Pn<=kt;Pn+=1)nn.push(a.createElement(y,(0,m.Z)({},Lt,{key:Pn,page:Pn,active:ye===Pn})))}else{var vn=te?de.prev_3:de.prev_5,sn=te?de.next_3:de.next_5,Rn=ge(Ze,"jump-prev",Qe(he,"prev page")),un=ge(qe,"jump-next",Qe(Pe,"next page"));Y&&(mt=Rn?a.createElement("li",{title:ne?vn:null,key:"prev",onClick:St,tabIndex:0,onKeyDown:et,className:d()("".concat(w,"-jump-prev"),(0,v.Z)({},"".concat(w,"-jump-prev-custom-icon"),!!he))},Rn):null,ot=un?a.createElement("li",{title:ne?sn:null,key:"next",onClick:Tt,tabIndex:0,onKeyDown:rt,className:d()("".concat(w,"-jump-next"),(0,v.Z)({},"".concat(w,"-jump-next-custom-icon"),!!Pe))},un):null);var jt=Math.max(1,ye-$t),rn=Math.min(ye+$t,kt);ye-1<=$t&&(rn=1+$t*2),kt-ye<=$t&&(jt=kt-$t*2);for(var An=jt;An<=rn;An+=1)nn.push(a.createElement(y,(0,m.Z)({},Lt,{key:An,page:An,active:ye===An})));if(ye-1>=$t*2&&ye!==1+2&&(nn[0]=a.cloneElement(nn[0],{className:d()("".concat(w,"-item-after-jump-prev"),nn[0].props.className)}),nn.unshift(mt)),kt-ye>=$t*2&&ye!==kt-2){var En=nn[nn.length-1];nn[nn.length-1]=a.cloneElement(En,{className:d()("".concat(w,"-item-before-jump-next"),En.props.className)}),nn.push(ot)}jt!==1&&nn.unshift(a.createElement(y,(0,m.Z)({},Lt,{key:1,page:1}))),rn!==kt&&nn.push(a.createElement(y,(0,m.Z)({},Lt,{key:kt,page:kt})))}var gn=yt(hn);if(gn){var jn=!Dt||!kt;gn=a.createElement("li",{title:ne?de.prev_page:null,onClick:He,tabIndex:jn?null:0,onKeyDown:Zt,className:d()("".concat(w,"-prev"),(0,v.Z)({},"".concat(w,"-disabled"),jn)),"aria-disabled":jn},gn)}var Yt=xt(Dn);if(Yt){var gt,wt;re?(gt=!dt,wt=Dt?0:null):(gt=!dt||!kt,wt=gt?null:0),Yt=a.createElement("li",{title:ne?de.next_page:null,onClick:ct,tabIndex:wt,onKeyDown:Je,className:d()("".concat(w,"-next"),(0,v.Z)({},"".concat(w,"-disabled"),gt)),"aria-disabled":gt},Yt)}var Vt=d()(w,b,(K={},(0,v.Z)(K,"".concat(w,"-simple"),re),(0,v.Z)(K,"".concat(w,"-disabled"),G),K));return a.createElement("ul",(0,m.Z)({className:Vt,style:ue,ref:Le},at),ht,gn,re?qt:nn,Yt,a.createElement(o,{locale:de,rootPrefixCls:w,disabled:G,selectComponentClass:R,selectPrefixCls:M,changeSize:Bt?ut:null,pageSize:we,pageSizeOptions:be,quickGo:vt?Rt:null,goButton:mn}))},S=T},62906:function(se,j){"use strict";var e={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};j.Z=e},43579:function(se,j,e){"use strict";e.d(j,{Cd:function(){return z}});var v=e(87462),m=e(1413),x=e(91),u=e(67294),p=e(94184),d=e.n(p),h={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},t=function(){var M=(0,u.useRef)([]),b=(0,u.useRef)(null);return(0,u.useEffect)(function(){var R=Date.now(),L=!1;M.current.forEach(function(N){if(N){L=!0;var B=N.style;B.transitionDuration=".3s, .3s, .3s, .06s",b.current&&R-b.current<100&&(B.transitionDuration="0s, 0s")}}),L&&(b.current=Date.now())}),M.current},c=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],i=function(M){var b=(0,m.Z)((0,m.Z)({},h),M),R=b.className,L=b.percent,N=b.prefixCls,B=b.strokeColor,V=b.strokeLinecap,U=b.strokeWidth,I=b.style,F=b.trailColor,W=b.trailWidth,X=b.transition,J=(0,x.Z)(b,c);delete J.gapPosition;var C=Array.isArray(L)?L:[L],k=Array.isArray(B)?B:[B],Y=t(),H=U/2,te=100-U/2,le="M ".concat(V==="round"?H:0,",").concat(H,`
         L `).concat(V==="round"?te:100,",").concat(H),ne="0 0 100 ".concat(U),ie=0;return u.createElement("svg",(0,v.Z)({className:d()("".concat(N,"-line"),R),viewBox:ne,preserveAspectRatio:"none",style:I},J),u.createElement("path",{className:"".concat(N,"-line-trail"),d:le,strokeLinecap:V,stroke:F,strokeWidth:W||U,fillOpacity:"0"}),C.map(function(ee,fe){var de=1;switch(V){case"round":de=1-U/100;break;case"square":de=1-U/2/100;break;default:de=1;break}var ue={strokeDasharray:"".concat(ee*de,"px, 100px"),strokeDashoffset:"-".concat(ie,"px"),transition:X||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},Se=k[fe]||k[k.length-1];return ie+=ee,u.createElement("path",{key:fe,className:"".concat(N,"-line-path"),d:le,strokeLinecap:V,stroke:Se,strokeWidth:U,fillOpacity:"0",ref:function(G){Y[fe]=G},style:ue})}))},a=i,f=e(71002),l=e(97685),n=e(98924),r=0,o=(0,n.Z)();function g(){var A;return o?(A=r,r+=1):A="TEST_OR_SSR",A}var y=function(A){var M=u.useState(),b=(0,l.Z)(M,2),R=b[0],L=b[1];return u.useEffect(function(){L("rc_progress_".concat(g()))},[]),A||R},D=function(M){var b=M.bg,R=M.children;return u.createElement("div",{style:{width:"100%",height:"100%",background:b}},R)};function P(A,M){return Object.keys(A).map(function(b){var R=parseFloat(b),L="".concat(Math.floor(R*M),"%");return"".concat(A[b]," ").concat(L)})}var E=u.forwardRef(function(A,M){var b=A.prefixCls,R=A.color,L=A.gradientId,N=A.radius,B=A.style,V=A.ptg,U=A.strokeLinecap,I=A.strokeWidth,F=A.size,W=A.gapDegree,X=R&&(0,f.Z)(R)==="object",J=X?"#FFF":void 0,C=F/2,k=u.createElement("circle",{className:"".concat(b,"-circle-path"),r:N,cx:C,cy:C,stroke:J,strokeLinecap:U,strokeWidth:I,opacity:V===0?0:1,style:B,ref:M});if(!X)return k;var Y="".concat(L,"-conic"),H=W?"".concat(180+W/2,"deg"):"0deg",te=P(R,(360-W)/360),le=P(R,1),ne="conic-gradient(from ".concat(H,", ").concat(te.join(", "),")"),ie="linear-gradient(to ".concat(W?"bottom":"top",", ").concat(le.join(", "),")");return u.createElement(u.Fragment,null,u.createElement("mask",{id:Y},k),u.createElement("foreignObject",{x:0,y:0,width:F,height:F,mask:"url(#".concat(Y,")")},u.createElement(D,{bg:ie},u.createElement(D,{bg:ne}))))}),O=E,T=100,S=function(M,b,R,L,N,B,V,U,I,F){var W=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,X=R/100*360*((360-B)/360),J=B===0?0:{bottom:0,top:180,left:90,right:-90}[V],C=(100-L)/100*b;I==="round"&&L!==100&&(C+=F/2,C>=b&&(C=b-.01));var k=T/2;return{stroke:typeof U=="string"?U:void 0,strokeDasharray:"".concat(b,"px ").concat(M),strokeDashoffset:C+W,transform:"rotate(".concat(N+X+J,"deg)"),transformOrigin:"".concat(k,"px ").concat(k,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},$=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Z(A){var M=A!=null?A:[];return Array.isArray(M)?M:[M]}var K=function(M){var b=(0,m.Z)((0,m.Z)({},h),M),R=b.id,L=b.prefixCls,N=b.steps,B=b.strokeWidth,V=b.trailWidth,U=b.gapDegree,I=U===void 0?0:U,F=b.gapPosition,W=b.trailColor,X=b.strokeLinecap,J=b.style,C=b.className,k=b.strokeColor,Y=b.percent,H=(0,x.Z)(b,$),te=T/2,le=y(R),ne="".concat(le,"-gradient"),ie=te-B/2,ee=Math.PI*2*ie,fe=I>0?90+I/2:-90,de=ee*((360-I)/360),ue=(0,f.Z)(N)==="object"?N:{count:N,space:2},Se=ue.count,ae=ue.space,G=Z(Y),re=Z(k),oe=re.find(function(Ae){return Ae&&(0,f.Z)(Ae)==="object"}),ce=oe&&(0,f.Z)(oe)==="object",be=ce?"butt":X,xe=S(ee,de,0,100,fe,I,F,W,be,B),ge=t(),he=function(){var Be=0;return G.map(function(Le,Me){var Te=re[Me]||re[re.length-1],we=S(ee,de,Be,Le,fe,I,F,Te,be,B);return Be+=Le,u.createElement(O,{key:Me,color:Te,ptg:Le,radius:ie,prefixCls:L,gradientId:ne,style:we,strokeLinecap:be,strokeWidth:B,gapDegree:I,ref:function(je){ge[Me]=je},size:T})}).reverse()},Pe=function(){var Be=Math.round(Se*(G[0]/100)),Le=100/Se,Me=0;return new Array(Se).fill(null).map(function(Te,we){var Ue=we<=Be-1?re[0]:W,je=Ue&&(0,f.Z)(Ue)==="object"?"url(#".concat(ne,")"):void 0,De=S(ee,de,Me,Le,fe,I,F,Ue,"butt",B,ae);return Me+=(de-De.strokeDashoffset+ae)*100/de,u.createElement("circle",{key:we,className:"".concat(L,"-circle-path"),r:ie,cx:te,cy:te,stroke:je,strokeWidth:B,opacity:1,style:De,ref:function(_e){ge[we]=_e}})})};return u.createElement("svg",(0,v.Z)({className:d()("".concat(L,"-circle"),C),viewBox:"0 0 ".concat(T," ").concat(T),style:J,id:R,role:"presentation"},H),!Se&&u.createElement("circle",{className:"".concat(L,"-circle-trail"),r:ie,cx:te,cy:te,stroke:W,strokeLinecap:be,strokeWidth:V||B,style:xe}),Se?Pe():he())},z=K,w={Line:a,Circle:z}},71032:function(se,j,e){"use strict";e.d(j,{Z:function(){return P}});var v=e(87462),m=e(4942),x=e(97685),u=e(91),p=e(94184),d=e.n(p),h=e(21770),t=e(15105),c=e(64217),i=e(67294);function a(E,O){var T=E.disabled,S=E.prefixCls,$=E.character,Z=E.characterRender,K=E.index,z=E.count,w=E.value,A=E.allowHalf,M=E.focused,b=E.onHover,R=E.onClick,L=function(X){b(X,K)},N=function(X){R(X,K)},B=function(X){X.keyCode===t.Z.ENTER&&R(X,K)},V=K+1,U=new Set([S]);w===0&&K===0&&M?U.add("".concat(S,"-focused")):A&&w+.5>=V&&w<V?(U.add("".concat(S,"-half")),U.add("".concat(S,"-active")),M&&U.add("".concat(S,"-focused"))):(V<=w?U.add("".concat(S,"-full")):U.add("".concat(S,"-zero")),V===w&&M&&U.add("".concat(S,"-focused")));var I=typeof $=="function"?$(E):$,F=i.createElement("li",{className:d()(Array.from(U)),ref:O},i.createElement("div",{onClick:T?null:N,onKeyDown:T?null:B,onMouseMove:T?null:L,role:"radio","aria-checked":w>K?"true":"false","aria-posinset":K+1,"aria-setsize":z,tabIndex:T?-1:0},i.createElement("div",{className:"".concat(S,"-first")},I),i.createElement("div",{className:"".concat(S,"-second")},I)));return Z&&(F=Z(F,E)),F}var f=i.forwardRef(a);function l(){var E=i.useRef({});function O(S){return E.current[S]}function T(S){return function($){E.current[S]=$}}return[O,T]}function n(E){var O=E.pageXOffset,T="scrollLeft";if(typeof O!="number"){var S=E.document;O=S.documentElement[T],typeof O!="number"&&(O=S.body[T])}return O}function r(E){var O,T,S=E.ownerDocument,$=S.body,Z=S&&S.documentElement,K=E.getBoundingClientRect();return O=K.left,T=K.top,O-=Z.clientLeft||$.clientLeft||0,T-=Z.clientTop||$.clientTop||0,{left:O,top:T}}function o(E){var O=r(E),T=E.ownerDocument,S=T.defaultView||T.parentWindow;return O.left+=n(S),O.left}var g=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function y(E,O){var T,S=E.prefixCls,$=S===void 0?"rc-rate":S,Z=E.className,K=E.defaultValue,z=E.value,w=E.count,A=w===void 0?5:w,M=E.allowHalf,b=M===void 0?!1:M,R=E.allowClear,L=R===void 0?!0:R,N=E.character,B=N===void 0?"\u2605":N,V=E.characterRender,U=E.disabled,I=E.direction,F=I===void 0?"ltr":I,W=E.tabIndex,X=W===void 0?0:W,J=E.autoFocus,C=E.onHoverChange,k=E.onChange,Y=E.onFocus,H=E.onBlur,te=E.onKeyDown,le=E.onMouseLeave,ne=(0,u.Z)(E,g),ie=l(),ee=(0,x.Z)(ie,2),fe=ee[0],de=ee[1],ue=i.useRef(null),Se=function(){if(!U){var Ze;(Ze=ue.current)===null||Ze===void 0||Ze.focus()}};i.useImperativeHandle(O,function(){return{focus:Se,blur:function(){if(!U){var Ze;(Ze=ue.current)===null||Ze===void 0||Ze.blur()}}}});var ae=(0,h.Z)(K||0,{value:z}),G=(0,x.Z)(ae,2),re=G[0],oe=G[1],ce=(0,h.Z)(null),be=(0,x.Z)(ce,2),xe=be[0],ge=be[1],he=function(Ze,qe){var Qe=F==="rtl",ke=Ze+1;if(b){var ft=fe(Ze),vt=o(ft),_t=ft.clientWidth;(Qe&&qe-vt>_t/2||!Qe&&qe-vt<_t/2)&&(ke-=.5)}return ke},Pe=function(Ze){oe(Ze),k==null||k(Ze)},Ae=i.useState(!1),Be=(0,x.Z)(Ae,2),Le=Be[0],Me=Be[1],Te=function(){Me(!0),Y==null||Y()},we=function(){Me(!1),H==null||H()},Ue=i.useState(null),je=(0,x.Z)(Ue,2),De=je[0],ye=je[1],_e=function(Ze,qe){var Qe=he(qe,Ze.pageX);Qe!==xe&&(ye(Qe),ge(null)),C==null||C(Qe)},q=function(Ze){U||(ye(null),ge(null),C==null||C(void 0)),Ze&&(le==null||le(Ze))},pe=function(Ze,qe){var Qe=he(qe,Ze.pageX),ke=!1;L&&(ke=Qe===re),q(),Pe(ke?0:Qe),ge(ke?Qe:null)},Re=function(Ze){var qe=Ze.keyCode,Qe=F==="rtl",ke=re;qe===t.Z.RIGHT&&ke<A&&!Qe?(b?ke+=.5:ke+=1,Pe(ke),Ze.preventDefault()):qe===t.Z.LEFT&&ke>0&&!Qe||qe===t.Z.RIGHT&&ke>0&&Qe?(b?ke-=.5:ke-=1,Pe(ke),Ze.preventDefault()):qe===t.Z.LEFT&&ke<A&&Qe&&(b?ke+=.5:ke+=1,Pe(ke),Ze.preventDefault()),te==null||te(Ze)};i.useEffect(function(){J&&!U&&Se()},[]);var Oe=new Array(A).fill(0).map(function(Ve,Ze){return i.createElement(f,{ref:de(Ze),index:Ze,count:A,disabled:U,prefixCls:"".concat($,"-star"),allowHalf:b,value:De===null?re:De,onClick:pe,onHover:_e,key:Ve||Ze,character:B,characterRender:V,focused:Le})}),$e=d()($,Z,(T={},(0,m.Z)(T,"".concat($,"-disabled"),U),(0,m.Z)(T,"".concat($,"-rtl"),F==="rtl"),T));return i.createElement("ul",(0,v.Z)({className:$e,onMouseLeave:q,tabIndex:U?-1:X,onFocus:U?null:Te,onBlur:U?null:we,onKeyDown:U?null:Re,ref:ue,role:"radiogroup"},(0,c.Z)(ne,{aria:!0,data:!0,attr:!0})),Oe)}var D=i.forwardRef(y),P=D},48555:function(se,j,e){"use strict";e.d(j,{Z:function(){return A}});var v=e(87462),m=e(67294),x=e(50344),u=e(80334),p=e(1413),d=e(71002),h=e(34203),t=e(42550),c=m.createContext(null);function i(M){var b=M.children,R=M.onBatchResize,L=m.useRef(0),N=m.useRef([]),B=m.useContext(c),V=m.useCallback(function(U,I,F){L.current+=1;var W=L.current;N.current.push({size:U,element:I,data:F}),Promise.resolve().then(function(){W===L.current&&(R==null||R(N.current),N.current=[])}),B==null||B(U,I,F)},[R,B]);return m.createElement(c.Provider,{value:V},b)}var a=e(91033),f=new Map;function l(M){M.forEach(function(b){var R,L=b.target;(R=f.get(L))===null||R===void 0||R.forEach(function(N){return N(L)})})}var n=new a.Z(l),r=null,o=null;function g(M,b){f.has(M)||(f.set(M,new Set),n.observe(M)),f.get(M).add(b)}function y(M,b){f.has(M)&&(f.get(M).delete(b),f.get(M).size||(n.unobserve(M),f.delete(M)))}var D=e(15671),P=e(43144),E=e(32531),O=e(51630),T=function(M){(0,E.Z)(R,M);var b=(0,O.Z)(R);function R(){return(0,D.Z)(this,R),b.apply(this,arguments)}return(0,P.Z)(R,[{key:"render",value:function(){return this.props.children}}]),R}(m.Component);function S(M,b){var R=M.children,L=M.disabled,N=m.useRef(null),B=m.useRef(null),V=m.useContext(c),U=typeof R=="function",I=U?R(N):R,F=m.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),W=!U&&m.isValidElement(I)&&(0,t.Yr)(I),X=W?I.ref:null,J=(0,t.x1)(X,N),C=function(){var te;return(0,h.Z)(N.current)||(N.current&&(0,d.Z)(N.current)==="object"?(0,h.Z)((te=N.current)===null||te===void 0?void 0:te.nativeElement):null)||(0,h.Z)(B.current)};m.useImperativeHandle(b,function(){return C()});var k=m.useRef(M);k.current=M;var Y=m.useCallback(function(H){var te=k.current,le=te.onResize,ne=te.data,ie=H.getBoundingClientRect(),ee=ie.width,fe=ie.height,de=H.offsetWidth,ue=H.offsetHeight,Se=Math.floor(ee),ae=Math.floor(fe);if(F.current.width!==Se||F.current.height!==ae||F.current.offsetWidth!==de||F.current.offsetHeight!==ue){var G={width:Se,height:ae,offsetWidth:de,offsetHeight:ue};F.current=G;var re=de===Math.round(ee)?ee:de,oe=ue===Math.round(fe)?fe:ue,ce=(0,p.Z)((0,p.Z)({},G),{},{offsetWidth:re,offsetHeight:oe});V==null||V(ce,H,ne),le&&Promise.resolve().then(function(){le(ce,H)})}},[]);return m.useEffect(function(){var H=C();return H&&!L&&g(H,Y),function(){return y(H,Y)}},[N.current,L]),m.createElement(T,{ref:B},W?m.cloneElement(I,{ref:J}):I)}var $=m.forwardRef(S),Z=$,K="rc-observer-key";function z(M,b){var R=M.children,L=typeof R=="function"?[R]:(0,x.Z)(R);return L.map(function(N,B){var V=(N==null?void 0:N.key)||"".concat(K,"-").concat(B);return m.createElement(Z,(0,v.Z)({},M,{key:V,ref:B===0?b:void 0}),N)})}var w=m.forwardRef(z);w.Collection=i;var A=w},66940:function(se,j,e){"use strict";e.d(j,{Z:function(){return T}});var v=e(87462),m=e(97685),x=e(91),u=e(4942),p=e(1413),d=e(71002),h=e(67294),t=e(94184),c=e.n(t),i=e(21770),a=e(42550),f=e(98423),l=e(82225),n=e(8410),r=function($){return $?{left:$.offsetLeft,right:$.parentElement.clientWidth-$.clientWidth-$.offsetLeft,width:$.clientWidth}:null},o=function($){return $!==void 0?"".concat($,"px"):void 0};function g(S){var $=S.prefixCls,Z=S.containerRef,K=S.value,z=S.getValueIndex,w=S.motionName,A=S.onMotionStart,M=S.onMotionEnd,b=S.direction,R=h.useRef(null),L=h.useState(K),N=(0,m.Z)(L,2),B=N[0],V=N[1],U=function(fe){var de,ue=z(fe),Se=(de=Z.current)===null||de===void 0?void 0:de.querySelectorAll(".".concat($,"-item"))[ue];return(Se==null?void 0:Se.offsetParent)&&Se},I=h.useState(null),F=(0,m.Z)(I,2),W=F[0],X=F[1],J=h.useState(null),C=(0,m.Z)(J,2),k=C[0],Y=C[1];(0,n.Z)(function(){if(B!==K){var ee=U(B),fe=U(K),de=r(ee),ue=r(fe);V(K),X(de),Y(ue),ee&&fe?A():M()}},[K]);var H=h.useMemo(function(){return o(b==="rtl"?-(W==null?void 0:W.right):W==null?void 0:W.left)},[b,W]),te=h.useMemo(function(){return o(b==="rtl"?-(k==null?void 0:k.right):k==null?void 0:k.left)},[b,k]),le=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},ne=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},ie=function(){X(null),Y(null),M()};return!W||!k?null:h.createElement(l.ZP,{visible:!0,motionName:w,motionAppear:!0,onAppearStart:le,onAppearActive:ne,onVisibleChanged:ie},function(ee,fe){var de=ee.className,ue=ee.style,Se=(0,p.Z)((0,p.Z)({},ue),{},{"--thumb-start-left":H,"--thumb-start-width":o(W==null?void 0:W.width),"--thumb-active-left":te,"--thumb-active-width":o(k==null?void 0:k.width)}),ae={ref:(0,a.sQ)(R,fe),style:Se,className:c()("".concat($,"-thumb"),de)};return h.createElement("div",ae)})}var y=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function D(S){if(typeof S.title!="undefined")return S.title;if((0,d.Z)(S.label)!=="object"){var $;return($=S.label)===null||$===void 0?void 0:$.toString()}}function P(S){return S.map(function($){if((0,d.Z)($)==="object"&&$!==null){var Z=D($);return(0,p.Z)((0,p.Z)({},$),{},{title:Z})}return{label:$==null?void 0:$.toString(),title:$==null?void 0:$.toString(),value:$}})}var E=function($){var Z=$.prefixCls,K=$.className,z=$.disabled,w=$.checked,A=$.label,M=$.title,b=$.value,R=$.onChange,L=function(B){z||R(B,b)};return h.createElement("label",{className:c()(K,(0,u.Z)({},"".concat(Z,"-item-disabled"),z))},h.createElement("input",{className:"".concat(Z,"-item-input"),type:"radio",disabled:z,checked:w,onChange:L}),h.createElement("div",{className:"".concat(Z,"-item-label"),title:M},A))},O=h.forwardRef(function(S,$){var Z,K,z=S.prefixCls,w=z===void 0?"rc-segmented":z,A=S.direction,M=S.options,b=S.disabled,R=S.defaultValue,L=S.value,N=S.onChange,B=S.className,V=B===void 0?"":B,U=S.motionName,I=U===void 0?"thumb-motion":U,F=(0,x.Z)(S,y),W=h.useRef(null),X=h.useMemo(function(){return(0,a.sQ)(W,$)},[W,$]),J=h.useMemo(function(){return P(M)},[M]),C=(0,i.Z)((Z=J[0])===null||Z===void 0?void 0:Z.value,{value:L,defaultValue:R}),k=(0,m.Z)(C,2),Y=k[0],H=k[1],te=h.useState(!1),le=(0,m.Z)(te,2),ne=le[0],ie=le[1],ee=function(ue,Se){b||(H(Se),N==null||N(Se))},fe=(0,f.Z)(F,["children"]);return h.createElement("div",(0,v.Z)({},fe,{className:c()(w,(K={},(0,u.Z)(K,"".concat(w,"-rtl"),A==="rtl"),(0,u.Z)(K,"".concat(w,"-disabled"),b),K),V),ref:X}),h.createElement("div",{className:"".concat(w,"-group")},h.createElement(g,{prefixCls:w,value:Y,containerRef:W,motionName:"".concat(w,"-").concat(I),direction:A,getValueIndex:function(ue){return J.findIndex(function(Se){return Se.value===ue})},onMotionStart:function(){ie(!0)},onMotionEnd:function(){ie(!1)}}),J.map(function(de){return h.createElement(E,(0,v.Z)({},de,{key:de.value,prefixCls:w,className:c()(de.className,"".concat(w,"-item"),(0,u.Z)({},"".concat(w,"-item-selected"),de.value===Y&&!ne)),checked:de.value===Y,onChange:ee,disabled:!!b||!!de.disabled}))})))});O.displayName="Segmented",O.defaultProps={options:[]};var T=O},15560:function(se,j,e){"use strict";e.d(j,{Z:function(){return V}});var v=e(1413),m=e(4942),x=e(74902),u=e(97685),p=e(71002),d=e(94184),h=e.n(d),t=e(21770),c=e(91881),i=e(80334),a=e(67294),f=a.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),l=f,n=e(87462),r=e(91),o=e(15105);function g(U,I,F){return(U-I)/(F-I)}function y(U,I,F,W){var X=g(I,F,W),J={};switch(U){case"rtl":J.right="".concat(X*100,"%"),J.transform="translateX(50%)";break;case"btt":J.bottom="".concat(X*100,"%"),J.transform="translateY(50%)";break;case"ttb":J.top="".concat(X*100,"%"),J.transform="translateY(-50%)";break;default:J.left="".concat(X*100,"%"),J.transform="translateX(-50%)";break}return J}function D(U,I){return Array.isArray(U)?U[I]:U}var P=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"],E=a.forwardRef(function(U,I){var F,W,X=U.prefixCls,J=U.value,C=U.valueIndex,k=U.onStartMove,Y=U.style,H=U.render,te=U.dragging,le=U.onOffsetChange,ne=U.onChangeComplete,ie=(0,r.Z)(U,P),ee=a.useContext(l),fe=ee.min,de=ee.max,ue=ee.direction,Se=ee.disabled,ae=ee.keyboard,G=ee.range,re=ee.tabIndex,oe=ee.ariaLabelForHandle,ce=ee.ariaLabelledByForHandle,be=ee.ariaValueTextFormatterForHandle,xe=ee.styles,ge=ee.classNames,he="".concat(X,"-handle"),Pe=function(we){Se||k(we,C)},Ae=function(we){if(!Se&&ae){var Ue=null;switch(we.which||we.keyCode){case o.Z.LEFT:Ue=ue==="ltr"||ue==="btt"?-1:1;break;case o.Z.RIGHT:Ue=ue==="ltr"||ue==="btt"?1:-1;break;case o.Z.UP:Ue=ue!=="ttb"?1:-1;break;case o.Z.DOWN:Ue=ue!=="ttb"?-1:1;break;case o.Z.HOME:Ue="min";break;case o.Z.END:Ue="max";break;case o.Z.PAGE_UP:Ue=2;break;case o.Z.PAGE_DOWN:Ue=-2;break}Ue!==null&&(we.preventDefault(),le(Ue,C))}},Be=function(we){switch(we.which||we.keyCode){case o.Z.LEFT:case o.Z.RIGHT:case o.Z.UP:case o.Z.DOWN:case o.Z.HOME:case o.Z.END:case o.Z.PAGE_UP:case o.Z.PAGE_DOWN:ne==null||ne();break}},Le=y(ue,J,fe,de),Me=a.createElement("div",(0,n.Z)({ref:I,className:h()(he,(F={},(0,m.Z)(F,"".concat(he,"-").concat(C+1),G),(0,m.Z)(F,"".concat(he,"-dragging"),te),F),ge.handle),style:(0,v.Z)((0,v.Z)((0,v.Z)({},Le),Y),xe.handle),onMouseDown:Pe,onTouchStart:Pe,onKeyDown:Ae,onKeyUp:Be,tabIndex:Se?null:D(re,C),role:"slider","aria-valuemin":fe,"aria-valuemax":de,"aria-valuenow":J,"aria-disabled":Se,"aria-label":D(oe,C),"aria-labelledby":D(ce,C),"aria-valuetext":(W=D(be,C))===null||W===void 0?void 0:W(J),"aria-orientation":ue==="ltr"||ue==="rtl"?"horizontal":"vertical"},ie));return H&&(Me=H(Me,{index:C,prefixCls:X,value:J,dragging:te})),Me}),O=E,T=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],S=a.forwardRef(function(U,I){var F=U.prefixCls,W=U.style,X=U.onStartMove,J=U.onOffsetChange,C=U.values,k=U.handleRender,Y=U.draggingIndex,H=(0,r.Z)(U,T),te=a.useRef({});return a.useImperativeHandle(I,function(){return{focus:function(ne){var ie;(ie=te.current[ne])===null||ie===void 0||ie.focus()}}}),a.createElement(a.Fragment,null,C.map(function(le,ne){return a.createElement(O,(0,n.Z)({ref:function(ee){ee?te.current[ne]=ee:delete te.current[ne]},dragging:Y===ne,prefixCls:F,style:D(W,ne),key:ne,value:le,valueIndex:ne,onStartMove:X,onOffsetChange:J,render:k},H))}))}),$=S;function Z(U){var I="touches"in U?U.touches[0]:U;return{pageX:I.pageX,pageY:I.pageY}}function K(U,I,F,W,X,J,C,k,Y){var H=a.useState(null),te=(0,u.Z)(H,2),le=te[0],ne=te[1],ie=a.useState(-1),ee=(0,u.Z)(ie,2),fe=ee[0],de=ee[1],ue=a.useState(F),Se=(0,u.Z)(ue,2),ae=Se[0],G=Se[1],re=a.useState(F),oe=(0,u.Z)(re,2),ce=oe[0],be=oe[1],xe=a.useRef(null),ge=a.useRef(null);a.useEffect(function(){fe===-1&&G(F)},[F,fe]),a.useEffect(function(){return function(){document.removeEventListener("mousemove",xe.current),document.removeEventListener("mouseup",ge.current),document.removeEventListener("touchmove",xe.current),document.removeEventListener("touchend",ge.current)}},[]);var he=function(Te,we){ae.some(function(Ue,je){return Ue!==Te[je]})&&(we!==void 0&&ne(we),G(Te),C(Te))},Pe=function(Te,we){if(Te===-1){var Ue=ce[0],je=ce[ce.length-1],De=W-Ue,ye=X-je,_e=we*(X-W);_e=Math.max(_e,De),_e=Math.min(_e,ye);var q=J(Ue+_e);_e=q-Ue;var pe=ce.map(function(Ve){return Ve+_e});he(pe)}else{var Re=(X-W)*we,Oe=(0,x.Z)(ae);Oe[Te]=ce[Te];var $e=Y(Oe,Re,Te,"dist");he($e.values,$e.value)}},Ae=a.useRef(Pe);Ae.current=Pe;var Be=function(Te,we,Ue){Te.stopPropagation();var je=Ue||F,De=je[we];de(we),ne(De),be(je);var ye=Z(Te),_e=ye.pageX,q=ye.pageY,pe=function($e){$e.preventDefault();var Ve=Z($e),Ze=Ve.pageX,qe=Ve.pageY,Qe=Ze-_e,ke=qe-q,ft=U.current.getBoundingClientRect(),vt=ft.width,_t=ft.height,Nt;switch(I){case"btt":Nt=-ke/_t;break;case"ttb":Nt=ke/_t;break;case"rtl":Nt=-Qe/vt;break;default:Nt=Qe/vt}Ae.current(we,Nt)},Re=function Oe($e){$e.preventDefault(),document.removeEventListener("mouseup",Oe),document.removeEventListener("mousemove",pe),document.removeEventListener("touchend",Oe),document.removeEventListener("touchmove",pe),xe.current=null,ge.current=null,de(-1),k()};document.addEventListener("mouseup",Re),document.addEventListener("mousemove",pe),document.addEventListener("touchend",Re),document.addEventListener("touchmove",pe),xe.current=pe,ge.current=Re},Le=a.useMemo(function(){var Me=(0,x.Z)(F).sort(function(we,Ue){return we-Ue}),Te=(0,x.Z)(ae).sort(function(we,Ue){return we-Ue});return Me.every(function(we,Ue){return we===Te[Ue]})?ae:F},[F,ae]);return[fe,le,Le,Be]}function z(U,I,F,W,X,J){var C=a.useCallback(function(ie){var ee=isFinite(ie)?ie:U;return ee=Math.min(I,ie),ee=Math.max(U,ee),ee},[U,I]),k=a.useCallback(function(ie){if(F!==null){var ee=U+Math.round((C(ie)-U)/F)*F,fe=function(ae){return(String(ae).split(".")[1]||"").length},de=Math.max(fe(F),fe(I),fe(U)),ue=Number(ee.toFixed(de));return U<=ue&&ue<=I?ue:null}return null},[F,U,I,C]),Y=a.useCallback(function(ie){var ee=C(ie),fe=W.map(function(Se){return Se.value});F!==null&&fe.push(k(ie)),fe.push(U,I);var de=fe[0],ue=I-U;return fe.forEach(function(Se){var ae=Math.abs(ee-Se);ae<=ue&&(de=Se,ue=ae)}),de},[U,I,W,F,C,k]),H=function ie(ee,fe,de){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof fe=="number"){var Se,ae=ee[de],G=ae+fe,re=[];W.forEach(function(ge){re.push(ge.value)}),re.push(U,I),re.push(k(ae));var oe=fe>0?1:-1;ue==="unit"?re.push(k(ae+oe*F)):re.push(k(G)),re=re.filter(function(ge){return ge!==null}).filter(function(ge){return fe<0?ge<=ae:ge>=ae}),ue==="unit"&&(re=re.filter(function(ge){return ge!==ae}));var ce=ue==="unit"?ae:G;Se=re[0];var be=Math.abs(Se-ce);if(re.forEach(function(ge){var he=Math.abs(ge-ce);he<be&&(Se=ge,be=he)}),Se===void 0)return fe<0?U:I;if(ue==="dist")return Se;if(Math.abs(fe)>1){var xe=(0,x.Z)(ee);return xe[de]=Se,ie(xe,fe-oe,de,ue)}return Se}else{if(fe==="min")return U;if(fe==="max")return I}},te=function(ee,fe,de){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",Se=ee[de],ae=H(ee,fe,de,ue);return{value:ae,changed:ae!==Se}},le=function(ee){return J===null&&ee===0||typeof J=="number"&&ee<J},ne=function(ee,fe,de){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",Se=ee.map(Y),ae=Se[de],G=H(Se,fe,de,ue);if(Se[de]=G,X===!1){var re=J||0;de>0&&Se[de-1]!==ae&&(Se[de]=Math.max(Se[de],Se[de-1]+re)),de<Se.length-1&&Se[de+1]!==ae&&(Se[de]=Math.min(Se[de],Se[de+1]-re))}else if(typeof J=="number"||J===null){for(var oe=de+1;oe<Se.length;oe+=1)for(var ce=!0;le(Se[oe]-Se[oe-1])&&ce;){var be=te(Se,1,oe);Se[oe]=be.value,ce=be.changed}for(var xe=de;xe>0;xe-=1)for(var ge=!0;le(Se[xe]-Se[xe-1])&&ge;){var he=te(Se,-1,xe-1);Se[xe-1]=he.value,ge=he.changed}for(var Pe=Se.length-1;Pe>0;Pe-=1)for(var Ae=!0;le(Se[Pe]-Se[Pe-1])&&Ae;){var Be=te(Se,-1,Pe-1);Se[Pe-1]=Be.value,Ae=Be.changed}for(var Le=0;Le<Se.length-1;Le+=1)for(var Me=!0;le(Se[Le+1]-Se[Le])&&Me;){var Te=te(Se,1,Le+1);Se[Le+1]=Te.value,Me=Te.changed}}return{value:Se[de],values:Se}};return[Y,ne]}function w(U){var I=U.prefixCls,F=U.style,W=U.children,X=U.value,J=U.onClick,C=a.useContext(l),k=C.min,Y=C.max,H=C.direction,te=C.includedStart,le=C.includedEnd,ne=C.included,ie="".concat(I,"-text"),ee=y(H,X,k,Y);return a.createElement("span",{className:h()(ie,(0,m.Z)({},"".concat(ie,"-active"),ne&&te<=X&&X<=le)),style:(0,v.Z)((0,v.Z)({},ee),F),onMouseDown:function(de){de.stopPropagation()},onClick:function(){J(X)}},W)}function A(U){var I=U.prefixCls,F=U.marks,W=U.onClick,X="".concat(I,"-mark");return F.length?a.createElement("div",{className:X},F.map(function(J){var C=J.value,k=J.style,Y=J.label;return a.createElement(w,{key:C,prefixCls:X,style:k,value:C,onClick:W},Y)})):null}function M(U){var I=U.prefixCls,F=U.value,W=U.style,X=U.activeStyle,J=a.useContext(l),C=J.min,k=J.max,Y=J.direction,H=J.included,te=J.includedStart,le=J.includedEnd,ne="".concat(I,"-dot"),ie=H&&te<=F&&F<=le,ee=(0,v.Z)((0,v.Z)({},y(Y,F,C,k)),typeof W=="function"?W(F):W);return ie&&(ee=(0,v.Z)((0,v.Z)({},ee),typeof X=="function"?X(F):X)),a.createElement("span",{className:h()(ne,(0,m.Z)({},"".concat(ne,"-active"),ie)),style:ee})}function b(U){var I=U.prefixCls,F=U.marks,W=U.dots,X=U.style,J=U.activeStyle,C=a.useContext(l),k=C.min,Y=C.max,H=C.step,te=a.useMemo(function(){var le=new Set;if(F.forEach(function(ie){le.add(ie.value)}),W&&H!==null)for(var ne=k;ne<=Y;)le.add(ne),ne+=H;return Array.from(le)},[k,Y,H,W,F]);return a.createElement("div",{className:"".concat(I,"-step")},te.map(function(le){return a.createElement(M,{prefixCls:I,key:le,value:le,style:X,activeStyle:J})}))}function R(U){var I,F=U.prefixCls,W=U.style,X=U.start,J=U.end,C=U.index,k=U.onStartMove,Y=U.replaceCls,H=a.useContext(l),te=H.direction,le=H.min,ne=H.max,ie=H.disabled,ee=H.range,fe=H.classNames,de="".concat(F,"-track"),ue=g(X,le,ne),Se=g(J,le,ne),ae=function(ce){!ie&&k&&k(ce,-1)},G={};switch(te){case"rtl":G.right="".concat(ue*100,"%"),G.width="".concat(Se*100-ue*100,"%");break;case"btt":G.bottom="".concat(ue*100,"%"),G.height="".concat(Se*100-ue*100,"%");break;case"ttb":G.top="".concat(ue*100,"%"),G.height="".concat(Se*100-ue*100,"%");break;default:G.left="".concat(ue*100,"%"),G.width="".concat(Se*100-ue*100,"%")}var re=Y||h()(de,(I={},(0,m.Z)(I,"".concat(de,"-").concat(C+1),C!==null&&ee),(0,m.Z)(I,"".concat(F,"-track-draggable"),k),I),fe.track);return a.createElement("div",{className:re,style:(0,v.Z)((0,v.Z)({},G),W),onMouseDown:ae,onTouchStart:ae})}function L(U){var I=U.prefixCls,F=U.style,W=U.values,X=U.startPoint,J=U.onStartMove,C=a.useContext(l),k=C.included,Y=C.range,H=C.min,te=C.styles,le=C.classNames,ne=a.useMemo(function(){if(!Y){if(W.length===0)return[];var ee=X!=null?X:H,fe=W[0];return[{start:Math.min(ee,fe),end:Math.max(ee,fe)}]}for(var de=[],ue=0;ue<W.length-1;ue+=1)de.push({start:W[ue],end:W[ue+1]});return de},[W,Y,X,H]),ie=null;return(le.tracks||te.tracks)&&(ie=a.createElement(R,{index:null,prefixCls:I,start:ne[0].start,end:ne[ne.length-1].end,replaceCls:h()(le.tracks,"".concat(I,"-tracks")),style:te.tracks})),k?a.createElement(a.Fragment,null,ie,ne.map(function(ee,fe){var de=ee.start,ue=ee.end;return a.createElement(R,{index:fe,prefixCls:I,style:(0,v.Z)((0,v.Z)({},D(F,fe)),te.track),start:de,end:ue,key:fe,onStartMove:J})})):null}var N=a.forwardRef(function(U,I){var F,W=U.prefixCls,X=W===void 0?"rc-slider":W,J=U.className,C=U.style,k=U.classNames,Y=U.styles,H=U.disabled,te=H===void 0?!1:H,le=U.keyboard,ne=le===void 0?!0:le,ie=U.autoFocus,ee=U.onFocus,fe=U.onBlur,de=U.min,ue=de===void 0?0:de,Se=U.max,ae=Se===void 0?100:Se,G=U.step,re=G===void 0?1:G,oe=U.value,ce=U.defaultValue,be=U.range,xe=U.count,ge=U.onChange,he=U.onBeforeChange,Pe=U.onAfterChange,Ae=U.onChangeComplete,Be=U.allowCross,Le=Be===void 0?!0:Be,Me=U.pushable,Te=Me===void 0?!1:Me,we=U.draggableTrack,Ue=U.reverse,je=U.vertical,De=U.included,ye=De===void 0?!0:De,_e=U.startPoint,q=U.trackStyle,pe=U.handleStyle,Re=U.railStyle,Oe=U.dotStyle,$e=U.activeDotStyle,Ve=U.marks,Ze=U.dots,qe=U.handleRender,Qe=U.tabIndex,ke=Qe===void 0?0:Qe,ft=U.ariaLabelForHandle,vt=U.ariaLabelledByForHandle,_t=U.ariaValueTextFormatterForHandle,Nt=a.useRef(),Kt=a.useRef(),ut=a.useMemo(function(){return je?Ue?"ttb":"btt":Ue?"rtl":"ltr"},[Ue,je]),Rt=a.useMemo(function(){return isFinite(ue)?ue:0},[ue]),Dt=a.useMemo(function(){return isFinite(ae)?ae:100},[ae]),dt=a.useMemo(function(){return re!==null&&re<=0?1:re},[re]),Bt=a.useMemo(function(){return typeof Te=="boolean"?Te?dt:!1:Te>=0?Te:!1},[Te,dt]),He=a.useMemo(function(){var Yt=Object.keys(Ve||{});return Yt.map(function(gt){var wt=Ve[gt],Vt={value:Number(gt)};return wt&&(0,p.Z)(wt)==="object"&&!a.isValidElement(wt)&&("label"in wt||"style"in wt)?(Vt.style=wt.style,Vt.label=wt.label):Vt.label=wt,Vt}).filter(function(gt){var wt=gt.label;return wt||typeof wt=="number"}).sort(function(gt,wt){return gt.value-wt.value})},[Ve]),ct=z(Rt,Dt,dt,He,Le,Bt),St=(0,u.Z)(ct,2),Tt=St[0],Mt=St[1],Zt=(0,t.Z)(ce,{value:oe}),Je=(0,u.Z)(Zt,2),et=Je[0],rt=Je[1],yt=a.useMemo(function(){var Yt=et==null?[]:Array.isArray(et)?et:[et],gt=(0,u.Z)(Yt,1),wt=gt[0],Vt=wt===void 0?Rt:wt,It=et===null?[]:[Vt];if(be){if(It=(0,x.Z)(Yt),xe||et===void 0){var zt=xe>=0?xe+1:2;for(It=It.slice(0,zt);It.length<zt;){var In;It.push((In=It[It.length-1])!==null&&In!==void 0?In:Rt)}}It.sort(function(Tn,en){return Tn-en})}return It.forEach(function(Tn,en){It[en]=Tt(Tn)}),It},[et,be,Rt,xe,Tt]),xt=a.useRef(yt);xt.current=yt;var Ct=function(gt){return be?gt:gt[0]},mt=function(gt){var wt=(0,x.Z)(gt).sort(function(Vt,It){return Vt-It});ge&&!(0,c.Z)(wt,xt.current,!0)&&ge(Ct(wt)),rt(wt)},at=function(){Pe==null||Pe(Ct(xt.current)),(0,i.ZP)(!Pe,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Ae==null||Ae(Ct(xt.current))},ht=K(Kt,ut,yt,Rt,Dt,Tt,mt,at,Mt),ot=(0,u.Z)(ht,4),kt=ot[0],nn=ot[1],Lt=ot[2],hn=ot[3],Dn=function(gt,wt){if(!te){var Vt=0,It=Dt-Rt;yt.forEach(function(In,Tn){var en=Math.abs(gt-In);en<=It&&(It=en,Vt=Tn)});var zt=(0,x.Z)(yt);zt[Vt]=gt,be&&!yt.length&&xe===void 0&&zt.push(gt),he==null||he(Ct(zt)),mt(zt),wt&&hn(wt,Vt,zt)}},Gt=function(gt){gt.preventDefault();var wt=Kt.current.getBoundingClientRect(),Vt=wt.width,It=wt.height,zt=wt.left,In=wt.top,Tn=wt.bottom,en=wt.right,qn=gt.clientX,er=gt.clientY,ar;switch(ut){case"btt":ar=(Tn-er)/It;break;case"ttb":ar=(er-In)/It;break;case"rtl":ar=(en-qn)/Vt;break;default:ar=(qn-zt)/Vt}var nr=Rt+ar*(Dt-Rt);Dn(Tt(nr),gt)},mn=a.useState(null),qt=(0,u.Z)(mn,2),$t=qt[0],Pn=qt[1],vn=function(gt,wt){if(!te){var Vt=Mt(yt,gt,wt);he==null||he(Ct(yt)),mt(Vt.values),Pn(Vt.value)}};a.useEffect(function(){if($t!==null){var Yt=yt.indexOf($t);Yt>=0&&Nt.current.focus(Yt)}Pn(null)},[$t]);var sn=a.useMemo(function(){return we&&dt===null?!1:we},[we,dt]),Rn=function(gt,wt){hn(gt,wt),he==null||he(Ct(xt.current))},un=kt!==-1;a.useEffect(function(){if(!un){var Yt=yt.lastIndexOf(nn);Nt.current.focus(Yt)}},[un]);var jt=a.useMemo(function(){return(0,x.Z)(Lt).sort(function(Yt,gt){return Yt-gt})},[Lt]),rn=a.useMemo(function(){return be?[jt[0],jt[jt.length-1]]:[Rt,jt[0]]},[jt,be,Rt]),An=(0,u.Z)(rn,2),En=An[0],gn=An[1];a.useImperativeHandle(I,function(){return{focus:function(){Nt.current.focus(0)},blur:function(){var gt=document,wt=gt.activeElement;Kt.current.contains(wt)&&(wt==null||wt.blur())}}}),a.useEffect(function(){ie&&Nt.current.focus(0)},[]);var jn=a.useMemo(function(){return{min:Rt,max:Dt,direction:ut,disabled:te,keyboard:ne,step:dt,included:ye,includedStart:En,includedEnd:gn,range:be,tabIndex:ke,ariaLabelForHandle:ft,ariaLabelledByForHandle:vt,ariaValueTextFormatterForHandle:_t,styles:Y||{},classNames:k||{}}},[Rt,Dt,ut,te,ne,dt,ye,En,gn,be,ke,ft,vt,_t,Y,k]);return a.createElement(l.Provider,{value:jn},a.createElement("div",{ref:Kt,className:h()(X,J,(F={},(0,m.Z)(F,"".concat(X,"-disabled"),te),(0,m.Z)(F,"".concat(X,"-vertical"),je),(0,m.Z)(F,"".concat(X,"-horizontal"),!je),(0,m.Z)(F,"".concat(X,"-with-marks"),He.length),F)),style:C,onMouseDown:Gt},a.createElement("div",{className:h()("".concat(X,"-rail"),k==null?void 0:k.rail),style:(0,v.Z)((0,v.Z)({},Re),Y==null?void 0:Y.rail)}),a.createElement(L,{prefixCls:X,style:q,values:jt,startPoint:_e,onStartMove:sn?Rn:null}),a.createElement(b,{prefixCls:X,marks:He,dots:Ze,style:Oe,activeStyle:$e}),a.createElement($,{ref:Nt,prefixCls:X,style:pe,values:Lt,draggingIndex:kt,onStartMove:Rn,onOffsetChange:vn,onFocus:ee,onBlur:fe,handleRender:qe,onChangeComplete:at}),a.createElement(A,{prefixCls:X,marks:He,onClick:Dn})))}),B=N,V=B},92543:function(se,j,e){"use strict";e.d(j,{Z:function(){return o}});var v=e(87462),m=e(1413),x=e(4942),u=e(91),p=e(94184),d=e.n(p),h=e(67294),t=e(15105),c=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function i(g){return typeof g=="string"}function a(g){var y,D=g.className,P=g.prefixCls,E=g.style,O=g.active,T=g.status,S=g.iconPrefix,$=g.icon,Z=g.wrapperStyle,K=g.stepNumber,z=g.disabled,w=g.description,A=g.title,M=g.subTitle,b=g.progressDot,R=g.stepIcon,L=g.tailContent,N=g.icons,B=g.stepIndex,V=g.onStepClick,U=g.onClick,I=g.render,F=(0,u.Z)(g,c),W=!!V&&!z,X={};W&&(X.role="button",X.tabIndex=0,X.onClick=function(te){U==null||U(te),V(B)},X.onKeyDown=function(te){var le=te.which;(le===t.Z.ENTER||le===t.Z.SPACE)&&V(B)});var J=function(){var le,ne,ie=d()("".concat(P,"-icon"),"".concat(S,"icon"),(le={},(0,x.Z)(le,"".concat(S,"icon-").concat($),$&&i($)),(0,x.Z)(le,"".concat(S,"icon-check"),!$&&T==="finish"&&(N&&!N.finish||!N)),(0,x.Z)(le,"".concat(S,"icon-cross"),!$&&T==="error"&&(N&&!N.error||!N)),le)),ee=h.createElement("span",{className:"".concat(P,"-icon-dot")});return b?typeof b=="function"?ne=h.createElement("span",{className:"".concat(P,"-icon")},b(ee,{index:K-1,status:T,title:A,description:w})):ne=h.createElement("span",{className:"".concat(P,"-icon")},ee):$&&!i($)?ne=h.createElement("span",{className:"".concat(P,"-icon")},$):N&&N.finish&&T==="finish"?ne=h.createElement("span",{className:"".concat(P,"-icon")},N.finish):N&&N.error&&T==="error"?ne=h.createElement("span",{className:"".concat(P,"-icon")},N.error):$||T==="finish"||T==="error"?ne=h.createElement("span",{className:ie}):ne=h.createElement("span",{className:"".concat(P,"-icon")},K),R&&(ne=R({index:K-1,status:T,title:A,description:w,node:ne})),ne},C=T||"wait",k=d()("".concat(P,"-item"),"".concat(P,"-item-").concat(C),D,(y={},(0,x.Z)(y,"".concat(P,"-item-custom"),$),(0,x.Z)(y,"".concat(P,"-item-active"),O),(0,x.Z)(y,"".concat(P,"-item-disabled"),z===!0),y)),Y=(0,m.Z)({},E),H=h.createElement("div",(0,v.Z)({},F,{className:k,style:Y}),h.createElement("div",(0,v.Z)({onClick:U},X,{className:"".concat(P,"-item-container")}),h.createElement("div",{className:"".concat(P,"-item-tail")},L),h.createElement("div",{className:"".concat(P,"-item-icon")},J()),h.createElement("div",{className:"".concat(P,"-item-content")},h.createElement("div",{className:"".concat(P,"-item-title")},A,M&&h.createElement("div",{title:typeof M=="string"?M:void 0,className:"".concat(P,"-item-subtitle")},M)),w&&h.createElement("div",{className:"".concat(P,"-item-description")},w))));return I&&(H=I(H)||null),H}var f=a,l=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function n(g){var y,D=g.prefixCls,P=D===void 0?"rc-steps":D,E=g.style,O=E===void 0?{}:E,T=g.className,S=g.children,$=g.direction,Z=$===void 0?"horizontal":$,K=g.type,z=K===void 0?"default":K,w=g.labelPlacement,A=w===void 0?"horizontal":w,M=g.iconPrefix,b=M===void 0?"rc":M,R=g.status,L=R===void 0?"process":R,N=g.size,B=g.current,V=B===void 0?0:B,U=g.progressDot,I=U===void 0?!1:U,F=g.stepIcon,W=g.initial,X=W===void 0?0:W,J=g.icons,C=g.onChange,k=g.itemRender,Y=g.items,H=Y===void 0?[]:Y,te=(0,u.Z)(g,l),le=z==="navigation",ne=z==="inline",ie=ne||I,ee=ne?"horizontal":Z,fe=ne?void 0:N,de=ie?"vertical":A,ue=d()(P,"".concat(P,"-").concat(ee),T,(y={},(0,x.Z)(y,"".concat(P,"-").concat(fe),fe),(0,x.Z)(y,"".concat(P,"-label-").concat(de),ee==="horizontal"),(0,x.Z)(y,"".concat(P,"-dot"),!!ie),(0,x.Z)(y,"".concat(P,"-navigation"),le),(0,x.Z)(y,"".concat(P,"-inline"),ne),y)),Se=function(re){C&&V!==re&&C(re)},ae=function(re,oe){var ce=(0,m.Z)({},re),be=X+oe;return L==="error"&&oe===V-1&&(ce.className="".concat(P,"-next-error")),ce.status||(be===V?ce.status=L:be<V?ce.status="finish":ce.status="wait"),ne&&(ce.icon=void 0,ce.subTitle=void 0),!ce.render&&k&&(ce.render=function(xe){return k(ce,xe)}),h.createElement(f,(0,v.Z)({},ce,{active:be===V,stepNumber:be+1,stepIndex:be,key:be,prefixCls:P,iconPrefix:b,wrapperStyle:O,progressDot:ie,stepIcon:F,icons:J,onStepClick:C&&Se}))};return h.createElement("div",(0,v.Z)({className:ue,style:O},te),H.filter(function(G){return G}).map(ae))}n.Step=f;var r=n,o=r},33413:function(se,j,e){"use strict";var v=e(87462),m=e(4942),x=e(97685),u=e(91),p=e(67294),d=e(94184),h=e.n(d),t=e(21770),c=e(15105),i=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],a=p.forwardRef(function(f,l){var n,r=f.prefixCls,o=r===void 0?"rc-switch":r,g=f.className,y=f.checked,D=f.defaultChecked,P=f.disabled,E=f.loadingIcon,O=f.checkedChildren,T=f.unCheckedChildren,S=f.onClick,$=f.onChange,Z=f.onKeyDown,K=(0,u.Z)(f,i),z=(0,t.Z)(!1,{value:y,defaultValue:D}),w=(0,x.Z)(z,2),A=w[0],M=w[1];function b(B,V){var U=A;return P||(U=B,M(U),$==null||$(U,V)),U}function R(B){B.which===c.Z.LEFT?b(!1,B):B.which===c.Z.RIGHT&&b(!0,B),Z==null||Z(B)}function L(B){var V=b(!A,B);S==null||S(V,B)}var N=h()(o,g,(n={},(0,m.Z)(n,"".concat(o,"-checked"),A),(0,m.Z)(n,"".concat(o,"-disabled"),P),n));return p.createElement("button",(0,v.Z)({},K,{type:"button",role:"switch","aria-checked":A,disabled:P,className:N,ref:l,onKeyDown:R,onClick:L}),E,p.createElement("span",{className:"".concat(o,"-inner")},p.createElement("span",{className:"".concat(o,"-inner-checked")},O),p.createElement("span",{className:"".concat(o,"-inner-unchecked")},T)))});a.displayName="Switch",j.Z=a},91304:function(se,j,e){"use strict";e.d(j,{Z:function(){return R}});var v=e(87462),m=e(1413),x=e(4942),u=e(74902),p=e(97685),d=e(91),h=e(94184),t=e.n(h),c=e(67656),i=e(82234),a=e(87887),f=e(21770),l=e(67294),n=e(71002),r=e(48555),o=e(8410),g=e(75164),y=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,D=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],P={},E;function O(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=L.getAttribute("id")||L.getAttribute("data-reactid")||L.getAttribute("name");if(N&&P[B])return P[B];var V=window.getComputedStyle(L),U=V.getPropertyValue("box-sizing")||V.getPropertyValue("-moz-box-sizing")||V.getPropertyValue("-webkit-box-sizing"),I=parseFloat(V.getPropertyValue("padding-bottom"))+parseFloat(V.getPropertyValue("padding-top")),F=parseFloat(V.getPropertyValue("border-bottom-width"))+parseFloat(V.getPropertyValue("border-top-width")),W=D.map(function(J){return"".concat(J,":").concat(V.getPropertyValue(J))}).join(";"),X={sizingStyle:W,paddingSize:I,borderSize:F,boxSizing:U};return N&&B&&(P[B]=X),X}function T(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;E||(E=document.createElement("textarea"),E.setAttribute("tab-index","-1"),E.setAttribute("aria-hidden","true"),document.body.appendChild(E)),L.getAttribute("wrap")?E.setAttribute("wrap",L.getAttribute("wrap")):E.removeAttribute("wrap");var U=O(L,N),I=U.paddingSize,F=U.borderSize,W=U.boxSizing,X=U.sizingStyle;E.setAttribute("style","".concat(X,";").concat(y)),E.value=L.value||L.placeholder||"";var J=void 0,C=void 0,k,Y=E.scrollHeight;if(W==="border-box"?Y+=F:W==="content-box"&&(Y-=I),B!==null||V!==null){E.value=" ";var H=E.scrollHeight-I;B!==null&&(J=H*B,W==="border-box"&&(J=J+I+F),Y=Math.max(J,Y)),V!==null&&(C=H*V,W==="border-box"&&(C=C+I+F),k=Y>C?"":"hidden",Y=Math.min(C,Y))}var te={height:Y,overflowY:k,resize:"none"};return J&&(te.minHeight=J),C&&(te.maxHeight=C),te}var S=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],$=0,Z=1,K=2,z=l.forwardRef(function(L,N){var B=L,V=B.prefixCls,U=B.onPressEnter,I=B.defaultValue,F=B.value,W=B.autoSize,X=B.onResize,J=B.className,C=B.style,k=B.disabled,Y=B.onChange,H=B.onInternalAutoSize,te=(0,d.Z)(B,S),le=(0,f.Z)(I,{value:F,postState:function(ye){return ye!=null?ye:""}}),ne=(0,p.Z)(le,2),ie=ne[0],ee=ne[1],fe=function(ye){ee(ye.target.value),Y==null||Y(ye)},de=l.useRef();l.useImperativeHandle(N,function(){return{textArea:de.current}});var ue=l.useMemo(function(){return W&&(0,n.Z)(W)==="object"?[W.minRows,W.maxRows]:[]},[W]),Se=(0,p.Z)(ue,2),ae=Se[0],G=Se[1],re=!!W,oe=function(){try{if(document.activeElement===de.current){var ye=de.current,_e=ye.selectionStart,q=ye.selectionEnd,pe=ye.scrollTop;de.current.setSelectionRange(_e,q),de.current.scrollTop=pe}}catch(Re){}},ce=l.useState(K),be=(0,p.Z)(ce,2),xe=be[0],ge=be[1],he=l.useState(),Pe=(0,p.Z)(he,2),Ae=Pe[0],Be=Pe[1],Le=function(){ge($)};(0,o.Z)(function(){re&&Le()},[F,ae,G,re]),(0,o.Z)(function(){if(xe===$)ge(Z);else if(xe===Z){var De=T(de.current,!1,ae,G);ge(K),Be(De)}else oe()},[xe]);var Me=l.useRef(),Te=function(){g.Z.cancel(Me.current)},we=function(ye){xe===K&&(X==null||X(ye),W&&(Te(),Me.current=(0,g.Z)(function(){Le()})))};l.useEffect(function(){return Te},[]);var Ue=re?Ae:null,je=(0,m.Z)((0,m.Z)({},C),Ue);return(xe===$||xe===Z)&&(je.overflowY="hidden",je.overflowX="hidden"),l.createElement(r.Z,{onResize:we,disabled:!(W||X)},l.createElement("textarea",(0,v.Z)({},te,{ref:de,style:je,className:t()(V,J,(0,x.Z)({},"".concat(V,"-disabled"),k)),disabled:k,value:ie,onChange:fe})))}),w=z,A=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],M=l.forwardRef(function(L,N){var B,V,U=L.defaultValue,I=L.value,F=L.onFocus,W=L.onBlur,X=L.onChange,J=L.allowClear,C=L.maxLength,k=L.onCompositionStart,Y=L.onCompositionEnd,H=L.suffix,te=L.prefixCls,le=te===void 0?"rc-textarea":te,ne=L.classes,ie=L.showCount,ee=L.count,fe=L.className,de=L.style,ue=L.disabled,Se=L.hidden,ae=L.classNames,G=L.styles,re=L.onResize,oe=(0,d.Z)(L,A),ce=(0,f.Z)(U,{value:I,defaultValue:U}),be=(0,p.Z)(ce,2),xe=be[0],ge=be[1],he=xe==null?"":String(xe),Pe=l.useState(!1),Ae=(0,p.Z)(Pe,2),Be=Ae[0],Le=Ae[1],Me=l.useRef(!1),Te=l.useState(null),we=(0,p.Z)(Te,2),Ue=we[0],je=we[1],De=(0,l.useRef)(null),ye=function(){var Tt;return(Tt=De.current)===null||Tt===void 0?void 0:Tt.textArea},_e=function(){ye().focus()};(0,l.useImperativeHandle)(N,function(){return{resizableTextArea:De.current,focus:_e,blur:function(){ye().blur()}}}),(0,l.useEffect)(function(){Le(function(St){return!ue&&St})},[ue]);var q=l.useState(null),pe=(0,p.Z)(q,2),Re=pe[0],Oe=pe[1];l.useEffect(function(){if(Re){var St;(St=ye()).setSelectionRange.apply(St,(0,u.Z)(Re))}},[Re]);var $e=(0,i.Z)(ee,ie),Ve=(B=$e.max)!==null&&B!==void 0?B:C,Ze=Number(Ve)>0,qe=$e.strategy(he),Qe=!!Ve&&qe>Ve,ke=function(Tt,Mt){var Zt=Mt;!Me.current&&$e.exceedFormatter&&$e.max&&$e.strategy(Mt)>$e.max&&(Zt=$e.exceedFormatter(Mt,{max:$e.max}),Mt!==Zt&&Oe([ye().selectionStart||0,ye().selectionEnd||0])),ge(Zt),(0,a.rJ)(Tt.currentTarget,Tt,X,Zt)},ft=function(Tt){Me.current=!0,k==null||k(Tt)},vt=function(Tt){Me.current=!1,ke(Tt,Tt.currentTarget.value),Y==null||Y(Tt)},_t=function(Tt){ke(Tt,Tt.target.value)},Nt=function(Tt){var Mt=oe.onPressEnter,Zt=oe.onKeyDown;Tt.key==="Enter"&&Mt&&Mt(Tt),Zt==null||Zt(Tt)},Kt=function(Tt){Le(!0),F==null||F(Tt)},ut=function(Tt){Le(!1),W==null||W(Tt)},Rt=function(Tt){ge(""),_e(),(0,a.rJ)(ye(),Tt,X)},Dt=H,dt;$e.show&&($e.showFormatter?dt=$e.showFormatter({value:he,count:qe,maxLength:Ve}):dt="".concat(qe).concat(Ze?" / ".concat(Ve):""),Dt=l.createElement(l.Fragment,null,Dt,l.createElement("span",{className:t()("".concat(le,"-data-count"),ae==null?void 0:ae.count),style:G==null?void 0:G.count},dt)));var Bt=function(Tt){var Mt;re==null||re(Tt),(Mt=ye())!==null&&Mt!==void 0&&Mt.style.height&&je(!0)},He=!oe.autoSize&&!ie&&!J,ct=l.createElement(c.Q,{value:he,allowClear:J,handleReset:Rt,suffix:Dt,prefixCls:le,classes:{affixWrapper:t()(ne==null?void 0:ne.affixWrapper,(V={},(0,x.Z)(V,"".concat(le,"-show-count"),ie),(0,x.Z)(V,"".concat(le,"-textarea-allow-clear"),J),V))},disabled:ue,focused:Be,className:t()(fe,Qe&&"".concat(le,"-out-of-range")),style:(0,m.Z)((0,m.Z)({},de),Ue&&!He?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof dt=="string"?dt:void 0}},hidden:Se,inputElement:l.createElement(w,(0,v.Z)({},oe,{maxLength:C,onKeyDown:Nt,onChange:_t,onFocus:Kt,onBlur:ut,onCompositionStart:ft,onCompositionEnd:vt,className:t()(ae==null?void 0:ae.textarea),style:(0,m.Z)((0,m.Z)({},G==null?void 0:G.textarea),{},{resize:de==null?void 0:de.resize}),disabled:ue,prefixCls:le,onResize:Bt,ref:De}))});return ct}),b=M,R=b},36356:function(se,j,e){"use strict";e.d(j,{Z:function(){return N}});var v=e(87462),m=e(15671),x=e(43144),u=e(97326),p=e(32531),d=e(51630),h=e(4942),t=e(67294),c=e(1413),i=e(91),a=e(74165),f=e(71002),l=e(15861),n=e(74902),r=e(94184),o=e.n(r),g=e(64217),y=e(80334),D=function(B,V){if(B&&V){var U=Array.isArray(V)?V:V.split(","),I=B.name||"",F=B.type||"",W=F.replace(/\/.*$/,"");return U.some(function(X){var J=X.trim();if(/^\*(\/\*)?$/.test(X))return!0;if(J.charAt(0)==="."){var C=I.toLowerCase(),k=J.toLowerCase(),Y=[k];return(k===".jpg"||k===".jpeg")&&(Y=[".jpg",".jpeg"]),Y.some(function(H){return C.endsWith(H)})}return/\/\*$/.test(J)?W===J.replace(/\/.*$/,""):F===J?!0:/^\w+$/.test(J)?((0,y.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(J,"'.Skip for check.")),!0):!1})}return!0};function P(B,V){var U="cannot ".concat(B.method," ").concat(B.action," ").concat(V.status,"'"),I=new Error(U);return I.status=V.status,I.method=B.method,I.url=B.action,I}function E(B){var V=B.responseText||B.response;if(!V)return V;try{return JSON.parse(V)}catch(U){return V}}function O(B){var V=new XMLHttpRequest;B.onProgress&&V.upload&&(V.upload.onprogress=function(W){W.total>0&&(W.percent=W.loaded/W.total*100),B.onProgress(W)});var U=new FormData;B.data&&Object.keys(B.data).forEach(function(F){var W=B.data[F];if(Array.isArray(W)){W.forEach(function(X){U.append("".concat(F,"[]"),X)});return}U.append(F,W)}),B.file instanceof Blob?U.append(B.filename,B.file,B.file.name):U.append(B.filename,B.file),V.onerror=function(W){B.onError(W)},V.onload=function(){return V.status<200||V.status>=300?B.onError(P(B,V),E(V)):B.onSuccess(E(V),V)},V.open(B.method,B.action,!0),B.withCredentials&&"withCredentials"in V&&(V.withCredentials=!0);var I=B.headers||{};return I["X-Requested-With"]!==null&&V.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(I).forEach(function(F){I[F]!==null&&V.setRequestHeader(F,I[F])}),V.send(U),{abort:function(){V.abort()}}}function T(B,V){var U=B.createReader(),I=[];function F(){U.readEntries(function(W){var X=Array.prototype.slice.apply(W);I=I.concat(X);var J=!X.length;J?V(I):F()})}F()}var S=function(V,U,I){var F=function W(X,J){X&&(X.path=J||"",X.isFile?X.file(function(C){I(C)&&(X.fullPath&&!C.webkitRelativePath&&(Object.defineProperties(C,{webkitRelativePath:{writable:!0}}),C.webkitRelativePath=X.fullPath.replace(/^\//,""),Object.defineProperties(C,{webkitRelativePath:{writable:!1}})),U([C]))}):X.isDirectory&&T(X,function(C){C.forEach(function(k){W(k,"".concat(J).concat(X.name,"/"))})}))};V.forEach(function(W){F(W.webkitGetAsEntry())})},$=S,Z=+new Date,K=0;function z(){return"rc-upload-".concat(Z,"-").concat(++K)}var w=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],A=function(B){(0,p.Z)(U,B);var V=(0,d.Z)(U);function U(){var I;(0,m.Z)(this,U);for(var F=arguments.length,W=new Array(F),X=0;X<F;X++)W[X]=arguments[X];return I=V.call.apply(V,[this].concat(W)),(0,h.Z)((0,u.Z)(I),"state",{uid:z()}),(0,h.Z)((0,u.Z)(I),"reqs",{}),(0,h.Z)((0,u.Z)(I),"fileInput",void 0),(0,h.Z)((0,u.Z)(I),"_isMounted",void 0),(0,h.Z)((0,u.Z)(I),"onChange",function(J){var C=I.props,k=C.accept,Y=C.directory,H=J.target.files,te=(0,n.Z)(H).filter(function(le){return!Y||D(le,k)});I.uploadFiles(te),I.reset()}),(0,h.Z)((0,u.Z)(I),"onClick",function(J){var C=I.fileInput;if(C){var k=J.target,Y=I.props.onClick;if(k&&k.tagName==="BUTTON"){var H=C.parentNode;H.focus(),k.blur()}C.click(),Y&&Y(J)}}),(0,h.Z)((0,u.Z)(I),"onKeyDown",function(J){J.key==="Enter"&&I.onClick(J)}),(0,h.Z)((0,u.Z)(I),"onFileDrop",function(J){var C=I.props.multiple;if(J.preventDefault(),J.type!=="dragover")if(I.props.directory)$(Array.prototype.slice.call(J.dataTransfer.items),I.uploadFiles,function(Y){return D(Y,I.props.accept)});else{var k=(0,n.Z)(J.dataTransfer.files).filter(function(Y){return D(Y,I.props.accept)});C===!1&&(k=k.slice(0,1)),I.uploadFiles(k)}}),(0,h.Z)((0,u.Z)(I),"uploadFiles",function(J){var C=(0,n.Z)(J),k=C.map(function(Y){return Y.uid=z(),I.processFile(Y,C)});Promise.all(k).then(function(Y){var H=I.props.onBatchStart;H==null||H(Y.map(function(te){var le=te.origin,ne=te.parsedFile;return{file:le,parsedFile:ne}})),Y.filter(function(te){return te.parsedFile!==null}).forEach(function(te){I.post(te)})})}),(0,h.Z)((0,u.Z)(I),"processFile",function(){var J=(0,l.Z)((0,a.Z)().mark(function C(k,Y){var H,te,le,ne,ie,ee,fe,de,ue;return(0,a.Z)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(H=I.props.beforeUpload,te=k,!H){ae.next=14;break}return ae.prev=3,ae.next=6,H(k,Y);case 6:te=ae.sent,ae.next=12;break;case 9:ae.prev=9,ae.t0=ae.catch(3),te=!1;case 12:if(te!==!1){ae.next=14;break}return ae.abrupt("return",{origin:k,parsedFile:null,action:null,data:null});case 14:if(le=I.props.action,typeof le!="function"){ae.next=21;break}return ae.next=18,le(k);case 18:ne=ae.sent,ae.next=22;break;case 21:ne=le;case 22:if(ie=I.props.data,typeof ie!="function"){ae.next=29;break}return ae.next=26,ie(k);case 26:ee=ae.sent,ae.next=30;break;case 29:ee=ie;case 30:return fe=((0,f.Z)(te)==="object"||typeof te=="string")&&te?te:k,fe instanceof File?de=fe:de=new File([fe],k.name,{type:k.type}),ue=de,ue.uid=k.uid,ae.abrupt("return",{origin:k,data:ee,parsedFile:ue,action:ne});case 35:case"end":return ae.stop()}},C,null,[[3,9]])}));return function(C,k){return J.apply(this,arguments)}}()),(0,h.Z)((0,u.Z)(I),"saveFileInput",function(J){I.fileInput=J}),I}return(0,x.Z)(U,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(F){var W=this,X=F.data,J=F.origin,C=F.action,k=F.parsedFile;if(this._isMounted){var Y=this.props,H=Y.onStart,te=Y.customRequest,le=Y.name,ne=Y.headers,ie=Y.withCredentials,ee=Y.method,fe=J.uid,de=te||O,ue={action:C,filename:le,data:X,file:k,headers:ne,withCredentials:ie,method:ee||"post",onProgress:function(ae){var G=W.props.onProgress;G==null||G(ae,k)},onSuccess:function(ae,G){var re=W.props.onSuccess;re==null||re(ae,k,G),delete W.reqs[fe]},onError:function(ae,G){var re=W.props.onError;re==null||re(ae,G,k),delete W.reqs[fe]}};H(J),this.reqs[fe]=de(ue)}}},{key:"reset",value:function(){this.setState({uid:z()})}},{key:"abort",value:function(F){var W=this.reqs;if(F){var X=F.uid?F.uid:F;W[X]&&W[X].abort&&W[X].abort(),delete W[X]}else Object.keys(W).forEach(function(J){W[J]&&W[J].abort&&W[J].abort(),delete W[J]})}},{key:"render",value:function(){var F,W=this.props,X=W.component,J=W.prefixCls,C=W.className,k=W.classNames,Y=k===void 0?{}:k,H=W.disabled,te=W.id,le=W.style,ne=W.styles,ie=ne===void 0?{}:ne,ee=W.multiple,fe=W.accept,de=W.capture,ue=W.children,Se=W.directory,ae=W.openFileDialogOnClick,G=W.onMouseEnter,re=W.onMouseLeave,oe=W.hasControlInside,ce=(0,i.Z)(W,w),be=o()((F={},(0,h.Z)(F,J,!0),(0,h.Z)(F,"".concat(J,"-disabled"),H),(0,h.Z)(F,C,C),F)),xe=Se?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},ge=H?{}:{onClick:ae?this.onClick:function(){},onKeyDown:ae?this.onKeyDown:function(){},onMouseEnter:G,onMouseLeave:re,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:oe?void 0:"0"};return t.createElement(X,(0,v.Z)({},ge,{className:be,role:oe?void 0:"button",style:le}),t.createElement("input",(0,v.Z)({},(0,g.Z)(ce,{aria:!0,data:!0}),{id:te,disabled:H,type:"file",ref:this.saveFileInput,onClick:function(Pe){return Pe.stopPropagation()},key:this.state.uid,style:(0,c.Z)({display:"none"},ie.input),className:Y.input,accept:fe},xe,{multiple:ee,onChange:this.onChange},de!=null?{capture:de}:{})),ue)}}]),U}(t.Component),M=A;function b(){}var R=function(B){(0,p.Z)(U,B);var V=(0,d.Z)(U);function U(){var I;(0,m.Z)(this,U);for(var F=arguments.length,W=new Array(F),X=0;X<F;X++)W[X]=arguments[X];return I=V.call.apply(V,[this].concat(W)),(0,h.Z)((0,u.Z)(I),"uploader",void 0),(0,h.Z)((0,u.Z)(I),"saveUploader",function(J){I.uploader=J}),I}return(0,x.Z)(U,[{key:"abort",value:function(F){this.uploader.abort(F)}},{key:"render",value:function(){return t.createElement(M,(0,v.Z)({},this.props,{ref:this.saveUploader}))}}]),U}(t.Component);(0,h.Z)(R,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:b,onError:b,onSuccess:b,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var L=R,N=L},4511:function(se,j,e){"use strict";e.d(j,{SV:function(){return u},cO:function(){return h}});var v=e(67294);const m=(0,v.createContext)(null),x={didCatch:!1,error:null};class u extends v.Component{constructor(i){super(i),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=x}static getDerivedStateFromError(i){return{didCatch:!0,error:i}}resetErrorBoundary(){const{error:i}=this.state;if(i!==null){for(var a,f,l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];(a=(f=this.props).onReset)===null||a===void 0||a.call(f,{args:n,reason:"imperative-api"}),this.setState(x)}}componentDidCatch(i,a){var f,l;(f=(l=this.props).onError)===null||f===void 0||f.call(l,i,a)}componentDidUpdate(i,a){const{didCatch:f}=this.state,{resetKeys:l}=this.props;if(f&&a.error!==null&&p(i.resetKeys,l)){var n,r;(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{next:l,prev:i.resetKeys,reason:"keys"}),this.setState(x)}}render(){const{children:i,fallbackRender:a,FallbackComponent:f,fallback:l}=this.props,{didCatch:n,error:r}=this.state;let o=i;if(n){const g={error:r,resetErrorBoundary:this.resetErrorBoundary};if((0,v.isValidElement)(l))o=l;else if(typeof a=="function")o=a(g);else if(f)o=(0,v.createElement)(f,g);else throw r}return(0,v.createElement)(m.Provider,{value:{didCatch:n,error:r,resetErrorBoundary:this.resetErrorBoundary}},o)}}function p(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return c.length!==i.length||c.some((a,f)=>!Object.is(a,i[f]))}function d(c){if(c==null||typeof c.didCatch!="boolean"||typeof c.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found");return!0}function h(){const c=(0,v.useContext)(m);d(c);const[i,a]=(0,v.useState)({error:null,hasError:!1}),f=(0,v.useMemo)(()=>({resetBoundary:()=>{c==null||c.resetErrorBoundary(),a({error:null,hasError:!1})},showBoundary:l=>a({error:l,hasError:!0})}),[c==null?void 0:c.resetErrorBoundary]);if(i.hasError)throw i.error;return f}function t(c,i){const a=forwardRef((l,n)=>createElement(u,i,createElement(c,Ds(Qa({},l),{ref:n})))),f=c.displayName||c.name||"Unknown";return a.displayName="withErrorBoundary(".concat(f,")"),a}},59251:function(se,j,e){"use strict";e.d(j,{c:function(){return z}});var v=e(91),m=e(71002),x=e(4942),u=e(67294),p=e(71739),d=e.n(p),h=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function t(w){var A={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},M=w.match(/<\/?([^\s]+?)[/\s>]/);if(M&&(A.name=M[1],(d()[M[1]]||w.charAt(w.length-2)==="/")&&(A.voidElement=!0),A.name.startsWith("!--"))){var b=w.indexOf("-->");return{type:"comment",comment:b!==-1?w.slice(4,b):""}}for(var R=new RegExp(h),L=null;(L=R.exec(w))!==null;)if(L[0].trim())if(L[1]){var N=L[1].trim(),B=[N,""];N.indexOf("=")>-1&&(B=N.split("=")),A.attrs[B[0]]=B[1],R.lastIndex--}else L[2]&&(A.attrs[L[2]]=L[3].trim().substring(1,L[3].length-1));return A}var c=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,a=Object.create(null);function f(w,A){switch(A.type){case"text":return w+A.content;case"tag":return w+="<"+A.name+(A.attrs?function(M){var b=[];for(var R in M)b.push(R+'="'+M[R]+'"');return b.length?" "+b.join(" "):""}(A.attrs):"")+(A.voidElement?"/>":">"),A.voidElement?w:w+A.children.reduce(f,"")+"</"+A.name+">";case"comment":return w+"<!--"+A.comment+"-->"}}var l={parse:function(w,A){A||(A={}),A.components||(A.components=a);var M,b=[],R=[],L=-1,N=!1;if(w.indexOf("<")!==0){var B=w.indexOf("<");b.push({type:"text",content:B===-1?w:w.substring(0,B)})}return w.replace(c,function(V,U){if(N){if(V!=="</"+M.name+">")return;N=!1}var I,F=V.charAt(1)!=="/",W=V.startsWith("<!--"),X=U+V.length,J=w.charAt(X);if(W){var C=t(V);return L<0?(b.push(C),b):((I=R[L]).children.push(C),b)}if(F&&(L++,(M=t(V)).type==="tag"&&A.components[M.name]&&(M.type="component",N=!0),M.voidElement||N||!J||J==="<"||M.children.push({type:"text",content:w.slice(X,w.indexOf("<",X))}),L===0&&b.push(M),(I=R[L-1])&&I.children.push(M),R[L]=M),(!F||M.voidElement)&&(L>-1&&(M.voidElement||M.name===V.slice(2,-1))&&(L--,M=L===-1?b:R[L]),!N&&J!=="<"&&J)){I=L===-1?b:R[L].children;var k=w.indexOf("<",X),Y=w.slice(X,k===-1?void 0:k);i.test(Y)&&(Y=" "),(k>-1&&L+I.length>=0||Y!==" ")&&I.push({type:"text",content:Y})}}),b},stringify:function(w){return w.reduce(function(A,M){return A+f("",M)},"")}},n=l,r=e(57715),o=e(58236),g=["format"],y=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function D(w,A){var M=Object.keys(w);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(w);A&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(w,R).enumerable})),M.push.apply(M,b)}return M}function P(w){for(var A=1;A<arguments.length;A++){var M=arguments[A]!=null?arguments[A]:{};A%2?D(Object(M),!0).forEach(function(b){(0,x.Z)(w,b,M[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(M)):D(Object(M)).forEach(function(b){Object.defineProperty(w,b,Object.getOwnPropertyDescriptor(M,b))})}return w}function E(w,A){if(!w)return!1;var M=w.props?w.props.children:w.children;return A?M.length>0:!!M}function O(w){return w?w.props?w.props.children:w.children:[]}function T(w){return Object.prototype.toString.call(w)!=="[object Array]"?!1:w.every(function(A){return(0,u.isValidElement)(A)})}function S(w){return Array.isArray(w)?w:[w]}function $(w,A){var M=P({},A);return M.props=Object.assign(w.props,A.props),M}function Z(w,A){if(!w)return"";var M="",b=S(w),R=A.transSupportBasicHtmlNodes&&A.transKeepBasicHtmlNodesFor?A.transKeepBasicHtmlNodesFor:[];return b.forEach(function(L,N){if(typeof L=="string")M+="".concat(L);else if((0,u.isValidElement)(L)){var B=Object.keys(L.props).length,V=R.indexOf(L.type)>-1,U=L.props.children;if(!U&&V&&B===0)M+="<".concat(L.type,"/>");else if(!U&&(!V||B!==0))M+="<".concat(N,"></").concat(N,">");else if(L.props.i18nIsDynamicList)M+="<".concat(N,"></").concat(N,">");else if(V&&B===1&&typeof U=="string")M+="<".concat(L.type,">").concat(U,"</").concat(L.type,">");else{var I=Z(U,A);M+="<".concat(N,">").concat(I,"</").concat(N,">")}}else if(L===null)(0,o.ZK)("Trans: the passed in value is invalid - seems you passed in a null child.");else if((0,m.Z)(L)==="object"){var F=L.format,W=(0,v.Z)(L,g),X=Object.keys(W);if(X.length===1){var J=F?"".concat(X[0],", ").concat(F):X[0];M+="{{".concat(J,"}}")}else(0,o.ZK)("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",L)}else(0,o.ZK)("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",L)}),M}function K(w,A,M,b,R,L){if(A==="")return[];var N=b.transKeepBasicHtmlNodesFor||[],B=A&&new RegExp(N.join("|")).test(A);if(!w&&!B)return[A];var V={};function U(k){var Y=S(k);Y.forEach(function(H){typeof H!="string"&&(E(H)?U(O(H)):(0,m.Z)(H)==="object"&&!(0,u.isValidElement)(H)&&Object.assign(V,H))})}U(w);var I=n.parse("<0>".concat(A,"</0>")),F=P(P({},V),R);function W(k,Y,H){var te=O(k),le=J(te,Y.children,H);return T(te)&&le.length===0?te:le}function X(k,Y,H,te,le){k.dummy&&(k.children=Y),H.push((0,u.cloneElement)(k,P(P({},k.props),{},{key:te}),le?void 0:Y))}function J(k,Y,H){var te=S(k),le=S(Y);return le.reduce(function(ne,ie,ee){var fe=ie.children&&ie.children[0]&&ie.children[0].content&&M.services.interpolator.interpolate(ie.children[0].content,F,M.language);if(ie.type==="tag"){var de=te[parseInt(ie.name,10)];!de&&H.length===1&&H[0][ie.name]&&(de=H[0][ie.name]),de||(de={});var ue=Object.keys(ie.attrs).length!==0?$({props:ie.attrs},de):de,Se=(0,u.isValidElement)(ue),ae=Se&&E(ie,!0)&&!ie.voidElement,G=B&&(0,m.Z)(ue)==="object"&&ue.dummy&&!Se,re=(0,m.Z)(w)==="object"&&w!==null&&Object.hasOwnProperty.call(w,ie.name);if(typeof ue=="string"){var oe=M.services.interpolator.interpolate(ue,F,M.language);ne.push(oe)}else if(E(ue)||ae){var ce=W(ue,ie,H);X(ue,ce,ne,ee)}else if(G){var be=J(te,ie.children,H);ne.push((0,u.cloneElement)(ue,P(P({},ue.props),{},{key:ee}),be))}else if(Number.isNaN(parseFloat(ie.name)))if(re){var xe=W(ue,ie,H);X(ue,xe,ne,ee,ie.voidElement)}else if(b.transSupportBasicHtmlNodes&&N.indexOf(ie.name)>-1)if(ie.voidElement)ne.push((0,u.createElement)(ie.name,{key:"".concat(ie.name,"-").concat(ee)}));else{var ge=J(te,ie.children,H);ne.push((0,u.createElement)(ie.name,{key:"".concat(ie.name,"-").concat(ee)},ge))}else if(ie.voidElement)ne.push("<".concat(ie.name," />"));else{var he=J(te,ie.children,H);ne.push("<".concat(ie.name,">").concat(he,"</").concat(ie.name,">"))}else if((0,m.Z)(ue)==="object"&&!Se){var Pe=ie.children[0]?fe:null;Pe&&ne.push(Pe)}else ie.children.length===1&&fe?ne.push((0,u.cloneElement)(ue,P(P({},ue.props),{},{key:ee}),fe)):ne.push((0,u.cloneElement)(ue,P(P({},ue.props),{},{key:ee})))}else if(ie.type==="text"){var Ae=b.transWrapTextNodes,Be=L?b.unescape(M.services.interpolator.interpolate(ie.content,F,M.language)):M.services.interpolator.interpolate(ie.content,F,M.language);Ae?ne.push((0,u.createElement)(Ae,{key:"".concat(ie.name,"-").concat(ee)},Be)):ne.push(Be)}return ne},[])}var C=J([{dummy:!0,children:w||[]}],I,S(w||[]));return O(C[0])}function z(w){var A=w.children,M=w.count,b=w.parent,R=w.i18nKey,L=w.context,N=w.tOptions,B=N===void 0?{}:N,V=w.values,U=w.defaults,I=w.components,F=w.ns,W=w.i18n,X=w.t,J=w.shouldUnescape,C=(0,v.Z)(w,y),k=(0,u.useContext)(r.OO)||{},Y=k.i18n,H=k.defaultNS,te=W||Y||(0,r.nI)();if(!te)return(0,o.O4)("You will need to pass in an i18next instance by using i18nextReactModule"),A;var le=X||te.t.bind(te)||function(oe){return oe};L&&(B.context=L);var ne=P(P({},(0,r.JP)()),te.options&&te.options.react),ie=F||le.ns||H||te.options&&te.options.defaultNS;ie=typeof ie=="string"?[ie]:ie||["translation"];var ee=U||Z(A,ne)||ne.transEmptyNodeValue||R,fe=ne.hashTransKey,de=R||(fe?fe(ee):ee),ue=V?B.interpolation:{interpolation:P(P({},B.interpolation),{},{prefix:"#$?",suffix:"?$#"})},Se=P(P(P(P({},B),{},{count:M},V),ue),{},{defaultValue:ee,ns:ie}),ae=de?le(de,Se):ee,G=K(I||A,ae,te,ne,Se,J),re=b!==void 0?b:ne.defaultTransParent;return re?(0,u.createElement)(re,C,G):G}},57715:function(se,j,e){"use strict";e.d(j,{OO:function(){return l},zv:function(){return o},qi:function(){return P},JP:function(){return r},nI:function(){return y},kK:function(){return E},Db:function(){return D},j_:function(){return n},I6:function(){return g}});var v=e(15671),m=e(43144),x=e(4942),u=e(67294),p=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,d={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},h=function(T){return d[T]},t=function(T){return T.replace(p,h)};function c(O,T){var S=Object.keys(O);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(O);T&&($=$.filter(function(Z){return Object.getOwnPropertyDescriptor(O,Z).enumerable})),S.push.apply(S,$)}return S}function i(O){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?c(Object(S),!0).forEach(function($){(0,x.Z)(O,$,S[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(S)):c(Object(S)).forEach(function($){Object.defineProperty(O,$,Object.getOwnPropertyDescriptor(S,$))})}return O}var a={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t},f,l=(0,u.createContext)();function n(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a=i(i({},a),O)}function r(){return a}var o=function(){function O(){(0,v.Z)(this,O),this.usedNamespaces={}}return(0,m.Z)(O,[{key:"addUsedNamespaces",value:function(S){var $=this;S.forEach(function(Z){$.usedNamespaces[Z]||($.usedNamespaces[Z]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),O}();function g(O){f=O}function y(){return f}var D={type:"3rdParty",init:function(T){n(T.options.react),g(T)}};function P(O){return function(T){return new Promise(function(S){var $=E();O.getInitialProps?O.getInitialProps(T).then(function(Z){S(i(i({},Z),$))}):S($)})}}function E(){var O=y(),T=O.reportNamespaces?O.reportNamespaces.getUsedNamespaces():[],S={},$={};return O.languages.forEach(function(Z){$[Z]={},T.forEach(function(K){$[Z][K]=O.getResourceBundle(Z,K)||{}})}),S.initialI18nStore=$,S.initialLanguage=O.language,S}},26793:function(se,j,e){"use strict";e.d(j,{$:function(){return c}});var v=e(97685),m=e(4942),x=e(67294),u=e(57715),p=e(58236);function d(i,a){var f=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),f.push.apply(f,l)}return f}function h(i){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?d(Object(f),!0).forEach(function(l){(0,m.Z)(i,l,f[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(f)):d(Object(f)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(f,l))})}return i}var t=function(a,f){var l=(0,x.useRef)();return(0,x.useEffect)(function(){l.current=f?l.current:a},[a,f]),l.current};function c(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=a.i18n,l=(0,x.useContext)(u.OO)||{},n=l.i18n,r=l.defaultNS,o=f||n||(0,u.nI)();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new u.zv),!o){(0,p.O4)("You will need to pass in an i18next instance by using initReactI18next");var g=function(N){return Array.isArray(N)?N[N.length-1]:N},y=[g,{},!1];return y.t=g,y.i18n={},y.ready=!1,y}o.options.react&&o.options.react.wait!==void 0&&(0,p.O4)("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var D=h(h(h({},(0,u.JP)()),o.options.react),a),P=D.useSuspense,E=D.keyPrefix,O=i||r||o.options&&o.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(O);var T=(o.isInitialized||o.initializedStoreOnce)&&O.every(function(L){return(0,p.F0)(L,o,D)});function S(){return o.getFixedT(null,D.nsMode==="fallback"?O:O[0],E)}var $=(0,x.useState)(S),Z=(0,v.Z)($,2),K=Z[0],z=Z[1],w=O.join(),A=t(w),M=(0,x.useRef)(!0);(0,x.useEffect)(function(){var L=D.bindI18n,N=D.bindI18nStore;M.current=!0,!T&&!P&&(0,p.DC)(o,O,function(){M.current&&z(S)}),T&&A&&A!==w&&M.current&&z(S);function B(){M.current&&z(S)}return L&&o&&o.on(L,B),N&&o&&o.store.on(N,B),function(){M.current=!1,L&&o&&L.split(" ").forEach(function(V){return o.off(V,B)}),N&&o&&N.split(" ").forEach(function(V){return o.store.off(V,B)})}},[o,w]);var b=(0,x.useRef)(!0);(0,x.useEffect)(function(){M.current&&!b.current&&z(S),b.current=!1},[o,E]);var R=[K,o,T];if(R.t=K,R.i18n=o,R.ready=T,T||!T&&!P)return R;throw new Promise(function(L){(0,p.DC)(o,O,function(){L()})})}},58236:function(se,j,e){"use strict";e.d(j,{DC:function(){return u},F0:function(){return d},Gf:function(){return h},O4:function(){return x},ZK:function(){return v}});function v(){if(console&&console.warn){for(var t,c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];typeof i[0]=="string"&&(i[0]="react-i18next:: ".concat(i[0])),(t=console).warn.apply(t,i)}}var m={};function x(){for(var t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];typeof c[0]=="string"&&m[c[0]]||(typeof c[0]=="string"&&(m[c[0]]=new Date),v.apply(void 0,c))}function u(t,c,i){t.loadNamespaces(c,function(){if(t.isInitialized)i();else{var a=function f(){setTimeout(function(){t.off("initialized",f)},0),i()};t.on("initialized",a)}})}function p(t,c){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=c.languages[0],f=c.options?c.options.fallbackLng:!1,l=c.languages[c.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var n=function(o,g){var y=c.services.backendConnector.state["".concat(o,"|").concat(g)];return y===-1||y===2};return i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&c.services.backendConnector.backend&&c.isLanguageChangingTo&&!n(c.isLanguageChangingTo,t)?!1:!!(c.hasResourceBundle(a,t)||!c.services.backendConnector.backend||c.options.resources&&!c.options.partialBundledLanguages||n(a,t)&&(!f||n(l,t)))}function d(t,c){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!c.languages||!c.languages.length)return x("i18n.languages were undefined or empty",c.languages),!0;var a=c.options.ignoreJSONStructure!==void 0;return a?c.hasLoadedNamespace(t,{precheck:function(l,n){if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!n(l.isLanguageChangingTo,t))return!1}}):p(t,c,i)}function h(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}},69921:function(se,j){"use strict";var e=typeof Symbol=="function"&&Symbol.for,v=e?Symbol.for("react.element"):60103,m=e?Symbol.for("react.portal"):60106,x=e?Symbol.for("react.fragment"):60107,u=e?Symbol.for("react.strict_mode"):60108,p=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,h=e?Symbol.for("react.context"):60110,t=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,i=e?Symbol.for("react.forward_ref"):60112,a=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,l=e?Symbol.for("react.memo"):60115,n=e?Symbol.for("react.lazy"):60116,r=e?Symbol.for("react.block"):60121,o=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function D(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case v:switch(E=E.type,E){case t:case c:case x:case p:case u:case a:return E;default:switch(E=E&&E.$$typeof,E){case h:case i:case n:case l:case d:return E;default:return O}}case m:return O}}}function P(E){return D(E)===c}j.AsyncMode=t,j.ConcurrentMode=c,j.ContextConsumer=h,j.ContextProvider=d,j.Element=v,j.ForwardRef=i,j.Fragment=x,j.Lazy=n,j.Memo=l,j.Portal=m,j.Profiler=p,j.StrictMode=u,j.Suspense=a,j.isAsyncMode=function(E){return P(E)||D(E)===t},j.isConcurrentMode=P,j.isContextConsumer=function(E){return D(E)===h},j.isContextProvider=function(E){return D(E)===d},j.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===v},j.isForwardRef=function(E){return D(E)===i},j.isFragment=function(E){return D(E)===x},j.isLazy=function(E){return D(E)===n},j.isMemo=function(E){return D(E)===l},j.isPortal=function(E){return D(E)===m},j.isProfiler=function(E){return D(E)===p},j.isStrictMode=function(E){return D(E)===u},j.isSuspense=function(E){return D(E)===a},j.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===x||E===c||E===p||E===u||E===a||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===n||E.$$typeof===l||E.$$typeof===d||E.$$typeof===h||E.$$typeof===i||E.$$typeof===o||E.$$typeof===g||E.$$typeof===y||E.$$typeof===r)},j.typeOf=D},59864:function(se,j,e){"use strict";se.exports=e(69921)},46871:function(se,j,e){"use strict";e.r(j),e.d(j,{polyfill:function(){return u}});function v(){var p=this.constructor.getDerivedStateFromProps(this.props,this.state);p!=null&&this.setState(p)}function m(p){function d(h){var t=this.constructor.getDerivedStateFromProps(p,h);return t!=null?t:null}this.setState(d.bind(this))}function x(p,d){try{var h=this.props,t=this.state;this.props=p,this.state=d,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(h,t)}finally{this.props=h,this.state=t}}v.__suppressDeprecationWarning=!0,m.__suppressDeprecationWarning=!0,x.__suppressDeprecationWarning=!0;function u(p){var d=p.prototype;if(!d||!d.isReactComponent)throw new Error("Can only polyfill class components");if(typeof p.getDerivedStateFromProps!="function"&&typeof d.getSnapshotBeforeUpdate!="function")return p;var h=null,t=null,c=null;if(typeof d.componentWillMount=="function"?h="componentWillMount":typeof d.UNSAFE_componentWillMount=="function"&&(h="UNSAFE_componentWillMount"),typeof d.componentWillReceiveProps=="function"?t="componentWillReceiveProps":typeof d.UNSAFE_componentWillReceiveProps=="function"&&(t="UNSAFE_componentWillReceiveProps"),typeof d.componentWillUpdate=="function"?c="componentWillUpdate":typeof d.UNSAFE_componentWillUpdate=="function"&&(c="UNSAFE_componentWillUpdate"),h!==null||t!==null||c!==null){var i=p.displayName||p.name,a=typeof p.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(h!==null?`
  `+h:"")+(t!==null?`
  `+t:"")+(c!==null?`
  `+c:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof p.getDerivedStateFromProps=="function"&&(d.componentWillMount=v,d.componentWillReceiveProps=m),typeof d.getSnapshotBeforeUpdate=="function"){if(typeof d.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");d.componentWillUpdate=x;var f=d.componentDidUpdate;d.componentDidUpdate=function(n,r,o){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:o;f.call(this,n,r,g)}}return p}},29983:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.bodyOpenClassName=j.portalClassName=void 0;var v=Object.assign||function(z){for(var w=1;w<arguments.length;w++){var A=arguments[w];for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(z[M]=A[M])}return z},m=function(){function z(w,A){for(var M=0;M<A.length;M++){var b=A[M];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,A,M){return A&&z(w.prototype,A),M&&z(w,M),w}}(),x=e(67294),u=g(x),p=e(73935),d=g(p),h=e(45697),t=g(h),c=e(28747),i=g(c),a=e(57149),f=o(a),l=e(51112),n=g(l),r=e(46871);function o(z){if(z&&z.__esModule)return z;var w={};if(z!=null)for(var A in z)Object.prototype.hasOwnProperty.call(z,A)&&(w[A]=z[A]);return w.default=z,w}function g(z){return z&&z.__esModule?z:{default:z}}function y(z,w){if(!(z instanceof w))throw new TypeError("Cannot call a class as a function")}function D(z,w){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:z}function P(z,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);z.prototype=Object.create(w&&w.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(z,w):z.__proto__=w)}var E=j.portalClassName="ReactModalPortal",O=j.bodyOpenClassName="ReactModal__Body--open",T=l.canUseDOM&&d.default.createPortal!==void 0,S=function(w){return document.createElement(w)},$=function(){return T?d.default.createPortal:d.default.unstable_renderSubtreeIntoContainer};function Z(z){return z()}var K=function(z){P(w,z);function w(){var A,M,b,R;y(this,w);for(var L=arguments.length,N=Array(L),B=0;B<L;B++)N[B]=arguments[B];return R=(M=(b=D(this,(A=w.__proto__||Object.getPrototypeOf(w)).call.apply(A,[this].concat(N))),b),b.removePortal=function(){!T&&d.default.unmountComponentAtNode(b.node);var V=Z(b.props.parentSelector);V&&V.contains(b.node)?V.removeChild(b.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},b.portalRef=function(V){b.portal=V},b.renderPortal=function(V){var U=$(),I=U(b,u.default.createElement(i.default,v({defaultStyles:w.defaultStyles},V)),b.node);b.portalRef(I)},M),D(b,R)}return m(w,[{key:"componentDidMount",value:function(){if(l.canUseDOM){T||(this.node=S("div")),this.node.className=this.props.portalClassName;var M=Z(this.props.parentSelector);M.appendChild(this.node),!T&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(M){var b=Z(M.parentSelector),R=Z(this.props.parentSelector);return{prevParent:b,nextParent:R}}},{key:"componentDidUpdate",value:function(M,b,R){if(l.canUseDOM){var L=this.props,N=L.isOpen,B=L.portalClassName;M.portalClassName!==B&&(this.node.className=B);var V=R.prevParent,U=R.nextParent;U!==V&&(V.removeChild(this.node),U.appendChild(this.node)),!(!M.isOpen&&!N)&&!T&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!l.canUseDOM||!this.node||!this.portal)){var M=this.portal.state,b=Date.now(),R=M.isOpen&&this.props.closeTimeoutMS&&(M.closesAt||b+this.props.closeTimeoutMS);R?(M.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,R-b)):this.removePortal()}}},{key:"render",value:function(){if(!l.canUseDOM||!T)return null;!this.node&&T&&(this.node=S("div"));var M=$();return M(u.default.createElement(i.default,v({ref:this.portalRef,defaultStyles:w.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(M){f.setElement(M)}}]),w}(x.Component);K.propTypes={isOpen:t.default.bool.isRequired,style:t.default.shape({content:t.default.object,overlay:t.default.object}),portalClassName:t.default.string,bodyOpenClassName:t.default.string,htmlOpenClassName:t.default.string,className:t.default.oneOfType([t.default.string,t.default.shape({base:t.default.string.isRequired,afterOpen:t.default.string.isRequired,beforeClose:t.default.string.isRequired})]),overlayClassName:t.default.oneOfType([t.default.string,t.default.shape({base:t.default.string.isRequired,afterOpen:t.default.string.isRequired,beforeClose:t.default.string.isRequired})]),appElement:t.default.oneOfType([t.default.instanceOf(n.default),t.default.instanceOf(l.SafeHTMLCollection),t.default.instanceOf(l.SafeNodeList),t.default.arrayOf(t.default.instanceOf(n.default))]),onAfterOpen:t.default.func,onRequestClose:t.default.func,closeTimeoutMS:t.default.number,ariaHideApp:t.default.bool,shouldFocusAfterRender:t.default.bool,shouldCloseOnOverlayClick:t.default.bool,shouldReturnFocusAfterClose:t.default.bool,preventScroll:t.default.bool,parentSelector:t.default.func,aria:t.default.object,data:t.default.object,role:t.default.string,contentLabel:t.default.string,shouldCloseOnEsc:t.default.bool,overlayRef:t.default.func,contentRef:t.default.func,id:t.default.string,overlayElement:t.default.func,contentElement:t.default.func},K.defaultProps={isOpen:!1,portalClassName:E,bodyOpenClassName:O,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(w,A){return u.default.createElement("div",w,A)},contentElement:function(w,A){return u.default.createElement("div",w,A)}},K.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,r.polyfill)(K),j.default=K},28747:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var v=Object.assign||function(w){for(var A=1;A<arguments.length;A++){var M=arguments[A];for(var b in M)Object.prototype.hasOwnProperty.call(M,b)&&(w[b]=M[b])}return w},m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},x=function(){function w(A,M){for(var b=0;b<M.length;b++){var R=M[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,M,b){return M&&w(A.prototype,M),b&&w(A,b),A}}(),u=e(67294),p=e(45697),d=P(p),h=e(99685),t=D(h),c=e(88338),i=P(c),a=e(57149),f=D(a),l=e(61690),n=D(l),r=e(51112),o=P(r),g=e(89623),y=P(g);e(35063);function D(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var M in w)Object.prototype.hasOwnProperty.call(w,M)&&(A[M]=w[M]);return A.default=w,A}function P(w){return w&&w.__esModule?w:{default:w}}function E(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function O(w,A){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:w}function T(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}var S={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},$=function(A){return A.code==="Tab"||A.keyCode===9},Z=function(A){return A.code==="Escape"||A.keyCode===27},K=0,z=function(w){T(A,w);function A(M){E(this,A);var b=O(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,M));return b.setOverlayRef=function(R){b.overlay=R,b.props.overlayRef&&b.props.overlayRef(R)},b.setContentRef=function(R){b.content=R,b.props.contentRef&&b.props.contentRef(R)},b.afterClose=function(){var R=b.props,L=R.appElement,N=R.ariaHideApp,B=R.htmlOpenClassName,V=R.bodyOpenClassName,U=R.parentSelector,I=U&&U().ownerDocument||document;V&&n.remove(I.body,V),B&&n.remove(I.getElementsByTagName("html")[0],B),N&&K>0&&(K-=1,K===0&&f.show(L)),b.props.shouldFocusAfterRender&&(b.props.shouldReturnFocusAfterClose?(t.returnFocus(b.props.preventScroll),t.teardownScopedFocus()):t.popWithoutFocus()),b.props.onAfterClose&&b.props.onAfterClose(),y.default.deregister(b)},b.open=function(){b.beforeOpen(),b.state.afterOpen&&b.state.beforeClose?(clearTimeout(b.closeTimer),b.setState({beforeClose:!1})):(b.props.shouldFocusAfterRender&&(t.setupScopedFocus(b.node),t.markForFocusLater()),b.setState({isOpen:!0},function(){b.openAnimationFrame=requestAnimationFrame(function(){b.setState({afterOpen:!0}),b.props.isOpen&&b.props.onAfterOpen&&b.props.onAfterOpen({overlayEl:b.overlay,contentEl:b.content})})}))},b.close=function(){b.props.closeTimeoutMS>0?b.closeWithTimeout():b.closeWithoutTimeout()},b.focusContent=function(){return b.content&&!b.contentHasFocus()&&b.content.focus({preventScroll:!0})},b.closeWithTimeout=function(){var R=Date.now()+b.props.closeTimeoutMS;b.setState({beforeClose:!0,closesAt:R},function(){b.closeTimer=setTimeout(b.closeWithoutTimeout,b.state.closesAt-Date.now())})},b.closeWithoutTimeout=function(){b.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},b.afterClose)},b.handleKeyDown=function(R){$(R)&&(0,i.default)(b.content,R),b.props.shouldCloseOnEsc&&Z(R)&&(R.stopPropagation(),b.requestClose(R))},b.handleOverlayOnClick=function(R){b.shouldClose===null&&(b.shouldClose=!0),b.shouldClose&&b.props.shouldCloseOnOverlayClick&&(b.ownerHandlesClose()?b.requestClose(R):b.focusContent()),b.shouldClose=null},b.handleContentOnMouseUp=function(){b.shouldClose=!1},b.handleOverlayOnMouseDown=function(R){!b.props.shouldCloseOnOverlayClick&&R.target==b.overlay&&R.preventDefault()},b.handleContentOnClick=function(){b.shouldClose=!1},b.handleContentOnMouseDown=function(){b.shouldClose=!1},b.requestClose=function(R){return b.ownerHandlesClose()&&b.props.onRequestClose(R)},b.ownerHandlesClose=function(){return b.props.onRequestClose},b.shouldBeClosed=function(){return!b.state.isOpen&&!b.state.beforeClose},b.contentHasFocus=function(){return document.activeElement===b.content||b.content.contains(document.activeElement)},b.buildClassName=function(R,L){var N=(typeof L=="undefined"?"undefined":m(L))==="object"?L:{base:S[R],afterOpen:S[R]+"--after-open",beforeClose:S[R]+"--before-close"},B=N.base;return b.state.afterOpen&&(B=B+" "+N.afterOpen),b.state.beforeClose&&(B=B+" "+N.beforeClose),typeof L=="string"&&L?B+" "+L:B},b.attributesFromObject=function(R,L){return Object.keys(L).reduce(function(N,B){return N[R+"-"+B]=L[B],N},{})},b.state={afterOpen:!1,beforeClose:!1},b.shouldClose=null,b.moveFromContentToOverlay=null,b}return x(A,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(b,R){this.props.isOpen&&!b.isOpen?this.open():!this.props.isOpen&&b.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!R.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var b=this.props,R=b.appElement,L=b.ariaHideApp,N=b.htmlOpenClassName,B=b.bodyOpenClassName,V=b.parentSelector,U=V&&V().ownerDocument||document;B&&n.add(U.body,B),N&&n.add(U.getElementsByTagName("html")[0],N),L&&(K+=1,f.hide(R)),y.default.register(this)}},{key:"render",value:function(){var b=this.props,R=b.id,L=b.className,N=b.overlayClassName,B=b.defaultStyles,V=b.children,U=L?{}:B.content,I=N?{}:B.overlay;if(this.shouldBeClosed())return null;var F={ref:this.setOverlayRef,className:this.buildClassName("overlay",N),style:v({},I,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},W=v({id:R,ref:this.setContentRef,style:v({},U,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",v({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),X=this.props.contentElement(W,V);return this.props.overlayElement(F,X)}}]),A}(u.Component);z.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},z.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(o.default),d.default.instanceOf(r.SafeHTMLCollection),d.default.instanceOf(r.SafeNodeList),d.default.arrayOf(d.default.instanceOf(o.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},j.default=z,se.exports=j.default},57149:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resetState=d,j.log=h,j.assertNodeList=t,j.setElement=c,j.validateElement=i,j.hide=a,j.show=f,j.documentNotReadyOrSSRTesting=l;var v=e(42473),m=u(v),x=e(51112);function u(n){return n&&n.__esModule?n:{default:n}}var p=null;function d(){p&&(p.removeAttribute?p.removeAttribute("aria-hidden"):p.length!=null?p.forEach(function(n){return n.removeAttribute("aria-hidden")}):document.querySelectorAll(p).forEach(function(n){return n.removeAttribute("aria-hidden")})),p=null}function h(){if(!1)var n}function t(n,r){if(!n||!n.length)throw new Error("react-modal: No elements were found for selector "+r+".")}function c(n){var r=n;if(typeof r=="string"&&x.canUseDOM){var o=document.querySelectorAll(r);t(o,r),r=o}return p=r||p,p}function i(n){var r=n||p;return r?Array.isArray(r)||r instanceof HTMLCollection||r instanceof NodeList?r:[r]:((0,m.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function a(n){var r=!0,o=!1,g=void 0;try{for(var y=i(n)[Symbol.iterator](),D;!(r=(D=y.next()).done);r=!0){var P=D.value;P.setAttribute("aria-hidden","true")}}catch(E){o=!0,g=E}finally{try{!r&&y.return&&y.return()}finally{if(o)throw g}}}function f(n){var r=!0,o=!1,g=void 0;try{for(var y=i(n)[Symbol.iterator](),D;!(r=(D=y.next()).done);r=!0){var P=D.value;P.removeAttribute("aria-hidden")}}catch(E){o=!0,g=E}finally{try{!r&&y.return&&y.return()}finally{if(o)throw g}}}function l(){p=null}},35063:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resetState=h,j.log=t;var v=e(89623),m=x(v);function x(a){return a&&a.__esModule?a:{default:a}}var u=void 0,p=void 0,d=[];function h(){for(var a=[u,p],f=0;f<a.length;f++){var l=a[f];l&&l.parentNode&&l.parentNode.removeChild(l)}u=p=null,d=[]}function t(){console.log("bodyTrap ----------"),console.log(d.length);for(var a=[u,p],f=0;f<a.length;f++){var l=a[f],n=l||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function c(){d.length!==0&&d[d.length-1].focusContent()}function i(a,f){!u&&!p&&(u=document.createElement("div"),u.setAttribute("data-react-modal-body-trap",""),u.style.position="absolute",u.style.opacity="0",u.setAttribute("tabindex","0"),u.addEventListener("focus",c),p=u.cloneNode(),p.addEventListener("focus",c)),d=f,d.length>0?(document.body.firstChild!==u&&document.body.insertBefore(u,document.body.firstChild),document.body.lastChild!==p&&document.body.appendChild(p)):(u.parentElement&&u.parentElement.removeChild(u),p.parentElement&&p.parentElement.removeChild(p))}m.default.subscribe(i)},61690:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resetState=x,j.log=u;var e={},v={};function m(a,f){a.classList.remove(f)}function x(){var a=document.getElementsByTagName("html")[0];for(var f in e)m(a,e[f]);var l=document.body;for(var n in v)m(l,v[n]);e={},v={}}function u(){if(!1)var a,f,l,n}var p=function(f,l){return f[l]||(f[l]=0),f[l]+=1,l},d=function(f,l){return f[l]&&(f[l]-=1),l},h=function(f,l,n){n.forEach(function(r){p(l,r),f.add(r)})},t=function(f,l,n){n.forEach(function(r){d(l,r),l[r]===0&&f.remove(r)})},c=j.add=function(f,l){return h(f.classList,f.nodeName.toLowerCase()=="html"?e:v,l.split(" "))},i=j.remove=function(f,l){return t(f.classList,f.nodeName.toLowerCase()=="html"?e:v,l.split(" "))}},99685:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resetState=h,j.log=t,j.handleBlur=c,j.handleFocus=i,j.markForFocusLater=a,j.returnFocus=f,j.popWithoutFocus=l,j.setupScopedFocus=n,j.teardownScopedFocus=r;var v=e(37845),m=x(v);function x(o){return o&&o.__esModule?o:{default:o}}var u=[],p=null,d=!1;function h(){u=[]}function t(){}function c(){d=!0}function i(){if(d){if(d=!1,!p)return;setTimeout(function(){if(!p.contains(document.activeElement)){var o=(0,m.default)(p)[0]||p;o.focus()}},0)}}function a(){u.push(document.activeElement)}function f(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g=null;try{u.length!==0&&(g=u.pop(),g.focus({preventScroll:o}));return}catch(y){console.warn(["You tried to return focus to",g,"but it is not in the DOM anymore"].join(" "))}}function l(){u.length>0&&u.pop()}function n(o){p=o,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",i,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",i))}function r(){p=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",i)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",i))}},89623:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.log=x,j.resetState=u;function e(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}var v=function p(){var d=this;e(this,p),this.register=function(h){d.openInstances.indexOf(h)===-1&&(d.openInstances.push(h),d.emit("register"))},this.deregister=function(h){var t=d.openInstances.indexOf(h);t!==-1&&(d.openInstances.splice(t,1),d.emit("deregister"))},this.subscribe=function(h){d.subscribers.push(h)},this.emit=function(h){d.subscribers.forEach(function(t){return t(h,d.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},m=new v;function x(){console.log("portalOpenInstances ----------"),console.log(m.openInstances.length),m.openInstances.forEach(function(p){return console.log(p)}),console.log("end portalOpenInstances ----------")}function u(){m=new v}j.default=m},51112:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.canUseDOM=j.SafeNodeList=j.SafeHTMLCollection=void 0;var v=e(58875),m=x(v);function x(c){return c&&c.__esModule?c:{default:c}}var u=m.default,p=u.canUseDOM?window.HTMLElement:{},d=j.SafeHTMLCollection=u.canUseDOM?window.HTMLCollection:{},h=j.SafeNodeList=u.canUseDOM?window.NodeList:{},t=j.canUseDOM=u.canUseDOM;j.default=p},88338:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=p;var v=e(37845),m=x(v);function x(d){return d&&d.__esModule?d:{default:d}}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?u(d.activeElement.shadowRoot):d.activeElement}function p(d,h){var t=(0,m.default)(d);if(!t.length){h.preventDefault();return}var c=void 0,i=h.shiftKey,a=t[0],f=t[t.length-1],l=u();if(d===l){if(!i)return;c=f}if(f===l&&!i&&(c=a),a===l&&i&&(c=f),c){h.preventDefault(),c.focus();return}var n=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),r=n!=null&&n[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(r){var o=t.indexOf(l);if(o>-1&&(o+=i?-1:1),c=t[o],typeof c=="undefined"){h.preventDefault(),c=i?f:a,c.focus();return}h.preventDefault(),c.focus()}}se.exports=j.default},37845:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=t;var e="none",v="contents",m=/input|select|textarea|button|object|iframe/;function x(c,i){return i.getPropertyValue("overflow")!=="visible"||c.scrollWidth<=0&&c.scrollHeight<=0}function u(c){var i=c.offsetWidth<=0&&c.offsetHeight<=0;if(i&&!c.innerHTML)return!0;try{var a=window.getComputedStyle(c),f=a.getPropertyValue("display");return i?f!==v&&x(c,a):f===e}catch(l){return console.warn("Failed to inspect element style"),!1}}function p(c){for(var i=c,a=c.getRootNode&&c.getRootNode();i&&i!==document.body;){if(a&&i===a&&(i=a.host.parentNode),u(i))return!1;i=i.parentNode}return!0}function d(c,i){var a=c.nodeName.toLowerCase(),f=m.test(a)&&!c.disabled||a==="a"&&c.href||i;return f&&p(c)}function h(c){var i=c.getAttribute("tabindex");i===null&&(i=void 0);var a=isNaN(i);return(a||i>=0)&&d(c,!a)}function t(c){var i=[].slice.call(c.querySelectorAll("*"),0).reduce(function(a,f){return a.concat(f.shadowRoot?t(f.shadowRoot):[f])},[]);return i.filter(h)}se.exports=j.default},83253:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var v=e(29983),m=x(v);function x(u){return u&&u.__esModule?u:{default:u}}j.default=m.default,se.exports=j.default},83524:function(se,j,e){"use strict";function v(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var m=e(67294),x=v(m);function u(t,c,i){return c in t?Object.defineProperty(t,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[c]=i,t}function p(t,c){t.prototype=Object.create(c.prototype),t.prototype.constructor=t,t.__proto__=c}var d=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function h(t,c,i){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof i!="undefined"&&typeof i!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function a(f){return f.displayName||f.name||"Component"}return function(l){if(typeof l!="function")throw new Error("Expected WrappedComponent to be a React component.");var n=[],r;function o(){r=t(n.map(function(y){return y.props})),g.canUseDOM?c(r):i&&(r=i(r))}var g=function(y){p(D,y);function D(){return y.apply(this,arguments)||this}D.peek=function(){return r},D.rewind=function(){if(D.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var O=r;return r=void 0,n=[],O};var P=D.prototype;return P.UNSAFE_componentWillMount=function(){n.push(this),o()},P.componentDidUpdate=function(){o()},P.componentWillUnmount=function(){var O=n.indexOf(this);n.splice(O,1),o()},P.render=function(){return x.createElement(l,this.props)},D}(m.PureComponent);return u(g,"displayName","SideEffect("+a(l)+")"),u(g,"canUseDOM",d),g}}se.exports=h},47116:function(se,j,e){(function(v,m){se.exports=m(e(67294),e(73935))})(typeof self!="undefined"?self:this,function(v,m){return function(){"use strict";var x={156:function(h){h.exports=v},111:function(h){h.exports=m},582:function(h,t,c){c.r(t),c.d(t,{__addDisposableResource:function(){return W},__assign:function(){return f},__asyncDelegator:function(){return b},__asyncGenerator:function(){return M},__asyncValues:function(){return R},__await:function(){return A},__awaiter:function(){return E},__classPrivateFieldGet:function(){return U},__classPrivateFieldIn:function(){return F},__classPrivateFieldSet:function(){return I},__createBinding:function(){return T},__decorate:function(){return n},__disposeResources:function(){return J},__esDecorate:function(){return o},__exportStar:function(){return S},__extends:function(){return a},__generator:function(){return O},__importDefault:function(){return V},__importStar:function(){return B},__makeTemplateObject:function(){return L},__metadata:function(){return P},__param:function(){return r},__propKey:function(){return y},__read:function(){return Z},__rest:function(){return l},__runInitializers:function(){return g},__setFunctionName:function(){return D},__spread:function(){return K},__spreadArray:function(){return w},__spreadArrays:function(){return z},__values:function(){return $}});var i=function(C,k){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,H){Y.__proto__=H}||function(Y,H){for(var te in H)Object.prototype.hasOwnProperty.call(H,te)&&(Y[te]=H[te])},i(C,k)};function a(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function Y(){this.constructor=C}i(C,k),C.prototype=k===null?Object.create(k):(Y.prototype=k.prototype,new Y)}var f=function(){return f=Object.assign||function(C){for(var k,Y=1,H=arguments.length;Y<H;Y++)for(var te in k=arguments[Y])Object.prototype.hasOwnProperty.call(k,te)&&(C[te]=k[te]);return C},f.apply(this,arguments)};function l(C,k){var Y={};for(var H in C)Object.prototype.hasOwnProperty.call(C,H)&&k.indexOf(H)<0&&(Y[H]=C[H]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var te=0;for(H=Object.getOwnPropertySymbols(C);te<H.length;te++)k.indexOf(H[te])<0&&Object.prototype.propertyIsEnumerable.call(C,H[te])&&(Y[H[te]]=C[H[te]])}return Y}function n(C,k,Y,H){var te,le=arguments.length,ne=le<3?k:H===null?H=Object.getOwnPropertyDescriptor(k,Y):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(C,k,Y,H);else for(var ie=C.length-1;ie>=0;ie--)(te=C[ie])&&(ne=(le<3?te(ne):le>3?te(k,Y,ne):te(k,Y))||ne);return le>3&&ne&&Object.defineProperty(k,Y,ne),ne}function r(C,k){return function(Y,H){k(Y,H,C)}}function o(C,k,Y,H,te,le){function ne(ce){if(ce!==void 0&&typeof ce!="function")throw new TypeError("Function expected");return ce}for(var ie,ee=H.kind,fe=ee==="getter"?"get":ee==="setter"?"set":"value",de=!k&&C?H.static?C:C.prototype:null,ue=k||(de?Object.getOwnPropertyDescriptor(de,H.name):{}),Se=!1,ae=Y.length-1;ae>=0;ae--){var G={};for(var re in H)G[re]=re==="access"?{}:H[re];for(var re in H.access)G.access[re]=H.access[re];G.addInitializer=function(ce){if(Se)throw new TypeError("Cannot add initializers after decoration has completed");le.push(ne(ce||null))};var oe=(0,Y[ae])(ee==="accessor"?{get:ue.get,set:ue.set}:ue[fe],G);if(ee==="accessor"){if(oe===void 0)continue;if(oe===null||typeof oe!="object")throw new TypeError("Object expected");(ie=ne(oe.get))&&(ue.get=ie),(ie=ne(oe.set))&&(ue.set=ie),(ie=ne(oe.init))&&te.unshift(ie)}else(ie=ne(oe))&&(ee==="field"?te.unshift(ie):ue[fe]=ie)}de&&Object.defineProperty(de,H.name,ue),Se=!0}function g(C,k,Y){for(var H=arguments.length>2,te=0;te<k.length;te++)Y=H?k[te].call(C,Y):k[te].call(C);return H?Y:void 0}function y(C){return typeof C=="symbol"?C:"".concat(C)}function D(C,k,Y){return typeof k=="symbol"&&(k=k.description?"[".concat(k.description,"]"):""),Object.defineProperty(C,"name",{configurable:!0,value:Y?"".concat(Y," ",k):k})}function P(C,k){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,k)}function E(C,k,Y,H){return new(Y||(Y=Promise))(function(te,le){function ne(fe){try{ee(H.next(fe))}catch(de){le(de)}}function ie(fe){try{ee(H.throw(fe))}catch(de){le(de)}}function ee(fe){var de;fe.done?te(fe.value):(de=fe.value,de instanceof Y?de:new Y(function(ue){ue(de)})).then(ne,ie)}ee((H=H.apply(C,k||[])).next())})}function O(C,k){var Y,H,te,le,ne={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return le={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(le[Symbol.iterator]=function(){return this}),le;function ie(ee){return function(fe){return function(de){if(Y)throw new TypeError("Generator is already executing.");for(;le&&(le=0,de[0]&&(ne=0)),ne;)try{if(Y=1,H&&(te=2&de[0]?H.return:de[0]?H.throw||((te=H.return)&&te.call(H),0):H.next)&&!(te=te.call(H,de[1])).done)return te;switch(H=0,te&&(de=[2&de[0],te.value]),de[0]){case 0:case 1:te=de;break;case 4:return ne.label++,{value:de[1],done:!1};case 5:ne.label++,H=de[1],de=[0];continue;case 7:de=ne.ops.pop(),ne.trys.pop();continue;default:if(!((te=(te=ne.trys).length>0&&te[te.length-1])||de[0]!==6&&de[0]!==2)){ne=0;continue}if(de[0]===3&&(!te||de[1]>te[0]&&de[1]<te[3])){ne.label=de[1];break}if(de[0]===6&&ne.label<te[1]){ne.label=te[1],te=de;break}if(te&&ne.label<te[2]){ne.label=te[2],ne.ops.push(de);break}te[2]&&ne.ops.pop(),ne.trys.pop();continue}de=k.call(C,ne)}catch(ue){de=[6,ue],H=0}finally{Y=te=0}if(5&de[0])throw de[1];return{value:de[0]?de[1]:void 0,done:!0}}([ee,fe])}}}var T=Object.create?function(C,k,Y,H){H===void 0&&(H=Y);var te=Object.getOwnPropertyDescriptor(k,Y);te&&!("get"in te?!k.__esModule:te.writable||te.configurable)||(te={enumerable:!0,get:function(){return k[Y]}}),Object.defineProperty(C,H,te)}:function(C,k,Y,H){H===void 0&&(H=Y),C[H]=k[Y]};function S(C,k){for(var Y in C)Y==="default"||Object.prototype.hasOwnProperty.call(k,Y)||T(k,C,Y)}function $(C){var k=typeof Symbol=="function"&&Symbol.iterator,Y=k&&C[k],H=0;if(Y)return Y.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&H>=C.length&&(C=void 0),{value:C&&C[H++],done:!C}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(C,k){var Y=typeof Symbol=="function"&&C[Symbol.iterator];if(!Y)return C;var H,te,le=Y.call(C),ne=[];try{for(;(k===void 0||k-- >0)&&!(H=le.next()).done;)ne.push(H.value)}catch(ie){te={error:ie}}finally{try{H&&!H.done&&(Y=le.return)&&Y.call(le)}finally{if(te)throw te.error}}return ne}function K(){for(var C=[],k=0;k<arguments.length;k++)C=C.concat(Z(arguments[k]));return C}function z(){for(var C=0,k=0,Y=arguments.length;k<Y;k++)C+=arguments[k].length;var H=Array(C),te=0;for(k=0;k<Y;k++)for(var le=arguments[k],ne=0,ie=le.length;ne<ie;ne++,te++)H[te]=le[ne];return H}function w(C,k,Y){if(Y||arguments.length===2)for(var H,te=0,le=k.length;te<le;te++)!H&&te in k||(H||(H=Array.prototype.slice.call(k,0,te)),H[te]=k[te]);return C.concat(H||Array.prototype.slice.call(k))}function A(C){return this instanceof A?(this.v=C,this):new A(C)}function M(C,k,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,te=Y.apply(C,k||[]),le=[];return H={},ne("next"),ne("throw"),ne("return"),H[Symbol.asyncIterator]=function(){return this},H;function ne(ue){te[ue]&&(H[ue]=function(Se){return new Promise(function(ae,G){le.push([ue,Se,ae,G])>1||ie(ue,Se)})})}function ie(ue,Se){try{(ae=te[ue](Se)).value instanceof A?Promise.resolve(ae.value.v).then(ee,fe):de(le[0][2],ae)}catch(G){de(le[0][3],G)}var ae}function ee(ue){ie("next",ue)}function fe(ue){ie("throw",ue)}function de(ue,Se){ue(Se),le.shift(),le.length&&ie(le[0][0],le[0][1])}}function b(C){var k,Y;return k={},H("next"),H("throw",function(te){throw te}),H("return"),k[Symbol.iterator]=function(){return this},k;function H(te,le){k[te]=C[te]?function(ne){return(Y=!Y)?{value:A(C[te](ne)),done:!1}:le?le(ne):ne}:le}}function R(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k,Y=C[Symbol.asyncIterator];return Y?Y.call(C):(C=$(C),k={},H("next"),H("throw"),H("return"),k[Symbol.asyncIterator]=function(){return this},k);function H(te){k[te]=C[te]&&function(le){return new Promise(function(ne,ie){(function(ee,fe,de,ue){Promise.resolve(ue).then(function(Se){ee({value:Se,done:de})},fe)})(ne,ie,(le=C[te](le)).done,le.value)})}}}function L(C,k){return Object.defineProperty?Object.defineProperty(C,"raw",{value:k}):C.raw=k,C}var N=Object.create?function(C,k){Object.defineProperty(C,"default",{enumerable:!0,value:k})}:function(C,k){C.default=k};function B(C){if(C&&C.__esModule)return C;var k={};if(C!=null)for(var Y in C)Y!=="default"&&Object.prototype.hasOwnProperty.call(C,Y)&&T(k,C,Y);return N(k,C),k}function V(C){return C&&C.__esModule?C:{default:C}}function U(C,k,Y,H){if(Y==="a"&&!H)throw new TypeError("Private accessor was defined without a getter");if(typeof k=="function"?C!==k||!H:!k.has(C))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?H:Y==="a"?H.call(C):H?H.value:k.get(C)}function I(C,k,Y,H,te){if(H==="m")throw new TypeError("Private method is not writable");if(H==="a"&&!te)throw new TypeError("Private accessor was defined without a setter");if(typeof k=="function"?C!==k||!te:!k.has(C))throw new TypeError("Cannot write private member to an object whose class did not declare it");return H==="a"?te.call(C,Y):te?te.value=Y:k.set(C,Y),Y}function F(C,k){if(k===null||typeof k!="object"&&typeof k!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof C=="function"?k===C:C.has(k)}function W(C,k,Y){if(k!=null){if(typeof k!="object"&&typeof k!="function")throw new TypeError("Object expected.");var H;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");H=k[Symbol.asyncDispose]}if(H===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");H=k[Symbol.dispose]}if(typeof H!="function")throw new TypeError("Object not disposable.");C.stack.push({value:k,dispose:H,async:Y})}else Y&&C.stack.push({async:!0});return k}var X=typeof SuppressedError=="function"?SuppressedError:function(C,k,Y){var H=new Error(Y);return H.name="SuppressedError",H.error=C,H.suppressed=k,H};function J(C){function k(Y){C.error=C.hasError?new X(Y,C.error,"An error was suppressed during disposal."):Y,C.hasError=!0}return function Y(){for(;C.stack.length;){var H=C.stack.pop();try{var te=H.dispose&&H.dispose.call(H.value);if(H.async)return Promise.resolve(te).then(Y,function(le){return k(le),Y()})}catch(le){k(le)}}if(C.hasError)throw C.error}()}t.default={__extends:a,__assign:f,__rest:l,__decorate:n,__param:r,__metadata:P,__awaiter:E,__generator:O,__createBinding:T,__exportStar:S,__values:$,__read:Z,__spread:K,__spreadArrays:z,__spreadArray:w,__await:A,__asyncGenerator:M,__asyncDelegator:b,__asyncValues:R,__makeTemplateObject:L,__importStar:B,__importDefault:V,__classPrivateFieldGet:U,__classPrivateFieldSet:I,__classPrivateFieldIn:F,__addDisposableResource:W,__disposeResources:J}}},u={};function p(h){var t=u[h];if(t!==void 0)return t.exports;var c=u[h]={exports:{}};return x[h](c,c.exports,p),c.exports}p.d=function(h,t){for(var c in t)p.o(t,c)&&!p.o(h,c)&&Object.defineProperty(h,c,{enumerable:!0,get:t[c]})},p.o=function(h,t){return Object.prototype.hasOwnProperty.call(h,t)},p.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var d={};return function(){var h=d;Object.defineProperty(h,"__esModule",{value:!0}),h.useReactToPrint=h.PrintContextConsumer=void 0;var t=p(582),c=p(156),i=p(111),a=Object.prototype.hasOwnProperty.call(c,"createContext"),f=Object.prototype.hasOwnProperty.call(c,"useMemo")&&Object.prototype.hasOwnProperty.call(c,"useCallback"),l=a?c.createContext({}):null;h.PrintContextConsumer=l?l.Consumer:function(){return null};var n={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1},r=function(o){function g(){var y=o!==null&&o.apply(this,arguments)||this;return y.startPrint=function(D){var P=y.props,E=P.onAfterPrint,O=P.onPrintError,T=P.print,S=P.documentTitle;setTimeout(function(){var $,Z;if(D.contentWindow)if(D.contentWindow.focus(),T)T(D).then(function(){return E==null?void 0:E()}).then(function(){return y.handleRemoveIframe()}).catch(function(w){O?O("print",w):y.logMessages(["An error was thrown by the specified `print` function"])});else{if(D.contentWindow.print){var K=(Z=($=D.contentDocument)===null||$===void 0?void 0:$.title)!==null&&Z!==void 0?Z:"",z=D.ownerDocument.title;S&&(D.ownerDocument.title=S,D.contentDocument&&(D.contentDocument.title=S)),D.contentWindow.print(),S&&(D.ownerDocument.title=z,D.contentDocument&&(D.contentDocument.title=K))}else y.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);E==null||E(),y.handleRemoveIframe()}else y.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},y.triggerPrint=function(D){var P=y.props,E=P.onBeforePrint,O=P.onPrintError;if(E){var T=E();T&&typeof T.then=="function"?T.then(function(){y.startPrint(D)}).catch(function(S){O&&O("onBeforePrint",S)}):y.startPrint(D)}else y.startPrint(D)},y.handleClick=function(){var D=y.props,P=D.onBeforeGetContent,E=D.onPrintError;if(P){var O=P();O&&typeof O.then=="function"?O.then(y.handlePrint).catch(function(T){E&&E("onBeforeGetContent",T)}):y.handlePrint()}else y.handlePrint()},y.handlePrint=function(){var D=y.props,P=D.bodyClass,E=D.content,O=D.copyStyles,T=D.fonts,S=D.pageStyle,$=D.nonce,Z=E();if(Z!==void 0)if(Z!==null){var K=document.createElement("iframe");K.width="".concat(document.documentElement.clientWidth,"px"),K.height="".concat(document.documentElement.clientHeight,"px"),K.style.position="absolute",K.style.top="-".concat(document.documentElement.clientHeight+100,"px"),K.style.left="-".concat(document.documentElement.clientWidth+100,"px"),K.id="printWindow",K.srcdoc="<!DOCTYPE html>";var z=(0,i.findDOMNode)(Z);if(z){var w=z.cloneNode(!0),A=w instanceof Text,M=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),b=A?[]:w.querySelectorAll("img"),R=A?[]:w.querySelectorAll("video"),L=T?T.length:0;y.numResourcesToLoad=M.length+b.length+R.length+L,y.resourcesLoaded=[],y.resourcesErrored=[];var N=function(B,V){y.resourcesLoaded.includes(B)?y.logMessages(["Tried to mark a resource that has already been handled",B],"debug"):(V?(y.logMessages(t.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],t.__read(V),!1)),y.resourcesErrored.push(B)):y.resourcesLoaded.push(B),y.resourcesLoaded.length+y.resourcesErrored.length===y.numResourcesToLoad&&y.triggerPrint(K))};K.onload=function(){var B,V,U,I;K.onload=null;var F=K.contentDocument||((V=K.contentWindow)===null||V===void 0?void 0:V.document);if(F){F.body.appendChild(w),T&&(!((U=K.contentDocument)===null||U===void 0)&&U.fonts&&(!((I=K.contentWindow)===null||I===void 0)&&I.FontFace)?T.forEach(function(be){var xe=new FontFace(be.family,be.source,{weight:be.weight,style:be.style});K.contentDocument.fonts.add(xe),xe.loaded.then(function(){N(xe)}).catch(function(ge){N(xe,["Failed loading the font:",xe,"Load error:",ge])})}):(T.forEach(function(be){return N(be)}),y.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var W=typeof S=="function"?S():S;if(typeof W!="string")y.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof W,'". Styles from `pageStyle` will not be applied.')]);else{var X=F.createElement("style");$&&(X.setAttribute("nonce",$),F.head.setAttribute("nonce",$)),X.appendChild(F.createTextNode(W)),F.head.appendChild(X)}if(P&&(B=F.body.classList).add.apply(B,t.__spreadArray([],t.__read(P.split(" ")),!1)),!A){for(var J=A?[]:z.querySelectorAll("canvas"),C=F.querySelectorAll("canvas"),k=0;k<J.length;++k){var Y=J[k],H=C[k].getContext("2d");H&&H.drawImage(Y,0,0)}var te=function(be){var xe=b[be],ge=xe.getAttribute("src");if(ge){var he=new Image;he.onload=function(){return N(xe)},he.onerror=function(Pe,Ae,Be,Le,Me){return N(xe,["Error loading <img>",xe,"Error",Me])},he.src=ge}else N(xe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',xe])};for(k=0;k<b.length;k++)te(k);var le=function(be){var xe=R[be];xe.preload="auto";var ge=xe.getAttribute("poster");if(ge){var he=new Image;he.onload=function(){return N(xe)},he.onerror=function(Pe,Ae,Be,Le,Me){return N(xe,["Error loading video poster",ge,"for video",xe,"Error:",Me])},he.src=ge}else xe.readyState>=2?N(xe):(xe.onloadeddata=function(){return N(xe)},xe.onerror=function(Pe,Ae,Be,Le,Me){return N(xe,["Error loading video",xe,"Error",Me])},xe.onstalled=function(){return N(xe,["Loading video stalled, skipping",xe])})};for(k=0;k<R.length;k++)le(k);var ne="input",ie=z.querySelectorAll(ne),ee=F.querySelectorAll(ne);for(k=0;k<ie.length;k++)ee[k].value=ie[k].value;var fe="input[type=checkbox],input[type=radio]",de=z.querySelectorAll(fe),ue=F.querySelectorAll(fe);for(k=0;k<de.length;k++)ue[k].checked=de[k].checked;var Se="select",ae=z.querySelectorAll(Se),G=F.querySelectorAll(Se);for(k=0;k<ae.length;k++)G[k].value=ae[k].value}if(O)for(var re=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),oe=function(be,xe){var ge=re[be];if(ge.tagName.toLowerCase()==="style"){var he=F.createElement(ge.tagName),Pe=ge.sheet;if(Pe){var Ae="";try{for(var Be=Pe.cssRules.length,Le=0;Le<Be;++Le)typeof Pe.cssRules[Le].cssText=="string"&&(Ae+="".concat(Pe.cssRules[Le].cssText,`\r
`))}catch(Ue){y.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ge],"warning")}he.setAttribute("id","react-to-print-".concat(be)),$&&he.setAttribute("nonce",$),he.appendChild(F.createTextNode(Ae)),F.head.appendChild(he)}}else if(ge.getAttribute("href"))if(ge.hasAttribute("disabled"))y.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ge],"warning"),N(ge);else{for(var Me=F.createElement(ge.tagName),Te=(Le=0,ge.attributes.length);Le<Te;++Le){var we=ge.attributes[Le];we&&Me.setAttribute(we.nodeName,we.nodeValue||"")}Me.onload=function(){return N(Me)},Me.onerror=function(Ue,je,De,ye,_e){return N(Me,["Failed to load",Me,"Error:",_e])},$&&Me.setAttribute("nonce",$),F.head.appendChild(Me)}else y.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ge],"warning"),N(ge)},ce=(k=0,re.length);k<ce;++k)oe(k)}y.numResourcesToLoad!==0&&O||y.triggerPrint(K)},y.handleRemoveIframe(!0),document.body.appendChild(K)}else y.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else y.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else y.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},y.handleRemoveIframe=function(D){var P=y.props.removeAfterPrint;if(D||P){var E=document.getElementById("printWindow");E&&document.body.removeChild(E)}},y.logMessages=function(D,P){P===void 0&&(P="error"),y.props.suppressErrors||(P==="error"?console.error(D):P==="warning"?console.warn(D):P==="debug"&&console.debug(D))},y}return t.__extends(g,o),g.prototype.render=function(){var y=this.props,D=y.children,P=y.trigger;if(P)return c.cloneElement(P(),{onClick:this.handleClick});if(!l)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var E={handlePrint:this.handleClick};return c.createElement(l.Provider,{value:E},D)},g.defaultProps=n,g}(c.Component);h.default=r,h.useReactToPrint=function(o){if(!f)return o.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var g=c.useMemo(function(){return new r(t.__assign(t.__assign({},n),o))},[o]);return c.useCallback(function(){return g.handleClick()},[g])}}(),d}()})},75251:function(se,j,e){"use strict";var v=e(67294),m=Symbol.for("react.element"),x=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,p=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(t,c,i){var a,f={},l=null,n=null;i!==void 0&&(l=""+i),c.key!==void 0&&(l=""+c.key),c.ref!==void 0&&(n=c.ref);for(a in c)u.call(c,a)&&!d.hasOwnProperty(a)&&(f[a]=c[a]);if(t&&t.defaultProps)for(a in c=t.defaultProps,c)f[a]===void 0&&(f[a]=c[a]);return{$$typeof:m,type:t,key:l,ref:n,props:f,_owner:p.current}}j.Fragment=x,j.jsx=h,j.jsxs=h},85893:function(se,j,e){"use strict";se.exports=e(75251)},91033:function(se,j,e){"use strict";var v=function(){if(typeof Map!="undefined")return Map;function A(M,b){var R=-1;return M.some(function(L,N){return L[0]===b?(R=N,!0):!1}),R}return function(){function M(){this.__entries__=[]}return Object.defineProperty(M.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),M.prototype.get=function(b){var R=A(this.__entries__,b),L=this.__entries__[R];return L&&L[1]},M.prototype.set=function(b,R){var L=A(this.__entries__,b);~L?this.__entries__[L][1]=R:this.__entries__.push([b,R])},M.prototype.delete=function(b){var R=this.__entries__,L=A(R,b);~L&&R.splice(L,1)},M.prototype.has=function(b){return!!~A(this.__entries__,b)},M.prototype.clear=function(){this.__entries__.splice(0)},M.prototype.forEach=function(b,R){R===void 0&&(R=null);for(var L=0,N=this.__entries__;L<N.length;L++){var B=N[L];b.call(R,B[1],B[0])}},M}()}(),m=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,x=function(){return typeof e.g!="undefined"&&e.g.Math===Math?e.g:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),u=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(x):function(A){return setTimeout(function(){return A(Date.now())},1e3/60)}}(),p=2;function d(A,M){var b=!1,R=!1,L=0;function N(){b&&(b=!1,A()),R&&V()}function B(){u(N)}function V(){var U=Date.now();if(b){if(U-L<p)return;R=!0}else b=!0,R=!1,setTimeout(B,M);L=U}return V}var h=20,t=["top","right","bottom","left","width","height","size","weight"],c=typeof MutationObserver!="undefined",i=function(){function A(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=d(this.refresh.bind(this),h)}return A.prototype.addObserver=function(M){~this.observers_.indexOf(M)||this.observers_.push(M),this.connected_||this.connect_()},A.prototype.removeObserver=function(M){var b=this.observers_,R=b.indexOf(M);~R&&b.splice(R,1),!b.length&&this.connected_&&this.disconnect_()},A.prototype.refresh=function(){var M=this.updateObservers_();M&&this.refresh()},A.prototype.updateObservers_=function(){var M=this.observers_.filter(function(b){return b.gatherActive(),b.hasActive()});return M.forEach(function(b){return b.broadcastActive()}),M.length>0},A.prototype.connect_=function(){!m||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},A.prototype.disconnect_=function(){!m||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},A.prototype.onTransitionEnd_=function(M){var b=M.propertyName,R=b===void 0?"":b,L=t.some(function(N){return!!~R.indexOf(N)});L&&this.refresh()},A.getInstance=function(){return this.instance_||(this.instance_=new A),this.instance_},A.instance_=null,A}(),a=function(A,M){for(var b=0,R=Object.keys(M);b<R.length;b++){var L=R[b];Object.defineProperty(A,L,{value:M[L],enumerable:!1,writable:!1,configurable:!0})}return A},f=function(A){var M=A&&A.ownerDocument&&A.ownerDocument.defaultView;return M||x},l=T(0,0,0,0);function n(A){return parseFloat(A)||0}function r(A){for(var M=[],b=1;b<arguments.length;b++)M[b-1]=arguments[b];return M.reduce(function(R,L){var N=A["border-"+L+"-width"];return R+n(N)},0)}function o(A){for(var M=["top","right","bottom","left"],b={},R=0,L=M;R<L.length;R++){var N=L[R],B=A["padding-"+N];b[N]=n(B)}return b}function g(A){var M=A.getBBox();return T(0,0,M.width,M.height)}function y(A){var M=A.clientWidth,b=A.clientHeight;if(!M&&!b)return l;var R=f(A).getComputedStyle(A),L=o(R),N=L.left+L.right,B=L.top+L.bottom,V=n(R.width),U=n(R.height);if(R.boxSizing==="border-box"&&(Math.round(V+N)!==M&&(V-=r(R,"left","right")+N),Math.round(U+B)!==b&&(U-=r(R,"top","bottom")+B)),!P(A)){var I=Math.round(V+N)-M,F=Math.round(U+B)-b;Math.abs(I)!==1&&(V-=I),Math.abs(F)!==1&&(U-=F)}return T(L.left,L.top,V,U)}var D=function(){return typeof SVGGraphicsElement!="undefined"?function(A){return A instanceof f(A).SVGGraphicsElement}:function(A){return A instanceof f(A).SVGElement&&typeof A.getBBox=="function"}}();function P(A){return A===f(A).document.documentElement}function E(A){return m?D(A)?g(A):y(A):l}function O(A){var M=A.x,b=A.y,R=A.width,L=A.height,N=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,B=Object.create(N.prototype);return a(B,{x:M,y:b,width:R,height:L,top:b,right:M+R,bottom:L+b,left:M}),B}function T(A,M,b,R){return{x:A,y:M,width:b,height:R}}var S=function(){function A(M){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=T(0,0,0,0),this.target=M}return A.prototype.isActive=function(){var M=E(this.target);return this.contentRect_=M,M.width!==this.broadcastWidth||M.height!==this.broadcastHeight},A.prototype.broadcastRect=function(){var M=this.contentRect_;return this.broadcastWidth=M.width,this.broadcastHeight=M.height,M},A}(),$=function(){function A(M,b){var R=O(b);a(this,{target:M,contentRect:R})}return A}(),Z=function(){function A(M,b,R){if(this.activeObservations_=[],this.observations_=new v,typeof M!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=M,this.controller_=b,this.callbackCtx_=R}return A.prototype.observe=function(M){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(M instanceof f(M).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(M)||(b.set(M,new S(M)),this.controller_.addObserver(this),this.controller_.refresh())}},A.prototype.unobserve=function(M){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(M instanceof f(M).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(M)&&(b.delete(M),b.size||this.controller_.removeObserver(this))}},A.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},A.prototype.gatherActive=function(){var M=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&M.activeObservations_.push(b)})},A.prototype.broadcastActive=function(){if(this.hasActive()){var M=this.callbackCtx_,b=this.activeObservations_.map(function(R){return new $(R.target,R.broadcastRect())});this.callback_.call(M,b,M),this.clearActive()}},A.prototype.clearActive=function(){this.activeObservations_.splice(0)},A.prototype.hasActive=function(){return this.activeObservations_.length>0},A}(),K=typeof WeakMap!="undefined"?new WeakMap:new v,z=function(){function A(M){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=i.getInstance(),R=new Z(M,b,this);K.set(this,R)}return A}();["observe","unobserve","disconnect"].forEach(function(A){z.prototype[A]=function(){var M;return(M=K.get(this))[A].apply(M,arguments)}});var w=function(){return typeof x.ResizeObserver!="undefined"?x.ResizeObserver:z}();j.Z=w},79785:function(se,j,e){"use strict";var v=e(48764).Buffer,m=e(35717),x=e(3349),u=new Array(16),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],t=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],i=[1352829926,1548603684,1836072691,2053994217,0];function a(){x.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}m(a,x),a.prototype._update=function(){for(var y=u,D=0;D<16;++D)y[D]=this._block.readInt32LE(D*4);for(var P=this._a|0,E=this._b|0,O=this._c|0,T=this._d|0,S=this._e|0,$=this._a|0,Z=this._b|0,K=this._c|0,z=this._d|0,w=this._e|0,A=0;A<80;A+=1){var M,b;A<16?(M=l(P,E,O,T,S,y[p[A]],c[0],h[A]),b=g($,Z,K,z,w,y[d[A]],i[0],t[A])):A<32?(M=n(P,E,O,T,S,y[p[A]],c[1],h[A]),b=o($,Z,K,z,w,y[d[A]],i[1],t[A])):A<48?(M=r(P,E,O,T,S,y[p[A]],c[2],h[A]),b=r($,Z,K,z,w,y[d[A]],i[2],t[A])):A<64?(M=o(P,E,O,T,S,y[p[A]],c[3],h[A]),b=n($,Z,K,z,w,y[d[A]],i[3],t[A])):(M=g(P,E,O,T,S,y[p[A]],c[4],h[A]),b=l($,Z,K,z,w,y[d[A]],i[4],t[A])),P=S,S=T,T=f(O,10),O=E,E=M,$=w,w=z,z=f(K,10),K=Z,Z=b}var R=this._b+O+z|0;this._b=this._c+T+w|0,this._c=this._d+S+$|0,this._d=this._e+P+Z|0,this._e=this._a+E+K|0,this._a=R},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=v.alloc?v.alloc(20):new v(20);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y.writeInt32LE(this._e,16),y};function f(y,D){return y<<D|y>>>32-D}function l(y,D,P,E,O,T,S,$){return f(y+(D^P^E)+T+S|0,$)+O|0}function n(y,D,P,E,O,T,S,$){return f(y+(D&P|~D&E)+T+S|0,$)+O|0}function r(y,D,P,E,O,T,S,$){return f(y+((D|~P)^E)+T+S|0,$)+O|0}function o(y,D,P,E,O,T,S,$){return f(y+(D&E|P&~E)+T+S|0,$)+O|0}function g(y,D,P,E,O,T,S,$){return f(y+(D^(P|~E))+T+S|0,$)+O|0}se.exports=a},89509:function(se,j,e){var v=e(48764),m=v.Buffer;function x(p,d){for(var h in p)d[h]=p[h]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?se.exports=v:(x(v,j),j.Buffer=u);function u(p,d,h){return m(p,d,h)}u.prototype=Object.create(m.prototype),x(m,u),u.from=function(p,d,h){if(typeof p=="number")throw new TypeError("Argument must not be a number");return m(p,d,h)},u.alloc=function(p,d,h){if(typeof p!="number")throw new TypeError("Argument must be a number");var t=m(p);return d!==void 0?typeof h=="string"?t.fill(d,h):t.fill(d):t.fill(0),t},u.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return m(p)},u.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return v.SlowBuffer(p)}},2399:function(se,j,e){"use strict";var v=e(34155),m=e(48764),x=m.Buffer,u={},p;for(p in m)m.hasOwnProperty(p)&&(p==="SlowBuffer"||p==="Buffer"||(u[p]=m[p]));var d=u.Buffer={};for(p in x)x.hasOwnProperty(p)&&(p==="allocUnsafe"||p==="allocUnsafeSlow"||(d[p]=x[p]));if(u.Buffer.prototype=x.prototype,(!d.from||d.from===Uint8Array.from)&&(d.from=function(h,t,c){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&typeof h.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return x(h,t,c)}),d.alloc||(d.alloc=function(h,t,c){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var i=x(h);return!t||t.length===0?i.fill(0):typeof c=="string"?i.fill(t,c):i.fill(t),i}),!u.kStringMaxLength)try{u.kStringMaxLength=v.binding("buffer").kStringMaxLength}catch(h){}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),se.exports=u},91036:function(se,j,e){const v=e(23719),m=e(22997),{isPlainObject:x}=e(10977),u=e(9996),p=e(79430),{parse:d}=e(50020),h=["img","audio","video","picture","svg","object","map","iframe","embed"],t=["script","style"];function c(g,y){g&&Object.keys(g).forEach(function(D){y(g[D],D)})}function i(g,y){return{}.hasOwnProperty.call(g,y)}function a(g,y){const D=[];return c(g,function(P){y(P)&&D.push(P)}),D}function f(g){for(const y in g)if(i(g,y))return!1;return!0}function l(g){return g.map(function(y){if(!y.url)throw new Error("URL missing");return y.url+(y.w?` ${y.w}w`:"")+(y.h?` ${y.h}h`:"")+(y.d?` ${y.d}x`:"")}).join(", ")}se.exports=r;const n=/^[^\0\t\n\f\r /<=>]+$/;function r(g,y,D){if(g==null)return"";typeof g=="number"&&(g=g.toString());let P="",E="";function O(te,le){const ne=this;this.tag=te,this.attribs=le||{},this.tagPosition=P.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(R.length){const ie=R[R.length-1];ie.text+=ne.text}},this.updateParentNodeMediaChildren=function(){R.length&&h.includes(this.tag)&&R[R.length-1].mediaChildren.push(this.tag)}}y=Object.assign({},r.defaults,y),y.parser=Object.assign({},o,y.parser);const T=function(te){return y.allowedTags===!1||(y.allowedTags||[]).indexOf(te)>-1};t.forEach(function(te){T(te)&&!y.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${te}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const S=y.nonTextTags||["script","style","textarea","option"];let $,Z;y.allowedAttributes&&($={},Z={},c(y.allowedAttributes,function(te,le){$[le]=[];const ne=[];te.forEach(function(ie){typeof ie=="string"&&ie.indexOf("*")>=0?ne.push(m(ie).replace(/\\\*/g,".*")):$[le].push(ie)}),ne.length&&(Z[le]=new RegExp("^("+ne.join("|")+")$"))}));const K={},z={},w={};c(y.allowedClasses,function(te,le){$&&(i($,le)||($[le]=[]),$[le].push("class")),K[le]=[],w[le]=[];const ne=[];te.forEach(function(ie){typeof ie=="string"&&ie.indexOf("*")>=0?ne.push(m(ie).replace(/\\\*/g,".*")):ie instanceof RegExp?w[le].push(ie):K[le].push(ie)}),ne.length&&(z[le]=new RegExp("^("+ne.join("|")+")$"))});const A={};let M;c(y.transformTags,function(te,le){let ne;typeof te=="function"?ne=te:typeof te=="string"&&(ne=r.simpleTransform(te)),le==="*"?M=ne:A[le]=ne});let b,R,L,N,B,V,U=!1;F();const I=new v.Parser({onopentag:function(te,le){if(y.enforceHtmlBoundary&&te==="html"&&F(),B){V++;return}const ne=new O(te,le);R.push(ne);let ie=!1;const ee=!!ne.text;let fe;if(i(A,te)&&(fe=A[te](te,le),ne.attribs=le=fe.attribs,fe.text!==void 0&&(ne.innerText=fe.text),te!==fe.tagName&&(ne.name=te=fe.tagName,N[b]=fe.tagName)),M&&(fe=M(te,le),ne.attribs=le=fe.attribs,te!==fe.tagName&&(ne.name=te=fe.tagName,N[b]=fe.tagName)),(!T(te)||y.disallowedTagsMode==="recursiveEscape"&&!f(L)||y.nestingLimit!=null&&b>=y.nestingLimit)&&(ie=!0,L[b]=!0,y.disallowedTagsMode==="discard"&&S.indexOf(te)!==-1&&(B=!0,V=1),L[b]=!0),b++,ie){if(y.disallowedTagsMode==="discard")return;E=P,P=""}P+="<"+te,te==="script"&&(y.allowedScriptHostnames||y.allowedScriptDomains)&&(ne.innerText=""),(!$||i($,te)||$["*"])&&c(le,function(de,ue){if(!n.test(ue)){delete ne.attribs[ue];return}let Se=!1;if(!$||i($,te)&&$[te].indexOf(ue)!==-1||$["*"]&&$["*"].indexOf(ue)!==-1||i(Z,te)&&Z[te].test(ue)||Z["*"]&&Z["*"].test(ue))Se=!0;else if($&&$[te]){for(const ae of $[te])if(x(ae)&&ae.name&&ae.name===ue){Se=!0;let G="";if(ae.multiple===!0){const re=de.split(" ");for(const oe of re)ae.values.indexOf(oe)!==-1&&(G===""?G=oe:G+=" "+oe)}else ae.values.indexOf(de)>=0&&(G=de);de=G}}if(Se){if(y.allowedSchemesAppliedToAttributes.indexOf(ue)!==-1&&X(te,de)){delete ne.attribs[ue];return}if(te==="script"&&ue==="src"){let ae=!0;try{const G=J(de);if(y.allowedScriptHostnames||y.allowedScriptDomains){const re=(y.allowedScriptHostnames||[]).find(function(ce){return ce===G.url.hostname}),oe=(y.allowedScriptDomains||[]).find(function(ce){return G.url.hostname===ce||G.url.hostname.endsWith(`.${ce}`)});ae=re||oe}}catch(G){ae=!1}if(!ae){delete ne.attribs[ue];return}}if(te==="iframe"&&ue==="src"){let ae=!0;try{const G=J(de);if(G.isRelativeUrl)ae=i(y,"allowIframeRelativeUrls")?y.allowIframeRelativeUrls:!y.allowedIframeHostnames&&!y.allowedIframeDomains;else if(y.allowedIframeHostnames||y.allowedIframeDomains){const re=(y.allowedIframeHostnames||[]).find(function(ce){return ce===G.url.hostname}),oe=(y.allowedIframeDomains||[]).find(function(ce){return G.url.hostname===ce||G.url.hostname.endsWith(`.${ce}`)});ae=re||oe}}catch(G){ae=!1}if(!ae){delete ne.attribs[ue];return}}if(ue==="srcset")try{let ae=p(de);if(ae.forEach(function(G){X("srcset",G.url)&&(G.evil=!0)}),ae=a(ae,function(G){return!G.evil}),ae.length)de=l(a(ae,function(G){return!G.evil})),ne.attribs[ue]=de;else{delete ne.attribs[ue];return}}catch(ae){delete ne.attribs[ue];return}if(ue==="class"){const ae=K[te],G=K["*"],re=z[te],oe=w[te],ce=z["*"],be=[re,ce].concat(oe).filter(function(xe){return xe});if(ae&&G?de=H(de,u(ae,G),be):de=H(de,ae||G,be),!de.length){delete ne.attribs[ue];return}}if(ue==="style"){if(y.parseStyleAttributes)try{const ae=d(te+" {"+de+"}"),G=C(ae,y.allowedStyles);if(de=k(G),de.length===0){delete ne.attribs[ue];return}}catch(ae){console.warn('Failed to parse "'+te+" {"+de+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete ne.attribs[ue];return}else if(y.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}P+=" "+ue,de&&de.length&&(P+='="'+W(de,!0)+'"')}else delete ne.attribs[ue]}),y.selfClosing.indexOf(te)!==-1?P+=" />":(P+=">",ne.innerText&&!ee&&!y.textFilter&&(P+=W(ne.innerText),U=!0)),ie&&(P=E+W(P),E="")},ontext:function(te){if(B)return;const le=R[R.length-1];let ne;if(le&&(ne=le.tag,te=le.innerText!==void 0?le.innerText:te),y.disallowedTagsMode==="discard"&&(ne==="script"||ne==="style"))P+=te;else{const ie=W(te,!1);y.textFilter&&!U?P+=y.textFilter(ie,ne):U||(P+=ie)}if(R.length){const ie=R[R.length-1];ie.text+=te}},onclosetag:function(te,le){if(B)if(V--,!V)B=!1;else return;const ne=R.pop();if(!ne)return;if(ne.tag!==te){R.push(ne);return}B=y.enforceHtmlBoundary?te==="html":!1,b--;const ie=L[b];if(ie){if(delete L[b],y.disallowedTagsMode==="discard"){ne.updateParentNodeText();return}E=P,P=""}if(N[b]&&(te=N[b],delete N[b]),y.exclusiveFilter&&y.exclusiveFilter(ne)){P=P.substr(0,ne.tagPosition);return}if(ne.updateParentNodeMediaChildren(),ne.updateParentNodeText(),y.selfClosing.indexOf(te)!==-1||le&&!T(te)&&["escape","recursiveEscape"].indexOf(y.disallowedTagsMode)>=0){ie&&(P=E,E="");return}P+="</"+te+">",ie&&(P=E+W(P),E=""),U=!1}},y.parser);return I.write(g),I.end(),P;function F(){P="",b=0,R=[],L={},N={},B=!1,V=0}function W(te,le){return typeof te!="string"&&(te=te+""),y.parser.decodeEntities&&(te=te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),le&&(te=te.replace(/"/g,"&quot;"))),te=te.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),le&&(te=te.replace(/"/g,"&quot;")),te}function X(te,le){for(le=le.replace(/[\x00-\x20]+/g,"");;){const ee=le.indexOf("<!--");if(ee===-1)break;const fe=le.indexOf("-->",ee+4);if(fe===-1)break;le=le.substring(0,ee)+le.substring(fe+3)}const ne=le.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!ne)return le.match(/^[/\\]{2}/)?!y.allowProtocolRelative:!1;const ie=ne[1].toLowerCase();return i(y.allowedSchemesByTag,te)?y.allowedSchemesByTag[te].indexOf(ie)===-1:!y.allowedSchemes||y.allowedSchemes.indexOf(ie)===-1}function J(te){if(te=te.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),te.startsWith("relative:"))throw new Error("relative: exploit attempt");let le="relative://relative-site";for(let ee=0;ee<100;ee++)le+=`/${ee}`;const ne=new URL(te,le);return{isRelativeUrl:ne&&ne.hostname==="relative-site"&&ne.protocol==="relative:",url:ne}}function C(te,le){if(!le)return te;const ne=te.nodes[0];let ie;return le[ne.selector]&&le["*"]?ie=u(le[ne.selector],le["*"]):ie=le[ne.selector]||le["*"],ie&&(te.nodes[0].nodes=ne.nodes.reduce(Y(ie),[])),te}function k(te){return te.nodes[0].nodes.reduce(function(le,ne){return le.push(`${ne.prop}:${ne.value}${ne.important?" !important":""}`),le},[]).join(";")}function Y(te){return function(le,ne){return i(te,ne.prop)&&te[ne.prop].some(function(ee){return ee.test(ne.value)})&&le.push(ne),le}}function H(te,le,ne){return le?(te=te.split(/\s+/),te.filter(function(ie){return le.indexOf(ie)!==-1||ne.some(function(ee){return ee.test(ie)})}).join(" ")):te}}const o={decodeEntities:!0};r.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},r.simpleTransform=function(g,y,D){return D=D===void 0?!0:D,y=y||{},function(P,E){let O;if(D)for(O in y)E[O]=y[O];else E=y;return{tagName:g,attribs:E}}}},22997:function(se){"use strict";se.exports=j=>{if(typeof j!="string")throw new TypeError("Expected a string");return j.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},10977:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});function e(m){return Object.prototype.toString.call(m)==="[object Object]"}function v(m){var x,u;return e(m)===!1?!1:(x=m.constructor,x===void 0?!0:(u=x.prototype,!(e(u)===!1||u.hasOwnProperty("isPrototypeOf")===!1)))}j.isPlainObject=v},10577:function(se){(function(){"use strict";var j=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},e=se.exports,v=function(){for(var u,p=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,h=p.length,t={};d<h;d++)if(u=p[d],u&&u[1]in j){for(d=0;d<u.length;d++)t[p[0][d]]=u[d];return t}return!1}(),m={change:v.fullscreenchange,error:v.fullscreenerror},x={request:function(u,p){return new Promise(function(d,h){var t=function(){this.off("change",t),d()}.bind(this);this.on("change",t),u=u||j.documentElement;var c=u[v.requestFullscreen](p);c instanceof Promise&&c.then(t).catch(h)}.bind(this))},exit:function(){return new Promise(function(u,p){if(!this.isFullscreen){u();return}var d=function(){this.off("change",d),u()}.bind(this);this.on("change",d);var h=j[v.exitFullscreen]();h instanceof Promise&&h.then(d).catch(p)}.bind(this))},toggle:function(u,p){return this.isFullscreen?this.exit():this.request(u,p)},onchange:function(u){this.on("change",u)},onerror:function(u){this.on("error",u)},on:function(u,p){var d=m[u];d&&j.addEventListener(d,p,!1)},off:function(u,p){var d=m[u];d&&j.removeEventListener(d,p,!1)},raw:v};if(!v){e?se.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(x,{isFullscreen:{get:function(){return!!j[v.fullscreenElement]}},element:{enumerable:!0,get:function(){return j[v.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!j[v.fullscreenEnabled]}}}),e?se.exports=x:window.screenfull=x})()},36377:function(se,j,e){var v=e(84832),m=e(68652),x=e(90801),u=e(92030),p=e(3618),d=e(89049),h=e(51971);h.alea=v,h.xor128=m,h.xorwow=x,h.xorshift7=u,h.xor4096=p,h.tychei=d,se.exports=h},84832:function(se,j,e){se=e.nmd(se);var v;(function(m,x,u){function p(c){var i=this,a=t();i.next=function(){var f=2091639*i.s0+i.c*23283064365386963e-26;return i.s0=i.s1,i.s1=i.s2,i.s2=f-(i.c=f|0)},i.c=1,i.s0=a(" "),i.s1=a(" "),i.s2=a(" "),i.s0-=a(c),i.s0<0&&(i.s0+=1),i.s1-=a(c),i.s1<0&&(i.s1+=1),i.s2-=a(c),i.s2<0&&(i.s2+=1),a=null}function d(c,i){return i.c=c.c,i.s0=c.s0,i.s1=c.s1,i.s2=c.s2,i}function h(c,i){var a=new p(c),f=i&&i.state,l=a.next;return l.int32=function(){return a.next()*4294967296|0},l.double=function(){return l()+(l()*2097152|0)*11102230246251565e-32},l.quick=l,f&&(typeof f=="object"&&d(f,a),l.state=function(){return d(a,{})}),l}function t(){var c=4022871197,i=function(a){a=String(a);for(var f=0;f<a.length;f++){c+=a.charCodeAt(f);var l=.02519603282416938*c;c=l>>>0,l-=c,l*=c,c=l>>>0,l-=c,c+=l*4294967296}return(c>>>0)*23283064365386963e-26};return i}x&&x.exports?x.exports=h:e.amdD&&e.amdO?(v=function(){return h}.call(j,e,j,x),v!==void 0&&(x.exports=v)):this.alea=h})(this,se,e.amdD)},89049:function(se,j,e){se=e.nmd(se);var v;(function(m,x,u){function p(t){var c=this,i="";c.next=function(){var f=c.b,l=c.c,n=c.d,r=c.a;return f=f<<25^f>>>7^l,l=l-n|0,n=n<<24^n>>>8^r,r=r-f|0,c.b=f=f<<20^f>>>12^l,c.c=l=l-n|0,c.d=n<<16^l>>>16^r,c.a=r-f|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,t===Math.floor(t)?(c.a=t/4294967296|0,c.b=t|0):i+=t;for(var a=0;a<i.length+20;a++)c.b^=i.charCodeAt(a)|0,c.next()}function d(t,c){return c.a=t.a,c.b=t.b,c.c=t.c,c.d=t.d,c}function h(t,c){var i=new p(t),a=c&&c.state,f=function(){return(i.next()>>>0)/4294967296};return f.double=function(){do var l=i.next()>>>11,n=(i.next()>>>0)/4294967296,r=(l+n)/(1<<21);while(r===0);return r},f.int32=i.next,f.quick=f,a&&(typeof a=="object"&&d(a,i),f.state=function(){return d(i,{})}),f}x&&x.exports?x.exports=h:e.amdD&&e.amdO?(v=function(){return h}.call(j,e,j,x),v!==void 0&&(x.exports=v)):this.tychei=h})(this,se,e.amdD)},68652:function(se,j,e){se=e.nmd(se);var v;(function(m,x,u){function p(t){var c=this,i="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var f=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^f^f>>>8},t===(t|0)?c.x=t:i+=t;for(var a=0;a<i.length+64;a++)c.x^=i.charCodeAt(a)|0,c.next()}function d(t,c){return c.x=t.x,c.y=t.y,c.z=t.z,c.w=t.w,c}function h(t,c){var i=new p(t),a=c&&c.state,f=function(){return(i.next()>>>0)/4294967296};return f.double=function(){do var l=i.next()>>>11,n=(i.next()>>>0)/4294967296,r=(l+n)/(1<<21);while(r===0);return r},f.int32=i.next,f.quick=f,a&&(typeof a=="object"&&d(a,i),f.state=function(){return d(i,{})}),f}x&&x.exports?x.exports=h:e.amdD&&e.amdO?(v=function(){return h}.call(j,e,j,x),v!==void 0&&(x.exports=v)):this.xor128=h})(this,se,e.amdD)},3618:function(se,j,e){se=e.nmd(se);var v;(function(m,x,u){function p(t){var c=this;c.next=function(){var a=c.w,f=c.X,l=c.i,n,r;return c.w=a=a+1640531527|0,r=f[l+34&127],n=f[l=l+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,r=f[l]=r^n,c.i=l,r+(a^a>>>16)|0};function i(a,f){var l,n,r,o,g,y=[],D=128;for(f===(f|0)?(n=f,f=null):(f=f+"\0",n=0,D=Math.max(D,f.length)),r=0,o=-32;o<D;++o)f&&(n^=f.charCodeAt((o+32)%f.length)),o===0&&(g=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(g=g+1640531527|0,l=y[o&127]^=n+g,r=l==0?r+1:0);for(r>=128&&(y[(f&&f.length||0)&127]=-1),r=127,o=4*128;o>0;--o)n=y[r+34&127],l=y[r=r+1&127],n^=n<<13,l^=l<<17,n^=n>>>15,l^=l>>>12,y[r]=n^l;a.w=g,a.X=y,a.i=r}i(c,t)}function d(t,c){return c.i=t.i,c.w=t.w,c.X=t.X.slice(),c}function h(t,c){t==null&&(t=+new Date);var i=new p(t),a=c&&c.state,f=function(){return(i.next()>>>0)/4294967296};return f.double=function(){do var l=i.next()>>>11,n=(i.next()>>>0)/4294967296,r=(l+n)/(1<<21);while(r===0);return r},f.int32=i.next,f.quick=f,a&&(a.X&&d(a,i),f.state=function(){return d(i,{})}),f}x&&x.exports?x.exports=h:e.amdD&&e.amdO?(v=function(){return h}.call(j,e,j,x),v!==void 0&&(x.exports=v)):this.xor4096=h})(this,se,e.amdD)},92030:function(se,j,e){se=e.nmd(se);var v;(function(m,x,u){function p(t){var c=this;c.next=function(){var a=c.x,f=c.i,l,n,r;return l=a[f],l^=l>>>7,n=l^l<<24,l=a[f+1&7],n^=l^l>>>10,l=a[f+3&7],n^=l^l>>>3,l=a[f+4&7],n^=l^l<<7,l=a[f+7&7],l=l^l<<13,n^=l^l<<9,a[f]=n,c.i=f+1&7,n};function i(a,f){var l,n,r=[];if(f===(f|0))n=r[0]=f;else for(f=""+f,l=0;l<f.length;++l)r[l&7]=r[l&7]<<15^f.charCodeAt(l)+r[l+1&7]<<13;for(;r.length<8;)r.push(0);for(l=0;l<8&&r[l]===0;++l);for(l==8?n=r[7]=-1:n=r[l],a.x=r,a.i=0,l=256;l>0;--l)a.next()}i(c,t)}function d(t,c){return c.x=t.x.slice(),c.i=t.i,c}function h(t,c){t==null&&(t=+new Date);var i=new p(t),a=c&&c.state,f=function(){return(i.next()>>>0)/4294967296};return f.double=function(){do var l=i.next()>>>11,n=(i.next()>>>0)/4294967296,r=(l+n)/(1<<21);while(r===0);return r},f.int32=i.next,f.quick=f,a&&(a.x&&d(a,i),f.state=function(){return d(i,{})}),f}x&&x.exports?x.exports=h:e.amdD&&e.amdO?(v=function(){return h}.call(j,e,j,x),v!==void 0&&(x.exports=v)):this.xorshift7=h})(this,se,e.amdD)},90801:function(se,j,e){se=e.nmd(se);var v;(function(m,x,u){function p(t){var c=this,i="";c.next=function(){var f=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(f^f<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,t===(t|0)?c.x=t:i+=t;for(var a=0;a<i.length+64;a++)c.x^=i.charCodeAt(a)|0,a==i.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function d(t,c){return c.x=t.x,c.y=t.y,c.z=t.z,c.w=t.w,c.v=t.v,c.d=t.d,c}function h(t,c){var i=new p(t),a=c&&c.state,f=function(){return(i.next()>>>0)/4294967296};return f.double=function(){do var l=i.next()>>>11,n=(i.next()>>>0)/4294967296,r=(l+n)/(1<<21);while(r===0);return r},f.int32=i.next,f.quick=f,a&&(typeof a=="object"&&d(a,i),f.state=function(){return d(i,{})}),f}x&&x.exports?x.exports=h:e.amdD&&e.amdO?(v=function(){return h}.call(j,e,j,x),v!==void 0&&(x.exports=v)):this.xorwow=h})(this,se,e.amdD)},51971:function(se,j,e){var v;(function(m,x,u){var p=256,d=6,h=52,t="random",c=u.pow(p,d),i=u.pow(2,h),a=i*2,f=p-1,l;function n(E,O,T){var S=[];O=O==!0?{entropy:!0}:O||{};var $=y(g(O.entropy?[E,P(x)]:E==null?D():E,3),S),Z=new r(S),K=function(){for(var z=Z.g(d),w=c,A=0;z<i;)z=(z+A)*p,w*=p,A=Z.g(1);for(;z>=a;)z/=2,w/=2,A>>>=1;return(z+A)/w};return K.int32=function(){return Z.g(4)|0},K.quick=function(){return Z.g(4)/4294967296},K.double=K,y(P(Z.S),x),(O.pass||T||function(z,w,A,M){return M&&(M.S&&o(M,Z),z.state=function(){return o(Z,{})}),A?(u[t]=z,w):z})(K,$,"global"in O?O.global:this==u,O.state)}function r(E){var O,T=E.length,S=this,$=0,Z=S.i=S.j=0,K=S.S=[];for(T||(E=[T++]);$<p;)K[$]=$++;for($=0;$<p;$++)K[$]=K[Z=f&Z+E[$%T]+(O=K[$])],K[Z]=O;(S.g=function(z){for(var w,A=0,M=S.i,b=S.j,R=S.S;z--;)w=R[M=f&M+1],A=A*p+R[f&(R[M]=R[b=f&b+w])+(R[b]=w)];return S.i=M,S.j=b,A})(p)}function o(E,O){return O.i=E.i,O.j=E.j,O.S=E.S.slice(),O}function g(E,O){var T=[],S=typeof E,$;if(O&&S=="object")for($ in E)try{T.push(g(E[$],O-1))}catch(Z){}return T.length?T:S=="string"?E:E+"\0"}function y(E,O){for(var T=E+"",S,$=0;$<T.length;)O[f&$]=f&(S^=O[f&$]*19)+T.charCodeAt($++);return P(O)}function D(){try{var E;return l&&(E=l.randomBytes)?E=E(p):(E=new Uint8Array(p),(m.crypto||m.msCrypto).getRandomValues(E)),P(E)}catch(S){var O=m.navigator,T=O&&O.plugins;return[+new Date,m,T,m.screen,P(x)]}}function P(E){return String.fromCharCode.apply(0,E)}if(y(u.random(),x),se.exports){se.exports=n;try{l=e(75042)}catch(E){}}else v=function(){return n}.call(j,e,j,se),v!==void 0&&(se.exports=v)})(typeof self!="undefined"?self:this,[],Math)},67771:function(se,j,e){"use strict";var v=e(40210),m=e(12296),x=e(31044)(),u=e(25275),p=v("%TypeError%"),d=v("%Math.floor%");se.exports=function(t,c){if(typeof t!="function")throw new p("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||d(c)!==c)throw new p("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],a=!0,f=!0;if("length"in t&&u){var l=u(t,"length");l&&!l.configurable&&(a=!1),l&&!l.writable&&(f=!1)}return(a||f||!i)&&(x?m(t,"length",c,!0,!0):m(t,"length",c)),t}},24189:function(se,j,e){var v=e(89509).Buffer;function m(x,u){this._block=v.alloc(x),this._finalSize=u,this._blockSize=x,this._len=0}m.prototype.update=function(x,u){typeof x=="string"&&(u=u||"utf8",x=v.from(x,u));for(var p=this._block,d=this._blockSize,h=x.length,t=this._len,c=0;c<h;){for(var i=t%d,a=Math.min(h-c,d-i),f=0;f<a;f++)p[i+f]=x[c+f];t+=a,c+=a,t%d===0&&this._update(p)}return this._len+=h,this},m.prototype.digest=function(x){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var p=this._len*8;if(p<=4294967295)this._block.writeUInt32BE(p,this._blockSize-4);else{var d=(p&4294967295)>>>0,h=(p-d)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var t=this._hash();return x?t.toString(x):t},m.prototype._update=function(){throw new Error("_update must be implemented by subclass")},se.exports=m},89072:function(se,j,e){var v=se.exports=function(x){x=x.toLowerCase();var u=v[x];if(!u)throw new Error(x+" is not supported (we accept pull requests)");return new u};v.sha=e(74448),v.sha1=e(18336),v.sha224=e(48432),v.sha256=e(67499),v.sha384=e(51686),v.sha512=e(87816)},74448:function(se,j,e){var v=e(35717),m=e(24189),x=e(89509).Buffer,u=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);function d(){this.init(),this._w=p,m.call(this,64,56)}v(d,m),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function h(i){return i<<5|i>>>27}function t(i){return i<<30|i>>>2}function c(i,a,f,l){return i===0?a&f|~a&l:i===2?a&f|a&l|f&l:a^f^l}d.prototype._update=function(i){for(var a=this._w,f=this._a|0,l=this._b|0,n=this._c|0,r=this._d|0,o=this._e|0,g=0;g<16;++g)a[g]=i.readInt32BE(g*4);for(;g<80;++g)a[g]=a[g-3]^a[g-8]^a[g-14]^a[g-16];for(var y=0;y<80;++y){var D=~~(y/20),P=h(f)+c(D,l,n,r)+o+a[y]+u[D]|0;o=r,r=n,n=t(l),l=f,f=P}this._a=f+this._a|0,this._b=l+this._b|0,this._c=n+this._c|0,this._d=r+this._d|0,this._e=o+this._e|0},d.prototype._hash=function(){var i=x.allocUnsafe(20);return i.writeInt32BE(this._a|0,0),i.writeInt32BE(this._b|0,4),i.writeInt32BE(this._c|0,8),i.writeInt32BE(this._d|0,12),i.writeInt32BE(this._e|0,16),i},se.exports=d},18336:function(se,j,e){var v=e(35717),m=e(24189),x=e(89509).Buffer,u=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);function d(){this.init(),this._w=p,m.call(this,64,56)}v(d,m),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function h(a){return a<<1|a>>>31}function t(a){return a<<5|a>>>27}function c(a){return a<<30|a>>>2}function i(a,f,l,n){return a===0?f&l|~f&n:a===2?f&l|f&n|l&n:f^l^n}d.prototype._update=function(a){for(var f=this._w,l=this._a|0,n=this._b|0,r=this._c|0,o=this._d|0,g=this._e|0,y=0;y<16;++y)f[y]=a.readInt32BE(y*4);for(;y<80;++y)f[y]=h(f[y-3]^f[y-8]^f[y-14]^f[y-16]);for(var D=0;D<80;++D){var P=~~(D/20),E=t(l)+i(P,n,r,o)+g+f[D]+u[P]|0;g=o,o=r,r=c(n),n=l,l=E}this._a=l+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=o+this._d|0,this._e=g+this._e|0},d.prototype._hash=function(){var a=x.allocUnsafe(20);return a.writeInt32BE(this._a|0,0),a.writeInt32BE(this._b|0,4),a.writeInt32BE(this._c|0,8),a.writeInt32BE(this._d|0,12),a.writeInt32BE(this._e|0,16),a},se.exports=d},48432:function(se,j,e){var v=e(35717),m=e(67499),x=e(24189),u=e(89509).Buffer,p=new Array(64);function d(){this.init(),this._w=p,x.call(this,64,56)}v(d,m),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var h=u.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},se.exports=d},67499:function(se,j,e){var v=e(35717),m=e(24189),x=e(89509).Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);function d(){this.init(),this._w=p,m.call(this,64,56)}v(d,m),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function h(l,n,r){return r^l&(n^r)}function t(l,n,r){return l&n|r&(l|n)}function c(l){return(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10)}function i(l){return(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7)}function a(l){return(l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3}function f(l){return(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10}d.prototype._update=function(l){for(var n=this._w,r=this._a|0,o=this._b|0,g=this._c|0,y=this._d|0,D=this._e|0,P=this._f|0,E=this._g|0,O=this._h|0,T=0;T<16;++T)n[T]=l.readInt32BE(T*4);for(;T<64;++T)n[T]=f(n[T-2])+n[T-7]+a(n[T-15])+n[T-16]|0;for(var S=0;S<64;++S){var $=O+i(D)+h(D,P,E)+u[S]+n[S]|0,Z=c(r)+t(r,o,g)|0;O=E,E=P,P=D,D=y+$|0,y=g,g=o,o=r,r=$+Z|0}this._a=r+this._a|0,this._b=o+this._b|0,this._c=g+this._c|0,this._d=y+this._d|0,this._e=D+this._e|0,this._f=P+this._f|0,this._g=E+this._g|0,this._h=O+this._h|0},d.prototype._hash=function(){var l=x.allocUnsafe(32);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l.writeInt32BE(this._h,28),l},se.exports=d},51686:function(se,j,e){var v=e(35717),m=e(87816),x=e(24189),u=e(89509).Buffer,p=new Array(160);function d(){this.init(),this._w=p,x.call(this,128,112)}v(d,m),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var h=u.allocUnsafe(48);function t(c,i,a){h.writeInt32BE(c,a),h.writeInt32BE(i,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),h},se.exports=d},87816:function(se,j,e){var v=e(35717),m=e(24189),x=e(89509).Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],p=new Array(160);function d(){this.init(),this._w=p,m.call(this,128,112)}v(d,m),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function h(o,g,y){return y^o&(g^y)}function t(o,g,y){return o&g|y&(o|g)}function c(o,g){return(o>>>28|g<<4)^(g>>>2|o<<30)^(g>>>7|o<<25)}function i(o,g){return(o>>>14|g<<18)^(o>>>18|g<<14)^(g>>>9|o<<23)}function a(o,g){return(o>>>1|g<<31)^(o>>>8|g<<24)^o>>>7}function f(o,g){return(o>>>1|g<<31)^(o>>>8|g<<24)^(o>>>7|g<<25)}function l(o,g){return(o>>>19|g<<13)^(g>>>29|o<<3)^o>>>6}function n(o,g){return(o>>>19|g<<13)^(g>>>29|o<<3)^(o>>>6|g<<26)}function r(o,g){return o>>>0<g>>>0?1:0}d.prototype._update=function(o){for(var g=this._w,y=this._ah|0,D=this._bh|0,P=this._ch|0,E=this._dh|0,O=this._eh|0,T=this._fh|0,S=this._gh|0,$=this._hh|0,Z=this._al|0,K=this._bl|0,z=this._cl|0,w=this._dl|0,A=this._el|0,M=this._fl|0,b=this._gl|0,R=this._hl|0,L=0;L<32;L+=2)g[L]=o.readInt32BE(L*4),g[L+1]=o.readInt32BE(L*4+4);for(;L<160;L+=2){var N=g[L-30],B=g[L-15*2+1],V=a(N,B),U=f(B,N);N=g[L-2*2],B=g[L-2*2+1];var I=l(N,B),F=n(B,N),W=g[L-7*2],X=g[L-7*2+1],J=g[L-16*2],C=g[L-16*2+1],k=U+X|0,Y=V+W+r(k,U)|0;k=k+F|0,Y=Y+I+r(k,F)|0,k=k+C|0,Y=Y+J+r(k,C)|0,g[L]=Y,g[L+1]=k}for(var H=0;H<160;H+=2){Y=g[H],k=g[H+1];var te=t(y,D,P),le=t(Z,K,z),ne=c(y,Z),ie=c(Z,y),ee=i(O,A),fe=i(A,O),de=u[H],ue=u[H+1],Se=h(O,T,S),ae=h(A,M,b),G=R+fe|0,re=$+ee+r(G,R)|0;G=G+ae|0,re=re+Se+r(G,ae)|0,G=G+ue|0,re=re+de+r(G,ue)|0,G=G+k|0,re=re+Y+r(G,k)|0;var oe=ie+le|0,ce=ne+te+r(oe,ie)|0;$=S,R=b,S=T,b=M,T=O,M=A,A=w+G|0,O=E+re+r(A,w)|0,E=P,w=z,P=D,z=K,D=y,K=Z,Z=G+oe|0,y=re+ce+r(Z,G)|0}this._al=this._al+Z|0,this._bl=this._bl+K|0,this._cl=this._cl+z|0,this._dl=this._dl+w|0,this._el=this._el+A|0,this._fl=this._fl+M|0,this._gl=this._gl+b|0,this._hl=this._hl+R|0,this._ah=this._ah+y+r(this._al,Z)|0,this._bh=this._bh+D+r(this._bl,K)|0,this._ch=this._ch+P+r(this._cl,z)|0,this._dh=this._dh+E+r(this._dl,w)|0,this._eh=this._eh+O+r(this._el,A)|0,this._fh=this._fh+T+r(this._fl,M)|0,this._gh=this._gh+S+r(this._gl,b)|0,this._hh=this._hh+$+r(this._hl,R)|0},d.prototype._hash=function(){var o=x.allocUnsafe(64);function g(y,D,P){o.writeInt32BE(y,P),o.writeInt32BE(D,P+4)}return g(this._ah,this._al,0),g(this._bh,this._bl,8),g(this._ch,this._cl,16),g(this._dh,this._dl,24),g(this._eh,this._el,32),g(this._fh,this._fl,40),g(this._gh,this._gl,48),g(this._hh,this._hl,56),o},se.exports=d},37478:function(se,j,e){"use strict";var v=e(40210),m=e(21924),x=e(27470),u=v("%TypeError%"),p=v("%WeakMap%",!0),d=v("%Map%",!0),h=m("WeakMap.prototype.get",!0),t=m("WeakMap.prototype.set",!0),c=m("WeakMap.prototype.has",!0),i=m("Map.prototype.get",!0),a=m("Map.prototype.set",!0),f=m("Map.prototype.has",!0),l=function(g,y){for(var D=g,P;(P=D.next)!==null;D=P)if(P.key===y)return D.next=P.next,P.next=g.next,g.next=P,P},n=function(g,y){var D=l(g,y);return D&&D.value},r=function(g,y,D){var P=l(g,y);P?P.value=D:g.next={key:y,next:g.next,value:D}},o=function(g,y){return!!l(g,y)};se.exports=function(){var y,D,P,E={assert:function(O){if(!E.has(O))throw new u("Side channel does not contain "+x(O))},get:function(O){if(p&&O&&(typeof O=="object"||typeof O=="function")){if(y)return h(y,O)}else if(d){if(D)return i(D,O)}else if(P)return n(P,O)},has:function(O){if(p&&O&&(typeof O=="object"||typeof O=="function")){if(y)return c(y,O)}else if(d){if(D)return f(D,O)}else if(P)return o(P,O);return!1},set:function(O,T){p&&O&&(typeof O=="object"||typeof O=="function")?(y||(y=new p),t(y,O,T)):d?(D||(D=new d),a(D,O,T)):(P||(P={key:{},next:null}),r(P,O,T))}};return E}},27470:function(se,j,e){var v=typeof Map=="function"&&Map.prototype,m=Object.getOwnPropertyDescriptor&&v?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,x=v&&m&&typeof m.get=="function"?m.get:null,u=v&&Map.prototype.forEach,p=typeof Set=="function"&&Set.prototype,d=Object.getOwnPropertyDescriptor&&p?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=p&&d&&typeof d.get=="function"?d.get:null,t=p&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,i=c?WeakMap.prototype.has:null,a=typeof WeakSet=="function"&&WeakSet.prototype,f=a?WeakSet.prototype.has:null,l=typeof WeakRef=="function"&&WeakRef.prototype,n=l?WeakRef.prototype.deref:null,r=Boolean.prototype.valueOf,o=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,D=String.prototype.slice,P=String.prototype.replace,E=String.prototype.toUpperCase,O=String.prototype.toLowerCase,T=RegExp.prototype.test,S=Array.prototype.concat,$=Array.prototype.join,Z=Array.prototype.slice,K=Math.floor,z=typeof BigInt=="function"?BigInt.prototype.valueOf:null,w=Object.getOwnPropertySymbols,A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,M=typeof Symbol=="function"&&typeof Symbol.iterator=="object",b=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===M||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,L=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Me){return Me.__proto__}:null);function N(Me,Te){if(Me===1/0||Me===-1/0||Me!==Me||Me&&Me>-1e3&&Me<1e3||T.call(/e/,Te))return Te;var we=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Me=="number"){var Ue=Me<0?-K(-Me):K(Me);if(Ue!==Me){var je=String(Ue),De=D.call(Te,je.length+1);return P.call(je,we,"$&_")+"."+P.call(P.call(De,/([0-9]{3})/g,"$&_"),/_$/,"")}}return P.call(Te,we,"$&_")}var B=e(47165),V=B.custom,U=te(V)?V:null;se.exports=function Me(Te,we,Ue,je){var De=we||{};if(ie(De,"quoteStyle")&&De.quoteStyle!=="single"&&De.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ie(De,"maxStringLength")&&(typeof De.maxStringLength=="number"?De.maxStringLength<0&&De.maxStringLength!==1/0:De.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ye=ie(De,"customInspect")?De.customInspect:!0;if(typeof ye!="boolean"&&ye!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ie(De,"indent")&&De.indent!==null&&De.indent!=="	"&&!(parseInt(De.indent,10)===De.indent&&De.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ie(De,"numericSeparator")&&typeof De.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _e=De.numericSeparator;if(typeof Te=="undefined")return"undefined";if(Te===null)return"null";if(typeof Te=="boolean")return Te?"true":"false";if(typeof Te=="string")return ce(Te,De);if(typeof Te=="number"){if(Te===0)return 1/0/Te>0?"0":"-0";var q=String(Te);return _e?N(Te,q):q}if(typeof Te=="bigint"){var pe=String(Te)+"n";return _e?N(Te,pe):pe}var Re=typeof De.depth=="undefined"?5:De.depth;if(typeof Ue=="undefined"&&(Ue=0),Ue>=Re&&Re>0&&typeof Te=="object")return W(Te)?"[Array]":"[Object]";var Oe=Ae(De,Ue);if(typeof je=="undefined")je=[];else if(de(je,Te)>=0)return"[Circular]";function $e(ct,St,Tt){if(St&&(je=Z.call(je),je.push(St)),Tt){var Mt={depth:De.depth};return ie(De,"quoteStyle")&&(Mt.quoteStyle=De.quoteStyle),Me(ct,Mt,Ue+1,je)}return Me(ct,De,Ue+1,je)}if(typeof Te=="function"&&!J(Te)){var Ve=fe(Te),Ze=Le(Te,$e);return"[Function"+(Ve?": "+Ve:" (anonymous)")+"]"+(Ze.length>0?" { "+$.call(Ze,", ")+" }":"")}if(te(Te)){var qe=M?P.call(String(Te),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(Te);return typeof Te=="object"&&!M?xe(qe):qe}if(oe(Te)){for(var Qe="<"+O.call(String(Te.nodeName)),ke=Te.attributes||[],ft=0;ft<ke.length;ft++)Qe+=" "+ke[ft].name+"="+I(F(ke[ft].value),"double",De);return Qe+=">",Te.childNodes&&Te.childNodes.length&&(Qe+="..."),Qe+="</"+O.call(String(Te.nodeName))+">",Qe}if(W(Te)){if(Te.length===0)return"[]";var vt=Le(Te,$e);return Oe&&!Pe(vt)?"["+Be(vt,Oe)+"]":"[ "+$.call(vt,", ")+" ]"}if(C(Te)){var _t=Le(Te,$e);return!("cause"in Error.prototype)&&"cause"in Te&&!R.call(Te,"cause")?"{ ["+String(Te)+"] "+$.call(S.call("[cause]: "+$e(Te.cause),_t),", ")+" }":_t.length===0?"["+String(Te)+"]":"{ ["+String(Te)+"] "+$.call(_t,", ")+" }"}if(typeof Te=="object"&&ye){if(U&&typeof Te[U]=="function"&&B)return B(Te,{depth:Re-Ue});if(ye!=="symbol"&&typeof Te.inspect=="function")return Te.inspect()}if(ue(Te)){var Nt=[];return u&&u.call(Te,function(ct,St){Nt.push($e(St,Te,!0)+" => "+$e(ct,Te))}),he("Map",x.call(Te),Nt,Oe)}if(G(Te)){var Kt=[];return t&&t.call(Te,function(ct){Kt.push($e(ct,Te))}),he("Set",h.call(Te),Kt,Oe)}if(Se(Te))return ge("WeakMap");if(re(Te))return ge("WeakSet");if(ae(Te))return ge("WeakRef");if(Y(Te))return xe($e(Number(Te)));if(le(Te))return xe($e(z.call(Te)));if(H(Te))return xe(r.call(Te));if(k(Te))return xe($e(String(Te)));if(typeof window!="undefined"&&Te===window)return"{ [object Window] }";if(Te===e.g)return"{ [object globalThis] }";if(!X(Te)&&!J(Te)){var ut=Le(Te,$e),Rt=L?L(Te)===Object.prototype:Te instanceof Object||Te.constructor===Object,Dt=Te instanceof Object?"":"null prototype",dt=!Rt&&b&&Object(Te)===Te&&b in Te?D.call(ee(Te),8,-1):Dt?"Object":"",Bt=Rt||typeof Te.constructor!="function"?"":Te.constructor.name?Te.constructor.name+" ":"",He=Bt+(dt||Dt?"["+$.call(S.call([],dt||[],Dt||[]),": ")+"] ":"");return ut.length===0?He+"{}":Oe?He+"{"+Be(ut,Oe)+"}":He+"{ "+$.call(ut,", ")+" }"}return String(Te)};function I(Me,Te,we){var Ue=(we.quoteStyle||Te)==="double"?'"':"'";return Ue+Me+Ue}function F(Me){return P.call(String(Me),/"/g,"&quot;")}function W(Me){return ee(Me)==="[object Array]"&&(!b||!(typeof Me=="object"&&b in Me))}function X(Me){return ee(Me)==="[object Date]"&&(!b||!(typeof Me=="object"&&b in Me))}function J(Me){return ee(Me)==="[object RegExp]"&&(!b||!(typeof Me=="object"&&b in Me))}function C(Me){return ee(Me)==="[object Error]"&&(!b||!(typeof Me=="object"&&b in Me))}function k(Me){return ee(Me)==="[object String]"&&(!b||!(typeof Me=="object"&&b in Me))}function Y(Me){return ee(Me)==="[object Number]"&&(!b||!(typeof Me=="object"&&b in Me))}function H(Me){return ee(Me)==="[object Boolean]"&&(!b||!(typeof Me=="object"&&b in Me))}function te(Me){if(M)return Me&&typeof Me=="object"&&Me instanceof Symbol;if(typeof Me=="symbol")return!0;if(!Me||typeof Me!="object"||!A)return!1;try{return A.call(Me),!0}catch(Te){}return!1}function le(Me){if(!Me||typeof Me!="object"||!z)return!1;try{return z.call(Me),!0}catch(Te){}return!1}var ne=Object.prototype.hasOwnProperty||function(Me){return Me in this};function ie(Me,Te){return ne.call(Me,Te)}function ee(Me){return o.call(Me)}function fe(Me){if(Me.name)return Me.name;var Te=y.call(g.call(Me),/^function\s*([\w$]+)/);return Te?Te[1]:null}function de(Me,Te){if(Me.indexOf)return Me.indexOf(Te);for(var we=0,Ue=Me.length;we<Ue;we++)if(Me[we]===Te)return we;return-1}function ue(Me){if(!x||!Me||typeof Me!="object")return!1;try{x.call(Me);try{h.call(Me)}catch(Te){return!0}return Me instanceof Map}catch(Te){}return!1}function Se(Me){if(!i||!Me||typeof Me!="object")return!1;try{i.call(Me,i);try{f.call(Me,f)}catch(Te){return!0}return Me instanceof WeakMap}catch(Te){}return!1}function ae(Me){if(!n||!Me||typeof Me!="object")return!1;try{return n.call(Me),!0}catch(Te){}return!1}function G(Me){if(!h||!Me||typeof Me!="object")return!1;try{h.call(Me);try{x.call(Me)}catch(Te){return!0}return Me instanceof Set}catch(Te){}return!1}function re(Me){if(!f||!Me||typeof Me!="object")return!1;try{f.call(Me,f);try{i.call(Me,i)}catch(Te){return!0}return Me instanceof WeakSet}catch(Te){}return!1}function oe(Me){return!Me||typeof Me!="object"?!1:typeof HTMLElement!="undefined"&&Me instanceof HTMLElement?!0:typeof Me.nodeName=="string"&&typeof Me.getAttribute=="function"}function ce(Me,Te){if(Me.length>Te.maxStringLength){var we=Me.length-Te.maxStringLength,Ue="... "+we+" more character"+(we>1?"s":"");return ce(D.call(Me,0,Te.maxStringLength),Te)+Ue}var je=P.call(P.call(Me,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,be);return I(je,"single",Te)}function be(Me){var Te=Me.charCodeAt(0),we={8:"b",9:"t",10:"n",12:"f",13:"r"}[Te];return we?"\\"+we:"\\x"+(Te<16?"0":"")+E.call(Te.toString(16))}function xe(Me){return"Object("+Me+")"}function ge(Me){return Me+" { ? }"}function he(Me,Te,we,Ue){var je=Ue?Be(we,Ue):$.call(we,", ");return Me+" ("+Te+") {"+je+"}"}function Pe(Me){for(var Te=0;Te<Me.length;Te++)if(de(Me[Te],`
`)>=0)return!1;return!0}function Ae(Me,Te){var we;if(Me.indent==="	")we="	";else if(typeof Me.indent=="number"&&Me.indent>0)we=$.call(Array(Me.indent+1)," ");else return null;return{base:we,prev:$.call(Array(Te+1),we)}}function Be(Me,Te){if(Me.length===0)return"";var we=`
`+Te.prev+Te.base;return we+$.call(Me,","+we)+`
`+Te.prev}function Le(Me,Te){var we=W(Me),Ue=[];if(we){Ue.length=Me.length;for(var je=0;je<Me.length;je++)Ue[je]=ie(Me,je)?Te(Me[je],Me):""}var De=typeof w=="function"?w(Me):[],ye;if(M){ye={};for(var _e=0;_e<De.length;_e++)ye["$"+De[_e]]=De[_e]}for(var q in Me)ie(Me,q)&&(we&&String(Number(q))===q&&q<Me.length||M&&ye["$"+q]instanceof Symbol||(T.call(/[^\w$]/,q)?Ue.push(Te(q,Me)+": "+Te(Me[q],Me)):Ue.push(q+": "+Te(Me[q],Me))));if(typeof w=="function")for(var pe=0;pe<De.length;pe++)R.call(Me,De[pe])&&Ue.push("["+Te(De[pe])+"]: "+Te(Me[De[pe]],Me));return Ue}},55168:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SizeSensorId=j.SensorTabIndex=j.SensorClassName=void 0;var e="size-sensor-id";j.SizeSensorId=e;var v="size-sensor-object";j.SensorClassName=v;var m="-1";j.SensorTabIndex=m},12177:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var e=function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,u=null;return function(){for(var p=this,d=arguments.length,h=new Array(d),t=0;t<d;t++)h[t]=arguments[t];clearTimeout(u),u=setTimeout(function(){m.apply(p,h)},x)}};j.default=e},15378:function(se,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var e=1,v=function(){return"".concat(e++)};j.default=v},18587:function(se,j,e){"use strict";var v;v={value:!0},v=v=j.ak=void 0;var m=e(12955),x=function(h,t){var c=(0,m.getSensor)(h);return c.bind(t),function(){c.unbind(t)}};j.ak=x;var u=function(h){var t=(0,m.getSensor)(h);(0,m.removeSensor)(t)};v=u;var p="1.0.2";v=p},12955:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.removeSensor=j.getSensor=j.Sensors=void 0;var v=u(e(15378)),m=e(82578),x=e(55168);function u(c){return c&&c.__esModule?c:{default:c}}var p={};j.Sensors=p;function d(c){c&&p[c]&&delete p[c]}var h=function(i){var a=i.getAttribute(x.SizeSensorId);if(a&&p[a])return p[a];var f=(0,v.default)();i.setAttribute(x.SizeSensorId,f);var l=(0,m.createSensor)(i,function(){return d(f)});return p[f]=l,l};j.getSensor=h;var t=function(i){var a=i.element.getAttribute(x.SizeSensorId);i.destroy(),d(a)};j.removeSensor=t},82578:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createSensor=void 0;var v=e(27643),m=e(31743),x=typeof ResizeObserver!="undefined"?m.createSensor:v.createSensor;j.createSensor=x},27643:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createSensor=void 0;var v=x(e(12177)),m=e(55168);function x(p){return p&&p.__esModule?p:{default:p}}var u=function(d,h){var t=void 0,c=[],i=function(){getComputedStyle(d).position==="static"&&(d.style.position="relative");var o=document.createElement("object");return o.onload=function(){o.contentDocument.defaultView.addEventListener("resize",a),a()},o.style.display="block",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height="100%",o.style.width="100%",o.style.overflow="hidden",o.style.pointerEvents="none",o.style.zIndex="-1",o.style.opacity="0",o.setAttribute("class",m.SensorClassName),o.setAttribute("tabindex",m.SensorTabIndex),o.type="text/html",d.appendChild(o),o.data="about:blank",o},a=(0,v.default)(function(){c.forEach(function(r){r(d)})}),f=function(o){t||(t=i()),c.indexOf(o)===-1&&c.push(o)},l=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",a),t.parentNode.removeChild(t),d.removeAttribute(m.SizeSensorId),t=void 0,c=[],h&&h())},n=function(o){var g=c.indexOf(o);g!==-1&&c.splice(g,1),c.length===0&&t&&l()};return{element:d,bind:f,destroy:l,unbind:n}};j.createSensor=u},31743:function(se,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createSensor=void 0;var v=e(55168),m=x(e(12177));function x(p){return p&&p.__esModule?p:{default:p}}var u=function(d,h){var t=void 0,c=[],i=(0,m.default)(function(){c.forEach(function(r){r(d)})}),a=function(){var o=new ResizeObserver(i);return o.observe(d),i(),o},f=function(o){t||(t=a()),c.indexOf(o)===-1&&c.push(o)},l=function(){t.disconnect(),c=[],t=void 0,d.removeAttribute(v.SizeSensorId),h&&h()},n=function(o){var g=c.indexOf(o);g!==-1&&c.splice(g,1),c.length===0&&t&&l()};return{element:d,bind:f,destroy:l,unbind:n}};j.createSensor=u},71169:function(se){var j=function(e){return e.replace(/[A-Z]/g,function(v){return"-"+v.toLowerCase()}).toLowerCase()};se.exports=j},6941:function(se,j,e){var v=e(48764).Buffer,m=v.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(t){if(t&&!m(t))throw new Error("Unknown encoding: "+t)}var u=j.s=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),x(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=d;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=p;return}this.charBuffer=new v(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var c="";this.charLength;){var i=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,i),this.charReceived+=i,this.charReceived<this.charLength)return"";t=t.slice(i,t.length),c=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var f=c.charCodeAt(c.length-1);if(f>=55296&&f<=56319){this.charLength+=this.surrogateSize,c="";continue}if(this.charReceived=this.charLength=0,t.length===0)return c;break}this.detectIncompleteChar(t);var a=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,a),a-=this.charReceived),c+=t.toString(this.encoding,0,a);var a=c.length-1,f=c.charCodeAt(a);if(f>=55296&&f<=56319){var l=this.surrogateSize;return this.charLength+=l,this.charReceived+=l,this.charBuffer.copy(this.charBuffer,l,0,l),t.copy(this.charBuffer,0,0,l),c.substring(0,a)}return c},u.prototype.detectIncompleteChar=function(t){for(var c=t.length>=3?3:t.length;c>0;c--){var i=t[t.length-c];if(c==1&&i>>5==6){this.charLength=2;break}if(c<=2&&i>>4==14){this.charLength=3;break}if(c<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=c},u.prototype.end=function(t){var c="";if(t&&t.length&&(c=this.write(t)),this.charReceived){var i=this.charReceived,a=this.charBuffer,f=this.encoding;c+=a.slice(0,i).toString(f)}return c};function p(t){return t.toString(this.encoding)}function d(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function h(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}},26547:function(se,j,e){var v=e(34155),m=e(91583);j=se.exports=x,x.through=x;function x(u,p,d){u=u||function(n){this.queue(n)},p=p||function(){this.queue(null)};var h=!1,t=!1,c=[],i=!1,a=new m;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(d&&d.autoDestroy===!1),a.write=function(n){return u.call(this,n),!a.paused};function f(){for(;c.length&&!a.paused;){var n=c.shift();if(n===null)return a.emit("end");a.emit("data",n)}}a.queue=a.push=function(n){return i||(n===null&&(i=!0),c.push(n),f()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&v.nextTick(function(){a.destroy()})});function l(){a.writable=!1,p.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(n){if(!h)return h=!0,arguments.length&&a.write(n),l(),a},a.destroy=function(){if(!t)return t=!0,h=!0,c.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),f(),a.paused||a.emit("drain"),a},a}},11742:function(se){se.exports=function(){var j=document.getSelection();if(!j.rangeCount)return function(){};for(var e=document.activeElement,v=[],m=0;m<j.rangeCount;m++)v.push(j.getRangeAt(m));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return j.removeAllRanges(),function(){j.type==="Caret"&&j.removeAllRanges(),j.rangeCount||v.forEach(function(x){j.addRange(x)}),e&&e.focus()}}},82287:function(se,j){"use strict";var e,v,m;(function(x,u){v=[],e=u,m=typeof e=="function"?e.apply(j,v):e,m!==void 0&&(se.exports=m)})(this,function(){function x(){return!0}function u(){return!1}function p(){}function d(){var h=[{name:"number",test:function(ae){return typeof ae=="number"}},{name:"string",test:function(ae){return typeof ae=="string"}},{name:"boolean",test:function(ae){return typeof ae=="boolean"}},{name:"Function",test:function(ae){return typeof ae=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ae){return ae instanceof Date}},{name:"RegExp",test:function(ae){return ae instanceof RegExp}},{name:"Object",test:function(ae){return typeof ae=="object"&&ae!==null&&ae.constructor===Object}},{name:"null",test:function(ae){return ae===null}},{name:"undefined",test:function(ae){return ae===void 0}}],t={name:"any",test:x},c=[],i=[],a={types:h,conversions:i,ignore:c};function f(ae){var G=ee(a.types,function(oe){return oe.name===ae});if(G)return G;if(ae==="any")return t;var re=ee(a.types,function(oe){return oe.name.toLowerCase()===ae.toLowerCase()});throw new TypeError('Unknown type "'+ae+'"'+(re?'. Did you mean "'+re.name+'"?':""))}function l(ae){return ae===t?999:a.types.indexOf(ae)}function n(ae){var G=ee(a.types,function(re){return re.test(ae)});if(G)return G.name;throw new TypeError("Value has unknown type. Value: "+ae)}function r(ae,G){if(!ae.signatures)throw new TypeError("Function is no typed-function");var re;if(typeof G=="string"){re=G.split(",");for(var oe=0;oe<re.length;oe++)re[oe]=re[oe].trim()}else if(Array.isArray(G))re=G;else throw new TypeError("String array or a comma separated string expected");var ce=re.join(","),be=ae.signatures[ce];if(be)return be;throw new TypeError("Signature not found (signature: "+(ae.name||"unnamed")+"("+re.join(", ")+"))")}function o(ae,G){var re=n(ae);if(G===re)return ae;for(var oe=0;oe<a.conversions.length;oe++){var ce=a.conversions[oe];if(ce.from===re&&ce.to===G)return ce.convert(ae)}throw new Error("Cannot convert from "+re+" to "+G)}function g(ae){return ae.map(function(G){var re=G.types.map(Z);return(G.restParam?"...":"")+re.join("|")}).join(",")}function y(ae,G){var re=ae.indexOf("...")===0,oe=re?ae.length>3?ae.slice(3):"any":ae,ce=oe.split("|").map(J).filter(C).filter(X),be=L(G,ce),xe=ce.map(function(he){var Pe=f(he);return{name:he,typeIndex:l(Pe),test:Pe.test,conversion:null,conversionIndex:-1}}),ge=be.map(function(he){var Pe=f(he.from);return{name:he.from,typeIndex:l(Pe),test:Pe.test,conversion:he,conversionIndex:G.indexOf(he)}});return{types:xe.concat(ge),restParam:re}}function D(ae,G,re){var oe=[];return ae.trim()!==""&&(oe=ae.split(",").map(J).map(function(ce,be,xe){var ge=y(ce,re);if(ge.restParam&&be!==xe.length-1)throw new SyntaxError('Unexpected rest parameter "'+ce+'": only allowed for the last parameter');return ge})),oe.some(Y)?null:{params:oe,fn:G}}function P(ae){var G=te(ae);return G?G.restParam:!1}function E(ae){return ae.types.some(function(G){return G.conversion!=null})}function O(ae){if(!ae||ae.types.length===0)return x;if(ae.types.length===1)return f(ae.types[0].name).test;if(ae.types.length===2){var G=f(ae.types[0].name).test,re=f(ae.types[1].name).test;return function(be){return G(be)||re(be)}}else{var oe=ae.types.map(function(ce){return f(ce.name).test});return function(be){for(var xe=0;xe<oe.length;xe++)if(oe[xe](be))return!0;return!1}}}function T(ae){var G,re,oe;if(P(ae)){G=H(ae).map(O);var ce=G.length,be=O(te(ae)),xe=function(ge){for(var he=ce;he<ge.length;he++)if(!be(ge[he]))return!1;return!0};return function(he){for(var Pe=0;Pe<G.length;Pe++)if(!G[Pe](he[Pe]))return!1;return xe(he)&&he.length>=ce+1}}else return ae.length===0?function(he){return he.length===0}:ae.length===1?(re=O(ae[0]),function(he){return re(he[0])&&he.length===1}):ae.length===2?(re=O(ae[0]),oe=O(ae[1]),function(he){return re(he[0])&&oe(he[1])&&he.length===2}):(G=ae.map(O),function(he){for(var Pe=0;Pe<G.length;Pe++)if(!G[Pe](he[Pe]))return!1;return he.length===G.length})}function S(ae,G){return G<ae.params.length?ae.params[G]:P(ae.params)?te(ae.params):null}function $(ae,G,re){var oe=S(ae,G),ce=oe?re?oe.types.filter(K):oe.types:[];return ce.map(Z)}function Z(ae){return ae.name}function K(ae){return ae.conversion===null||ae.conversion===void 0}function z(ae,G){var re=fe(de(ae,function(oe){return $(oe,G,!1)}));return re.indexOf("any")!==-1?["any"]:re}function w(ae,G,re){var oe,ce,be=ae||"unnamed",xe=re,ge;for(ge=0;ge<G.length;ge++){var he=xe.filter(function(Le){var Me=O(S(Le,ge));return(ge<Le.params.length||P(Le.params))&&Me(G[ge])});if(he.length===0){if(ce=z(xe,ge),ce.length>0){var Pe=n(G[ge]);return oe=new TypeError("Unexpected type of argument in function "+be+" (expected: "+ce.join(" or ")+", actual: "+Pe+", index: "+ge+")"),oe.data={category:"wrongType",fn:be,index:ge,actual:Pe,expected:ce},oe}}else xe=he}var Ae=xe.map(function(Le){return P(Le.params)?1/0:Le.params.length});if(G.length<Math.min.apply(null,Ae))return ce=z(xe,ge),oe=new TypeError("Too few arguments in function "+be+" (expected: "+ce.join(" or ")+", index: "+G.length+")"),oe.data={category:"tooFewArgs",fn:be,index:G.length,expected:ce},oe;var Be=Math.max.apply(null,Ae);return G.length>Be?(oe=new TypeError("Too many arguments in function "+be+" (expected: "+Be+", actual: "+G.length+")"),oe.data={category:"tooManyArgs",fn:be,index:G.length,expectedLength:Be},oe):(oe=new TypeError('Arguments of type "'+G.join(", ")+'" do not match any of the defined signatures of function '+be+"."),oe.data={category:"mismatch",actual:G.map(n)},oe)}function A(ae){for(var G=999,re=0;re<ae.types.length;re++)K(ae.types[re])&&(G=Math.min(G,ae.types[re].typeIndex));return G}function M(ae){for(var G=999,re=0;re<ae.types.length;re++)K(ae.types[re])||(G=Math.min(G,ae.types[re].conversionIndex));return G}function b(ae,G){var re;return re=ae.restParam-G.restParam,re!==0||(re=E(ae)-E(G),re!==0)||(re=A(ae)-A(G),re!==0)?re:M(ae)-M(G)}function R(ae,G){var re=Math.min(ae.params.length,G.params.length),oe,ce;if(ce=ae.params.some(E)-G.params.some(E),ce!==0)return ce;for(oe=0;oe<re;oe++)if(ce=E(ae.params[oe])-E(G.params[oe]),ce!==0)return ce;for(oe=0;oe<re;oe++)if(ce=b(ae.params[oe],G.params[oe]),ce!==0)return ce;return ae.params.length-G.params.length}function L(ae,G){var re={};return ae.forEach(function(oe){G.indexOf(oe.from)===-1&&G.indexOf(oe.to)!==-1&&!re[oe.from]&&(re[oe.from]=oe)}),Object.keys(re).map(function(oe){return re[oe]})}function N(ae,G){var re=G;if(ae.some(E)){var oe=P(ae),ce=ae.map(B);re=function(){for(var he=[],Pe=oe?arguments.length-1:arguments.length,Ae=0;Ae<Pe;Ae++)he[Ae]=ce[Ae](arguments[Ae]);return oe&&(he[Pe]=arguments[Pe].map(ce[Pe])),G.apply(this,he)}}var be=re;if(P(ae)){var xe=ae.length-1;be=function(){return re.apply(this,le(arguments,0,xe).concat([le(arguments,xe)]))}}return be}function B(ae){var G,re,oe,ce,be=[],xe=[];switch(ae.types.forEach(function(ge){ge.conversion&&(be.push(f(ge.conversion.from).test),xe.push(ge.conversion.convert))}),xe.length){case 0:return function(he){return he};case 1:return G=be[0],oe=xe[0],function(he){return G(he)?oe(he):he};case 2:return G=be[0],re=be[1],oe=xe[0],ce=xe[1],function(he){return G(he)?oe(he):re(he)?ce(he):he};default:return function(he){for(var Pe=0;Pe<xe.length;Pe++)if(be[Pe](he))return xe[Pe](he);return he}}}function V(ae){var G={};return ae.forEach(function(re){re.params.some(E)||U(re.params,!0).forEach(function(oe){G[g(oe)]=re.fn})}),G}function U(ae,G){function re(oe,ce,be){if(ce<oe.length){var xe=oe[ce],ge=G?xe.types.filter(K):xe.types,he;if(xe.restParam){var Pe=ge.filter(K);he=Pe.length<ge.length?[Pe,ge]:[ge]}else he=ge.map(function(Be){return[Be]});return de(he,function(Be){return re(oe,ce+1,be.concat([Be]))})}else{var Ae=be.map(function(Be,Le){return{types:Be,restParam:Le===oe.length-1&&P(oe)}});return[Ae]}}return re(ae,0,[])}function I(ae,G){for(var re=Math.max(ae.params.length,G.params.length),oe=0;oe<re;oe++){var ce=$(ae,oe,!0),be=$(G,oe,!0);if(!ie(ce,be))return!1}var xe=ae.params.length,ge=G.params.length,he=P(ae.params),Pe=P(G.params);return he?Pe?xe===ge:ge>=xe:Pe?xe>=ge:xe===ge}function F(ae,G){if(Object.keys(G).length===0)throw new SyntaxError("No signatures provided");var re=[];Object.keys(G).map(function(He){return D(He,G[He],a.conversions)}).filter(k).forEach(function(He){var ct=ee(re,function(St){return I(St,He)});if(ct)throw new TypeError('Conflicting signatures "'+g(ct.params)+'" and "'+g(He.params)+'".');re.push(He)});var oe=de(re,function(He){var ct=He?U(He.params,!1):[];return ct.map(function(St){return{params:St,fn:He.fn}})}).filter(k);oe.sort(R);var ce=oe[0]&&oe[0].params.length<=2&&!P(oe[0].params),be=oe[1]&&oe[1].params.length<=2&&!P(oe[1].params),xe=oe[2]&&oe[2].params.length<=2&&!P(oe[2].params),ge=oe[3]&&oe[3].params.length<=2&&!P(oe[3].params),he=oe[4]&&oe[4].params.length<=2&&!P(oe[4].params),Pe=oe[5]&&oe[5].params.length<=2&&!P(oe[5].params),Ae=ce&&be&&xe&&ge&&he&&Pe,Be=oe.map(function(He){return T(He.params)}),Le=ce?O(oe[0].params[0]):u,Me=be?O(oe[1].params[0]):u,Te=xe?O(oe[2].params[0]):u,we=ge?O(oe[3].params[0]):u,Ue=he?O(oe[4].params[0]):u,je=Pe?O(oe[5].params[0]):u,De=ce?O(oe[0].params[1]):u,ye=be?O(oe[1].params[1]):u,_e=xe?O(oe[2].params[1]):u,q=ge?O(oe[3].params[1]):u,pe=he?O(oe[4].params[1]):u,Re=Pe?O(oe[5].params[1]):u,Oe=oe.map(function(He){return N(He.params,He.fn)}),$e=ce?Oe[0]:p,Ve=be?Oe[1]:p,Ze=xe?Oe[2]:p,qe=ge?Oe[3]:p,Qe=he?Oe[4]:p,ke=Pe?Oe[5]:p,ft=ce?oe[0].params.length:-1,vt=be?oe[1].params.length:-1,_t=xe?oe[2].params.length:-1,Nt=ge?oe[3].params.length:-1,Kt=he?oe[4].params.length:-1,ut=Pe?oe[5].params.length:-1,Rt=Ae?6:0,Dt=oe.length,dt=function(){"use strict";for(var ct=Rt;ct<Dt;ct++)if(Be[ct](arguments))return Oe[ct].apply(this,arguments);return a.onMismatch(ae,arguments,oe)},Bt=function He(ct,St){"use strict";return arguments.length===ft&&Le(ct)&&De(St)?$e.apply(He,arguments):arguments.length===vt&&Me(ct)&&ye(St)?Ve.apply(He,arguments):arguments.length===_t&&Te(ct)&&_e(St)?Ze.apply(He,arguments):arguments.length===Nt&&we(ct)&&q(St)?qe.apply(He,arguments):arguments.length===Kt&&Ue(ct)&&pe(St)?Qe.apply(He,arguments):arguments.length===ut&&je(ct)&&Re(St)?ke.apply(He,arguments):dt.apply(He,arguments)};try{Object.defineProperty(Bt,"name",{value:ae})}catch(He){}return Bt.signatures=V(oe),Bt}function W(ae,G,re){throw w(ae,G,re)}function X(ae){return a.ignore.indexOf(ae)===-1}function J(ae){return ae.trim()}function C(ae){return!!ae}function k(ae){return ae!==null}function Y(ae){return ae.types.length===0}function H(ae){return ae.slice(0,ae.length-1)}function te(ae){return ae[ae.length-1]}function le(ae,G,re){return Array.prototype.slice.call(ae,G,re)}function ne(ae,G){return ae.indexOf(G)!==-1}function ie(ae,G){for(var re=0;re<ae.length;re++)if(ne(G,ae[re]))return!0;return!1}function ee(ae,G){for(var re=0;re<ae.length;re++)if(G(ae[re]))return ae[re]}function fe(ae){for(var G={},re=0;re<ae.length;re++)G[ae[re]]=!0;return Object.keys(G)}function de(ae,G){return Array.prototype.concat.apply([],ae.map(G))}function ue(ae){for(var G="",re=0;re<ae.length;re++){var oe=ae[re];if((typeof oe.signatures=="object"||typeof oe.signature=="string")&&oe.name!==""){if(G==="")G=oe.name;else if(G!==oe.name){var ce=new Error("Function names do not match (expected: "+G+", actual: "+oe.name+")");throw ce.data={actual:oe.name,expected:G},ce}}}return G}function Se(ae){var G,re={};function oe(ge,he){if(re.hasOwnProperty(ge)&&he!==re[ge])throw G=new Error('Signature "'+ge+'" is defined twice'),G.data={signature:ge},G}for(var ce=0;ce<ae.length;ce++){var be=ae[ce];if(typeof be.signatures=="object")for(var xe in be.signatures)be.signatures.hasOwnProperty(xe)&&(oe(xe,be.signatures[xe]),re[xe]=be.signatures[xe]);else if(typeof be.signature=="string")oe(be.signature,be),re[be.signature]=be;else throw G=new TypeError("Function is no typed-function (index: "+ce+")"),G.data={index:ce},G}return re}return a=F("typed",{"string, Object":F,Object:function(ae){var G=[];for(var re in ae)ae.hasOwnProperty(re)&&G.push(ae[re]);var oe=ue(G);return F(oe,ae)},"...Function":function(ae){return F(ue(ae),Se(ae))},"string, ...Function":function(ae,G){return F(ae,Se(G))}}),a.create=d,a.types=h,a.conversions=i,a.ignore=c,a.onMismatch=W,a.throwMismatchError=W,a.createError=w,a.convert=o,a.find=r,a.addType=function(ae,G){if(!ae||typeof ae.name!="string"||typeof ae.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(G!==!1){for(var re=0;re<a.types.length;re++)if(a.types[re].name==="Object"){a.types.splice(re,0,ae);return}}a.types.push(ae)},a.addConversion=function(ae){if(!ae||typeof ae.from!="string"||typeof ae.to!="string"||typeof ae.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");a.conversions.push(ae)},a}return d()})},8890:function(se,j,e){"use strict";e.d(j,{L:function(){return x}});var v={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{i\u0307:"I",j\u0307:"J",\u012F\u0307:"\u012E",i\u0307\u0300:"\xCC",i\u0307\u0301:"\xCD",i\u0307\u0303:"\u0128"}}};function m(u,p){var d=v[p.toLowerCase()];return x(d?u.replace(d.regexp,function(h){return d.map[h]}):u)}function x(u){return u.toUpperCase()}},76010:function(se,j,e){"use strict";var v=e(67294);function m(c,i){var a=c==null?null:typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(a!=null){var f,l,n,r,o=[],g=!0,y=!1;try{if(n=(a=a.call(c)).next,i===0){if(Object(a)!==a)return;g=!1}else for(;!(g=(f=n.call(a)).done)&&(o.push(f.value),o.length!==i);g=!0);}catch(D){y=!0,l=D}finally{try{if(!g&&a.return!=null&&(r=a.return(),Object(r)!==r))return}finally{if(y)throw l}}return o}}function x(c,i){return u(c)||m(c,i)||p(c,i)||h()}function u(c){if(Array.isArray(c))return c}function p(c,i){if(c){if(typeof c=="string")return d(c,i);var a=Object.prototype.toString.call(c).slice(8,-1);if(a==="Object"&&c.constructor&&(a=c.constructor.name),a==="Map"||a==="Set")return Array.from(c);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(c,i)}}function d(c,i){(i==null||i>c.length)&&(i=c.length);for(var a=0,f=new Array(i);a<i;a++)f[a]=c[a];return f}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(c,i){var a=i||{},f=a.defaultValue,l=a.value,n=a.onChange,r=a.postState,o=v.useState(function(){return l!==void 0?l:f!==void 0?typeof f=="function"?f():f:typeof c=="function"?c():c}),g=x(o,2),y=g[0],D=g[1],P=l!==void 0?l:y;r&&(P=r(P));function E(O){D(O),P!==O&&n&&n(O,P)}return[P,E]}j.Z=t},53250:function(se,j,e){"use strict";var v=e(67294);function m(f,l){return f===l&&(f!==0||1/f===1/l)||f!==f&&l!==l}var x=typeof Object.is=="function"?Object.is:m,u=v.useState,p=v.useEffect,d=v.useLayoutEffect,h=v.useDebugValue;function t(f,l){var n=l(),r=u({inst:{value:n,getSnapshot:l}}),o=r[0].inst,g=r[1];return d(function(){o.value=n,o.getSnapshot=l,c(o)&&g({inst:o})},[f,n,l]),p(function(){return c(o)&&g({inst:o}),f(function(){c(o)&&g({inst:o})})},[f]),h(n),n}function c(f){var l=f.getSnapshot;f=f.value;try{var n=l();return!x(f,n)}catch(r){return!0}}function i(f,l){return l()}var a=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?i:t;j.useSyncExternalStore=v.useSyncExternalStore!==void 0?v.useSyncExternalStore:a},61688:function(se,j,e){"use strict";se.exports=e(53250)},94927:function(se,j,e){se.exports=v;function v(x,u){if(m("noDeprecation"))return x;var p=!1;function d(){if(!p){if(m("throwDeprecation"))throw new Error(u);m("traceDeprecation")?console.trace(u):console.warn(u),p=!0}return x.apply(this,arguments)}return d}function m(x){try{if(!e.g.localStorage)return!1}catch(p){return!1}var u=e.g.localStorage[x];return u==null?!1:String(u).toLowerCase()==="true"}},91496:function(se){typeof Object.create=="function"?se.exports=function(e,v){e.super_=v,e.prototype=Object.create(v.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:se.exports=function(e,v){e.super_=v;var m=function(){};m.prototype=v.prototype,e.prototype=new m,e.prototype.constructor=e}},20384:function(se){se.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},89539:function(se,j,e){var v=e(34155),m=Object.getOwnPropertyDescriptors||function(I){for(var F=Object.keys(I),W={},X=0;X<F.length;X++)W[F[X]]=Object.getOwnPropertyDescriptor(I,F[X]);return W},x=/%[sdj%]/g;j.format=function(U){if(!E(U)){for(var I=[],F=0;F<arguments.length;F++)I.push(d(arguments[F]));return I.join(" ")}for(var F=1,W=arguments,X=W.length,J=String(U).replace(x,function(k){if(k==="%%")return"%";if(F>=X)return k;switch(k){case"%s":return String(W[F++]);case"%d":return Number(W[F++]);case"%j":try{return JSON.stringify(W[F++])}catch(Y){return"[Circular]"}default:return k}}),C=W[F];F<X;C=W[++F])y(C)||!$(C)?J+=" "+C:J+=" "+d(C);return J},j.deprecate=function(U,I){if(typeof v!="undefined"&&v.noDeprecation===!0)return U;if(typeof v=="undefined")return function(){return j.deprecate(U,I).apply(this,arguments)};var F=!1;function W(){if(!F){if(v.throwDeprecation)throw new Error(I);v.traceDeprecation?console.trace(I):console.error(I),F=!0}return U.apply(this,arguments)}return W};var u={},p;j.debuglog=function(U){if(T(p)&&(p={NODE_ENV:"production",PUBLIC_PATH:"https://cdn.jsdelivr.net/gh/Cyhai18/cdn_test@main/dist/client/"}.NODE_DEBUG||""),U=U.toUpperCase(),!u[U])if(new RegExp("\\b"+U+"\\b","i").test(p)){var I=v.pid;u[U]=function(){var F=j.format.apply(j,arguments);console.error("%s %d: %s",U,I,F)}}else u[U]=function(){};return u[U]};function d(U,I){var F={seen:[],stylize:t};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),g(I)?F.showHidden=I:I&&j._extend(F,I),T(F.showHidden)&&(F.showHidden=!1),T(F.depth)&&(F.depth=2),T(F.colors)&&(F.colors=!1),T(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=h),i(F,U,F.depth)}j.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(U,I){var F=d.styles[I];return F?"\x1B["+d.colors[F][0]+"m"+U+"\x1B["+d.colors[F][1]+"m":U}function t(U,I){return U}function c(U){var I={};return U.forEach(function(F,W){I[F]=!0}),I}function i(U,I,F){if(U.customInspect&&I&&z(I.inspect)&&I.inspect!==j.inspect&&!(I.constructor&&I.constructor.prototype===I)){var W=I.inspect(F,U);return E(W)||(W=i(U,W,F)),W}var X=a(U,I);if(X)return X;var J=Object.keys(I),C=c(J);if(U.showHidden&&(J=Object.getOwnPropertyNames(I)),K(I)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return f(I);if(J.length===0){if(z(I)){var k=I.name?": "+I.name:"";return U.stylize("[Function"+k+"]","special")}if(S(I))return U.stylize(RegExp.prototype.toString.call(I),"regexp");if(Z(I))return U.stylize(Date.prototype.toString.call(I),"date");if(K(I))return f(I)}var Y="",H=!1,te=["{","}"];if(o(I)&&(H=!0,te=["[","]"]),z(I)){var le=I.name?": "+I.name:"";Y=" [Function"+le+"]"}if(S(I)&&(Y=" "+RegExp.prototype.toString.call(I)),Z(I)&&(Y=" "+Date.prototype.toUTCString.call(I)),K(I)&&(Y=" "+f(I)),J.length===0&&(!H||I.length==0))return te[0]+Y+te[1];if(F<0)return S(I)?U.stylize(RegExp.prototype.toString.call(I),"regexp"):U.stylize("[Object]","special");U.seen.push(I);var ne;return H?ne=l(U,I,F,C,J):ne=J.map(function(ie){return n(U,I,F,C,ie,H)}),U.seen.pop(),r(ne,Y,te)}function a(U,I){if(T(I))return U.stylize("undefined","undefined");if(E(I)){var F="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(F,"string")}if(P(I))return U.stylize(""+I,"number");if(g(I))return U.stylize(""+I,"boolean");if(y(I))return U.stylize("null","null")}function f(U){return"["+Error.prototype.toString.call(U)+"]"}function l(U,I,F,W,X){for(var J=[],C=0,k=I.length;C<k;++C)L(I,String(C))?J.push(n(U,I,F,W,String(C),!0)):J.push("");return X.forEach(function(Y){Y.match(/^\d+$/)||J.push(n(U,I,F,W,Y,!0))}),J}function n(U,I,F,W,X,J){var C,k,Y;if(Y=Object.getOwnPropertyDescriptor(I,X)||{value:I[X]},Y.get?Y.set?k=U.stylize("[Getter/Setter]","special"):k=U.stylize("[Getter]","special"):Y.set&&(k=U.stylize("[Setter]","special")),L(W,X)||(C="["+X+"]"),k||(U.seen.indexOf(Y.value)<0?(y(F)?k=i(U,Y.value,null):k=i(U,Y.value,F-1),k.indexOf(`
`)>-1&&(J?k=k.split(`
`).map(function(H){return"  "+H}).join(`
`).substr(2):k=`
`+k.split(`
`).map(function(H){return"   "+H}).join(`
`))):k=U.stylize("[Circular]","special")),T(C)){if(J&&X.match(/^\d+$/))return k;C=JSON.stringify(""+X),C.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(C=C.substr(1,C.length-2),C=U.stylize(C,"name")):(C=C.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),C=U.stylize(C,"string"))}return C+": "+k}function r(U,I,F){var W=0,X=U.reduce(function(J,C){return W++,C.indexOf(`
`)>=0&&W++,J+C.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?F[0]+(I===""?"":I+`
 `)+" "+U.join(`,
  `)+" "+F[1]:F[0]+I+" "+U.join(", ")+" "+F[1]}function o(U){return Array.isArray(U)}j.isArray=o;function g(U){return typeof U=="boolean"}j.isBoolean=g;function y(U){return U===null}j.isNull=y;function D(U){return U==null}j.isNullOrUndefined=D;function P(U){return typeof U=="number"}j.isNumber=P;function E(U){return typeof U=="string"}j.isString=E;function O(U){return typeof U=="symbol"}j.isSymbol=O;function T(U){return U===void 0}j.isUndefined=T;function S(U){return $(U)&&A(U)==="[object RegExp]"}j.isRegExp=S;function $(U){return typeof U=="object"&&U!==null}j.isObject=$;function Z(U){return $(U)&&A(U)==="[object Date]"}j.isDate=Z;function K(U){return $(U)&&(A(U)==="[object Error]"||U instanceof Error)}j.isError=K;function z(U){return typeof U=="function"}j.isFunction=z;function w(U){return U===null||typeof U=="boolean"||typeof U=="number"||typeof U=="string"||typeof U=="symbol"||typeof U=="undefined"}j.isPrimitive=w,j.isBuffer=e(20384);function A(U){return Object.prototype.toString.call(U)}function M(U){return U<10?"0"+U.toString(10):U.toString(10)}var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var U=new Date,I=[M(U.getHours()),M(U.getMinutes()),M(U.getSeconds())].join(":");return[U.getDate(),b[U.getMonth()],I].join(" ")}j.log=function(){console.log("%s - %s",R(),j.format.apply(j,arguments))},j.inherits=e(91496),j._extend=function(U,I){if(!I||!$(I))return U;for(var F=Object.keys(I),W=F.length;W--;)U[F[W]]=I[F[W]];return U};function L(U,I){return Object.prototype.hasOwnProperty.call(U,I)}var N=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;j.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(N&&I[N]){var F=I[N];if(typeof F!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(F,N,{value:F,enumerable:!1,writable:!1,configurable:!0}),F}function F(){for(var W,X,J=new Promise(function(Y,H){W=Y,X=H}),C=[],k=0;k<arguments.length;k++)C.push(arguments[k]);C.push(function(Y,H){Y?X(Y):W(H)});try{I.apply(this,C)}catch(Y){X(Y)}return J}return Object.setPrototypeOf(F,Object.getPrototypeOf(I)),N&&Object.defineProperty(F,N,{value:F,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(F,m(I))},j.promisify.custom=N;function B(U,I){if(!U){var F=new Error("Promise was rejected with a falsy value");F.reason=U,U=F}return I(U)}function V(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');function I(){for(var F=[],W=0;W<arguments.length;W++)F.push(arguments[W]);var X=F.pop();if(typeof X!="function")throw new TypeError("The last argument must be of type Function");var J=this,C=function(){return X.apply(J,arguments)};U.apply(this,F).then(function(k){v.nextTick(C,null,k)},function(k){v.nextTick(B,k,C)})}return Object.setPrototypeOf(I,Object.getPrototypeOf(U)),Object.defineProperties(I,m(U)),I}j.callbackify=V},71739:function(se){se.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},42473:function(se){"use strict";var j=!1,e=function(){};if(j){var v=function(x,u){var p=arguments.length;u=new Array(p>1?p-1:0);for(var d=1;d<p;d++)u[d-1]=arguments[d];var h=0,t="Warning: "+x.replace(/%s/g,function(){return u[h++]});typeof console!="undefined"&&console.error(t);try{throw new Error(t)}catch(c){}};e=function(m,x,u){var p=arguments.length;u=new Array(p>2?p-2:0);for(var d=2;d<p;d++)u[d-2]=arguments[d];if(x===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");m||v.apply(null,[x].concat(u))}}se.exports=e},26214:function(se){"use strict";function j(e,v){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=v,this.parts=e.split(v)}j.prototype.match=function(e){var v=!0,m=this.parts,x,u=m.length,p;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)v=!1;else{for(p=(e||"").split(this.separator),x=0;v&&x<u;x++)m[x]!=="*"&&(x<p.length?v=m[x]===p[x]:v=!1);v=v&&p}else if(typeof e.splice=="function")for(v=[],x=e.length;x--;)this.match(e[x])&&(v[v.length]=e[x]);else if(typeof e=="object"){v={};for(var d in e)this.match(d)&&(v[d]=e[d])}return v},se.exports=function(e,v,m){var x=new j(e,m||/[\/\.]/);return typeof v!="undefined"?x.match(v):x}},49602:function(se){"use strict";se.exports=function(j){j.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:function(se,j,e){"use strict";se.exports=v,v.Node=p,v.create=v;function v(d){var h=this;if(h instanceof v||(h=new v),h.tail=null,h.head=null,h.length=0,d&&typeof d.forEach=="function")d.forEach(function(i){h.push(i)});else if(arguments.length>0)for(var t=0,c=arguments.length;t<c;t++)h.push(arguments[t]);return h}v.prototype.removeNode=function(d){if(d.list!==this)throw new Error("removing node which does not belong to this list");var h=d.next,t=d.prev;return h&&(h.prev=t),t&&(t.next=h),d===this.head&&(this.head=h),d===this.tail&&(this.tail=t),d.list.length--,d.next=null,d.prev=null,d.list=null,h},v.prototype.unshiftNode=function(d){if(d!==this.head){d.list&&d.list.removeNode(d);var h=this.head;d.list=this,d.next=h,h&&(h.prev=d),this.head=d,this.tail||(this.tail=d),this.length++}},v.prototype.pushNode=function(d){if(d!==this.tail){d.list&&d.list.removeNode(d);var h=this.tail;d.list=this,d.prev=h,h&&(h.next=d),this.tail=d,this.head||(this.head=d),this.length++}},v.prototype.push=function(){for(var d=0,h=arguments.length;d<h;d++)x(this,arguments[d]);return this.length},v.prototype.unshift=function(){for(var d=0,h=arguments.length;d<h;d++)u(this,arguments[d]);return this.length},v.prototype.pop=function(){if(this.tail){var d=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,d}},v.prototype.shift=function(){if(this.head){var d=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,d}},v.prototype.forEach=function(d,h){h=h||this;for(var t=this.head,c=0;t!==null;c++)d.call(h,t.value,c,this),t=t.next},v.prototype.forEachReverse=function(d,h){h=h||this;for(var t=this.tail,c=this.length-1;t!==null;c--)d.call(h,t.value,c,this),t=t.prev},v.prototype.get=function(d){for(var h=0,t=this.head;t!==null&&h<d;h++)t=t.next;if(h===d&&t!==null)return t.value},v.prototype.getReverse=function(d){for(var h=0,t=this.tail;t!==null&&h<d;h++)t=t.prev;if(h===d&&t!==null)return t.value},v.prototype.map=function(d,h){h=h||this;for(var t=new v,c=this.head;c!==null;)t.push(d.call(h,c.value,this)),c=c.next;return t},v.prototype.mapReverse=function(d,h){h=h||this;for(var t=new v,c=this.tail;c!==null;)t.push(d.call(h,c.value,this)),c=c.prev;return t},v.prototype.reduce=function(d,h){var t,c=this.head;if(arguments.length>1)t=h;else if(this.head)c=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;c!==null;i++)t=d(t,c.value,i),c=c.next;return t},v.prototype.reduceReverse=function(d,h){var t,c=this.tail;if(arguments.length>1)t=h;else if(this.tail)c=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;c!==null;i--)t=d(t,c.value,i),c=c.prev;return t},v.prototype.toArray=function(){for(var d=new Array(this.length),h=0,t=this.head;t!==null;h++)d[h]=t.value,t=t.next;return d},v.prototype.toArrayReverse=function(){for(var d=new Array(this.length),h=0,t=this.tail;t!==null;h++)d[h]=t.value,t=t.prev;return d},v.prototype.slice=function(d,h){h=h||this.length,h<0&&(h+=this.length),d=d||0,d<0&&(d+=this.length);var t=new v;if(h<d||h<0)return t;d<0&&(d=0),h>this.length&&(h=this.length);for(var c=0,i=this.head;i!==null&&c<d;c++)i=i.next;for(;i!==null&&c<h;c++,i=i.next)t.push(i.value);return t},v.prototype.sliceReverse=function(d,h){h=h||this.length,h<0&&(h+=this.length),d=d||0,d<0&&(d+=this.length);var t=new v;if(h<d||h<0)return t;d<0&&(d=0),h>this.length&&(h=this.length);for(var c=this.length,i=this.tail;i!==null&&c>h;c--)i=i.prev;for(;i!==null&&c>d;c--,i=i.prev)t.push(i.value);return t},v.prototype.splice=function(d,h,...t){d>this.length&&(d=this.length-1),d<0&&(d=this.length+d);for(var c=0,i=this.head;i!==null&&c<d;c++)i=i.next;for(var a=[],c=0;i&&c<h;c++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var c=0;c<t.length;c++)i=m(this,i,t[c]);return a},v.prototype.reverse=function(){for(var d=this.head,h=this.tail,t=d;t!==null;t=t.prev){var c=t.prev;t.prev=t.next,t.next=c}return this.head=h,this.tail=d,this};function m(d,h,t){var c=h===d.head?new p(t,null,h,d):new p(t,h,h.next,d);return c.next===null&&(d.tail=c),c.prev===null&&(d.head=c),d.length++,c}function x(d,h){d.tail=new p(h,d.tail,null,d),d.head||(d.head=d.tail),d.length++}function u(d,h){d.head=new p(h,null,d.head,d),d.tail||(d.tail=d.head),d.length++}function p(d,h,t,c){if(!(this instanceof p))return new p(d,h,t,c);this.list=c,this.value=d,h?(h.next=this,this.prev=h):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{e(49602)(v)}catch(d){}},46601:function(){},89214:function(){},71922:function(){},2363:function(){},96419:function(){},56353:function(){},69386:function(){},31616:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){},87414:function(){},52361:function(){},94616:function(){},75042:function(){},47165:function(){},37923:function(se){function j(e,v){(v==null||v>e.length)&&(v=e.length);for(var m=0,x=new Array(v);m<v;m++)x[m]=e[m];return x}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},82187:function(se){function j(e){if(Array.isArray(e))return e}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},96446:function(se,j,e){var v=e(37923);function m(x){if(Array.isArray(x))return v(x)}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},25098:function(se){function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},44987:function(se){function j(v){var m,x,u,p=2;for(typeof Symbol!="undefined"&&(x=Symbol.asyncIterator,u=Symbol.iterator);p--;){if(x&&(m=v[x])!=null)return m.call(v);if(u&&(m=v[u])!=null)return new e(m.call(v));x="@@asyncIterator",u="@@iterator"}throw new TypeError("Object is not async iterable")}function e(v){function m(x){if(Object(x)!==x)return Promise.reject(new TypeError(x+" is not an object."));var u=x.done;return Promise.resolve(x.value).then(function(p){return{value:p,done:u}})}return e=function(u){this.s=u,this.n=u.next},e.prototype={s:null,n:null,next:function(){return m(this.n.apply(this.s,arguments))},return:function(u){var p=this.s.return;return p===void 0?Promise.resolve({value:u,done:!0}):m(p.apply(this.s,arguments))},throw:function(u){var p=this.s.return;return p===void 0?Promise.reject(u):m(p.apply(this.s,arguments))}},new e(v)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},42672:function(se,j,e){var v=e(21314),m=e(21771);function x(u,p,d){return m()?(se.exports=x=Reflect.construct.bind(),se.exports.__esModule=!0,se.exports.default=se.exports):(se.exports=x=function(t,c,i){var a=[null];a.push.apply(a,c);var f=Function.bind.apply(t,a),l=new f;return i&&v(l,i.prototype),l},se.exports.__esModule=!0,se.exports.default=se.exports),x.apply(null,arguments)}se.exports=x,se.exports.__esModule=!0,se.exports.default=se.exports},96695:function(se,j,e){var v=e(96263);function m(x,u){var p=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!p){if(Array.isArray(x)||(p=v(x))||u&&x&&typeof x.length=="number"){p&&(x=p);var d=0,h=function(){};return{s:h,n:function(){return d>=x.length?{done:!0}:{done:!1,value:x[d++]}},e:function(f){throw f},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t=!0,c=!1,i;return{s:function(){p=p.call(x)},n:function(){var f=p.next();return t=f.done,f},e:function(f){c=!0,i=f},f:function(){try{!t&&p.return!=null&&p.return()}finally{if(c)throw i}}}}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},26037:function(se,j,e){var v=e(48374),m=e(21771),x=e(73408);function u(p){var d=m();return function(){var t=v(p),c;if(d){var i=v(this).constructor;c=Reflect.construct(t,arguments,i)}else c=t.apply(this,arguments);return x(this,c)}}se.exports=u,se.exports.__esModule=!0,se.exports.default=se.exports},28785:function(se,j,e){var v=e(70426);function m(){return typeof Reflect!="undefined"&&Reflect.get?(se.exports=m=Reflect.get.bind(),se.exports.__esModule=!0,se.exports.default=se.exports):(se.exports=m=function(u,p,d){var h=v(u,p);if(h){var t=Object.getOwnPropertyDescriptor(h,p);return t.get?t.get.call(arguments.length<3?u:d):t.value}},se.exports.__esModule=!0,se.exports.default=se.exports),m.apply(this,arguments)}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},48374:function(se){function j(e){return se.exports=j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},se.exports.__esModule=!0,se.exports.default=se.exports,j(e)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},31996:function(se,j,e){var v=e(21314);function m(x,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(u&&u.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),u&&v(x,u)}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},15143:function(se){function j(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(v){return typeof e=="function"}}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},21771:function(se){function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},96936:function(se){function j(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},73964:function(se){function j(e,v){var m=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(m!=null){var x,u,p,d,h=[],t=!0,c=!1;try{if(p=(m=m.call(e)).next,v===0){if(Object(m)!==m)return;t=!1}else for(;!(t=(x=p.call(m)).done)&&(h.push(x.value),h.length!==v);t=!0);}catch(i){c=!0,u=i}finally{try{if(!t&&m.return!=null&&(d=m.return(),Object(d)!==d))return}finally{if(c)throw u}}return h}}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},69094:function(se){function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},88619:function(se){function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},49677:function(se){function j(e){if(e==null)throw new TypeError("Cannot destructure "+e)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},13769:function(se,j,e){var v=e(48541);function m(x,u){if(x==null)return{};var p=v(x,u),d,h;if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(x);for(h=0;h<t.length;h++)d=t[h],!(u.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(x,d)&&(p[d]=x[d])}return p}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},48541:function(se){function j(e,v){if(e==null)return{};var m={},x=Object.keys(e),u,p;for(p=0;p<x.length;p++)u=x[p],!(v.indexOf(u)>=0)&&(m[u]=e[u]);return m}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},73408:function(se,j,e){var v=e(52677).default,m=e(25098);function x(u,p){if(p&&(v(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(u)}se.exports=x,se.exports.__esModule=!0,se.exports.default=se.exports},21314:function(se){function j(e,v){return se.exports=j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,u){return x.__proto__=u,x},se.exports.__esModule=!0,se.exports.default=se.exports,j(e,v)}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},5574:function(se,j,e){var v=e(82187),m=e(73964),x=e(96263),u=e(69094);function p(d,h){return v(d)||m(d,h)||x(d,h)||u()}se.exports=p,se.exports.__esModule=!0,se.exports.default=se.exports},70426:function(se,j,e){var v=e(48374);function m(x,u){for(;!Object.prototype.hasOwnProperty.call(x,u)&&(x=v(x),x!==null););return x}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},68400:function(se){function j(e,v){return v||(v=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(v)}}))}se.exports=j,se.exports.__esModule=!0,se.exports.default=se.exports},61227:function(se,j,e){var v=e(82187),m=e(96936),x=e(96263),u=e(69094);function p(d){return v(d)||m(d)||x(d)||u()}se.exports=p,se.exports.__esModule=!0,se.exports.default=se.exports},19632:function(se,j,e){var v=e(96446),m=e(96936),x=e(96263),u=e(88619);function p(d){return v(d)||m(d)||x(d)||u()}se.exports=p,se.exports.__esModule=!0,se.exports.default=se.exports},96263:function(se,j,e){var v=e(37923);function m(x,u){if(x){if(typeof x=="string")return v(x,u);var p=Object.prototype.toString.call(x).slice(8,-1);if(p==="Object"&&x.constructor&&(p=x.constructor.name),p==="Map"||p==="Set")return Array.from(x);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return v(x,u)}}se.exports=m,se.exports.__esModule=!0,se.exports.default=se.exports},12665:function(se,j,e){var v=e(48374),m=e(21314),x=e(15143),u=e(42672);function p(d){var h=typeof Map=="function"?new Map:void 0;return se.exports=p=function(c){if(c===null||!x(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(typeof h!="undefined"){if(h.has(c))return h.get(c);h.set(c,i)}function i(){return u(c,arguments,v(this).constructor)}return i.prototype=Object.create(c.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m(i,c)},se.exports.__esModule=!0,se.exports.default=se.exports,p(d)}se.exports=p,se.exports.__esModule=!0,se.exports.default=se.exports},96683:function(se,j,e){"use strict";e.d(j,{B8:function(){return S},Il:function(){return m},SU:function(){return T},Ss:function(){return $},ZP:function(){return P}});var v=e(9546);function m(){}var x=.7,u=1/x,p="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\(".concat(p,",").concat(p,",").concat(p,"\\)$")),i=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),a=new RegExp("^rgba\\(".concat(p,",").concat(p,",").concat(p,",").concat(d,"\\)$")),f=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(d,"\\)$")),l=new RegExp("^hsl\\(".concat(d,",").concat(h,",").concat(h,"\\)$")),n=new RegExp("^hsla\\(".concat(d,",").concat(h,",").concat(h,",").concat(d,"\\)$")),r={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(0,v.Z)(m,P,{copy:function(F){return Object.assign(new this.constructor,this,F)},displayable:function(){return this.rgb().displayable()},hex:o,formatHex:o,formatHex8:g,formatHsl:y,formatRgb:D,toString:D});function o(){return this.rgb().formatHex()}function g(){return this.rgb().formatHex8()}function y(){return R(this).formatHsl()}function D(){return this.rgb().formatRgb()}function P(I){var F,W;return I=(I+"").trim().toLowerCase(),(F=t.exec(I))?(W=F[1].length,F=parseInt(F[1],16),W===6?E(F):W===3?new $(F>>8&15|F>>4&240,F>>4&15|F&240,(F&15)<<4|F&15,1):W===8?O(F>>24&255,F>>16&255,F>>8&255,(F&255)/255):W===4?O(F>>12&15|F>>8&240,F>>8&15|F>>4&240,F>>4&15|F&240,((F&15)<<4|F&15)/255):null):(F=c.exec(I))?new $(F[1],F[2],F[3],1):(F=i.exec(I))?new $(F[1]*255/100,F[2]*255/100,F[3]*255/100,1):(F=a.exec(I))?O(F[1],F[2],F[3],F[4]):(F=f.exec(I))?O(F[1]*255/100,F[2]*255/100,F[3]*255/100,F[4]):(F=l.exec(I))?b(F[1],F[2]/100,F[3]/100,1):(F=n.exec(I))?b(F[1],F[2]/100,F[3]/100,F[4]):r.hasOwnProperty(I)?E(r[I]):I==="transparent"?new $(NaN,NaN,NaN,0):null}function E(I){return new $(I>>16&255,I>>8&255,I&255,1)}function O(I,F,W,X){return X<=0&&(I=F=W=NaN),new $(I,F,W,X)}function T(I){return I instanceof m||(I=P(I)),I?(I=I.rgb(),new $(I.r,I.g,I.b,I.opacity)):new $}function S(I,F,W,X){return arguments.length===1?T(I):new $(I,F,W,X==null?1:X)}function $(I,F,W,X){this.r=+I,this.g=+F,this.b=+W,this.opacity=+X}(0,v.Z)($,S,(0,v.l)(m,{brighter:function(F){return F=F==null?u:Math.pow(u,F),new $(this.r*F,this.g*F,this.b*F,this.opacity)},darker:function(F){return F=F==null?x:Math.pow(x,F),new $(this.r*F,this.g*F,this.b*F,this.opacity)},rgb:function(){return this},clamp:function(){return new $(A(this.r),A(this.g),A(this.b),w(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z,formatHex:Z,formatHex8:K,formatRgb:z,toString:z}));function Z(){return"#".concat(M(this.r)).concat(M(this.g)).concat(M(this.b))}function K(){return"#".concat(M(this.r)).concat(M(this.g)).concat(M(this.b)).concat(M((isNaN(this.opacity)?1:this.opacity)*255))}function z(){var I=w(this.opacity);return"".concat(I===1?"rgb(":"rgba(").concat(A(this.r),", ").concat(A(this.g),", ").concat(A(this.b)).concat(I===1?")":", ".concat(I,")"))}function w(I){return isNaN(I)?1:Math.max(0,Math.min(1,I))}function A(I){return Math.max(0,Math.min(255,Math.round(I)||0))}function M(I){return I=A(I),(I<16?"0":"")+I.toString(16)}function b(I,F,W,X){return X<=0?I=F=W=NaN:W<=0||W>=1?I=F=NaN:F<=0&&(I=NaN),new N(I,F,W,X)}function R(I){if(I instanceof N)return new N(I.h,I.s,I.l,I.opacity);if(I instanceof m||(I=P(I)),!I)return new N;if(I instanceof N)return I;I=I.rgb();var F=I.r/255,W=I.g/255,X=I.b/255,J=Math.min(F,W,X),C=Math.max(F,W,X),k=NaN,Y=C-J,H=(C+J)/2;return Y?(F===C?k=(W-X)/Y+(W<X)*6:W===C?k=(X-F)/Y+2:k=(F-W)/Y+4,Y/=H<.5?C+J:2-C-J,k*=60):Y=H>0&&H<1?0:k,new N(k,Y,H,I.opacity)}function L(I,F,W,X){return arguments.length===1?R(I):new N(I,F,W,X==null?1:X)}function N(I,F,W,X){this.h=+I,this.s=+F,this.l=+W,this.opacity=+X}(0,v.Z)(N,L,(0,v.l)(m,{brighter:function(F){return F=F==null?u:Math.pow(u,F),new N(this.h,this.s,this.l*F,this.opacity)},darker:function(F){return F=F==null?x:Math.pow(x,F),new N(this.h,this.s,this.l*F,this.opacity)},rgb:function(){var F=this.h%360+(this.h<0)*360,W=isNaN(F)||isNaN(this.s)?0:this.s,X=this.l,J=X+(X<.5?X:1-X)*W,C=2*X-J;return new $(U(F>=240?F-240:F+120,C,J),U(F,C,J),U(F<120?F+240:F-120,C,J),this.opacity)},clamp:function(){return new N(B(this.h),V(this.s),V(this.l),w(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var F=w(this.opacity);return"".concat(F===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(V(this.s)*100,"%, ").concat(V(this.l)*100,"%").concat(F===1?")":", ".concat(F,")"))}}));function B(I){return I=(I||0)%360,I<0?I+360:I}function V(I){return Math.max(0,Math.min(1,I||0))}function U(I,F,W){return(I<60?F+(W-F)*I/60:I<180?W:I<240?F+(W-F)*(240-I)/60:F)*255}},9546:function(se,j,e){"use strict";e.d(j,{Z:function(){return v},l:function(){return m}});function v(x,u,p){x.prototype=u.prototype=p,p.constructor=x}function m(x,u){var p=Object.create(x.prototype);for(var d in u)p[d]=u[d];return p}},87384:function(se,j,e){"use strict";e.d(j,{M:function(){return u},Z:function(){return x}});var v=e(11730),m=e(32896);function x(p,d){return((0,m.v)(d)?m.Z:u)(p,d)}function u(p,d){var h=d?d.length:0,t=p?Math.min(h,p.length):0,c=new Array(t),i=new Array(h),a;for(a=0;a<t;++a)c[a]=(0,v.Z)(p[a],d[a]);for(;a<h;++a)i[a]=d[a];return function(f){for(a=0;a<t;++a)i[a]=c[a](f);return i}}},5312:function(se,j,e){"use strict";e.d(j,{ZP:function(){return d},wx:function(){return u},yi:function(){return p}});var v=e(93816);function m(h,t){return function(c){return h+c*t}}function x(h,t,c){return h=Math.pow(h,c),t=Math.pow(t,c)-h,c=1/c,function(i){return Math.pow(h+i*t,c)}}function u(h,t){var c=t-h;return c?m(h,c>180||c<-180?c-360*Math.round(c/360):c):(0,v.Z)(isNaN(h)?t:h)}function p(h){return(h=+h)==1?d:function(t,c){return c-t?x(t,c,h):(0,v.Z)(isNaN(t)?c:t)}}function d(h,t){var c=t-h;return c?m(h,c):(0,v.Z)(isNaN(h)?t:h)}},93816:function(se,j){"use strict";j.Z=function(e){return function(){return e}}},79848:function(se,j,e){"use strict";e.d(j,{Z:function(){return v}});function v(m,x){return m=+m,x=+x,function(u){return m*(1-u)+x*u}}},32896:function(se,j,e){"use strict";e.d(j,{Z:function(){return v},v:function(){return m}});function v(x,u){u||(u=[]);var p=x?Math.min(u.length,x.length):0,d=u.slice(),h;return function(t){for(h=0;h<p;++h)d[h]=x[h]*(1-t)+u[h]*t;return d}}function m(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}},43867:function(se,j,e){"use strict";e.d(j,{ZP:function(){return d}});var v=e(96683);function m(i,a,f,l,n){var r=i*i,o=r*i;return((1-3*i+3*r-o)*a+(4-6*r+3*o)*f+(1+3*i+3*r-3*o)*l+o*n)/6}function x(i){var a=i.length-1;return function(f){var l=f<=0?f=0:f>=1?(f=1,a-1):Math.floor(f*a),n=i[l],r=i[l+1],o=l>0?i[l-1]:2*n-r,g=l<a-1?i[l+2]:2*r-n;return m((f-l/a)*a,o,n,r,g)}}function u(i){var a=i.length;return function(f){var l=Math.floor(((f%=1)<0?++f:f)*a),n=i[(l+a-1)%a],r=i[l%a],o=i[(l+1)%a],g=i[(l+2)%a];return m((f-l/a)*a,n,r,o,g)}}var p=e(5312),d=function i(a){var f=(0,p.yi)(a);function l(n,r){var o=f((n=(0,v.B8)(n)).r,(r=(0,v.B8)(r)).r),g=f(n.g,r.g),y=f(n.b,r.b),D=(0,p.ZP)(n.opacity,r.opacity);return function(P){return n.r=o(P),n.g=g(P),n.b=y(P),n.opacity=D(P),n+""}}return l.gamma=i,l}(1);function h(i){return function(a){var f=a.length,l=new Array(f),n=new Array(f),r=new Array(f),o,g;for(o=0;o<f;++o)g=(0,v.B8)(a[o]),l[o]=g.r||0,n[o]=g.g||0,r[o]=g.b||0;return l=i(l),n=i(n),r=i(r),g.opacity=1,function(y){return g.r=l(y),g.g=n(y),g.b=r(y),g+""}}}var t=h(x),c=h(u)},20823:function(se,j,e){"use strict";e.d(j,{Z:function(){return d}});var v=e(79848),m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(m.source,"g");function u(h){return function(){return h}}function p(h){return function(t){return h(t)+""}}function d(h,t){var c=m.lastIndex=x.lastIndex=0,i,a,f,l=-1,n=[],r=[];for(h=h+"",t=t+"";(i=m.exec(h))&&(a=x.exec(t));)(f=a.index)>c&&(f=t.slice(c,f),n[l]?n[l]+=f:n[++l]=f),(i=i[0])===(a=a[0])?n[l]?n[l]+=a:n[++l]=a:(n[++l]=null,r.push({i:l,x:(0,v.Z)(i,a)})),c=x.lastIndex;return c<t.length&&(f=t.slice(c),n[l]?n[l]+=f:n[++l]=f),n.length<2?r[0]?p(r[0].x):u(t):(t=r.length,function(o){for(var g=0,y;g<t;++g)n[(y=r[g]).i]=y.x(o);return n.join("")})}},11730:function(se,j,e){"use strict";e.d(j,{Z:function(){return a}});var v=e(52677),m=e(96683),x=e(43867),u=e(87384);function p(f,l){var n=new Date;return f=+f,l=+l,function(r){return n.setTime(f*(1-r)+l*r),n}}var d=e(79848);function h(f,l){var n={},r={},o;(f===null||v(f)!=="object")&&(f={}),(l===null||v(l)!=="object")&&(l={});for(o in l)o in f?n[o]=a(f[o],l[o]):r[o]=l[o];return function(g){for(o in n)r[o]=n[o](g);return r}}var t=e(20823),c=e(93816),i=e(32896);function a(f,l){var n=v(l),r;return l==null||n==="boolean"?(0,c.Z)(l):(n==="number"?d.Z:n==="string"?(r=(0,m.ZP)(l))?(l=r,x.ZP):t.Z:l instanceof m.ZP?x.ZP:l instanceof Date?p:(0,i.v)(l)?i.Z:Array.isArray(l)?u.M:typeof l.valueOf!="function"&&typeof l.toString!="function"||isNaN(l)?h:d.Z)(f,l)}},19799:function(se,j,e){"use strict";e.d(j,{WU:function(){return o},jH:function(){return g}});var v=e(65368);function m(D,P){return function(E,O){for(var T=E.length,S=[],$=0,Z=D[0],K=0;T>0&&Z>0&&(K+Z+1>O&&(Z=Math.max(1,O-K)),S.push(E.substring(T-=Z,T+Z)),!((K+=Z+1)>O));)Z=D[$=($+1)%D.length];return S.reverse().join(P)}}function x(D){return function(P){return P.replace(/[0-9]/g,function(E){return D[+E]})}}var u=e(42035);function p(D){e:for(var P=D.length,E=1,O=-1,T;E<P;++E)switch(D[E]){case".":O=T=E;break;case"0":O===0&&(O=E),T=E;break;default:if(!+D[E])break e;O>0&&(O=0);break}return O>0?D.slice(0,O)+D.slice(T+1):D}var d=e(78613),h;function t(D,P){var E=(0,d.V)(D,P);if(!E)return D+"";var O=E[0],T=E[1],S=T-(h=Math.max(-8,Math.min(8,Math.floor(T/3)))*3)+1,$=O.length;return S===$?O:S>$?O+new Array(S-$+1).join("0"):S>0?O.slice(0,S)+"."+O.slice(S):"0."+new Array(1-S).join("0")+(0,d.V)(D,Math.max(0,P+S-1))[0]}function c(D,P){var E=(0,d.V)(D,P);if(!E)return D+"";var O=E[0],T=E[1];return T<0?"0."+new Array(-T).join("0")+O:O.length>T+1?O.slice(0,T+1)+"."+O.slice(T+1):O+new Array(T-O.length+2).join("0")}var i={"%":(D,P)=>(D*100).toFixed(P),b:D=>Math.round(D).toString(2),c:D=>D+"",d:d.Z,e:(D,P)=>D.toExponential(P),f:(D,P)=>D.toFixed(P),g:(D,P)=>D.toPrecision(P),o:D=>Math.round(D).toString(8),p:(D,P)=>c(D*100,P),r:c,s:t,X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)};function a(D){return D}var f=Array.prototype.map,l=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function n(D){var P=D.grouping===void 0||D.thousands===void 0?a:m(f.call(D.grouping,Number),D.thousands+""),E=D.currency===void 0?"":D.currency[0]+"",O=D.currency===void 0?"":D.currency[1]+"",T=D.decimal===void 0?".":D.decimal+"",S=D.numerals===void 0?a:x(f.call(D.numerals,String)),$=D.percent===void 0?"%":D.percent+"",Z=D.minus===void 0?"\u2212":D.minus+"",K=D.nan===void 0?"NaN":D.nan+"";function z(A){A=(0,u.Z)(A);var M=A.fill,b=A.align,R=A.sign,L=A.symbol,N=A.zero,B=A.width,V=A.comma,U=A.precision,I=A.trim,F=A.type;F==="n"?(V=!0,F="g"):i[F]||(U===void 0&&(U=12),I=!0,F="g"),(N||M==="0"&&b==="=")&&(N=!0,M="0",b="=");var W=L==="$"?E:L==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",X=L==="$"?O:/[%p]/.test(F)?$:"",J=i[F],C=/[defgprs%]/.test(F);U=U===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function k(Y){var H=W,te=X,le,ne,ie;if(F==="c")te=J(Y)+te,Y="";else{Y=+Y;var ee=Y<0||1/Y<0;if(Y=isNaN(Y)?K:J(Math.abs(Y),U),I&&(Y=p(Y)),ee&&+Y==0&&R!=="+"&&(ee=!1),H=(ee?R==="("?R:Z:R==="-"||R==="("?"":R)+H,te=(F==="s"?l[8+h/3]:"")+te+(ee&&R==="("?")":""),C){for(le=-1,ne=Y.length;++le<ne;)if(ie=Y.charCodeAt(le),48>ie||ie>57){te=(ie===46?T+Y.slice(le+1):Y.slice(le))+te,Y=Y.slice(0,le);break}}}V&&!N&&(Y=P(Y,1/0));var fe=H.length+Y.length+te.length,de=fe<B?new Array(B-fe+1).join(M):"";switch(V&&N&&(Y=P(de+Y,de.length?B-te.length:1/0),de=""),b){case"<":Y=H+Y+te+de;break;case"=":Y=H+de+Y+te;break;case"^":Y=de.slice(0,fe=de.length>>1)+H+Y+te+de.slice(fe);break;default:Y=de+H+Y+te;break}return S(Y)}return k.toString=function(){return A+""},k}function w(A,M){var b=z((A=(0,u.Z)(A),A.type="f",A)),R=Math.max(-8,Math.min(8,Math.floor((0,v.Z)(M)/3)))*3,L=Math.pow(10,-R),N=l[8+R/3];return function(B){return b(L*B)+N}}return{format:z,formatPrefix:w}}var r,o,g;y({thousands:",",grouping:[3],currency:["$",""]});function y(D){return r=n(D),o=r.format,g=r.formatPrefix,r}},65368:function(se,j,e){"use strict";e.d(j,{Z:function(){return m}});var v=e(78613);function m(x){return x=(0,v.V)(Math.abs(x)),x?x[1]:NaN}},78613:function(se,j,e){"use strict";e.d(j,{V:function(){return m},Z:function(){return v}});function v(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function m(x,u){if((p=(x=u?x.toExponential(u-1):x.toExponential()).indexOf("e"))<0)return null;var p,d=x.slice(0,p);return[d.length>1?d[0]+d.slice(2):d,+x.slice(p+1)]}},42035:function(se,j,e){"use strict";e.d(j,{Z:function(){return m}});var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m(u){if(!(p=v.exec(u)))throw new Error("invalid format: "+u);var p;return new x({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}m.prototype=x.prototype;function x(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}},39752:function(se,j,e){"use strict";e.d(j,{Z:function(){return a}});var v=2e3,m={s:1,n:0,d:1};function x(r,o){if(isNaN(r=parseInt(r,10)))throw l();return r*o}function u(r,o){if(o===0)throw f();var g=Object.create(a.prototype);g.s=r<0?-1:1,r=r<0?-r:r;var y=i(r,o);return g.n=r/y,g.d=o/y,g}function p(r){for(var o={},g=r,y=2,D=4;D<=g;){for(;g%y===0;)g/=y,o[y]=(o[y]||0)+1;D+=1+2*y++}return g!==r?g>1&&(o[g]=(o[g]||0)+1):o[r]=(o[r]||0)+1,o}var d=function(r,o){var g=0,y=1,D=1,P=0,E=0,O=0,T=1,S=1,$=0,Z=1,K=1,z=1,w=1e7,A;if(r!=null)if(o!==void 0){if(g=r,y=o,D=g*y,g%1!==0||y%1!==0)throw n()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)g=r.n,y=r.d,"s"in r&&(g*=r.s);else if(0 in r)g=r[0],1 in r&&(y=r[1]);else throw l();D=g*y;break}case"number":{if(r<0&&(D=r,r=-r),r%1===0)g=r;else if(r>0){for(r>=1&&(S=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=S);Z<=w&&z<=w;)if(A=($+K)/(Z+z),r===A){Z+z<=w?(g=$+K,y=Z+z):z>Z?(g=K,y=z):(g=$,y=Z);break}else r>A?($+=K,Z+=z):(K+=$,z+=Z),Z>w?(g=K,y=z):(g=$,y=Z);g*=S}else(isNaN(r)||isNaN(o))&&(y=g=NaN);break}case"string":{if(Z=r.match(/\d+|./g),Z===null)throw l();if(Z[$]==="-"?(D=-1,$++):Z[$]==="+"&&$++,Z.length===$+1?E=x(Z[$++],D):Z[$+1]==="."||Z[$]==="."?(Z[$]!=="."&&(P=x(Z[$++],D)),$++,($+1===Z.length||Z[$+1]==="("&&Z[$+3]===")"||Z[$+1]==="'"&&Z[$+3]==="'")&&(E=x(Z[$],D),T=Math.pow(10,Z[$].length),$++),(Z[$]==="("&&Z[$+2]===")"||Z[$]==="'"&&Z[$+2]==="'")&&(O=x(Z[$+1],D),S=Math.pow(10,Z[$+1].length)-1,$+=3)):Z[$+1]==="/"||Z[$+1]===":"?(E=x(Z[$],D),T=x(Z[$+2],1),$+=3):Z[$+3]==="/"&&Z[$+1]===" "&&(P=x(Z[$],D),E=x(Z[$+2],D),T=x(Z[$+4],1),$+=5),Z.length<=$){y=T*S,D=g=O+y*P+S*E;break}}default:throw l()}if(y===0)throw f();m.s=D<0?-1:1,m.n=Math.abs(g),m.d=Math.abs(y)};function h(r,o,g){for(var y=1;o>0;r=r*r%g,o>>=1)o&1&&(y=y*r%g);return y}function t(r,o){for(;o%2===0;o/=2);for(;o%5===0;o/=5);if(o===1)return 0;for(var g=10%o,y=1;g!==1;y++)if(g=g*10%o,y>v)return 0;return y}function c(r,o,g){for(var y=1,D=h(10,g,o),P=0;P<300;P++){if(y===D)return P;y=y*10%o,D=D*10%o}return 0}function i(r,o){if(!r)return o;if(!o)return r;for(;;){if(r%=o,!r)return o;if(o%=r,!o)return r}}function a(r,o){if(d(r,o),this instanceof a)r=i(m.d,m.n),this.s=m.s,this.n=m.n/r,this.d=m.d/r;else return u(m.s*m.n,m.d)}var f=function(){return new Error("Division by Zero")},l=function(){return new Error("Invalid argument")},n=function(){return new Error("Parameters must be integer")};a.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(r,o){return d(r,o),u(this.s*this.n*m.d+m.s*this.d*m.n,this.d*m.d)},sub:function(r,o){return d(r,o),u(this.s*this.n*m.d-m.s*this.d*m.n,this.d*m.d)},mul:function(r,o){return d(r,o),u(this.s*m.s*this.n*m.n,this.d*m.d)},div:function(r,o){return d(r,o),u(this.s*m.s*this.n*m.d,this.d*m.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(r,o){if(isNaN(this.n)||isNaN(this.d))return new a(NaN);if(r===void 0)return u(this.s*this.n%this.d,1);if(d(r,o),m.n===0&&this.d===0)throw f();return u(this.s*(m.d*this.n)%(m.n*this.d),m.d*this.d)},gcd:function(r,o){return d(r,o),u(i(m.n,this.n)*i(m.d,this.d),m.d*this.d)},lcm:function(r,o){return d(r,o),m.n===0&&this.n===0?u(0,1):u(m.n*this.n,i(m.n,this.n)*i(m.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):u(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):u(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):u(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,o){return d(r,o),u(this.s*Math.round(this.n*m.d/(this.d*m.n))*m.n,m.d)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(r,o){if(d(r,o),m.d===1)return m.s<0?u(Math.pow(this.s*this.d,m.n),Math.pow(this.n,m.n)):u(Math.pow(this.s*this.n,m.n),Math.pow(this.d,m.n));if(this.s<0)return null;var g=p(this.n),y=p(this.d),D=1,P=1;for(var E in g)if(E!=="1"){if(E==="0"){D=0;break}if(g[E]*=m.n,g[E]%m.d===0)g[E]/=m.d;else return null;D*=Math.pow(E,g[E])}for(var E in y)if(E!=="1"){if(y[E]*=m.n,y[E]%m.d===0)y[E]/=m.d;else return null;P*=Math.pow(E,y[E])}return m.s<0?u(P,D):u(D,P)},equals:function(r,o){return d(r,o),this.s*this.n*m.d===m.s*m.n*this.d},compare:function(r,o){d(r,o);var g=this.s*this.n*m.d-m.s*m.n*this.d;return(0<g)-(g<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var o=this.abs(),g=o.toContinued(),y=1;y<g.length;y++){for(var D=u(g[y-1],1),P=y-2;P>=0;P--)D=D.inverse().add(g[P]);if(Math.abs(D.sub(o).valueOf())<r)return D.mul(this.s)}return this},divisible:function(r,o){return d(r,o),!(!(m.n*this.d)||this.n*m.d%(m.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var o,g="",y=this.n,D=this.d;return this.s<0&&(g+="-"),D===1?g+=y:(r&&(o=Math.floor(y/D))>0&&(g+=o,g+=" ",y%=D),g+=y,g+="/",g+=D),g},toLatex:function(r){var o,g="",y=this.n,D=this.d;return this.s<0&&(g+="-"),D===1?g+=y:(r&&(o=Math.floor(y/D))>0&&(g+=o,y%=D),g+="\\frac{",g+=y,g+="}{",g+=D,g+="}"),g},toContinued:function(){var r,o=this.n,g=this.d,y=[];if(isNaN(o)||isNaN(g))return y;do y.push(Math.floor(o/g)),r=o%g,o=g,g=r;while(o!==1);return y},toString:function(r){var o=this.n,g=this.d;if(isNaN(o)||isNaN(g))return"NaN";r=r||15;var y=t(o,g),D=c(o,g,y),P=this.s<0?"-":"";if(P+=o/g|0,o%=g,o*=10,o&&(P+="."),y){for(var E=D;E--;)P+=o/g|0,o%=g,o*=10;P+="(";for(var E=y;E--;)P+=o/g|0,o%=g,o*=10;P+=")"}else for(var E=r;o&&E--;)P+=o/g|0,o%=g,o*=10;return P}}},42708:function(se,j,e){"use strict";e.d(j,{YD:function(){return o}});var v=e(67294),m=Object.defineProperty,x=(g,y,D)=>y in g?m(g,y,{enumerable:!0,configurable:!0,writable:!0,value:D}):g[y]=D,u=(g,y,D)=>(x(g,typeof y!="symbol"?y+"":y,D),D),p=new Map,d=new WeakMap,h=0,t=void 0;function c(g){t=g}function i(g){return g?(d.has(g)||(h+=1,d.set(g,h.toString())),d.get(g)):"0"}function a(g){return Object.keys(g).sort().filter(y=>g[y]!==void 0).map(y=>`${y}_${y==="root"?i(g.root):g[y]}`).toString()}function f(g){const y=a(g);let D=p.get(y);if(!D){const P=new Map;let E;const O=new IntersectionObserver(T=>{T.forEach(S=>{var $;const Z=S.isIntersecting&&E.some(K=>S.intersectionRatio>=K);g.trackVisibility&&typeof S.isVisible=="undefined"&&(S.isVisible=Z),($=P.get(S.target))==null||$.forEach(K=>{K(Z,S)})})},g);E=O.thresholds||(Array.isArray(g.threshold)?g.threshold:[g.threshold||0]),D={id:y,observer:O,elements:P},p.set(y,D)}return D}function l(g,y,D={},P=t){if(typeof window.IntersectionObserver=="undefined"&&P!==void 0){const $=g.getBoundingClientRect();return y(P,{isIntersecting:P,target:g,intersectionRatio:typeof D.threshold=="number"?D.threshold:0,time:0,boundingClientRect:$,intersectionRect:$,rootBounds:$}),()=>{}}const{id:E,observer:O,elements:T}=f(D),S=T.get(g)||[];return T.has(g)||T.set(g,S),S.push(y),O.observe(g),function(){S.splice(S.indexOf(y),1),S.length===0&&(T.delete(g),O.unobserve(g)),T.size===0&&(O.disconnect(),p.delete(E))}}function n(g){return typeof g.children!="function"}var r=class extends v.Component{constructor(g){super(g),u(this,"node",null),u(this,"_unobserveCb",null),u(this,"handleNode",y=>{this.node&&(this.unobserve(),!y&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=y||null,this.observeNode()}),u(this,"handleChange",(y,D)=>{y&&this.props.triggerOnce&&this.unobserve(),n(this.props)||this.setState({inView:y,entry:D}),this.props.onChange&&this.props.onChange(y,D)}),this.state={inView:!!g.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(g){(g.rootMargin!==this.props.rootMargin||g.root!==this.props.root||g.threshold!==this.props.threshold||g.skip!==this.props.skip||g.trackVisibility!==this.props.trackVisibility||g.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:g,root:y,rootMargin:D,trackVisibility:P,delay:E,fallbackInView:O}=this.props;this._unobserveCb=l(this.node,this.handleChange,{threshold:g,root:y,rootMargin:D,trackVisibility:P,delay:E},O)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:g}=this.props;if(typeof g=="function"){const{inView:M,entry:b}=this.state;return g({inView:M,entry:b,ref:this.handleNode})}const A=this.props,{as:y,triggerOnce:D,threshold:P,root:E,rootMargin:O,onChange:T,skip:S,trackVisibility:$,delay:Z,initialInView:K,fallbackInView:z}=A,w=Sd(A,["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"]);return v.createElement(y||"div",Qa({ref:this.handleNode},w),g)}};function o({threshold:g,delay:y,trackVisibility:D,rootMargin:P,root:E,triggerOnce:O,skip:T,initialInView:S,fallbackInView:$,onChange:Z}={}){var K;const[z,w]=v.useState(null),A=v.useRef(),[M,b]=v.useState({inView:!!S,entry:void 0});A.current=Z,v.useEffect(()=>{if(T||!z)return;let B;return B=l(z,(V,U)=>{b({inView:V,entry:U}),A.current&&A.current(V,U),U.isIntersecting&&O&&B&&(B(),B=void 0)},{root:E,rootMargin:P,threshold:g,trackVisibility:D,delay:y},$),()=>{B&&B()}},[Array.isArray(g)?g.toString():g,z,E,P,O,T,D,$,y]);const R=(K=M.entry)==null?void 0:K.target,L=v.useRef();!z&&R&&!O&&!T&&L.current!==R&&(L.current=R,b({inView:!!S,entry:void 0}));const N=[w,M.inView,M.entry];return N.ref=N[0],N.inView=N[1],N.entry=N[2],N}},77134:function(se,j,e){"use strict";e.d(j,{Z:function(){return f}});var v=e(67294),m=e(91033),x=l=>{let n=l;for(;n=n.parentElement;){const r=getComputedStyle(n,null).getPropertyValue("overflow-y");if(n===document.body)return window;if(r==="auto"||r==="scroll")return n}return window},u=(l,n)=>{let r=l,o=0;n.firstChild&&n.firstChild.offsetParent!==n&&(o+=l.offsetTop-n.offsetTop,n=l.offsetParent,o+=-l.offsetTop);do o+=r.offsetTop,r=r.offsetParent;while(r&&r!==n);return o},p=l=>{let n=l.parentNode;for(;n&&getComputedStyle(n,null).getPropertyValue("display")==="contents";)n=n.parentNode;return n||window},d=null;typeof CSS!="undefined"&&CSS.supports&&(CSS.supports("position","sticky")?d="sticky":CSS.supports("position","-webkit-sticky")&&(d="-webkit-sticky"));var h=!1;try{t=Object.defineProperty({},"passive",{get(){h={passive:!0}}}),window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(l){}var t,c=(l,{offsetTop:n,offsetBottom:r,bottom:o})=>{const g=x(l);let y=g===window?window.scrollY:g.scrollTop;const D=[];let P,E,O,T,S,$,Z;const K=()=>{if(P==="relative")return E;if(P==="stickyTop")return Math.max(0,$+y-T+n);if(P==="stickyBottom")return Math.max(0,$+y+Z-(T+O+r))},z=U=>{U+$+Z>=T+O+E+r&&w("stickyBottom")},w=U=>{if(P=U,U==="relative")if(l.style.position="relative",o){const I=Math.max(0,S-O-E);l.style.bottom=`${I}px`}else l.style.top=`${E}px`;else l.style.position=d,U==="stickyBottom"?o?l.style.bottom=`${r}px`:l.style.top=`${Z-O-r}px`:o?l.style.bottom=`${Z-O-r}px`:l.style.top=`${n}px`;E=K()},A=()=>{o?P!=="stickyBottom"&&w("stickyBottom"):P!=="stickyTop"&&w("stickyTop")},M=(U,I,F,W)=>{U.addEventListener(I,F,W),D.push(()=>U.removeEventListener(I,F))},b=()=>{const U=g===window?window.scrollY:g.scrollTop;if(U===y)return;if(O+n+r<=Z){A(),y=U;return}const I=U-y;E=K(),I>0?P==="stickyTop"?U+$+n>T&&(U+$+Z<=T+O+E+r?w("relative"):w("stickyBottom")):P==="relative"&&z(U):P==="stickyBottom"?$+U+Z<T+S+r&&($+U+n>=T+E?w("relative"):w("stickyTop")):P==="relative"&&$+U+n<T+E&&w("stickyTop"),y=U},R=()=>{Z=window.innerHeight,$=0,b()},L=()=>{Z=g.offsetHeight,Z===0&&console.warn("react-sticky-box's scroll pane has a height of 0. This seems odd. Please check this node:",g),g.firstChild.offsetParent===g?$=g.getBoundingClientRect().top:$=0,b()},N=()=>{const U=p(l),I=getComputedStyle(U,null),F=parseInt(I.getPropertyValue("padding-top"),10),W=parseInt(I.getPropertyValue("padding-bottom"),10),X=F+W;T=u(U,g)+F+$;const J=S;S=U.getBoundingClientRect().height-X,P==="relative"&&(o?w("relative"):J>S&&z(y)),J!==S&&P==="relative"&&(y=Number.POSITIVE_INFINITY,b())},B=({initial:U}={})=>{const I=O;if(O=l.getBoundingClientRect().height,!U&&I!==O)if(O+n+r<=Z){P=void 0,A();return}else{const F=I-O,W=S-O,X=Math.min(W,K()+(o?F:0));E=Math.max(0,X),(!o||P!=="stickyBottom")&&w("relative")}},V=(U,I)=>{const F=new m.Z(I);F.observe(U),D.push(()=>F.disconnect())};return M(g,"scroll",b,h),M(g,"mousewheel",b,h),g===window?(M(window,"resize",R),R()):(V(g,L),L()),V(p(l),N),N(),V(l,B),B({initial:!0}),A(),()=>D.forEach(U=>U())},i=({offsetTop:l=0,offsetBottom:n=0,bottom:r=!1}={})=>{const[o,g]=(0,v.useState)(null),y=(0,v.useRef)({offsetTop:l,offsetBottom:n,bottom:r});return(0,v.useEffect)(()=>{y.current={offsetTop:l,offsetBottom:n,bottom:r}}),(0,v.useEffect)(()=>{if(o)return c(o,y.current)},[o]),g},a=({offsetTop:l,offsetBottom:n,bottom:r,children:o,className:g,style:y})=>{const D=i({offsetTop:l,offsetBottom:n,bottom:r});return v.createElement("div",{className:g,style:y,ref:D},o)},f=a},17423:function(se,j,e){"use strict";e.d(j,{Z:function(){return t}});const v=c=>typeof c=="object"&&c!=null&&c.nodeType===1,m=(c,i)=>(!i||c!=="hidden")&&c!=="visible"&&c!=="clip",x=(c,i)=>{if(c.clientHeight<c.scrollHeight||c.clientWidth<c.scrollWidth){const a=getComputedStyle(c,null);return m(a.overflowY,i)||m(a.overflowX,i)||(f=>{const l=(n=>{if(!n.ownerDocument||!n.ownerDocument.defaultView)return null;try{return n.ownerDocument.defaultView.frameElement}catch(r){return null}})(f);return!!l&&(l.clientHeight<f.scrollHeight||l.clientWidth<f.scrollWidth)})(c)}return!1},u=(c,i,a,f,l,n,r,o)=>n<c&&r>i||n>c&&r<i?0:n<=c&&o<=a||r>=i&&o>=a?n-c-f:r>i&&o<a||n<c&&o>a?r-i+l:0,p=c=>{const i=c.parentElement;return i==null?c.getRootNode().host||null:i},d=(c,i)=>{var a,f,l,n;if(typeof document=="undefined")return[];const{scrollMode:r,block:o,inline:g,boundary:y,skipOverflowHiddenElements:D}=i,P=typeof y=="function"?y:W=>W!==y;if(!v(c))throw new TypeError("Invalid target");const E=document.scrollingElement||document.documentElement,O=[];let T=c;for(;v(T)&&P(T);){if(T=p(T),T===E){O.push(T);break}T!=null&&T===document.body&&x(T)&&!x(document.documentElement)||T!=null&&x(T,D)&&O.push(T)}const S=(f=(a=window.visualViewport)==null?void 0:a.width)!=null?f:innerWidth,$=(n=(l=window.visualViewport)==null?void 0:l.height)!=null?n:innerHeight,{scrollX:Z,scrollY:K}=window,{height:z,width:w,top:A,right:M,bottom:b,left:R}=c.getBoundingClientRect(),{top:L,right:N,bottom:B,left:V}=(W=>{const X=window.getComputedStyle(W);return{top:parseFloat(X.scrollMarginTop)||0,right:parseFloat(X.scrollMarginRight)||0,bottom:parseFloat(X.scrollMarginBottom)||0,left:parseFloat(X.scrollMarginLeft)||0}})(c);let U=o==="start"||o==="nearest"?A-L:o==="end"?b+B:A+z/2-L+B,I=g==="center"?R+w/2-V+N:g==="end"?M+N:R-V;const F=[];for(let W=0;W<O.length;W++){const X=O[W],{height:J,width:C,top:k,right:Y,bottom:H,left:te}=X.getBoundingClientRect();if(r==="if-needed"&&A>=0&&R>=0&&b<=$&&M<=S&&A>=k&&b<=H&&R>=te&&M<=Y)return F;const le=getComputedStyle(X),ne=parseInt(le.borderLeftWidth,10),ie=parseInt(le.borderTopWidth,10),ee=parseInt(le.borderRightWidth,10),fe=parseInt(le.borderBottomWidth,10);let de=0,ue=0;const Se="offsetWidth"in X?X.offsetWidth-X.clientWidth-ne-ee:0,ae="offsetHeight"in X?X.offsetHeight-X.clientHeight-ie-fe:0,G="offsetWidth"in X?X.offsetWidth===0?0:C/X.offsetWidth:0,re="offsetHeight"in X?X.offsetHeight===0?0:J/X.offsetHeight:0;if(E===X)de=o==="start"?U:o==="end"?U-$:o==="nearest"?u(K,K+$,$,ie,fe,K+U,K+U+z,z):U-$/2,ue=g==="start"?I:g==="center"?I-S/2:g==="end"?I-S:u(Z,Z+S,S,ne,ee,Z+I,Z+I+w,w),de=Math.max(0,de+K),ue=Math.max(0,ue+Z);else{de=o==="start"?U-k-ie:o==="end"?U-H+fe+ae:o==="nearest"?u(k,H,J,ie,fe+ae,U,U+z,z):U-(k+J/2)+ae/2,ue=g==="start"?I-te-ne:g==="center"?I-(te+C/2)+Se/2:g==="end"?I-Y+ee+Se:u(te,Y,C,ne,ee+Se,I,I+w,w);const{scrollLeft:oe,scrollTop:ce}=X;de=re===0?0:Math.max(0,Math.min(ce+de/re,X.scrollHeight-J/re+ae)),ue=G===0?0:Math.max(0,Math.min(oe+ue/G,X.scrollWidth-C/G+Se)),U+=ce-de,I+=oe-ue}F.push({el:X,top:de,left:ue})}return F},h=c=>c===!1?{block:"end",inline:"nearest"}:(i=>i===Object(i)&&Object.keys(i).length!==0)(c)?c:{block:"start",inline:"nearest"};function t(c,i){if(!c.isConnected||!(l=>{let n=l;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(c))return;const a=(l=>{const n=window.getComputedStyle(l);return{top:parseFloat(n.scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0}})(c);if((l=>typeof l=="object"&&typeof l.behavior=="function")(i))return i.behavior(d(c,i));const f=typeof i=="boolean"||i==null?void 0:i.behavior;for(const{el:l,top:n,left:r}of d(c,h(i))){const o=n-a.top+a.bottom,g=r-a.left+a.right;l.scroll({top:o,left:g,behavior:f})}}},27563:function(se,j,e){"use strict";e.d(j,{Ab:function(){return u},Fr:function(){return p},JM:function(){return D},K$:function(){return c},h5:function(){return d},lK:function(){return r}});var v="-ms-",m="-moz-",x="-webkit-",u="comm",p="rule",d="decl",h="@page",t="@media",c="@import",i="@charset",a="@viewport",f="@supports",l="@document",n="@namespace",r="@keyframes",o="@font-face",g="@counter-style",y="@font-feature-values",D="@layer"},38044:function(se,j,e){"use strict";e.d(j,{MY:function(){return w}});var v=e(27563),m=e(26686),x=1,u=1,p=0,d=0,h=0,t="";function c(L,N,B,V,U,I,F,W){return{value:L,root:N,parent:B,type:V,props:U,children:I,line:x,column:u,length:F,return:"",siblings:W}}function i(L,N){return assign(c("",null,null,"",null,null,0,L.siblings),L,{length:-L.length},N)}function a(L){for(;L.root;)L=i(L.root,{children:[L]});append(L,L.siblings)}function f(){return h}function l(){return h=d>0?(0,m.uO)(t,--d):0,u--,h===10&&(u=1,x--),h}function n(){return h=d<p?(0,m.uO)(t,d++):0,u++,h===10&&(u=1,x++),h}function r(){return(0,m.uO)(t,d)}function o(){return d}function g(L,N){return(0,m.tb)(t,L,N)}function y(L){switch(L){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(L){return x=u=1,p=(0,m.to)(t=L),d=0,[]}function P(L){return t="",L}function E(L){return(0,m.fy)(g(d-1,Z(L===91?L+2:L===40?L+1:L)))}function O(L){return P(S(D(L)))}function T(L){for(;(h=r())&&h<33;)n();return y(L)>2||y(h)>3?"":" "}function S(L){for(;n();)switch(y(h)){case 0:append(z(d-1),L);break;case 2:append(E(h),L);break;default:append(from(h),L)}return L}function $(L,N){for(;--N&&n()&&!(h<48||h>102||h>57&&h<65||h>70&&h<97););return g(L,o()+(N<6&&r()==32&&n()==32))}function Z(L){for(;n();)switch(h){case L:return d;case 34:case 39:L!==34&&L!==39&&Z(h);break;case 40:L===41&&Z(L);break;case 92:n();break}return d}function K(L,N){for(;n()&&L+h!==47+10;)if(L+h===42+42&&r()===47)break;return"/*"+g(N,d-1)+"*"+(0,m.Dp)(L===47?L:n())}function z(L){for(;!y(r());)n();return g(L,d)}function w(L){return P(A("",null,null,null,[""],L=D(L),0,[0],L))}function A(L,N,B,V,U,I,F,W,X){for(var J=0,C=0,k=F,Y=0,H=0,te=0,le=1,ne=1,ie=1,ee=0,fe="",de=U,ue=I,Se=V,ae=fe;ne;)switch(te=ee,ee=n()){case 40:if(te!=108&&(0,m.uO)(ae,k-1)==58){(0,m.Cw)(ae+=(0,m.gx)(E(ee),"&","&\f"),"&\f")!=-1&&(ie=-1);break}case 34:case 39:case 91:ae+=E(ee);break;case 9:case 10:case 13:case 32:ae+=T(te);break;case 92:ae+=$(o()-1,7);continue;case 47:switch(r()){case 42:case 47:(0,m.R3)(b(K(n(),o()),N,B,X),X);break;default:ae+="/"}break;case 123*le:W[J++]=(0,m.to)(ae)*ie;case 125*le:case 59:case 0:switch(ee){case 0:case 125:ne=0;case 59+C:ie==-1&&(ae=(0,m.gx)(ae,/\f/g,"")),H>0&&(0,m.to)(ae)-k&&(0,m.R3)(H>32?R(ae+";",V,B,k-1,X):R((0,m.gx)(ae," ","")+";",V,B,k-2,X),X);break;case 59:ae+=";";default:if((0,m.R3)(Se=M(ae,N,B,J,C,U,W,fe,de=[],ue=[],k,I),I),ee===123)if(C===0)A(ae,N,Se,Se,de,I,k,W,ue);else switch(Y===99&&(0,m.uO)(ae,3)===110?100:Y){case 100:case 108:case 109:case 115:A(L,Se,Se,V&&(0,m.R3)(M(L,Se,Se,0,0,U,W,fe,U,de=[],k,ue),ue),U,ue,k,W,V?de:ue);break;default:A(ae,Se,Se,Se,[""],ue,0,W,ue)}}J=C=H=0,le=ie=1,fe=ae="",k=F;break;case 58:k=1+(0,m.to)(ae),H=te;default:if(le<1){if(ee==123)--le;else if(ee==125&&le++==0&&l()==125)continue}switch(ae+=(0,m.Dp)(ee),ee*le){case 38:ie=C>0?1:(ae+="\f",-1);break;case 44:W[J++]=((0,m.to)(ae)-1)*ie,ie=1;break;case 64:r()===45&&(ae+=E(n())),Y=r(),C=k=(0,m.to)(fe=ae+=z(o())),ee++;break;case 45:te===45&&(0,m.to)(ae)==2&&(le=0)}}return I}function M(L,N,B,V,U,I,F,W,X,J,C,k){for(var Y=U-1,H=U===0?I:[""],te=(0,m.Ei)(H),le=0,ne=0,ie=0;le<V;++le)for(var ee=0,fe=(0,m.tb)(L,Y+1,Y=(0,m.Wn)(ne=F[le])),de=L;ee<te;++ee)(de=(0,m.fy)(ne>0?H[ee]+" "+fe:(0,m.gx)(fe,/&\f/g,H[ee])))&&(X[ie++]=de);return c(L,N,B,U===0?v.Fr:W,X,J,C,k)}function b(L,N,B,V){return c(L,N,B,v.Ab,(0,m.Dp)(f()),(0,m.tb)(L,2,-2),0,V)}function R(L,N,B,V,U){return c(L,N,B,v.h5,(0,m.tb)(L,0,V),(0,m.tb)(L,V+1,-1),V,U)}},20211:function(se,j,e){"use strict";e.d(j,{P:function(){return u},q:function(){return x}});var v=e(27563),m=e(26686);function x(p,d){for(var h="",t=0;t<p.length;t++)h+=d(p[t],t,p,d)||"";return h}function u(p,d,h,t){switch(p.type){case v.JM:if(p.children.length)break;case v.K$:case v.h5:return p.return=p.return||p.value;case v.Ab:return"";case v.lK:return p.return=p.value+"{"+x(p.children,t)+"}";case v.Fr:if(!(0,m.to)(p.value=p.props.join(",")))return""}return(0,m.to)(h=x(p.children,t))?p.return=p.value+"{"+h+"}":""}},26686:function(se,j,e){"use strict";e.d(j,{Cw:function(){return t},Dp:function(){return m},Ei:function(){return f},R3:function(){return l},Wn:function(){return v},fy:function(){return p},gx:function(){return h},tb:function(){return i},to:function(){return a},uO:function(){return c}});var v=Math.abs,m=String.fromCharCode,x=Object.assign;function u(o,g){return c(o,0)^45?(((g<<2^c(o,0))<<2^c(o,1))<<2^c(o,2))<<2^c(o,3):0}function p(o){return o.trim()}function d(o,g){return(o=g.exec(o))?o[0]:o}function h(o,g,y){return o.replace(g,y)}function t(o,g){return o.indexOf(g)}function c(o,g){return o.charCodeAt(g)|0}function i(o,g,y){return o.slice(g,y)}function a(o){return o.length}function f(o){return o.length}function l(o,g){return g.push(o),o}function n(o,g){return o.map(g).join("")}function r(o,g){return o.filter(function(y){return!d(y,g)})}},59734:function(se,j,e){"use strict";var v=e(67294),m=e(61688);const x=()=>{},u=x(),p=Object,d=Ue=>Ue===u,h=Ue=>typeof Ue=="function",t=(Ue,je)=>Qa(Qa({},Ue),je),c=Ue=>h(Ue.then),i=new WeakMap;let a=0;const f=Ue=>{const je=typeof Ue,De=Ue&&Ue.constructor,ye=De==Date;let _e,q;if(p(Ue)===Ue&&!ye&&De!=RegExp){if(_e=i.get(Ue),_e)return _e;if(_e=++a+"~",i.set(Ue,_e),De==Array){for(_e="@",q=0;q<Ue.length;q++)_e+=f(Ue[q])+",";i.set(Ue,_e)}if(De==p){_e="#";const pe=p.keys(Ue).sort();for(;!d(q=pe.pop());)d(Ue[q])||(_e+=q+":"+f(Ue[q])+",");i.set(Ue,_e)}}else _e=ye?Ue.toJSON():je=="symbol"?Ue.toString():je=="string"?JSON.stringify(Ue):""+Ue;return _e},l=new WeakMap,n={},r={},o="undefined",g=typeof window!=o,y=typeof document!=o,D=()=>g&&typeof window.requestAnimationFrame!=o,P=(Ue,je)=>{const De=l.get(Ue);return[()=>!d(je)&&Ue.get(je)||n,ye=>{if(!d(je)){const _e=Ue.get(je);je in r||(r[je]=_e),De[5](je,t(_e,ye),_e||n)}},De[6],()=>!d(je)&&je in r?r[je]:!d(je)&&Ue.get(je)||n]};let E=!0;const O=()=>E,[T,S]=g&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[x,x],$=()=>{const Ue=y&&document.visibilityState;return d(Ue)||Ue!=="hidden"},Z=Ue=>(y&&document.addEventListener("visibilitychange",Ue),T("focus",Ue),()=>{y&&document.removeEventListener("visibilitychange",Ue),S("focus",Ue)}),K=Ue=>{const je=()=>{E=!0,Ue()},De=()=>{E=!1};return T("online",je),T("offline",De),()=>{S("online",je),S("offline",De)}},z={isOnline:O,isVisible:$},w={initFocus:Z,initReconnect:K},A=!v.useId,M=!g||"Deno"in window,b=Ue=>D()?window.requestAnimationFrame(Ue):setTimeout(Ue,1),R=M?v.useEffect:v.useLayoutEffect,L=typeof navigator!="undefined"&&navigator.connection,N=!M&&L&&(["slow-2g","2g"].includes(L.effectiveType)||L.saveData),B=Ue=>{if(h(Ue))try{Ue=Ue()}catch(De){Ue=""}const je=Ue;return Ue=typeof Ue=="string"?Ue:(Array.isArray(Ue)?Ue.length:Ue)?f(Ue):"",[Ue,je]};let V=0;const U=()=>++V,I=0,F=1,W=2;var J={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:I,MUTATE_EVENT:W,RECONNECT_EVENT:F};function C(...Ue){return Rl(this,null,function*(){const[je,De,ye,_e]=Ue,q=t({populateCache:!0,throwOnError:!0},typeof _e=="boolean"?{revalidate:_e}:_e||{});let pe=q.populateCache;const Re=q.rollbackOnError;let Oe=q.optimisticData;const $e=q.revalidate!==!1,Ve=Qe=>typeof Re=="function"?Re(Qe):Re!==!1,Ze=q.throwOnError;if(h(De)){const Qe=De,ke=[],ft=je.keys();for(const vt of ft)!/^\$(inf|sub)\$/.test(vt)&&Qe(je.get(vt)._k)&&ke.push(vt);return Promise.all(ke.map(qe))}return qe(De);function qe(Qe){return Rl(this,null,function*(){const[ke]=B(Qe);if(!ke)return;const[ft,vt]=P(je,ke),[_t,Nt,Kt,ut]=l.get(je),Rt=()=>{const Zt=_t[ke];return $e&&(delete Kt[ke],delete ut[ke],Zt&&Zt[0])?Zt[0](W).then(()=>ft().data):ft().data};if(Ue.length<3)return Rt();let Dt=ye,dt;const Bt=U();Nt[ke]=[Bt,0];const He=!d(Oe),ct=ft(),St=ct.data,Tt=ct._c,Mt=d(Tt)?St:Tt;if(He&&(Oe=h(Oe)?Oe(Mt,St):Oe,vt({data:Oe,_c:Mt})),h(Dt))try{Dt=Dt(Mt)}catch(Zt){dt=Zt}if(Dt&&c(Dt))if(Dt=yield Dt.catch(Zt=>{dt=Zt}),Bt!==Nt[ke][0]){if(dt)throw dt;return Dt}else dt&&He&&Ve(dt)&&(pe=!0,vt({data:Mt,_c:u}));if(pe&&!dt)if(h(pe)){const Zt=pe(Dt,Mt);vt({data:Zt,error:u,_c:u})}else vt({data:Dt,error:u,_c:u});if(Nt[ke][1]=U(),Promise.resolve(Rt()).then(()=>{vt({_c:u})}),dt){if(Ze)throw dt;return}return Dt})}})}const k=(Ue,je)=>{for(const De in Ue)Ue[De][0]&&Ue[De][0](je)},Y=(Ue,je)=>{if(!l.has(Ue)){const De=t(w,je),ye={},_e=C.bind(u,Ue);let q=x;const pe={},Re=(Ve,Ze)=>{const qe=pe[Ve]||[];return pe[Ve]=qe,qe.push(Ze),()=>qe.splice(qe.indexOf(Ze),1)},Oe=(Ve,Ze,qe)=>{Ue.set(Ve,Ze);const Qe=pe[Ve];if(Qe)for(const ke of Qe)ke(Ze,qe)},$e=()=>{if(!l.has(Ue)&&(l.set(Ue,[ye,{},{},{},_e,Oe,Re]),!M)){const Ve=De.initFocus(setTimeout.bind(u,k.bind(u,ye,I))),Ze=De.initReconnect(setTimeout.bind(u,k.bind(u,ye,F)));q=()=>{Ve&&Ve(),Ze&&Ze(),l.delete(Ue)}}};return $e(),[Ue,_e,$e,q]}return[Ue,l.get(Ue)[4]]},H=(Ue,je,De,ye,_e)=>{const q=De.errorRetryCount,pe=_e.retryCount,Re=~~((Math.random()+.5)*(1<<(pe<8?pe:8)))*De.errorRetryInterval;!d(q)&&pe>q||setTimeout(ye,Re,_e)},te=(Ue,je)=>f(Ue)==f(je),[le,ne]=Y(new Map),ie=t({onLoadingSlow:x,onSuccess:x,onError:x,onErrorRetry:H,onDiscarded:x,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:N?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:N?5e3:3e3,compare:te,isPaused:()=>!1,cache:le,mutate:ne,fallback:{}},z),ee=(Ue,je)=>{const De=t(Ue,je);if(je){const{use:ye,fallback:_e}=Ue,{use:q,fallback:pe}=je;ye&&q&&(De.use=ye.concat(q)),_e&&pe&&(De.fallback=t(_e,pe))}return De},fe=(0,v.createContext)({}),de=Ue=>{const{value:je}=Ue,De=(0,v.useContext)(fe),ye=h(je),_e=(0,v.useMemo)(()=>ye?je(De):je,[ye,De,je]),q=(0,v.useMemo)(()=>ye?_e:ee(De,_e),[ye,De,_e]),pe=_e&&_e.provider,Re=(0,v.useRef)(u);pe&&!Re.current&&(Re.current=Y(pe(q.cache||le),_e));const Oe=Re.current;return Oe&&(q.cache=Oe[0],q.mutate=Oe[1]),R(()=>{if(Oe)return Oe[2]&&Oe[2](),Oe[3]},[]),(0,v.createElement)(fe.Provider,t(Ue,{value:q}))},ue="$inf$",Se=g&&window.__SWR_DEVTOOLS_USE__,ae=Se?window.__SWR_DEVTOOLS_USE__:[],G=()=>{Se&&(window.__SWR_DEVTOOLS_REACT__=v)},re=Ue=>h(Ue[1])?[Ue[0],Ue[1],Ue[2]||{}]:[Ue[0],null,(Ue[1]===null?Ue[2]:Ue[1])||{}],oe=()=>t(ie,(0,v.useContext)(fe)),ce=(Ue,je)=>{const[De,ye]=B(Ue),[,,,_e]=l.get(le);if(_e[De])return _e[De];const q=je(ye);return _e[De]=q,q},be=Ue=>(je,De,ye)=>Ue(je,De&&((...q)=>{const[pe]=B(je),[,,,Re]=l.get(le);if(pe.startsWith(ue))return De(...q);const Oe=Re[pe];return d(Oe)?De(...q):(delete Re[pe],Oe)}),ye),xe=ae.concat(be),ge=Ue=>function(...De){const ye=oe(),[_e,q,pe]=re(De),Re=ee(ye,pe);let Oe=Ue;const{use:$e}=Re,Ve=($e||[]).concat(xe);for(let Ze=Ve.length;Ze--;)Oe=Ve[Ze](Oe);return Oe(_e,q||Re.fetcher||null,Re)},he=(Ue,je,De)=>{const ye=je[Ue]||(je[Ue]=[]);return ye.push(De),()=>{const _e=ye.indexOf(De);_e>=0&&(ye[_e]=ye[ye.length-1],ye.pop())}},Pe=(Ue,je)=>(...De)=>{const[ye,_e,q]=re(De),pe=(q.use||[]).concat(je);return Ue(ye,_e,Ds(Qa({},q),{use:pe}))};G();const Ae=Ue=>serialize(Ue)[0],Be=v.use||(Ue=>{if(Ue.status==="pending")throw Ue;if(Ue.status==="fulfilled")return Ue.value;throw Ue.status==="rejected"?Ue.reason:(Ue.status="pending",Ue.then(je=>{Ue.status="fulfilled",Ue.value=je},je=>{Ue.status="rejected",Ue.reason=je}),Ue)}),Le={dedupe:!0},Me=(Ue,je,De)=>{const{cache:ye,compare:_e,suspense:q,fallbackData:pe,revalidateOnMount:Re,revalidateIfStale:Oe,refreshInterval:$e,refreshWhenHidden:Ve,refreshWhenOffline:Ze,keepPreviousData:qe}=De,[Qe,ke,ft,vt]=l.get(ye),[_t,Nt]=B(Ue),Kt=(0,v.useRef)(!1),ut=(0,v.useRef)(!1),Rt=(0,v.useRef)(_t),Dt=(0,v.useRef)(je),dt=(0,v.useRef)(De),Bt=()=>dt.current,He=()=>Bt().isVisible()&&Bt().isOnline(),[ct,St,Tt,Mt]=P(ye,_t),Zt=(0,v.useRef)({}).current,Je=d(pe)?De.fallback[_t]:pe,et=(qt,$t)=>{for(const Pn in Zt){const vn=Pn;if(vn==="data"){if(!_e(qt[vn],$t[vn])&&(!d(qt[vn])||!_e(kt,$t[vn])))return!1}else if($t[vn]!==qt[vn])return!1}return!0},rt=(0,v.useMemo)(()=>{const qt=(()=>!_t||!je?!1:d(Re)?Bt().isPaused()||q?!1:d(Oe)?!0:Oe:Re)(),$t=jt=>{const rn=t(jt);return delete rn._k,qt?Qa({isValidating:!0,isLoading:!0},rn):rn},Pn=ct(),vn=Mt(),sn=$t(Pn),Rn=Pn===vn?sn:$t(vn);let un=sn;return[()=>{const jt=$t(ct());return et(jt,un)?(un.data=jt.data,un.isLoading=jt.isLoading,un.isValidating=jt.isValidating,un.error=jt.error,un):(un=jt,jt)},()=>Rn]},[ye,_t]),yt=(0,m.useSyncExternalStore)((0,v.useCallback)(qt=>Tt(_t,($t,Pn)=>{et(Pn,$t)||qt()}),[ye,_t]),rt[0],rt[1]),xt=!Kt.current,Ct=Qe[_t]&&Qe[_t].length>0,mt=yt.data,at=d(mt)?Je:mt,ht=yt.error,ot=(0,v.useRef)(at),kt=qe?d(mt)?ot.current:mt:at,nn=(()=>Ct&&!d(ht)?!1:xt&&!d(Re)?Re:Bt().isPaused()?!1:q?d(at)?!1:Oe:d(at)||Oe)(),Lt=!!(_t&&je&&xt&&nn),hn=d(yt.isValidating)?Lt:yt.isValidating,Dn=d(yt.isLoading)?Lt:yt.isLoading,Gt=(0,v.useCallback)(qt=>Rl(this,null,function*(){const $t=Dt.current;if(!_t||!$t||ut.current||Bt().isPaused())return!1;let Pn,vn,sn=!0;const Rn=qt||{},un=!ft[_t]||!Rn.dedupe,jt=()=>A?!ut.current&&_t===Rt.current&&Kt.current:_t===Rt.current,rn={isValidating:!1,isLoading:!1},An=()=>{St(rn)},En=()=>{const jn=ft[_t];jn&&jn[1]===vn&&delete ft[_t]},gn={isValidating:!0};d(ct().data)&&(gn.isLoading=!0);try{if(un&&(St(gn),De.loadingTimeout&&d(ct().data)&&setTimeout(()=>{sn&&jt()&&Bt().onLoadingSlow(_t,De)},De.loadingTimeout),ft[_t]=[$t(Nt),U()]),[Pn,vn]=ft[_t],Pn=yield Pn,un&&setTimeout(En,De.dedupingInterval),!ft[_t]||ft[_t][1]!==vn)return un&&jt()&&Bt().onDiscarded(_t),!1;rn.error=u;const jn=ke[_t];if(!d(jn)&&(vn<=jn[0]||vn<=jn[1]||jn[1]===0))return An(),un&&jt()&&Bt().onDiscarded(_t),!1;const Yt=ct().data;rn.data=_e(Yt,Pn)?Yt:Pn,un&&jt()&&Bt().onSuccess(Pn,_t,De)}catch(jn){En();const Yt=Bt(),{shouldRetryOnError:gt}=Yt;Yt.isPaused()||(rn.error=jn,un&&jt()&&(Yt.onError(jn,_t,Yt),(gt===!0||h(gt)&&gt(jn))&&He()&&Yt.onErrorRetry(jn,_t,Yt,wt=>{const Vt=Qe[_t];Vt&&Vt[0]&&Vt[0](J.ERROR_REVALIDATE_EVENT,wt)},{retryCount:(Rn.retryCount||0)+1,dedupe:!0})))}return sn=!1,An(),!0}),[_t,ye]),mn=(0,v.useCallback)((...qt)=>C(ye,Rt.current,...qt),[]);if(R(()=>{Dt.current=je,dt.current=De,d(mt)||(ot.current=mt)}),R(()=>{if(!_t)return;const qt=Gt.bind(u,Le);let $t=0;const vn=he(_t,Qe,(sn,Rn={})=>{if(sn==J.FOCUS_EVENT){const un=Date.now();Bt().revalidateOnFocus&&un>$t&&He()&&($t=un+Bt().focusThrottleInterval,qt())}else if(sn==J.RECONNECT_EVENT)Bt().revalidateOnReconnect&&He()&&qt();else{if(sn==J.MUTATE_EVENT)return Gt();if(sn==J.ERROR_REVALIDATE_EVENT)return Gt(Rn)}});return ut.current=!1,Rt.current=_t,Kt.current=!0,St({_k:Nt}),nn&&(d(at)||M?qt():b(qt)),()=>{ut.current=!0,vn()}},[_t]),R(()=>{let qt;function $t(){const vn=h($e)?$e(ct().data):$e;vn&&qt!==-1&&(qt=setTimeout(Pn,vn))}function Pn(){!ct().error&&(Ve||Bt().isVisible())&&(Ze||Bt().isOnline())?Gt(Le).then($t):$t()}return $t(),()=>{qt&&(clearTimeout(qt),qt=-1)}},[$e,Ve,Ze,_t]),(0,v.useDebugValue)(kt),q&&d(at)&&_t){if(!A&&M)throw new Error("Fallback data is required when using suspense in SSR.");Dt.current=je,dt.current=De,ut.current=!1;const qt=vt[_t];if(!d(qt)){const $t=mn(qt);Be($t)}if(d(ht)){const $t=Gt(Le);d(kt)||($t.status="fulfilled",$t.value=!0),Be($t)}else throw ht}return{mutate:mn,get data(){return Zt.data=!0,kt},get error(){return Zt.error=!0,ht},get isValidating(){return Zt.isValidating=!0,hn},get isLoading(){return Zt.isLoading=!0,Dn}}},Te=p.defineProperty(de,"defaultValue",{value:ie}),we=ge(Me)},27856:function(se,j,e){"use strict";e.d(j,{D:function(){return m}});function v(x,u,p){var d=p||{},h=d.noTrailing,t=h===void 0?!1:h,c=d.noLeading,i=c===void 0?!1:c,a=d.debounceMode,f=a===void 0?void 0:a,l,n=!1,r=0;function o(){l&&clearTimeout(l)}function g(D){var P=D||{},E=P.upcomingOnly,O=E===void 0?!1:E;o(),n=!O}function y(){for(var D=arguments.length,P=new Array(D),E=0;E<D;E++)P[E]=arguments[E];var O=this,T=Date.now()-r;if(n)return;function S(){r=Date.now(),u.apply(O,P)}function $(){l=void 0}!i&&f&&!l&&S(),o(),f===void 0&&T>x?i?(r=Date.now(),t||(l=setTimeout(f?$:S,x))):S():t!==!0&&(l=setTimeout(f?$:S,f===void 0?x-T:x))}return y.cancel=g,y}function m(x,u,p){var d=p||{},h=d.atBegin,t=h===void 0?!1:h;return v(x,u,{debounceMode:t!==!1})}},97582:function(se,j,e){"use strict";e.d(j,{CR:function(){return g},Jh:function(){return l},XA:function(){return o},ZT:function(){return m},_T:function(){return u},ev:function(){return P},mG:function(){return f},pi:function(){return x},pr:function(){return D}});var v=function(B,V){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,I){U.__proto__=I}||function(U,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(U[F]=I[F])},v(B,V)};function m(B,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");v(B,V);function U(){this.constructor=B}B.prototype=V===null?Object.create(V):(U.prototype=V.prototype,new U)}var x=function(){return x=Object.assign||function(V){for(var U,I=1,F=arguments.length;I<F;I++){U=arguments[I];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(V[W]=U[W])}return V},x.apply(this,arguments)};function u(B,V){var U={};for(var I in B)Object.prototype.hasOwnProperty.call(B,I)&&V.indexOf(I)<0&&(U[I]=B[I]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var F=0,I=Object.getOwnPropertySymbols(B);F<I.length;F++)V.indexOf(I[F])<0&&Object.prototype.propertyIsEnumerable.call(B,I[F])&&(U[I[F]]=B[I[F]]);return U}function p(B,V,U,I){var F=arguments.length,W=F<3?V:I===null?I=Object.getOwnPropertyDescriptor(V,U):I,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(B,V,U,I);else for(var J=B.length-1;J>=0;J--)(X=B[J])&&(W=(F<3?X(W):F>3?X(V,U,W):X(V,U))||W);return F>3&&W&&Object.defineProperty(V,U,W),W}function d(B,V){return function(U,I){V(U,I,B)}}function h(B,V,U,I,F,W){function X(fe){if(fe!==void 0&&typeof fe!="function")throw new TypeError("Function expected");return fe}for(var J=I.kind,C=J==="getter"?"get":J==="setter"?"set":"value",k=!V&&B?I.static?B:B.prototype:null,Y=V||(k?Object.getOwnPropertyDescriptor(k,I.name):{}),H,te=!1,le=U.length-1;le>=0;le--){var ne={};for(var ie in I)ne[ie]=ie==="access"?{}:I[ie];for(var ie in I.access)ne.access[ie]=I.access[ie];ne.addInitializer=function(fe){if(te)throw new TypeError("Cannot add initializers after decoration has completed");W.push(X(fe||null))};var ee=(0,U[le])(J==="accessor"?{get:Y.get,set:Y.set}:Y[C],ne);if(J==="accessor"){if(ee===void 0)continue;if(ee===null||typeof ee!="object")throw new TypeError("Object expected");(H=X(ee.get))&&(Y.get=H),(H=X(ee.set))&&(Y.set=H),(H=X(ee.init))&&F.unshift(H)}else(H=X(ee))&&(J==="field"?F.unshift(H):Y[C]=H)}k&&Object.defineProperty(k,I.name,Y),te=!0}function t(B,V,U){for(var I=arguments.length>2,F=0;F<V.length;F++)U=I?V[F].call(B,U):V[F].call(B);return I?U:void 0}function c(B){return typeof B=="symbol"?B:"".concat(B)}function i(B,V,U){return typeof V=="symbol"&&(V=V.description?"[".concat(V.description,"]"):""),Object.defineProperty(B,"name",{configurable:!0,value:U?"".concat(U," ",V):V})}function a(B,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(B,V)}function f(B,V,U,I){function F(W){return W instanceof U?W:new U(function(X){X(W)})}return new(U||(U=Promise))(function(W,X){function J(Y){try{k(I.next(Y))}catch(H){X(H)}}function C(Y){try{k(I.throw(Y))}catch(H){X(H)}}function k(Y){Y.done?W(Y.value):F(Y.value).then(J,C)}k((I=I.apply(B,V||[])).next())})}function l(B,V){var U={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},I,F,W,X;return X={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function J(k){return function(Y){return C([k,Y])}}function C(k){if(I)throw new TypeError("Generator is already executing.");for(;X&&(X=0,k[0]&&(U=0)),U;)try{if(I=1,F&&(W=k[0]&2?F.return:k[0]?F.throw||((W=F.return)&&W.call(F),0):F.next)&&!(W=W.call(F,k[1])).done)return W;switch(F=0,W&&(k=[k[0]&2,W.value]),k[0]){case 0:case 1:W=k;break;case 4:return U.label++,{value:k[1],done:!1};case 5:U.label++,F=k[1],k=[0];continue;case 7:k=U.ops.pop(),U.trys.pop();continue;default:if(W=U.trys,!(W=W.length>0&&W[W.length-1])&&(k[0]===6||k[0]===2)){U=0;continue}if(k[0]===3&&(!W||k[1]>W[0]&&k[1]<W[3])){U.label=k[1];break}if(k[0]===6&&U.label<W[1]){U.label=W[1],W=k;break}if(W&&U.label<W[2]){U.label=W[2],U.ops.push(k);break}W[2]&&U.ops.pop(),U.trys.pop();continue}k=V.call(B,U)}catch(Y){k=[6,Y],F=0}finally{I=W=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}var n=Object.create?function(B,V,U,I){I===void 0&&(I=U);var F=Object.getOwnPropertyDescriptor(V,U);(!F||("get"in F?!V.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return V[U]}}),Object.defineProperty(B,I,F)}:function(B,V,U,I){I===void 0&&(I=U),B[I]=V[U]};function r(B,V){for(var U in B)U!=="default"&&!Object.prototype.hasOwnProperty.call(V,U)&&n(V,B,U)}function o(B){var V=typeof Symbol=="function"&&Symbol.iterator,U=V&&B[V],I=0;if(U)return U.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&I>=B.length&&(B=void 0),{value:B&&B[I++],done:!B}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(B,V){var U=typeof Symbol=="function"&&B[Symbol.iterator];if(!U)return B;var I=U.call(B),F,W=[],X;try{for(;(V===void 0||V-- >0)&&!(F=I.next()).done;)W.push(F.value)}catch(J){X={error:J}}finally{try{F&&!F.done&&(U=I.return)&&U.call(I)}finally{if(X)throw X.error}}return W}function y(){for(var B=[],V=0;V<arguments.length;V++)B=B.concat(g(arguments[V]));return B}function D(){for(var B=0,V=0,U=arguments.length;V<U;V++)B+=arguments[V].length;for(var I=Array(B),F=0,V=0;V<U;V++)for(var W=arguments[V],X=0,J=W.length;X<J;X++,F++)I[F]=W[X];return I}function P(B,V,U){if(U||arguments.length===2)for(var I=0,F=V.length,W;I<F;I++)(W||!(I in V))&&(W||(W=Array.prototype.slice.call(V,0,I)),W[I]=V[I]);return B.concat(W||Array.prototype.slice.call(V))}function E(B){return this instanceof E?(this.v=B,this):new E(B)}function O(B,V,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=U.apply(B,V||[]),F,W=[];return F={},X("next"),X("throw"),X("return"),F[Symbol.asyncIterator]=function(){return this},F;function X(te){I[te]&&(F[te]=function(le){return new Promise(function(ne,ie){W.push([te,le,ne,ie])>1||J(te,le)})})}function J(te,le){try{C(I[te](le))}catch(ne){H(W[0][3],ne)}}function C(te){te.value instanceof E?Promise.resolve(te.value.v).then(k,Y):H(W[0][2],te)}function k(te){J("next",te)}function Y(te){J("throw",te)}function H(te,le){te(le),W.shift(),W.length&&J(W[0][0],W[0][1])}}function T(B){var V,U;return V={},I("next"),I("throw",function(F){throw F}),I("return"),V[Symbol.iterator]=function(){return this},V;function I(F,W){V[F]=B[F]?function(X){return(U=!U)?{value:E(B[F](X)),done:!1}:W?W(X):X}:W}}function S(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=B[Symbol.asyncIterator],U;return V?V.call(B):(B=typeof o=="function"?o(B):B[Symbol.iterator](),U={},I("next"),I("throw"),I("return"),U[Symbol.asyncIterator]=function(){return this},U);function I(W){U[W]=B[W]&&function(X){return new Promise(function(J,C){X=B[W](X),F(J,C,X.done,X.value)})}}function F(W,X,J,C){Promise.resolve(C).then(function(k){W({value:k,done:J})},X)}}function $(B,V){return Object.defineProperty?Object.defineProperty(B,"raw",{value:V}):B.raw=V,B}var Z=Object.create?function(B,V){Object.defineProperty(B,"default",{enumerable:!0,value:V})}:function(B,V){B.default=V};function K(B){if(B&&B.__esModule)return B;var V={};if(B!=null)for(var U in B)U!=="default"&&Object.prototype.hasOwnProperty.call(B,U)&&n(V,B,U);return Z(V,B),V}function z(B){return B&&B.__esModule?B:{default:B}}function w(B,V,U,I){if(U==="a"&&!I)throw new TypeError("Private accessor was defined without a getter");if(typeof V=="function"?B!==V||!I:!V.has(B))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?I:U==="a"?I.call(B):I?I.value:V.get(B)}function A(B,V,U,I,F){if(I==="m")throw new TypeError("Private method is not writable");if(I==="a"&&!F)throw new TypeError("Private accessor was defined without a setter");if(typeof V=="function"?B!==V||!F:!V.has(B))throw new TypeError("Cannot write private member to an object whose class did not declare it");return I==="a"?F.call(B,U):F?F.value=U:V.set(B,U),U}function M(B,V){if(V===null||typeof V!="object"&&typeof V!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof B=="function"?V===B:B.has(V)}function b(B,V,U){if(V!=null){if(typeof V!="object"&&typeof V!="function")throw new TypeError("Object expected.");var I;if(U){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");I=V[Symbol.asyncDispose]}if(I===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");I=V[Symbol.dispose]}if(typeof I!="function")throw new TypeError("Object not disposable.");B.stack.push({value:V,dispose:I,async:U})}else U&&B.stack.push({async:!0});return V}var R=typeof SuppressedError=="function"?SuppressedError:function(B,V,U){var I=new Error(U);return I.name="SuppressedError",I.error=B,I.suppressed=V,I};function L(B){function V(I){B.error=B.hasError?new R(I,B.error,"An error was suppressed during disposal."):I,B.hasError=!0}function U(){for(;B.stack.length;){var I=B.stack.pop();try{var F=I.dispose&&I.dispose.call(I.value);if(I.async)return Promise.resolve(F).then(U,function(W){return V(W),U()})}catch(W){V(W)}}if(B.hasError)throw B.error}return U()}var N={__extends:m,__assign:x,__rest:u,__decorate:p,__param:d,__metadata:a,__awaiter:f,__generator:l,__createBinding:n,__exportStar:r,__values:o,__read:g,__spread:y,__spreadArrays:D,__spreadArray:P,__await:E,__asyncGenerator:O,__asyncDelegator:T,__asyncValues:S,__makeTemplateObject:$,__importStar:K,__importDefault:z,__classPrivateFieldGet:w,__classPrivateFieldSet:A,__classPrivateFieldIn:M,__addDisposableResource:b,__disposeResources:L}},44946:function(se){"use strict";se.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},29799:function(se){"use strict";se.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},22562:function(se){"use strict";se.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}}]);
}());