(function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports,require("@nocobase/client"),require("react/jsx-runtime"),require("@ant-design/icons"),require("@nocobase/plugin-workflow/client"),require("@ashley/plugin-workflow-audit/client"),require("react-i18next")):typeof define=="function"&&define.amd?define(["exports","@nocobase/client","react/jsx-runtime","@ant-design/icons","@nocobase/plugin-workflow/client","@ashley/plugin-workflow-audit/client","react-i18next"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e["@ashley/plugin-notification"]={},e["@nocobase/client"],e.jsxRuntime,e["@ant-design/icons"],e["@nocobase/plugin-workflow"],e["@ashley/plugin-workflow-audit"]))})(this,function(e,t,o,d,s,n){"use strict";var p=Object.defineProperty;var g=(e,t,o)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var r=(e,t,o)=>(g(e,typeof t!="symbol"?t+"":t,o),o);var l=(e,t,o)=>new Promise((d,s)=>{var n=i=>{try{c(o.next(i))}catch(u){s(u)}},a=i=>{try{c(o.throw(i))}catch(u){s(u)}},c=i=>i.done?d(i.value):Promise.resolve(i.value).then(n,a);c((o=o.apply(e,t)).next())});const a="@ashley/plugin-notification";class c extends s.Instruction{constructor(){super(...arguments);r(this,"title",`{{t("Message Notification", { ns: "${a}" })}}`);r(this,"type","message");r(this,"group","notification");r(this,"description",`{{t("Could be used to send internal messages to notify users", { ns: "${a}" })}}`);r(this,"icon",o.jsx(d.NotificationOutlined,{}));r(this,"fieldset",{receivers:{type:"array",title:`{{t("Receivers", { ns: "${a}" })}}`,required:!0,"x-decorator":"FormItem","x-component":"AssigneesSelect","x-component-props":{multiple:!0},default:[]},title:{type:"string",required:!0,title:`{{t("Message title", { ns: "${n.NAMESPACE}" })}}`,"x-decorator":"FormItem","x-component":"WorkflowVariableTextArea"},content:{type:"string",title:`{{t("Message content", { ns: "${n.NAMESPACE}" })}}`,"x-decorator":"FormItem","x-component":"WorkflowVariableRichTextArea"},messagePage:{type:"void",title:`{{t("Message page", { ns: "${n.NAMESPACE}" })}}`,"x-decorator":"FormItem","x-decorator-props":{asterisk:!0},"x-component":"CardSchemaConfigButton",required:!0,properties:{configure:{type:"object","x-component":"CardSchemaConfig"}}}});r(this,"components",{CardSchemaConfigButton:n.CardSchemaConfigButton,CardSchemaConfig:n.CardSchemaConfig,AssigneesSelect:n.AssigneesSelect,WorkflowVariableTextArea:s.WorkflowVariableTextArea,WorkflowVariableRichTextArea:s.WorkflowVariableRichTextArea})}isAvailable(){return!0}}class i extends t.Plugin{afterAdd(){return l(this,null,function*(){})}beforeLoad(){return l(this,null,function*(){})}load(){return l(this,null,function*(){this.app.pm.get("workflow").registerInstruction("message",c)})}}e.PluginNotificationClient=i,e.default=i,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
